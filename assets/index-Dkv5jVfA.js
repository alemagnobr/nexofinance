(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ze(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mO={exports:{}},fg={},gO={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ef=Symbol.for("react.element"),gU=Symbol.for("react.portal"),yU=Symbol.for("react.fragment"),vU=Symbol.for("react.strict_mode"),xU=Symbol.for("react.profiler"),_U=Symbol.for("react.provider"),bU=Symbol.for("react.context"),wU=Symbol.for("react.forward_ref"),EU=Symbol.for("react.suspense"),TU=Symbol.for("react.memo"),SU=Symbol.for("react.lazy"),qS=Symbol.iterator;function AU(t){return t===null||typeof t!="object"?null:(t=qS&&t[qS]||t["@@iterator"],typeof t=="function"?t:null)}var yO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vO=Object.assign,xO={};function Xl(t,e,n){this.props=t,this.context=e,this.refs=xO,this.updater=n||yO}Xl.prototype.isReactComponent={};Xl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _O(){}_O.prototype=Xl.prototype;function Ub(t,e,n){this.props=t,this.context=e,this.refs=xO,this.updater=n||yO}var Bb=Ub.prototype=new _O;Bb.constructor=Ub;vO(Bb,Xl.prototype);Bb.isPureReactComponent=!0;var HS=Array.isArray,bO=Object.prototype.hasOwnProperty,Gb={current:null},wO={key:!0,ref:!0,__self:!0,__source:!0};function EO(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)bO.call(e,r)&&!wO.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ef,type:t,key:o,ref:s,props:i,_owner:Gb.current}}function IU(t,e){return{$$typeof:ef,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qb(t){return typeof t=="object"&&t!==null&&t.$$typeof===ef}function CU(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zS=/\/+/g;function uv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CU(""+t.key):e.toString(36)}function Uh(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ef:case gU:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+uv(s,0):r,HS(i)?(n="",t!=null&&(n=t.replace(zS,"$&/")+"/"),Uh(i,e,n,"",function(u){return u})):i!=null&&(qb(i)&&(i=IU(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(zS,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",HS(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+uv(o,a);s+=Uh(o,e,n,l,i)}else if(l=AU(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+uv(o,a++),s+=Uh(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Qf(t,e,n){if(t==null)return t;var r=[],i=0;return Uh(t,r,"","",function(o){return e.call(n,o,i++)}),r}function PU(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var In={current:null},Bh={transition:null},kU={ReactCurrentDispatcher:In,ReactCurrentBatchConfig:Bh,ReactCurrentOwner:Gb};function TO(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:Qf,forEach:function(t,e,n){Qf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qf(t,function(){e++}),e},toArray:function(t){return Qf(t,function(e){return e})||[]},only:function(t){if(!qb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ne.Component=Xl;Ne.Fragment=yU;Ne.Profiler=xU;Ne.PureComponent=Ub;Ne.StrictMode=vU;Ne.Suspense=EU;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kU;Ne.act=TO;Ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=vO({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Gb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)bO.call(e,l)&&!wO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ef,type:t.type,key:i,ref:o,props:r,_owner:s}};Ne.createContext=function(t){return t={$$typeof:bU,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_U,_context:t},t.Consumer=t};Ne.createElement=EO;Ne.createFactory=function(t){var e=EO.bind(null,t);return e.type=t,e};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(t){return{$$typeof:wU,render:t}};Ne.isValidElement=qb;Ne.lazy=function(t){return{$$typeof:SU,_payload:{_status:-1,_result:t},_init:PU}};Ne.memo=function(t,e){return{$$typeof:TU,type:t,compare:e===void 0?null:e}};Ne.startTransition=function(t){var e=Bh.transition;Bh.transition={};try{t()}finally{Bh.transition=e}};Ne.unstable_act=TO;Ne.useCallback=function(t,e){return In.current.useCallback(t,e)};Ne.useContext=function(t){return In.current.useContext(t)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(t){return In.current.useDeferredValue(t)};Ne.useEffect=function(t,e){return In.current.useEffect(t,e)};Ne.useId=function(){return In.current.useId()};Ne.useImperativeHandle=function(t,e,n){return In.current.useImperativeHandle(t,e,n)};Ne.useInsertionEffect=function(t,e){return In.current.useInsertionEffect(t,e)};Ne.useLayoutEffect=function(t,e){return In.current.useLayoutEffect(t,e)};Ne.useMemo=function(t,e){return In.current.useMemo(t,e)};Ne.useReducer=function(t,e,n){return In.current.useReducer(t,e,n)};Ne.useRef=function(t){return In.current.useRef(t)};Ne.useState=function(t){return In.current.useState(t)};Ne.useSyncExternalStore=function(t,e,n){return In.current.useSyncExternalStore(t,e,n)};Ne.useTransition=function(){return In.current.useTransition()};Ne.version="18.3.1";gO.exports=Ne;var V=gO.exports;const $=ze(V);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NU=V,RU=Symbol.for("react.element"),OU=Symbol.for("react.fragment"),MU=Object.prototype.hasOwnProperty,DU=NU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LU={key:!0,ref:!0,__self:!0,__source:!0};function SO(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)MU.call(e,r)&&!LU.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:RU,type:t,key:o,ref:s,props:i,_owner:DU.current}}fg.Fragment=OU;fg.jsx=SO;fg.jsxs=SO;mO.exports=fg;var p=mO.exports,A0={},AO={exports:{}},Jn={},IO={exports:{}},CO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,z){var Y=F.length;F.push(z);e:for(;0<Y;){var ie=Y-1>>>1,Q=F[ie];if(0<i(Q,z))F[ie]=z,F[Y]=Q,Y=ie;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var z=F[0],Y=F.pop();if(Y!==z){F[0]=Y;e:for(var ie=0,Q=F.length,se=Q>>>1;ie<se;){var Pe=2*(ie+1)-1,W=F[Pe],pe=Pe+1,ke=F[pe];if(0>i(W,Y))pe<Q&&0>i(ke,W)?(F[ie]=ke,F[pe]=Y,ie=pe):(F[ie]=W,F[Pe]=Y,ie=Pe);else if(pe<Q&&0>i(ke,Y))F[ie]=ke,F[pe]=Y,ie=pe;else break e}}return z}function i(F,z){var Y=F.sortIndex-z.sortIndex;return Y!==0?Y:F.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,f=3,y=!1,x=!1,_=!1,b=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(F){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=F)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function N(F){if(_=!1,A(F),!x)if(n(l)!==null)x=!0,j(E);else{var z=n(u);z!==null&&q(N,z.startTime-F)}}function E(F,z){x=!1,_&&(_=!1,T(S),S=-1),y=!0;var Y=f;try{for(A(z),d=n(l);d!==null&&(!(d.expirationTime>z)||F&&!O());){var ie=d.callback;if(typeof ie=="function"){d.callback=null,f=d.priorityLevel;var Q=ie(d.expirationTime<=z);z=t.unstable_now(),typeof Q=="function"?d.callback=Q:d===n(l)&&r(l),A(z)}else r(l);d=n(l)}if(d!==null)var se=!0;else{var Pe=n(u);Pe!==null&&q(N,Pe.startTime-z),se=!1}return se}finally{d=null,f=Y,y=!1}}var I=!1,v=null,S=-1,P=5,k=-1;function O(){return!(t.unstable_now()-k<P)}function M(){if(v!==null){var F=t.unstable_now();k=F;var z=!0;try{z=v(!0,F)}finally{z?D():(I=!1,v=null)}}else I=!1}var D;if(typeof w=="function")D=function(){w(M)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,B=U.port2;U.port1.onmessage=M,D=function(){B.postMessage(null)}}else D=function(){b(M,0)};function j(F){v=F,I||(I=!0,D())}function q(F,z){S=b(function(){F(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,j(E))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var Y=f;f=z;try{return F()}finally{f=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=f;f=F;try{return z()}finally{f=Y}},t.unstable_scheduleCallback=function(F,z,Y){var ie=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ie+Y:ie):Y=ie,F){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=Y+Q,F={id:c++,callback:z,priorityLevel:F,startTime:Y,expirationTime:Q,sortIndex:-1},Y>ie?(F.sortIndex=Y,e(u,F),n(l)===null&&F===n(u)&&(_?(T(S),S=-1):_=!0,q(N,Y-ie))):(F.sortIndex=Q,e(l,F),x||y||(x=!0,j(E))),F},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(F){var z=f;return function(){var Y=f;f=z;try{return F.apply(this,arguments)}finally{f=Y}}}})(CO);IO.exports=CO;var $U=IO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jU=V,Yn=$U;function ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PO=new Set,Bc={};function Js(t,e){sl(t,e),sl(t+"Capture",e)}function sl(t,e){for(Bc[t]=e,t=0;t<e.length;t++)PO.add(e[t])}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),I0=Object.prototype.hasOwnProperty,VU=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,WS={},KS={};function FU(t){return I0.call(KS,t)?!0:I0.call(WS,t)?!1:VU.test(t)?KS[t]=!0:(WS[t]=!0,!1)}function UU(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function BU(t,e,n,r){if(e===null||typeof e>"u"||UU(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Cn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xt[t]=new Cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xt[e]=new Cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xt[t]=new Cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xt[t]=new Cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xt[t]=new Cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xt[t]=new Cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xt[t]=new Cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xt[t]=new Cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xt[t]=new Cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hb=/[\-:]([a-z])/g;function zb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hb,zb);Xt[e]=new Cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hb,zb);Xt[e]=new Cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hb,zb);Xt[e]=new Cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xt[t]=new Cn(t,1,!1,t.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new Cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xt[t]=new Cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wb(t,e,n,r){var i=Xt.hasOwnProperty(e)?Xt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(BU(e,n,i,r)&&(n=null),r||i===null?FU(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fi=jU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zf=Symbol.for("react.element"),Ta=Symbol.for("react.portal"),Sa=Symbol.for("react.fragment"),Kb=Symbol.for("react.strict_mode"),C0=Symbol.for("react.profiler"),kO=Symbol.for("react.provider"),NO=Symbol.for("react.context"),Yb=Symbol.for("react.forward_ref"),P0=Symbol.for("react.suspense"),k0=Symbol.for("react.suspense_list"),Jb=Symbol.for("react.memo"),no=Symbol.for("react.lazy"),RO=Symbol.for("react.offscreen"),YS=Symbol.iterator;function Bu(t){return t===null||typeof t!="object"?null:(t=YS&&t[YS]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,cv;function uc(t){if(cv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cv=e&&e[1]||""}return`
`+cv+t}var dv=!1;function fv(t,e){if(!t||dv)return"";dv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{dv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?uc(t):""}function GU(t){switch(t.tag){case 5:return uc(t.type);case 16:return uc("Lazy");case 13:return uc("Suspense");case 19:return uc("SuspenseList");case 0:case 2:case 15:return t=fv(t.type,!1),t;case 11:return t=fv(t.type.render,!1),t;case 1:return t=fv(t.type,!0),t;default:return""}}function N0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Sa:return"Fragment";case Ta:return"Portal";case C0:return"Profiler";case Kb:return"StrictMode";case P0:return"Suspense";case k0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case NO:return(t.displayName||"Context")+".Consumer";case kO:return(t._context.displayName||"Context")+".Provider";case Yb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jb:return e=t.displayName||null,e!==null?e:N0(t.type)||"Memo";case no:e=t._payload,t=t._init;try{return N0(t(e))}catch{}}return null}function qU(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N0(e);case 8:return e===Kb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ro(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HU(t){var e=OO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function eh(t){t._valueTracker||(t._valueTracker=HU(t))}function MO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=OO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function R0(t,e){var n=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function JS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ro(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function DO(t,e){e=e.checked,e!=null&&Wb(t,"checked",e,!1)}function O0(t,e){DO(t,e);var n=Ro(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?M0(t,e.type,n):e.hasOwnProperty("defaultValue")&&M0(t,e.type,Ro(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function XS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function M0(t,e,n){(e!=="number"||dp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cc=Array.isArray;function qa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ro(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function D0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ne(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function QS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ne(92));if(cc(n)){if(1<n.length)throw Error(ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ro(n)}}function LO(t,e){var n=Ro(e.value),r=Ro(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ZS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $O(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function L0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$O(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var th,jO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(th=th||document.createElement("div"),th.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=th.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zU=["Webkit","ms","Moz","O"];Object.keys(bc).forEach(function(t){zU.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bc[e]=bc[t]})});function VO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bc.hasOwnProperty(t)&&bc[t]?(""+e).trim():e+"px"}function FO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=VO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var WU=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $0(t,e){if(e){if(WU[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ne(62))}}function j0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var V0=null;function Xb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var F0=null,Ha=null,za=null;function eA(t){if(t=rf(t)){if(typeof F0!="function")throw Error(ne(280));var e=t.stateNode;e&&(e=yg(e),F0(t.stateNode,t.type,e))}}function UO(t){Ha?za?za.push(t):za=[t]:Ha=t}function BO(){if(Ha){var t=Ha,e=za;if(za=Ha=null,eA(t),e)for(t=0;t<e.length;t++)eA(e[t])}}function GO(t,e){return t(e)}function qO(){}var hv=!1;function HO(t,e,n){if(hv)return t(e,n);hv=!0;try{return GO(t,e,n)}finally{hv=!1,(Ha!==null||za!==null)&&(qO(),BO())}}function qc(t,e){var n=t.stateNode;if(n===null)return null;var r=yg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ne(231,e,typeof n));return n}var U0=!1;if(Ii)try{var Gu={};Object.defineProperty(Gu,"passive",{get:function(){U0=!0}}),window.addEventListener("test",Gu,Gu),window.removeEventListener("test",Gu,Gu)}catch{U0=!1}function KU(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var wc=!1,fp=null,hp=!1,B0=null,YU={onError:function(t){wc=!0,fp=t}};function JU(t,e,n,r,i,o,s,a,l){wc=!1,fp=null,KU.apply(YU,arguments)}function XU(t,e,n,r,i,o,s,a,l){if(JU.apply(this,arguments),wc){if(wc){var u=fp;wc=!1,fp=null}else throw Error(ne(198));hp||(hp=!0,B0=u)}}function Xs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tA(t){if(Xs(t)!==t)throw Error(ne(188))}function QU(t){var e=t.alternate;if(!e){if(e=Xs(t),e===null)throw Error(ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tA(i),t;if(o===r)return tA(i),e;o=o.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?t:e}function WO(t){return t=QU(t),t!==null?KO(t):null}function KO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=KO(t);if(e!==null)return e;t=t.sibling}return null}var YO=Yn.unstable_scheduleCallback,nA=Yn.unstable_cancelCallback,ZU=Yn.unstable_shouldYield,e3=Yn.unstable_requestPaint,Et=Yn.unstable_now,t3=Yn.unstable_getCurrentPriorityLevel,Qb=Yn.unstable_ImmediatePriority,JO=Yn.unstable_UserBlockingPriority,pp=Yn.unstable_NormalPriority,n3=Yn.unstable_LowPriority,XO=Yn.unstable_IdlePriority,hg=null,qr=null;function r3(t){if(qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(hg,t,void 0,(t.current.flags&128)===128)}catch{}}var Ir=Math.clz32?Math.clz32:s3,i3=Math.log,o3=Math.LN2;function s3(t){return t>>>=0,t===0?32:31-(i3(t)/o3|0)|0}var nh=64,rh=4194304;function dc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=dc(a):(o&=s,o!==0&&(r=dc(o)))}else s=n&~i,s!==0?r=dc(s):o!==0&&(r=dc(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ir(e),i=1<<n,r|=t[n],e&=~i;return r}function a3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function l3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Ir(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=a3(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function G0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function QO(){var t=nh;return nh<<=1,!(nh&4194240)&&(nh=64),t}function pv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ir(e),t[e]=n}function u3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ir(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Zb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ir(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var We=0;function ZO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var e2,ew,t2,n2,r2,q0=!1,ih=[],vo=null,xo=null,_o=null,Hc=new Map,zc=new Map,oo=[],c3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rA(t,e){switch(t){case"focusin":case"focusout":vo=null;break;case"dragenter":case"dragleave":xo=null;break;case"mouseover":case"mouseout":_o=null;break;case"pointerover":case"pointerout":Hc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zc.delete(e.pointerId)}}function qu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=rf(e),e!==null&&ew(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function d3(t,e,n,r,i){switch(e){case"focusin":return vo=qu(vo,t,e,n,r,i),!0;case"dragenter":return xo=qu(xo,t,e,n,r,i),!0;case"mouseover":return _o=qu(_o,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Hc.set(o,qu(Hc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,zc.set(o,qu(zc.get(o)||null,t,e,n,r,i)),!0}return!1}function i2(t){var e=ps(t.target);if(e!==null){var n=Xs(e);if(n!==null){if(e=n.tag,e===13){if(e=zO(n),e!==null){t.blockedOn=e,r2(t.priority,function(){t2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=H0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);V0=r,n.target.dispatchEvent(r),V0=null}else return e=rf(n),e!==null&&ew(e),t.blockedOn=n,!1;e.shift()}return!0}function iA(t,e,n){Gh(t)&&n.delete(e)}function f3(){q0=!1,vo!==null&&Gh(vo)&&(vo=null),xo!==null&&Gh(xo)&&(xo=null),_o!==null&&Gh(_o)&&(_o=null),Hc.forEach(iA),zc.forEach(iA)}function Hu(t,e){t.blockedOn===e&&(t.blockedOn=null,q0||(q0=!0,Yn.unstable_scheduleCallback(Yn.unstable_NormalPriority,f3)))}function Wc(t){function e(i){return Hu(i,t)}if(0<ih.length){Hu(ih[0],t);for(var n=1;n<ih.length;n++){var r=ih[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vo!==null&&Hu(vo,t),xo!==null&&Hu(xo,t),_o!==null&&Hu(_o,t),Hc.forEach(e),zc.forEach(e),n=0;n<oo.length;n++)r=oo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<oo.length&&(n=oo[0],n.blockedOn===null);)i2(n),n.blockedOn===null&&oo.shift()}var Wa=Fi.ReactCurrentBatchConfig,gp=!0;function h3(t,e,n,r){var i=We,o=Wa.transition;Wa.transition=null;try{We=1,tw(t,e,n,r)}finally{We=i,Wa.transition=o}}function p3(t,e,n,r){var i=We,o=Wa.transition;Wa.transition=null;try{We=4,tw(t,e,n,r)}finally{We=i,Wa.transition=o}}function tw(t,e,n,r){if(gp){var i=H0(t,e,n,r);if(i===null)Tv(t,e,r,yp,n),rA(t,r);else if(d3(i,t,e,n,r))r.stopPropagation();else if(rA(t,r),e&4&&-1<c3.indexOf(t)){for(;i!==null;){var o=rf(i);if(o!==null&&e2(o),o=H0(t,e,n,r),o===null&&Tv(t,e,r,yp,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Tv(t,e,r,null,n)}}var yp=null;function H0(t,e,n,r){if(yp=null,t=Xb(r),t=ps(t),t!==null)if(e=Xs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yp=t,null}function o2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(t3()){case Qb:return 1;case JO:return 4;case pp:case n3:return 16;case XO:return 536870912;default:return 16}default:return 16}}var fo=null,nw=null,qh=null;function s2(){if(qh)return qh;var t,e=nw,n=e.length,r,i="value"in fo?fo.value:fo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return qh=i.slice(t,1<r?1-r:void 0)}function Hh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function oh(){return!0}function oA(){return!1}function Xn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?oh:oA,this.isPropagationStopped=oA,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=oh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=oh)},persist:function(){},isPersistent:oh}),e}var Ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rw=Xn(Ql),nf=yt({},Ql,{view:0,detail:0}),m3=Xn(nf),mv,gv,zu,pg=yt({},nf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zu&&(zu&&t.type==="mousemove"?(mv=t.screenX-zu.screenX,gv=t.screenY-zu.screenY):gv=mv=0,zu=t),mv)},movementY:function(t){return"movementY"in t?t.movementY:gv}}),sA=Xn(pg),g3=yt({},pg,{dataTransfer:0}),y3=Xn(g3),v3=yt({},nf,{relatedTarget:0}),yv=Xn(v3),x3=yt({},Ql,{animationName:0,elapsedTime:0,pseudoElement:0}),_3=Xn(x3),b3=yt({},Ql,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),w3=Xn(b3),E3=yt({},Ql,{data:0}),aA=Xn(E3),T3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=A3[t])?!!e[t]:!1}function iw(){return I3}var C3=yt({},nf,{key:function(t){if(t.key){var e=T3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?S3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iw,charCode:function(t){return t.type==="keypress"?Hh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),P3=Xn(C3),k3=yt({},pg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lA=Xn(k3),N3=yt({},nf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iw}),R3=Xn(N3),O3=yt({},Ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),M3=Xn(O3),D3=yt({},pg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),L3=Xn(D3),$3=[9,13,27,32],ow=Ii&&"CompositionEvent"in window,Ec=null;Ii&&"documentMode"in document&&(Ec=document.documentMode);var j3=Ii&&"TextEvent"in window&&!Ec,a2=Ii&&(!ow||Ec&&8<Ec&&11>=Ec),uA=" ",cA=!1;function l2(t,e){switch(t){case"keyup":return $3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function u2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Aa=!1;function V3(t,e){switch(t){case"compositionend":return u2(e);case"keypress":return e.which!==32?null:(cA=!0,uA);case"textInput":return t=e.data,t===uA&&cA?null:t;default:return null}}function F3(t,e){if(Aa)return t==="compositionend"||!ow&&l2(t,e)?(t=s2(),qh=nw=fo=null,Aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return a2&&e.locale!=="ko"?null:e.data;default:return null}}var U3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!U3[t.type]:e==="textarea"}function c2(t,e,n,r){UO(r),e=vp(e,"onChange"),0<e.length&&(n=new rw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Tc=null,Kc=null;function B3(t){b2(t,0)}function mg(t){var e=Pa(t);if(MO(e))return t}function G3(t,e){if(t==="change")return e}var d2=!1;if(Ii){var vv;if(Ii){var xv="oninput"in document;if(!xv){var fA=document.createElement("div");fA.setAttribute("oninput","return;"),xv=typeof fA.oninput=="function"}vv=xv}else vv=!1;d2=vv&&(!document.documentMode||9<document.documentMode)}function hA(){Tc&&(Tc.detachEvent("onpropertychange",f2),Kc=Tc=null)}function f2(t){if(t.propertyName==="value"&&mg(Kc)){var e=[];c2(e,Kc,t,Xb(t)),HO(B3,e)}}function q3(t,e,n){t==="focusin"?(hA(),Tc=e,Kc=n,Tc.attachEvent("onpropertychange",f2)):t==="focusout"&&hA()}function H3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mg(Kc)}function z3(t,e){if(t==="click")return mg(e)}function W3(t,e){if(t==="input"||t==="change")return mg(e)}function K3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mr=typeof Object.is=="function"?Object.is:K3;function Yc(t,e){if(Mr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!I0.call(e,i)||!Mr(t[i],e[i]))return!1}return!0}function pA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mA(t,e){var n=pA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pA(n)}}function h2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?h2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function p2(){for(var t=window,e=dp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dp(t.document)}return e}function sw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Y3(t){var e=p2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&h2(n.ownerDocument.documentElement,n)){if(r!==null&&sw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=mA(n,o);var s=mA(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var J3=Ii&&"documentMode"in document&&11>=document.documentMode,Ia=null,z0=null,Sc=null,W0=!1;function gA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;W0||Ia==null||Ia!==dp(r)||(r=Ia,"selectionStart"in r&&sw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sc&&Yc(Sc,r)||(Sc=r,r=vp(z0,"onSelect"),0<r.length&&(e=new rw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ia)))}function sh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ca={animationend:sh("Animation","AnimationEnd"),animationiteration:sh("Animation","AnimationIteration"),animationstart:sh("Animation","AnimationStart"),transitionend:sh("Transition","TransitionEnd")},_v={},m2={};Ii&&(m2=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function gg(t){if(_v[t])return _v[t];if(!Ca[t])return t;var e=Ca[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in m2)return _v[t]=e[n];return t}var g2=gg("animationend"),y2=gg("animationiteration"),v2=gg("animationstart"),x2=gg("transitionend"),_2=new Map,yA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vo(t,e){_2.set(t,e),Js(e,[t])}for(var bv=0;bv<yA.length;bv++){var wv=yA[bv],X3=wv.toLowerCase(),Q3=wv[0].toUpperCase()+wv.slice(1);Vo(X3,"on"+Q3)}Vo(g2,"onAnimationEnd");Vo(y2,"onAnimationIteration");Vo(v2,"onAnimationStart");Vo("dblclick","onDoubleClick");Vo("focusin","onFocus");Vo("focusout","onBlur");Vo(x2,"onTransitionEnd");sl("onMouseEnter",["mouseout","mouseover"]);sl("onMouseLeave",["mouseout","mouseover"]);sl("onPointerEnter",["pointerout","pointerover"]);sl("onPointerLeave",["pointerout","pointerover"]);Js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Js("onBeforeInput",["compositionend","keypress","textInput","paste"]);Js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z3=new Set("cancel close invalid load scroll toggle".split(" ").concat(fc));function vA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,XU(r,e,void 0,t),t.currentTarget=null}function b2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;vA(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;vA(i,a,u),o=l}}}if(hp)throw t=B0,hp=!1,B0=null,t}function ot(t,e){var n=e[Q0];n===void 0&&(n=e[Q0]=new Set);var r=t+"__bubble";n.has(r)||(w2(e,t,2,!1),n.add(r))}function Ev(t,e,n){var r=0;e&&(r|=4),w2(n,t,r,e)}var ah="_reactListening"+Math.random().toString(36).slice(2);function Jc(t){if(!t[ah]){t[ah]=!0,PO.forEach(function(n){n!=="selectionchange"&&(Z3.has(n)||Ev(n,!1,t),Ev(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ah]||(e[ah]=!0,Ev("selectionchange",!1,e))}}function w2(t,e,n,r){switch(o2(e)){case 1:var i=h3;break;case 4:i=p3;break;default:i=tw}n=i.bind(null,e,n,t),i=void 0,!U0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Tv(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ps(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}HO(function(){var u=o,c=Xb(n),d=[];e:{var f=_2.get(t);if(f!==void 0){var y=rw,x=t;switch(t){case"keypress":if(Hh(n)===0)break e;case"keydown":case"keyup":y=P3;break;case"focusin":x="focus",y=yv;break;case"focusout":x="blur",y=yv;break;case"beforeblur":case"afterblur":y=yv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=sA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=y3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=R3;break;case g2:case y2:case v2:y=_3;break;case x2:y=M3;break;case"scroll":y=m3;break;case"wheel":y=L3;break;case"copy":case"cut":case"paste":y=w3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=lA}var _=(e&4)!==0,b=!_&&t==="scroll",T=_?f!==null?f+"Capture":null:f;_=[];for(var w=u,A;w!==null;){A=w;var N=A.stateNode;if(A.tag===5&&N!==null&&(A=N,T!==null&&(N=qc(w,T),N!=null&&_.push(Xc(w,N,A)))),b)break;w=w.return}0<_.length&&(f=new y(f,x,null,n,c),d.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&n!==V0&&(x=n.relatedTarget||n.fromElement)&&(ps(x)||x[Ci]))break e;if((y||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=u,x=x?ps(x):null,x!==null&&(b=Xs(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=u),y!==x)){if(_=sA,N="onMouseLeave",T="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(_=lA,N="onPointerLeave",T="onPointerEnter",w="pointer"),b=y==null?f:Pa(y),A=x==null?f:Pa(x),f=new _(N,w+"leave",y,n,c),f.target=b,f.relatedTarget=A,N=null,ps(c)===u&&(_=new _(T,w+"enter",x,n,c),_.target=A,_.relatedTarget=b,N=_),b=N,y&&x)t:{for(_=y,T=x,w=0,A=_;A;A=ha(A))w++;for(A=0,N=T;N;N=ha(N))A++;for(;0<w-A;)_=ha(_),w--;for(;0<A-w;)T=ha(T),A--;for(;w--;){if(_===T||T!==null&&_===T.alternate)break t;_=ha(_),T=ha(T)}_=null}else _=null;y!==null&&xA(d,f,y,_,!1),x!==null&&b!==null&&xA(d,b,x,_,!0)}}e:{if(f=u?Pa(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var E=G3;else if(dA(f))if(d2)E=W3;else{E=H3;var I=q3}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=z3);if(E&&(E=E(t,u))){c2(d,E,n,c);break e}I&&I(t,f,u),t==="focusout"&&(I=f._wrapperState)&&I.controlled&&f.type==="number"&&M0(f,"number",f.value)}switch(I=u?Pa(u):window,t){case"focusin":(dA(I)||I.contentEditable==="true")&&(Ia=I,z0=u,Sc=null);break;case"focusout":Sc=z0=Ia=null;break;case"mousedown":W0=!0;break;case"contextmenu":case"mouseup":case"dragend":W0=!1,gA(d,n,c);break;case"selectionchange":if(J3)break;case"keydown":case"keyup":gA(d,n,c)}var v;if(ow)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Aa?l2(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(a2&&n.locale!=="ko"&&(Aa||S!=="onCompositionStart"?S==="onCompositionEnd"&&Aa&&(v=s2()):(fo=c,nw="value"in fo?fo.value:fo.textContent,Aa=!0)),I=vp(u,S),0<I.length&&(S=new aA(S,t,null,n,c),d.push({event:S,listeners:I}),v?S.data=v:(v=u2(n),v!==null&&(S.data=v)))),(v=j3?V3(t,n):F3(t,n))&&(u=vp(u,"onBeforeInput"),0<u.length&&(c=new aA("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=v))}b2(d,e)})}function Xc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=qc(t,n),o!=null&&r.unshift(Xc(t,o,i)),o=qc(t,e),o!=null&&r.push(Xc(t,o,i))),t=t.return}return r}function ha(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xA(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=qc(n,o),l!=null&&s.unshift(Xc(n,l,a))):i||(l=qc(n,o),l!=null&&s.push(Xc(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var e5=/\r\n?/g,t5=/\u0000|\uFFFD/g;function _A(t){return(typeof t=="string"?t:""+t).replace(e5,`
`).replace(t5,"")}function lh(t,e,n){if(e=_A(e),_A(t)!==e&&n)throw Error(ne(425))}function xp(){}var K0=null,Y0=null;function J0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var X0=typeof setTimeout=="function"?setTimeout:void 0,n5=typeof clearTimeout=="function"?clearTimeout:void 0,bA=typeof Promise=="function"?Promise:void 0,r5=typeof queueMicrotask=="function"?queueMicrotask:typeof bA<"u"?function(t){return bA.resolve(null).then(t).catch(i5)}:X0;function i5(t){setTimeout(function(){throw t})}function Sv(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Wc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wc(e)}function bo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zl=Math.random().toString(36).slice(2),Ur="__reactFiber$"+Zl,Qc="__reactProps$"+Zl,Ci="__reactContainer$"+Zl,Q0="__reactEvents$"+Zl,o5="__reactListeners$"+Zl,s5="__reactHandles$"+Zl;function ps(t){var e=t[Ur];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ci]||n[Ur]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wA(t);t!==null;){if(n=t[Ur])return n;t=wA(t)}return e}t=n,n=t.parentNode}return null}function rf(t){return t=t[Ur]||t[Ci],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ne(33))}function yg(t){return t[Qc]||null}var Z0=[],ka=-1;function Fo(t){return{current:t}}function ut(t){0>ka||(t.current=Z0[ka],Z0[ka]=null,ka--)}function rt(t,e){ka++,Z0[ka]=t.current,t.current=e}var Oo={},hn=Fo(Oo),On=Fo(!1),Ns=Oo;function al(t,e){var n=t.type.contextTypes;if(!n)return Oo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Mn(t){return t=t.childContextTypes,t!=null}function _p(){ut(On),ut(hn)}function EA(t,e,n){if(hn.current!==Oo)throw Error(ne(168));rt(hn,e),rt(On,n)}function E2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ne(108,qU(t)||"Unknown",i));return yt({},n,r)}function bp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oo,Ns=hn.current,rt(hn,t),rt(On,On.current),!0}function TA(t,e,n){var r=t.stateNode;if(!r)throw Error(ne(169));n?(t=E2(t,e,Ns),r.__reactInternalMemoizedMergedChildContext=t,ut(On),ut(hn),rt(hn,t)):ut(On),rt(On,n)}var di=null,vg=!1,Av=!1;function T2(t){di===null?di=[t]:di.push(t)}function a5(t){vg=!0,T2(t)}function Uo(){if(!Av&&di!==null){Av=!0;var t=0,e=We;try{var n=di;for(We=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}di=null,vg=!1}catch(i){throw di!==null&&(di=di.slice(t+1)),YO(Qb,Uo),i}finally{We=e,Av=!1}}return null}var Na=[],Ra=0,wp=null,Ep=0,tr=[],nr=0,Rs=null,pi=1,mi="";function ss(t,e){Na[Ra++]=Ep,Na[Ra++]=wp,wp=t,Ep=e}function S2(t,e,n){tr[nr++]=pi,tr[nr++]=mi,tr[nr++]=Rs,Rs=t;var r=pi;t=mi;var i=32-Ir(r)-1;r&=~(1<<i),n+=1;var o=32-Ir(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,pi=1<<32-Ir(e)+i|n<<i|r,mi=o+t}else pi=1<<o|n<<i|r,mi=t}function aw(t){t.return!==null&&(ss(t,1),S2(t,1,0))}function lw(t){for(;t===wp;)wp=Na[--Ra],Na[Ra]=null,Ep=Na[--Ra],Na[Ra]=null;for(;t===Rs;)Rs=tr[--nr],tr[nr]=null,mi=tr[--nr],tr[nr]=null,pi=tr[--nr],tr[nr]=null}var zn=null,qn=null,ct=!1,Tr=null;function A2(t,e){var n=ir(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function SA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zn=t,qn=bo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zn=t,qn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Rs!==null?{id:pi,overflow:mi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ir(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,zn=t,qn=null,!0):!1;default:return!1}}function ex(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tx(t){if(ct){var e=qn;if(e){var n=e;if(!SA(t,e)){if(ex(t))throw Error(ne(418));e=bo(n.nextSibling);var r=zn;e&&SA(t,e)?A2(r,n):(t.flags=t.flags&-4097|2,ct=!1,zn=t)}}else{if(ex(t))throw Error(ne(418));t.flags=t.flags&-4097|2,ct=!1,zn=t}}}function AA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zn=t}function uh(t){if(t!==zn)return!1;if(!ct)return AA(t),ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!J0(t.type,t.memoizedProps)),e&&(e=qn)){if(ex(t))throw I2(),Error(ne(418));for(;e;)A2(t,e),e=bo(e.nextSibling)}if(AA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qn=bo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qn=null}}else qn=zn?bo(t.stateNode.nextSibling):null;return!0}function I2(){for(var t=qn;t;)t=bo(t.nextSibling)}function ll(){qn=zn=null,ct=!1}function uw(t){Tr===null?Tr=[t]:Tr.push(t)}var l5=Fi.ReactCurrentBatchConfig;function Wu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,t))}return t}function ch(t,e){throw t=Object.prototype.toString.call(e),Error(ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function IA(t){var e=t._init;return e(t._payload)}function C2(t){function e(T,w){if(t){var A=T.deletions;A===null?(T.deletions=[w],T.flags|=16):A.push(w)}}function n(T,w){if(!t)return null;for(;w!==null;)e(T,w),w=w.sibling;return null}function r(T,w){for(T=new Map;w!==null;)w.key!==null?T.set(w.key,w):T.set(w.index,w),w=w.sibling;return T}function i(T,w){return T=So(T,w),T.index=0,T.sibling=null,T}function o(T,w,A){return T.index=A,t?(A=T.alternate,A!==null?(A=A.index,A<w?(T.flags|=2,w):A):(T.flags|=2,w)):(T.flags|=1048576,w)}function s(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,w,A,N){return w===null||w.tag!==6?(w=Ov(A,T.mode,N),w.return=T,w):(w=i(w,A),w.return=T,w)}function l(T,w,A,N){var E=A.type;return E===Sa?c(T,w,A.props.children,N,A.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===no&&IA(E)===w.type)?(N=i(w,A.props),N.ref=Wu(T,w,A),N.return=T,N):(N=Qh(A.type,A.key,A.props,null,T.mode,N),N.ref=Wu(T,w,A),N.return=T,N)}function u(T,w,A,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==A.containerInfo||w.stateNode.implementation!==A.implementation?(w=Mv(A,T.mode,N),w.return=T,w):(w=i(w,A.children||[]),w.return=T,w)}function c(T,w,A,N,E){return w===null||w.tag!==7?(w=Ss(A,T.mode,N,E),w.return=T,w):(w=i(w,A),w.return=T,w)}function d(T,w,A){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Ov(""+w,T.mode,A),w.return=T,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Zf:return A=Qh(w.type,w.key,w.props,null,T.mode,A),A.ref=Wu(T,null,w),A.return=T,A;case Ta:return w=Mv(w,T.mode,A),w.return=T,w;case no:var N=w._init;return d(T,N(w._payload),A)}if(cc(w)||Bu(w))return w=Ss(w,T.mode,A,null),w.return=T,w;ch(T,w)}return null}function f(T,w,A,N){var E=w!==null?w.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return E!==null?null:a(T,w,""+A,N);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Zf:return A.key===E?l(T,w,A,N):null;case Ta:return A.key===E?u(T,w,A,N):null;case no:return E=A._init,f(T,w,E(A._payload),N)}if(cc(A)||Bu(A))return E!==null?null:c(T,w,A,N,null);ch(T,A)}return null}function y(T,w,A,N,E){if(typeof N=="string"&&N!==""||typeof N=="number")return T=T.get(A)||null,a(w,T,""+N,E);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Zf:return T=T.get(N.key===null?A:N.key)||null,l(w,T,N,E);case Ta:return T=T.get(N.key===null?A:N.key)||null,u(w,T,N,E);case no:var I=N._init;return y(T,w,A,I(N._payload),E)}if(cc(N)||Bu(N))return T=T.get(A)||null,c(w,T,N,E,null);ch(w,N)}return null}function x(T,w,A,N){for(var E=null,I=null,v=w,S=w=0,P=null;v!==null&&S<A.length;S++){v.index>S?(P=v,v=null):P=v.sibling;var k=f(T,v,A[S],N);if(k===null){v===null&&(v=P);break}t&&v&&k.alternate===null&&e(T,v),w=o(k,w,S),I===null?E=k:I.sibling=k,I=k,v=P}if(S===A.length)return n(T,v),ct&&ss(T,S),E;if(v===null){for(;S<A.length;S++)v=d(T,A[S],N),v!==null&&(w=o(v,w,S),I===null?E=v:I.sibling=v,I=v);return ct&&ss(T,S),E}for(v=r(T,v);S<A.length;S++)P=y(v,T,S,A[S],N),P!==null&&(t&&P.alternate!==null&&v.delete(P.key===null?S:P.key),w=o(P,w,S),I===null?E=P:I.sibling=P,I=P);return t&&v.forEach(function(O){return e(T,O)}),ct&&ss(T,S),E}function _(T,w,A,N){var E=Bu(A);if(typeof E!="function")throw Error(ne(150));if(A=E.call(A),A==null)throw Error(ne(151));for(var I=E=null,v=w,S=w=0,P=null,k=A.next();v!==null&&!k.done;S++,k=A.next()){v.index>S?(P=v,v=null):P=v.sibling;var O=f(T,v,k.value,N);if(O===null){v===null&&(v=P);break}t&&v&&O.alternate===null&&e(T,v),w=o(O,w,S),I===null?E=O:I.sibling=O,I=O,v=P}if(k.done)return n(T,v),ct&&ss(T,S),E;if(v===null){for(;!k.done;S++,k=A.next())k=d(T,k.value,N),k!==null&&(w=o(k,w,S),I===null?E=k:I.sibling=k,I=k);return ct&&ss(T,S),E}for(v=r(T,v);!k.done;S++,k=A.next())k=y(v,T,S,k.value,N),k!==null&&(t&&k.alternate!==null&&v.delete(k.key===null?S:k.key),w=o(k,w,S),I===null?E=k:I.sibling=k,I=k);return t&&v.forEach(function(M){return e(T,M)}),ct&&ss(T,S),E}function b(T,w,A,N){if(typeof A=="object"&&A!==null&&A.type===Sa&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Zf:e:{for(var E=A.key,I=w;I!==null;){if(I.key===E){if(E=A.type,E===Sa){if(I.tag===7){n(T,I.sibling),w=i(I,A.props.children),w.return=T,T=w;break e}}else if(I.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===no&&IA(E)===I.type){n(T,I.sibling),w=i(I,A.props),w.ref=Wu(T,I,A),w.return=T,T=w;break e}n(T,I);break}else e(T,I);I=I.sibling}A.type===Sa?(w=Ss(A.props.children,T.mode,N,A.key),w.return=T,T=w):(N=Qh(A.type,A.key,A.props,null,T.mode,N),N.ref=Wu(T,w,A),N.return=T,T=N)}return s(T);case Ta:e:{for(I=A.key;w!==null;){if(w.key===I)if(w.tag===4&&w.stateNode.containerInfo===A.containerInfo&&w.stateNode.implementation===A.implementation){n(T,w.sibling),w=i(w,A.children||[]),w.return=T,T=w;break e}else{n(T,w);break}else e(T,w);w=w.sibling}w=Mv(A,T.mode,N),w.return=T,T=w}return s(T);case no:return I=A._init,b(T,w,I(A._payload),N)}if(cc(A))return x(T,w,A,N);if(Bu(A))return _(T,w,A,N);ch(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,w!==null&&w.tag===6?(n(T,w.sibling),w=i(w,A),w.return=T,T=w):(n(T,w),w=Ov(A,T.mode,N),w.return=T,T=w),s(T)):n(T,w)}return b}var ul=C2(!0),P2=C2(!1),Tp=Fo(null),Sp=null,Oa=null,cw=null;function dw(){cw=Oa=Sp=null}function fw(t){var e=Tp.current;ut(Tp),t._currentValue=e}function nx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ka(t,e){Sp=t,cw=Oa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nn=!0),t.firstContext=null)}function ur(t){var e=t._currentValue;if(cw!==t)if(t={context:t,memoizedValue:e,next:null},Oa===null){if(Sp===null)throw Error(ne(308));Oa=t,Sp.dependencies={lanes:0,firstContext:t}}else Oa=Oa.next=t;return e}var ms=null;function hw(t){ms===null?ms=[t]:ms.push(t)}function k2(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,hw(e)):(n.next=i.next,i.next=n),e.interleaved=n,Pi(t,r)}function Pi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ro=!1;function pw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Pi(t,n)}return i=r.interleaved,i===null?(e.next=e,hw(r)):(e.next=i.next,i.next=e),r.interleaved=e,Pi(t,n)}function zh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zb(t,n)}}function CA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ap(t,e,n,r){var i=t.updateQueue;ro=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var f=a.lane,y=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,_=a;switch(f=e,y=n,_.tag){case 1:if(x=_.payload,typeof x=="function"){d=x.call(y,d,f);break e}d=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=_.payload,f=typeof x=="function"?x.call(y,d,f):x,f==null)break e;d=yt({},d,f);break e;case 2:ro=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else y={eventTime:y,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=y,l=d):c=c.next=y,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ms|=s,t.lanes=s,t.memoizedState=d}}function PA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ne(191,i));i.call(r)}}}var of={},Hr=Fo(of),Zc=Fo(of),ed=Fo(of);function gs(t){if(t===of)throw Error(ne(174));return t}function mw(t,e){switch(rt(ed,e),rt(Zc,t),rt(Hr,of),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:L0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=L0(e,t)}ut(Hr),rt(Hr,e)}function cl(){ut(Hr),ut(Zc),ut(ed)}function R2(t){gs(ed.current);var e=gs(Hr.current),n=L0(e,t.type);e!==n&&(rt(Zc,t),rt(Hr,n))}function gw(t){Zc.current===t&&(ut(Hr),ut(Zc))}var ft=Fo(0);function Ip(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Iv=[];function yw(){for(var t=0;t<Iv.length;t++)Iv[t]._workInProgressVersionPrimary=null;Iv.length=0}var Wh=Fi.ReactCurrentDispatcher,Cv=Fi.ReactCurrentBatchConfig,Os=0,gt=null,Rt=null,Vt=null,Cp=!1,Ac=!1,td=0,u5=0;function nn(){throw Error(ne(321))}function vw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mr(t[n],e[n]))return!1;return!0}function xw(t,e,n,r,i,o){if(Os=o,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wh.current=t===null||t.memoizedState===null?h5:p5,t=n(r,i),Ac){o=0;do{if(Ac=!1,td=0,25<=o)throw Error(ne(301));o+=1,Vt=Rt=null,e.updateQueue=null,Wh.current=m5,t=n(r,i)}while(Ac)}if(Wh.current=Pp,e=Rt!==null&&Rt.next!==null,Os=0,Vt=Rt=gt=null,Cp=!1,e)throw Error(ne(300));return t}function _w(){var t=td!==0;return td=0,t}function Fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?gt.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function cr(){if(Rt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Rt.next;var e=Vt===null?gt.memoizedState:Vt.next;if(e!==null)Vt=e,Rt=t;else{if(t===null)throw Error(ne(310));Rt=t,t={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Vt===null?gt.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function nd(t,e){return typeof e=="function"?e(t):e}function Pv(t){var e=cr(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=Rt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Os&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,gt.lanes|=c,Ms|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Mr(r,e.memoizedState)||(Nn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,gt.lanes|=o,Ms|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function kv(t){var e=cr(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Mr(o,e.memoizedState)||(Nn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function O2(){}function M2(t,e){var n=gt,r=cr(),i=e(),o=!Mr(r.memoizedState,i);if(o&&(r.memoizedState=i,Nn=!0),r=r.queue,bw($2.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Vt!==null&&Vt.memoizedState.tag&1){if(n.flags|=2048,rd(9,L2.bind(null,n,r,i,e),void 0,null),Ut===null)throw Error(ne(349));Os&30||D2(n,e,i)}return i}function D2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function L2(t,e,n,r){e.value=n,e.getSnapshot=r,j2(e)&&V2(t)}function $2(t,e,n){return n(function(){j2(e)&&V2(t)})}function j2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mr(t,n)}catch{return!0}}function V2(t){var e=Pi(t,1);e!==null&&Cr(e,t,1,-1)}function kA(t){var e=Fr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nd,lastRenderedState:t},e.queue=t,t=t.dispatch=f5.bind(null,gt,t),[e.memoizedState,t]}function rd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function F2(){return cr().memoizedState}function Kh(t,e,n,r){var i=Fr();gt.flags|=t,i.memoizedState=rd(1|e,n,void 0,r===void 0?null:r)}function xg(t,e,n,r){var i=cr();r=r===void 0?null:r;var o=void 0;if(Rt!==null){var s=Rt.memoizedState;if(o=s.destroy,r!==null&&vw(r,s.deps)){i.memoizedState=rd(e,n,o,r);return}}gt.flags|=t,i.memoizedState=rd(1|e,n,o,r)}function NA(t,e){return Kh(8390656,8,t,e)}function bw(t,e){return xg(2048,8,t,e)}function U2(t,e){return xg(4,2,t,e)}function B2(t,e){return xg(4,4,t,e)}function G2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function q2(t,e,n){return n=n!=null?n.concat([t]):null,xg(4,4,G2.bind(null,e,t),n)}function ww(){}function H2(t,e){var n=cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function z2(t,e){var n=cr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function W2(t,e,n){return Os&21?(Mr(n,e)||(n=QO(),gt.lanes|=n,Ms|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nn=!0),t.memoizedState=n)}function c5(t,e){var n=We;We=n!==0&&4>n?n:4,t(!0);var r=Cv.transition;Cv.transition={};try{t(!1),e()}finally{We=n,Cv.transition=r}}function K2(){return cr().memoizedState}function d5(t,e,n){var r=To(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Y2(t))J2(e,n);else if(n=k2(t,e,n,r),n!==null){var i=Tn();Cr(n,t,r,i),X2(n,e,r)}}function f5(t,e,n){var r=To(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Y2(t))J2(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Mr(a,s)){var l=e.interleaved;l===null?(i.next=i,hw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=k2(t,e,i,r),n!==null&&(i=Tn(),Cr(n,t,r,i),X2(n,e,r))}}function Y2(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function J2(t,e){Ac=Cp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function X2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zb(t,n)}}var Pp={readContext:ur,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},h5={readContext:ur,useCallback:function(t,e){return Fr().memoizedState=[t,e===void 0?null:e],t},useContext:ur,useEffect:NA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Kh(4194308,4,G2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Kh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Kh(4,2,t,e)},useMemo:function(t,e){var n=Fr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Fr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=d5.bind(null,gt,t),[r.memoizedState,t]},useRef:function(t){var e=Fr();return t={current:t},e.memoizedState=t},useState:kA,useDebugValue:ww,useDeferredValue:function(t){return Fr().memoizedState=t},useTransition:function(){var t=kA(!1),e=t[0];return t=c5.bind(null,t[1]),Fr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=gt,i=Fr();if(ct){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=e(),Ut===null)throw Error(ne(349));Os&30||D2(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,NA($2.bind(null,r,o,t),[t]),r.flags|=2048,rd(9,L2.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Fr(),e=Ut.identifierPrefix;if(ct){var n=mi,r=pi;n=(r&~(1<<32-Ir(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=td++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=u5++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},p5={readContext:ur,useCallback:H2,useContext:ur,useEffect:bw,useImperativeHandle:q2,useInsertionEffect:U2,useLayoutEffect:B2,useMemo:z2,useReducer:Pv,useRef:F2,useState:function(){return Pv(nd)},useDebugValue:ww,useDeferredValue:function(t){var e=cr();return W2(e,Rt.memoizedState,t)},useTransition:function(){var t=Pv(nd)[0],e=cr().memoizedState;return[t,e]},useMutableSource:O2,useSyncExternalStore:M2,useId:K2,unstable_isNewReconciler:!1},m5={readContext:ur,useCallback:H2,useContext:ur,useEffect:bw,useImperativeHandle:q2,useInsertionEffect:U2,useLayoutEffect:B2,useMemo:z2,useReducer:kv,useRef:F2,useState:function(){return kv(nd)},useDebugValue:ww,useDeferredValue:function(t){var e=cr();return Rt===null?e.memoizedState=t:W2(e,Rt.memoizedState,t)},useTransition:function(){var t=kv(nd)[0],e=cr().memoizedState;return[t,e]},useMutableSource:O2,useSyncExternalStore:M2,useId:K2,unstable_isNewReconciler:!1};function _r(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function rx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _g={isMounted:function(t){return(t=t._reactInternals)?Xs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Tn(),i=To(t),o=wi(r,i);o.payload=e,n!=null&&(o.callback=n),e=wo(t,o,i),e!==null&&(Cr(e,t,i,r),zh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Tn(),i=To(t),o=wi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=wo(t,o,i),e!==null&&(Cr(e,t,i,r),zh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Tn(),r=To(t),i=wi(n,r);i.tag=2,e!=null&&(i.callback=e),e=wo(t,i,r),e!==null&&(Cr(e,t,r,n),zh(e,t,r))}};function RA(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Yc(n,r)||!Yc(i,o):!0}function Q2(t,e,n){var r=!1,i=Oo,o=e.contextType;return typeof o=="object"&&o!==null?o=ur(o):(i=Mn(e)?Ns:hn.current,r=e.contextTypes,o=(r=r!=null)?al(t,i):Oo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_g,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function OA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_g.enqueueReplaceState(e,e.state,null)}function ix(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},pw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ur(o):(o=Mn(e)?Ns:hn.current,i.context=al(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(rx(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&_g.enqueueReplaceState(i,i.state,null),Ap(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function dl(t,e){try{var n="",r=e;do n+=GU(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Nv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ox(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var g5=typeof WeakMap=="function"?WeakMap:Map;function Z2(t,e,n){n=wi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Np||(Np=!0,mx=r),ox(t,e)},n}function eM(t,e,n){n=wi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ox(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ox(t,e),typeof r!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function MA(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new g5;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=k5.bind(null,t,e,n),e.then(t,t))}function DA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function LA(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=wi(-1,1),e.tag=2,wo(n,e,1))),n.lanes|=1),t)}var y5=Fi.ReactCurrentOwner,Nn=!1;function _n(t,e,n,r){e.child=t===null?P2(e,null,n,r):ul(e,t.child,n,r)}function $A(t,e,n,r,i){n=n.render;var o=e.ref;return Ka(e,i),r=xw(t,e,n,r,o,i),n=_w(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ki(t,e,i)):(ct&&n&&aw(e),e.flags|=1,_n(t,e,r,i),e.child)}function jA(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!kw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,tM(t,e,o,r,i)):(t=Qh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Yc,n(s,r)&&t.ref===e.ref)return ki(t,e,i)}return e.flags|=1,t=So(o,r),t.ref=e.ref,t.return=e,e.child=t}function tM(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Yc(o,r)&&t.ref===e.ref)if(Nn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Nn=!0);else return e.lanes=t.lanes,ki(t,e,i)}return sx(t,e,n,r,i)}function nM(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Da,Un),Un|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rt(Da,Un),Un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,rt(Da,Un),Un|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,rt(Da,Un),Un|=r;return _n(t,e,i,n),e.child}function rM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function sx(t,e,n,r,i){var o=Mn(n)?Ns:hn.current;return o=al(e,o),Ka(e,i),n=xw(t,e,n,r,o,i),r=_w(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ki(t,e,i)):(ct&&r&&aw(e),e.flags|=1,_n(t,e,n,i),e.child)}function VA(t,e,n,r,i){if(Mn(n)){var o=!0;bp(e)}else o=!1;if(Ka(e,i),e.stateNode===null)Yh(t,e),Q2(e,n,r),ix(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=ur(u):(u=Mn(n)?Ns:hn.current,u=al(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&OA(e,s,r,u),ro=!1;var f=e.memoizedState;s.state=f,Ap(e,r,s,i),l=e.memoizedState,a!==r||f!==l||On.current||ro?(typeof c=="function"&&(rx(e,n,c,r),l=e.memoizedState),(a=ro||RA(e,n,a,r,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,N2(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:_r(e.type,a),s.props=u,d=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=ur(l):(l=Mn(n)?Ns:hn.current,l=al(e,l));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&OA(e,s,r,l),ro=!1,f=e.memoizedState,s.state=f,Ap(e,r,s,i);var x=e.memoizedState;a!==d||f!==x||On.current||ro?(typeof y=="function"&&(rx(e,n,y,r),x=e.memoizedState),(u=ro||RA(e,n,u,r,f,x,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),s.props=r,s.state=x,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ax(t,e,n,r,o,i)}function ax(t,e,n,r,i,o){rM(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&TA(e,n,!1),ki(t,e,o);r=e.stateNode,y5.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ul(e,t.child,null,o),e.child=ul(e,null,a,o)):_n(t,e,a,o),e.memoizedState=r.state,i&&TA(e,n,!0),e.child}function iM(t){var e=t.stateNode;e.pendingContext?EA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&EA(t,e.context,!1),mw(t,e.containerInfo)}function FA(t,e,n,r,i){return ll(),uw(i),e.flags|=256,_n(t,e,n,r),e.child}var lx={dehydrated:null,treeContext:null,retryLane:0};function ux(t){return{baseLanes:t,cachePool:null,transitions:null}}function oM(t,e,n){var r=e.pendingProps,i=ft.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),rt(ft,i&1),t===null)return tx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Eg(s,r,0,null),t=Ss(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=ux(n),e.memoizedState=lx,t):Ew(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return v5(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=So(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=So(a,o):(o=Ss(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?ux(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=lx,r}return o=t.child,t=o.sibling,r=So(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ew(t,e){return e=Eg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function dh(t,e,n,r){return r!==null&&uw(r),ul(e,t.child,null,n),t=Ew(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function v5(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Nv(Error(ne(422))),dh(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Eg({mode:"visible",children:r.children},i,0,null),o=Ss(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ul(e,t.child,null,s),e.child.memoizedState=ux(s),e.memoizedState=lx,o);if(!(e.mode&1))return dh(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ne(419)),r=Nv(o,r,void 0),dh(t,e,s,r)}if(a=(s&t.childLanes)!==0,Nn||a){if(r=Ut,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Pi(t,i),Cr(r,t,i,-1))}return Pw(),r=Nv(Error(ne(421))),dh(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=N5.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,qn=bo(i.nextSibling),zn=e,ct=!0,Tr=null,t!==null&&(tr[nr++]=pi,tr[nr++]=mi,tr[nr++]=Rs,pi=t.id,mi=t.overflow,Rs=e),e=Ew(e,r.children),e.flags|=4096,e)}function UA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),nx(t.return,e,n)}function Rv(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function sM(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(_n(t,e,r.children,n),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&UA(t,n,e);else if(t.tag===19)UA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(rt(ft,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ip(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Rv(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ip(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Rv(e,!0,n,null,o);break;case"together":Rv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Yh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ki(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ms|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ne(153));if(e.child!==null){for(t=e.child,n=So(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=So(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function x5(t,e,n){switch(e.tag){case 3:iM(e),ll();break;case 5:R2(e);break;case 1:Mn(e.type)&&bp(e);break;case 4:mw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;rt(Tp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(rt(ft,ft.current&1),e.flags|=128,null):n&e.child.childLanes?oM(t,e,n):(rt(ft,ft.current&1),t=ki(t,e,n),t!==null?t.sibling:null);rt(ft,ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return sM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,nM(t,e,n)}return ki(t,e,n)}var aM,cx,lM,uM;aM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cx=function(){};lM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,gs(Hr.current);var o=null;switch(n){case"input":i=R0(t,i),r=R0(t,r),o=[];break;case"select":i=yt({},i,{value:void 0}),r=yt({},r,{value:void 0}),o=[];break;case"textarea":i=D0(t,i),r=D0(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xp)}$0(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Bc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Bc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ot("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};uM=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ku(t,e){if(!ct)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function rn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function _5(t,e,n){var r=e.pendingProps;switch(lw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(e),null;case 1:return Mn(e.type)&&_p(),rn(e),null;case 3:return r=e.stateNode,cl(),ut(On),ut(hn),yw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(uh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tr!==null&&(vx(Tr),Tr=null))),cx(t,e),rn(e),null;case 5:gw(e);var i=gs(ed.current);if(n=e.type,t!==null&&e.stateNode!=null)lM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ne(166));return rn(e),null}if(t=gs(Hr.current),uh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Ur]=e,r[Qc]=o,t=(e.mode&1)!==0,n){case"dialog":ot("cancel",r),ot("close",r);break;case"iframe":case"object":case"embed":ot("load",r);break;case"video":case"audio":for(i=0;i<fc.length;i++)ot(fc[i],r);break;case"source":ot("error",r);break;case"img":case"image":case"link":ot("error",r),ot("load",r);break;case"details":ot("toggle",r);break;case"input":JS(r,o),ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ot("invalid",r);break;case"textarea":QS(r,o),ot("invalid",r)}$0(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&lh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&lh(r.textContent,a,t),i=["children",""+a]):Bc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ot("scroll",r)}switch(n){case"input":eh(r),XS(r,o,!0);break;case"textarea":eh(r),ZS(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=xp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$O(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Ur]=e,t[Qc]=r,aM(t,e,!1,!1),e.stateNode=t;e:{switch(s=j0(n,r),n){case"dialog":ot("cancel",t),ot("close",t),i=r;break;case"iframe":case"object":case"embed":ot("load",t),i=r;break;case"video":case"audio":for(i=0;i<fc.length;i++)ot(fc[i],t);i=r;break;case"source":ot("error",t),i=r;break;case"img":case"image":case"link":ot("error",t),ot("load",t),i=r;break;case"details":ot("toggle",t),i=r;break;case"input":JS(t,r),i=R0(t,r),ot("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=yt({},r,{value:void 0}),ot("invalid",t);break;case"textarea":QS(t,r),i=D0(t,r),ot("invalid",t);break;default:i=r}$0(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?FO(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jO(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Gc(t,l):typeof l=="number"&&Gc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Bc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ot("scroll",t):l!=null&&Wb(t,o,l,s))}switch(n){case"input":eh(t),XS(t,r,!1);break;case"textarea":eh(t),ZS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ro(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?qa(t,!!r.multiple,o,!1):r.defaultValue!=null&&qa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rn(e),null;case 6:if(t&&e.stateNode!=null)uM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ne(166));if(n=gs(ed.current),gs(Hr.current),uh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ur]=e,(o=r.nodeValue!==n)&&(t=zn,t!==null))switch(t.tag){case 3:lh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&lh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ur]=e,e.stateNode=r}return rn(e),null;case 13:if(ut(ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ct&&qn!==null&&e.mode&1&&!(e.flags&128))I2(),ll(),e.flags|=98560,o=!1;else if(o=uh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ne(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ne(317));o[Ur]=e}else ll(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rn(e),o=!1}else Tr!==null&&(vx(Tr),Tr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ft.current&1?Ot===0&&(Ot=3):Pw())),e.updateQueue!==null&&(e.flags|=4),rn(e),null);case 4:return cl(),cx(t,e),t===null&&Jc(e.stateNode.containerInfo),rn(e),null;case 10:return fw(e.type._context),rn(e),null;case 17:return Mn(e.type)&&_p(),rn(e),null;case 19:if(ut(ft),o=e.memoizedState,o===null)return rn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ku(o,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ip(t),s!==null){for(e.flags|=128,Ku(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return rt(ft,ft.current&1|2),e.child}t=t.sibling}o.tail!==null&&Et()>fl&&(e.flags|=128,r=!0,Ku(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ip(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ku(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ct)return rn(e),null}else 2*Et()-o.renderingStartTime>fl&&n!==1073741824&&(e.flags|=128,r=!0,Ku(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Et(),e.sibling=null,n=ft.current,rt(ft,r?n&1|2:n&1),e):(rn(e),null);case 22:case 23:return Cw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Un&1073741824&&(rn(e),e.subtreeFlags&6&&(e.flags|=8192)):rn(e),null;case 24:return null;case 25:return null}throw Error(ne(156,e.tag))}function b5(t,e){switch(lw(e),e.tag){case 1:return Mn(e.type)&&_p(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return cl(),ut(On),ut(hn),yw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gw(e),null;case 13:if(ut(ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ne(340));ll()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(ft),null;case 4:return cl(),null;case 10:return fw(e.type._context),null;case 22:case 23:return Cw(),null;case 24:return null;default:return null}}var fh=!1,un=!1,w5=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Ma(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_t(t,e,r)}else n.current=null}function dx(t,e,n){try{n()}catch(r){_t(t,e,r)}}var BA=!1;function E5(t,e){if(K0=gp,t=p2(),sw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var y;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(y=d.firstChild)!==null;)f=d,d=y;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=s),f===o&&++c===r&&(l=s),(y=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Y0={focusedElem:t,selectionRange:n},gp=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var _=x.memoizedProps,b=x.memoizedState,T=e.stateNode,w=T.getSnapshotBeforeUpdate(e.elementType===e.type?_:_r(e.type,_),b);T.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(N){_t(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return x=BA,BA=!1,x}function Ic(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&dx(e,n,o)}i=i.next}while(i!==r)}}function bg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fx(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cM(t){var e=t.alternate;e!==null&&(t.alternate=null,cM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ur],delete e[Qc],delete e[Q0],delete e[o5],delete e[s5])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dM(t){return t.tag===5||t.tag===3||t.tag===4}function GA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xp));else if(r!==4&&(t=t.child,t!==null))for(hx(t,e,n),t=t.sibling;t!==null;)hx(t,e,n),t=t.sibling}function px(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(px(t,e,n),t=t.sibling;t!==null;)px(t,e,n),t=t.sibling}var zt=null,br=!1;function Zi(t,e,n){for(n=n.child;n!==null;)fM(t,e,n),n=n.sibling}function fM(t,e,n){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(hg,n)}catch{}switch(n.tag){case 5:un||Ma(n,e);case 6:var r=zt,i=br;zt=null,Zi(t,e,n),zt=r,br=i,zt!==null&&(br?(t=zt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):zt.removeChild(n.stateNode));break;case 18:zt!==null&&(br?(t=zt,n=n.stateNode,t.nodeType===8?Sv(t.parentNode,n):t.nodeType===1&&Sv(t,n),Wc(t)):Sv(zt,n.stateNode));break;case 4:r=zt,i=br,zt=n.stateNode.containerInfo,br=!0,Zi(t,e,n),zt=r,br=i;break;case 0:case 11:case 14:case 15:if(!un&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&dx(n,e,s),i=i.next}while(i!==r)}Zi(t,e,n);break;case 1:if(!un&&(Ma(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_t(n,e,a)}Zi(t,e,n);break;case 21:Zi(t,e,n);break;case 22:n.mode&1?(un=(r=un)||n.memoizedState!==null,Zi(t,e,n),un=r):Zi(t,e,n);break;default:Zi(t,e,n)}}function qA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new w5),e.forEach(function(r){var i=R5.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:zt=a.stateNode,br=!1;break e;case 3:zt=a.stateNode.containerInfo,br=!0;break e;case 4:zt=a.stateNode.containerInfo,br=!0;break e}a=a.return}if(zt===null)throw Error(ne(160));fM(o,s,i),zt=null,br=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){_t(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hM(e,t),e=e.sibling}function hM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vr(e,t),Vr(t),r&4){try{Ic(3,t,t.return),bg(3,t)}catch(_){_t(t,t.return,_)}try{Ic(5,t,t.return)}catch(_){_t(t,t.return,_)}}break;case 1:vr(e,t),Vr(t),r&512&&n!==null&&Ma(n,n.return);break;case 5:if(vr(e,t),Vr(t),r&512&&n!==null&&Ma(n,n.return),t.flags&32){var i=t.stateNode;try{Gc(i,"")}catch(_){_t(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&DO(i,o),j0(a,s);var u=j0(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?FO(i,d):c==="dangerouslySetInnerHTML"?jO(i,d):c==="children"?Gc(i,d):Wb(i,c,d,u)}switch(a){case"input":O0(i,o);break;case"textarea":LO(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?qa(i,!!o.multiple,y,!1):f!==!!o.multiple&&(o.defaultValue!=null?qa(i,!!o.multiple,o.defaultValue,!0):qa(i,!!o.multiple,o.multiple?[]:"",!1))}i[Qc]=o}catch(_){_t(t,t.return,_)}}break;case 6:if(vr(e,t),Vr(t),r&4){if(t.stateNode===null)throw Error(ne(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(_){_t(t,t.return,_)}}break;case 3:if(vr(e,t),Vr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wc(e.containerInfo)}catch(_){_t(t,t.return,_)}break;case 4:vr(e,t),Vr(t);break;case 13:vr(e,t),Vr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Aw=Et())),r&4&&qA(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(un=(u=un)||c,vr(e,t),un=u):vr(e,t),Vr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ue=t,c=t.child;c!==null;){for(d=ue=c;ue!==null;){switch(f=ue,y=f.child,f.tag){case 0:case 11:case 14:case 15:Ic(4,f,f.return);break;case 1:Ma(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(_){_t(r,n,_)}}break;case 5:Ma(f,f.return);break;case 22:if(f.memoizedState!==null){zA(d);continue}}y!==null?(y.return=f,ue=y):zA(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=VO("display",s))}catch(_){_t(t,t.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){_t(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vr(e,t),Vr(t),r&4&&qA(t);break;case 21:break;default:vr(e,t),Vr(t)}}function Vr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dM(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Gc(i,""),r.flags&=-33);var o=GA(t);px(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=GA(t);hx(t,a,s);break;default:throw Error(ne(161))}}catch(l){_t(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function T5(t,e,n){ue=t,pM(t)}function pM(t,e,n){for(var r=(t.mode&1)!==0;ue!==null;){var i=ue,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||fh;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||un;a=fh;var u=un;if(fh=s,(un=l)&&!u)for(ue=i;ue!==null;)s=ue,l=s.child,s.tag===22&&s.memoizedState!==null?WA(i):l!==null?(l.return=s,ue=l):WA(i);for(;o!==null;)ue=o,pM(o),o=o.sibling;ue=i,fh=a,un=u}HA(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ue=o):HA(t)}}function HA(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:un||bg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!un)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:_r(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&PA(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}PA(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Wc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}un||e.flags&512&&fx(e)}catch(f){_t(e,e.return,f)}}if(e===t){ue=null;break}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}}function zA(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ue=n;break}ue=e.return}}function WA(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{bg(4,e)}catch(l){_t(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){_t(e,i,l)}}var o=e.return;try{fx(e)}catch(l){_t(e,o,l)}break;case 5:var s=e.return;try{fx(e)}catch(l){_t(e,s,l)}}}catch(l){_t(e,e.return,l)}if(e===t){ue=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ue=a;break}ue=e.return}}var S5=Math.ceil,kp=Fi.ReactCurrentDispatcher,Tw=Fi.ReactCurrentOwner,sr=Fi.ReactCurrentBatchConfig,Le=0,Ut=null,It=null,Yt=0,Un=0,Da=Fo(0),Ot=0,id=null,Ms=0,wg=0,Sw=0,Cc=null,Pn=null,Aw=0,fl=1/0,ui=null,Np=!1,mx=null,Eo=null,hh=!1,ho=null,Rp=0,Pc=0,gx=null,Jh=-1,Xh=0;function Tn(){return Le&6?Et():Jh!==-1?Jh:Jh=Et()}function To(t){return t.mode&1?Le&2&&Yt!==0?Yt&-Yt:l5.transition!==null?(Xh===0&&(Xh=QO()),Xh):(t=We,t!==0||(t=window.event,t=t===void 0?16:o2(t.type)),t):1}function Cr(t,e,n,r){if(50<Pc)throw Pc=0,gx=null,Error(ne(185));tf(t,n,r),(!(Le&2)||t!==Ut)&&(t===Ut&&(!(Le&2)&&(wg|=n),Ot===4&&so(t,Yt)),Dn(t,r),n===1&&Le===0&&!(e.mode&1)&&(fl=Et()+500,vg&&Uo()))}function Dn(t,e){var n=t.callbackNode;l3(t,e);var r=mp(t,t===Ut?Yt:0);if(r===0)n!==null&&nA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&nA(n),e===1)t.tag===0?a5(KA.bind(null,t)):T2(KA.bind(null,t)),r5(function(){!(Le&6)&&Uo()}),n=null;else{switch(ZO(r)){case 1:n=Qb;break;case 4:n=JO;break;case 16:n=pp;break;case 536870912:n=XO;break;default:n=pp}n=wM(n,mM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mM(t,e){if(Jh=-1,Xh=0,Le&6)throw Error(ne(327));var n=t.callbackNode;if(Ya()&&t.callbackNode!==n)return null;var r=mp(t,t===Ut?Yt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Op(t,r);else{e=r;var i=Le;Le|=2;var o=yM();(Ut!==t||Yt!==e)&&(ui=null,fl=Et()+500,Ts(t,e));do try{C5();break}catch(a){gM(t,a)}while(!0);dw(),kp.current=o,Le=i,It!==null?e=0:(Ut=null,Yt=0,e=Ot)}if(e!==0){if(e===2&&(i=G0(t),i!==0&&(r=i,e=yx(t,i))),e===1)throw n=id,Ts(t,0),so(t,r),Dn(t,Et()),n;if(e===6)so(t,r);else{if(i=t.current.alternate,!(r&30)&&!A5(i)&&(e=Op(t,r),e===2&&(o=G0(t),o!==0&&(r=o,e=yx(t,o))),e===1))throw n=id,Ts(t,0),so(t,r),Dn(t,Et()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ne(345));case 2:as(t,Pn,ui);break;case 3:if(so(t,r),(r&130023424)===r&&(e=Aw+500-Et(),10<e)){if(mp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Tn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=X0(as.bind(null,t,Pn,ui),e);break}as(t,Pn,ui);break;case 4:if(so(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Ir(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*S5(r/1960))-r,10<r){t.timeoutHandle=X0(as.bind(null,t,Pn,ui),r);break}as(t,Pn,ui);break;case 5:as(t,Pn,ui);break;default:throw Error(ne(329))}}}return Dn(t,Et()),t.callbackNode===n?mM.bind(null,t):null}function yx(t,e){var n=Cc;return t.current.memoizedState.isDehydrated&&(Ts(t,e).flags|=256),t=Op(t,e),t!==2&&(e=Pn,Pn=n,e!==null&&vx(e)),t}function vx(t){Pn===null?Pn=t:Pn.push.apply(Pn,t)}function A5(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Mr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function so(t,e){for(e&=~Sw,e&=~wg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ir(e),r=1<<n;t[n]=-1,e&=~r}}function KA(t){if(Le&6)throw Error(ne(327));Ya();var e=mp(t,0);if(!(e&1))return Dn(t,Et()),null;var n=Op(t,e);if(t.tag!==0&&n===2){var r=G0(t);r!==0&&(e=r,n=yx(t,r))}if(n===1)throw n=id,Ts(t,0),so(t,e),Dn(t,Et()),n;if(n===6)throw Error(ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,as(t,Pn,ui),Dn(t,Et()),null}function Iw(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(fl=Et()+500,vg&&Uo())}}function Ds(t){ho!==null&&ho.tag===0&&!(Le&6)&&Ya();var e=Le;Le|=1;var n=sr.transition,r=We;try{if(sr.transition=null,We=1,t)return t()}finally{We=r,sr.transition=n,Le=e,!(Le&6)&&Uo()}}function Cw(){Un=Da.current,ut(Da)}function Ts(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,n5(n)),It!==null)for(n=It.return;n!==null;){var r=n;switch(lw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_p();break;case 3:cl(),ut(On),ut(hn),yw();break;case 5:gw(r);break;case 4:cl();break;case 13:ut(ft);break;case 19:ut(ft);break;case 10:fw(r.type._context);break;case 22:case 23:Cw()}n=n.return}if(Ut=t,It=t=So(t.current,null),Yt=Un=e,Ot=0,id=null,Sw=wg=Ms=0,Pn=Cc=null,ms!==null){for(e=0;e<ms.length;e++)if(n=ms[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ms=null}return t}function gM(t,e){do{var n=It;try{if(dw(),Wh.current=Pp,Cp){for(var r=gt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cp=!1}if(Os=0,Vt=Rt=gt=null,Ac=!1,td=0,Tw.current=null,n===null||n.return===null){Ot=1,id=e,It=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Yt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=DA(s);if(y!==null){y.flags&=-257,LA(y,s,a,o,e),y.mode&1&&MA(o,u,e),e=y,l=u;var x=e.updateQueue;if(x===null){var _=new Set;_.add(l),e.updateQueue=_}else x.add(l);break e}else{if(!(e&1)){MA(o,u,e),Pw();break e}l=Error(ne(426))}}else if(ct&&a.mode&1){var b=DA(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),LA(b,s,a,o,e),uw(dl(l,a));break e}}o=l=dl(l,a),Ot!==4&&(Ot=2),Cc===null?Cc=[o]:Cc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var T=Z2(o,l,e);CA(o,T);break e;case 1:a=l;var w=o.type,A=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Eo===null||!Eo.has(A)))){o.flags|=65536,e&=-e,o.lanes|=e;var N=eM(o,a,e);CA(o,N);break e}}o=o.return}while(o!==null)}xM(n)}catch(E){e=E,It===n&&n!==null&&(It=n=n.return);continue}break}while(!0)}function yM(){var t=kp.current;return kp.current=Pp,t===null?Pp:t}function Pw(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Ut===null||!(Ms&268435455)&&!(wg&268435455)||so(Ut,Yt)}function Op(t,e){var n=Le;Le|=2;var r=yM();(Ut!==t||Yt!==e)&&(ui=null,Ts(t,e));do try{I5();break}catch(i){gM(t,i)}while(!0);if(dw(),Le=n,kp.current=r,It!==null)throw Error(ne(261));return Ut=null,Yt=0,Ot}function I5(){for(;It!==null;)vM(It)}function C5(){for(;It!==null&&!ZU();)vM(It)}function vM(t){var e=bM(t.alternate,t,Un);t.memoizedProps=t.pendingProps,e===null?xM(t):It=e,Tw.current=null}function xM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=b5(n,e),n!==null){n.flags&=32767,It=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,It=null;return}}else if(n=_5(n,e,Un),n!==null){It=n;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);Ot===0&&(Ot=5)}function as(t,e,n){var r=We,i=sr.transition;try{sr.transition=null,We=1,P5(t,e,n,r)}finally{sr.transition=i,We=r}return null}function P5(t,e,n,r){do Ya();while(ho!==null);if(Le&6)throw Error(ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ne(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(u3(t,o),t===Ut&&(It=Ut=null,Yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hh||(hh=!0,wM(pp,function(){return Ya(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=sr.transition,sr.transition=null;var s=We;We=1;var a=Le;Le|=4,Tw.current=null,E5(t,n),hM(n,t),Y3(Y0),gp=!!K0,Y0=K0=null,t.current=n,T5(n),e3(),Le=a,We=s,sr.transition=o}else t.current=n;if(hh&&(hh=!1,ho=t,Rp=i),o=t.pendingLanes,o===0&&(Eo=null),r3(n.stateNode),Dn(t,Et()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Np)throw Np=!1,t=mx,mx=null,t;return Rp&1&&t.tag!==0&&Ya(),o=t.pendingLanes,o&1?t===gx?Pc++:(Pc=0,gx=t):Pc=0,Uo(),null}function Ya(){if(ho!==null){var t=ZO(Rp),e=sr.transition,n=We;try{if(sr.transition=null,We=16>t?16:t,ho===null)var r=!1;else{if(t=ho,ho=null,Rp=0,Le&6)throw Error(ne(331));var i=Le;for(Le|=4,ue=t.current;ue!==null;){var o=ue,s=o.child;if(ue.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ue=u;ue!==null;){var c=ue;switch(c.tag){case 0:case 11:case 15:Ic(8,c,o)}var d=c.child;if(d!==null)d.return=c,ue=d;else for(;ue!==null;){c=ue;var f=c.sibling,y=c.return;if(cM(c),c===u){ue=null;break}if(f!==null){f.return=y,ue=f;break}ue=y}}}var x=o.alternate;if(x!==null){var _=x.child;if(_!==null){x.child=null;do{var b=_.sibling;_.sibling=null,_=b}while(_!==null)}}ue=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ue=s;else e:for(;ue!==null;){if(o=ue,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ic(9,o,o.return)}var T=o.sibling;if(T!==null){T.return=o.return,ue=T;break e}ue=o.return}}var w=t.current;for(ue=w;ue!==null;){s=ue;var A=s.child;if(s.subtreeFlags&2064&&A!==null)A.return=s,ue=A;else e:for(s=w;ue!==null;){if(a=ue,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:bg(9,a)}}catch(E){_t(a,a.return,E)}if(a===s){ue=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,ue=N;break e}ue=a.return}}if(Le=i,Uo(),qr&&typeof qr.onPostCommitFiberRoot=="function")try{qr.onPostCommitFiberRoot(hg,t)}catch{}r=!0}return r}finally{We=n,sr.transition=e}}return!1}function YA(t,e,n){e=dl(n,e),e=Z2(t,e,1),t=wo(t,e,1),e=Tn(),t!==null&&(tf(t,1,e),Dn(t,e))}function _t(t,e,n){if(t.tag===3)YA(t,t,n);else for(;e!==null;){if(e.tag===3){YA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Eo===null||!Eo.has(r))){t=dl(n,t),t=eM(e,t,1),e=wo(e,t,1),t=Tn(),e!==null&&(tf(e,1,t),Dn(e,t));break}}e=e.return}}function k5(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Tn(),t.pingedLanes|=t.suspendedLanes&n,Ut===t&&(Yt&n)===n&&(Ot===4||Ot===3&&(Yt&130023424)===Yt&&500>Et()-Aw?Ts(t,0):Sw|=n),Dn(t,e)}function _M(t,e){e===0&&(t.mode&1?(e=rh,rh<<=1,!(rh&130023424)&&(rh=4194304)):e=1);var n=Tn();t=Pi(t,e),t!==null&&(tf(t,e,n),Dn(t,n))}function N5(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_M(t,n)}function R5(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(e),_M(t,n)}var bM;bM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||On.current)Nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Nn=!1,x5(t,e,n);Nn=!!(t.flags&131072)}else Nn=!1,ct&&e.flags&1048576&&S2(e,Ep,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Yh(t,e),t=e.pendingProps;var i=al(e,hn.current);Ka(e,n),i=xw(null,e,r,t,i,n);var o=_w();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mn(r)?(o=!0,bp(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pw(e),i.updater=_g,e.stateNode=i,i._reactInternals=e,ix(e,r,t,n),e=ax(null,e,r,!0,o,n)):(e.tag=0,ct&&o&&aw(e),_n(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Yh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=M5(r),t=_r(r,t),i){case 0:e=sx(null,e,r,t,n);break e;case 1:e=VA(null,e,r,t,n);break e;case 11:e=$A(null,e,r,t,n);break e;case 14:e=jA(null,e,r,_r(r.type,t),n);break e}throw Error(ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),sx(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),VA(t,e,r,i,n);case 3:e:{if(iM(e),t===null)throw Error(ne(387));r=e.pendingProps,o=e.memoizedState,i=o.element,N2(t,e),Ap(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=dl(Error(ne(423)),e),e=FA(t,e,r,n,i);break e}else if(r!==i){i=dl(Error(ne(424)),e),e=FA(t,e,r,n,i);break e}else for(qn=bo(e.stateNode.containerInfo.firstChild),zn=e,ct=!0,Tr=null,n=P2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ll(),r===i){e=ki(t,e,n);break e}_n(t,e,r,n)}e=e.child}return e;case 5:return R2(e),t===null&&tx(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,J0(r,i)?s=null:o!==null&&J0(r,o)&&(e.flags|=32),rM(t,e),_n(t,e,s,n),e.child;case 6:return t===null&&tx(e),null;case 13:return oM(t,e,n);case 4:return mw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ul(e,null,r,n):_n(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),$A(t,e,r,i,n);case 7:return _n(t,e,e.pendingProps,n),e.child;case 8:return _n(t,e,e.pendingProps.children,n),e.child;case 12:return _n(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,rt(Tp,r._currentValue),r._currentValue=s,o!==null)if(Mr(o.value,s)){if(o.children===i.children&&!On.current){e=ki(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=wi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),nx(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ne(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),nx(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}_n(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ka(e,n),i=ur(i),r=r(i),e.flags|=1,_n(t,e,r,n),e.child;case 14:return r=e.type,i=_r(r,e.pendingProps),i=_r(r.type,i),jA(t,e,r,i,n);case 15:return tM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:_r(r,i),Yh(t,e),e.tag=1,Mn(r)?(t=!0,bp(e)):t=!1,Ka(e,n),Q2(e,r,i),ix(e,r,i,n),ax(null,e,r,!0,t,n);case 19:return sM(t,e,n);case 22:return nM(t,e,n)}throw Error(ne(156,e.tag))};function wM(t,e){return YO(t,e)}function O5(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(t,e,n,r){return new O5(t,e,n,r)}function kw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function M5(t){if(typeof t=="function")return kw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yb)return 11;if(t===Jb)return 14}return 2}function So(t,e){var n=t.alternate;return n===null?(n=ir(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qh(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")kw(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Sa:return Ss(n.children,i,o,e);case Kb:s=8,i|=8;break;case C0:return t=ir(12,n,e,i|2),t.elementType=C0,t.lanes=o,t;case P0:return t=ir(13,n,e,i),t.elementType=P0,t.lanes=o,t;case k0:return t=ir(19,n,e,i),t.elementType=k0,t.lanes=o,t;case RO:return Eg(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kO:s=10;break e;case NO:s=9;break e;case Yb:s=11;break e;case Jb:s=14;break e;case no:s=16,r=null;break e}throw Error(ne(130,t==null?t:typeof t,""))}return e=ir(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ss(t,e,n,r){return t=ir(7,t,r,e),t.lanes=n,t}function Eg(t,e,n,r){return t=ir(22,t,r,e),t.elementType=RO,t.lanes=n,t.stateNode={isHidden:!1},t}function Ov(t,e,n){return t=ir(6,t,null,e),t.lanes=n,t}function Mv(t,e,n){return e=ir(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function D5(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pv(0),this.expirationTimes=pv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Nw(t,e,n,r,i,o,s,a,l){return t=new D5(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ir(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pw(o),t}function L5(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ta,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function EM(t){if(!t)return Oo;t=t._reactInternals;e:{if(Xs(t)!==t||t.tag!==1)throw Error(ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ne(171))}if(t.tag===1){var n=t.type;if(Mn(n))return E2(t,n,e)}return e}function TM(t,e,n,r,i,o,s,a,l){return t=Nw(n,r,!0,t,i,o,s,a,l),t.context=EM(null),n=t.current,r=Tn(),i=To(n),o=wi(r,i),o.callback=e??null,wo(n,o,i),t.current.lanes=i,tf(t,i,r),Dn(t,r),t}function Tg(t,e,n,r){var i=e.current,o=Tn(),s=To(i);return n=EM(n),e.context===null?e.context=n:e.pendingContext=n,e=wi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=wo(i,e,s),t!==null&&(Cr(t,i,s,o),zh(t,i,s)),s}function Mp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function JA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Rw(t,e){JA(t,e),(t=t.alternate)&&JA(t,e)}function $5(){return null}var SM=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ow(t){this._internalRoot=t}Sg.prototype.render=Ow.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ne(409));Tg(t,e,null,null)};Sg.prototype.unmount=Ow.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ds(function(){Tg(null,t,null,null)}),e[Ci]=null}};function Sg(t){this._internalRoot=t}Sg.prototype.unstable_scheduleHydration=function(t){if(t){var e=n2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<oo.length&&e!==0&&e<oo[n].priority;n++);oo.splice(n,0,t),n===0&&i2(t)}};function Mw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ag(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function XA(){}function j5(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Mp(s);o.call(u)}}var s=TM(e,r,t,0,null,!1,!1,"",XA);return t._reactRootContainer=s,t[Ci]=s.current,Jc(t.nodeType===8?t.parentNode:t),Ds(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Mp(l);a.call(u)}}var l=Nw(t,0,!1,null,null,!1,!1,"",XA);return t._reactRootContainer=l,t[Ci]=l.current,Jc(t.nodeType===8?t.parentNode:t),Ds(function(){Tg(e,l,n,r)}),l}function Ig(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Mp(s);a.call(l)}}Tg(e,s,t,i)}else s=j5(n,e,t,i,r);return Mp(s)}e2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=dc(e.pendingLanes);n!==0&&(Zb(e,n|1),Dn(e,Et()),!(Le&6)&&(fl=Et()+500,Uo()))}break;case 13:Ds(function(){var r=Pi(t,1);if(r!==null){var i=Tn();Cr(r,t,1,i)}}),Rw(t,1)}};ew=function(t){if(t.tag===13){var e=Pi(t,134217728);if(e!==null){var n=Tn();Cr(e,t,134217728,n)}Rw(t,134217728)}};t2=function(t){if(t.tag===13){var e=To(t),n=Pi(t,e);if(n!==null){var r=Tn();Cr(n,t,e,r)}Rw(t,e)}};n2=function(){return We};r2=function(t,e){var n=We;try{return We=t,e()}finally{We=n}};F0=function(t,e,n){switch(e){case"input":if(O0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=yg(r);if(!i)throw Error(ne(90));MO(r),O0(r,i)}}}break;case"textarea":LO(t,n);break;case"select":e=n.value,e!=null&&qa(t,!!n.multiple,e,!1)}};GO=Iw;qO=Ds;var V5={usingClientEntryPoint:!1,Events:[rf,Pa,yg,UO,BO,Iw]},Yu={findFiberByHostInstance:ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F5={bundleType:Yu.bundleType,version:Yu.version,rendererPackageName:Yu.rendererPackageName,rendererConfig:Yu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=WO(t),t===null?null:t.stateNode},findFiberByHostInstance:Yu.findFiberByHostInstance||$5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ph.isDisabled&&ph.supportsFiber)try{hg=ph.inject(F5),qr=ph}catch{}}Jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V5;Jn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mw(e))throw Error(ne(200));return L5(t,e,null,n)};Jn.createRoot=function(t,e){if(!Mw(t))throw Error(ne(299));var n=!1,r="",i=SM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Nw(t,1,!1,null,null,n,!1,r,i),t[Ci]=e.current,Jc(t.nodeType===8?t.parentNode:t),new Ow(e)};Jn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ne(188)):(t=Object.keys(t).join(","),Error(ne(268,t)));return t=WO(e),t=t===null?null:t.stateNode,t};Jn.flushSync=function(t){return Ds(t)};Jn.hydrate=function(t,e,n){if(!Ag(e))throw Error(ne(200));return Ig(null,t,e,!0,n)};Jn.hydrateRoot=function(t,e,n){if(!Mw(t))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=SM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=TM(e,null,t,1,n??null,i,!1,o,s),t[Ci]=e.current,Jc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Sg(e)};Jn.render=function(t,e,n){if(!Ag(e))throw Error(ne(200));return Ig(null,t,e,!1,n)};Jn.unmountComponentAtNode=function(t){if(!Ag(t))throw Error(ne(40));return t._reactRootContainer?(Ds(function(){Ig(null,null,t,!1,function(){t._reactRootContainer=null,t[Ci]=null})}),!0):!1};Jn.unstable_batchedUpdates=Iw;Jn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ag(n))throw Error(ne(200));if(t==null||t._reactInternals===void 0)throw Error(ne(38));return Ig(t,e,n,!1,r)};Jn.version="18.3.1-next-f1338f8080-20240426";function AM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AM)}catch(t){console.error(t)}}AM(),AO.exports=Jn;var U5=AO.exports,QA=U5;A0.createRoot=QA.createRoot,A0.hydrateRoot=QA.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var B5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),re=(t,e)=>{const n=V.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>V.createElement("svg",{ref:c,...B5,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${G5(t)}`,a].join(" "),...u},[...e.map(([d,f])=>V.createElement(d,f)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=re("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=re("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=re("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=re("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=re("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=re("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=re("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=re("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=re("BadgeAlert",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZA=re("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=re("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=re("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=re("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=re("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=re("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=re("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=re("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=re("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=re("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=re("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=re("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=re("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=re("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=re("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=re("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=re("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=re("HardDriveDownload",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=re("HardDriveUpload",[["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M12 2v8",key:"1q4o3n"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=re("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=re("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=re("Hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=re("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=re("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=re("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=re("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=re("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=re("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=re("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=re("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=re("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=re("MessageSquareMore",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M16 10h.01",key:"1m94wz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=re("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=re("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=re("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=re("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=re("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=re("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=re("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=re("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=re("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=re("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=re("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=re("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=re("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=re("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=re("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=re("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=re("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=re("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=re("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=re("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=re("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=re("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=re("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var He=(t=>(t.DASHBOARD="DASHBOARD",t.TRANSACTIONS="TRANSACTIONS",t.INVESTMENTS="INVESTMENTS",t.BUDGETS="BUDGETS",t.SUBSCRIPTIONS="SUBSCRIPTIONS",t.CALENDAR="CALENDAR",t.AI_ASSISTANT="AI_ASSISTANT",t.DEBTS="DEBTS",t.SHOPPING_LIST="SHOPPING_LIST",t.WEALTH_PLANNER="WEALTH_PLANNER",t))(He||{}),n1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},VB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},LM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let f=(a&15)<<2|u>>6,y=u&63;l||(y=64,s||(f=64)),r.push(n[c],n[d],n[f],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new FB;const f=o<<2|a>>4;if(r.push(f),u!==64){const y=a<<4&240|u>>2;if(r.push(y),d!==64){const x=u<<6&192|d;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UB=function(t){const e=DM(t);return LM.encodeByteArray(e,!0)},$p=function(t){return UB(t).replace(/\./g,"")},$M=function(t){try{return LM.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GB=()=>BB().__FIREBASE_DEFAULTS__,qB=()=>{if(typeof process>"u"||typeof n1>"u")return;const t=n1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},HB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$M(t[1]);return e&&JSON.parse(e)},Ng=()=>{try{return GB()||qB()||HB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jM=t=>{var e,n;return(n=(e=Ng())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},zB=t=>{const e=jM(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},VM=()=>{var t;return(t=Ng())===null||t===void 0?void 0:t.config},FM=t=>{var e;return(e=Ng())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$p(JSON.stringify(n)),$p(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function JB(){var t;const e=(t=Ng())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ZB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function e6(){const t=pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function t6(){return!JB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n6(){try{return typeof indexedDB=="object"}catch{return!1}}function r6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6="FirebaseError";class Ui extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=i6,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lf.prototype.create)}}class lf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?o6(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ui(i,a,r)}}function o6(t,e){return t.replace(s6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const s6=/\{\$([^}]+)}/g;function a6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(r1(o)&&r1(s)){if(!jp(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function r1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function pc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function l6(t,e){const n=new u6(t,e);return n.subscribe.bind(n)}class u6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");c6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=$v),i.error===void 0&&(i.error=$v),i.complete===void 0&&(i.complete=$v);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function c6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function $v(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t){return t&&t._delegate?t._delegate:t}class js{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new WB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(h6(e))try{this.getOrInitializeService({instanceIdentifier:ls})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ls){return this.instances.has(e)}getOptions(e=ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:f6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ls){return this.component?this.component.multipleInstances?e:ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f6(t){return t===ls?void 0:t}function h6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new d6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const m6={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},g6=Me.INFO,y6={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},v6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=y6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vw{constructor(e){this.name=e,this._logLevel=g6,this._logHandler=v6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?m6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const x6=(t,e)=>e.some(n=>t instanceof n);let i1,o1;function _6(){return i1||(i1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b6(){return o1||(o1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UM=new WeakMap,Ex=new WeakMap,BM=new WeakMap,jv=new WeakMap,Fw=new WeakMap;function w6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ao(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&UM.set(n,t)}).catch(()=>{}),Fw.set(e,t),e}function E6(t){if(Ex.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Ex.set(t,e)}let Tx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ex.get(t);if(e==="objectStoreNames")return t.objectStoreNames||BM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ao(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function T6(t){Tx=t(Tx)}function S6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vv(this),e,...n);return BM.set(r,e.sort?e.sort():[e]),Ao(r)}:b6().includes(t)?function(...e){return t.apply(Vv(this),e),Ao(UM.get(this))}:function(...e){return Ao(t.apply(Vv(this),e))}}function A6(t){return typeof t=="function"?S6(t):(t instanceof IDBTransaction&&E6(t),x6(t,_6())?new Proxy(t,Tx):t)}function Ao(t){if(t instanceof IDBRequest)return w6(t);if(jv.has(t))return jv.get(t);const e=A6(t);return e!==t&&(jv.set(t,e),Fw.set(e,t)),e}const Vv=t=>Fw.get(t);function I6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ao(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Ao(s.result),l.oldVersion,l.newVersion,Ao(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const C6=["get","getKey","getAll","getAllKeys","count"],P6=["put","add","delete","clear"],Fv=new Map;function s1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fv.get(e))return Fv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=P6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||C6.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Fv.set(e,o),o}T6(t=>({...t,get:(e,n,r)=>s1(e,n)||t.get(e,n,r),has:(e,n)=>!!s1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(N6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function N6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sx="@firebase/app",a1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new Vw("@firebase/app"),R6="@firebase/app-compat",O6="@firebase/analytics-compat",M6="@firebase/analytics",D6="@firebase/app-check-compat",L6="@firebase/app-check",$6="@firebase/auth",j6="@firebase/auth-compat",V6="@firebase/database",F6="@firebase/data-connect",U6="@firebase/database-compat",B6="@firebase/functions",G6="@firebase/functions-compat",q6="@firebase/installations",H6="@firebase/installations-compat",z6="@firebase/messaging",W6="@firebase/messaging-compat",K6="@firebase/performance",Y6="@firebase/performance-compat",J6="@firebase/remote-config",X6="@firebase/remote-config-compat",Q6="@firebase/storage",Z6="@firebase/storage-compat",e8="@firebase/firestore",t8="@firebase/vertexai-preview",n8="@firebase/firestore-compat",r8="firebase",i8="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="[DEFAULT]",o8={[Sx]:"fire-core",[R6]:"fire-core-compat",[M6]:"fire-analytics",[O6]:"fire-analytics-compat",[L6]:"fire-app-check",[D6]:"fire-app-check-compat",[$6]:"fire-auth",[j6]:"fire-auth-compat",[V6]:"fire-rtdb",[F6]:"fire-data-connect",[U6]:"fire-rtdb-compat",[B6]:"fire-fn",[G6]:"fire-fn-compat",[q6]:"fire-iid",[H6]:"fire-iid-compat",[z6]:"fire-fcm",[W6]:"fire-fcm-compat",[K6]:"fire-perf",[Y6]:"fire-perf-compat",[J6]:"fire-rc",[X6]:"fire-rc-compat",[Q6]:"fire-gcs",[Z6]:"fire-gcs-compat",[e8]:"fire-fst",[n8]:"fire-fst-compat",[t8]:"fire-vertex","fire-js":"fire-js",[r8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=new Map,s8=new Map,Ix=new Map;function l1(t,e){try{t.container.addComponent(e)}catch(n){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pl(t){const e=t.name;if(Ix.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;Ix.set(e,t);for(const n of Vp.values())l1(n,t);for(const n of s8.values())l1(n,t);return!0}function Uw(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ar(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Io=new lf("app","Firebase",a8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Io.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=i8;function GM(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ax,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Io.create("bad-app-name",{appName:String(i)});if(n||(n=VM()),!n)throw Io.create("no-options");const o=Vp.get(i);if(o){if(jp(n,o.options)&&jp(r,o.config))return o;throw Io.create("duplicate-app",{appName:i})}const s=new p6(i);for(const l of Ix.values())s.addComponent(l);const a=new l8(n,r,s);return Vp.set(i,a),a}function qM(t=Ax){const e=Vp.get(t);if(!e&&t===Ax&&VM())return GM();if(!e)throw Io.create("no-app",{appName:t});return e}function Co(t,e,n){var r;let i=(r=o8[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(a.join(" "));return}pl(new js(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8="firebase-heartbeat-database",c8=1,ad="firebase-heartbeat-store";let Uv=null;function HM(){return Uv||(Uv=I6(u8,c8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ad)}catch(n){console.warn(n)}}}}).catch(t=>{throw Io.create("idb-open",{originalErrorMessage:t.message})})),Uv}async function d8(t){try{const n=(await HM()).transaction(ad),r=await n.objectStore(ad).get(zM(t));return await n.done,r}catch(e){if(e instanceof Ui)Ni.warn(e.message);else{const n=Io.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(n.message)}}}async function u1(t,e){try{const r=(await HM()).transaction(ad,"readwrite");await r.objectStore(ad).put(e,zM(t)),await r.done}catch(n){if(n instanceof Ui)Ni.warn(n.message);else{const r=Io.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ni.warn(r.message)}}}function zM(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=1024,h8=30*24*60*60*1e3;class p8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new g8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=c1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=h8}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ni.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=c1(),{heartbeatsToSend:r,unsentEntries:i}=m8(this._heartbeatsCache.heartbeats),o=$p(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ni.warn(n),""}}}function c1(){return new Date().toISOString().substring(0,10)}function m8(t,e=f8){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),d1(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),d1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class g8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n6()?r6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await d8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return u1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return u1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function d1(t){return $p(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y8(t){pl(new js("platform-logger",e=>new k6(e),"PRIVATE")),pl(new js("heartbeat",e=>new p8(e),"PRIVATE")),Co(Sx,a1,t),Co(Sx,a1,"esm2017"),Co("fire-js","")}y8("");var v8="firebase",x8="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Co(v8,x8,"app");function Bw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function WM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _8=WM,KM=new lf("auth","Firebase",WM());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp=new Vw("@firebase/auth");function b8(t,...e){Fp.logLevel<=Me.WARN&&Fp.warn(`Auth (${nu}): ${t}`,...e)}function Zh(t,...e){Fp.logLevel<=Me.ERROR&&Fp.error(`Auth (${nu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t,...e){throw qw(t,...e)}function Pr(t,...e){return qw(t,...e)}function Gw(t,e,n){const r=Object.assign(Object.assign({},_8()),{[e]:n});return new lf("auth","Firebase",r).create(e,{appName:t.name})}function Ei(t){return Gw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function w8(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&dr(t,"argument-error"),Gw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KM.create(t,...e)}function _e(t,e,...n){if(!t)throw qw(e,...n)}function gi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zh(e),new Error(e)}function Ri(t,e){t||gi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function E8(){return f1()==="http:"||f1()==="https:"}function f1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(E8()||QB()||"connection"in navigator)?navigator.onLine:!0}function S8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ri(n>e,"Short delay should be less than long delay!"),this.isMobile=YB()||ZB()}get(){return T8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(t,e){Ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I8=new cf(3e4,6e4);function Bo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Go(t,e,n,r,i={}){return JM(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=uf(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return XB()||(u.referrerPolicy="no-referrer"),YM.fetch()(XM(t,t.config.apiHost,n,a),u)})}async function JM(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},A8),e);try{const i=new P8(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw yh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw yh(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw yh(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw yh(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Gw(t,c,u);dr(t,c)}}catch(i){if(i instanceof Ui)throw i;dr(t,"network-request-failed",{message:String(i)})}}async function df(t,e,n,r,i={}){const o=await Go(t,e,n,r,i);return"mfaPendingCredential"in o&&dr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function XM(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Hw(t.config,i):`${t.config.apiScheme}://${i}`}function C8(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class P8{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pr(this.auth,"network-request-failed")),I8.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pr(t,e,r);return i.customData._tokenResponse=n,i}function h1(t){return t!==void 0&&t.enterprise!==void 0}class k8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return C8(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function N8(t,e){return Go(t,"GET","/v2/recaptchaConfig",Bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R8(t,e){return Go(t,"POST","/v1/accounts:delete",e)}async function QM(t,e){return Go(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function O8(t,e=!1){const n=Tt(t),r=await n.getIdToken(e),i=zw(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:kc(Bv(i.auth_time)),issuedAtTime:kc(Bv(i.iat)),expirationTime:kc(Bv(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Bv(t){return Number(t)*1e3}function zw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zh("JWT malformed, contained fewer than 3 sections"),null;try{const i=$M(n);return i?JSON.parse(i):(Zh("Failed to decode base64 JWT payload"),null)}catch(i){return Zh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function p1(t){const e=zw(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ld(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ui&&M8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function M8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kc(this.lastLoginAt),this.creationTime=kc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Up(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ld(t,QM(n,{idToken:r}));_e(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?ZM(o.providerUserInfo):[],a=$8(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Px(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function L8(t){const e=Tt(t);await Up(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $8(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ZM(t){return t.map(e=>{var{providerId:n}=e,r=Bw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j8(t,e){const n=await JM(t,{},async()=>{const r=uf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=XM(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",YM.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function V8(t,e){return Go(t,"POST","/v2/accounts:revokeToken",Bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=p1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await j8(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Xa;return r&&(_e(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(_e(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class yi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Bw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new D8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Px(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ld(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return O8(this,e)}reload(){return L8(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Up(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ar(this.auth.app))return Promise.reject(Ei(this.auth));const e=await this.getIdToken();return await ld(this,R8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,x=(s=n.photoURL)!==null&&s!==void 0?s:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:A,emailVerified:N,isAnonymous:E,providerData:I,stsTokenManager:v}=n;_e(A&&v,e,"internal-error");const S=Xa.fromJSON(this.name,v);_e(typeof A=="string",e,"internal-error"),eo(d,e.name),eo(f,e.name),_e(typeof N=="boolean",e,"internal-error"),_e(typeof E=="boolean",e,"internal-error"),eo(y,e.name),eo(x,e.name),eo(_,e.name),eo(b,e.name),eo(T,e.name),eo(w,e.name);const P=new yi({uid:A,auth:e,email:f,emailVerified:N,displayName:d,isAnonymous:E,photoURL:x,phoneNumber:y,tenantId:_,stsTokenManager:S,createdAt:T,lastLoginAt:w});return I&&Array.isArray(I)&&(P.providerData=I.map(k=>Object.assign({},k))),b&&(P._redirectEventId=b),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Xa;i.updateFromServerResponse(n);const o=new yi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Up(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];_e(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?ZM(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Xa;a.updateFromIdToken(r);const l=new yi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Px(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=new Map;function vi(t){Ri(t instanceof Function,"Expected a class definition");let e=m1.get(t);return e?(Ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,m1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eD.type="NONE";const g1=eD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(t,e,n){return`firebase:${t}:${e}:${n}`}class Qa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ep(this.userKey,i.apiKey,o),this.fullPersistenceKey=ep("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?yi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qa(vi(g1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||vi(g1);const s=ep(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=yi._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Qa(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new Qa(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sD(e))return"Blackberry";if(aD(e))return"Webos";if(nD(e))return"Safari";if((e.includes("chrome/")||rD(e))&&!e.includes("edge/"))return"Chrome";if(oD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function tD(t=pn()){return/firefox\//i.test(t)}function nD(t=pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rD(t=pn()){return/crios\//i.test(t)}function iD(t=pn()){return/iemobile/i.test(t)}function oD(t=pn()){return/android/i.test(t)}function sD(t=pn()){return/blackberry/i.test(t)}function aD(t=pn()){return/webos/i.test(t)}function Ww(t=pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function F8(t=pn()){var e;return Ww(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function U8(){return e6()&&document.documentMode===10}function lD(t=pn()){return Ww(t)||oD(t)||aD(t)||sD(t)||/windows phone/i.test(t)||iD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(t,e=[]){let n;switch(t){case"Browser":n=y1(pn());break;case"Worker":n=`${y1(pn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G8(t,e={}){return Go(t,"GET","/v2/passwordPolicy",Bo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8=6;class H8{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:q8,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v1(this),this.idTokenSubscription=new v1(this),this.beforeStateQueue=new B8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Qa.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await QM(this,{idToken:e}),r=await yi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ar(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Up(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=S8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ar(this.app))return Promise.reject(Ei(this));const n=e?Tt(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ar(this.app)?Promise.reject(Ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ar(this.app)?Promise.reject(Ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await G8(this),n=new H8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new lf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await V8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vi(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[vi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&b8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qo(t){return Tt(t)}class v1{constructor(e){this.auth=e,this.observer=null,this.addObserver=l6(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W8(t){Rg=t}function cD(t){return Rg.loadJS(t)}function K8(){return Rg.recaptchaEnterpriseScript}function Y8(){return Rg.gapiScript}function J8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const X8="recaptcha-enterprise",Q8="NO_RECAPTCHA";class Z8{constructor(e){this.type=X8,this.auth=qo(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{N8(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new k8(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;h1(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(Q8)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&h1(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=K8();l.length!==0&&(l+=a),cD(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function x1(t,e,n,r=!1){const i=new Z8(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function kx(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await x1(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await x1(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t,e){const n=Uw(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(jp(o,e??{}))return i;dr(i,"already-initialized")}return n.initialize({options:e})}function t9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function n9(t,e,n){const r=qo(t);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=dD(e),{host:s,port:a}=r9(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i9()}function dD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function r9(t){const e=dD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:_1(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:_1(s)}}}function _1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function i9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gi("not implemented")}_getIdTokenResponse(e){return gi("not implemented")}_linkToIdToken(e,n){return gi("not implemented")}_getReauthenticationResolver(e){return gi("not implemented")}}async function o9(t,e){return Go(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s9(t,e){return df(t,"POST","/v1/accounts:signInWithPassword",Bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a9(t,e){return df(t,"POST","/v1/accounts:signInWithEmailLink",Bo(t,e))}async function l9(t,e){return df(t,"POST","/v1/accounts:signInWithEmailLink",Bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud extends Kw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ud(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ud(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kx(e,n,"signInWithPassword",s9);case"emailLink":return a9(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kx(e,r,"signUpPassword",o9);case"emailLink":return l9(e,{idToken:n,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(t,e){return df(t,"POST","/v1/accounts:signInWithIdp",Bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9="http://localhost";class Vs extends Kw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Bw(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Vs(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Za(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Za(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Za(e,n)}buildRequest(){const e={requestUri:u9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function d9(t){const e=hc(pc(t)).link,n=e?hc(pc(e)).deep_link_id:null,r=hc(pc(t)).deep_link_id;return(r?hc(pc(r)).link:null)||r||n||e||t}class Yw{constructor(e){var n,r,i,o,s,a;const l=hc(pc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=c9((i=l.mode)!==null&&i!==void 0?i:null);_e(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=d9(e);try{return new Yw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(){this.providerId=ru.PROVIDER_ID}static credential(e,n){return ud._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Yw.parseLink(n);return _e(r,"argument-error"),ud._fromEmailAndCode(e,r.code,r.tenantId)}}ru.PROVIDER_ID="password";ru.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ru.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends Jw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends ff{constructor(){super("facebook.com")}static credential(e){return Vs._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.FACEBOOK_SIGN_IN_METHOD="facebook.com";ao.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends ff{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vs._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fi.credential(n,r)}catch{return null}}}fi.GOOGLE_SIGN_IN_METHOD="google.com";fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends ff{constructor(){super("github.com")}static credential(e){return Vs._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lo.credential(e.oauthAccessToken)}catch{return null}}}lo.GITHUB_SIGN_IN_METHOD="github.com";lo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends ff{constructor(){super("twitter.com")}static credential(e,n){return Vs._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return uo.credential(n,r)}catch{return null}}}uo.TWITTER_SIGN_IN_METHOD="twitter.com";uo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f9(t,e){return df(t,"POST","/v1/accounts:signUp",Bo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await yi._fromIdTokenResponse(e,r,i),s=b1(r);return new Fs({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=b1(r);return new Fs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function b1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends Ui{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Bp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Bp(e,n,r,i)}}function fD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Bp._fromErrorAndOperation(t,o,e,r):o})}async function h9(t,e,n=!1){const r=await ld(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p9(t,e,n=!1){const{auth:r}=t;if(Ar(r.app))return Promise.reject(Ei(r));const i="reauthenticate";try{const o=await ld(t,fD(r,i,e,t),n);_e(o.idToken,r,"internal-error");const s=zw(o.idToken);_e(s,r,"internal-error");const{sub:a}=s;return _e(t.uid===a,r,"user-mismatch"),Fs._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&dr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(t,e,n=!1){if(Ar(t.app))return Promise.reject(Ei(t));const r="signIn",i=await fD(t,r,e),o=await Fs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function m9(t,e){return hD(qo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(t){const e=qo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function g9(t,e,n){if(Ar(t.app))return Promise.reject(Ei(t));const r=qo(t),s=await kx(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",f9).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&pD(t),l}),a=await Fs._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function y9(t,e,n){return Ar(t.app)?Promise.reject(Ei(t)):m9(Tt(t),ru.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&pD(t),r})}function v9(t,e,n,r){return Tt(t).onIdTokenChanged(e,n,r)}function x9(t,e,n){return Tt(t).beforeAuthStateChanged(e,n)}function _9(t,e,n,r){return Tt(t).onAuthStateChanged(e,n,r)}function b9(t){return Tt(t).signOut()}const Gp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gp,"1"),this.storage.removeItem(Gp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=1e3,E9=10;class gD extends mD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);U8()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,E9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},w9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gD.type="LOCAL";const T9=gD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD extends mD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yD.type="SESSION";const vD=yD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Og(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await S9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Og.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Xw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(){return window}function I9(t){zr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(){return typeof zr().WorkerGlobalScope<"u"&&typeof zr().importScripts=="function"}async function C9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function P9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function k9(){return xD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D="firebaseLocalStorageDb",N9=1,qp="firebaseLocalStorage",bD="fbase_key";class hf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mg(t,e){return t.transaction([qp],e?"readwrite":"readonly").objectStore(qp)}function R9(){const t=indexedDB.deleteDatabase(_D);return new hf(t).toPromise()}function Nx(){const t=indexedDB.open(_D,N9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qp,{keyPath:bD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qp)?e(r):(r.close(),await R9(),e(await Nx()))})})}async function w1(t,e,n){const r=Mg(t,!0).put({[bD]:e,value:n});return new hf(r).toPromise()}async function O9(t,e){const n=Mg(t,!1).get(e),r=await new hf(n).toPromise();return r===void 0?null:r.value}function E1(t,e){const n=Mg(t,!0).delete(e);return new hf(n).toPromise()}const M9=800,D9=3;class wD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>D9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Og._getInstance(k9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await C9(),!this.activeServiceWorker)return;this.sender=new A9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||P9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nx();return await w1(e,Gp,"1"),await E1(e,Gp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>w1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>O9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>E1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Mg(i,!1).getAll();return new hf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),M9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wD.type="LOCAL";const L9=wD;new cf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t,e){return e?vi(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw extends Kw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Za(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Za(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Za(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $9(t){return hD(t.auth,new Qw(t),t.bypassAuthState)}function j9(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),p9(n,new Qw(t),t.bypassAuthState)}async function V9(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),h9(n,new Qw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $9;case"linkViaPopup":case"linkViaRedirect":return V9;case"reauthViaPopup":case"reauthViaRedirect":return j9;default:dr(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=new cf(2e3,1e4);async function U9(t,e,n){if(Ar(t.app))return Promise.reject(Pr(t,"operation-not-supported-in-this-environment"));const r=qo(t);w8(t,e,Jw);const i=ED(r,n);return new ys(r,"signInViaPopup",e,i).executeNotNull()}class ys extends TD{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ys.currentPopupAction&&ys.currentPopupAction.cancel(),ys.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=Xw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ys.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,F9.get())};e()}}ys.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9="pendingRedirect",tp=new Map;class G9 extends TD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=tp.get(this.auth._key());if(!e){try{const r=await q9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}tp.set(this.auth._key(),e)}return this.bypassAuthState||tp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function q9(t,e){const n=W9(e),r=z9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function H9(t,e){tp.set(t._key(),e)}function z9(t){return vi(t._redirectPersistence)}function W9(t){return ep(B9,t.config.apiKey,t.name)}async function K9(t,e,n=!1){if(Ar(t.app))return Promise.reject(Ei(t));const r=qo(t),i=ED(r,e),s=await new G9(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=10*60*1e3;class J9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!X9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!SD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Y9&&this.cachedEventUids.clear(),this.cachedEventUids.has(T1(e))}saveEventToCache(e){this.cachedEventUids.add(T1(e)),this.lastProcessedEventTime=Date.now()}}function T1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function SD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function X9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q9(t,e={}){return Go(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e7=/^https?/;async function t7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Q9(t);for(const n of e)try{if(n7(n))return}catch{}dr(t,"unauthorized-domain")}function n7(t){const e=Cx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!e7.test(n))return!1;if(Z9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7=new cf(3e4,6e4);function S1(){const t=zr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function i7(t){return new Promise((e,n)=>{var r,i,o;function s(){S1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S1(),n(Pr(t,"network-request-failed"))},timeout:r7.get()})}if(!((i=(r=zr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=zr().gapi)===null||o===void 0)&&o.load)s();else{const a=J8("iframefcb");return zr()[a]=()=>{gapi.load?s():n(Pr(t,"network-request-failed"))},cD(`${Y8()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw np=null,e})}let np=null;function o7(t){return np=np||i7(t),np}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7=new cf(5e3,15e3),a7="__/auth/iframe",l7="emulator/auth/iframe",u7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},c7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d7(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hw(e,l7):`https://${t.config.authDomain}/${a7}`,r={apiKey:e.apiKey,appName:t.name,v:nu},i=c7.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${uf(r).slice(1)}`}async function f7(t){const e=await o7(t),n=zr().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:d7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u7,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Pr(t,"network-request-failed"),a=zr().setTimeout(()=>{o(s)},s7.get());function l(){zr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p7=500,m7=600,g7="_blank",y7="http://localhost";class A1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v7(t,e,n,r=p7,i=m7){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},h7),{width:r.toString(),height:i.toString(),top:o,left:s}),u=pn().toLowerCase();n&&(a=rD(u)?g7:n),tD(u)&&(e=e||y7,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[y,x])=>`${f}${y}=${x},`,"");if(F8(u)&&a!=="_self")return x7(e||"",a),new A1(null);const d=window.open(e||"",a,c);_e(d,t,"popup-blocked");try{d.focus()}catch{}return new A1(d)}function x7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7="__/auth/handler",b7="emulator/auth/handler",w7=encodeURIComponent("fac");async function I1(t,e,n,r,i,o){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:nu,eventId:i};if(e instanceof Jw){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",a6(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))s[c]=d}if(e instanceof ff){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${w7}=${encodeURIComponent(l)}`:"";return`${E7(t)}?${uf(a).slice(1)}${u}`}function E7({config:t}){return t.emulator?Hw(t,b7):`https://${t.authDomain}/${_7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="webStorageSupport";class T7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vD,this._completeRedirectFn=K9,this._overrideRedirectResult=H9}async _openPopup(e,n,r,i){var o;Ri((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await I1(e,n,r,Cx(),i);return v7(e,s,Xw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await I1(e,n,r,Cx(),i);return I9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ri(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await f7(e),r=new J9(e);return n.register("authEvent",i=>(_e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gv,{type:Gv},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Gv];s!==void 0&&n(!!s),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lD()||nD()||Ww()}}const S7=T7;var C1="@firebase/auth",P1="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function C7(t){pl(new js("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;_e(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uD(t)},u=new z8(r,i,o,l);return t9(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),pl(new js("auth-internal",e=>{const n=qo(e.getProvider("auth").getImmediate());return(r=>new A7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Co(C1,P1,I7(t)),Co(C1,P1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7=5*60,k7=FM("authIdTokenMaxAge")||P7;let k1=null;const N7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>k7)return;const i=n==null?void 0:n.token;k1!==i&&(k1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function R7(t=qM()){const e=Uw(t,"auth");if(e.isInitialized())return e.getImmediate();const n=e9(t,{popupRedirectResolver:S7,persistence:[L9,T9,vD]}),r=FM("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=N7(o.toString());x9(n,s,()=>s(n.currentUser)),v9(n,a=>s(a))}}const i=jM("auth");return i&&n9(n,`http://${i}`),n}function O7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}W8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Pr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",O7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});C7("Browser");var N1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var As,AD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(v,S){function P(){}P.prototype=S.prototype,v.D=S.prototype,v.prototype=new P,v.prototype.constructor=v,v.C=function(k,O,M){for(var D=Array(arguments.length-2),U=2;U<arguments.length;U++)D[U-2]=arguments[U];return S.prototype[O].apply(k,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(v,S,P){P||(P=0);var k=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)k[O]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(O=0;16>O;++O)k[O]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=v.g[0],P=v.g[1],O=v.g[2];var M=v.g[3],D=S+(M^P&(O^M))+k[0]+3614090360&4294967295;S=P+(D<<7&4294967295|D>>>25),D=M+(O^S&(P^O))+k[1]+3905402710&4294967295,M=S+(D<<12&4294967295|D>>>20),D=O+(P^M&(S^P))+k[2]+606105819&4294967295,O=M+(D<<17&4294967295|D>>>15),D=P+(S^O&(M^S))+k[3]+3250441966&4294967295,P=O+(D<<22&4294967295|D>>>10),D=S+(M^P&(O^M))+k[4]+4118548399&4294967295,S=P+(D<<7&4294967295|D>>>25),D=M+(O^S&(P^O))+k[5]+1200080426&4294967295,M=S+(D<<12&4294967295|D>>>20),D=O+(P^M&(S^P))+k[6]+2821735955&4294967295,O=M+(D<<17&4294967295|D>>>15),D=P+(S^O&(M^S))+k[7]+4249261313&4294967295,P=O+(D<<22&4294967295|D>>>10),D=S+(M^P&(O^M))+k[8]+1770035416&4294967295,S=P+(D<<7&4294967295|D>>>25),D=M+(O^S&(P^O))+k[9]+2336552879&4294967295,M=S+(D<<12&4294967295|D>>>20),D=O+(P^M&(S^P))+k[10]+4294925233&4294967295,O=M+(D<<17&4294967295|D>>>15),D=P+(S^O&(M^S))+k[11]+2304563134&4294967295,P=O+(D<<22&4294967295|D>>>10),D=S+(M^P&(O^M))+k[12]+1804603682&4294967295,S=P+(D<<7&4294967295|D>>>25),D=M+(O^S&(P^O))+k[13]+4254626195&4294967295,M=S+(D<<12&4294967295|D>>>20),D=O+(P^M&(S^P))+k[14]+2792965006&4294967295,O=M+(D<<17&4294967295|D>>>15),D=P+(S^O&(M^S))+k[15]+1236535329&4294967295,P=O+(D<<22&4294967295|D>>>10),D=S+(O^M&(P^O))+k[1]+4129170786&4294967295,S=P+(D<<5&4294967295|D>>>27),D=M+(P^O&(S^P))+k[6]+3225465664&4294967295,M=S+(D<<9&4294967295|D>>>23),D=O+(S^P&(M^S))+k[11]+643717713&4294967295,O=M+(D<<14&4294967295|D>>>18),D=P+(M^S&(O^M))+k[0]+3921069994&4294967295,P=O+(D<<20&4294967295|D>>>12),D=S+(O^M&(P^O))+k[5]+3593408605&4294967295,S=P+(D<<5&4294967295|D>>>27),D=M+(P^O&(S^P))+k[10]+38016083&4294967295,M=S+(D<<9&4294967295|D>>>23),D=O+(S^P&(M^S))+k[15]+3634488961&4294967295,O=M+(D<<14&4294967295|D>>>18),D=P+(M^S&(O^M))+k[4]+3889429448&4294967295,P=O+(D<<20&4294967295|D>>>12),D=S+(O^M&(P^O))+k[9]+568446438&4294967295,S=P+(D<<5&4294967295|D>>>27),D=M+(P^O&(S^P))+k[14]+3275163606&4294967295,M=S+(D<<9&4294967295|D>>>23),D=O+(S^P&(M^S))+k[3]+4107603335&4294967295,O=M+(D<<14&4294967295|D>>>18),D=P+(M^S&(O^M))+k[8]+1163531501&4294967295,P=O+(D<<20&4294967295|D>>>12),D=S+(O^M&(P^O))+k[13]+2850285829&4294967295,S=P+(D<<5&4294967295|D>>>27),D=M+(P^O&(S^P))+k[2]+4243563512&4294967295,M=S+(D<<9&4294967295|D>>>23),D=O+(S^P&(M^S))+k[7]+1735328473&4294967295,O=M+(D<<14&4294967295|D>>>18),D=P+(M^S&(O^M))+k[12]+2368359562&4294967295,P=O+(D<<20&4294967295|D>>>12),D=S+(P^O^M)+k[5]+4294588738&4294967295,S=P+(D<<4&4294967295|D>>>28),D=M+(S^P^O)+k[8]+2272392833&4294967295,M=S+(D<<11&4294967295|D>>>21),D=O+(M^S^P)+k[11]+1839030562&4294967295,O=M+(D<<16&4294967295|D>>>16),D=P+(O^M^S)+k[14]+4259657740&4294967295,P=O+(D<<23&4294967295|D>>>9),D=S+(P^O^M)+k[1]+2763975236&4294967295,S=P+(D<<4&4294967295|D>>>28),D=M+(S^P^O)+k[4]+1272893353&4294967295,M=S+(D<<11&4294967295|D>>>21),D=O+(M^S^P)+k[7]+4139469664&4294967295,O=M+(D<<16&4294967295|D>>>16),D=P+(O^M^S)+k[10]+3200236656&4294967295,P=O+(D<<23&4294967295|D>>>9),D=S+(P^O^M)+k[13]+681279174&4294967295,S=P+(D<<4&4294967295|D>>>28),D=M+(S^P^O)+k[0]+3936430074&4294967295,M=S+(D<<11&4294967295|D>>>21),D=O+(M^S^P)+k[3]+3572445317&4294967295,O=M+(D<<16&4294967295|D>>>16),D=P+(O^M^S)+k[6]+76029189&4294967295,P=O+(D<<23&4294967295|D>>>9),D=S+(P^O^M)+k[9]+3654602809&4294967295,S=P+(D<<4&4294967295|D>>>28),D=M+(S^P^O)+k[12]+3873151461&4294967295,M=S+(D<<11&4294967295|D>>>21),D=O+(M^S^P)+k[15]+530742520&4294967295,O=M+(D<<16&4294967295|D>>>16),D=P+(O^M^S)+k[2]+3299628645&4294967295,P=O+(D<<23&4294967295|D>>>9),D=S+(O^(P|~M))+k[0]+4096336452&4294967295,S=P+(D<<6&4294967295|D>>>26),D=M+(P^(S|~O))+k[7]+1126891415&4294967295,M=S+(D<<10&4294967295|D>>>22),D=O+(S^(M|~P))+k[14]+2878612391&4294967295,O=M+(D<<15&4294967295|D>>>17),D=P+(M^(O|~S))+k[5]+4237533241&4294967295,P=O+(D<<21&4294967295|D>>>11),D=S+(O^(P|~M))+k[12]+1700485571&4294967295,S=P+(D<<6&4294967295|D>>>26),D=M+(P^(S|~O))+k[3]+2399980690&4294967295,M=S+(D<<10&4294967295|D>>>22),D=O+(S^(M|~P))+k[10]+4293915773&4294967295,O=M+(D<<15&4294967295|D>>>17),D=P+(M^(O|~S))+k[1]+2240044497&4294967295,P=O+(D<<21&4294967295|D>>>11),D=S+(O^(P|~M))+k[8]+1873313359&4294967295,S=P+(D<<6&4294967295|D>>>26),D=M+(P^(S|~O))+k[15]+4264355552&4294967295,M=S+(D<<10&4294967295|D>>>22),D=O+(S^(M|~P))+k[6]+2734768916&4294967295,O=M+(D<<15&4294967295|D>>>17),D=P+(M^(O|~S))+k[13]+1309151649&4294967295,P=O+(D<<21&4294967295|D>>>11),D=S+(O^(P|~M))+k[4]+4149444226&4294967295,S=P+(D<<6&4294967295|D>>>26),D=M+(P^(S|~O))+k[11]+3174756917&4294967295,M=S+(D<<10&4294967295|D>>>22),D=O+(S^(M|~P))+k[2]+718787259&4294967295,O=M+(D<<15&4294967295|D>>>17),D=P+(M^(O|~S))+k[9]+3951481745&4294967295,v.g[0]=v.g[0]+S&4294967295,v.g[1]=v.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,v.g[2]=v.g[2]+O&4294967295,v.g[3]=v.g[3]+M&4294967295}r.prototype.u=function(v,S){S===void 0&&(S=v.length);for(var P=S-this.blockSize,k=this.B,O=this.h,M=0;M<S;){if(O==0)for(;M<=P;)i(this,v,M),M+=this.blockSize;if(typeof v=="string"){for(;M<S;)if(k[O++]=v.charCodeAt(M++),O==this.blockSize){i(this,k),O=0;break}}else for(;M<S;)if(k[O++]=v[M++],O==this.blockSize){i(this,k),O=0;break}}this.h=O,this.o+=S},r.prototype.v=function(){var v=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);v[0]=128;for(var S=1;S<v.length-8;++S)v[S]=0;var P=8*this.o;for(S=v.length-8;S<v.length;++S)v[S]=P&255,P/=256;for(this.u(v),v=Array(16),S=P=0;4>S;++S)for(var k=0;32>k;k+=8)v[P++]=this.g[S]>>>k&255;return v};function o(v,S){var P=a;return Object.prototype.hasOwnProperty.call(P,v)?P[v]:P[v]=S(v)}function s(v,S){this.h=S;for(var P=[],k=!0,O=v.length-1;0<=O;O--){var M=v[O]|0;k&&M==S||(P[O]=M,k=!1)}this.g=P}var a={};function l(v){return-128<=v&&128>v?o(v,function(S){return new s([S|0],0>S?-1:0)}):new s([v|0],0>v?-1:0)}function u(v){if(isNaN(v)||!isFinite(v))return d;if(0>v)return b(u(-v));for(var S=[],P=1,k=0;v>=P;k++)S[k]=v/P|0,P*=4294967296;return new s(S,0)}function c(v,S){if(v.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(v.charAt(0)=="-")return b(c(v.substring(1),S));if(0<=v.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(S,8)),k=d,O=0;O<v.length;O+=8){var M=Math.min(8,v.length-O),D=parseInt(v.substring(O,O+M),S);8>M?(M=u(Math.pow(S,M)),k=k.j(M).add(u(D))):(k=k.j(P),k=k.add(u(D)))}return k}var d=l(0),f=l(1),y=l(16777216);t=s.prototype,t.m=function(){if(_(this))return-b(this).m();for(var v=0,S=1,P=0;P<this.g.length;P++){var k=this.i(P);v+=(0<=k?k:4294967296+k)*S,S*=4294967296}return v},t.toString=function(v){if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(x(this))return"0";if(_(this))return"-"+b(this).toString(v);for(var S=u(Math.pow(v,6)),P=this,k="";;){var O=N(P,S).g;P=T(P,O.j(S));var M=((0<P.g.length?P.g[0]:P.h)>>>0).toString(v);if(P=O,x(P))return M+k;for(;6>M.length;)M="0"+M;k=M+k}},t.i=function(v){return 0>v?0:v<this.g.length?this.g[v]:this.h};function x(v){if(v.h!=0)return!1;for(var S=0;S<v.g.length;S++)if(v.g[S]!=0)return!1;return!0}function _(v){return v.h==-1}t.l=function(v){return v=T(this,v),_(v)?-1:x(v)?0:1};function b(v){for(var S=v.g.length,P=[],k=0;k<S;k++)P[k]=~v.g[k];return new s(P,~v.h).add(f)}t.abs=function(){return _(this)?b(this):this},t.add=function(v){for(var S=Math.max(this.g.length,v.g.length),P=[],k=0,O=0;O<=S;O++){var M=k+(this.i(O)&65535)+(v.i(O)&65535),D=(M>>>16)+(this.i(O)>>>16)+(v.i(O)>>>16);k=D>>>16,M&=65535,D&=65535,P[O]=D<<16|M}return new s(P,P[P.length-1]&-2147483648?-1:0)};function T(v,S){return v.add(b(S))}t.j=function(v){if(x(this)||x(v))return d;if(_(this))return _(v)?b(this).j(b(v)):b(b(this).j(v));if(_(v))return b(this.j(b(v)));if(0>this.l(y)&&0>v.l(y))return u(this.m()*v.m());for(var S=this.g.length+v.g.length,P=[],k=0;k<2*S;k++)P[k]=0;for(k=0;k<this.g.length;k++)for(var O=0;O<v.g.length;O++){var M=this.i(k)>>>16,D=this.i(k)&65535,U=v.i(O)>>>16,B=v.i(O)&65535;P[2*k+2*O]+=D*B,w(P,2*k+2*O),P[2*k+2*O+1]+=M*B,w(P,2*k+2*O+1),P[2*k+2*O+1]+=D*U,w(P,2*k+2*O+1),P[2*k+2*O+2]+=M*U,w(P,2*k+2*O+2)}for(k=0;k<S;k++)P[k]=P[2*k+1]<<16|P[2*k];for(k=S;k<2*S;k++)P[k]=0;return new s(P,0)};function w(v,S){for(;(v[S]&65535)!=v[S];)v[S+1]+=v[S]>>>16,v[S]&=65535,S++}function A(v,S){this.g=v,this.h=S}function N(v,S){if(x(S))throw Error("division by zero");if(x(v))return new A(d,d);if(_(v))return S=N(b(v),S),new A(b(S.g),b(S.h));if(_(S))return S=N(v,b(S)),new A(b(S.g),S.h);if(30<v.g.length){if(_(v)||_(S))throw Error("slowDivide_ only works with positive integers.");for(var P=f,k=S;0>=k.l(v);)P=E(P),k=E(k);var O=I(P,1),M=I(k,1);for(k=I(k,2),P=I(P,2);!x(k);){var D=M.add(k);0>=D.l(v)&&(O=O.add(P),M=D),k=I(k,1),P=I(P,1)}return S=T(v,O.j(S)),new A(O,S)}for(O=d;0<=v.l(S);){for(P=Math.max(1,Math.floor(v.m()/S.m())),k=Math.ceil(Math.log(P)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),M=u(P),D=M.j(S);_(D)||0<D.l(v);)P-=k,M=u(P),D=M.j(S);x(M)&&(M=f),O=O.add(M),v=T(v,D)}return new A(O,v)}t.A=function(v){return N(this,v).h},t.and=function(v){for(var S=Math.max(this.g.length,v.g.length),P=[],k=0;k<S;k++)P[k]=this.i(k)&v.i(k);return new s(P,this.h&v.h)},t.or=function(v){for(var S=Math.max(this.g.length,v.g.length),P=[],k=0;k<S;k++)P[k]=this.i(k)|v.i(k);return new s(P,this.h|v.h)},t.xor=function(v){for(var S=Math.max(this.g.length,v.g.length),P=[],k=0;k<S;k++)P[k]=this.i(k)^v.i(k);return new s(P,this.h^v.h)};function E(v){for(var S=v.g.length+1,P=[],k=0;k<S;k++)P[k]=v.i(k)<<1|v.i(k-1)>>>31;return new s(P,v.h)}function I(v,S){var P=S>>5;S%=32;for(var k=v.g.length-P,O=[],M=0;M<k;M++)O[M]=0<S?v.i(M+P)>>>S|v.i(M+P+1)<<32-S:v.i(M+P);return new s(O,v.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,AD=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,As=s}).apply(typeof N1<"u"?N1:typeof self<"u"?self:typeof window<"u"?window:{});var vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ID,mc,CD,rp,Rx,PD,kD,ND;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,C,R){return m==Array.prototype||m==Object.prototype||(m[C]=R.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof vh=="object"&&vh];for(var C=0;C<m.length;++C){var R=m[C];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(m,C){if(C)e:{var R=r;m=m.split(".");for(var L=0;L<m.length-1;L++){var G=m[L];if(!(G in R))break e;R=R[G]}m=m[m.length-1],L=R[m],C=C(L),C!=L&&C!=null&&e(R,m,{configurable:!0,writable:!0,value:C})}}function o(m,C){m instanceof String&&(m+="");var R=0,L=!1,G={next:function(){if(!L&&R<m.length){var H=R++;return{value:C(H,m[H]),done:!1}}return L=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(m){return m||function(){return o(this,function(C,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(m){var C=typeof m;return C=C!="object"?C:m?Array.isArray(m)?"array":C:"null",C=="array"||C=="object"&&typeof m.length=="number"}function u(m){var C=typeof m;return C=="object"&&m!=null||C=="function"}function c(m,C,R){return m.call.apply(m.bind,arguments)}function d(m,C,R){if(!m)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,L),m.apply(C,G)}}return function(){return m.apply(C,arguments)}}function f(m,C,R){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,f.apply(null,arguments)}function y(m,C){var R=Array.prototype.slice.call(arguments,1);return function(){var L=R.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function x(m,C){function R(){}R.prototype=C.prototype,m.aa=C.prototype,m.prototype=new R,m.prototype.constructor=m,m.Qb=function(L,G,H){for(var oe=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)oe[Qe-2]=arguments[Qe];return C.prototype[G].apply(L,oe)}}function _(m){const C=m.length;if(0<C){const R=Array(C);for(let L=0;L<C;L++)R[L]=m[L];return R}return[]}function b(m,C){for(let R=1;R<arguments.length;R++){const L=arguments[R];if(l(L)){const G=m.length||0,H=L.length||0;m.length=G+H;for(let oe=0;oe<H;oe++)m[G+oe]=L[oe]}else m.push(L)}}class T{constructor(C,R){this.i=C,this.j=R,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function w(m){return/^[\s\xa0]*$/.test(m)}function A(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function N(m){return N[" "](m),m}N[" "]=function(){};var E=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function I(m,C,R){for(const L in m)C.call(R,m[L],L,m)}function v(m,C){for(const R in m)C.call(void 0,m[R],R,m)}function S(m){const C={};for(const R in m)C[R]=m[R];return C}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(m,C){let R,L;for(let G=1;G<arguments.length;G++){L=arguments[G];for(R in L)m[R]=L[R];for(let H=0;H<P.length;H++)R=P[H],Object.prototype.hasOwnProperty.call(L,R)&&(m[R]=L[R])}}function O(m){var C=1;m=m.split(":");const R=[];for(;0<C&&m.length;)R.push(m.shift()),C--;return m.length&&R.push(m.join(":")),R}function M(m){a.setTimeout(()=>{throw m},0)}function D(){var m=z;let C=null;return m.g&&(C=m.g,m.g=m.g.next,m.g||(m.h=null),C.next=null),C}class U{constructor(){this.h=this.g=null}add(C,R){const L=B.get();L.set(C,R),this.h?this.h.next=L:this.g=L,this.h=L}}var B=new T(()=>new j,m=>m.reset());class j{constructor(){this.next=this.g=this.h=null}set(C,R){this.h=C,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let q,F=!1,z=new U,Y=()=>{const m=a.Promise.resolve(void 0);q=()=>{m.then(ie)}};var ie=()=>{for(var m;m=D();){try{m.h.call(m.g)}catch(R){M(R)}var C=B;C.j(m),100>C.h&&(C.h++,m.next=C.g,C.g=m)}F=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(m,C){this.type=m,this.g=this.target=C,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,C=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const R=()=>{};a.addEventListener("test",R,C),a.removeEventListener("test",R,C)}catch{}return m}();function W(m,C){if(se.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var R=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=C,C=m.relatedTarget){if(E){e:{try{N(C.nodeName);var G=!0;break e}catch{}G=!1}G||(C=null)}}else R=="mouseover"?C=m.fromElement:R=="mouseout"&&(C=m.toElement);this.relatedTarget=C,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:pe[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&W.aa.h.call(this)}}x(W,se);var pe={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Z(m,C,R,L,G){this.listener=m,this.proxy=null,this.src=C,this.type=R,this.capture=!!L,this.ha=G,this.key=++Ee,this.da=this.fa=!1}function le(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function me(m){this.src=m,this.g={},this.h=0}me.prototype.add=function(m,C,R,L,G){var H=m.toString();m=this.g[H],m||(m=this.g[H]=[],this.h++);var oe=Oe(m,C,L,G);return-1<oe?(C=m[oe],R||(C.fa=!1)):(C=new Z(C,this.src,H,!!L,G),C.fa=R,m.push(C)),C};function J(m,C){var R=C.type;if(R in m.g){var L=m.g[R],G=Array.prototype.indexOf.call(L,C,void 0),H;(H=0<=G)&&Array.prototype.splice.call(L,G,1),H&&(le(C),m.g[R].length==0&&(delete m.g[R],m.h--))}}function Oe(m,C,R,L){for(var G=0;G<m.length;++G){var H=m[G];if(!H.da&&H.listener==C&&H.capture==!!R&&H.ha==L)return G}return-1}var xe="closure_lm_"+(1e6*Math.random()|0),Je={};function et(m,C,R,L,G){if(Array.isArray(C)){for(var H=0;H<C.length;H++)et(m,C[H],R,L,G);return null}return R=Cu(R),m&&m[ke]?m.K(C,R,u(L)?!!L.capture:!1,G):$e(m,C,R,!1,L,G)}function $e(m,C,R,L,G,H){if(!C)throw Error("Invalid event type");var oe=u(G)?!!G.capture:!!G,Qe=Qo(m);if(Qe||(m[xe]=Qe=new me(m)),R=Qe.add(C,R,L,oe,H),R.proxy)return R;if(L=mn(),R.proxy=L,L.src=m,L.listener=R,m.addEventListener)Pe||(G=oe),G===void 0&&(G=!1),m.addEventListener(C.toString(),L,G);else if(m.attachEvent)m.attachEvent(jr(C.toString()),L);else if(m.addListener&&m.removeListener)m.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return R}function mn(){function m(R){return C.call(m.src,m.listener,R)}const C=oi;return m}function ii(m,C,R,L,G){if(Array.isArray(C))for(var H=0;H<C.length;H++)ii(m,C[H],R,L,G);else L=u(L)?!!L.capture:!!L,R=Cu(R),m&&m[ke]?(m=m.i,C=String(C).toString(),C in m.g&&(H=m.g[C],R=Oe(H,R,L,G),-1<R&&(le(H[R]),Array.prototype.splice.call(H,R,1),H.length==0&&(delete m.g[C],m.h--)))):m&&(m=Qo(m))&&(C=m.g[C.toString()],m=-1,C&&(m=Oe(C,R,L,G)),(R=-1<m?C[m]:null)&&Yi(R))}function Yi(m){if(typeof m!="number"&&m&&!m.da){var C=m.src;if(C&&C[ke])J(C.i,m);else{var R=m.type,L=m.proxy;C.removeEventListener?C.removeEventListener(R,L,m.capture):C.detachEvent?C.detachEvent(jr(R),L):C.addListener&&C.removeListener&&C.removeListener(L),(R=Qo(C))?(J(R,m),R.h==0&&(R.src=null,C[xe]=null)):le(m)}}}function jr(m){return m in Je?Je[m]:Je[m]="on"+m}function oi(m,C){if(m.da)m=!0;else{C=new W(C,this);var R=m.listener,L=m.ha||m.src;m.fa&&Yi(m),m=R.call(L,C)}return m}function Qo(m){return m=m[xe],m instanceof me?m:null}var la="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cu(m){return typeof m=="function"?m:(m[la]||(m[la]=function(C){return m.handleEvent(C)}),m[la])}function Zt(){Q.call(this),this.i=new me(this),this.M=this,this.F=null}x(Zt,Q),Zt.prototype[ke]=!0,Zt.prototype.removeEventListener=function(m,C,R,L){ii(this,m,C,R,L)};function gn(m,C){var R,L=m.F;if(L)for(R=[];L;L=L.F)R.push(L);if(m=m.M,L=C.type||C,typeof C=="string")C=new se(C,m);else if(C instanceof se)C.target=C.target||m;else{var G=C;C=new se(L,m),k(C,G)}if(G=!0,R)for(var H=R.length-1;0<=H;H--){var oe=C.g=R[H];G=Df(oe,L,!0,C)&&G}if(oe=C.g=m,G=Df(oe,L,!0,C)&&G,G=Df(oe,L,!1,C)&&G,R)for(H=0;H<R.length;H++)oe=C.g=R[H],G=Df(oe,L,!1,C)&&G}Zt.prototype.N=function(){if(Zt.aa.N.call(this),this.i){var m=this.i,C;for(C in m.g){for(var R=m.g[C],L=0;L<R.length;L++)le(R[L]);delete m.g[C],m.h--}}this.F=null},Zt.prototype.K=function(m,C,R,L){return this.i.add(String(m),C,!1,R,L)},Zt.prototype.L=function(m,C,R,L){return this.i.add(String(m),C,!0,R,L)};function Df(m,C,R,L){if(C=m.i.g[String(C)],!C)return!0;C=C.concat();for(var G=!0,H=0;H<C.length;++H){var oe=C[H];if(oe&&!oe.da&&oe.capture==R){var Qe=oe.listener,qt=oe.ha||oe.src;oe.fa&&J(m.i,oe),G=Qe.call(qt,L)!==!1&&G}}return G&&!L.defaultPrevented}function YT(m,C,R){if(typeof m=="function")R&&(m=f(m,R));else if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:a.setTimeout(m,C||0)}function JT(m){m.g=YT(()=>{m.g=null,m.i&&(m.i=!1,JT(m))},m.l);const C=m.h;m.h=null,m.m.apply(null,C)}class qF extends Q{constructor(C,R){super(),this.m=C,this.l=R,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:JT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pu(m){Q.call(this),this.h=m,this.g={}}x(Pu,Q);var XT=[];function QT(m){I(m.g,function(C,R){this.g.hasOwnProperty(R)&&Yi(C)},m),m.g={}}Pu.prototype.N=function(){Pu.aa.N.call(this),QT(this)},Pu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wy=a.JSON.stringify,HF=a.JSON.parse,zF=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function Ky(){}Ky.prototype.h=null;function ZT(m){return m.h||(m.h=m.i())}function eS(){}var ku={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yy(){se.call(this,"d")}x(Yy,se);function Jy(){se.call(this,"c")}x(Jy,se);var Zo={},tS=null;function Lf(){return tS=tS||new Zt}Zo.La="serverreachability";function nS(m){se.call(this,Zo.La,m)}x(nS,se);function Nu(m){const C=Lf();gn(C,new nS(C))}Zo.STAT_EVENT="statevent";function rS(m,C){se.call(this,Zo.STAT_EVENT,m),this.stat=C}x(rS,se);function yn(m){const C=Lf();gn(C,new rS(C,m))}Zo.Ma="timingevent";function iS(m,C){se.call(this,Zo.Ma,m),this.size=C}x(iS,se);function Ru(m,C){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},C)}function Ou(){this.g=!0}Ou.prototype.xa=function(){this.g=!1};function WF(m,C,R,L,G,H){m.info(function(){if(m.g)if(H)for(var oe="",Qe=H.split("&"),qt=0;qt<Qe.length;qt++){var je=Qe[qt].split("=");if(1<je.length){var en=je[0];je=je[1];var tn=en.split("_");oe=2<=tn.length&&tn[1]=="type"?oe+(en+"="+je+"&"):oe+(en+"=redacted&")}}else oe=null;else oe=H;return"XMLHTTP REQ ("+L+") [attempt "+G+"]: "+C+`
`+R+`
`+oe})}function KF(m,C,R,L,G,H,oe){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+G+"]: "+C+`
`+R+`
`+H+" "+oe})}function ua(m,C,R,L){m.info(function(){return"XMLHTTP TEXT ("+C+"): "+JF(m,R)+(L?" "+L:"")})}function YF(m,C){m.info(function(){return"TIMEOUT: "+C})}Ou.prototype.info=function(){};function JF(m,C){if(!m.g)return C;if(!C)return null;try{var R=JSON.parse(C);if(R){for(m=0;m<R.length;m++)if(Array.isArray(R[m])){var L=R[m];if(!(2>L.length)){var G=L[1];if(Array.isArray(G)&&!(1>G.length)){var H=G[0];if(H!="noop"&&H!="stop"&&H!="close")for(var oe=1;oe<G.length;oe++)G[oe]=""}}}}return Wy(R)}catch{return C}}var $f={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xy;function jf(){}x(jf,Ky),jf.prototype.g=function(){return new XMLHttpRequest},jf.prototype.i=function(){return{}},Xy=new jf;function Ji(m,C,R,L){this.j=m,this.i=C,this.l=R,this.R=L||1,this.U=new Pu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new sS}function sS(){this.i=null,this.g="",this.h=!1}var aS={},Qy={};function Zy(m,C,R){m.L=1,m.v=Bf(si(C)),m.m=R,m.P=!0,lS(m,null)}function lS(m,C){m.F=Date.now(),Vf(m),m.A=si(m.v);var R=m.A,L=m.R;Array.isArray(L)||(L=[String(L)]),wS(R.i,"t",L),m.C=0,R=m.j.J,m.h=new sS,m.g=FS(m.j,R?C:null,!m.m),0<m.O&&(m.M=new qF(f(m.Y,m,m.g),m.O)),C=m.U,R=m.g,L=m.ca;var G="readystatechange";Array.isArray(G)||(G&&(XT[0]=G.toString()),G=XT);for(var H=0;H<G.length;H++){var oe=et(R,G[H],L||C.handleEvent,!1,C.h||C);if(!oe)break;C.g[oe.key]=oe}C=m.H?S(m.H):{},m.m?(m.u||(m.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,C)):(m.u="GET",m.g.ea(m.A,m.u,null,C)),Nu(),WF(m.i,m.u,m.A,m.l,m.R,m.m)}Ji.prototype.ca=function(m){m=m.target;const C=this.M;C&&ai(m)==3?C.j():this.Y(m)},Ji.prototype.Y=function(m){try{if(m==this.g)e:{const tn=ai(this.g);var C=this.g.Ba();const fa=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||PS(this.g)))){this.J||tn!=4||C==7||(C==8||0>=fa?Nu(3):Nu(2)),ev(this);var R=this.g.Z();this.X=R;t:if(uS(this)){var L=PS(this.g);m="";var G=L.length,H=ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){es(this),Mu(this);var oe="";break t}this.h.i=new a.TextDecoder}for(C=0;C<G;C++)this.h.h=!0,m+=this.h.i.decode(L[C],{stream:!(H&&C==G-1)});L.length=0,this.h.g+=m,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=R==200,KF(this.i,this.u,this.A,this.l,this.R,tn,R),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,qt=this.g;if((Qe=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Qe)){var je=Qe;break t}}je=null}if(R=je)ua(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tv(this,R);else{this.o=!1,this.s=3,yn(12),es(this),Mu(this);break e}}if(this.P){R=!0;let yr;for(;!this.J&&this.C<oe.length;)if(yr=XF(this,oe),yr==Qy){tn==4&&(this.s=4,yn(14),R=!1),ua(this.i,this.l,null,"[Incomplete Response]");break}else if(yr==aS){this.s=4,yn(15),ua(this.i,this.l,oe,"[Invalid Chunk]"),R=!1;break}else ua(this.i,this.l,yr,null),tv(this,yr);if(uS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||oe.length!=0||this.h.h||(this.s=1,yn(16),R=!1),this.o=this.o&&R,!R)ua(this.i,this.l,oe,"[Invalid Chunked Response]"),es(this),Mu(this);else if(0<oe.length&&!this.W){this.W=!0;var en=this.j;en.g==this&&en.ba&&!en.M&&(en.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),av(en),en.M=!0,yn(11))}}else ua(this.i,this.l,oe,null),tv(this,oe);tn==4&&es(this),this.o&&!this.J&&(tn==4?LS(this.j,this):(this.o=!1,Vf(this)))}else pU(this.g),R==400&&0<oe.indexOf("Unknown SID")?(this.s=3,yn(12)):(this.s=0,yn(13)),es(this),Mu(this)}}}catch{}finally{}};function uS(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function XF(m,C){var R=m.C,L=C.indexOf(`
`,R);return L==-1?Qy:(R=Number(C.substring(R,L)),isNaN(R)?aS:(L+=1,L+R>C.length?Qy:(C=C.slice(L,L+R),m.C=L+R,C)))}Ji.prototype.cancel=function(){this.J=!0,es(this)};function Vf(m){m.S=Date.now()+m.I,cS(m,m.I)}function cS(m,C){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Ru(f(m.ba,m),C)}function ev(m){m.B&&(a.clearTimeout(m.B),m.B=null)}Ji.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(YF(this.i,this.A),this.L!=2&&(Nu(),yn(17)),es(this),this.s=2,Mu(this)):cS(this,this.S-m)};function Mu(m){m.j.G==0||m.J||LS(m.j,m)}function es(m){ev(m);var C=m.M;C&&typeof C.ma=="function"&&C.ma(),m.M=null,QT(m.U),m.g&&(C=m.g,m.g=null,C.abort(),C.ma())}function tv(m,C){try{var R=m.j;if(R.G!=0&&(R.g==m||nv(R.h,m))){if(!m.K&&nv(R.h,m)&&R.G==3){try{var L=R.Da.g.parse(C)}catch{L=null}if(Array.isArray(L)&&L.length==3){var G=L;if(G[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<m.F)Kf(R),zf(R);else break e;sv(R),yn(18)}}else R.za=G[1],0<R.za-R.T&&37500>G[2]&&R.F&&R.v==0&&!R.C&&(R.C=Ru(f(R.Za,R),6e3));if(1>=hS(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else ns(R,11)}else if((m.K||R.g==m)&&Kf(R),!w(C))for(G=R.Da.g.parse(C),C=0;C<G.length;C++){let je=G[C];if(R.T=je[0],je=je[1],R.G==2)if(je[0]=="c"){R.K=je[1],R.ia=je[2];const en=je[3];en!=null&&(R.la=en,R.j.info("VER="+R.la));const tn=je[4];tn!=null&&(R.Aa=tn,R.j.info("SVER="+R.Aa));const fa=je[5];fa!=null&&typeof fa=="number"&&0<fa&&(L=1.5*fa,R.L=L,R.j.info("backChannelRequestTimeoutMs_="+L)),L=R;const yr=m.g;if(yr){const Jf=yr.g?yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jf){var H=L.h;H.g||Jf.indexOf("spdy")==-1&&Jf.indexOf("quic")==-1&&Jf.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(rv(H,H.h),H.h=null))}if(L.D){const lv=yr.g?yr.g.getResponseHeader("X-HTTP-Session-Id"):null;lv&&(L.ya=lv,it(L.I,L.D,lv))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-m.F,R.j.info("Handshake RTT: "+R.R+"ms")),L=R;var oe=m;if(L.qa=VS(L,L.J?L.ia:null,L.W),oe.K){pS(L.h,oe);var Qe=oe,qt=L.L;qt&&(Qe.I=qt),Qe.B&&(ev(Qe),Vf(Qe)),L.g=oe}else MS(L);0<R.i.length&&Wf(R)}else je[0]!="stop"&&je[0]!="close"||ns(R,7);else R.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?ns(R,7):ov(R):je[0]!="noop"&&R.l&&R.l.ta(je),R.v=0)}}Nu(4)}catch{}}var QF=class{constructor(m,C){this.g=m,this.map=C}};function dS(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fS(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function hS(m){return m.h?1:m.g?m.g.size:0}function nv(m,C){return m.h?m.h==C:m.g?m.g.has(C):!1}function rv(m,C){m.g?m.g.add(C):m.h=C}function pS(m,C){m.h&&m.h==C?m.h=null:m.g&&m.g.has(C)&&m.g.delete(C)}dS.prototype.cancel=function(){if(this.i=mS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function mS(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let C=m.i;for(const R of m.g.values())C=C.concat(R.D);return C}return _(m.i)}function ZF(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var C=[],R=m.length,L=0;L<R;L++)C.push(m[L]);return C}C=[],R=0;for(L in m)C[R++]=m[L];return C}function eU(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var C=[];m=m.length;for(var R=0;R<m;R++)C.push(R);return C}C=[],R=0;for(const L in m)C[R++]=L;return C}}}function gS(m,C){if(m.forEach&&typeof m.forEach=="function")m.forEach(C,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,C,void 0);else for(var R=eU(m),L=ZF(m),G=L.length,H=0;H<G;H++)C.call(void 0,L[H],R&&R[H],m)}var yS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tU(m,C){if(m){m=m.split("&");for(var R=0;R<m.length;R++){var L=m[R].indexOf("="),G=null;if(0<=L){var H=m[R].substring(0,L);G=m[R].substring(L+1)}else H=m[R];C(H,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function ts(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof ts){this.h=m.h,Ff(this,m.j),this.o=m.o,this.g=m.g,Uf(this,m.s),this.l=m.l;var C=m.i,R=new $u;R.i=C.i,C.g&&(R.g=new Map(C.g),R.h=C.h),vS(this,R),this.m=m.m}else m&&(C=String(m).match(yS))?(this.h=!1,Ff(this,C[1]||"",!0),this.o=Du(C[2]||""),this.g=Du(C[3]||"",!0),Uf(this,C[4]),this.l=Du(C[5]||"",!0),vS(this,C[6]||"",!0),this.m=Du(C[7]||"")):(this.h=!1,this.i=new $u(null,this.h))}ts.prototype.toString=function(){var m=[],C=this.j;C&&m.push(Lu(C,xS,!0),":");var R=this.g;return(R||C=="file")&&(m.push("//"),(C=this.o)&&m.push(Lu(C,xS,!0),"@"),m.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&m.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&m.push("/"),m.push(Lu(R,R.charAt(0)=="/"?iU:rU,!0))),(R=this.i.toString())&&m.push("?",R),(R=this.m)&&m.push("#",Lu(R,sU)),m.join("")};function si(m){return new ts(m)}function Ff(m,C,R){m.j=R?Du(C,!0):C,m.j&&(m.j=m.j.replace(/:$/,""))}function Uf(m,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);m.s=C}else m.s=null}function vS(m,C,R){C instanceof $u?(m.i=C,aU(m.i,m.h)):(R||(C=Lu(C,oU)),m.i=new $u(C,m.h))}function it(m,C,R){m.i.set(C,R)}function Bf(m){return it(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Du(m,C){return m?C?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Lu(m,C,R){return typeof m=="string"?(m=encodeURI(m).replace(C,nU),R&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function nU(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var xS=/[#\/\?@]/g,rU=/[#\?:]/g,iU=/[#\?]/g,oU=/[#\?@]/g,sU=/#/g;function $u(m,C){this.h=this.g=null,this.i=m||null,this.j=!!C}function Xi(m){m.g||(m.g=new Map,m.h=0,m.i&&tU(m.i,function(C,R){m.add(decodeURIComponent(C.replace(/\+/g," ")),R)}))}t=$u.prototype,t.add=function(m,C){Xi(this),this.i=null,m=ca(this,m);var R=this.g.get(m);return R||this.g.set(m,R=[]),R.push(C),this.h+=1,this};function _S(m,C){Xi(m),C=ca(m,C),m.g.has(C)&&(m.i=null,m.h-=m.g.get(C).length,m.g.delete(C))}function bS(m,C){return Xi(m),C=ca(m,C),m.g.has(C)}t.forEach=function(m,C){Xi(this),this.g.forEach(function(R,L){R.forEach(function(G){m.call(C,G,L,this)},this)},this)},t.na=function(){Xi(this);const m=Array.from(this.g.values()),C=Array.from(this.g.keys()),R=[];for(let L=0;L<C.length;L++){const G=m[L];for(let H=0;H<G.length;H++)R.push(C[L])}return R},t.V=function(m){Xi(this);let C=[];if(typeof m=="string")bS(this,m)&&(C=C.concat(this.g.get(ca(this,m))));else{m=Array.from(this.g.values());for(let R=0;R<m.length;R++)C=C.concat(m[R])}return C},t.set=function(m,C){return Xi(this),this.i=null,m=ca(this,m),bS(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[C]),this.h+=1,this},t.get=function(m,C){return m?(m=this.V(m),0<m.length?String(m[0]):C):C};function wS(m,C,R){_S(m,C),0<R.length&&(m.i=null,m.g.set(ca(m,C),_(R)),m.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],C=Array.from(this.g.keys());for(var R=0;R<C.length;R++){var L=C[R];const H=encodeURIComponent(String(L)),oe=this.V(L);for(L=0;L<oe.length;L++){var G=H;oe[L]!==""&&(G+="="+encodeURIComponent(String(oe[L]))),m.push(G)}}return this.i=m.join("&")};function ca(m,C){return C=String(C),m.j&&(C=C.toLowerCase()),C}function aU(m,C){C&&!m.j&&(Xi(m),m.i=null,m.g.forEach(function(R,L){var G=L.toLowerCase();L!=G&&(_S(this,L),wS(this,G,R))},m)),m.j=C}function lU(m,C){const R=new Ou;if(a.Image){const L=new Image;L.onload=y(Qi,R,"TestLoadImage: loaded",!0,C,L),L.onerror=y(Qi,R,"TestLoadImage: error",!1,C,L),L.onabort=y(Qi,R,"TestLoadImage: abort",!1,C,L),L.ontimeout=y(Qi,R,"TestLoadImage: timeout",!1,C,L),a.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else C(!1)}function uU(m,C){const R=new Ou,L=new AbortController,G=setTimeout(()=>{L.abort(),Qi(R,"TestPingServer: timeout",!1,C)},1e4);fetch(m,{signal:L.signal}).then(H=>{clearTimeout(G),H.ok?Qi(R,"TestPingServer: ok",!0,C):Qi(R,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(G),Qi(R,"TestPingServer: error",!1,C)})}function Qi(m,C,R,L,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),L(R)}catch{}}function cU(){this.g=new zF}function dU(m,C,R){const L=R||"";try{gS(m,function(G,H){let oe=G;u(G)&&(oe=Wy(G)),C.push(L+H+"="+encodeURIComponent(oe))})}catch(G){throw C.push(L+"type="+encodeURIComponent("_badmap")),G}}function Gf(m){this.l=m.Ub||null,this.j=m.eb||!1}x(Gf,Ky),Gf.prototype.g=function(){return new qf(this.l,this.j)},Gf.prototype.i=function(m){return function(){return m}}({});function qf(m,C){Zt.call(this),this.D=m,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(qf,Zt),t=qf.prototype,t.open=function(m,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=C,this.readyState=1,Vu(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(C.body=m),(this.D||a).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ju(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Vu(this)),this.g&&(this.readyState=3,Vu(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ES(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function ES(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var C=m.value?m.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!m.done}))&&(this.response=this.responseText+=C)}m.done?ju(this):Vu(this),this.readyState==3&&ES(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,ju(this))},t.Qa=function(m){this.g&&(this.response=m,ju(this))},t.ga=function(){this.g&&ju(this)};function ju(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Vu(m)}t.setRequestHeader=function(m,C){this.u.append(m,C)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],C=this.h.entries();for(var R=C.next();!R.done;)R=R.value,m.push(R[0]+": "+R[1]),R=C.next();return m.join(`\r
`)};function Vu(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(qf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function TS(m){let C="";return I(m,function(R,L){C+=L,C+=":",C+=R,C+=`\r
`}),C}function iv(m,C,R){e:{for(L in R){var L=!1;break e}L=!0}L||(R=TS(R),typeof m=="string"?R!=null&&encodeURIComponent(String(R)):it(m,C,R))}function xt(m){Zt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(xt,Zt);var fU=/^https?$/i,hU=["POST","PUT"];t=xt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,C,R,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);C=C?C.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xy.g(),this.v=this.o?ZT(this.o):ZT(Xy),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(C,String(m),!0),this.B=!1}catch(H){SS(this,H);return}if(m=R||"",R=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var G in L)R.set(G,L[G]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const H of L.keys())R.set(H,L.get(H));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(R.keys()).find(H=>H.toLowerCase()=="content-type"),G=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(hU,C,void 0))||L||G||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,oe]of R)this.g.setRequestHeader(H,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{CS(this),this.u=!0,this.g.send(m),this.u=!1}catch(H){SS(this,H)}};function SS(m,C){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=C,m.m=5,AS(m),Hf(m)}function AS(m){m.A||(m.A=!0,gn(m,"complete"),gn(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,gn(this,"complete"),gn(this,"abort"),Hf(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hf(this,!0)),xt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?IS(this):this.bb())},t.bb=function(){IS(this)};function IS(m){if(m.h&&typeof s<"u"&&(!m.v[1]||ai(m)!=4||m.Z()!=2)){if(m.u&&ai(m)==4)YT(m.Ea,0,m);else if(gn(m,"readystatechange"),ai(m)==4){m.h=!1;try{const oe=m.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var R;if(!(R=C)){var L;if(L=oe===0){var G=String(m.D).match(yS)[1]||null;!G&&a.self&&a.self.location&&(G=a.self.location.protocol.slice(0,-1)),L=!fU.test(G?G.toLowerCase():"")}R=L}if(R)gn(m,"complete"),gn(m,"success");else{m.m=6;try{var H=2<ai(m)?m.g.statusText:""}catch{H=""}m.l=H+" ["+m.Z()+"]",AS(m)}}finally{Hf(m)}}}}function Hf(m,C){if(m.g){CS(m);const R=m.g,L=m.v[0]?()=>{}:null;m.g=null,m.v=null,C||gn(m,"ready");try{R.onreadystatechange=L}catch{}}}function CS(m){m.I&&(a.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function ai(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<ai(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var C=this.g.responseText;return m&&C.indexOf(m)==0&&(C=C.substring(m.length)),HF(C)}};function PS(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function pU(m){const C={};m=(m.g&&2<=ai(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<m.length;L++){if(w(m[L]))continue;var R=O(m[L]);const G=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const H=C[G]||[];C[G]=H,H.push(R)}v(C,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fu(m,C,R){return R&&R.internalChannelParams&&R.internalChannelParams[m]||C}function kS(m){this.Aa=0,this.i=[],this.j=new Ou,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fu("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fu("baseRetryDelayMs",5e3,m),this.cb=Fu("retryDelaySeedMs",1e4,m),this.Wa=Fu("forwardChannelMaxRetries",2,m),this.wa=Fu("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new dS(m&&m.concurrentRequestLimit),this.Da=new cU,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=kS.prototype,t.la=8,t.G=1,t.connect=function(m,C,R,L){yn(0),this.W=m,this.H=C||{},R&&L!==void 0&&(this.H.OSID=R,this.H.OAID=L),this.F=this.X,this.I=VS(this,null,this.W),Wf(this)};function ov(m){if(NS(m),m.G==3){var C=m.U++,R=si(m.I);if(it(R,"SID",m.K),it(R,"RID",C),it(R,"TYPE","terminate"),Uu(m,R),C=new Ji(m,m.j,C),C.L=2,C.v=Bf(si(R)),R=!1,a.navigator&&a.navigator.sendBeacon)try{R=a.navigator.sendBeacon(C.v.toString(),"")}catch{}!R&&a.Image&&(new Image().src=C.v,R=!0),R||(C.g=FS(C.j,null),C.g.ea(C.v)),C.F=Date.now(),Vf(C)}jS(m)}function zf(m){m.g&&(av(m),m.g.cancel(),m.g=null)}function NS(m){zf(m),m.u&&(a.clearTimeout(m.u),m.u=null),Kf(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function Wf(m){if(!fS(m.h)&&!m.s){m.s=!0;var C=m.Ga;q||Y(),F||(q(),F=!0),z.add(C,m),m.B=0}}function mU(m,C){return hS(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=C.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Ru(f(m.Ga,m,C),$S(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const G=new Ji(this,this.j,m);let H=this.o;if(this.S&&(H?(H=S(H),k(H,this.S)):H=this.S),this.m!==null||this.O||(G.H=H,H=null),this.P)e:{for(var C=0,R=0;R<this.i.length;R++){t:{var L=this.i[R];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(C+=L,4096<C){C=R;break e}if(C===4096||R===this.i.length-1){C=R+1;break e}}C=1e3}else C=1e3;C=OS(this,G,C),R=si(this.I),it(R,"RID",m),it(R,"CVER",22),this.D&&it(R,"X-HTTP-Session-Id",this.D),Uu(this,R),H&&(this.O?C="headers="+encodeURIComponent(String(TS(H)))+"&"+C:this.m&&iv(R,this.m,H)),rv(this.h,G),this.Ua&&it(R,"TYPE","init"),this.P?(it(R,"$req",C),it(R,"SID","null"),G.T=!0,Zy(G,R,null)):Zy(G,R,C),this.G=2}}else this.G==3&&(m?RS(this,m):this.i.length==0||fS(this.h)||RS(this))};function RS(m,C){var R;C?R=C.l:R=m.U++;const L=si(m.I);it(L,"SID",m.K),it(L,"RID",R),it(L,"AID",m.T),Uu(m,L),m.m&&m.o&&iv(L,m.m,m.o),R=new Ji(m,m.j,R,m.B+1),m.m===null&&(R.H=m.o),C&&(m.i=C.D.concat(m.i)),C=OS(m,R,1e3),R.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),rv(m.h,R),Zy(R,L,C)}function Uu(m,C){m.H&&I(m.H,function(R,L){it(C,L,R)}),m.l&&gS({},function(R,L){it(C,L,R)})}function OS(m,C,R){R=Math.min(m.i.length,R);var L=m.l?f(m.l.Na,m.l,m):null;e:{var G=m.i;let H=-1;for(;;){const oe=["count="+R];H==-1?0<R?(H=G[0].g,oe.push("ofs="+H)):H=0:oe.push("ofs="+H);let Qe=!0;for(let qt=0;qt<R;qt++){let je=G[qt].g;const en=G[qt].map;if(je-=H,0>je)H=Math.max(0,G[qt].g-100),Qe=!1;else try{dU(en,oe,"req"+je+"_")}catch{L&&L(en)}}if(Qe){L=oe.join("&");break e}}}return m=m.i.splice(0,R),C.D=m,L}function MS(m){if(!m.g&&!m.u){m.Y=1;var C=m.Fa;q||Y(),F||(q(),F=!0),z.add(C,m),m.v=0}}function sv(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Ru(f(m.Fa,m),$S(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,DS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Ru(f(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yn(10),zf(this),DS(this))};function av(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function DS(m){m.g=new Ji(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var C=si(m.qa);it(C,"RID","rpc"),it(C,"SID",m.K),it(C,"AID",m.T),it(C,"CI",m.F?"0":"1"),!m.F&&m.ja&&it(C,"TO",m.ja),it(C,"TYPE","xmlhttp"),Uu(m,C),m.m&&m.o&&iv(C,m.m,m.o),m.L&&(m.g.I=m.L);var R=m.g;m=m.ia,R.L=1,R.v=Bf(si(C)),R.m=null,R.P=!0,lS(R,m)}t.Za=function(){this.C!=null&&(this.C=null,zf(this),sv(this),yn(19))};function Kf(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function LS(m,C){var R=null;if(m.g==C){Kf(m),av(m),m.g=null;var L=2}else if(nv(m.h,C))R=C.D,pS(m.h,C),L=1;else return;if(m.G!=0){if(C.o)if(L==1){R=C.m?C.m.length:0,C=Date.now()-C.F;var G=m.B;L=Lf(),gn(L,new iS(L,R)),Wf(m)}else MS(m);else if(G=C.s,G==3||G==0&&0<C.X||!(L==1&&mU(m,C)||L==2&&sv(m)))switch(R&&0<R.length&&(C=m.h,C.i=C.i.concat(R)),G){case 1:ns(m,5);break;case 4:ns(m,10);break;case 3:ns(m,6);break;default:ns(m,2)}}}function $S(m,C){let R=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(R*=2),R*C}function ns(m,C){if(m.j.info("Error code "+C),C==2){var R=f(m.fb,m),L=m.Xa;const G=!L;L=new ts(L||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ff(L,"https"),Bf(L),G?lU(L.toString(),R):uU(L.toString(),R)}else yn(2);m.G=0,m.l&&m.l.sa(C),jS(m),NS(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),yn(2)):(this.j.info("Failed to ping google.com"),yn(1))};function jS(m){if(m.G=0,m.ka=[],m.l){const C=mS(m.h);(C.length!=0||m.i.length!=0)&&(b(m.ka,C),b(m.ka,m.i),m.h.i.length=0,_(m.i),m.i.length=0),m.l.ra()}}function VS(m,C,R){var L=R instanceof ts?si(R):new ts(R);if(L.g!="")C&&(L.g=C+"."+L.g),Uf(L,L.s);else{var G=a.location;L=G.protocol,C=C?C+"."+G.hostname:G.hostname,G=+G.port;var H=new ts(null);L&&Ff(H,L),C&&(H.g=C),G&&Uf(H,G),R&&(H.l=R),L=H}return R=m.D,C=m.ya,R&&C&&it(L,R,C),it(L,"VER",m.la),Uu(m,L),L}function FS(m,C,R){if(C&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=m.Ca&&!m.pa?new xt(new Gf({eb:R})):new xt(m.pa),C.Ha(m.J),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function US(){}t=US.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Yf(){}Yf.prototype.g=function(m,C){return new jn(m,C)};function jn(m,C){Zt.call(this),this.g=new kS(C),this.l=m,this.h=C&&C.messageUrlParams||null,m=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(m?m["X-WebChannel-Content-Type"]=C.messageContentType:m={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(m?m["X-WebChannel-Client-Profile"]=C.va:m={"X-WebChannel-Client-Profile":C.va}),this.g.S=m,(m=C&&C.Sb)&&!w(m)&&(this.g.m=m),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!w(C)&&(this.g.D=C,m=this.h,m!==null&&C in m&&(m=this.h,C in m&&delete m[C])),this.j=new da(this)}x(jn,Zt),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){ov(this.g)},jn.prototype.o=function(m){var C=this.g;if(typeof m=="string"){var R={};R.__data__=m,m=R}else this.u&&(R={},R.__data__=Wy(m),m=R);C.i.push(new QF(C.Ya++,m)),C.G==3&&Wf(C)},jn.prototype.N=function(){this.g.l=null,delete this.j,ov(this.g),delete this.g,jn.aa.N.call(this)};function BS(m){Yy.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var C=m.__sm__;if(C){e:{for(const R in C){m=R;break e}m=void 0}(this.i=m)&&(m=this.i,C=C!==null&&m in C?C[m]:void 0),this.data=C}else this.data=m}x(BS,Yy);function GS(){Jy.call(this),this.status=1}x(GS,Jy);function da(m){this.g=m}x(da,US),da.prototype.ua=function(){gn(this.g,"a")},da.prototype.ta=function(m){gn(this.g,new BS(m))},da.prototype.sa=function(m){gn(this.g,new GS)},da.prototype.ra=function(){gn(this.g,"b")},Yf.prototype.createWebChannel=Yf.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,ND=function(){return new Yf},kD=function(){return Lf()},PD=Zo,Rx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$f.NO_ERROR=0,$f.TIMEOUT=8,$f.HTTP_ERROR=6,rp=$f,oS.COMPLETE="complete",CD=oS,eS.EventType=ku,ku.OPEN="a",ku.CLOSE="b",ku.ERROR="c",ku.MESSAGE="d",Zt.prototype.listen=Zt.prototype.K,mc=eS,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,ID=xt}).apply(typeof vh<"u"?vh:typeof self<"u"?self:typeof window<"u"?window:{});const R1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Vw("@firebase/firestore");function Ju(){return Us.logLevel}function he(t,...e){if(Us.logLevel<=Me.DEBUG){const n=e.map(Zw);Us.debug(`Firestore (${iu}): ${t}`,...n)}}function Oi(t,...e){if(Us.logLevel<=Me.ERROR){const n=e.map(Zw);Us.error(`Firestore (${iu}): ${t}`,...n)}}function ml(t,...e){if(Us.logLevel<=Me.WARN){const n=e.map(Zw);Us.warn(`Firestore (${iu}): ${t}`,...n)}}function Zw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t="Unexpected state"){const e=`FIRESTORE (${iu}) INTERNAL ASSERTION FAILED: `+t;throw Oi(e),new Error(e)}function Ke(t,e){t||Te()}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class M7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class D7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class L7{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Po;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Po,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Po)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string"),new RD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new an(e)}}class $7{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class j7{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new $7(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class V7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F7{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ke(this.o===void 0);const r=o=>{o.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,he("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new V7(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=U7(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ve(t,e){return t<e?-1:t>e?1:0}function gl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Dt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Dt(0,0))}static max(){return new Ae(new Dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(),r===void 0?r=e.length-n:r>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return cd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class lt extends cd{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const B7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends cd{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return B7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ce(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ce(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ce(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(lt.fromString(e))}static fromName(e){return new ye(lt.fromString(e).popFirst(5))}static empty(){return new ye(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new lt(e.slice()))}}function G7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ae.fromTimestamp(r===1e9?new Dt(n+1,0):new Dt(n,r));return new Mo(i,ye.empty(),e)}function q7(t){return new Mo(t.readTime,t.key,-1)}class Mo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mo(Ae.min(),ye.empty(),-1)}static max(){return new Mo(Ae.max(),ye.empty(),-1)}}function H7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pf(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==z7)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new ee((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function K7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function mf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}eE.oe=-1;function Dg(t){return t==null}function Hp(t){return t===0&&1/t==-1/0}function Y7(t){return typeof t=="number"&&Number.isInteger(t)&&!Hp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function MD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xh(this.root,e,this.comparator,!1)}getReverseIterator(){return new xh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xh(this.root,e,this.comparator,!0)}}class xh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Wt.RED,this.left=i??Wt.EMPTY,this.right=o??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Wt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Wt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new M1(this.data.getIterator())}getIteratorFrom(e){return new M1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class M1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Hn([])}unionWith(e){let n=new Jt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Hn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new DD("Invalid base64 string: "+o):o}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const J7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Do(t){if(Ke(!!t),typeof t=="string"){let e=0;const n=J7.exec(t);if(Ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(t.seconds),nanos:wt(t.nanos)}}function wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bs(t){return typeof t=="string"?Qt.fromBase64String(t):Qt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nE(t){const e=t.mapValue.fields.__previous_value__;return tE(e)?nE(e):e}function dd(t){const e=Do(t.mapValue.fields.__local_write_time__.timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class fd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h={mapValue:{}};function Gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?tE(t)?4:Z7(t)?9007199254740991:Q7(t)?10:11:Te()}function Xr(t,e){if(t===e)return!0;const n=Gs(t);if(n!==Gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dd(t).isEqual(dd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Do(i.timestampValue),a=Do(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Bs(i.bytesValue).isEqual(Bs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return wt(i.geoPointValue.latitude)===wt(o.geoPointValue.latitude)&&wt(i.geoPointValue.longitude)===wt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return wt(i.integerValue)===wt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=wt(i.doubleValue),a=wt(o.doubleValue);return s===a?Hp(s)===Hp(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return gl(t.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(O1(s)!==O1(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Xr(s[l],a[l])))return!1;return!0}(t,e);default:return Te()}}function hd(t,e){return(t.values||[]).find(n=>Xr(n,e))!==void 0}function yl(t,e){if(t===e)return 0;const n=Gs(t),r=Gs(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=wt(o.integerValue||o.doubleValue),l=wt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return D1(t.timestampValue,e.timestampValue);case 4:return D1(dd(t),dd(e));case 5:return Ve(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Bs(o),l=Bs(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ve(a[u],l[u]);if(c!==0)return c}return Ve(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ve(wt(o.latitude),wt(s.latitude));return a!==0?a:Ve(wt(o.longitude),wt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return L1(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const d=o.fields||{},f=s.fields||{},y=(a=d.value)===null||a===void 0?void 0:a.arrayValue,x=(l=f.value)===null||l===void 0?void 0:l.arrayValue,_=Ve(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((c=x==null?void 0:x.values)===null||c===void 0?void 0:c.length)||0);return _!==0?_:L1(y,x)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===_h.mapValue&&s===_h.mapValue)return 0;if(o===_h.mapValue)return 1;if(s===_h.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=Ve(l[d],c[d]);if(f!==0)return f;const y=yl(a[l[d]],u[c[d]]);if(y!==0)return y}return Ve(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Te()}}function D1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=Do(t),r=Do(e),i=Ve(n.seconds,r.seconds);return i!==0?i:Ve(n.nanos,r.nanos)}function L1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=yl(n[i],r[i]);if(o)return o}return Ve(n.length,r.length)}function vl(t){return Ox(t)}function Ox(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Do(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Ox(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Ox(n.fields[s])}`;return i+"}"}(t.mapValue):Te()}function $1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Mx(t){return!!t&&"integerValue"in t}function rE(t){return!!t&&"arrayValue"in t}function j1(t){return!!t&&"nullValue"in t}function V1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ip(t){return!!t&&"mapValue"in t}function Q7(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Nc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Nc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Z7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ip(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nc(n)}setAll(e){let n=Kt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Nc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());ip(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ip(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qs(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new kn(Nc(this.value))}}function LD(t){const e=[];return Qs(t.fields,(n,r)=>{const i=new Kt([n]);if(ip(r)){const o=LD(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new cn(e,0,Ae.min(),Ae.min(),Ae.min(),kn.empty(),0)}static newFoundDocument(e,n,r,i){return new cn(e,1,n,Ae.min(),r,i,0)}static newNoDocument(e,n){return new cn(e,2,n,Ae.min(),Ae.min(),kn.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,Ae.min(),Ae.min(),kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n){this.position=e,this.inclusive=n}}function F1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ye.comparator(ye.fromName(s.referenceValue),n.key):r=yl(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function U1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,n="asc"){this.field=e,this.dir=n}}function eG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{}class Ct extends $D{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nG(e,n,r):n==="array-contains"?new oG(e,r):n==="in"?new sG(e,r):n==="not-in"?new aG(e,r):n==="array-contains-any"?new lG(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rG(e,r):new iG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(yl(n,this.value)):n!==null&&Gs(this.value)===Gs(n)&&this.matchesComparison(yl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Dr extends $D{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Dr(e,n)}matches(e){return jD(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function jD(t){return t.op==="and"}function VD(t){return tG(t)&&jD(t)}function tG(t){for(const e of t.filters)if(e instanceof Dr)return!1;return!0}function Dx(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+vl(t.value);if(VD(t))return t.filters.map(e=>Dx(e)).join(",");{const e=t.filters.map(n=>Dx(n)).join(",");return`${t.op}(${e})`}}function FD(t,e){return t instanceof Ct?function(r,i){return i instanceof Ct&&r.op===i.op&&r.field.isEqual(i.field)&&Xr(r.value,i.value)}(t,e):t instanceof Dr?function(r,i){return i instanceof Dr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&FD(s,i.filters[a]),!0):!1}(t,e):void Te()}function UD(t){return t instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${vl(n.value)}`}(t):t instanceof Dr?function(n){return n.op.toString()+" {"+n.getFilters().map(UD).join(" ,")+"}"}(t):"Filter"}class nG extends Ct{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class rG extends Ct{constructor(e,n){super(e,"in",n),this.keys=BD("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iG extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=BD("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BD(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class oG extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rE(n)&&hd(n.arrayValue,this.value)}}class sG extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hd(this.value.arrayValue,n)}}class aG extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(hd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!hd(this.value.arrayValue,n)}}class lG extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function B1(t,e=null,n=[],r=[],i=null,o=null,s=null){return new uG(t,e,n,r,i,o,s)}function iE(t){const e=Ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Dx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Dg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vl(r)).join(",")),e.ue=n}return e.ue}function oE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!U1(t.startAt,e.startAt)&&U1(t.endAt,e.endAt)}function Lx(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function cG(t,e,n,r,i,o,s,a){return new gf(t,e,n,r,i,o,s,a)}function sE(t){return new gf(t)}function G1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function GD(t){return t.collectionGroup!==null}function Rc(t){const e=Ie(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Jt(Kt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Wp(o,r))}),n.has(Kt.keyField().canonicalString())||e.ce.push(new Wp(Kt.keyField(),r))}return e.ce}function Wr(t){const e=Ie(t);return e.le||(e.le=dG(e,Rc(t))),e.le}function dG(t,e){if(t.limitType==="F")return B1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Wp(i.field,o)});const n=t.endAt?new zp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zp(t.startAt.position,t.startAt.inclusive):null;return B1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $x(t,e){const n=t.filters.concat([e]);return new gf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jx(t,e,n){return new gf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lg(t,e){return oE(Wr(t),Wr(e))&&t.limitType===e.limitType}function qD(t){return`${iE(Wr(t))}|lt:${t.limitType}`}function xa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>UD(i)).join(", ")}]`),Dg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>vl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>vl(i)).join(",")),`Target(${r})`}(Wr(t))}; limitType=${t.limitType})`}function $g(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ye.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Rc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=F1(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Rc(r),i)||r.endAt&&!function(s,a,l){const u=F1(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Rc(r),i))}(t,e)}function fG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HD(t){return(e,n)=>{let r=!1;for(const i of Rc(t)){const o=hG(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function hG(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?yl(l,u):Te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return MD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pG=new vt(ye.comparator);function Mi(){return pG}const zD=new vt(ye.comparator);function gc(...t){let e=zD;for(const n of t)e=e.insert(n.key,n);return e}function WD(t){let e=zD;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vs(){return Oc()}function KD(){return Oc()}function Oc(){return new ou(t=>t.toString(),(t,e)=>t.isEqual(e))}const mG=new vt(ye.comparator),gG=new Jt(ye.comparator);function Re(...t){let e=gG;for(const n of t)e=e.add(n);return e}const yG=new Jt(Ve);function vG(){return yG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hp(e)?"-0":e}}function YD(t){return{integerValue:""+t}}function xG(t,e){return Y7(e)?YD(e):aE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(){this._=void 0}}function _G(t,e,n){return t instanceof Kp?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&tE(o)&&(o=nE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof pd?XD(t,e):t instanceof md?QD(t,e):function(i,o){const s=JD(i,o),a=q1(s)+q1(i.Pe);return Mx(s)&&Mx(i.Pe)?YD(a):aE(i.serializer,a)}(t,e)}function bG(t,e,n){return t instanceof pd?XD(t,e):t instanceof md?QD(t,e):n}function JD(t,e){return t instanceof Yp?function(r){return Mx(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Kp extends jg{}class pd extends jg{constructor(e){super(),this.elements=e}}function XD(t,e){const n=ZD(e);for(const r of t.elements)n.some(i=>Xr(i,r))||n.push(r);return{arrayValue:{values:n}}}class md extends jg{constructor(e){super(),this.elements=e}}function QD(t,e){let n=ZD(e);for(const r of t.elements)n=n.filter(i=>!Xr(i,r));return{arrayValue:{values:n}}}class Yp extends jg{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function q1(t){return wt(t.integerValue||t.doubleValue)}function ZD(t){return rE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function wG(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof pd&&i instanceof pd||r instanceof md&&i instanceof md?gl(r.elements,i.elements,Xr):r instanceof Yp&&i instanceof Yp?Xr(r.Pe,i.Pe):r instanceof Kp&&i instanceof Kp}(t.transform,e.transform)}class EG{constructor(e,n){this.version=e,this.transformResults=n}}class Ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function op(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vg{}function eL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Fg(t.key,Ln.none()):new yf(t.key,t.data,Ln.none());{const n=t.data,r=kn.empty();let i=new Jt(Kt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ho(t.key,r,new Hn(i.toArray()),Ln.none())}}function TG(t,e,n){t instanceof yf?function(i,o,s){const a=i.value.clone(),l=z1(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ho?function(i,o,s){if(!op(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=z1(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(tL(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Mc(t,e,n,r){return t instanceof yf?function(o,s,a,l){if(!op(o.precondition,s))return a;const u=o.value.clone(),c=W1(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ho?function(o,s,a,l){if(!op(o.precondition,s))return a;const u=W1(o.fieldTransforms,l,s),c=s.data;return c.setAll(tL(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return op(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function SG(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=JD(r.transform,i||null);o!=null&&(n===null&&(n=kn.empty()),n.set(r.field,o))}return n||null}function H1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&gl(r,i,(o,s)=>wG(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yf extends Vg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ho extends Vg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function tL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function z1(t,e,n){const r=new Map;Ke(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,bG(s,a,n[i]))}return r}function W1(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,_G(o,s,e))}return r}class Fg extends Vg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AG extends Vg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&TG(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Mc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KD();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=eL(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&gl(this.mutations,e.mutations,(n,r)=>H1(n,r))&&gl(this.baseMutations,e.baseMutations,(n,r)=>H1(n,r))}}class lE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ke(e.mutations.length===r.length);let i=function(){return mG}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new lE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,De;function kG(t){switch(t){default:return Te();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function nL(t){if(t===void 0)return Oi("GRPC error has no .code"),X.UNKNOWN;switch(t){case St.OK:return X.OK;case St.CANCELLED:return X.CANCELLED;case St.UNKNOWN:return X.UNKNOWN;case St.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case St.INTERNAL:return X.INTERNAL;case St.UNAVAILABLE:return X.UNAVAILABLE;case St.UNAUTHENTICATED:return X.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case St.NOT_FOUND:return X.NOT_FOUND;case St.ALREADY_EXISTS:return X.ALREADY_EXISTS;case St.PERMISSION_DENIED:return X.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case St.ABORTED:return X.ABORTED;case St.OUT_OF_RANGE:return X.OUT_OF_RANGE;case St.UNIMPLEMENTED:return X.UNIMPLEMENTED;case St.DATA_LOSS:return X.DATA_LOSS;default:return Te()}}(De=St||(St={}))[De.OK=0]="OK",De[De.CANCELLED=1]="CANCELLED",De[De.UNKNOWN=2]="UNKNOWN",De[De.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",De[De.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",De[De.NOT_FOUND=5]="NOT_FOUND",De[De.ALREADY_EXISTS=6]="ALREADY_EXISTS",De[De.PERMISSION_DENIED=7]="PERMISSION_DENIED",De[De.UNAUTHENTICATED=16]="UNAUTHENTICATED",De[De.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",De[De.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",De[De.ABORTED=10]="ABORTED",De[De.OUT_OF_RANGE=11]="OUT_OF_RANGE",De[De.UNIMPLEMENTED=12]="UNIMPLEMENTED",De[De.INTERNAL=13]="INTERNAL",De[De.UNAVAILABLE=14]="UNAVAILABLE",De[De.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RG=new As([4294967295,4294967295],0);function K1(t){const e=NG().encode(t),n=new AD;return n.update(e),new Uint8Array(n.digest())}function Y1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new As([n,r],0),new As([i,o],0)]}class uE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yc(`Invalid padding: ${n}`);if(r<0)throw new yc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=As.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(As.fromNumber(r)));return i.compare(RG)===1&&(i=new As([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=K1(e),[r,i]=Y1(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new uE(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=K1(e),[r,i]=Y1(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class yc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,vf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ug(Ae.min(),i,new vt(Ve),Mi(),Re())}}class vf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vf(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class rL{constructor(e,n){this.targetId=e,this.me=n}}class iL{constructor(e,n,r=Qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class J1{constructor(){this.fe=0,this.ge=Q1(),this.pe=Qt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Re(),n=Re(),r=Re();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te()}}),new vf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Q1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class OG{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mi(),this.qe=X1(),this.Qe=new vt(Ve)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Lx(o))if(r===0){const s=new ye(o.path);this.Ue(n,s,cn.newNoDocument(s,Ae.min()))}else Ke(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Bs(r).toUint8Array()}catch(l){if(l instanceof DD)return ml("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new uE(s,i,o)}catch(l){return ml(l instanceof yc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Lx(a.target)){const l=new ye(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,cn.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Re();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Ug(e,n,this.Qe,this.ke,r);return this.ke=Mi(),this.qe=X1(),this.Qe=new vt(Ve),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new J1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Jt(Ve),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new J1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function X1(){return new vt(ye.comparator)}function Q1(){return new vt(ye.comparator)}const MG={asc:"ASCENDING",desc:"DESCENDING"},DG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LG={and:"AND",or:"OR"};class $G{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vx(t,e){return t.useProto3Json||Dg(e)?e:{value:e}}function Jp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jG(t,e){return Jp(t,e.toTimestamp())}function Kr(t){return Ke(!!t),Ae.fromTimestamp(function(n){const r=Do(n);return new Dt(r.seconds,r.nanos)}(t))}function cE(t,e){return Fx(t,e).canonicalString()}function Fx(t,e){const n=function(i){return new lt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sL(t){const e=lt.fromString(t);return Ke(dL(e)),e}function Ux(t,e){return cE(t.databaseId,e.path)}function qv(t,e){const n=sL(e);if(n.get(1)!==t.databaseId.projectId)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ce(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(lL(n))}function aL(t,e){return cE(t.databaseId,e)}function VG(t){const e=sL(t);return e.length===4?lt.emptyPath():lL(e)}function Bx(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lL(t){return Ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Z1(t,e,n){return{name:Ux(t,e),fields:n.value.mapValue.fields}}function FG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ke(c===void 0||typeof c=="string"),Qt.fromBase64String(c||"")):(Ke(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Qt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?X.UNKNOWN:nL(u.code);return new ce(c,u.message||"")}(s);n=new iL(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=qv(t,r.document.name),o=Kr(r.document.updateTime),s=r.document.createTime?Kr(r.document.createTime):Ae.min(),a=new kn({mapValue:{fields:r.document.fields}}),l=cn.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new sp(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=qv(t,r.document),o=r.readTime?Kr(r.readTime):Ae.min(),s=cn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new sp([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=qv(t,r.document),o=r.removedTargetIds||[];n=new sp([],o,i,null)}else{if(!("filter"in e))return Te();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new PG(i,o),a=r.targetId;n=new rL(a,s)}}return n}function UG(t,e){let n;if(e instanceof yf)n={update:Z1(t,e.key,e.value)};else if(e instanceof Fg)n={delete:Ux(t,e.key)};else if(e instanceof Ho)n={update:Z1(t,e.key,e.data),updateMask:JG(e.fieldMask)};else{if(!(e instanceof AG))return Te();n={verify:Ux(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Kp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof pd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof md)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Yp)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:jG(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Te()}(t,e.precondition)),n}function BG(t,e){return t&&t.length>0?(Ke(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Kr(i.updateTime):Kr(o);return s.isEqual(Ae.min())&&(s=Kr(o)),new EG(s,i.transformResults||[])}(n,e))):[]}function GG(t,e){return{documents:[aL(t,e.path)]}}function qG(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=aL(t,i);const o=function(u){if(u.length!==0)return cL(Dr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:_a(f.field),direction:WG(f.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Vx(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function HG(t){let e=VG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ke(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const f=uL(d);return f instanceof Dr&&VD(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(f=>function(x){return new Wp(ba(x.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Dg(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,y=d.values||[];return new zp(y,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,y=d.values||[];return new zp(y,f)}(n.endAt)),cG(e,i,s,o,a,"F",l,u)}function zG(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ba(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ba(n.unaryFilter.field);return Ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ba(n.unaryFilter.field);return Ct.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ba(n.unaryFilter.field);return Ct.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(t):t.fieldFilter!==void 0?function(n){return Ct.create(ba(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Dr.create(n.compositeFilter.filters.map(r=>uL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(t):Te()}function WG(t){return MG[t]}function KG(t){return DG[t]}function YG(t){return LG[t]}function _a(t){return{fieldPath:t.canonicalString()}}function ba(t){return Kt.fromServerFormat(t.fieldPath)}function cL(t){return t instanceof Ct?function(n){if(n.op==="=="){if(V1(n.value))return{unaryFilter:{field:_a(n.field),op:"IS_NAN"}};if(j1(n.value))return{unaryFilter:{field:_a(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(V1(n.value))return{unaryFilter:{field:_a(n.field),op:"IS_NOT_NAN"}};if(j1(n.value))return{unaryFilter:{field:_a(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_a(n.field),op:KG(n.op),value:n.value}}}(t):t instanceof Dr?function(n){const r=n.getFilters().map(i=>cL(i));return r.length===1?r[0]:{compositeFilter:{op:YG(n.op),filters:r}}}(t):Te()}function JG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n,r,i,o=Ae.min(),s=Ae.min(),a=Qt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new po(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(e){this.ct=e}}function QG(t){const e=HG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(){this.un=new eq}addToCollectionParentIndex(e,n){return this.un.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Mo.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Mo.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class eq{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Jt(lt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new xl(0)}static kn(){return new xl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(){this.changes=new ou(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Mc(r.mutation,i,Hn.empty(),Dt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const i=vs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=gc();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=vs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Mi();const s=Oc(),a=function(){return Oc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ho)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Mc(c.mutation,u,c.mutation.getFieldMask(),Dt.now())):s.set(u.key,Hn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new nq(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Oc();let i=new vt((s,a)=>s-a),o=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Hn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Re()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=KD();c.forEach(f=>{if(!o.has(f)){const y=eL(n.get(f),r.get(f));y!==null&&d.set(f,y),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return ee.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ee.resolve(vs());let a=-1,l=o;return s.next(u=>ee.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?ee.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Re())).next(c=>({batchId:a,changes:WD(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let i=gc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=gc();return this.indexManager.getCollectionParents(e,o).next(a=>ee.forEach(a,l=>{const u=function(d,f){return new gf(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,f)=>{s=s.insert(d,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,cn.newInvalidDocument(c)))});let a=gc();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Mc(c.mutation,u,Hn.empty(),Dt.now()),$g(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ee.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Kr(i.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:QG(i.bundledQuery),readTime:Kr(i.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(){this.overlays=new vt(ye.comparator),this.Ir=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vs();return ee.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=vs(),o=n.length+1,s=new ye(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new vt((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=vs(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=vs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return ee.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new CG(n,r));let o=this.Ir.get(n);o===void 0&&(o=Re(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.Tr=new Jt($t.Er),this.dr=new Jt($t.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new $t(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new $t(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ye(new lt([])),r=new $t(n,e),i=new $t(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ye(new lt([])),r=new $t(n,e),i=new $t(n,e+1);let o=Re();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new $t(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ye.comparator(e.key,n.key)||Ve(e.wr,n.wr)}static Ar(e,n){return Ve(e.wr,n.wr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Jt($t.Er)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new IG(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new $t(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ee.resolve(s)}lookupMutationBatch(e,n){return ee.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new $t(n,0),i=new $t(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt(Ve);return n.forEach(i=>{const o=new $t(i,0),s=new $t(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),ee.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ye.isDocumentKey(o)||(o=o.child(""));const s=new $t(new ye(o),0);let a=new Jt(Ve);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),ee.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ke(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ee.forEach(n.mutations,i=>{const o=new $t(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new $t(n,0),i=this.br.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(e){this.Mr=e,this.docs=function(){return new vt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let r=Mi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():cn.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Mi();const s=n.path,a=new ye(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||H7(q7(c),r)<=0||(i.has(c.key)||$g(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return ee.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Te()}Or(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new uq(this)}getSize(e){return ee.resolve(this.size)}}class uq extends tq{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(e){this.persistence=e,this.Nr=new ou(n=>iE(n),oE),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new dE,this.targetCount=0,this.kr=xl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ee.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new xl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Kn(n),ee.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ee.waitFor(o).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ee.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(e,n){this.qr={},this.overlays={},this.Qr=new eE(0),this.Kr=!1,this.Kr=!0,this.$r=new sq,this.referenceDelegate=e(this),this.Ur=new cq(this),this.indexManager=new ZG,this.remoteDocumentCache=function(i){return new lq(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new XG(n),this.Gr=new iq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new oq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new aq(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new fq(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return ee.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class fq extends W7{constructor(e){super(),this.currentSequenceNumber=e}}class fE{constructor(e){this.persistence=e,this.Jr=new dE,this.Yr=null}static Zr(e){return new fE(e)}get Xr(){if(this.Yr)return this.Yr;throw Te()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Xr,r=>{const i=ye.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ee.or([()=>ee.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Re(),i=Re();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new hE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return t6()?8:K7(pn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new hq;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ju()<=Me.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ee.resolve()):(Ju()<=Me.DEBUG&&he("QueryEngine","Query:",xa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ju()<=Me.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(n))):ee.resolve())}Yi(e,n){if(G1(n))return ee.resolve(null);let r=Wr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=jx(n,null,"F"),r=Wr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Re(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,jx(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return G1(n)||i.isEqual(Ae.min())?ee.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?ee.resolve(null):(Ju()<=Me.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xa(n)),this.rs(e,s,n,G7(i,-1)).next(a=>a))})}ts(e,n){let r=new Jt(HD(e));return n.forEach((i,o)=>{$g(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Ju()<=Me.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",xa(n)),this.Ji.getDocumentsMatchingQuery(e,n,Mo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mq{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new vt(Ve),this._s=new ou(o=>iE(o),oE),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rq(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function gq(t,e,n,r){return new mq(t,e,n,r)}async function fL(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Re();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function yq(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,f=d.keys();let y=ee.resolve();return f.forEach(x=>{y=y.next(()=>c.getEntry(l,x)).next(_=>{const b=u.docVersions.get(x);Ke(b!==null),_.version.compareTo(b)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Re();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function hL(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function vq(t,e){const n=Ie(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,d)));let y=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?y=y.withResumeToken(Qt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):c.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(c.resumeToken,r)),i=i.insert(d,y),function(_,b,T){return _.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(f,y,c)&&a.push(n.Ur.updateTargetData(o,y))});let l=Mi(),u=Re();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(xq(o,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(Ae.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(d=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return ee.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function xq(t,e,n){let r=Re(),i=Re();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Mi();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ae.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):he("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function _q(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bq(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,ee.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new po(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Gx(t,e,n){const r=Ie(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!mf(s))throw s;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function eI(t,e,n){const r=Ie(t);let i=Ae.min(),o=Re();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=Ie(l),f=d._s.get(c);return f!==void 0?ee.resolve(d.os.get(f)):d.Ur.getTargetData(u,c)}(r,s,Wr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Ae.min(),n?o:Re())).next(a=>(wq(r,fG(e),a),{documents:a,Ts:o})))}function wq(t,e,n){let r=t.us.get(e)||Ae.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class tI{constructor(){this.activeTargetIds=vG()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Eq{constructor(){this.so=new tI,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new tI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh=null;function Hv(){return bh===null?bh=function(){return 268435456+Math.round(2147483648*Math.random())}():bh++,"0x"+bh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class Iq extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=Hv(),l=this.xo(n,r.toUriEncodedString());he("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(c=>(he("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw ml("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+iu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=Sq[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Hv();return new Promise((s,a)=>{const l=new ID;l.setWithCredentials(!0),l.listenOnce(CD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case rp.NO_ERROR:const c=l.getResponseJson();he(on,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case rp.TIMEOUT:he(on,`RPC '${e}' ${o} timed out`),a(new ce(X.DEADLINE_EXCEEDED,"Request time out"));break;case rp.HTTP_ERROR:const d=l.getStatus();if(he(on,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const y=f==null?void 0:f.error;if(y&&y.status&&y.message){const x=function(b){const T=b.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(T)>=0?T:X.UNKNOWN}(y.status);a(new ce(x,y.message))}else a(new ce(X.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ce(X.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{he(on,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);he(on,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Hv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ND(),a=kD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");he(on,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let f=!1,y=!1;const x=new Aq({Io:b=>{y?he(on,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(f||(he(on,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),he(on,`RPC '${e}' stream ${i} sending:`,b),d.send(b))},To:()=>d.close()}),_=(b,T,w)=>{b.listen(T,A=>{try{w(A)}catch(N){setTimeout(()=>{throw N},0)}})};return _(d,mc.EventType.OPEN,()=>{y||(he(on,`RPC '${e}' stream ${i} transport opened.`),x.yo())}),_(d,mc.EventType.CLOSE,()=>{y||(y=!0,he(on,`RPC '${e}' stream ${i} transport closed`),x.So())}),_(d,mc.EventType.ERROR,b=>{y||(y=!0,ml(on,`RPC '${e}' stream ${i} transport errored:`,b),x.So(new ce(X.UNAVAILABLE,"The operation could not be completed")))}),_(d,mc.EventType.MESSAGE,b=>{var T;if(!y){const w=b.data[0];Ke(!!w);const A=w,N=A.error||((T=A[0])===null||T===void 0?void 0:T.error);if(N){he(on,`RPC '${e}' stream ${i} received error:`,N);const E=N.status;let I=function(P){const k=St[P];if(k!==void 0)return nL(k)}(E),v=N.message;I===void 0&&(I=X.INTERNAL,v="Unknown error status: "+E+" with message "+N.message),y=!0,x.So(new ce(I,v)),d.close()}else he(on,`RPC '${e}' stream ${i} received:`,w),x.bo(w)}}),_(a,PD.STAT_EVENT,b=>{b.stat===Rx.PROXY?he(on,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Rx.NOPROXY&&he(on,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function zv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t){return new $G(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new pL(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Oi(n.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ce(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Cq extends mL{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=FG(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ae.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ae.min():s.readTime?Kr(s.readTime):Ae.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Bx(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Lx(l)?{documents:GG(o,l)}:{query:qG(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=oL(o,s.resumeToken);const u=Vx(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Ae.min())>0){a.readTime=Jp(o,s.snapshotVersion.toTimestamp());const u=Vx(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=zG(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Bx(this.serializer),n.removeTarget=e,this.a_(n)}}class Pq extends mL{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=BG(e.writeResults,e.commitTime),r=Kr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Bx(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>UG(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Fx(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(X.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Fx(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ce(X.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Nq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Oi(n),this.D_=!1):he("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{Zs(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ie(l);u.L_.add(4),await xf(u),u.q_.set("Unknown"),u.L_.delete(4),await Gg(u)}(this))})}),this.q_=new Nq(r,i)}}async function Gg(t){if(Zs(t))for(const e of t.B_)await e(!0)}async function xf(t){for(const e of t.B_)await e(!1)}function gL(t,e){const n=Ie(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),yE(n)?gE(n):su(n).r_()&&mE(n,e))}function pE(t,e){const n=Ie(t),r=su(n);n.N_.delete(e),r.r_()&&yL(n,e),n.N_.size===0&&(r.r_()?r.o_():Zs(n)&&n.q_.set("Unknown"))}function mE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}su(t).A_(e)}function yL(t,e){t.Q_.xe(e),su(t).R_(e)}function gE(t){t.Q_=new OG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),su(t).start(),t.q_.v_()}function yE(t){return Zs(t)&&!su(t).n_()&&t.N_.size>0}function Zs(t){return Ie(t).L_.size===0}function vL(t){t.Q_=void 0}async function Oq(t){t.q_.set("Online")}async function Mq(t){t.N_.forEach((e,n)=>{mE(t,e)})}async function Dq(t,e){vL(t),yE(t)?(t.q_.M_(e),gE(t)):t.q_.set("Unknown")}async function Lq(t,e,n){if(t.q_.set("Online"),e instanceof iL&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xp(t,r)}else if(e instanceof sp?t.Q_.Ke(e):e instanceof rL?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ae.min()))try{const r=await hL(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(Qt.EMPTY_BYTE_STRING,c.snapshotVersion)),yL(o,l);const d=new po(c.target,l,u,c.sequenceNumber);mE(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){he("RemoteStore","Failed to raise snapshot:",r),await Xp(t,r)}}async function Xp(t,e,n){if(!mf(e))throw e;t.L_.add(1),await xf(t),t.q_.set("Offline"),n||(n=()=>hL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Gg(t)})}function xL(t,e){return e().catch(n=>Xp(t,n,e))}async function qg(t){const e=Ie(t),n=Lo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;$q(e);)try{const i=await _q(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,jq(e,i)}catch(i){await Xp(e,i)}_L(e)&&bL(e)}function $q(t){return Zs(t)&&t.O_.length<10}function jq(t,e){t.O_.push(e);const n=Lo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function _L(t){return Zs(t)&&!Lo(t).n_()&&t.O_.length>0}function bL(t){Lo(t).start()}async function Vq(t){Lo(t).p_()}async function Fq(t){const e=Lo(t);for(const n of t.O_)e.m_(n.mutations)}async function Uq(t,e,n){const r=t.O_.shift(),i=lE.from(r,e,n);await xL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await qg(t)}async function Bq(t,e){e&&Lo(t).V_&&await async function(r,i){if(function(s){return kG(s)&&s!==X.ABORTED}(i.code)){const o=r.O_.shift();Lo(r).s_(),await xL(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await qg(r)}}(t,e),_L(t)&&bL(t)}async function rI(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const r=Zs(n);n.L_.add(3),await xf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Gg(n)}async function Gq(t,e){const n=Ie(t);e?(n.L_.delete(2),await Gg(n)):e||(n.L_.add(2),await xf(n),n.q_.set("Unknown"))}function su(t){return t.K_||(t.K_=function(n,r,i){const o=Ie(n);return o.w_(),new Cq(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Oq.bind(null,t),Ro:Mq.bind(null,t),mo:Dq.bind(null,t),d_:Lq.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),yE(t)?gE(t):t.q_.set("Unknown")):(await t.K_.stop(),vL(t))})),t.K_}function Lo(t){return t.U_||(t.U_=function(n,r,i){const o=Ie(n);return o.w_(),new Pq(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Vq.bind(null,t),mo:Bq.bind(null,t),f_:Fq.bind(null,t),g_:Uq.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await qg(t)):(await t.U_.stop(),t.O_.length>0&&(he("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Po,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new vE(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xE(t,e){if(Oi("AsyncQueue",`${e}: ${t}`),mf(t))return new ce(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=gc(),this.sortedSet=new vt(this.comparator)}static emptySet(e){return new el(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof el)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new el;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.W_=new vt(ye.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Te():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class _l{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new _l(e,n,el.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Hq{constructor(){this.queries=oI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ie(n),o=i.queries;i.queries=oI(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ce(X.ABORTED,"Firestore shutting down"))}}function oI(){return new ou(t=>qD(t),Lg)}async function wL(t,e){const n=Ie(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new qq,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=xE(s,`Initialization of query '${xa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&_E(n)}async function EL(t,e){const n=Ie(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zq(t,e){const n=Ie(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&_E(n)}function Wq(t,e,n){const r=Ie(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function _E(t){t.Y_.forEach(e=>{e.next()})}var qx,sI;(sI=qx||(qx={})).ea="default",sI.Cache="cache";class TL{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new _l(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==qx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.key=e}}class AL{constructor(e){this.key=e}}class Kq{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Re(),this.mutatedKeys=Re(),this.Aa=HD(e),this.Ra=new el(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new iI,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),y=$g(this.query,d)?d:null,x=!!f&&this.mutatedKeys.has(f.key),_=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let b=!1;f&&y?f.data.isEqual(y.data)?x!==_&&(r.track({type:3,doc:y}),b=!0):this.ga(f,y)||(r.track({type:2,doc:y}),b=!0,(l&&this.Aa(y,l)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!f&&y?(r.track({type:0,doc:y}),b=!0):f&&!y&&(r.track({type:1,doc:f}),b=!0,(l||u)&&(a=!0)),b&&(y?(s=s.add(y),o=_?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,d)=>function(y,x){const _=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return _(y)-_(x)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new _l(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new iI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Re(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new AL(r))}),this.da.forEach(r=>{e.has(r)||n.push(new SL(r))}),n}ba(e){this.Ta=e.Ts,this.da=Re();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return _l.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Yq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Jq{constructor(e){this.key=e,this.va=!1}}class Xq{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ou(a=>qD(a),Lg),this.Ma=new Map,this.xa=new Set,this.Oa=new vt(ye.comparator),this.Na=new Map,this.La=new dE,this.Ba={},this.ka=new Map,this.qa=xl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Qq(t,e,n=!0){const r=RL(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await IL(r,e,n,!0),i}async function Zq(t,e){const n=RL(t);await IL(n,e,!0,!1)}async function IL(t,e,n,r){const i=await bq(t.localStore,Wr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await eH(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&gL(t.remoteStore,i),a}async function eH(t,e,n,r,i){t.Ka=(d,f,y)=>async function(_,b,T,w){let A=b.view.ma(T);A.ns&&(A=await eI(_.localStore,b.query,!1).then(({documents:v})=>b.view.ma(v,A)));const N=w&&w.targetChanges.get(b.targetId),E=w&&w.targetMismatches.get(b.targetId)!=null,I=b.view.applyChanges(A,_.isPrimaryClient,N,E);return lI(_,b.targetId,I.wa),I.snapshot}(t,d,f,y);const o=await eI(t.localStore,e,!0),s=new Kq(e,o.Ts),a=s.ma(o.documents),l=vf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);lI(t,n,u.wa);const c=new Yq(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function tH(t,e,n){const r=Ie(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Lg(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Gx(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&pE(r.remoteStore,i.targetId),Hx(r,i.targetId)}).catch(pf)):(Hx(r,i.targetId),await Gx(r.localStore,i.targetId,!0))}async function nH(t,e){const n=Ie(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pE(n.remoteStore,r.targetId))}async function rH(t,e,n){const r=cH(t);try{const i=await function(s,a){const l=Ie(s),u=Dt.now(),c=a.reduce((y,x)=>y.add(x.key),Re());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let x=Mi(),_=Re();return l.cs.getEntries(y,c).next(b=>{x=b,x.forEach((T,w)=>{w.isValidDocument()||(_=_.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,x)).next(b=>{d=b;const T=[];for(const w of a){const A=SG(w,d.get(w.key).overlayedDocument);A!=null&&T.push(new Ho(w.key,A,LD(A.value.mapValue),Ln.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,T,a)}).next(b=>{f=b;const T=b.applyToLocalDocumentSet(d,_);return l.documentOverlayCache.saveOverlays(y,b.batchId,T)})}).then(()=>({batchId:f.batchId,changes:WD(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new vt(Ve)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await _f(r,i.changes),await qg(r.remoteStore)}catch(i){const o=xE(i,"Failed to persist write");n.reject(o)}}async function CL(t,e){const n=Ie(t);try{const r=await vq(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(Ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ke(s.va):i.removedDocuments.size>0&&(Ke(s.va),s.va=!1))}),await _f(n,r,e)}catch(r){await pf(r)}}function aI(t,e,n){const r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ie(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.j_)f.Z_(a)&&(u=!0)}),u&&_E(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iH(t,e,n){const r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new vt(ye.comparator);s=s.insert(o,cn.newNoDocument(o,Ae.min()));const a=Re().add(o),l=new Ug(Ae.min(),new Map,new vt(Ve),s,a);await CL(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),bE(r)}else await Gx(r.localStore,e,!1).then(()=>Hx(r,e,n)).catch(pf)}async function oH(t,e){const n=Ie(t),r=e.batch.batchId;try{const i=await yq(n.localStore,e);kL(n,r,null),PL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _f(n,i)}catch(i){await pf(i)}}async function sH(t,e,n){const r=Ie(t);try{const i=await function(s,a){const l=Ie(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Ke(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);kL(r,e,n),PL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _f(r,i)}catch(i){await pf(i)}}function PL(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function kL(t,e,n){const r=Ie(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Hx(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||NL(t,r)})}function NL(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(pE(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),bE(t))}function lI(t,e,n){for(const r of n)r instanceof SL?(t.La.addReference(r.key,e),aH(t,r)):r instanceof AL?(he("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||NL(t,r.key)):Te()}function aH(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(he("SyncEngine","New document in limbo: "+n),t.xa.add(r),bE(t))}function bE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ye(lt.fromString(e)),r=t.qa.next();t.Na.set(r,new Jq(n)),t.Oa=t.Oa.insert(n,r),gL(t.remoteStore,new po(Wr(sE(n.path)),r,"TargetPurposeLimboResolution",eE.oe))}}async function _f(t,e,n){const r=Ie(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=hE.Wi(l.targetId,u);o.push(d)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const c=Ie(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>ee.forEach(u,f=>ee.forEach(f.$i,y=>c.persistence.referenceDelegate.addReference(d,f.targetId,y)).next(()=>ee.forEach(f.Ui,y=>c.persistence.referenceDelegate.removeReference(d,f.targetId,y)))))}catch(d){if(!mf(d))throw d;he("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const y=c.os.get(f),x=y.snapshotVersion,_=y.withLastLimboFreeSnapshotVersion(x);c.os=c.os.insert(f,_)}}}(r.localStore,o))}async function lH(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const r=await fL(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new ce(X.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _f(n,r.hs)}}function uH(t,e){const n=Ie(t),r=n.Na.get(e);if(r&&r.va)return Re().add(r.key);{let i=Re();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function RL(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=CL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iH.bind(null,e),e.Ca.d_=zq.bind(null,e.eventManager),e.Ca.$a=Wq.bind(null,e.eventManager),e}function cH(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sH.bind(null,e),e}class Qp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return gq(this.persistence,new pq,e.initialUser,this.serializer)}Ga(e){return new dq(fE.Zr,this.serializer)}Wa(e){return new Eq}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qp.provider={build:()=>new Qp};class zx{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lH.bind(null,this.syncEngine),await Gq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Hq}()}createDatastore(e){const n=Bg(e.databaseInfo.databaseId),r=function(o){return new Iq(o)}(e.databaseInfo);return function(o,s,a,l){return new kq(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Rq(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>aI(this.syncEngine,n,0),function(){return nI.D()?new nI:new Tq}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const d=new Xq(i,o,s,a,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ie(i);he("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await xf(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}zx.provider={build:()=>new zx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=OD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{he("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(he("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Po;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=xE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wv(t,e){t.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await fL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function uI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fH(t);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>rI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>rI(e.remoteStore,i)),t._onlineComponents=e}async function fH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await Wv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ml("Error using user provided cache. Falling back to memory cache: "+n),await Wv(t,new Qp)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await Wv(t,new Qp);return t._offlineComponents}async function ML(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await uI(t,t._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await uI(t,new zx))),t._onlineComponents}function hH(t){return ML(t).then(e=>e.syncEngine)}async function Wx(t){const e=await ML(t),n=e.eventManager;return n.onListen=Qq.bind(null,e.syncEngine),n.onUnlisten=tH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Zq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nH.bind(null,e.syncEngine),n}function pH(t,e,n={}){const r=new Po;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new OL({next:f=>{c.Za(),s.enqueueAndForget(()=>EL(o,d)),f.fromCache&&l.source==="server"?u.reject(new ce(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new TL(a,c,{includeMetadataChanges:!0,_a:!0});return wL(o,d)}(await Wx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(t,e,n){if(!n)throw new ce(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mH(t,e,n,r){if(e===!0&&r===!0)throw new ce(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dI(t){if(!ye.isDocumentKey(t))throw new ce(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function fI(t){if(ye.isDocumentKey(t))throw new ce(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te()}function ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ce(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hg(t);throw new ce(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ce(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new M7;switch(r.type){case"firstParty":return new j7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=cI.get(n);r&&(he("ComponentProvider","Removing Datastore"),cI.delete(n),r.terminate())}(this),Promise.resolve()}}function gH(t,e,n,r={}){var i;const o=(t=ar(t,zg))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=an.MOCK_USER;else{a=KB(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ce(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new an(u)}t._authCredentials=new D7(new RD(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ea(this.firestore,e,this._query)}}class Sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}}class ko extends ea{constructor(e,n,r){super(e,n,sE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new ye(e))}withConverter(e){return new ko(this.firestore,e,this._path)}}function wa(t,e,...n){if(t=Tt(t),LL("collection","path",e),t instanceof zg){const r=lt.fromString(e,...n);return fI(r),new ko(t,null,r)}{if(!(t instanceof Sn||t instanceof ko))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return fI(r),new ko(t.firestore,null,r)}}function ht(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=OD.newId()),LL("doc","path",e),t instanceof zg){const r=lt.fromString(e,...n);return dI(r),new Sn(t,null,new ye(r))}{if(!(t instanceof Sn||t instanceof ko))throw new ce(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return dI(r),new Sn(t.firestore,t instanceof ko?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new pL(this,"async_queue_retry"),this.Vu=()=>{const r=zv();r&&he("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=zv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=zv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Po;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!mf(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Oi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=vE.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Te()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function mI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class $o extends zg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new pI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pI(e),this._firestoreClient=void 0,await e}}}function yH(t,e){const n=typeof t=="object"?t:qM(),r=typeof t=="string"?t:"(default)",i=Uw(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=zB("firestore");o&&gH(i,...o)}return i}function Wg(t){if(t._terminated)throw new ce(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||vH(t),t._firestoreClient}function vH(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new X7(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,DL(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new dH(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bl(Qt.fromBase64String(e))}catch(n){throw new ce(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bl(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xH=/^__.*__$/;class _H{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ho(e,this.data,this.fieldMask,n,this.fieldTransforms):new yf(e,this.data,n,this.fieldTransforms)}}class $L{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ho(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class SE{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new SE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Zp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(jL(this.Cu)&&xH.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class bH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Bg(e)}Qu(e,n,r,i=!1){return new SE({Cu:e,methodName:n,qu:r,path:Kt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kg(t){const e=t._freezeSettings(),n=Bg(t._databaseId);return new bH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VL(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);AE("Data must be an object, but it was:",s,r);const a=BL(r,s);let l,u;if(o.merge)l=new Hn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const f=Kx(e,d,n);if(!s.contains(f))throw new ce(X.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);qL(c,f)||c.push(f)}l=new Hn(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new _H(new kn(a),l,u)}class Yg extends wE{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yg}}function FL(t,e,n,r){const i=t.Qu(1,e,n);AE("Data must be an object, but it was:",i,r);const o=[],s=kn.empty();Qs(r,(l,u)=>{const c=IE(e,l,n);u=Tt(u);const d=i.Nu(c);if(u instanceof Yg)o.push(c);else{const f=wf(u,d);f!=null&&(o.push(c),s.set(c,f))}});const a=new Hn(o);return new $L(s,a,i.fieldTransforms)}function UL(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[Kx(e,r,n)],l=[i];if(o.length%2!=0)throw new ce(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)a.push(Kx(e,o[f])),l.push(o[f+1]);const u=[],c=kn.empty();for(let f=a.length-1;f>=0;--f)if(!qL(u,a[f])){const y=a[f];let x=l[f];x=Tt(x);const _=s.Nu(y);if(x instanceof Yg)u.push(y);else{const b=wf(x,_);b!=null&&(u.push(y),c.set(y,b))}}const d=new Hn(u);return new $L(c,d,s.fieldTransforms)}function wH(t,e,n,r=!1){return wf(n,t.Qu(r?4:3,e))}function wf(t,e){if(GL(t=Tt(t)))return AE("Unsupported field value:",e,t),BL(t,e);if(t instanceof wE)return function(r,i){if(!jL(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=wf(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xG(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Dt.fromDate(r);return{timestampValue:Jp(i.serializer,o)}}if(r instanceof Dt){const o=new Dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jp(i.serializer,o)}}if(r instanceof EE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bl)return{bytesValue:oL(i.serializer,r._byteString)};if(r instanceof Sn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:cE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof TE)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return aE(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Hg(r)}`)}(t,e)}function BL(t,e){const n={};return MD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(t,(r,i)=>{const o=wf(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function GL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dt||t instanceof EE||t instanceof bl||t instanceof Sn||t instanceof wE||t instanceof TE)}function AE(t,e,n){if(!GL(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Hg(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Kx(t,e,n){if((e=Tt(e))instanceof bf)return e._internalPath;if(typeof e=="string")return IE(t,e);throw Zp("Field path arguments must be of type string or ",t,!1,void 0,n)}const EH=new RegExp("[~\\*/\\[\\]]");function IE(t,e,n){if(e.search(EH)>=0)throw Zp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bf(...e.split("."))._internalPath}catch{throw Zp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zp(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ce(X.INVALID_ARGUMENT,a+t+l)}function qL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(zL("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TH extends HL{data(){return super.data()}}function zL(t,e){return typeof e=="string"?IE(t,e):e instanceof bf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ce(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class CE{}class SH extends CE{}function AH(t,e,...n){let r=[];e instanceof CE&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof kE).length,a=o.filter(l=>l instanceof PE).length;if(s>1||s>0&&a>0)throw new ce(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class PE extends SH{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new PE(e,n,r)}_apply(e){const n=this._parse(e);return KL(e._query,n),new ea(e.firestore,e.converter,$x(e._query,n))}_parse(e){const n=Kg(e.firestore);return function(o,s,a,l,u,c,d){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ce(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){yI(d,c);const y=[];for(const x of d)y.push(gI(l,o,x));f={arrayValue:{values:y}}}else f=gI(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||yI(d,c),f=wH(a,s,d,c==="in"||c==="not-in");return Ct.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class kE extends CE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new kE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Dr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)KL(s,l),s=$x(s,l)}(e._query,n),new ea(e.firestore,e.converter,$x(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function gI(t,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new ce(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GD(e)&&n.indexOf("/")!==-1)throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(lt.fromString(n));if(!ye.isDocumentKey(r))throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $1(t,new ye(r))}if(n instanceof Sn)return $1(t,n._key);throw new ce(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hg(n)}.`)}function yI(t,e){if(!Array.isArray(t)||t.length===0)throw new ce(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KL(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class IH{convertValue(e,n="none"){switch(Gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>wt(s.doubleValue));return new TE(o)}convertGeoPoint(e){return new EE(wt(e.latitude),wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=nE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dd(e));default:return null}}convertTimestamp(e){const n=Do(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);Ke(dL(r));const i=new fd(r.get(1),r.get(3)),o=new ye(r.popFirst(5));return i.isEqual(n)||Oi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class JL extends HL{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ap(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(zL("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ap extends JL{data(e={}){return super.data(e)}}class XL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new vc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ap(this._firestore,this._userDataWriter,r.key,r,new vc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new ap(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new ap(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:CH(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function CH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class NE extends IH{constructor(e){super(),this.firestore=e}convertBytes(e){return new bl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,n)}}function PH(t){t=ar(t,ea);const e=ar(t.firestore,$o),n=Wg(e),r=new NE(e);return WL(t._query),pH(n,t._query).then(i=>new XL(e,r,t,i))}function ta(t,e,n){t=ar(t,Sn);const r=ar(t.firestore,$o),i=YL(t.converter,e,n);return Xg(r,[VL(Kg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ln.none())])}function Jg(t,e,n,...r){t=ar(t,Sn);const i=ar(t.firestore,$o),o=Kg(i);let s;return s=typeof(e=Tt(e))=="string"||e instanceof bf?UL(o,"updateDoc",t._key,e,n,r):FL(o,"updateDoc",t._key,e),Xg(i,[s.toMutation(t._key,Ln.exists(!0))])}function Ef(t){return Xg(ar(t.firestore,$o),[new Fg(t._key,Ln.none())])}function pa(t,...e){var n,r,i;t=Tt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||mI(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(mI(e[s])){const d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof Sn)u=ar(t.firestore,$o),c=sE(t._key.path),l={next:d=>{e[s]&&e[s](kH(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=ar(t,ea);u=ar(d.firestore,$o),c=d._query;const f=new NE(u);l={next:y=>{e[s]&&e[s](new XL(u,f,d,y))},error:e[s+1],complete:e[s+2]},WL(t._query)}return function(f,y,x,_){const b=new OL(_),T=new TL(y,b,x);return f.asyncQueue.enqueueAndForget(async()=>wL(await Wx(f),T)),()=>{b.Za(),f.asyncQueue.enqueueAndForget(async()=>EL(await Wx(f),T))}}(Wg(u),c,a,l)}function Xg(t,e){return function(r,i){const o=new Po;return r.asyncQueue.enqueueAndForget(async()=>rH(await hH(r),i,o)),o.promise}(Wg(t),e)}function kH(t,e,n){const r=n.docs.get(e._key),i=new NE(t);return new JL(t,i,e._key,r,new vc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Kg(e)}set(e,n,r){this._verifyNotCommitted();const i=Kv(e,this._firestore),o=YL(i.converter,n,r),s=VL(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Ln.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=Kv(e,this._firestore);let s;return s=typeof(n=Tt(n))=="string"||n instanceof bf?UL(this._dataReader,"WriteBatch.update",o._key,n,r,i):FL(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Ln.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Kv(e,this._firestore);return this._mutations=this._mutations.concat(new Fg(n._key,Ln.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ce(X.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kv(t,e){if((t=Tt(t)).firestore!==e)throw new ce(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(t){return Wg(t=ar(t,$o)),new NH(t,e=>Xg(t,e))}(function(e,n=!0){(function(i){iu=i})(nu),pl(new js("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new $o(new L7(r.getProvider("auth-internal")),new F7(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fd(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Co(R1,"4.7.3",e),Co(R1,"4.7.3","esm2017")})();const RH={apiKey:"AIzaSyAp9vMuLIhE-W8sEVpuzSWr7vvRHOu1pSc",authDomain:"nexo-bbbe5.firebaseapp.com",projectId:"nexo-bbbe5",storageBucket:"nexo-bbbe5.firebasestorage.app",messagingSenderId:"133978874707",appId:"1:133978874707:web:ba5e00d4c5e35b3c5df7a6"},ZL=GM(RH),La=R7(ZL),Be=yH(ZL),OH="finansmart_data_v2",vI={transactions:[],investments:[],budgets:[],debts:[],shoppingList:[],unlockedBadges:[]},e$=t=>`${OH}_${t}`,xI=t=>{try{const e=e$(t),n=localStorage.getItem(e);if(!n)return vI;const r=JSON.parse(n);return r.transactions||(r.transactions=[]),r.investments||(r.investments=[]),r.unlockedBadges||(r.unlockedBadges=[]),r.debts||(r.debts=[]),r.shoppingList||(r.shoppingList=[]),r.budgets?r.budgets=r.budgets.map(i=>({...i,isRecurring:i.isRecurring!==void 0?i.isRecurring:!0,month:i.month||void 0})):r.budgets=[],r}catch(e){return console.error("Failed to load data",e),vI}},MH=(t,e)=>{try{const n=e$(e);localStorage.setItem(n,JSON.stringify(t))}catch(n){console.error("Failed to save data",n)}},DH=(t,e)=>{const n=pa(wa(Be,"users",t,"transactions"),l=>{const u=l.docs.map(c=>c.data());e({transactions:u})}),r=pa(wa(Be,"users",t,"investments"),l=>{const u=l.docs.map(c=>c.data());e({investments:u})}),i=pa(wa(Be,"users",t,"budgets"),l=>{const u=l.docs.map(c=>c.data());e({budgets:u})}),o=pa(wa(Be,"users",t,"debts"),l=>{const u=l.docs.map(c=>c.data());e({debts:u})}),s=pa(wa(Be,"users",t,"shopping_list"),l=>{const u=l.docs.map(c=>c.data());e({shoppingList:u})}),a=pa(ht(Be,"users",t),l=>{if(l.exists()){const u=l.data(),c={};u.unlockedBadges&&(c.unlockedBadges=u.unlockedBadges),u.wealthProfile&&(c.wealthProfile=u.wealthProfile),Object.keys(c).length>0&&e(c)}});return()=>{n(),r(),i(),o(),s(),a()}},_I=async(t,e)=>{await ta(ht(Be,"users",t,"transactions",e.id),e)},bI=async(t,e,n)=>{await Jg(ht(Be,"users",t,"transactions",e),n)},LH=async(t,e)=>{await Ef(ht(Be,"users",t,"transactions",e))},$H=async(t,e)=>{await ta(ht(Be,"users",t,"investments",e.id),e)},jH=async(t,e,n)=>{await Jg(ht(Be,"users",t,"investments",e),{amount:n})},VH=async(t,e)=>{await Ef(ht(Be,"users",t,"investments",e))},FH=async(t,e)=>{await ta(ht(Be,"users",t,"budgets",e.id),e)},UH=async(t,e)=>{await Ef(ht(Be,"users",t,"budgets",e))},BH=async(t,e)=>{await ta(ht(Be,"users",t,"debts",e.id),e)},wI=async(t,e,n)=>{await Jg(ht(Be,"users",t,"debts",e),n)},GH=async(t,e)=>{await Ef(ht(Be,"users",t,"debts",e))},qH=async(t,e)=>{await ta(ht(Be,"users",t,"shopping_list",e.id),e)},HH=async(t,e,n)=>{await Jg(ht(Be,"users",t,"shopping_list",e),n)},zH=async(t,e)=>{await Ef(ht(Be,"users",t,"shopping_list",e))},WH=async t=>{const e=AH(wa(Be,"users",t,"shopping_list")),n=await PH(e),r=QL(Be);n.docs.forEach(i=>{r.delete(i.ref)}),await r.commit()},KH=async(t,e,n)=>{n.includes(e)||await ta(ht(Be,"users",t),{unlockedBadges:[...n,e]},{merge:!0})},YH=async(t,e)=>{await ta(ht(Be,"users",t),{wealthProfile:e},{merge:!0})},EI=async(t,e)=>{const n=QL(Be);e.transactions.forEach(o=>{const s=ht(Be,"users",t,"transactions",o.id);n.set(s,o)}),e.investments.forEach(o=>{const s=ht(Be,"users",t,"investments",o.id);n.set(s,o)}),e.budgets.forEach(o=>{const s=ht(Be,"users",t,"budgets",o.id);n.set(s,o)}),e.debts.forEach(o=>{const s=ht(Be,"users",t,"debts",o.id);n.set(s,o)}),e.shoppingList.forEach(o=>{const s=ht(Be,"users",t,"shopping_list",o.id);n.set(s,o)});const r=ht(Be,"users",t),i={unlockedBadges:e.unlockedBadges};e.wealthProfile&&(i.wealthProfile=e.wealthProfile),n.set(r,i,{merge:!0}),await n.commit()};var JH={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let XH,QH;function ZH(){return{geminiUrl:XH,vertexUrl:QH}}function ez(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=ZH();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bi{}function ae(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];g(c,e.slice(o+1),n[u])}else for(const u of l)g(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];g(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function h(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(a=>h(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function tz(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&o.length>a)for(let l=a;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}Yx(t,i,o,0,s)}}function Yx(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(const l of a[s])Yx(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,a=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of a)l[u]=s[u];for(const[u,c]of Object.entries(l)){const d=[];for(const f of n.slice(r))f==="*"?d.push(u):d.push(f);g(s,d,c)}for(const u of a)delete s[u]}}else{const s=t;o in s&&Yx(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RE(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nz(t){const e={},n=h(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=h(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function rz(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const o=h(t,["error"]);o!=null&&g(e,["error"],o);const s=h(t,["response","generateVideoResponse"]);return s!=null&&g(e,["response"],oz(s)),e}function iz(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const o=h(t,["error"]);o!=null&&g(e,["error"],o);const s=h(t,["response"]);return s!=null&&g(e,["response"],sz(s)),e}function oz(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>az(s))),g(e,["generatedVideos"],o)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=h(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function sz(t){const e={},n=h(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>lz(s))),g(e,["generatedVideos"],o)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=h(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function az(t){const e={},n=h(t,["video"]);return n!=null&&g(e,["video"],pz(n)),e}function lz(t){const e={},n=h(t,["_self"]);return n!=null&&g(e,["video"],mz(n)),e}function uz(t){const e={},n=h(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function cz(t){const e={},n=h(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function dz(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const o=h(t,["error"]);o!=null&&g(e,["error"],o);const s=h(t,["response"]);return s!=null&&g(e,["response"],fz(s)),e}function fz(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["parent"]);r!=null&&g(e,["parent"],r);const i=h(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function t$(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const o=h(t,["error"]);o!=null&&g(e,["error"],o);const s=h(t,["response"]);return s!=null&&g(e,["response"],hz(s)),e}function hz(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["parent"]);r!=null&&g(e,["parent"],r);const i=h(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function pz(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["uri"],n);const r=h(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],RE(r));const i=h(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function mz(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=h(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],RE(r));const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var TI;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(TI||(TI={}));var SI;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(SI||(SI={}));var AI;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(AI||(AI={}));var mo;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(mo||(mo={}));var II;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(II||(II={}));var CI;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(CI||(CI={}));var PI;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(PI||(PI={}));var kI;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(kI||(kI={}));var NI;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(NI||(NI={}));var RI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(RI||(RI={}));var OI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(OI||(OI={}));var MI;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(MI||(MI={}));var DI;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(DI||(DI={}));var LI;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(LI||(LI={}));var $I;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})($I||($I={}));var jI;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(jI||(jI={}));var VI;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(VI||(VI={}));var FI;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(FI||(FI={}));var UI;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(UI||(UI={}));var BI;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(BI||(BI={}));var GI;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(GI||(GI={}));var em;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(em||(em={}));var qI;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(qI||(qI={}));var HI;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(HI||(HI={}));var zI;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(zI||(zI={}));var Jx;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Jx||(Jx={}));var WI;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(WI||(WI={}));var KI;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(KI||(KI={}));var Xx;(function(t){t.COLLECTION="COLLECTION"})(Xx||(Xx={}));var YI;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(YI||(YI={}));var JI;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(JI||(JI={}));var XI;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(XI||(XI={}));var QI;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(QI||(QI={}));var ZI;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(ZI||(ZI={}));var eC;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(eC||(eC={}));var tC;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(tC||(tC={}));var nC;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(nC||(nC={}));var rC;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(rC||(rC={}));var iC;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(iC||(iC={}));var oC;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(oC||(oC={}));var sC;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(sC||(sC={}));var aC;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(aC||(aC={}));var lC;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(lC||(lC={}));var uC;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(uC||(uC={}));var cC;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(cC||(cC={}));var dC;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(dC||(dC={}));var fC;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(fC||(fC={}));var hC;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(hC||(hC={}));var pC;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(pC||(pC={}));var mC;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(mC||(mC={}));var gC;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(gC||(gC={}));var yC;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(yC||(yC={}));var vC;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(vC||(vC={}));var xC;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(xC||(xC={}));var _C;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(_C||(_C={}));var bC;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(bC||(bC={}));var $a;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})($a||($a={}));class Qx{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Xu{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const d=[];for(const f of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[y,x]of Object.entries(f))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(x!==null||x!==void 0)&&d.push(y);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;c=!0,u+=f.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const d of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[f,y]of Object.entries(d))f!=="inlineData"&&(y!==null||y!==void 0)&&c.push(f);d.inlineData&&typeof d.inlineData.data=="string"&&(u+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class wC{}class EC{}class gz{}class yz{}class vz{}class xz{}class TC{}class SC{}class AC{}class _z{}class tm{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new tm;let i;const o=e;return n?i=iz(o):i=rz(o),Object.assign(r,i),r}}class IC{}class CC{}class PC{}class kC{}class bz{}class wz{}class Ez{}class OE{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new OE,o=dz(e);return Object.assign(r,o),r}}class Tz{}class Sz{}class Az{}class NC{}class Iz{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Cz{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ME{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new ME,o=t$(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function n$(t,e){const n=Fe(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function r$(t){return Array.isArray(t)?t.map(e=>nm(e)):[nm(t)]}function nm(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function i$(t){const e=nm(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function o$(t){const e=nm(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function RC(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function s$(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>RC(e)):[RC(t)]}function Zx(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function OC(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function MC(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function fn(t){if(t==null)throw new Error("ContentUnion is required");return Zx(t)?t:{role:"user",parts:s$(t)}}function DE(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=fn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=fn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>fn(n)):[fn(e)]}function lr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(OC(t)||MC(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[fn(t)]}const e=[],n=[],r=Zx(t[0]);for(const i of t){const o=Zx(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(OC(i)||MC(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:s$(n)}),e}function Pz(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(mo).includes(n[0].toUpperCase())?n[0].toUpperCase():mo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(mo).includes(r.toUpperCase())?r.toUpperCase():mo.TYPE_UNSPECIFIED})}}function tl(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Pz(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(mo).includes(a.toUpperCase())?a.toUpperCase():mo.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=tl(a);else if(r.includes(s)){const l=[];for(const u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(tl(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,c]of Object.entries(a))l[u]=tl(c);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function LE(t){return tl(t)}function $E(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function jE(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function au(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=tl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=tl(e.response));return t}function lu(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function kz(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Gi(t,e){if(typeof e!="string")throw new Error("name must be a string");return kz(t,e,"cachedContents")}function a$(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function zo(t){return RE(t)}function Nz(t){return t!=null&&typeof t=="object"&&"name"in t}function Rz(t){return t!=null&&typeof t=="object"&&"video"in t}function Oz(t){return t!=null&&typeof t=="object"&&"uri"in t}function l$(t){var e;let n;if(Nz(t)&&(n=t.name),!(Oz(t)&&(n=t.uri,n===void 0))&&!(Rz(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function u$(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function c$(t){for(const e of["models","tunedModels","publisherModels"])if(Mz(t,e))return t[e];return[]}function Mz(t,e){return t!==null&&typeof t=="object"&&e in t}function Dz(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Lz(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=Dz(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function d$(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function $z(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function f$(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function uu(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function h$(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jz(t){const e={},n=h(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=h(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>vW(s))),g(e,["inlinedResponses"],o)}const i=h(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["inlinedEmbedContentResponses"],o)}return e}function Vz(t){const e={},n=h(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=h(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const i=h(t,["bigqueryDestination","outputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function Fz(t){const e={},n=h(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=h(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const i=h(t,["bigqueryUri"]);if(i!=null&&g(e,["bigqueryDestination","outputUri"],i),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(h(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function lp(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const i=h(t,["metadata","state"]);i!=null&&g(e,["state"],h$(i));const o=h(t,["metadata","createTime"]);o!=null&&g(e,["createTime"],o);const s=h(t,["metadata","endTime"]);s!=null&&g(e,["endTime"],s);const a=h(t,["metadata","updateTime"]);a!=null&&g(e,["updateTime"],a);const l=h(t,["metadata","model"]);l!=null&&g(e,["model"],l);const u=h(t,["metadata","output"]);return u!=null&&g(e,["dest"],jz(f$(u))),e}function e_(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=h(t,["state"]);i!=null&&g(e,["state"],h$(i));const o=h(t,["error"]);o!=null&&g(e,["error"],o);const s=h(t,["createTime"]);s!=null&&g(e,["createTime"],s);const a=h(t,["startTime"]);a!=null&&g(e,["startTime"],a);const l=h(t,["endTime"]);l!=null&&g(e,["endTime"],l);const u=h(t,["updateTime"]);u!=null&&g(e,["updateTime"],u);const c=h(t,["model"]);c!=null&&g(e,["model"],c);const d=h(t,["inputConfig"]);d!=null&&g(e,["src"],Uz(d));const f=h(t,["outputConfig"]);f!=null&&g(e,["dest"],Vz(f$(f)));const y=h(t,["completionStats"]);return y!=null&&g(e,["completionStats"],y),e}function Uz(t){const e={},n=h(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=h(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const i=h(t,["bigquerySource","inputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function Bz(t,e){const n={};if(h(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(h(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=h(e,["fileName"]);r!=null&&g(n,["fileName"],r);const i=h(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>yW(t,s))),g(n,["requests","requests"],o)}return n}function Gz(t){const e={},n=h(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=h(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const i=h(t,["bigqueryUri"]);if(i!=null&&g(e,["bigquerySource","inputUri"],i),h(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(h(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function qz(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Hz(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],uu(t,r)),n}function zz(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],uu(t,r)),n}function Wz(t){const e={},n=h(t,["content"]);n!=null&&g(e,["content"],n);const r=h(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],Kz(r));const i=h(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=h(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const s=h(t,["avgLogprobs"]);s!=null&&g(e,["avgLogprobs"],s);const a=h(t,["groundingMetadata"]);a!=null&&g(e,["groundingMetadata"],a);const l=h(t,["index"]);l!=null&&g(e,["index"],l);const u=h(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const c=h(t,["safetyRatings"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(y=>y)),g(e,["safetyRatings"],f)}const d=h(t,["urlContextMetadata"]);return d!=null&&g(e,["urlContextMetadata"],d),e}function Kz(t){const e={},n=h(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function p$(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>SW(o))),g(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&g(e,["role"],r),e}function Yz(t,e){const n={},r=h(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),h(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Jz(t,e){const n={},r=h(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=h(t,["dest"]);return e!==void 0&&i!=null&&g(e,["outputConfig"],Fz($z(i))),n}function DC(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["src"]);i!=null&&g(n,["batch","inputConfig"],Bz(t,d$(t,i)));const o=h(e,["config"]);return o!=null&&Yz(o,n),n}function Xz(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["model"],Fe(t,r));const i=h(e,["src"]);i!=null&&g(n,["inputConfig"],Gz(d$(t,i)));const o=h(e,["config"]);return o!=null&&Jz(o,n),n}function Qz(t,e){const n={},r=h(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function Zz(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["src"]);i!=null&&g(n,["batch","inputConfig"],sW(t,i));const o=h(e,["config"]);return o!=null&&Qz(o,n),n}function eW(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],uu(t,r)),n}function tW(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],uu(t,r)),n}function nW(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["name"]);r!=null&&g(e,["name"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const o=h(t,["error"]);return o!=null&&g(e,["error"],o),e}function rW(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["name"]);r!=null&&g(e,["name"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const o=h(t,["error"]);return o!=null&&g(e,["error"],o),e}function iW(t,e){const n={},r=h(e,["contents"]);if(r!=null){let o=DE(t,r);Array.isArray(o)&&(o=o.map(s=>s)),g(n,["requests[]","request","content"],o)}const i=h(e,["config"]);return i!=null&&(g(n,["_self"],oW(i,n)),tz(n,{"requests[].*":"requests[].request.*"})),n}function oW(t,e){const n={},r=h(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=h(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=h(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function sW(t,e){const n={},r=h(e,["fileName"]);r!=null&&g(n,["file_name"],r);const i=h(e,["inlinedRequests"]);return i!=null&&g(n,["requests"],iW(t,i)),n}function aW(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function lW(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const r=h(t,["args"]);r!=null&&g(e,["args"],r);const i=h(t,["name"]);if(i!=null&&g(e,["name"],i),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function uW(t){const e={},n=h(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=h(t,["mode"]);if(r!=null&&g(e,["mode"],r),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function cW(t,e,n){const r={},i=h(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],p$(fn(i)));const o=h(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=h(e,["topP"]);s!=null&&g(r,["topP"],s);const a=h(e,["topK"]);a!=null&&g(r,["topK"],a);const l=h(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=h(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=h(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const d=h(e,["responseLogprobs"]);d!=null&&g(r,["responseLogprobs"],d);const f=h(e,["logprobs"]);f!=null&&g(r,["logprobs"],f);const y=h(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const x=h(e,["frequencyPenalty"]);x!=null&&g(r,["frequencyPenalty"],x);const _=h(e,["seed"]);_!=null&&g(r,["seed"],_);const b=h(e,["responseMimeType"]);b!=null&&g(r,["responseMimeType"],b);const T=h(e,["responseSchema"]);T!=null&&g(r,["responseSchema"],LE(T));const w=h(e,["responseJsonSchema"]);if(w!=null&&g(r,["responseJsonSchema"],w),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=h(e,["safetySettings"]);if(n!==void 0&&A!=null){let D=A;Array.isArray(D)&&(D=D.map(U=>AW(U))),g(n,["safetySettings"],D)}const N=h(e,["tools"]);if(n!==void 0&&N!=null){let D=lu(N);Array.isArray(D)&&(D=D.map(U=>CW(au(U)))),g(n,["tools"],D)}const E=h(e,["toolConfig"]);if(n!==void 0&&E!=null&&g(n,["toolConfig"],IW(E)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=h(e,["cachedContent"]);n!==void 0&&I!=null&&g(n,["cachedContent"],Gi(t,I));const v=h(e,["responseModalities"]);v!=null&&g(r,["responseModalities"],v);const S=h(e,["mediaResolution"]);S!=null&&g(r,["mediaResolution"],S);const P=h(e,["speechConfig"]);if(P!=null&&g(r,["speechConfig"],$E(P)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=h(e,["thinkingConfig"]);k!=null&&g(r,["thinkingConfig"],k);const O=h(e,["imageConfig"]);O!=null&&g(r,["imageConfig"],gW(O));const M=h(e,["enableEnhancedCivicAnswers"]);if(M!=null&&g(r,["enableEnhancedCivicAnswers"],M),h(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function dW(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Wz(u))),g(e,["candidates"],l)}const i=h(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=h(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const s=h(t,["responseId"]);s!=null&&g(e,["responseId"],s);const a=h(t,["usageMetadata"]);return a!=null&&g(e,["usageMetadata"],a),e}function fW(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],uu(t,r)),n}function hW(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],uu(t,r)),n}function pW(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function mW(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function gW(t){const e={},n=h(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=h(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),h(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function yW(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["request","model"],Fe(t,r));const i=h(e,["contents"]);if(i!=null){let a=lr(i);Array.isArray(a)&&(a=a.map(l=>p$(l))),g(n,["request","contents"],a)}const o=h(e,["metadata"]);o!=null&&g(n,["metadata"],o);const s=h(e,["config"]);return s!=null&&g(n,["request","generationConfig"],cW(t,s,h(n,["request"],{}))),n}function vW(t){const e={},n=h(t,["response"]);n!=null&&g(e,["response"],dW(n));const r=h(t,["error"]);return r!=null&&g(e,["error"],r),e}function xW(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);if(e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),h(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function _W(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const o=h(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),n}function bW(t){const e={},n=h(t,["config"]);return n!=null&&xW(n,e),e}function wW(t){const e={},n=h(t,["config"]);return n!=null&&_W(n,e),e}function EW(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>lp(s))),g(e,["batchJobs"],o)}return e}function TW(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>e_(s))),g(e,["batchJobs"],o)}return e}function SW(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=h(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=h(t,["fileData"]);o!=null&&g(e,["fileData"],aW(o));const s=h(t,["functionCall"]);s!=null&&g(e,["functionCall"],lW(s));const a=h(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=h(t,["inlineData"]);l!=null&&g(e,["inlineData"],qz(l));const u=h(t,["text"]);u!=null&&g(e,["text"],u);const c=h(t,["thought"]);c!=null&&g(e,["thought"],c);const d=h(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const f=h(t,["videoMetadata"]);return f!=null&&g(e,["videoMetadata"],f),e}function AW(t){const e={},n=h(t,["category"]);if(n!=null&&g(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=h(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function IW(t){const e={},n=h(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=h(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],uW(r)),e}function CW(t){const e={};if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=h(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=h(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=h(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=h(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const s=h(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],pW(s));const a=h(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],mW(a));const l=h(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=h(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Di;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Di||(Di={}));class na{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PW extends Bi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new na(Di.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=DC(this.apiClient,e),r=n._url,i=ae("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(const c of l){const d=Object.assign({},c);if(d.systemInstruction){const f=d.systemInstruction;delete d.systemInstruction;const y=d.request;y.systemInstruction=f,d.request=y}u.push(d)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=Xz(this.apiClient,e);return a=ae("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>e_(c))}else{const u=DC(this.apiClient,e);return a=ae("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>lp(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Zz(this.apiClient,e);return o=ae("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>lp(l))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=hW(this.apiClient,e);return a=ae("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>e_(c))}else{const u=fW(this.apiClient,e);return a=ae("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>lp(c))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=zz(this.apiClient,e);s=ae("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=Hz(this.apiClient,e);s=ae("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=wW(e);return a=ae("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>{const d=TW(c),f=new NC;return Object.assign(f,d),f})}else{const u=bW(e);return a=ae("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>{const d=EW(c),f=new NC;return Object.assign(f,d),f})}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=tW(this.apiClient,e);return a=ae("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>rW(c))}else{const u=eW(this.apiClient,e);return a=ae("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>nW(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kW(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function LC(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ZW(o))),g(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&g(e,["role"],r),e}function NW(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=h(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=h(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const s=h(t,["contents"]);if(e!==void 0&&s!=null){let c=lr(s);Array.isArray(c)&&(c=c.map(d=>LC(d))),g(e,["contents"],c)}const a=h(t,["systemInstruction"]);e!==void 0&&a!=null&&g(e,["systemInstruction"],LC(fn(a)));const l=h(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>tK(d))),g(e,["tools"],c)}const u=h(t,["toolConfig"]);if(e!==void 0&&u!=null&&g(e,["toolConfig"],eK(u)),h(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function RW(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=h(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=h(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const s=h(t,["contents"]);if(e!==void 0&&s!=null){let d=lr(s);Array.isArray(d)&&(d=d.map(f=>f)),g(e,["contents"],d)}const a=h(t,["systemInstruction"]);e!==void 0&&a!=null&&g(e,["systemInstruction"],fn(a));const l=h(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(f=>nK(f))),g(e,["tools"],d)}const u=h(t,["toolConfig"]);e!==void 0&&u!=null&&g(e,["toolConfig"],u);const c=h(t,["kmsKeyName"]);return e!==void 0&&c!=null&&g(e,["encryption_spec","kmsKeyName"],c),n}function OW(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["model"],n$(t,r));const i=h(e,["config"]);return i!=null&&NW(i,n),n}function MW(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["model"],n$(t,r));const i=h(e,["config"]);return i!=null&&RW(i,n),n}function DW(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],Gi(t,r)),n}function LW(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],Gi(t,r)),n}function $W(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function jW(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function VW(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function FW(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const r=h(t,["args"]);r!=null&&g(e,["args"],r);const i=h(t,["name"]);if(i!=null&&g(e,["name"],i),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function UW(t){const e={},n=h(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=h(t,["mode"]);if(r!=null&&g(e,["mode"],r),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function BW(t){const e={},n=h(t,["description"]);n!=null&&g(e,["description"],n);const r=h(t,["name"]);r!=null&&g(e,["name"],r);const i=h(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=h(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=h(t,["response"]);s!=null&&g(e,["response"],s);const a=h(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function GW(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],Gi(t,r)),n}function qW(t,e){const n={},r=h(e,["name"]);return r!=null&&g(n,["_url","name"],Gi(t,r)),n}function HW(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function zW(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function WW(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function KW(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function YW(t){const e={},n=h(t,["config"]);return n!=null&&WW(n,e),e}function JW(t){const e={},n=h(t,["config"]);return n!=null&&KW(n,e),e}function XW(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["cachedContents"],o)}return e}function QW(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["cachedContents"],o)}return e}function ZW(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=h(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=h(t,["fileData"]);o!=null&&g(e,["fileData"],VW(o));const s=h(t,["functionCall"]);s!=null&&g(e,["functionCall"],FW(s));const a=h(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=h(t,["inlineData"]);l!=null&&g(e,["inlineData"],kW(l));const u=h(t,["text"]);u!=null&&g(e,["text"],u);const c=h(t,["thought"]);c!=null&&g(e,["thought"],c);const d=h(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const f=h(t,["videoMetadata"]);return f!=null&&g(e,["videoMetadata"],f),e}function eK(t){const e={},n=h(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=h(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],UW(r)),e}function tK(t){const e={};if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=h(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=h(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=h(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=h(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const s=h(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],HW(s));const a=h(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],zW(a));const l=h(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=h(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function nK(t){const e={},n=h(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=h(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=h(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=h(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=h(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>BW(f))),g(e,["functionDeclarations"],d)}const a=h(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=h(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=h(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=h(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function rK(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=h(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function iK(t,e){const n={},r=h(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=h(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function oK(t,e){const n={},r=h(e,["name"]);r!=null&&g(n,["_url","name"],Gi(t,r));const i=h(e,["config"]);return i!=null&&rK(i,n),n}function sK(t,e){const n={},r=h(e,["name"]);r!=null&&g(n,["_url","name"],Gi(t,r));const i=h(e,["config"]);return i!=null&&iK(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aK extends Bi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new na(Di.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=MW(this.apiClient,e);return a=ae("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=OW(this.apiClient,e);return a=ae("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=qW(this.apiClient,e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=GW(this.apiClient,e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=LW(this.apiClient,e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>{const d=jW(c),f=new PC;return Object.assign(f,d),f})}else{const u=DW(this.apiClient,e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>{const d=$W(c),f=new PC;return Object.assign(f,d),f})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=sK(this.apiClient,e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=oK(this.apiClient,e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=JW(e);return a=ae("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>{const d=QW(c),f=new kC;return Object.assign(f,d),f})}else{const u=YW(e);return a=ae("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>{const d=XW(c),f=new kC;return Object.assign(f,d),f})}}}function rm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function $C(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Se(t){return this instanceof Se?(this.v=t,this):new Se(t)}function kr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(x){return Promise.resolve(x).then(y,d)}}function a(y,x){r[y]&&(i[y]=function(_){return new Promise(function(b,T){o.push([y,_,b,T])>1||l(y,_)})},x&&(i[y]=x(i[y])))}function l(y,x){try{u(r[y](x))}catch(_){f(o[0][3],_)}}function u(y){y.value instanceof Se?Promise.resolve(y.value.v).then(c,d):f(o[0][2],y)}function c(y){l("next",y)}function d(y){l("throw",y)}function f(y,x){y(x),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Nr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof $C=="function"?$C(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lK(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:m$(n)}function m$(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function uK(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function jC(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!m$(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class cK{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new dK(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class dK{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),uK(o)}async sendMessage(e){var n;await this.sendPromise;const r=fn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const l=await i,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,c=l.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let f=[];c!=null&&(f=(a=c.slice(d))!==null&&a!==void 0?a:[]);const y=u?[u]:[];this.recordHistory(r,y,f)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=fn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?jC(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return kr(this,arguments,function*(){var i,o,s,a,l,u;const c=[];try{for(var d=!0,f=Nr(e),y;y=yield Se(f.next()),i=y.done,!i;d=!0){a=y.value,d=!1;const x=a;if(lK(x)){const _=(u=(l=x.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;_!==void 0&&c.push(_)}yield yield Se(x)}}catch(x){o={error:x}}finally{try{!d&&!i&&(s=f.return)&&(yield Se(s.call(f)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...jC(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gd extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,gd.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fK(t){const e={},n=h(t,["file"]);return n!=null&&g(e,["file"],n),e}function hK(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function pK(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","file"],l$(n)),e}function mK(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function gK(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","file"],l$(n)),e}function yK(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function vK(t){const e={},n=h(t,["config"]);return n!=null&&yK(n,e),e}function xK(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _K extends Bi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new na(Di.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=vK(e);return o=ae("files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=xK(l),c=new Tz;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=fK(e);return o=ae("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=hK(l),c=new Sz;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=gK(e);return o=ae("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=pK(e);return o=ae("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=mK(l),c=new Az;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function up(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function bK(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>$K(o))),g(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&g(e,["role"],r),e}function wK(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function EK(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const r=h(t,["args"]);r!=null&&g(e,["args"],r);const i=h(t,["name"]);if(i!=null&&g(e,["name"],i),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function TK(t){const e={},n=h(t,["description"]);n!=null&&g(e,["description"],n);const r=h(t,["name"]);r!=null&&g(e,["name"],r);const i=h(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=h(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=h(t,["response"]);s!=null&&g(e,["response"],s);const a=h(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function SK(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=h(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=h(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=h(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const s=h(t,["enableAffectiveDialog"]);s!=null&&g(e,["enableAffectiveDialog"],s);const a=h(t,["frequencyPenalty"]);a!=null&&g(e,["frequencyPenalty"],a);const l=h(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const u=h(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const c=h(t,["mediaResolution"]);c!=null&&g(e,["mediaResolution"],c);const d=h(t,["presencePenalty"]);d!=null&&g(e,["presencePenalty"],d);const f=h(t,["responseLogprobs"]);f!=null&&g(e,["responseLogprobs"],f);const y=h(t,["responseMimeType"]);y!=null&&g(e,["responseMimeType"],y);const x=h(t,["responseModalities"]);x!=null&&g(e,["responseModalities"],x);const _=h(t,["responseSchema"]);_!=null&&g(e,["responseSchema"],_);const b=h(t,["routingConfig"]);b!=null&&g(e,["routingConfig"],b);const T=h(t,["seed"]);T!=null&&g(e,["seed"],T);const w=h(t,["speechConfig"]);w!=null&&g(e,["speechConfig"],w);const A=h(t,["stopSequences"]);A!=null&&g(e,["stopSequences"],A);const N=h(t,["temperature"]);N!=null&&g(e,["temperature"],N);const E=h(t,["thinkingConfig"]);E!=null&&g(e,["thinkingConfig"],E);const I=h(t,["topK"]);I!=null&&g(e,["topK"],I);const v=h(t,["topP"]);if(v!=null&&g(e,["topP"],v),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function AK(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function IK(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function CK(t,e){const n={},r=h(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=h(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=h(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=h(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=h(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=h(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=h(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=h(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const d=h(t,["speechConfig"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","speechConfig"],jE(d));const f=h(t,["thinkingConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","thinkingConfig"],f);const y=h(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const x=h(t,["systemInstruction"]);e!==void 0&&x!=null&&g(e,["setup","systemInstruction"],bK(fn(x)));const _=h(t,["tools"]);if(e!==void 0&&_!=null){let I=lu(_);Array.isArray(I)&&(I=I.map(v=>VK(au(v)))),g(e,["setup","tools"],I)}const b=h(t,["sessionResumption"]);e!==void 0&&b!=null&&g(e,["setup","sessionResumption"],jK(b));const T=h(t,["inputAudioTranscription"]);e!==void 0&&T!=null&&g(e,["setup","inputAudioTranscription"],T);const w=h(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","outputAudioTranscription"],w);const A=h(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&g(e,["setup","realtimeInputConfig"],A);const N=h(t,["contextWindowCompression"]);e!==void 0&&N!=null&&g(e,["setup","contextWindowCompression"],N);const E=h(t,["proactivity"]);if(e!==void 0&&E!=null&&g(e,["setup","proactivity"],E),h(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function PK(t,e){const n={},r=h(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],SK(r));const i=h(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=h(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=h(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=h(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=h(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=h(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=h(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const d=h(t,["speechConfig"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","speechConfig"],jE(d));const f=h(t,["thinkingConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","thinkingConfig"],f);const y=h(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const x=h(t,["systemInstruction"]);e!==void 0&&x!=null&&g(e,["setup","systemInstruction"],fn(x));const _=h(t,["tools"]);if(e!==void 0&&_!=null){let v=lu(_);Array.isArray(v)&&(v=v.map(S=>FK(au(S)))),g(e,["setup","tools"],v)}const b=h(t,["sessionResumption"]);e!==void 0&&b!=null&&g(e,["setup","sessionResumption"],b);const T=h(t,["inputAudioTranscription"]);e!==void 0&&T!=null&&g(e,["setup","inputAudioTranscription"],T);const w=h(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","outputAudioTranscription"],w);const A=h(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&g(e,["setup","realtimeInputConfig"],A);const N=h(t,["contextWindowCompression"]);e!==void 0&&N!=null&&g(e,["setup","contextWindowCompression"],N);const E=h(t,["proactivity"]);e!==void 0&&E!=null&&g(e,["setup","proactivity"],E);const I=h(t,["explicitVadSignal"]);return e!==void 0&&I!=null&&g(e,["setup","explicitVadSignal"],I),n}function kK(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["setup","model"],Fe(t,r));const i=h(e,["config"]);return i!=null&&g(n,["config"],CK(i,n)),n}function NK(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["setup","model"],Fe(t,r));const i=h(e,["config"]);return i!=null&&g(n,["config"],PK(i,n)),n}function RK(t){const e={},n=h(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function OK(t){const e={},n=h(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["weightedPrompts"],r)}return e}function MK(t){const e={},n=h(t,["media"]);if(n!=null){let u=r$(n);Array.isArray(u)&&(u=u.map(c=>up(c))),g(e,["mediaChunks"],u)}const r=h(t,["audio"]);r!=null&&g(e,["audio"],up(o$(r)));const i=h(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=h(t,["video"]);o!=null&&g(e,["video"],up(i$(o)));const s=h(t,["text"]);s!=null&&g(e,["text"],s);const a=h(t,["activityStart"]);a!=null&&g(e,["activityStart"],a);const l=h(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function DK(t){const e={},n=h(t,["media"]);if(n!=null){let u=r$(n);Array.isArray(u)&&(u=u.map(c=>c)),g(e,["mediaChunks"],u)}const r=h(t,["audio"]);r!=null&&g(e,["audio"],o$(r));const i=h(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=h(t,["video"]);o!=null&&g(e,["video"],i$(o));const s=h(t,["text"]);s!=null&&g(e,["text"],s);const a=h(t,["activityStart"]);a!=null&&g(e,["activityStart"],a);const l=h(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function LK(t){const e={},n=h(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=h(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const i=h(t,["toolCall"]);i!=null&&g(e,["toolCall"],i);const o=h(t,["toolCallCancellation"]);o!=null&&g(e,["toolCallCancellation"],o);const s=h(t,["usageMetadata"]);s!=null&&g(e,["usageMetadata"],UK(s));const a=h(t,["goAway"]);a!=null&&g(e,["goAway"],a);const l=h(t,["sessionResumptionUpdate"]);l!=null&&g(e,["sessionResumptionUpdate"],l);const u=h(t,["voiceActivityDetectionSignal"]);u!=null&&g(e,["voiceActivityDetectionSignal"],u);const c=h(t,["voiceActivity"]);return c!=null&&g(e,["voiceActivity"],BK(c)),e}function $K(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=h(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=h(t,["fileData"]);o!=null&&g(e,["fileData"],wK(o));const s=h(t,["functionCall"]);s!=null&&g(e,["functionCall"],EK(s));const a=h(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=h(t,["inlineData"]);l!=null&&g(e,["inlineData"],up(l));const u=h(t,["text"]);u!=null&&g(e,["text"],u);const c=h(t,["thought"]);c!=null&&g(e,["thought"],c);const d=h(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const f=h(t,["videoMetadata"]);return f!=null&&g(e,["videoMetadata"],f),e}function jK(t){const e={},n=h(t,["handle"]);if(n!=null&&g(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function VK(t){const e={};if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=h(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=h(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=h(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=h(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const s=h(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],AK(s));const a=h(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],IK(a));const l=h(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=h(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function FK(t){const e={},n=h(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=h(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=h(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=h(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=h(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>TK(f))),g(e,["functionDeclarations"],d)}const a=h(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=h(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=h(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=h(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function UK(t){const e={},n=h(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=h(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const i=h(t,["candidatesTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const o=h(t,["toolUsePromptTokenCount"]);o!=null&&g(e,["toolUsePromptTokenCount"],o);const s=h(t,["thoughtsTokenCount"]);s!=null&&g(e,["thoughtsTokenCount"],s);const a=h(t,["totalTokenCount"]);a!=null&&g(e,["totalTokenCount"],a);const l=h(t,["promptTokensDetails"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(x=>x)),g(e,["promptTokensDetails"],y)}const u=h(t,["cacheTokensDetails"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(x=>x)),g(e,["cacheTokensDetails"],y)}const c=h(t,["candidatesTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(x=>x)),g(e,["responseTokensDetails"],y)}const d=h(t,["toolUsePromptTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(x=>x)),g(e,["toolUsePromptTokensDetails"],y)}const f=h(t,["trafficType"]);return f!=null&&g(e,["trafficType"],f),e}function BK(t){const e={},n=h(t,["type"]);return n!=null&&g(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GK(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function qK(t){const e={},n=h(t,["content"]);n!=null&&g(e,["content"],n);const r=h(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],HK(r));const i=h(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=h(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const s=h(t,["avgLogprobs"]);s!=null&&g(e,["avgLogprobs"],s);const a=h(t,["groundingMetadata"]);a!=null&&g(e,["groundingMetadata"],a);const l=h(t,["index"]);l!=null&&g(e,["index"],l);const u=h(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const c=h(t,["safetyRatings"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(y=>y)),g(e,["safetyRatings"],f)}const d=h(t,["urlContextMetadata"]);return d!=null&&g(e,["urlContextMetadata"],d),e}function HK(t){const e={},n=h(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function zK(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["contents"]);if(i!=null){let o=lr(i);Array.isArray(o)&&(o=o.map(s=>s)),g(n,["contents"],o)}return n}function WK(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["tokensInfo"],i)}return e}function KK(t){const e={},n=h(t,["values"]);n!=null&&g(e,["values"],n);const r=h(t,["statistics"]);return r!=null&&g(e,["statistics"],YK(r)),e}function YK(t){const e={},n=h(t,["truncated"]);n!=null&&g(e,["truncated"],n);const r=h(t,["token_count"]);return r!=null&&g(e,["tokenCount"],r),e}function Qg(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>iJ(o))),g(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&g(e,["role"],r),e}function JK(t){const e={},n=h(t,["controlType"]);n!=null&&g(e,["controlType"],n);const r=h(t,["enableControlImageComputation"]);return r!=null&&g(e,["computeControl"],r),e}function XK(t){const e={};if(h(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(h(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(h(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function QK(t,e){const n={},r=h(t,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],fn(r));const i=h(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>x$(a))),g(e,["tools"],s)}const o=h(t,["generationConfig"]);return e!==void 0&&o!=null&&g(e,["generationConfig"],GY(o)),n}function ZK(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["contents"]);if(i!=null){let s=lr(i);Array.isArray(s)&&(s=s.map(a=>Qg(a))),g(n,["contents"],s)}const o=h(e,["config"]);return o!=null&&XK(o),n}function eY(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["contents"]);if(i!=null){let s=lr(i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["contents"],s)}const o=h(e,["config"]);return o!=null&&QK(o,n),n}function tY(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["totalTokens"]);r!=null&&g(e,["totalTokens"],r);const i=h(t,["cachedContentTokenCount"]);return i!=null&&g(e,["cachedContentTokenCount"],i),e}function nY(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["totalTokens"]);return r!=null&&g(e,["totalTokens"],r),e}function rY(t,e){const n={},r=h(e,["model"]);return r!=null&&g(n,["_url","name"],Fe(t,r)),n}function iY(t,e){const n={},r=h(e,["model"]);return r!=null&&g(n,["_url","name"],Fe(t,r)),n}function oY(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function sY(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function aY(t,e){const n={},r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=h(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=h(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const s=h(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const a=h(t,["guidanceScale"]);e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a);const l=h(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=h(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=h(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const d=h(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&g(e,["parameters","includeSafetyAttributes"],d);const f=h(t,["includeRaiReason"]);e!==void 0&&f!=null&&g(e,["parameters","includeRaiReason"],f);const y=h(t,["language"]);e!==void 0&&y!=null&&g(e,["parameters","language"],y);const x=h(t,["outputMimeType"]);e!==void 0&&x!=null&&g(e,["parameters","outputOptions","mimeType"],x);const _=h(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&g(e,["parameters","outputOptions","compressionQuality"],_);const b=h(t,["addWatermark"]);e!==void 0&&b!=null&&g(e,["parameters","addWatermark"],b);const T=h(t,["labels"]);e!==void 0&&T!=null&&g(e,["labels"],T);const w=h(t,["editMode"]);e!==void 0&&w!=null&&g(e,["parameters","editMode"],w);const A=h(t,["baseSteps"]);return e!==void 0&&A!=null&&g(e,["parameters","editConfig","baseSteps"],A),n}function lY(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=h(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>cJ(l))),g(n,["instances[0]","referenceImages"],a)}const s=h(e,["config"]);return s!=null&&aY(s,n),n}function uY(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Zg(o))),g(e,["generatedImages"],i)}return e}function cY(t,e){const n={},r=h(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=h(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=h(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),h(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(h(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function dY(t,e){const n={},r=h(t,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const i=h(t,["title"]);e!==void 0&&i!=null&&g(e,["instances[]","title"],i);const o=h(t,["outputDimensionality"]);e!==void 0&&o!=null&&g(e,["parameters","outputDimensionality"],o);const s=h(t,["mimeType"]);e!==void 0&&s!=null&&g(e,["instances[]","mimeType"],s);const a=h(t,["autoTruncate"]);return e!==void 0&&a!=null&&g(e,["parameters","autoTruncate"],a),n}function fY(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["contents"]);if(i!=null){let a=DE(t,i);Array.isArray(a)&&(a=a.map(l=>l)),g(n,["requests[]","content"],a)}const o=h(e,["config"]);o!=null&&cY(o,n);const s=h(e,["model"]);return s!==void 0&&g(n,["requests[]","model"],Fe(t,s)),n}function hY(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["contents"]);if(i!=null){let s=DE(t,i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["instances[]","content"],s)}const o=h(e,["config"]);return o!=null&&dY(o,n),n}function pY(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["embeddings"],o)}const i=h(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function mY(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>KK(s))),g(e,["embeddings"],o)}const i=h(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function gY(t){const e={},n=h(t,["endpoint"]);n!=null&&g(e,["name"],n);const r=h(t,["deployedModelId"]);return r!=null&&g(e,["deployedModelId"],r),e}function yY(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function vY(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const r=h(t,["args"]);r!=null&&g(e,["args"],r);const i=h(t,["name"]);if(i!=null&&g(e,["name"],i),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function xY(t){const e={},n=h(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=h(t,["mode"]);if(r!=null&&g(e,["mode"],r),h(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function _Y(t){const e={},n=h(t,["description"]);n!=null&&g(e,["description"],n);const r=h(t,["name"]);r!=null&&g(e,["name"],r);const i=h(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=h(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=h(t,["response"]);s!=null&&g(e,["response"],s);const a=h(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),h(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function bY(t,e,n){const r={},i=h(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],Qg(fn(i)));const o=h(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=h(e,["topP"]);s!=null&&g(r,["topP"],s);const a=h(e,["topK"]);a!=null&&g(r,["topK"],a);const l=h(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=h(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=h(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const d=h(e,["responseLogprobs"]);d!=null&&g(r,["responseLogprobs"],d);const f=h(e,["logprobs"]);f!=null&&g(r,["logprobs"],f);const y=h(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const x=h(e,["frequencyPenalty"]);x!=null&&g(r,["frequencyPenalty"],x);const _=h(e,["seed"]);_!=null&&g(r,["seed"],_);const b=h(e,["responseMimeType"]);b!=null&&g(r,["responseMimeType"],b);const T=h(e,["responseSchema"]);T!=null&&g(r,["responseSchema"],LE(T));const w=h(e,["responseJsonSchema"]);if(w!=null&&g(r,["responseJsonSchema"],w),h(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(h(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const A=h(e,["safetySettings"]);if(n!==void 0&&A!=null){let D=A;Array.isArray(D)&&(D=D.map(U=>dJ(U))),g(n,["safetySettings"],D)}const N=h(e,["tools"]);if(n!==void 0&&N!=null){let D=lu(N);Array.isArray(D)&&(D=D.map(U=>vJ(au(U)))),g(n,["tools"],D)}const E=h(e,["toolConfig"]);if(n!==void 0&&E!=null&&g(n,["toolConfig"],yJ(E)),h(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=h(e,["cachedContent"]);n!==void 0&&I!=null&&g(n,["cachedContent"],Gi(t,I));const v=h(e,["responseModalities"]);v!=null&&g(r,["responseModalities"],v);const S=h(e,["mediaResolution"]);S!=null&&g(r,["mediaResolution"],S);const P=h(e,["speechConfig"]);if(P!=null&&g(r,["speechConfig"],$E(P)),h(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=h(e,["thinkingConfig"]);k!=null&&g(r,["thinkingConfig"],k);const O=h(e,["imageConfig"]);O!=null&&g(r,["imageConfig"],KY(O));const M=h(e,["enableEnhancedCivicAnswers"]);if(M!=null&&g(r,["enableEnhancedCivicAnswers"],M),h(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function wY(t,e,n){const r={},i=h(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],fn(i));const o=h(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=h(e,["topP"]);s!=null&&g(r,["topP"],s);const a=h(e,["topK"]);a!=null&&g(r,["topK"],a);const l=h(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=h(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=h(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const d=h(e,["responseLogprobs"]);d!=null&&g(r,["responseLogprobs"],d);const f=h(e,["logprobs"]);f!=null&&g(r,["logprobs"],f);const y=h(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const x=h(e,["frequencyPenalty"]);x!=null&&g(r,["frequencyPenalty"],x);const _=h(e,["seed"]);_!=null&&g(r,["seed"],_);const b=h(e,["responseMimeType"]);b!=null&&g(r,["responseMimeType"],b);const T=h(e,["responseSchema"]);T!=null&&g(r,["responseSchema"],LE(T));const w=h(e,["responseJsonSchema"]);w!=null&&g(r,["responseJsonSchema"],w);const A=h(e,["routingConfig"]);A!=null&&g(r,["routingConfig"],A);const N=h(e,["modelSelectionConfig"]);N!=null&&g(r,["modelConfig"],N);const E=h(e,["safetySettings"]);if(n!==void 0&&E!=null){let q=E;Array.isArray(q)&&(q=q.map(F=>F)),g(n,["safetySettings"],q)}const I=h(e,["tools"]);if(n!==void 0&&I!=null){let q=lu(I);Array.isArray(q)&&(q=q.map(F=>x$(au(F)))),g(n,["tools"],q)}const v=h(e,["toolConfig"]);n!==void 0&&v!=null&&g(n,["toolConfig"],v);const S=h(e,["labels"]);n!==void 0&&S!=null&&g(n,["labels"],S);const P=h(e,["cachedContent"]);n!==void 0&&P!=null&&g(n,["cachedContent"],Gi(t,P));const k=h(e,["responseModalities"]);k!=null&&g(r,["responseModalities"],k);const O=h(e,["mediaResolution"]);O!=null&&g(r,["mediaResolution"],O);const M=h(e,["speechConfig"]);M!=null&&g(r,["speechConfig"],$E(M));const D=h(e,["audioTimestamp"]);D!=null&&g(r,["audioTimestamp"],D);const U=h(e,["thinkingConfig"]);U!=null&&g(r,["thinkingConfig"],U);const B=h(e,["imageConfig"]);if(B!=null&&g(r,["imageConfig"],YY(B)),h(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const j=h(e,["modelArmorConfig"]);return n!==void 0&&j!=null&&g(n,["modelArmorConfig"],j),r}function VC(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["contents"]);if(i!=null){let s=lr(i);Array.isArray(s)&&(s=s.map(a=>Qg(a))),g(n,["contents"],s)}const o=h(e,["config"]);return o!=null&&g(n,["generationConfig"],bY(t,o,n)),n}function FC(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["contents"]);if(i!=null){let s=lr(i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["contents"],s)}const o=h(e,["config"]);return o!=null&&g(n,["generationConfig"],wY(t,o,n)),n}function UC(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>qK(u))),g(e,["candidates"],l)}const i=h(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=h(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const s=h(t,["responseId"]);s!=null&&g(e,["responseId"],s);const a=h(t,["usageMetadata"]);return a!=null&&g(e,["usageMetadata"],a),e}function BC(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),g(e,["candidates"],u)}const i=h(t,["createTime"]);i!=null&&g(e,["createTime"],i);const o=h(t,["modelVersion"]);o!=null&&g(e,["modelVersion"],o);const s=h(t,["promptFeedback"]);s!=null&&g(e,["promptFeedback"],s);const a=h(t,["responseId"]);a!=null&&g(e,["responseId"],a);const l=h(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function EY(t,e){const n={};if(h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=h(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=h(t,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const o=h(t,["guidanceScale"]);if(e!==void 0&&o!=null&&g(e,["parameters","guidanceScale"],o),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=h(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&g(e,["parameters","safetySetting"],s);const a=h(t,["personGeneration"]);e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a);const l=h(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&g(e,["parameters","includeSafetyAttributes"],l);const u=h(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const c=h(t,["language"]);e!==void 0&&c!=null&&g(e,["parameters","language"],c);const d=h(t,["outputMimeType"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","mimeType"],d);const f=h(t,["outputCompressionQuality"]);if(e!==void 0&&f!=null&&g(e,["parameters","outputOptions","compressionQuality"],f),h(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=h(t,["imageSize"]);if(e!==void 0&&y!=null&&g(e,["parameters","sampleImageSize"],y),h(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function TY(t,e){const n={},r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=h(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=h(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const s=h(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const a=h(t,["guidanceScale"]);e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a);const l=h(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=h(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=h(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const d=h(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&g(e,["parameters","includeSafetyAttributes"],d);const f=h(t,["includeRaiReason"]);e!==void 0&&f!=null&&g(e,["parameters","includeRaiReason"],f);const y=h(t,["language"]);e!==void 0&&y!=null&&g(e,["parameters","language"],y);const x=h(t,["outputMimeType"]);e!==void 0&&x!=null&&g(e,["parameters","outputOptions","mimeType"],x);const _=h(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&g(e,["parameters","outputOptions","compressionQuality"],_);const b=h(t,["addWatermark"]);e!==void 0&&b!=null&&g(e,["parameters","addWatermark"],b);const T=h(t,["labels"]);e!==void 0&&T!=null&&g(e,["labels"],T);const w=h(t,["imageSize"]);e!==void 0&&w!=null&&g(e,["parameters","sampleImageSize"],w);const A=h(t,["enhancePrompt"]);return e!==void 0&&A!=null&&g(e,["parameters","enhancePrompt"],A),n}function SY(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=h(e,["config"]);return o!=null&&EY(o,n),n}function AY(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=h(e,["config"]);return o!=null&&TY(o,n),n}function IY(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>VY(s))),g(e,["generatedImages"],o)}const i=h(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],y$(i)),e}function CY(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Zg(s))),g(e,["generatedImages"],o)}const i=h(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],v$(i)),e}function PY(t,e){const n={},r=h(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),h(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(h(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=h(t,["durationSeconds"]);if(e!==void 0&&i!=null&&g(e,["parameters","durationSeconds"],i),h(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=h(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const s=h(t,["resolution"]);e!==void 0&&s!=null&&g(e,["parameters","resolution"],s);const a=h(t,["personGeneration"]);if(e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a),h(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=h(t,["negativePrompt"]);e!==void 0&&l!=null&&g(e,["parameters","negativePrompt"],l);const u=h(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&g(e,["parameters","enhancePrompt"],u),h(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=h(t,["lastFrame"]);e!==void 0&&c!=null&&g(e,["instances[0]","lastFrame"],ey(c));const d=h(t,["referenceImages"]);if(e!==void 0&&d!=null){let f=d;Array.isArray(f)&&(f=f.map(y=>NJ(y))),g(e,["instances[0]","referenceImages"],f)}if(h(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(h(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function kY(t,e){const n={},r=h(t,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=h(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const o=h(t,["fps"]);e!==void 0&&o!=null&&g(e,["parameters","fps"],o);const s=h(t,["durationSeconds"]);e!==void 0&&s!=null&&g(e,["parameters","durationSeconds"],s);const a=h(t,["seed"]);e!==void 0&&a!=null&&g(e,["parameters","seed"],a);const l=h(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const u=h(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const c=h(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const d=h(t,["pubsubTopic"]);e!==void 0&&d!=null&&g(e,["parameters","pubsubTopic"],d);const f=h(t,["negativePrompt"]);e!==void 0&&f!=null&&g(e,["parameters","negativePrompt"],f);const y=h(t,["enhancePrompt"]);e!==void 0&&y!=null&&g(e,["parameters","enhancePrompt"],y);const x=h(t,["generateAudio"]);e!==void 0&&x!=null&&g(e,["parameters","generateAudio"],x);const _=h(t,["lastFrame"]);e!==void 0&&_!=null&&g(e,["instances[0]","lastFrame"],Lr(_));const b=h(t,["referenceImages"]);if(e!==void 0&&b!=null){let A=b;Array.isArray(A)&&(A=A.map(N=>RJ(N))),g(e,["instances[0]","referenceImages"],A)}const T=h(t,["mask"]);e!==void 0&&T!=null&&g(e,["instances[0]","mask"],kJ(T));const w=h(t,["compressionQuality"]);return e!==void 0&&w!=null&&g(e,["parameters","compressionQuality"],w),n}function NY(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const o=h(t,["error"]);o!=null&&g(e,["error"],o);const s=h(t,["response","generateVideoResponse"]);return s!=null&&g(e,["response"],DY(s)),e}function RY(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const o=h(t,["error"]);o!=null&&g(e,["error"],o);const s=h(t,["response"]);return s!=null&&g(e,["response"],LY(s)),e}function OY(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=h(e,["image"]);o!=null&&g(n,["instances[0]","image"],ey(o));const s=h(e,["video"]);s!=null&&g(n,["instances[0]","video"],_$(s));const a=h(e,["source"]);a!=null&&$Y(a,n);const l=h(e,["config"]);return l!=null&&PY(l,n),n}function MY(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=h(e,["image"]);o!=null&&g(n,["instances[0]","image"],Lr(o));const s=h(e,["video"]);s!=null&&g(n,["instances[0]","video"],b$(s));const a=h(e,["source"]);a!=null&&jY(a,n);const l=h(e,["config"]);return l!=null&&kY(l,n),n}function DY(t){const e={},n=h(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>UY(s))),g(e,["generatedVideos"],o)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=h(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function LY(t){const e={},n=h(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>BY(s))),g(e,["generatedVideos"],o)}const r=h(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=h(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function $Y(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=h(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],ey(i));const o=h(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],_$(o)),n}function jY(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=h(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Lr(i));const o=h(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],b$(o)),n}function VY(t){const e={},n=h(t,["_self"]);n!=null&&g(e,["image"],JY(n));const r=h(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=h(t,["_self"]);return i!=null&&g(e,["safetyAttributes"],y$(i)),e}function Zg(t){const e={},n=h(t,["_self"]);n!=null&&g(e,["image"],g$(n));const r=h(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=h(t,["_self"]);i!=null&&g(e,["safetyAttributes"],v$(i));const o=h(t,["prompt"]);return o!=null&&g(e,["enhancedPrompt"],o),e}function FY(t){const e={},n=h(t,["_self"]);n!=null&&g(e,["mask"],g$(n));const r=h(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["labels"],i)}return e}function UY(t){const e={},n=h(t,["video"]);return n!=null&&g(e,["video"],CJ(n)),e}function BY(t){const e={},n=h(t,["_self"]);return n!=null&&g(e,["video"],PJ(n)),e}function GY(t){const e={},n=h(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=h(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=h(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=h(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const s=h(t,["enableAffectiveDialog"]);s!=null&&g(e,["enableAffectiveDialog"],s);const a=h(t,["frequencyPenalty"]);a!=null&&g(e,["frequencyPenalty"],a);const l=h(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const u=h(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const c=h(t,["mediaResolution"]);c!=null&&g(e,["mediaResolution"],c);const d=h(t,["presencePenalty"]);d!=null&&g(e,["presencePenalty"],d);const f=h(t,["responseLogprobs"]);f!=null&&g(e,["responseLogprobs"],f);const y=h(t,["responseMimeType"]);y!=null&&g(e,["responseMimeType"],y);const x=h(t,["responseModalities"]);x!=null&&g(e,["responseModalities"],x);const _=h(t,["responseSchema"]);_!=null&&g(e,["responseSchema"],_);const b=h(t,["routingConfig"]);b!=null&&g(e,["routingConfig"],b);const T=h(t,["seed"]);T!=null&&g(e,["seed"],T);const w=h(t,["speechConfig"]);w!=null&&g(e,["speechConfig"],w);const A=h(t,["stopSequences"]);A!=null&&g(e,["stopSequences"],A);const N=h(t,["temperature"]);N!=null&&g(e,["temperature"],N);const E=h(t,["thinkingConfig"]);E!=null&&g(e,["thinkingConfig"],E);const I=h(t,["topK"]);I!=null&&g(e,["topK"],I);const v=h(t,["topP"]);if(v!=null&&g(e,["topP"],v),h(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function qY(t,e){const n={},r=h(e,["model"]);return r!=null&&g(n,["_url","name"],Fe(t,r)),n}function HY(t,e){const n={},r=h(e,["model"]);return r!=null&&g(n,["_url","name"],Fe(t,r)),n}function zY(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function WY(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function KY(t){const e={},n=h(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=h(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),h(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(h(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(h(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function YY(t){const e={},n=h(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=h(t,["imageSize"]);r!=null&&g(e,["imageSize"],r);const i=h(t,["personGeneration"]);i!=null&&g(e,["personGeneration"],i);const o=h(t,["outputMimeType"]);o!=null&&g(e,["imageOutputOptions","mimeType"],o);const s=h(t,["outputCompressionQuality"]);return s!=null&&g(e,["imageOutputOptions","compressionQuality"],s),e}function JY(t){const e={},n=h(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],zo(n));const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function g$(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=h(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],zo(r));const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function ey(t){const e={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=h(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],zo(n));const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Lr(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=h(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],zo(r));const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function XY(t,e,n){const r={},i=h(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=h(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const s=h(e,["filter"]);n!==void 0&&s!=null&&g(n,["_query","filter"],s);const a=h(e,["queryBase"]);return n!==void 0&&a!=null&&g(n,["_url","models_url"],u$(t,a)),r}function QY(t,e,n){const r={},i=h(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=h(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const s=h(e,["filter"]);n!==void 0&&s!=null&&g(n,["_query","filter"],s);const a=h(e,["queryBase"]);return n!==void 0&&a!=null&&g(n,["_url","models_url"],u$(t,a)),r}function ZY(t,e){const n={},r=h(e,["config"]);return r!=null&&XY(t,r,n),n}function eJ(t,e){const n={},r=h(e,["config"]);return r!=null&&QY(t,r,n),n}function tJ(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["_self"]);if(i!=null){let o=c$(i);Array.isArray(o)&&(o=o.map(s=>t_(s))),g(e,["models"],o)}return e}function nJ(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["_self"]);if(i!=null){let o=c$(i);Array.isArray(o)&&(o=o.map(s=>n_(s))),g(e,["models"],o)}return e}function rJ(t){const e={},n=h(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const r=h(t,["segmentationClasses"]);r!=null&&g(e,["maskClasses"],r);const i=h(t,["maskDilation"]);return i!=null&&g(e,["dilation"],i),e}function t_(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=h(t,["description"]);i!=null&&g(e,["description"],i);const o=h(t,["version"]);o!=null&&g(e,["version"],o);const s=h(t,["_self"]);s!=null&&g(e,["tunedModelInfo"],xJ(s));const a=h(t,["inputTokenLimit"]);a!=null&&g(e,["inputTokenLimit"],a);const l=h(t,["outputTokenLimit"]);l!=null&&g(e,["outputTokenLimit"],l);const u=h(t,["supportedGenerationMethods"]);u!=null&&g(e,["supportedActions"],u);const c=h(t,["temperature"]);c!=null&&g(e,["temperature"],c);const d=h(t,["maxTemperature"]);d!=null&&g(e,["maxTemperature"],d);const f=h(t,["topP"]);f!=null&&g(e,["topP"],f);const y=h(t,["topK"]);y!=null&&g(e,["topK"],y);const x=h(t,["thinking"]);return x!=null&&g(e,["thinking"],x),e}function n_(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=h(t,["description"]);i!=null&&g(e,["description"],i);const o=h(t,["versionId"]);o!=null&&g(e,["version"],o);const s=h(t,["deployedModels"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>gY(f))),g(e,["endpoints"],d)}const a=h(t,["labels"]);a!=null&&g(e,["labels"],a);const l=h(t,["_self"]);l!=null&&g(e,["tunedModelInfo"],_J(l));const u=h(t,["defaultCheckpointId"]);u!=null&&g(e,["defaultCheckpointId"],u);const c=h(t,["checkpoints"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["checkpoints"],d)}return e}function iJ(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=h(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=h(t,["fileData"]);o!=null&&g(e,["fileData"],yY(o));const s=h(t,["functionCall"]);s!=null&&g(e,["functionCall"],vY(s));const a=h(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=h(t,["inlineData"]);l!=null&&g(e,["inlineData"],GK(l));const u=h(t,["text"]);u!=null&&g(e,["text"],u);const c=h(t,["thought"]);c!=null&&g(e,["thought"],c);const d=h(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const f=h(t,["videoMetadata"]);return f!=null&&g(e,["videoMetadata"],f),e}function oJ(t){const e={},n=h(t,["productImage"]);return n!=null&&g(e,["image"],Lr(n)),e}function sJ(t,e){const n={},r=h(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=h(t,["baseSteps"]);e!==void 0&&i!=null&&g(e,["parameters","baseSteps"],i);const o=h(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const s=h(t,["seed"]);e!==void 0&&s!=null&&g(e,["parameters","seed"],s);const a=h(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&g(e,["parameters","safetySetting"],a);const l=h(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const u=h(t,["addWatermark"]);e!==void 0&&u!=null&&g(e,["parameters","addWatermark"],u);const c=h(t,["outputMimeType"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","mimeType"],c);const d=h(t,["outputCompressionQuality"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","compressionQuality"],d);const f=h(t,["enhancePrompt"]);e!==void 0&&f!=null&&g(e,["parameters","enhancePrompt"],f);const y=h(t,["labels"]);return e!==void 0&&y!=null&&g(e,["labels"],y),n}function aJ(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["source"]);i!=null&&uJ(i,n);const o=h(e,["config"]);return o!=null&&sJ(o,n),n}function lJ(t){const e={},n=h(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Zg(i))),g(e,["generatedImages"],r)}return e}function uJ(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=h(t,["personImage"]);e!==void 0&&i!=null&&g(e,["instances[0]","personImage","image"],Lr(i));const o=h(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>oJ(a))),g(e,["instances[0]","productImages"],s)}return n}function cJ(t){const e={},n=h(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],Lr(n));const r=h(t,["referenceId"]);r!=null&&g(e,["referenceId"],r);const i=h(t,["referenceType"]);i!=null&&g(e,["referenceType"],i);const o=h(t,["maskImageConfig"]);o!=null&&g(e,["maskImageConfig"],rJ(o));const s=h(t,["controlImageConfig"]);s!=null&&g(e,["controlImageConfig"],JK(s));const a=h(t,["styleImageConfig"]);a!=null&&g(e,["styleImageConfig"],a);const l=h(t,["subjectImageConfig"]);return l!=null&&g(e,["subjectImageConfig"],l),e}function y$(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=h(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=h(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function v$(t){const e={},n=h(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=h(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=h(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function dJ(t){const e={},n=h(t,["category"]);if(n!=null&&g(e,["category"],n),h(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=h(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function fJ(t){const e={},n=h(t,["image"]);return n!=null&&g(e,["image"],Lr(n)),e}function hJ(t,e){const n={},r=h(t,["mode"]);e!==void 0&&r!=null&&g(e,["parameters","mode"],r);const i=h(t,["maxPredictions"]);e!==void 0&&i!=null&&g(e,["parameters","maxPredictions"],i);const o=h(t,["confidenceThreshold"]);e!==void 0&&o!=null&&g(e,["parameters","confidenceThreshold"],o);const s=h(t,["maskDilation"]);e!==void 0&&s!=null&&g(e,["parameters","maskDilation"],s);const a=h(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&g(e,["parameters","binaryColorThreshold"],a);const l=h(t,["labels"]);return e!==void 0&&l!=null&&g(e,["labels"],l),n}function pJ(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["source"]);i!=null&&gJ(i,n);const o=h(e,["config"]);return o!=null&&hJ(o,n),n}function mJ(t){const e={},n=h(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>FY(i))),g(e,["generatedMasks"],r)}return e}function gJ(t,e){const n={},r=h(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=h(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Lr(i));const o=h(t,["scribbleImage"]);return e!==void 0&&o!=null&&g(e,["instances[0]","scribble"],fJ(o)),n}function yJ(t){const e={},n=h(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=h(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],xY(r)),e}function vJ(t){const e={};if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=h(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=h(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=h(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=h(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const s=h(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],zY(s));const a=h(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],WY(a));const l=h(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=h(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function x$(t){const e={},n=h(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=h(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),h(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=h(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=h(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=h(t,["functionDeclarations"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(f=>_Y(f))),g(e,["functionDeclarations"],d)}const a=h(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=h(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=h(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=h(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function xJ(t){const e={},n=h(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=h(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=h(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function _J(t){const e={},n=h(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const r=h(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=h(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function bJ(t,e){const n={},r=h(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=h(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=h(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function wJ(t,e){const n={},r=h(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=h(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=h(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function EJ(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","name"],Fe(t,r));const i=h(e,["config"]);return i!=null&&bJ(i,n),n}function TJ(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["config"]);return i!=null&&wJ(i,n),n}function SJ(t,e){const n={},r=h(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=h(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&g(e,["parameters","safetySetting"],i);const o=h(t,["personGeneration"]);e!==void 0&&o!=null&&g(e,["parameters","personGeneration"],o);const s=h(t,["includeRaiReason"]);e!==void 0&&s!=null&&g(e,["parameters","includeRaiReason"],s);const a=h(t,["outputMimeType"]);e!==void 0&&a!=null&&g(e,["parameters","outputOptions","mimeType"],a);const l=h(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&g(e,["parameters","outputOptions","compressionQuality"],l);const u=h(t,["enhanceInputImage"]);e!==void 0&&u!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=h(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const d=h(t,["labels"]);e!==void 0&&d!=null&&g(e,["labels"],d);const f=h(t,["numberOfImages"]);e!==void 0&&f!=null&&g(e,["parameters","sampleCount"],f);const y=h(t,["mode"]);return e!==void 0&&y!=null&&g(e,["parameters","mode"],y),n}function AJ(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["_url","model"],Fe(t,r));const i=h(e,["image"]);i!=null&&g(n,["instances[0]","image"],Lr(i));const o=h(e,["upscaleFactor"]);o!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=h(e,["config"]);return s!=null&&SJ(s,n),n}function IJ(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Zg(o))),g(e,["generatedImages"],i)}return e}function CJ(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["uri"],n);const r=h(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],zo(r));const i=h(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function PJ(t){const e={},n=h(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=h(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],zo(r));const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function kJ(t){const e={},n=h(t,["image"]);n!=null&&g(e,["_self"],Lr(n));const r=h(t,["maskMode"]);return r!=null&&g(e,["maskMode"],r),e}function NJ(t){const e={},n=h(t,["image"]);n!=null&&g(e,["image"],ey(n));const r=h(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function RJ(t){const e={},n=h(t,["image"]);n!=null&&g(e,["image"],Lr(n));const r=h(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function _$(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["uri"],n);const r=h(t,["videoBytes"]);r!=null&&g(e,["encodedVideo"],zo(r));const i=h(t,["mimeType"]);return i!=null&&g(e,["encoding"],i),e}function b$(t){const e={},n=h(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const r=h(t,["videoBytes"]);r!=null&&g(e,["bytesBase64Encoded"],zo(r));const i=h(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OJ(t,e){const n={},r=h(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function MJ(t){const e={},n=h(t,["config"]);return n!=null&&OJ(n,e),e}function DJ(t,e){const n={},r=h(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function LJ(t){const e={},n=h(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=h(t,["config"]);return r!=null&&DJ(r,e),e}function $J(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function jJ(t,e){const n={},r=h(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["customMetadata"],o)}const i=h(t,["chunkingConfig"]);return e!==void 0&&i!=null&&g(e,["chunkingConfig"],i),n}function VJ(t){const e={},n=h(t,["name"]);n!=null&&g(e,["name"],n);const r=h(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=h(t,["done"]);i!=null&&g(e,["done"],i);const o=h(t,["error"]);o!=null&&g(e,["error"],o);const s=h(t,["response"]);return s!=null&&g(e,["response"],UJ(s)),e}function FJ(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=h(t,["fileName"]);r!=null&&g(e,["fileName"],r);const i=h(t,["config"]);return i!=null&&jJ(i,e),e}function UJ(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["parent"]);r!=null&&g(e,["parent"],r);const i=h(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function BJ(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function GJ(t){const e={},n=h(t,["config"]);return n!=null&&BJ(n,e),e}function qJ(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["fileSearchStores"],o)}return e}function w$(t,e){const n={},r=h(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const i=h(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=h(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["customMetadata"],a)}const s=h(t,["chunkingConfig"]);return e!==void 0&&s!=null&&g(e,["chunkingConfig"],s),n}function HJ(t){const e={},n=h(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=h(t,["config"]);return r!=null&&w$(r,e),e}function zJ(t){const e={},n=h(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WJ="Content-Type",KJ="X-Server-Timeout",YJ="User-Agent",r_="x-goog-api-client",JJ="1.38.0",XJ=`google-genai-sdk/${JJ}`,QJ="v1beta1",ZJ="v1beta";class eX{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const a=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!a?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:QJ}else{if(!this.clientOptions.apiKey)throw new gd({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:ZJ,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===Xx.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&tX(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await GC(i),new Qx(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await GC(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return kr(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const a="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield Se(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(c,{stream:!0});try{const x=JSON.parse(d);if("error"in x){const _=JSON.parse(JSON.stringify(x.error)),b=_.status,T=_.code,w=`got status: ${b}. ${JSON.stringify(x)}`;if(T>=400&&T<600)throw new gd({message:w,status:T})}}catch(x){if(x.name==="ApiError")throw x}s+=d;let f=-1,y=0;for(;;){f=-1,y=0;for(const b of l){const T=s.indexOf(b);T!==-1&&(f===-1||T<f)&&(f=T,y=b.length)}if(f===-1)break;const x=s.substring(0,f);s=s.substring(f+y);const _=x.trim();if(_.startsWith(a)){const b=_.substring(a.length).trim();try{const T=new Response(b,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Se(new Qx(T))}catch(T){throw new Error(`exception parsing stream chunk ${b}. ${T}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=XJ+" "+this.clientOptions.userAgentExtra;return e[YJ]=n,e[r_]=n,e[WJ]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(KJ,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l={file:i},u=this.getFileName(e),c=ae("upload/v1beta/files",l._url),d=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,d,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),a=String(s.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),d={};r!=null&&w$(r,d);const f=await this.fetchUploadUrl(u,a,l,c,d,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,f,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var a;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function GC(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new gd({message:i,status:n}):new Error(i)}}function tX(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],c=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?a[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nX="mcp_used/unknown";let rX=!1;function E$(t){for(const e of t)if(iX(e)||typeof e=="object"&&"inputSchema"in e)return!0;return rX}function T$(t){var e;const n=(e=t[r_])!==null&&e!==void 0?e:"";t[r_]=(n+` ${nX}`).trimStart()}function iX(t){return t!==null&&typeof t=="object"&&t instanceof VE}function oX(t){return kr(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const s=yield Se(n.listTools({cursor:i}));for(const a of s.tools)yield yield Se(a),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class VE{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new VE(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const c of this.mcpClients)try{for(var a=!0,l=(n=void 0,Nr(oX(c))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const d=i;s.push(d);const f=d.name;if(o[f])throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);o[f]=c}}catch(d){n={error:d}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Lz(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function sX(t,e,n){const r=new Cz;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class aX{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=cX(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const c=new Promise(A=>{u=A}),d=e.callbacks,f=function(){u({})},y=this.apiClient,x={onopen:f,onmessage:A=>{sX(y,d.onmessage,A)},onerror:(n=d==null?void 0:d.onerror)!==null&&n!==void 0?n:function(A){},onclose:(r=d==null?void 0:d.onclose)!==null&&r!==void 0?r:function(A){}},_=this.webSocketFactory.create(l,uX(s),x);_.connect(),await c;const w={setup:{model:Fe(this.apiClient,e.model)}};return _.send(JSON.stringify(w)),new lX(_,this.apiClient)}}class lX{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=OK(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=RK(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl($a.PLAY)}pause(){this.sendPlaybackControl($a.PAUSE)}stop(){this.sendPlaybackControl($a.STOP)}resetContext(){this.sendPlaybackControl($a.RESET_CONTEXT)}close(){this.conn.close()}}function uX(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function cX(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dX="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function fX(t,e,n){const r=new Iz;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=LK(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class hX{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new aX(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const d=this.apiClient.getHeaders();e.config&&e.config.tools&&E$(e.config.tools)&&T$(d);const f=yX(d);if(this.apiClient.isVertexAI()){const P=this.apiClient.getProject(),k=this.apiClient.getLocation(),O=this.apiClient.getApiKey(),M=!!P&&!!k||!!O;this.apiClient.getCustomBaseUrl()&&!M?c=l:(c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(f,c))}else{const P=this.apiClient.getApiKey();let k="BidiGenerateContent",O="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),k="BidiGenerateContentConstrained",O="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${k}?${O}=${P}`}let y=()=>{};const x=new Promise(P=>{y=P}),_=e.callbacks,b=function(){var P;(P=_==null?void 0:_.onopen)===null||P===void 0||P.call(_),y({})},T=this.apiClient,w={onopen:b,onmessage:P=>{fX(T,_.onmessage,P)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(P){},onclose:(r=_==null?void 0:_.onclose)!==null&&r!==void 0?r:function(P){}},A=this.webSocketFactory.create(c,gX(f),w);A.connect(),await x;let N=Fe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&N.startsWith("publishers/")){const P=this.apiClient.getProject(),k=this.apiClient.getLocation();P&&k&&(N=`projects/${P}/locations/${k}/`+N)}let E={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[em.AUDIO]}:e.config.responseModalities=[em.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const I=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],v=[];for(const P of I)if(this.isCallableTool(P)){const k=P;v.push(await k.tool())}else v.push(P);v.length>0&&(e.config.tools=v);const S={model:N,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?E=NK(this.apiClient,S):E=kK(this.apiClient,S),delete E.config,A.send(JSON.stringify(E)),new mX(A,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const pX={turnComplete:!0};class mX{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=lr(n.turns),e.isVertexAI()||(r=r.map(i=>Qg(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(dX)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},pX),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:DK(e)}:n={realtimeInput:MK(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function gX(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function yX(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qC=10;function HC(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(nl(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function nl(t){return"callTool"in t&&typeof t.callTool=="function"}function vX(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>nl(i)))!==null&&r!==void 0?r:!1}function zC(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(nl(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function WC(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xX extends Bi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!vX(n)||HC(n.config))return await this.generateContentInternal(l);const u=zC(n);if(u.length>0){const _=u.map(b=>`tools[${b}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${_}.`)}let c,d;const f=lr(l.contents),y=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:qC;let x=0;for(;x<y&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const _=c.candidates[0].content,b=[];for(const T of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(nl(T)){const A=await T.callTool(c.functionCalls);b.push(...A)}x++,d={role:"user",parts:b},l.contents=lr(l.contents),l.contents.push(_),l.contents.push(d),WC(l.config)&&(f.push(_),f.push(d))}return WC(l.config)&&(c.automaticFunctionCallingHistory=f),c},this.generateContentStream=async n=>{var r,i,o,s,a;if(this.maybeMoveToResponseJsonSchem(n),HC(n.config)){const d=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(d)}const l=zC(n);if(l.length>0){const d=l.map(f=>`tools[${f}]`).join(", ");throw new Error(`Incompatible tools found at ${d}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new na(Di.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async l=>nl(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&E$(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),T$(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(nl(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:qC;let s=!1,a=0;const l=await this.initAfcToolsMap(e);return function(u,c,d){return kr(this,arguments,function*(){for(var f,y,x,_,b,T;a<o;){s&&(a++,s=!1);const E=yield Se(u.processParamsMaybeAddMcpUsage(d)),I=yield Se(u.generateContentStreamInternal(E)),v=[],S=[];try{for(var w=!0,A=(y=void 0,Nr(I)),N;N=yield Se(A.next()),f=N.done,!f;w=!0){_=N.value,w=!1;const P=_;if(yield yield Se(P),P.candidates&&(!((b=P.candidates[0])===null||b===void 0)&&b.content)){S.push(P.candidates[0].content);for(const k of(T=P.candidates[0].content.parts)!==null&&T!==void 0?T:[])if(a<o&&k.functionCall){if(!k.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(k.functionCall.name)){const O=yield Se(c.get(k.functionCall.name).callTool([k.functionCall]));v.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${k.functionCall.name}`)}}}}catch(P){y={error:P}}finally{try{!w&&!f&&(x=A.return)&&(yield Se(x.call(A)))}finally{if(y)throw y.error}}if(v.length>0){s=!0;const P=new Xu;P.candidates=[{content:{role:"user",parts:v}}],yield yield Se(P);const k=[];k.push(...S),k.push({role:"user",parts:v});const O=lr(d.contents).concat(k);d.contents=O}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=FC(this.apiClient,e);return a=ae("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>{const d=BC(c),f=new Xu;return Object.assign(f,d),f})}else{const u=VC(this.apiClient,e);return a=ae("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>{const d=UC(c),f=new Xu;return Object.assign(f,d),f})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=FC(this.apiClient,e);return a=ae("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(d){return kr(this,arguments,function*(){var f,y,x,_;try{for(var b=!0,T=Nr(d),w;w=yield Se(T.next()),f=w.done,!f;b=!0){_=w.value,b=!1;const A=_,N=BC(yield Se(A.json()));N.sdkHttpResponse={headers:A.headers};const E=new Xu;Object.assign(E,N),yield yield Se(E)}}catch(A){y={error:A}}finally{try{!b&&!f&&(x=T.return)&&(yield Se(x.call(T)))}finally{if(y)throw y.error}}})})}else{const u=VC(this.apiClient,e);return a=ae("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(d){return kr(this,arguments,function*(){var f,y,x,_;try{for(var b=!0,T=Nr(d),w;w=yield Se(T.next()),f=w.done,!f;b=!0){_=w.value,b=!1;const A=_,N=UC(yield Se(A.json()));N.sdkHttpResponse={headers:A.headers};const E=new Xu;Object.assign(E,N),yield yield Se(E)}}catch(A){y={error:A}}finally{try{!b&&!f&&(x=T.return)&&(yield Se(x.call(T)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=hY(this.apiClient,e);return a=ae("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>{const d=mY(c),f=new wC;return Object.assign(f,d),f})}else{const u=fY(this.apiClient,e);return a=ae("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>{const d=pY(c),f=new wC;return Object.assign(f,d),f})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=AY(this.apiClient,e);return a=ae("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>{const d=CY(c),f=new EC;return Object.assign(f,d),f})}else{const u=SY(this.apiClient,e);return a=ae("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>{const d=IY(c),f=new EC;return Object.assign(f,d),f})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=lY(this.apiClient,e);return o=ae("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=uY(l),c=new gz;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=AJ(this.apiClient,e);return o=ae("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=IJ(l),c=new yz;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=aJ(this.apiClient,e);return o=ae("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=lJ(l),c=new vz;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=pJ(this.apiClient,e);return o=ae("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=mJ(l),c=new xz;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=HY(this.apiClient,e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>n_(c))}else{const u=qY(this.apiClient,e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>t_(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=eJ(this.apiClient,e);return a=ae("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>{const d=nJ(c),f=new TC;return Object.assign(f,d),f})}else{const u=ZY(this.apiClient,e);return a=ae("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>{const d=tJ(c),f=new TC;return Object.assign(f,d),f})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=TJ(this.apiClient,e);return a=ae("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>n_(c))}else{const u=EJ(this.apiClient,e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>t_(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=iY(this.apiClient,e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>{const d=sY(c),f=new SC;return Object.assign(f,d),f})}else{const u=rY(this.apiClient,e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>{const d=oY(c),f=new SC;return Object.assign(f,d),f})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=eY(this.apiClient,e);return a=ae("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>{const d=nY(c),f=new AC;return Object.assign(f,d),f})}else{const u=ZK(this.apiClient,e);return a=ae("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>{const d=tY(c),f=new AC;return Object.assign(f,d),f})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=zK(this.apiClient,e);return o=ae("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=WK(l),c=new _z;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=MY(this.apiClient,e);return a=ae("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const d=RY(c),f=new tm;return Object.assign(f,d),f})}else{const u=OY(this.apiClient,e);return a=ae("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const d=NY(c),f=new tm;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _X extends Bi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=cz(e);return a=ae("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else{const u=uz(e);return a=ae("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=nz(e);return o=ae("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bX(t){const e={},n=h(t,["data"]);if(n!=null&&g(e,["data"],n),h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function wX(t){const e={},n=h(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>NX(o))),g(e,["parts"],i)}const r=h(t,["role"]);return r!=null&&g(e,["role"],r),e}function EX(t,e,n){const r={},i=h(e,["expireTime"]);n!==void 0&&i!=null&&g(n,["expireTime"],i);const o=h(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&g(n,["newSessionExpireTime"],o);const s=h(e,["uses"]);n!==void 0&&s!=null&&g(n,["uses"],s);const a=h(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&g(n,["bidiGenerateContentSetup"],kX(t,a));const l=h(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&g(n,["fieldMask"],l),r}function TX(t,e){const n={},r=h(e,["config"]);return r!=null&&g(n,["config"],EX(t,r,n)),n}function SX(t){const e={};if(h(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=h(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=h(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function AX(t){const e={},n=h(t,["id"]);n!=null&&g(e,["id"],n);const r=h(t,["args"]);r!=null&&g(e,["args"],r);const i=h(t,["name"]);if(i!=null&&g(e,["name"],i),h(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(h(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function IX(t){const e={};if(h(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=h(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function CX(t){const e={};if(h(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(h(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=h(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function PX(t,e){const n={},r=h(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=h(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=h(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=h(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=h(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=h(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=h(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=h(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const d=h(t,["speechConfig"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","speechConfig"],jE(d));const f=h(t,["thinkingConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","thinkingConfig"],f);const y=h(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const x=h(t,["systemInstruction"]);e!==void 0&&x!=null&&g(e,["setup","systemInstruction"],wX(fn(x)));const _=h(t,["tools"]);if(e!==void 0&&_!=null){let I=lu(_);Array.isArray(I)&&(I=I.map(v=>OX(au(v)))),g(e,["setup","tools"],I)}const b=h(t,["sessionResumption"]);e!==void 0&&b!=null&&g(e,["setup","sessionResumption"],RX(b));const T=h(t,["inputAudioTranscription"]);e!==void 0&&T!=null&&g(e,["setup","inputAudioTranscription"],T);const w=h(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","outputAudioTranscription"],w);const A=h(t,["realtimeInputConfig"]);e!==void 0&&A!=null&&g(e,["setup","realtimeInputConfig"],A);const N=h(t,["contextWindowCompression"]);e!==void 0&&N!=null&&g(e,["setup","contextWindowCompression"],N);const E=h(t,["proactivity"]);if(e!==void 0&&E!=null&&g(e,["setup","proactivity"],E),h(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function kX(t,e){const n={},r=h(e,["model"]);r!=null&&g(n,["setup","model"],Fe(t,r));const i=h(e,["config"]);return i!=null&&g(n,["config"],PX(i,n)),n}function NX(t){const e={},n=h(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=h(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=h(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=h(t,["fileData"]);o!=null&&g(e,["fileData"],SX(o));const s=h(t,["functionCall"]);s!=null&&g(e,["functionCall"],AX(s));const a=h(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=h(t,["inlineData"]);l!=null&&g(e,["inlineData"],bX(l));const u=h(t,["text"]);u!=null&&g(e,["text"],u);const c=h(t,["thought"]);c!=null&&g(e,["thought"],c);const d=h(t,["thoughtSignature"]);d!=null&&g(e,["thoughtSignature"],d);const f=h(t,["videoMetadata"]);return f!=null&&g(e,["videoMetadata"],f),e}function RX(t){const e={},n=h(t,["handle"]);if(n!=null&&g(e,["handle"],n),h(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function OX(t){const e={};if(h(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=h(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=h(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=h(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),h(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=h(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>d)),g(e,["functionDeclarations"],c)}const s=h(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],IX(s));const a=h(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],CX(a));const l=h(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=h(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MX(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function DX(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=MX(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class LX extends Bi{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=TX(this.apiClient,e);o=ae("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=DX(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $X(t,e){const n={},r=h(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function jX(t){const e={},n=h(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=h(t,["config"]);return r!=null&&$X(r,e),e}function VX(t){const e={},n=h(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function FX(t,e){const n={},r=h(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=h(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function UX(t){const e={},n=h(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=h(t,["config"]);return r!=null&&FX(r,e),e}function BX(t){const e={},n=h(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=h(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=h(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GX extends Bi{constructor(e){super(),this.apiClient=e,this.list=async n=>new na(Di.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=VX(e);return o=ae("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=jX(e);i=ae("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=UX(e);return o=ae("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=BX(l),c=new bz;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qX extends Bi{constructor(e,n=new GX(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new na(Di.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=MJ(e);return o=ae("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=$J(e);return o=ae("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=LJ(e);i=ae("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=GJ(e);return o=ae("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=qJ(l),c=new wz;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=HJ(e);return o=ae("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=zJ(l),c=new Ez;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=FJ(e);return o=ae("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=VJ(l),c=new OE;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let S$=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return S$=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const HX=()=>S$();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i_(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const o_=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fr extends Error{}class An extends fr{constructor(e,n,r,i){super(`${An.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new ty({message:r,cause:o_(n)});const o=n;return e===400?new I$(e,o,r,i):e===401?new C$(e,o,r,i):e===403?new P$(e,o,r,i):e===404?new k$(e,o,r,i):e===409?new N$(e,o,r,i):e===422?new R$(e,o,r,i):e===429?new O$(e,o,r,i):e>=500?new M$(e,o,r,i):new An(e,o,r,i)}}class s_ extends An{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class ty extends An{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class A$ extends ty{constructor({message:e}={}){super({message:e??"Request timed out."})}}class I$ extends An{}class C$ extends An{}class P$ extends An{}class k$ extends An{}class N$ extends An{}class R$ extends An{}class O$ extends An{}class M$ extends An{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zX=/^[a-z][a-z0-9+.-]*:/i,WX=t=>zX.test(t);let a_=t=>(a_=Array.isArray,a_(t));const KX=a_;let YX=KX;const KC=YX;function JX(t){if(!t)return!0;for(const e in t)return!1;return!0}function XX(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const QX=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new fr(`${t} must be an integer`);if(e<0)throw new fr(`${t} must be a positive integer`);return e},ZX=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eQ=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ea="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tQ(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const nQ=()=>{var t,e,n,r,i;const o=tQ();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ea,"X-Stainless-OS":JC(Deno.build.os),"X-Stainless-Arch":YC(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ea,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ea,"X-Stainless-OS":JC((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":YC((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=rQ();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ea,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ea,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function rQ(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}const YC=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",JC=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let wh;const iQ=()=>wh??(wh=nQ());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oQ(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function D$(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function sQ(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return D$({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function L$(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function aQ(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lQ=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $$=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Yv(t,e,n){return $$(),new File(t,e??"unknown_file",n)}function uQ(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const cQ=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const j$=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",dQ=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&j$(t),fQ=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function hQ(t,e,n){if($$(),t=await t,dQ(t))return t instanceof File?t:Yv([await t.arrayBuffer()],t.name);if(fQ(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Yv(await l_(i),e,n)}const r=await l_(t);if(e||(e=uQ(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Yv(r,e,n)}async function l_(t){var e,n,r,i,o;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(j$(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(cQ(t))try{for(var a=!0,l=Nr(t),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const c=i;s.push(...await l_(c))}}catch(c){n={error:c}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${pQ(t)}`)}return s}function pQ(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class V${constructor(e){this._client=e}}V$._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function F$(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const XC=Object.freeze(Object.create(null)),mQ=(t=F$)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],s=n.reduce((c,d,f)=>{var y,x,_;/[?#]/.test(d)&&(i=!0);const b=r[f];let T=(i?encodeURIComponent:t)(""+b);return f!==r.length&&(b==null||typeof b=="object"&&b.toString===((_=Object.getPrototypeOf((x=Object.getPrototypeOf((y=b.hasOwnProperty)!==null&&y!==void 0?y:XC))!==null&&x!==void 0?x:XC))===null||_===void 0?void 0:_.toString))&&(T=b+"",o.push({start:c.length+d.length,length:T.length,error:`Value of type ${Object.prototype.toString.call(b).slice(8,-1)} is not a valid path parameter`})),c+d+(f===r.length?"":T)},""),a=s.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(a))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,d)=>c.start-d.start),o.length>0){let c=0;const d=o.reduce((f,y)=>{const x=" ".repeat(y.start-c),_="^".repeat(y.length);return c=y.start+y.length,f+x+_},"");throw new fr(`Path parameters result in path with invalid segments:
${o.map(f=>f.error).join(`
`)}
${s}
${d}`)}return s},Eh=mQ(F$);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class U$ extends V${create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=rm(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new fr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new fr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Eh`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Eh`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Eh`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:s=this._client.apiVersion}=o,a=rm(o,["api_version"]);return this._client.get(Eh`/${s}/interactions/${e}`,Object.assign(Object.assign({query:a},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}U$._key=Object.freeze(["interactions"]);class B$ extends U${}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gQ(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Th;function FE(t){let e;return(Th??(e=new globalThis.TextEncoder,Th=e.encode.bind(e)))(t)}let Sh;function QC(t){let e;return(Sh??(e=new globalThis.TextDecoder,Sh=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ny{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?FE(e):e;this.buffer=gQ([this.buffer,n]);const r=[];let i;for(;(i=yQ(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(QC(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=QC(this.buffer.subarray(0,o));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}ny.NEWLINE_CHARS=new Set([`
`,"\r"]);ny.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function yQ(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function vQ(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const im={off:0,error:200,warn:300,info:400,debug:500},ZC=(t,e,n)=>{if(t){if(XX(im,t))return t;vn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(im))}`)}};function xc(){}function Ah(t,e,n){return!e||im[t]>im[n]?xc:e[t].bind(e)}const xQ={error:xc,warn:xc,info:xc,debug:xc};let eP=new WeakMap;function vn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return xQ;const i=eP.get(n);if(i&&i[0]===r)return i[1];const o={error:Ah("error",n,r),warn:Ah("warn",n,r),info:Ah("info",n,r),debug:Ah("debug",n,r)};return eP.set(n,[r,o]),o}const us=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ja{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?vn(r):console;function s(){return kr(this,arguments,function*(){var l,u,c,d;if(i)throw new fr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let f=!1;try{try{for(var y=!0,x=Nr(_Q(e,n)),_;_=yield Se(x.next()),l=_.done,!l;y=!0){d=_.value,y=!1;const b=d;if(!f)if(b.data.startsWith("[DONE]")){f=!0;continue}else try{yield yield Se(JSON.parse(b.data))}catch(T){throw o.error("Could not parse message into JSON:",b.data),o.error("From chunk:",b.raw),T}}}catch(b){u={error:b}}finally{try{!y&&!l&&(c=x.return)&&(yield Se(c.call(x)))}finally{if(u)throw u.error}}f=!0}catch(b){if(i_(b))return yield Se(void 0);throw b}finally{f||n.abort()}})}return new ja(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return kr(this,arguments,function*(){var l,u,c,d;const f=new ny,y=L$(e);try{for(var x=!0,_=Nr(y),b;b=yield Se(_.next()),l=b.done,!l;x=!0){d=b.value,x=!1;const T=d;for(const w of f.decode(T))yield yield Se(w)}}catch(T){u={error:T}}finally{try{!x&&!l&&(c=_.return)&&(yield Se(c.call(_)))}finally{if(u)throw u.error}}for(const T of f.flush())yield yield Se(T)})}function s(){return kr(this,arguments,function*(){var l,u,c,d;if(i)throw new fr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let f=!1;try{try{for(var y=!0,x=Nr(o()),_;_=yield Se(x.next()),l=_.done,!l;y=!0){d=_.value,y=!1;const b=d;f||b&&(yield yield Se(JSON.parse(b)))}}catch(b){u={error:b}}finally{try{!y&&!l&&(c=x.return)&&(yield Se(c.call(x)))}finally{if(u)throw u.error}}f=!0}catch(b){if(i_(b))return yield Se(void 0);throw b}finally{f||n.abort()}})}return new ja(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();e.push(s),n.push(s)}return o.shift()}});return[new ja(()=>i(e),this.controller,this.client),new ja(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return D$({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const s=FE(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function _Q(t,e){return kr(this,arguments,function*(){var r,i,o,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new fr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new fr("Attempted to iterate over a response with no body");const a=new wQ,l=new ny,u=L$(t.body);try{for(var c=!0,d=Nr(bQ(u)),f;f=yield Se(d.next()),r=f.done,!r;c=!0){s=f.value,c=!1;const y=s;for(const x of l.decode(y)){const _=a.decode(x);_&&(yield yield Se(_))}}}catch(y){i={error:y}}finally{try{!c&&!r&&(o=d.return)&&(yield Se(o.call(d)))}finally{if(i)throw i.error}}for(const y of l.flush()){const x=a.decode(y);x&&(yield yield Se(x))}})}function bQ(t){return kr(this,arguments,function*(){var n,r,i,o;let s=new Uint8Array;try{for(var a=!0,l=Nr(t),u;u=yield Se(l.next()),n=u.done,!n;a=!0){o=u.value,a=!1;const c=o;if(c==null)continue;const d=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?FE(c):c;let f=new Uint8Array(s.length+d.length);f.set(s),f.set(d,s.length),s=f;let y;for(;(y=vQ(s))!==-1;)yield yield Se(s.slice(0,y)),s=s.slice(y)}}catch(c){r={error:c}}finally{try{!a&&!n&&(i=l.return)&&(yield Se(i.call(l)))}finally{if(r)throw r.error}}s.length>0&&(yield yield Se(s))})}class wQ{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=EQ(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function EQ(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function TQ(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{var a;if(e.options.stream)return vn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):ja.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(a=l==null?void 0:l.split(";")[0])===null||a===void 0?void 0:a.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return vn(t).debug(`[${r}] response parsed`,us({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-o})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UE extends Promise{constructor(e,n,r=TQ){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new UE(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const G$=Symbol("brand.privateNullableHeaders");function*SQ(t){if(!t)return;if(G$ in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():KC(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=KC(r[1])?r[1]:[r[1]];let s=!1;for(const a of o)a!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,a])}}const Qu=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,s]of SQ(r)){const a=o.toLowerCase();i.has(a)||(e.delete(o),i.add(a)),s===null?(e.delete(o),n.add(a)):(e.append(o,s),n.delete(a))}}return{[G$]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jv=t=>{var e,n,r,i,o,s;if(typeof globalThis.process<"u")return(r=(n=(e=JH)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var q$;class ry{constructor(e){var n,r,i,o,s,a,l,{baseURL:u=Jv("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=Jv("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:d="v1beta"}=e,f=rm(e,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:c,apiVersion:d},f),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(r=y.timeout)!==null&&r!==void 0?r:ry.DEFAULT_TIMEOUT,this.logger=(i=y.logger)!==null&&i!==void 0?i:console;const x="warn";this.logLevel=x,this.logLevel=(s=(o=ZC(y.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:ZC(Jv("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:x,this.fetchOptions=y.fetchOptions,this.maxRetries=(a=y.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(l=y.fetch)!==null&&l!==void 0?l:oQ(),this.encoder=lQ,this._options=y,this.apiKey=c,this.apiVersion=d,this.clientAdapter=y.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Qu([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Qu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Qu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new fr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ea}`}defaultIdempotencyKey(){return`stainless-node-retry-${HX()}`}makeStatusError(e,n,r,i){return An.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=WX(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return JX(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new UE(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,s;const a=await e,l=(i=a.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(a);const{req:u,url:c,timeout:d}=await this.buildRequest(a,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:a});const f="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=r===void 0?"":`, retryOf: ${r}`,x=Date.now();if(vn(this).debug(`[${f}] sending request`,us({retryOfRequestLogID:r,method:a.method,url:c,options:a,headers:u.headers})),!((o=a.signal)===null||o===void 0)&&o.aborted)throw new s_;const _=new AbortController,b=await this.fetchWithTimeout(c,u,d,_).catch(o_),T=Date.now();if(b instanceof globalThis.Error){const A=`retrying, ${n} attempts remaining`;if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new s_;const N=i_(b)||/timed? ?out/i.test(String(b)+("cause"in b?String(b.cause):""));if(n)return vn(this).info(`[${f}] connection ${N?"timed out":"failed"} - ${A}`),vn(this).debug(`[${f}] connection ${N?"timed out":"failed"} (${A})`,us({retryOfRequestLogID:r,url:c,durationMs:T-x,message:b.message})),this.retryRequest(a,n,r??f);throw vn(this).info(`[${f}] connection ${N?"timed out":"failed"} - error; no more retries left`),vn(this).debug(`[${f}] connection ${N?"timed out":"failed"} (error; no more retries left)`,us({retryOfRequestLogID:r,url:c,durationMs:T-x,message:b.message})),N?new A$:new ty({cause:b})}const w=`[${f}${y}] ${u.method} ${c} ${b.ok?"succeeded":"failed"} with status ${b.status} in ${T-x}ms`;if(!b.ok){const A=await this.shouldRetry(b);if(n&&A){const P=`retrying, ${n} attempts remaining`;return await aQ(b.body),vn(this).info(`${w} - ${P}`),vn(this).debug(`[${f}] response error (${P})`,us({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,durationMs:T-x})),this.retryRequest(a,n,r??f,b.headers)}const N=A?"error; no more retries left":"error; not retryable";vn(this).info(`${w} - ${N}`);const E=await b.text().catch(P=>o_(P).message),I=ZX(E),v=I?void 0:E;throw vn(this).debug(`[${f}] response error (${N})`,us({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,message:v,durationMs:Date.now()-x})),this.makeStatusError(b.status,I,v,b.headers)}return vn(this).info(w),vn(this).debug(`[${f}] response start`,us({retryOfRequestLogID:r,url:b.url,status:b.status,headers:b.headers,durationMs:T-x})),{response:b,options:a,controller:_,requestLogID:f,retryOfRequestLogID:r,startTime:x}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:s,method:a}=o,l=rm(o,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,d=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);a&&(d.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,d)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let s;const a=i==null?void 0:i.get("retry-after-ms");if(a){const u=parseFloat(a);Number.isNaN(u)||(s=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!s){const u=parseFloat(l);Number.isNaN(u)?s=Date.parse(l)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,u)}return await eQ(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,s=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const s=Object.assign({},e),{method:a,path:l,query:u,defaultBaseURL:c}=s,d=this.buildURL(l,u,c);"timeout"in s&&QX("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:f,body:y}=this.buildBody({options:s}),x=await this.buildHeaders({options:e,method:a,bodyHeaders:f,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:x},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=s.fetchOptions)!==null&&o!==void 0?o:{}),url:d,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let a=Qu([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),iQ()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=Qu([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:sQ(e)}:this.encoder({body:e,headers:r})}}ry.DEFAULT_TIMEOUT=6e4;class Bt extends ry{constructor(){super(...arguments),this.interactions=new B$(this)}}q$=Bt;Bt.GeminiNextGenAPIClient=q$;Bt.GeminiNextGenAPIClientError=fr;Bt.APIError=An;Bt.APIConnectionError=ty;Bt.APIConnectionTimeoutError=A$;Bt.APIUserAbortError=s_;Bt.NotFoundError=k$;Bt.ConflictError=N$;Bt.RateLimitError=O$;Bt.BadRequestError=I$;Bt.AuthenticationError=C$;Bt.InternalServerError=M$;Bt.PermissionDeniedError=P$;Bt.UnprocessableEntityError=R$;Bt.toFile=hQ;Bt.Interactions=B$;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AQ(t,e){const n={},r=h(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function IQ(t,e){const n={},r=h(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function CQ(t,e){const n={},r=h(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function PQ(t,e){const n={},r=h(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function kQ(t,e,n){const r={};if(h(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=h(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&g(e,["displayName"],i),h(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=h(t,["epochCount"]);e!==void 0&&o!=null&&g(e,["tuningTask","hyperparameters","epochCount"],o);const s=h(t,["learningRateMultiplier"]);if(s!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),h(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(h(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(h(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=h(t,["batchSize"]);e!==void 0&&a!=null&&g(e,["tuningTask","hyperparameters","batchSize"],a);const l=h(t,["learningRate"]);if(e!==void 0&&l!=null&&g(e,["tuningTask","hyperparameters","learningRate"],l),h(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(h(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function NQ(t,e,n){const r={};let i=h(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const y=h(t,["validationDataset"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec"],tP(y))}else if(i==="PREFERENCE_TUNING"){const y=h(t,["validationDataset"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec"],tP(y))}const o=h(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&g(e,["tunedModelDisplayName"],o);const s=h(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);let a=h(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const y=h(t,["epochCount"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(a==="PREFERENCE_TUNING"){const y=h(t,["epochCount"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let l=h(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const y=h(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(l==="PREFERENCE_TUNING"){const y=h(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let u=h(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=h(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(u==="PREFERENCE_TUNING"){const y=h(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let c=h(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=h(t,["adapterSize"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(c==="PREFERENCE_TUNING"){const y=h(t,["adapterSize"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(h(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(h(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const d=h(t,["labels"]);e!==void 0&&d!=null&&g(e,["labels"],d);const f=h(t,["beta"]);return e!==void 0&&f!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],f),r}function RQ(t,e){const n={},r=h(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=h(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=h(t,["trainingDataset"]);o!=null&&GQ(o);const s=h(t,["config"]);return s!=null&&kQ(s,n),n}function OQ(t,e){const n={},r=h(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=h(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=h(t,["trainingDataset"]);o!=null&&qQ(o,n,e);const s=h(t,["config"]);return s!=null&&NQ(s,n,e),n}function MQ(t,e){const n={},r=h(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function DQ(t,e){const n={},r=h(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function LQ(t,e,n){const r={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const s=h(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),r}function $Q(t,e,n){const r={},i=h(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=h(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const s=h(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),r}function jQ(t,e){const n={},r=h(t,["config"]);return r!=null&&LQ(r,n),n}function VQ(t,e){const n={},r=h(t,["config"]);return r!=null&&$Q(r,n),n}function FQ(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=h(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=h(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>H$(a))),g(n,["tuningJobs"],s)}return n}function UQ(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=h(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=h(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>u_(a))),g(n,["tuningJobs"],s)}return n}function BQ(t,e){const n={},r=h(t,["name"]);r!=null&&g(n,["model"],r);const i=h(t,["name"]);return i!=null&&g(n,["endpoint"],i),n}function GQ(t,e){const n={};if(h(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(h(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=h(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(n,["examples","examples"],i)}return n}function qQ(t,e,n){const r={};let i=h(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=h(t,["gcsUri"]);e!==void 0&&s!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=h(t,["gcsUri"]);e!==void 0&&s!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=h(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=h(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=h(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(h(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function H$(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=h(t,["name"]);i!=null&&g(n,["name"],i);const o=h(t,["state"]);o!=null&&g(n,["state"],a$(o));const s=h(t,["createTime"]);s!=null&&g(n,["createTime"],s);const a=h(t,["tuningTask","startTime"]);a!=null&&g(n,["startTime"],a);const l=h(t,["tuningTask","completeTime"]);l!=null&&g(n,["endTime"],l);const u=h(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const c=h(t,["description"]);c!=null&&g(n,["description"],c);const d=h(t,["baseModel"]);d!=null&&g(n,["baseModel"],d);const f=h(t,["_self"]);return f!=null&&g(n,["tunedModel"],BQ(f)),n}function u_(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=h(t,["name"]);i!=null&&g(n,["name"],i);const o=h(t,["state"]);o!=null&&g(n,["state"],a$(o));const s=h(t,["createTime"]);s!=null&&g(n,["createTime"],s);const a=h(t,["startTime"]);a!=null&&g(n,["startTime"],a);const l=h(t,["endTime"]);l!=null&&g(n,["endTime"],l);const u=h(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const c=h(t,["error"]);c!=null&&g(n,["error"],c);const d=h(t,["description"]);d!=null&&g(n,["description"],d);const f=h(t,["baseModel"]);f!=null&&g(n,["baseModel"],f);const y=h(t,["tunedModel"]);y!=null&&g(n,["tunedModel"],y);const x=h(t,["preTunedModel"]);x!=null&&g(n,["preTunedModel"],x);const _=h(t,["supervisedTuningSpec"]);_!=null&&g(n,["supervisedTuningSpec"],_);const b=h(t,["preferenceOptimizationSpec"]);b!=null&&g(n,["preferenceOptimizationSpec"],b);const T=h(t,["tuningDataStats"]);T!=null&&g(n,["tuningDataStats"],T);const w=h(t,["encryptionSpec"]);w!=null&&g(n,["encryptionSpec"],w);const A=h(t,["partnerModelTuningSpec"]);A!=null&&g(n,["partnerModelTuningSpec"],A);const N=h(t,["customBaseModel"]);N!=null&&g(n,["customBaseModel"],N);const E=h(t,["experiment"]);E!=null&&g(n,["experiment"],E);const I=h(t,["labels"]);I!=null&&g(n,["labels"],I);const v=h(t,["outputUri"]);v!=null&&g(n,["outputUri"],v);const S=h(t,["pipelineJob"]);S!=null&&g(n,["pipelineJob"],S);const P=h(t,["serviceAccount"]);P!=null&&g(n,["serviceAccount"],P);const k=h(t,["tunedModelDisplayName"]);k!=null&&g(n,["tunedModelDisplayName"],k);const O=h(t,["veoTuningSpec"]);return O!=null&&g(n,["veoTuningSpec"],O),n}function HQ(t,e){const n={},r=h(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=h(t,["name"]);i!=null&&g(n,["name"],i);const o=h(t,["metadata"]);o!=null&&g(n,["metadata"],o);const s=h(t,["done"]);s!=null&&g(n,["done"],s);const a=h(t,["error"]);return a!=null&&g(n,["error"],a),n}function tP(t,e){const n={},r=h(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const i=h(t,["vertexDatasetResource"]);return i!=null&&g(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zQ extends Bi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new na(Di.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:Jx.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=DQ(e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>u_(c))}else{const u=MQ(e);return a=ae("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>H$(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=VQ(e);return a=ae("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>{const d=UQ(c),f=new IC;return Object.assign(f,d),f})}else{const u=jQ(e);return a=ae("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>{const d=FQ(c),f=new IC;return Object.assign(f,d),f})}}async cancel(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=IQ(e);return a=ae("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>{const d=PQ(c),f=new CC;return Object.assign(f,d),f})}else{const u=AQ(e);return a=ae("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),s.then(c=>{const d=CQ(c),f=new CC;return Object.assign(f,d),f})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=OQ(e,e);return o=ae("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>u_(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=RQ(e);return o=ae("tunedModels",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>HQ(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WQ{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const KQ=1024*1024*8,YQ=3,JQ=1e3,XQ=2,om="x-goog-upload-status";async function QQ(t,e,n){var r;const i=await z$(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[om])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function ZQ(t,e,n){var r;const i=await z$(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[om])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=t$(o),a=new ME;return Object.assign(a,s),a}async function z$(t,e,n){var r,i;let o=0,s=0,a=new Qx(new Response),l="upload";for(o=t.size;s<o;){const u=Math.min(KQ,o-s),c=t.slice(s,s+u);s+u>=o&&(l+=", finalize");let d=0,f=JQ;for(;d<YQ&&(a=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[om]));)d++,await tZ(f),f=f*XQ;if(s+=u,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[om])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function eZ(t){return{size:t.size,type:t.type}}function tZ(t){return new Promise(e=>setTimeout(e,t))}class nZ{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await QQ(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ZQ(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await eZ(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rZ{create(e,n,r){return new iZ(e,n,r)}}class iZ{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nP="x-goog-api-key";class oZ{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(nP)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(nP,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sZ="gl-node/";class Tf{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Bt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=ez(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new oZ(this.apiKey);this.apiClient=new eX({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:sZ+"web",uploader:new nZ,downloader:new WQ}),this.models=new xX(this.apiClient),this.live=new hX(this.apiClient,i,new rZ),this.batches=new PW(this.apiClient),this.chats=new cK(this.models,this.apiClient),this.caches=new aK(this.apiClient),this.files=new _K(this.apiClient),this.operations=new _X(this.apiClient),this.authTokens=new LX(this.apiClient),this.tunings=new zQ(this.apiClient),this.fileSearchStores=new qX(this.apiClient)}}const c_=["Casa","Mobilidade","Alimentos","Lazer","Pets","Outros"],iy="nexo_user_api_key",cu=()=>{const t=localStorage.getItem(iy);return t||null},rP=t=>{localStorage.setItem(iy,t)},aZ=()=>{localStorage.removeItem(iy)},iP=()=>!!localStorage.getItem(iy),lZ=async t=>{var i;const e=cu();if(!e)return"Outros";const n=new Tf({apiKey:e}),r=`Classifique "${t}" em: ${c_.join(", ")}. Responda S a categoria.`;try{const s=((i=(await n.models.generateContent({model:"gemini-3-flash-preview",contents:r})).text)==null?void 0:i.trim())||"Outros";return c_.includes(s)?s:"Outros"}catch{return"Outros"}},uZ=async t=>{var i;const e=cu();if(!e)return null;const n=new Tf({apiKey:e}),r=`
    Analise esta imagem de recibo/nota fiscal.
    Extraia:
    1. Nome do estabelecimento (description)
    2. Valor total (amount)
    3. Data (date) no formato YYYY-MM-DD
    4. Categoria provvel (${c_.join(", ")})

    Responda EXATAMENTE neste formato JSON, sem crase ou markdown:
    { "description": "...", "amount": 0.00, "date": "YYYY-MM-DD", "category": "..." }
  `;try{let s=(i=(await n.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{mimeType:"image/jpeg",data:t}},{text:r}]}})).text)==null?void 0:i.trim();return s!=null&&s.startsWith("```json")&&(s=s.replace("```json","").replace("```","")),JSON.parse(s||"{}")}catch(o){return console.error("Receipt analysis error:",o),null}},cZ=async t=>{var s,a,l;const e=cu();if(!e)return{text:"Configure sua API Key nas preferncias para receber recomendaes de investimentos.",sources:[]};const n=new Tf({apiKey:e}),r=t.map(u=>`${u.name} (${u.type}): R$ ${u.amount}`).join(", "),o=`
    Voc  um consultor de investimentos snior especialista no mercado brasileiro.
    Carteira Atual: R$ ${t.reduce((u,c)=>u+c.amount,0)} (${r||"Vazia"}).

    TAREFA:
    Use o Google Search para encontrar oportunidades REAIS e ATUAIS (taxas de hoje, cotaes recentes).
    
    FORMATO OBRIGATRIO (Siga estritamente):
    
    ###  Baixo Risco
    1. **[Nome]** - [Taxa/Preo] - [Motivo curto]
    2. **[Nome]** - [Taxa/Preo] - [Motivo curto]
    3. **[Nome]** - [Taxa/Preo] - [Motivo curto]

    ###  Mdio Risco
    (3 opes no mesmo formato)

    ###  Alto Risco
    (3 opes no mesmo formato)

    ---SECTION-BREAK---

    ###  Anlise Tcnica
    (Sua anlise detalhada aqui sobre cenrio macro, inflao e porqus)
  `;try{const u=await n.models.generateContent({model:"gemini-3-flash-preview",contents:o,config:{tools:[{googleSearch:{}}]}}),c=[],d=(l=(a=(s=u.candidates)==null?void 0:s[0])==null?void 0:a.groundingMetadata)==null?void 0:l.groundingChunks;d&&d.forEach(y=>{y.web&&c.push({title:y.web.title||"Fonte Web",uri:y.web.uri||"#"})});const f=c.filter((y,x,_)=>_.findIndex(b=>b.uri===y.uri)===x);return{text:u.text||"No foi possvel gerar recomendaes no momento.",sources:f}}catch(u){return console.error("Investment Advice Error:",u),{text:"Erro ao consultar consultor IA. Verifique sua chave.",sources:[]}}},dZ=async(t,e,n)=>{var l;const r=cu();if(!r)return null;const i=new Tf({apiKey:r}),o=new Map;t.forEach(u=>{o.set(u.type,(o.get(u.type)||0)+u.amount)});const s=Array.from(o.entries()).map(([u,c])=>`${u}: R$ ${c.toFixed(2)}`).join(", "),a=`
      Atue como um Gestor de Private Banking. O cliente tem ${n} anos e perfil de risco: ${e.toUpperCase()}.
      
      Carteira Atual Agregada: ${s||"R$ 0,00 (Vazia)"}

      Sua tarefa  analisar a alocao de ativos e sugerir o rebalanceamento ideal baseado nas melhores prticas de Wealth Management (como Bridgewater/Arta) adaptado ao Brasil.
      
      RETORNE APENAS JSON VLIDO. NO USE MARKDOWN. Siga este esquema:
      {
        "analysisText": "Pargrafo curto (max 300 chars) com sua viso macro sobre a carteira do cliente.",
        "currentAllocation": [ {"name": "Categoria", "value": %_atual (0-100)} ],
        "suggestedAllocation": [ {"name": "Categoria", "value": %_ideal (0-100)} ],
        "actionItems": [
           {"title": "Ao Ttica", "type": "buy" | "sell" | "hold", "description": "Explicao curta"}
        ]
      }
      
      Regras:
      1. 'suggestedAllocation' deve somar 100.
      2. Categorias sugeridas podem ser: 'Renda Fixa Ps', 'Renda Fixa Pr/IPCA', 'Aes Brasil', 'Aes Global', 'FIIs', 'Cripto/Alternativos', 'Reserva'.
      3. Se a carteira estiver vazia, sugira a alocao ideal do zero.
    `;try{const c=((l=(await i.models.generateContent({model:"gemini-3-flash-preview",contents:a,config:{responseMimeType:"application/json"}})).text)==null?void 0:l.trim())||"{}";return JSON.parse(c)}catch(u){return console.error("Wealth Analysis Error:",u),null}};async function*fZ(t,e,n){const r=cu();if(!r){yield"Por favor, configure sua API Key nas preferncias do menu.";return}const i=new Tf({apiKey:r}),o=n.transactions.filter(w=>w.type==="income").reduce((w,A)=>w+A.amount,0),s=n.transactions.filter(w=>w.type==="expense").reduce((w,A)=>w+A.amount,0),a=n.investments.reduce((w,A)=>w+A.amount,0),l=n.debts.reduce((w,A)=>w+A.currentAmount,0),u=n.transactions.sort((w,A)=>new Date(A.date).getTime()-new Date(w.date).getTime()).slice(0,30).map(w=>`- ${w.date}: ${w.description} (${w.type}) R$ ${w.amount} [${w.category}] Status: ${w.status}`).join(`
`),c=n.investments.map(w=>`- ${w.name} (${w.type}): R$ ${w.amount} (Meta: R$ ${w.targetAmount})`).join(`
`),d=n.debts.map(w=>`- ${w.creditor}: R$ ${w.currentAmount} (Status: ${w.status}, Vence: ${w.dueDate})`).join(`
`);let f="Neutro";l>a*2?f="Endividado (Foco em quitao)":a>s*6?f="Investidor (Foco em otimizao)":o<s&&(f="Dficit (Foco em corte de gastos)");const y=`
    RELATRIO FINANCEIRO DO USURIO (Contexto Interno):
    
    1. PERFIL IDENTIFICADO: ${f}
    2. RESUMO:
       - Renda Total: R$ ${o.toFixed(2)}
       - Despesas Totais: R$ ${s.toFixed(2)}
       - Saldo: R$ ${(o-s).toFixed(2)}
       - Total Investido: R$ ${a.toFixed(2)}
       - Dvidas Ativas: R$ ${l.toFixed(2)}
    3. LTIMAS TRANSAES:
    ${u}
    4. INVESTIMENTOS:
    ${c}
    5. DVIDAS:
    ${d}
  `,x=`
    Voc  o NEXO AI, um assistente financeiro pessoal de elite.
    OBJETIVO: Ajudar o usurio a gerenciar suas finanas com base no perfil identificado: ${f}.
    CONTEXTO: ${y}
    DIRETRIZES:
    - Responda de forma concisa e amigvel.
    - Se o usurio perguntar sobre o saldo, gastos especficos ou investimentos, consulte o relatrio acima.
    - Seja proativo: se vir uma dvida vencendo ou gasto alto, pode alertar sutilmente.
    - Use Markdown para formatar valores e listas.
  `,_=i.chats.create({model:"gemini-3-flash-preview",config:{systemInstruction:x}}),T=`
    [Histrico Recente]:
    ${e.slice(-6).map(w=>`${w.role==="user"?"Usurio":"Modelo"}: ${w.content}`).join(`
`)}
    
    [Nova Mensagem]: ${t}
  `;try{const w=await _.sendMessageStream({message:T});for await(const A of w)A.text&&(yield A.text)}catch(w){console.error(w),yield"Erro de conexo com o crebro digital. Verifique sua Chave de API."}}const hZ=({onGuestLogin:t})=>{const[e,n]=V.useState(!1),[r,i]=V.useState(""),[o,s]=V.useState(""),[a,l]=V.useState(""),[u,c]=V.useState(""),[d,f]=V.useState(!1),[y,x]=V.useState(!1);V.useEffect(()=>{const A=La.app.options.apiKey;(!A||A==="SUA_API_KEY_AQUI"||A.includes("SUA_API_KEY"))&&x(!0)},[]);const _=A=>{console.error(A);let N="Erro ao autenticar. Verifique suas credenciais.";A.code==="auth/email-already-in-use"&&(N="Este e-mail j est em uso."),A.code==="auth/invalid-email"&&(N="E-mail invlido."),A.code==="auth/weak-password"&&(N="A senha deve ter pelo menos 6 caracteres."),(A.code==="auth/user-not-found"||A.code==="auth/wrong-password")&&(N="E-mail ou senha incorretos."),A.code==="auth/invalid-credential"&&(N="Credenciais invlidas."),A.code==="auth/invalid-api-key"&&(N="Chave de API invlida.",x(!0)),A.code==="auth/unauthorized-domain"?(N="Domnio no autorizado pelo Firebase.",c(window.location.hostname)):c(""),l(N)},b=async A=>{A.preventDefault(),l(""),c(""),f(!0);try{e?await g9(La,r,o):await y9(La,r,o)}catch(N){_(N)}finally{f(!1)}},T=async()=>{l(""),c(""),f(!0);const A=new fi;try{await U9(La,A)}catch(N){_(N)}finally{f(!1)}},w=()=>{navigator.clipboard.writeText(u),alert("Domnio copiado!")};return y?p.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden border border-slate-700 animate-scale-in flex flex-col md:flex-row",children:[p.jsxs("div",{className:"bg-indigo-600 p-8 text-white md:w-1/3 flex flex-col items-center justify-center text-center",children:[p.jsx(NB,{className:"w-16 h-16 mb-4 opacity-80"}),p.jsx("h2",{className:"text-xl font-bold",children:"Configurao Necessria"}),p.jsx("p",{className:"text-indigo-100 text-sm mt-2",children:"Para usar o modo online, voc precisa conectar seu Firebase."})]}),p.jsxs("div",{className:"p-8 md:w-2/3",children:[p.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-4",children:"Siga estes passos:"}),p.jsxs("div",{className:"space-y-4 text-sm text-slate-600 dark:text-slate-300",children:[p.jsxs("div",{className:"flex gap-3",children:[p.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-2 rounded h-fit font-bold",children:"1"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:"Crie o Banco de Dados"}),p.jsxs("p",{children:["No Console do Firebase, v em ",p.jsx("strong",{children:"Firestore Database"}),', clique em "Criar banco de dados", escolha a regio (nam5) e clique em "Iniciar no modo de produo".']})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-2 rounded h-fit font-bold",children:"2"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:"Ative o Login"}),p.jsxs("p",{children:["V em ",p.jsx("strong",{children:"Authentication"}),' > Sign-in method e ative "E-mail/senha".']})]})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-2 rounded h-fit font-bold",children:"3"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:"Copie as Chaves"}),p.jsxs("p",{children:['V nas Configuraes do Projeto (), role at "Seus aplicativos" e copie o objeto ',p.jsx("code",{children:"firebaseConfig"}),"."]})]})]}),p.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-3 rounded-lg text-xs",children:[p.jsxs("p",{className:"font-bold text-amber-700 dark:text-amber-400 flex items-center gap-1",children:[p.jsx(Ja,{className:"w-3 h-3"})," Ao Necessria no Cdigo"]}),p.jsxs("p",{className:"mt-1",children:["Abra o arquivo ",p.jsx("code",{children:"services/firebase.ts"})," e substitua ",p.jsx("code",{children:'"SUA_API_KEY_AQUI"'})," pelos dados reais que voc copiou."]})]})]}),p.jsxs("button",{onClick:t,className:"w-full mt-6 py-3 bg-slate-200 hover:bg-slate-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-xl font-bold transition-colors flex items-center justify-center gap-2",children:[p.jsx(t1,{className:"w-4 h-4"}),"Pular e Usar Modo Offline (Convidado)"]})]})]})}):p.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden border border-slate-200 dark:border-slate-700 animate-scale-in",children:[p.jsxs("div",{className:"bg-slate-900 p-8 text-center relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500"}),p.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[p.jsx("div",{className:"bg-indigo-600 p-3 rounded-2xl shadow-lg shadow-indigo-500/30 mb-4",children:p.jsx(jw,{className:"w-8 h-8 text-white"})}),p.jsx("h1",{className:"text-2xl font-bold text-white tracking-tight",children:"NEXO"}),p.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Seu Hub Financeiro Inteligente"})]}),p.jsx("div",{className:"absolute -top-10 -left-10 w-32 h-32 bg-indigo-600/20 rounded-full blur-3xl"}),p.jsx("div",{className:"absolute -bottom-10 -right-10 w-32 h-32 bg-purple-600/20 rounded-full blur-3xl"})]}),p.jsxs("div",{className:"p-8",children:[p.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-6 text-center",children:e?"Criar Nova Conta":"Acesse sua Conta"}),a&&p.jsxs("div",{className:"mb-6 p-3 bg-rose-50 dark:bg-rose-900/20 border border-rose-200 dark:border-rose-800 rounded-lg flex flex-col items-start gap-2 text-sm text-rose-600 dark:text-rose-300 animate-fade-in",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Cg,{className:"w-5 h-5 flex-shrink-0"}),p.jsx("span",{className:"font-bold",children:a})]}),u&&p.jsxs("div",{className:"mt-2 w-full",children:[p.jsx("p",{className:"text-xs mb-1 text-slate-600 dark:text-slate-400",children:"Para corrigir, adicione este domnio no Firebase Console:"}),p.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-slate-900 border border-rose-200 dark:border-rose-800 rounded p-2 mb-2",children:[p.jsx("code",{className:"text-xs flex-1 truncate select-all",children:u}),p.jsx("button",{onClick:w,className:"text-rose-500 hover:text-rose-700",children:p.jsx(NM,{className:"w-4 h-4"})})]}),p.jsx("button",{onClick:t,className:"w-full py-2 bg-slate-200 hover:bg-slate-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded text-xs font-bold transition-colors",children:"Ignorar e Entrar como Convidado"})]})]}),p.jsxs("form",{onSubmit:b,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"E-mail"}),p.jsx("input",{type:"email",required:!0,value:r,onChange:A=>i(A.target.value),className:"w-full p-3 rounded-xl border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 transition-all",placeholder:"seu@email.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Senha"}),p.jsx("input",{type:"password",required:!0,minLength:6,value:o,onChange:A=>s(A.target.value),className:"w-full p-3 rounded-xl border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 transition-all",placeholder:""})]}),p.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-lg shadow-indigo-500/20 transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:d?p.jsx(od,{className:"w-5 h-5 animate-spin"}):e?p.jsxs(p.Fragment,{children:[p.jsx(LB,{className:"w-5 h-5"})," Criar Conta"]}):p.jsxs(p.Fragment,{children:[p.jsx(yB,{className:"w-5 h-5"})," Entrar"]})})]}),p.jsxs("div",{className:"relative my-6",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-700"})}),p.jsx("div",{className:"relative flex justify-center text-sm",children:p.jsx("span",{className:"px-2 bg-white dark:bg-slate-800 text-slate-500",children:"Ou"})})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("button",{type:"button",onClick:T,disabled:d,className:"w-full py-3 bg-white dark:bg-slate-700 text-slate-700 dark:text-white border border-slate-200 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-600 rounded-xl font-medium transition-all flex items-center justify-center gap-2",children:[p.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[p.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",color:"#4285F4"}),p.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",color:"#34A853"}),p.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",color:"#FBBC05"}),p.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",color:"#EA4335"})]}),"Entrar com Google"]}),p.jsxs("button",{type:"button",onClick:t,className:"w-full py-3 bg-slate-100 dark:bg-slate-700/50 text-slate-600 dark:text-slate-300 border border-transparent hover:bg-slate-200 dark:hover:bg-slate-600 rounded-xl font-medium transition-all flex items-center justify-center gap-2",children:[p.jsx(t1,{className:"w-5 h-5"}),"Entrar como Convidado (Offline)"]})]}),p.jsx("div",{className:"mt-8 text-center",children:p.jsx("button",{onClick:()=>n(!e),className:"text-indigo-600 dark:text-indigo-400 font-bold hover:underline text-sm",children:e?"J tem uma conta? Entre aqui":"No tem conta? Cadastre-se"})})]})]})})};function W$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=W$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function we(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=W$(t))&&(r&&(r+=" "),r+=e);return r}var pZ=Array.isArray,$n=pZ,mZ=typeof Xf=="object"&&Xf&&Xf.Object===Object&&Xf,K$=mZ,gZ=K$,yZ=typeof self=="object"&&self&&self.Object===Object&&self,vZ=gZ||yZ||Function("return this")(),ni=vZ,xZ=ni,_Z=xZ.Symbol,Sf=_Z,oP=Sf,Y$=Object.prototype,bZ=Y$.hasOwnProperty,wZ=Y$.toString,Zu=oP?oP.toStringTag:void 0;function EZ(t){var e=bZ.call(t,Zu),n=t[Zu];try{t[Zu]=void 0;var r=!0}catch{}var i=wZ.call(t);return r&&(e?t[Zu]=n:delete t[Zu]),i}var TZ=EZ,SZ=Object.prototype,AZ=SZ.toString;function IZ(t){return AZ.call(t)}var CZ=IZ,sP=Sf,PZ=TZ,kZ=CZ,NZ="[object Null]",RZ="[object Undefined]",aP=sP?sP.toStringTag:void 0;function OZ(t){return t==null?t===void 0?RZ:NZ:aP&&aP in Object(t)?PZ(t):kZ(t)}var qi=OZ;function MZ(t){return t!=null&&typeof t=="object"}var Hi=MZ,DZ=qi,LZ=Hi,$Z="[object Symbol]";function jZ(t){return typeof t=="symbol"||LZ(t)&&DZ(t)==$Z}var du=jZ,VZ=$n,FZ=du,UZ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,BZ=/^\w*$/;function GZ(t,e){if(VZ(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||FZ(t)?!0:BZ.test(t)||!UZ.test(t)||e!=null&&t in Object(e)}var BE=GZ;function qZ(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Wo=qZ;const fu=ze(Wo);var HZ=qi,zZ=Wo,WZ="[object AsyncFunction]",KZ="[object Function]",YZ="[object GeneratorFunction]",JZ="[object Proxy]";function XZ(t){if(!zZ(t))return!1;var e=HZ(t);return e==KZ||e==YZ||e==WZ||e==JZ}var GE=XZ;const ge=ze(GE);var QZ=ni,ZZ=QZ["__core-js_shared__"],eee=ZZ,Xv=eee,lP=function(){var t=/[^.]+$/.exec(Xv&&Xv.keys&&Xv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function tee(t){return!!lP&&lP in t}var nee=tee,ree=Function.prototype,iee=ree.toString;function oee(t){if(t!=null){try{return iee.call(t)}catch{}try{return t+""}catch{}}return""}var J$=oee,see=GE,aee=nee,lee=Wo,uee=J$,cee=/[\\^$.*+?()[\]{}|]/g,dee=/^\[object .+?Constructor\]$/,fee=Function.prototype,hee=Object.prototype,pee=fee.toString,mee=hee.hasOwnProperty,gee=RegExp("^"+pee.call(mee).replace(cee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yee(t){if(!lee(t)||aee(t))return!1;var e=see(t)?gee:dee;return e.test(uee(t))}var vee=yee;function xee(t,e){return t==null?void 0:t[e]}var _ee=xee,bee=vee,wee=_ee;function Eee(t,e){var n=wee(t,e);return bee(n)?n:void 0}var ra=Eee,Tee=ra,See=Tee(Object,"create"),oy=See,uP=oy;function Aee(){this.__data__=uP?uP(null):{},this.size=0}var Iee=Aee;function Cee(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Pee=Cee,kee=oy,Nee="__lodash_hash_undefined__",Ree=Object.prototype,Oee=Ree.hasOwnProperty;function Mee(t){var e=this.__data__;if(kee){var n=e[t];return n===Nee?void 0:n}return Oee.call(e,t)?e[t]:void 0}var Dee=Mee,Lee=oy,$ee=Object.prototype,jee=$ee.hasOwnProperty;function Vee(t){var e=this.__data__;return Lee?e[t]!==void 0:jee.call(e,t)}var Fee=Vee,Uee=oy,Bee="__lodash_hash_undefined__";function Gee(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Uee&&e===void 0?Bee:e,this}var qee=Gee,Hee=Iee,zee=Pee,Wee=Dee,Kee=Fee,Yee=qee;function hu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}hu.prototype.clear=Hee;hu.prototype.delete=zee;hu.prototype.get=Wee;hu.prototype.has=Kee;hu.prototype.set=Yee;var Jee=hu;function Xee(){this.__data__=[],this.size=0}var Qee=Xee;function Zee(t,e){return t===e||t!==t&&e!==e}var qE=Zee,ete=qE;function tte(t,e){for(var n=t.length;n--;)if(ete(t[n][0],e))return n;return-1}var sy=tte,nte=sy,rte=Array.prototype,ite=rte.splice;function ote(t){var e=this.__data__,n=nte(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():ite.call(e,n,1),--this.size,!0}var ste=ote,ate=sy;function lte(t){var e=this.__data__,n=ate(e,t);return n<0?void 0:e[n][1]}var ute=lte,cte=sy;function dte(t){return cte(this.__data__,t)>-1}var fte=dte,hte=sy;function pte(t,e){var n=this.__data__,r=hte(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var mte=pte,gte=Qee,yte=ste,vte=ute,xte=fte,_te=mte;function pu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}pu.prototype.clear=gte;pu.prototype.delete=yte;pu.prototype.get=vte;pu.prototype.has=xte;pu.prototype.set=_te;var ay=pu,bte=ra,wte=ni,Ete=bte(wte,"Map"),HE=Ete,cP=Jee,Tte=ay,Ste=HE;function Ate(){this.size=0,this.__data__={hash:new cP,map:new(Ste||Tte),string:new cP}}var Ite=Ate;function Cte(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Pte=Cte,kte=Pte;function Nte(t,e){var n=t.__data__;return kte(e)?n[typeof e=="string"?"string":"hash"]:n.map}var ly=Nte,Rte=ly;function Ote(t){var e=Rte(this,t).delete(t);return this.size-=e?1:0,e}var Mte=Ote,Dte=ly;function Lte(t){return Dte(this,t).get(t)}var $te=Lte,jte=ly;function Vte(t){return jte(this,t).has(t)}var Fte=Vte,Ute=ly;function Bte(t,e){var n=Ute(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Gte=Bte,qte=Ite,Hte=Mte,zte=$te,Wte=Fte,Kte=Gte;function mu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}mu.prototype.clear=qte;mu.prototype.delete=Hte;mu.prototype.get=zte;mu.prototype.has=Wte;mu.prototype.set=Kte;var zE=mu,X$=zE,Yte="Expected a function";function WE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Yte);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(WE.Cache||X$),n}WE.Cache=X$;var Q$=WE;const Jte=ze(Q$);var Xte=Q$,Qte=500;function Zte(t){var e=Xte(t,function(r){return n.size===Qte&&n.clear(),r}),n=e.cache;return e}var ene=Zte,tne=ene,nne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rne=/\\(\\)?/g,ine=tne(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(nne,function(n,r,i,o){e.push(i?o.replace(rne,"$1"):r||n)}),e}),one=ine;function sne(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var KE=sne,dP=Sf,ane=KE,lne=$n,une=du,fP=dP?dP.prototype:void 0,hP=fP?fP.toString:void 0;function Z$(t){if(typeof t=="string")return t;if(lne(t))return ane(t,Z$)+"";if(une(t))return hP?hP.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var cne=Z$,dne=cne;function fne(t){return t==null?"":dne(t)}var ej=fne,hne=$n,pne=BE,mne=one,gne=ej;function yne(t,e){return hne(t)?t:pne(t,e)?[t]:mne(gne(t))}var tj=yne,vne=du;function xne(t){if(typeof t=="string"||vne(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var uy=xne,_ne=tj,bne=uy;function wne(t,e){e=_ne(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[bne(e[n++])];return n&&n==r?t:void 0}var YE=wne,Ene=YE;function Tne(t,e,n){var r=t==null?void 0:Ene(t,e);return r===void 0?n:r}var nj=Tne;const Wn=ze(nj);function Sne(t){return t==null}var Ane=Sne;const be=ze(Ane);var Ine=qi,Cne=$n,Pne=Hi,kne="[object String]";function Nne(t){return typeof t=="string"||!Cne(t)&&Pne(t)&&Ine(t)==kne}var Rne=Nne;const qs=ze(Rne);var rj={exports:{}},Ye={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE=Symbol.for("react.element"),XE=Symbol.for("react.portal"),cy=Symbol.for("react.fragment"),dy=Symbol.for("react.strict_mode"),fy=Symbol.for("react.profiler"),hy=Symbol.for("react.provider"),py=Symbol.for("react.context"),One=Symbol.for("react.server_context"),my=Symbol.for("react.forward_ref"),gy=Symbol.for("react.suspense"),yy=Symbol.for("react.suspense_list"),vy=Symbol.for("react.memo"),xy=Symbol.for("react.lazy"),Mne=Symbol.for("react.offscreen"),ij;ij=Symbol.for("react.module.reference");function mr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case JE:switch(t=t.type,t){case cy:case fy:case dy:case gy:case yy:return t;default:switch(t=t&&t.$$typeof,t){case One:case py:case my:case xy:case vy:case hy:return t;default:return e}}case XE:return e}}}Ye.ContextConsumer=py;Ye.ContextProvider=hy;Ye.Element=JE;Ye.ForwardRef=my;Ye.Fragment=cy;Ye.Lazy=xy;Ye.Memo=vy;Ye.Portal=XE;Ye.Profiler=fy;Ye.StrictMode=dy;Ye.Suspense=gy;Ye.SuspenseList=yy;Ye.isAsyncMode=function(){return!1};Ye.isConcurrentMode=function(){return!1};Ye.isContextConsumer=function(t){return mr(t)===py};Ye.isContextProvider=function(t){return mr(t)===hy};Ye.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===JE};Ye.isForwardRef=function(t){return mr(t)===my};Ye.isFragment=function(t){return mr(t)===cy};Ye.isLazy=function(t){return mr(t)===xy};Ye.isMemo=function(t){return mr(t)===vy};Ye.isPortal=function(t){return mr(t)===XE};Ye.isProfiler=function(t){return mr(t)===fy};Ye.isStrictMode=function(t){return mr(t)===dy};Ye.isSuspense=function(t){return mr(t)===gy};Ye.isSuspenseList=function(t){return mr(t)===yy};Ye.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===cy||t===fy||t===dy||t===gy||t===yy||t===Mne||typeof t=="object"&&t!==null&&(t.$$typeof===xy||t.$$typeof===vy||t.$$typeof===hy||t.$$typeof===py||t.$$typeof===my||t.$$typeof===ij||t.getModuleId!==void 0)};Ye.typeOf=mr;rj.exports=Ye;var Dne=rj.exports,Lne=qi,$ne=Hi,jne="[object Number]";function Vne(t){return typeof t=="number"||$ne(t)&&Lne(t)==jne}var oj=Vne;const Fne=ze(oj);var Une=oj;function Bne(t){return Une(t)&&t!=+t}var Gne=Bne;const gu=ze(Gne);var bn=function(e){return e===0?0:e>0?1:-1},xs=function(e){return qs(e)&&e.indexOf("%")===e.length-1},te=function(e){return Fne(e)&&!gu(e)},qne=function(e){return be(e)},Mt=function(e){return te(e)||qs(e)},Hne=0,ia=function(e){var n=++Hne;return"".concat(e||"").concat(n)},wn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!te(e)&&!qs(e))return r;var o;if(xs(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return gu(o)&&(o=r),i&&o>n&&(o=n),o},co=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},zne=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},pt=function(e,n){return te(e)&&te(n)?function(r){return e+r*(n-e)}:function(){return n}};function sm(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Wn(r,e))===n})}var Wne=function(e,n){return te(e)&&te(n)?e-n:qs(e)&&qs(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function rl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function d_(t){"@babel/helpers - typeof";return d_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d_(t)}var Kne=["viewBox","children"],Yne=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],pP=["points","pathLength"],Qv={svg:Kne,polygon:pP,polyline:pP},QE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],am=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(V.isValidElement(e)&&(r=e.props),!fu(r))return null;var i={};return Object.keys(r).forEach(function(o){QE.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},Jne=function(e,n,r){return function(i){return e(n,r,i),null}},Hs=function(e,n,r){if(!fu(e)||d_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];QE.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=Jne(s,n,r))}),i},Xne=["children"],Qne=["children"];function mP(t,e){if(t==null)return{};var n=Zne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function f_(t){"@babel/helpers - typeof";return f_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f_(t)}var gP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ti=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},yP=null,Zv=null,ZE=function t(e){if(e===yP&&Array.isArray(Zv))return Zv;var n=[];return V.Children.forEach(e,function(r){be(r)||(Dne.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Zv=n,yP=e,n};function Kn(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ti(i)}):r=[Ti(e)],ZE(t).forEach(function(i){var o=Wn(i,"type.displayName")||Wn(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Bn(t,e){var n=Kn(t,e);return n&&n[0]}var vP=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!te(r)||r<=0||!te(i)||i<=0)},ere=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],tre=function(e){return e&&e.type&&qs(e.type)&&ere.indexOf(e.type)>=0},sj=function(e){return e&&f_(e)==="object"&&"clipDot"in e},nre=function(e,n,r,i){var o,s=(o=Qv==null?void 0:Qv[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!ge(e)&&(i&&s.includes(n)||Yne.includes(n))||r&&QE.includes(n)},fe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(V.isValidElement(e)&&(i=e.props),!fu(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;nre((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},h_=function t(e,n){if(e===n)return!0;var r=V.Children.count(e);if(r!==V.Children.count(n))return!1;if(r===0)return!0;if(r===1)return xP(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!xP(o,s))return!1}return!0},xP=function(e,n){if(be(e)&&be(n))return!0;if(!be(e)&&!be(n)){var r=e.props||{},i=r.children,o=mP(r,Xne),s=n.props||{},a=s.children,l=mP(s,Qne);return i&&a?rl(o,l)&&h_(i,a):!i&&!a?rl(o,l):!1}return!1},_P=function(e,n){var r=[],i={};return ZE(e).forEach(function(o,s){if(tre(o))r.push(o);else if(o){var a=Ti(o.type),l=n[a]||{},u=l.handler,c=l.once;if(u&&(!c||!i[a])){var d=u(o,a,s);r.push(d),i[a]=!0}}}),r},rre=function(e){var n=e&&e.type;return n&&gP[n]?gP[n]:null},ire=function(e,n){return ZE(n).indexOf(e)},ore=["children","width","height","viewBox","className","style","title","desc"];function p_(){return p_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p_.apply(this,arguments)}function sre(t,e){if(t==null)return{};var n=are(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function are(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function m_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=sre(t,ore),c=i||{width:n,height:r,x:0,y:0},d=we("recharts-surface",o);return $.createElement("svg",p_({},fe(u,!0,"svg"),{className:d,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),$.createElement("title",null,a),$.createElement("desc",null,l),e)}var lre=["children","className"];function g_(){return g_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g_.apply(this,arguments)}function ure(t,e){if(t==null)return{};var n=cre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ce=$.forwardRef(function(t,e){var n=t.children,r=t.className,i=ure(t,lre),o=we("recharts-layer",r);return $.createElement("g",g_({className:o},fe(i,!0),{ref:e}),n)}),Rr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function dre(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var fre=dre,hre=fre;function pre(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:hre(t,e,n)}var mre=pre,gre="\\ud800-\\udfff",yre="\\u0300-\\u036f",vre="\\ufe20-\\ufe2f",xre="\\u20d0-\\u20ff",_re=yre+vre+xre,bre="\\ufe0e\\ufe0f",wre="\\u200d",Ere=RegExp("["+wre+gre+_re+bre+"]");function Tre(t){return Ere.test(t)}var aj=Tre;function Sre(t){return t.split("")}var Are=Sre,lj="\\ud800-\\udfff",Ire="\\u0300-\\u036f",Cre="\\ufe20-\\ufe2f",Pre="\\u20d0-\\u20ff",kre=Ire+Cre+Pre,Nre="\\ufe0e\\ufe0f",Rre="["+lj+"]",y_="["+kre+"]",v_="\\ud83c[\\udffb-\\udfff]",Ore="(?:"+y_+"|"+v_+")",uj="[^"+lj+"]",cj="(?:\\ud83c[\\udde6-\\uddff]){2}",dj="[\\ud800-\\udbff][\\udc00-\\udfff]",Mre="\\u200d",fj=Ore+"?",hj="["+Nre+"]?",Dre="(?:"+Mre+"(?:"+[uj,cj,dj].join("|")+")"+hj+fj+")*",Lre=hj+fj+Dre,$re="(?:"+[uj+y_+"?",y_,cj,dj,Rre].join("|")+")",jre=RegExp(v_+"(?="+v_+")|"+$re+Lre,"g");function Vre(t){return t.match(jre)||[]}var Fre=Vre,Ure=Are,Bre=aj,Gre=Fre;function qre(t){return Bre(t)?Gre(t):Ure(t)}var Hre=qre,zre=mre,Wre=aj,Kre=Hre,Yre=ej;function Jre(t){return function(e){e=Yre(e);var n=Wre(e)?Kre(e):void 0,r=n?n[0]:e.charAt(0),i=n?zre(n,1).join(""):e.slice(1);return r[t]()+i}}var Xre=Jre,Qre=Xre,Zre=Qre("toUpperCase"),eie=Zre;const _y=ze(eie);function nt(t){return function(){return t}}const pj=Math.cos,lm=Math.sin,$r=Math.sqrt,um=Math.PI,by=2*um,x_=Math.PI,__=2*x_,cs=1e-6,tie=__-cs;function mj(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function nie(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return mj;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class rie{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?mj:nie(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,d=a-n,f=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>cs)if(!(Math.abs(d*l-u*c)>cs)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-s,x=i-a,_=l*l+u*u,b=y*y+x*x,T=Math.sqrt(_),w=Math.sqrt(f),A=o*Math.tan((x_-Math.acos((_+f-b)/(2*T*w)))/2),N=A/w,E=A/T;Math.abs(N-1)>cs&&this._append`L${e+N*c},${n+N*d}`,this._append`A${o},${o},0,0,${+(d*y>c*x)},${this._x1=e+E*l},${this._y1=n+E*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,d=1^s,f=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>cs||Math.abs(this._y1-c)>cs)&&this._append`L${u},${c}`,r&&(f<0&&(f=f%__+__),f>tie?this._append`A${r},${r},0,1,${d},${e-a},${n-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:f>cs&&this._append`A${r},${r},0,${+(f>=x_)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function eT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new rie(e)}function tT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function gj(t){this._context=t}gj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function wy(t){return new gj(t)}function yj(t){return t[0]}function vj(t){return t[1]}function xj(t,e){var n=nt(!0),r=null,i=wy,o=null,s=eT(a);t=typeof t=="function"?t:t===void 0?yj:nt(t),e=typeof e=="function"?e:e===void 0?vj:nt(e);function a(l){var u,c=(l=tT(l)).length,d,f=!1,y;for(r==null&&(o=i(y=s())),u=0;u<=c;++u)!(u<c&&n(d=l[u],u,l))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(d,u,l),+e(d,u,l));if(y)return o=null,y+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:nt(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:nt(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:nt(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Ih(t,e,n){var r=null,i=nt(!0),o=null,s=wy,a=null,l=eT(u);t=typeof t=="function"?t:t===void 0?yj:nt(+t),e=typeof e=="function"?e:nt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?vj:nt(+n);function u(d){var f,y,x,_=(d=tT(d)).length,b,T=!1,w,A=new Array(_),N=new Array(_);for(o==null&&(a=s(w=l())),f=0;f<=_;++f){if(!(f<_&&i(b=d[f],f,d))===T)if(T=!T)y=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),x=f-1;x>=y;--x)a.point(A[x],N[x]);a.lineEnd(),a.areaEnd()}T&&(A[f]=+t(b,f,d),N[f]=+e(b,f,d),a.point(r?+r(b,f,d):A[f],n?+n(b,f,d):N[f]))}if(w)return a=null,w+""||null}function c(){return xj().defined(i).curve(s).context(o)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:nt(+d),r=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:nt(+d),u):t},u.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:nt(+d),u):r},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:nt(+d),n=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:nt(+d),u):e},u.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:nt(+d),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:nt(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,o!=null&&(a=s(o)),u):s},u.context=function(d){return arguments.length?(d==null?o=a=null:a=s(o=d),u):o},u}class _j{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function iie(t){return new _j(t,!0)}function oie(t){return new _j(t,!1)}const nT={draw(t,e){const n=$r(e/um);t.moveTo(n,0),t.arc(0,0,n,0,by)}},sie={draw(t,e){const n=$r(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},bj=$r(1/3),aie=bj*2,lie={draw(t,e){const n=$r(e/aie),r=n*bj;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},uie={draw(t,e){const n=$r(e),r=-n/2;t.rect(r,r,n,n)}},cie=.8908130915292852,wj=lm(um/10)/lm(7*um/10),die=lm(by/10)*wj,fie=-pj(by/10)*wj,hie={draw(t,e){const n=$r(e*cie),r=die*n,i=fie*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=by*o/5,a=pj(s),l=lm(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},e0=$r(3),pie={draw(t,e){const n=-$r(e/(e0*3));t.moveTo(0,n*2),t.lineTo(-e0*n,-n),t.lineTo(e0*n,-n),t.closePath()}},Qn=-.5,Zn=$r(3)/2,b_=1/$r(12),mie=(b_/2+1)*3,gie={draw(t,e){const n=$r(e/mie),r=n/2,i=n*b_,o=r,s=n*b_+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(Qn*r-Zn*i,Zn*r+Qn*i),t.lineTo(Qn*o-Zn*s,Zn*o+Qn*s),t.lineTo(Qn*a-Zn*l,Zn*a+Qn*l),t.lineTo(Qn*r+Zn*i,Qn*i-Zn*r),t.lineTo(Qn*o+Zn*s,Qn*s-Zn*o),t.lineTo(Qn*a+Zn*l,Qn*l-Zn*a),t.closePath()}};function yie(t,e){let n=null,r=eT(i);t=typeof t=="function"?t:nt(t||nT),e=typeof e=="function"?e:nt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:nt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:nt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function cm(){}function dm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Ej(t){this._context=t}Ej.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:dm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:dm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vie(t){return new Ej(t)}function Tj(t){this._context=t}Tj.prototype={areaStart:cm,areaEnd:cm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:dm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xie(t){return new Tj(t)}function Sj(t){this._context=t}Sj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:dm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _ie(t){return new Sj(t)}function Aj(t){this._context=t}Aj.prototype={areaStart:cm,areaEnd:cm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function bie(t){return new Aj(t)}function bP(t){return t<0?-1:1}function wP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(bP(o)+bP(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function EP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function t0(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function fm(t){this._context=t}fm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:t0(this,this._t0,EP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,t0(this,EP(this,n=wP(this,t,e)),n);break;default:t0(this,this._t0,n=wP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Ij(t){this._context=new Cj(t)}(Ij.prototype=Object.create(fm.prototype)).point=function(t,e){fm.prototype.point.call(this,e,t)};function Cj(t){this._context=t}Cj.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function wie(t){return new fm(t)}function Eie(t){return new Ij(t)}function Pj(t){this._context=t}Pj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=TP(t),i=TP(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function TP(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Tie(t){return new Pj(t)}function Ey(t,e){this._context=t,this._t=e}Ey.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Sie(t){return new Ey(t,.5)}function Aie(t){return new Ey(t,0)}function Iie(t){return new Ey(t,1)}function wl(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function w_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Cie(t,e){return t[e]}function Pie(t){const e=[];return e.key=t,e}function kie(){var t=nt([]),e=w_,n=wl,r=Cie;function i(o){var s=Array.from(t.apply(this,arguments),Pie),a,l=s.length,u=-1,c;for(const d of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(d,s[a].key,u,o)]).data=d;for(a=0,c=tT(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:nt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:nt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?w_:typeof o=="function"?o:nt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??wl,i):n},i}function Nie(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}wl(t,e)}}function Rie(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}wl(t,e)}}function Oie(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],d=c[r][1]||0,f=c[r-1][1]||0,y=(d-f)/2,x=0;x<a;++x){var _=t[e[x]],b=_[r][1]||0,T=_[r-1][1]||0;y+=b-T}l+=d,u+=y*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,wl(t,e)}}function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}var Mie=["type","size","sizeType"];function E_(){return E_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E_.apply(this,arguments)}function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){Die(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Die(t,e,n){return e=Lie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lie(t){var e=$ie(t,"string");return yd(e)=="symbol"?e:e+""}function $ie(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jie(t,e){if(t==null)return{};var n=Vie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var kj={symbolCircle:nT,symbolCross:sie,symbolDiamond:lie,symbolSquare:uie,symbolStar:hie,symbolTriangle:pie,symbolWye:gie},Fie=Math.PI/180,Uie=function(e){var n="symbol".concat(_y(e));return kj[n]||nT},Bie=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Fie;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Gie=function(e,n){kj["symbol".concat(_y(e))]=n},rT=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=jie(e,Mie),u=AP(AP({},l),{},{type:r,size:o,sizeType:a}),c=function(){var b=Uie(r),T=yie().type(b).size(Bie(o,a,r));return T()},d=u.className,f=u.cx,y=u.cy,x=fe(u,!0);return f===+f&&y===+y&&o===+o?$.createElement("path",E_({},x,{className:we("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(y,")"),d:c()})):null};rT.registerSymbol=Gie;function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function T_(){return T_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T_.apply(this,arguments)}function IP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(n),!0).forEach(function(r){vd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rj(r.key),r)}}function Wie(t,e,n){return e&&zie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kie(t,e,n){return e=hm(e),Yie(t,Nj()?Reflect.construct(e,n||[],hm(t).constructor):e.apply(t,n))}function Yie(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jie(t)}function Jie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nj=function(){return!!t})()}function hm(t){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hm(t)}function Xie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S_(t,e)}function S_(t,e){return S_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},S_(t,e)}function vd(t,e,n){return e=Rj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rj(t){var e=Qie(t,"string");return El(e)=="symbol"?e:e+""}function Qie(t,e){if(El(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var er=32,iT=function(t){function e(){return Hie(this,e),Kie(this,e,arguments)}return Xie(e,t),Wie(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=er/2,s=er/6,a=er/3,l=r.inactive?i:r.color;if(r.type==="plainline")return $.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:er,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return $.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(er,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return $.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(er/8,"h").concat(er,"v").concat(er*3/4,"h").concat(-er,"z"),className:"recharts-legend-icon"});if($.isValidElement(r.legendIcon)){var u=qie({},r);return delete u.legendIcon,$.cloneElement(r.legendIcon,u)}return $.createElement(rT,{fill:l,cx:o,cy:o,size:er,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:er,height:er},d={display:a==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(y,x){var _=y.formatter||l,b=we(vd(vd({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",y.inactive));if(y.type==="none")return null;var T=ge(y.value)?null:y.value;Rr(!ge(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=y.inactive?u:y.color;return $.createElement("li",T_({className:b,style:d,key:"legend-item-".concat(x)},Hs(r.props,y,x)),$.createElement(m_,{width:s,height:s,viewBox:c,style:f},r.renderIcon(y)),$.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},_?_(T,y,x):T))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return $.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(V.PureComponent);vd(iT,"displayName","Legend");vd(iT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Zie=ay;function eoe(){this.__data__=new Zie,this.size=0}var toe=eoe;function noe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var roe=noe;function ioe(t){return this.__data__.get(t)}var ooe=ioe;function soe(t){return this.__data__.has(t)}var aoe=soe,loe=ay,uoe=HE,coe=zE,doe=200;function foe(t,e){var n=this.__data__;if(n instanceof loe){var r=n.__data__;if(!uoe||r.length<doe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new coe(r)}return n.set(t,e),this.size=n.size,this}var hoe=foe,poe=ay,moe=toe,goe=roe,yoe=ooe,voe=aoe,xoe=hoe;function yu(t){var e=this.__data__=new poe(t);this.size=e.size}yu.prototype.clear=moe;yu.prototype.delete=goe;yu.prototype.get=yoe;yu.prototype.has=voe;yu.prototype.set=xoe;var Oj=yu,_oe="__lodash_hash_undefined__";function boe(t){return this.__data__.set(t,_oe),this}var woe=boe;function Eoe(t){return this.__data__.has(t)}var Toe=Eoe,Soe=zE,Aoe=woe,Ioe=Toe;function pm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Soe;++e<n;)this.add(t[e])}pm.prototype.add=pm.prototype.push=Aoe;pm.prototype.has=Ioe;var Mj=pm;function Coe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var Dj=Coe;function Poe(t,e){return t.has(e)}var Lj=Poe,koe=Mj,Noe=Dj,Roe=Lj,Ooe=1,Moe=2;function Doe(t,e,n,r,i,o){var s=n&Ooe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var d=-1,f=!0,y=n&Moe?new koe:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var x=t[d],_=e[d];if(r)var b=s?r(_,x,d,e,t,o):r(x,_,d,t,e,o);if(b!==void 0){if(b)continue;f=!1;break}if(y){if(!Noe(e,function(T,w){if(!Roe(y,w)&&(x===T||i(x,T,n,r,o)))return y.push(w)})){f=!1;break}}else if(!(x===_||i(x,_,n,r,o))){f=!1;break}}return o.delete(t),o.delete(e),f}var $j=Doe,Loe=ni,$oe=Loe.Uint8Array,joe=$oe;function Voe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Foe=Voe;function Uoe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var oT=Uoe,CP=Sf,PP=joe,Boe=qE,Goe=$j,qoe=Foe,Hoe=oT,zoe=1,Woe=2,Koe="[object Boolean]",Yoe="[object Date]",Joe="[object Error]",Xoe="[object Map]",Qoe="[object Number]",Zoe="[object RegExp]",ese="[object Set]",tse="[object String]",nse="[object Symbol]",rse="[object ArrayBuffer]",ise="[object DataView]",kP=CP?CP.prototype:void 0,n0=kP?kP.valueOf:void 0;function ose(t,e,n,r,i,o,s){switch(n){case ise:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case rse:return!(t.byteLength!=e.byteLength||!o(new PP(t),new PP(e)));case Koe:case Yoe:case Qoe:return Boe(+t,+e);case Joe:return t.name==e.name&&t.message==e.message;case Zoe:case tse:return t==e+"";case Xoe:var a=qoe;case ese:var l=r&zoe;if(a||(a=Hoe),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=Woe,s.set(t,e);var c=Goe(a(t),a(e),r,i,o,s);return s.delete(t),c;case nse:if(n0)return n0.call(t)==n0.call(e)}return!1}var sse=ose;function ase(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var jj=ase,lse=jj,use=$n;function cse(t,e,n){var r=e(t);return use(t)?r:lse(r,n(t))}var dse=cse;function fse(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var hse=fse;function pse(){return[]}var mse=pse,gse=hse,yse=mse,vse=Object.prototype,xse=vse.propertyIsEnumerable,NP=Object.getOwnPropertySymbols,_se=NP?function(t){return t==null?[]:(t=Object(t),gse(NP(t),function(e){return xse.call(t,e)}))}:yse,bse=_se;function wse(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Ese=wse,Tse=qi,Sse=Hi,Ase="[object Arguments]";function Ise(t){return Sse(t)&&Tse(t)==Ase}var Cse=Ise,RP=Cse,Pse=Hi,Vj=Object.prototype,kse=Vj.hasOwnProperty,Nse=Vj.propertyIsEnumerable,Rse=RP(function(){return arguments}())?RP:function(t){return Pse(t)&&kse.call(t,"callee")&&!Nse.call(t,"callee")},sT=Rse,mm={exports:{}};function Ose(){return!1}var Mse=Ose;mm.exports;(function(t,e){var n=ni,r=Mse,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(mm,mm.exports);var Fj=mm.exports,Dse=9007199254740991,Lse=/^(?:0|[1-9]\d*)$/;function $se(t,e){var n=typeof t;return e=e??Dse,!!e&&(n=="number"||n!="symbol"&&Lse.test(t))&&t>-1&&t%1==0&&t<e}var aT=$se,jse=9007199254740991;function Vse(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=jse}var lT=Vse,Fse=qi,Use=lT,Bse=Hi,Gse="[object Arguments]",qse="[object Array]",Hse="[object Boolean]",zse="[object Date]",Wse="[object Error]",Kse="[object Function]",Yse="[object Map]",Jse="[object Number]",Xse="[object Object]",Qse="[object RegExp]",Zse="[object Set]",eae="[object String]",tae="[object WeakMap]",nae="[object ArrayBuffer]",rae="[object DataView]",iae="[object Float32Array]",oae="[object Float64Array]",sae="[object Int8Array]",aae="[object Int16Array]",lae="[object Int32Array]",uae="[object Uint8Array]",cae="[object Uint8ClampedArray]",dae="[object Uint16Array]",fae="[object Uint32Array]",st={};st[iae]=st[oae]=st[sae]=st[aae]=st[lae]=st[uae]=st[cae]=st[dae]=st[fae]=!0;st[Gse]=st[qse]=st[nae]=st[Hse]=st[rae]=st[zse]=st[Wse]=st[Kse]=st[Yse]=st[Jse]=st[Xse]=st[Qse]=st[Zse]=st[eae]=st[tae]=!1;function hae(t){return Bse(t)&&Use(t.length)&&!!st[Fse(t)]}var pae=hae;function mae(t){return function(e){return t(e)}}var Uj=mae,gm={exports:{}};gm.exports;(function(t,e){var n=K$,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(gm,gm.exports);var gae=gm.exports,yae=pae,vae=Uj,OP=gae,MP=OP&&OP.isTypedArray,xae=MP?vae(MP):yae,Bj=xae,_ae=Ese,bae=sT,wae=$n,Eae=Fj,Tae=aT,Sae=Bj,Aae=Object.prototype,Iae=Aae.hasOwnProperty;function Cae(t,e){var n=wae(t),r=!n&&bae(t),i=!n&&!r&&Eae(t),o=!n&&!r&&!i&&Sae(t),s=n||r||i||o,a=s?_ae(t.length,String):[],l=a.length;for(var u in t)(e||Iae.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Tae(u,l)))&&a.push(u);return a}var Pae=Cae,kae=Object.prototype;function Nae(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||kae;return t===n}var Rae=Nae;function Oae(t,e){return function(n){return t(e(n))}}var Gj=Oae,Mae=Gj,Dae=Mae(Object.keys,Object),Lae=Dae,$ae=Rae,jae=Lae,Vae=Object.prototype,Fae=Vae.hasOwnProperty;function Uae(t){if(!$ae(t))return jae(t);var e=[];for(var n in Object(t))Fae.call(t,n)&&n!="constructor"&&e.push(n);return e}var Bae=Uae,Gae=GE,qae=lT;function Hae(t){return t!=null&&qae(t.length)&&!Gae(t)}var Af=Hae,zae=Pae,Wae=Bae,Kae=Af;function Yae(t){return Kae(t)?zae(t):Wae(t)}var Ty=Yae,Jae=dse,Xae=bse,Qae=Ty;function Zae(t){return Jae(t,Qae,Xae)}var ele=Zae,DP=ele,tle=1,nle=Object.prototype,rle=nle.hasOwnProperty;function ile(t,e,n,r,i,o){var s=n&tle,a=DP(t),l=a.length,u=DP(e),c=u.length;if(l!=c&&!s)return!1;for(var d=l;d--;){var f=a[d];if(!(s?f in e:rle.call(e,f)))return!1}var y=o.get(t),x=o.get(e);if(y&&x)return y==e&&x==t;var _=!0;o.set(t,e),o.set(e,t);for(var b=s;++d<l;){f=a[d];var T=t[f],w=e[f];if(r)var A=s?r(w,T,f,e,t,o):r(T,w,f,t,e,o);if(!(A===void 0?T===w||i(T,w,n,r,o):A)){_=!1;break}b||(b=f=="constructor")}if(_&&!b){var N=t.constructor,E=e.constructor;N!=E&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof E=="function"&&E instanceof E)&&(_=!1)}return o.delete(t),o.delete(e),_}var ole=ile,sle=ra,ale=ni,lle=sle(ale,"DataView"),ule=lle,cle=ra,dle=ni,fle=cle(dle,"Promise"),hle=fle,ple=ra,mle=ni,gle=ple(mle,"Set"),qj=gle,yle=ra,vle=ni,xle=yle(vle,"WeakMap"),_le=xle,A_=ule,I_=HE,C_=hle,P_=qj,k_=_le,Hj=qi,vu=J$,LP="[object Map]",ble="[object Object]",$P="[object Promise]",jP="[object Set]",VP="[object WeakMap]",FP="[object DataView]",wle=vu(A_),Ele=vu(I_),Tle=vu(C_),Sle=vu(P_),Ale=vu(k_),ds=Hj;(A_&&ds(new A_(new ArrayBuffer(1)))!=FP||I_&&ds(new I_)!=LP||C_&&ds(C_.resolve())!=$P||P_&&ds(new P_)!=jP||k_&&ds(new k_)!=VP)&&(ds=function(t){var e=Hj(t),n=e==ble?t.constructor:void 0,r=n?vu(n):"";if(r)switch(r){case wle:return FP;case Ele:return LP;case Tle:return $P;case Sle:return jP;case Ale:return VP}return e});var Ile=ds,r0=Oj,Cle=$j,Ple=sse,kle=ole,UP=Ile,BP=$n,GP=Fj,Nle=Bj,Rle=1,qP="[object Arguments]",HP="[object Array]",Ch="[object Object]",Ole=Object.prototype,zP=Ole.hasOwnProperty;function Mle(t,e,n,r,i,o){var s=BP(t),a=BP(e),l=s?HP:UP(t),u=a?HP:UP(e);l=l==qP?Ch:l,u=u==qP?Ch:u;var c=l==Ch,d=u==Ch,f=l==u;if(f&&GP(t)){if(!GP(e))return!1;s=!0,c=!1}if(f&&!c)return o||(o=new r0),s||Nle(t)?Cle(t,e,n,r,i,o):Ple(t,e,l,n,r,i,o);if(!(n&Rle)){var y=c&&zP.call(t,"__wrapped__"),x=d&&zP.call(e,"__wrapped__");if(y||x){var _=y?t.value():t,b=x?e.value():e;return o||(o=new r0),i(_,b,n,r,o)}}return f?(o||(o=new r0),kle(t,e,n,r,i,o)):!1}var Dle=Mle,Lle=Dle,WP=Hi;function zj(t,e,n,r,i){return t===e?!0:t==null||e==null||!WP(t)&&!WP(e)?t!==t&&e!==e:Lle(t,e,n,r,zj,i)}var uT=zj,$le=Oj,jle=uT,Vle=1,Fle=2;function Ule(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var d=new $le;if(r)var f=r(u,c,l,t,e,d);if(!(f===void 0?jle(c,u,Vle|Fle,r,d):f))return!1}}return!0}var Ble=Ule,Gle=Wo;function qle(t){return t===t&&!Gle(t)}var Wj=qle,Hle=Wj,zle=Ty;function Wle(t){for(var e=zle(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Hle(i)]}return e}var Kle=Wle;function Yle(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Kj=Yle,Jle=Ble,Xle=Kle,Qle=Kj;function Zle(t){var e=Xle(t);return e.length==1&&e[0][2]?Qle(e[0][0],e[0][1]):function(n){return n===t||Jle(n,t,e)}}var eue=Zle;function tue(t,e){return t!=null&&e in Object(t)}var nue=tue,rue=tj,iue=sT,oue=$n,sue=aT,aue=lT,lue=uy;function uue(t,e,n){e=rue(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=lue(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&aue(i)&&sue(s,i)&&(oue(t)||iue(t)))}var cue=uue,due=nue,fue=cue;function hue(t,e){return t!=null&&fue(t,e,due)}var pue=hue,mue=uT,gue=nj,yue=pue,vue=BE,xue=Wj,_ue=Kj,bue=uy,wue=1,Eue=2;function Tue(t,e){return vue(t)&&xue(e)?_ue(bue(t),e):function(n){var r=gue(n,t);return r===void 0&&r===e?yue(n,t):mue(e,r,wue|Eue)}}var Sue=Tue;function Aue(t){return t}var xu=Aue;function Iue(t){return function(e){return e==null?void 0:e[t]}}var Cue=Iue,Pue=YE;function kue(t){return function(e){return Pue(e,t)}}var Nue=kue,Rue=Cue,Oue=Nue,Mue=BE,Due=uy;function Lue(t){return Mue(t)?Rue(Due(t)):Oue(t)}var $ue=Lue,jue=eue,Vue=Sue,Fue=xu,Uue=$n,Bue=$ue;function Gue(t){return typeof t=="function"?t:t==null?Fue:typeof t=="object"?Uue(t)?Vue(t[0],t[1]):jue(t):Bue(t)}var ri=Gue;function que(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var Yj=que;function Hue(t){return t!==t}var zue=Hue;function Wue(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Kue=Wue,Yue=Yj,Jue=zue,Xue=Kue;function Que(t,e,n){return e===e?Xue(t,e,n):Yue(t,Jue,n)}var Zue=Que,ece=Zue;function tce(t,e){var n=t==null?0:t.length;return!!n&&ece(t,e,0)>-1}var nce=tce;function rce(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var ice=rce;function oce(){}var sce=oce,i0=qj,ace=sce,lce=oT,uce=1/0,cce=i0&&1/lce(new i0([,-0]))[1]==uce?function(t){return new i0(t)}:ace,dce=cce,fce=Mj,hce=nce,pce=ice,mce=Lj,gce=dce,yce=oT,vce=200;function xce(t,e,n){var r=-1,i=hce,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=pce;else if(o>=vce){var u=e?null:gce(t);if(u)return yce(u);s=!1,i=mce,l=new fce}else l=e?[]:a;e:for(;++r<o;){var c=t[r],d=e?e(c):c;if(c=n||c!==0?c:0,s&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),a.push(c)}else i(l,d,n)||(l!==a&&l.push(d),a.push(c))}return a}var _ce=xce,bce=ri,wce=_ce;function Ece(t,e){return t&&t.length?wce(t,bce(e)):[]}var Tce=Ece;const KP=ze(Tce);function Jj(t,e,n){return e===!0?KP(t,n):ge(e)?KP(t,e):t}function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}var Sce=["ref"];function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(n),!0).forEach(function(r){Sy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ace(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qj(r.key),r)}}function Ice(t,e,n){return e&&JP(t.prototype,e),n&&JP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cce(t,e,n){return e=ym(e),Pce(t,Xj()?Reflect.construct(e,n||[],ym(t).constructor):e.apply(t,n))}function Pce(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kce(t)}function kce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xj=function(){return!!t})()}function ym(t){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ym(t)}function Nce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N_(t,e)}function N_(t,e){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(t,e)}function Sy(t,e,n){return e=Qj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qj(t){var e=Rce(t,"string");return Tl(e)=="symbol"?e:e+""}function Rce(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Oce(t,e){if(t==null)return{};var n=Mce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dce(t){return t.value}function Lce(t,e){if($.isValidElement(t))return $.cloneElement(t,e);if(typeof t=="function")return $.createElement(t,e);e.ref;var n=Oce(e,Sce);return $.createElement(iT,n)}var XP=1,Si=function(t){function e(){var n;Ace(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Cce(this,e,[].concat(i)),Sy(n,"lastBoundingBox",{width:-1,height:-1}),n}return Nce(e,t),Ice(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>XP||Math.abs(i.height-this.lastBoundingBox.height)>XP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?li({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,d,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var y=this.getBBoxSnapshot();d={left:((u||0)-y.width)/2}}else d=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var x=this.getBBoxSnapshot();f={top:((c||0)-x.height)/2}}else f=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return li(li({},d),f)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,d=li(li({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return $.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(y){r.wrapperNode=y}},Lce(o,li(li({},this.props),{},{payload:Jj(c,u,Dce)})))}}],[{key:"getWithHeight",value:function(r,i){var o=li(li({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&te(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(V.PureComponent);Sy(Si,"displayName","Legend");Sy(Si,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var QP=Sf,$ce=sT,jce=$n,ZP=QP?QP.isConcatSpreadable:void 0;function Vce(t){return jce(t)||$ce(t)||!!(ZP&&t&&t[ZP])}var Fce=Vce,Uce=jj,Bce=Fce;function Zj(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Bce),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?Zj(a,e-1,n,r,i):Uce(i,a):r||(i[i.length]=a)}return i}var e4=Zj;function Gce(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var qce=Gce,Hce=qce,zce=Hce(),Wce=zce,Kce=Wce,Yce=Ty;function Jce(t,e){return t&&Kce(t,e,Yce)}var t4=Jce,Xce=Af;function Qce(t,e){return function(n,r){if(n==null)return n;if(!Xce(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Zce=Qce,ede=t4,tde=Zce,nde=tde(ede),cT=nde,rde=cT,ide=Af;function ode(t,e){var n=-1,r=ide(t)?Array(t.length):[];return rde(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var n4=ode;function sde(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var ade=sde,ek=du;function lde(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=ek(t),s=e!==void 0,a=e===null,l=e===e,u=ek(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var ude=lde,cde=ude;function dde(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=cde(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var fde=dde,o0=KE,hde=YE,pde=ri,mde=n4,gde=ade,yde=Uj,vde=fde,xde=xu,_de=$n;function bde(t,e,n){e.length?e=o0(e,function(o){return _de(o)?function(s){return hde(s,o.length===1?o[0]:o)}:o}):e=[xde];var r=-1;e=o0(e,yde(pde));var i=mde(t,function(o,s,a){var l=o0(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return gde(i,function(o,s){return vde(o,s,n)})}var wde=bde;function Ede(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Tde=Ede,Sde=Tde,tk=Math.max;function Ade(t,e,n){return e=tk(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=tk(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),Sde(t,this,a)}}var Ide=Ade;function Cde(t){return function(){return t}}var Pde=Cde,kde=ra,Nde=function(){try{var t=kde(Object,"defineProperty");return t({},"",{}),t}catch{}}(),r4=Nde,Rde=Pde,nk=r4,Ode=xu,Mde=nk?function(t,e){return nk(t,"toString",{configurable:!0,enumerable:!1,value:Rde(e),writable:!0})}:Ode,Dde=Mde,Lde=800,$de=16,jde=Date.now;function Vde(t){var e=0,n=0;return function(){var r=jde(),i=$de-(r-n);if(n=r,i>0){if(++e>=Lde)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Fde=Vde,Ude=Dde,Bde=Fde,Gde=Bde(Ude),qde=Gde,Hde=xu,zde=Ide,Wde=qde;function Kde(t,e){return Wde(zde(t,e,Hde),t+"")}var Yde=Kde,Jde=qE,Xde=Af,Qde=aT,Zde=Wo;function efe(t,e,n){if(!Zde(n))return!1;var r=typeof e;return(r=="number"?Xde(n)&&Qde(e,n.length):r=="string"&&e in n)?Jde(n[e],t):!1}var Ay=efe,tfe=e4,nfe=wde,rfe=Yde,rk=Ay,ife=rfe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&rk(t,e[0],e[1])?e=[]:n>2&&rk(e[0],e[1],e[2])&&(e=[e[0]]),nfe(t,tfe(e,1),[])}),ofe=ife;const dT=ze(ofe);function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R_.apply(this,arguments)}function sfe(t,e){return cfe(t)||ufe(t,e)||lfe(t,e)||afe()}function afe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lfe(t,e){if(t){if(typeof t=="string")return ik(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ik(t,e)}}function ik(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ufe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function cfe(t){if(Array.isArray(t))return t}function ok(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(n),!0).forEach(function(r){dfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dfe(t,e,n){return e=ffe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ffe(t){var e=hfe(t,"string");return xd(e)=="symbol"?e:e+""}function hfe(t,e){if(xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pfe(t){return Array.isArray(t)&&Mt(t[0])&&Mt(t[1])?t.join(" ~ "):t}var mfe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,d=e.formatter,f=e.itemSorter,y=e.wrapperClassName,x=e.labelClassName,_=e.label,b=e.labelFormatter,T=e.accessibilityLayer,w=T===void 0?!1:T,A=function(){if(c&&c.length){var M={padding:0,margin:0},D=(f?dT(c,f):c).map(function(U,B){if(U.type==="none")return null;var j=s0({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},a),q=U.formatter||d||pfe,F=U.value,z=U.name,Y=F,ie=z;if(q&&Y!=null&&ie!=null){var Q=q(F,z,U,B,c);if(Array.isArray(Q)){var se=sfe(Q,2);Y=se[0],ie=se[1]}else Y=Q}return $.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(B),style:j},Mt(ie)?$.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,Mt(ie)?$.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,$.createElement("span",{className:"recharts-tooltip-item-value"},Y),$.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return $.createElement("ul",{className:"recharts-tooltip-item-list",style:M},D)}return null},N=s0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),E=s0({margin:0},u),I=!be(_),v=I?_:"",S=we("recharts-default-tooltip",y),P=we("recharts-tooltip-label",x);I&&b&&c!==void 0&&c!==null&&(v=b(_,c));var k=w?{role:"status","aria-live":"assertive"}:{};return $.createElement("div",R_({className:S,style:N},k),$.createElement("p",{className:P,style:E},$.isValidElement(v)?v:"".concat(v)),A())};function _d(t){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_d(t)}function Ph(t,e,n){return e=gfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gfe(t){var e=yfe(t,"string");return _d(e)=="symbol"?e:e+""}function yfe(t,e){if(_d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ec="recharts-tooltip-wrapper",vfe={visibility:"hidden"};function xfe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return we(ec,Ph(Ph(Ph(Ph({},"".concat(ec,"-right"),te(n)&&e&&te(e.x)&&n>=e.x),"".concat(ec,"-left"),te(n)&&e&&te(e.x)&&n<e.x),"".concat(ec,"-bottom"),te(r)&&e&&te(e.y)&&r>=e.y),"".concat(ec,"-top"),te(r)&&e&&te(e.y)&&r<e.y))}function sk(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&te(o[r]))return o[r];var c=n[r]-a-i,d=n[r]+i;if(e[r])return s[r]?c:d;if(s[r]){var f=c,y=l[r];return f<y?Math.max(d,l[r]):Math.max(c,l[r])}var x=d+a,_=l[r]+u;return x>_?Math.max(c,l[r]):Math.max(d,l[r])}function _fe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function bfe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,d;return s.height>0&&s.width>0&&n?(c=sk({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=sk({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=_fe({translateX:c,translateY:d,useTranslate3d:a})):u=vfe,{cssProperties:u,cssClasses:xfe({translateX:c,translateY:d,coordinate:n})}}function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(n),!0).forEach(function(r){M_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Efe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o4(r.key),r)}}function Tfe(t,e,n){return e&&Efe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sfe(t,e,n){return e=vm(e),Afe(t,i4()?Reflect.construct(e,n||[],vm(t).constructor):e.apply(t,n))}function Afe(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ife(t)}function Ife(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i4=function(){return!!t})()}function vm(t){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vm(t)}function Cfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O_(t,e)}function O_(t,e){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O_(t,e)}function M_(t,e,n){return e=o4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o4(t){var e=Pfe(t,"string");return Sl(e)=="symbol"?e:e+""}function Pfe(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var uk=1,kfe=function(t){function e(){var n;wfe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Sfe(this,e,[].concat(i)),M_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),M_(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Cfe(e,t),Tfe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>uk||Math.abs(r.height-this.state.lastBoundingBox.height)>uk)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,d=i.hasPayload,f=i.isAnimationActive,y=i.offset,x=i.position,_=i.reverseDirection,b=i.useTranslate3d,T=i.viewBox,w=i.wrapperStyle,A=bfe({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:y,position:x,reverseDirection:_,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:T}),N=A.cssClasses,E=A.cssProperties,I=lk(lk({transition:f&&o?"transform ".concat(a,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&d?"visible":"hidden",position:"absolute",top:0,left:0},w);return $.createElement("div",{tabIndex:-1,className:N,style:I,ref:function(S){r.wrapperNode=S}},u)}}])}(V.PureComponent),Nfe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},zi={isSsr:Nfe()};function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(n),!0).forEach(function(r){fT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ofe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a4(r.key),r)}}function Mfe(t,e,n){return e&&Ofe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dfe(t,e,n){return e=xm(e),Lfe(t,s4()?Reflect.construct(e,n||[],xm(t).constructor):e.apply(t,n))}function Lfe(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $fe(t)}function $fe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s4=function(){return!!t})()}function xm(t){return xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xm(t)}function jfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D_(t,e)}function D_(t,e){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D_(t,e)}function fT(t,e,n){return e=a4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a4(t){var e=Vfe(t,"string");return Al(e)=="symbol"?e:e+""}function Vfe(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ffe(t){return t.dataKey}function Ufe(t,e){return $.isValidElement(t)?$.cloneElement(t,e):typeof t=="function"?$.createElement(t,e):$.createElement(mfe,e)}var ln=function(t){function e(){return Rfe(this,e),Dfe(this,e,arguments)}return jfe(e,t),Mfe(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,d=i.filterNull,f=i.isAnimationActive,y=i.offset,x=i.payload,_=i.payloadUniqBy,b=i.position,T=i.reverseDirection,w=i.useTranslate3d,A=i.viewBox,N=i.wrapperStyle,E=x??[];d&&E.length&&(E=Jj(x.filter(function(v){return v.value!=null&&(v.hide!==!0||r.props.includeHidden)}),_,Ffe));var I=E.length>0;return $.createElement(kfe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:f,active:o,coordinate:c,hasPayload:I,offset:y,position:b,reverseDirection:T,useTranslate3d:w,viewBox:A,wrapperStyle:N},Ufe(u,dk(dk({},this.props),{},{payload:E})))}}])}(V.PureComponent);fT(ln,"displayName","Tooltip");fT(ln,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!zi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Bfe=ni,Gfe=function(){return Bfe.Date.now()},qfe=Gfe,Hfe=/\s/;function zfe(t){for(var e=t.length;e--&&Hfe.test(t.charAt(e)););return e}var Wfe=zfe,Kfe=Wfe,Yfe=/^\s+/;function Jfe(t){return t&&t.slice(0,Kfe(t)+1).replace(Yfe,"")}var Xfe=Jfe,Qfe=Xfe,fk=Wo,Zfe=du,hk=NaN,ehe=/^[-+]0x[0-9a-f]+$/i,the=/^0b[01]+$/i,nhe=/^0o[0-7]+$/i,rhe=parseInt;function ihe(t){if(typeof t=="number")return t;if(Zfe(t))return hk;if(fk(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=fk(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Qfe(t);var n=the.test(t);return n||nhe.test(t)?rhe(t.slice(2),n?2:8):ehe.test(t)?hk:+t}var l4=ihe,ohe=Wo,a0=qfe,pk=l4,she="Expected a function",ahe=Math.max,lhe=Math.min;function uhe(t,e,n){var r,i,o,s,a,l,u=0,c=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(she);e=pk(e)||0,ohe(n)&&(c=!!n.leading,d="maxWait"in n,o=d?ahe(pk(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f);function y(I){var v=r,S=i;return r=i=void 0,u=I,s=t.apply(S,v),s}function x(I){return u=I,a=setTimeout(T,e),c?y(I):s}function _(I){var v=I-l,S=I-u,P=e-v;return d?lhe(P,o-S):P}function b(I){var v=I-l,S=I-u;return l===void 0||v>=e||v<0||d&&S>=o}function T(){var I=a0();if(b(I))return w(I);a=setTimeout(T,_(I))}function w(I){return a=void 0,f&&r?y(I):(r=i=void 0,s)}function A(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function N(){return a===void 0?s:w(a0())}function E(){var I=a0(),v=b(I);if(r=arguments,i=this,l=I,v){if(a===void 0)return x(l);if(d)return clearTimeout(a),a=setTimeout(T,e),y(l)}return a===void 0&&(a=setTimeout(T,e)),s}return E.cancel=A,E.flush=N,E}var che=uhe,dhe=che,fhe=Wo,hhe="Expected a function";function phe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(hhe);return fhe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),dhe(t,e,{leading:r,maxWait:e,trailing:i})}var mhe=phe;const u4=ze(mhe);function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(n),!0).forEach(function(r){ghe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ghe(t,e,n){return e=yhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yhe(t){var e=vhe(t,"string");return bd(e)=="symbol"?e:e+""}function vhe(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xhe(t,e){return Ehe(t)||whe(t,e)||bhe(t,e)||_he()}function _he(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bhe(t,e){if(t){if(typeof t=="string")return gk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gk(t,e)}}function gk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function whe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Ehe(t){if(Array.isArray(t))return t}var Is=V.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,d=t.minHeight,f=t.maxHeight,y=t.children,x=t.debounce,_=x===void 0?0:x,b=t.id,T=t.className,w=t.onResize,A=t.style,N=A===void 0?{}:A,E=V.useRef(null),I=V.useRef();I.current=w,V.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var v=V.useState({containerWidth:i.width,containerHeight:i.height}),S=xhe(v,2),P=S[0],k=S[1],O=V.useCallback(function(D,U){k(function(B){var j=Math.round(D),q=Math.round(U);return B.containerWidth===j&&B.containerHeight===q?B:{containerWidth:j,containerHeight:q}})},[]);V.useEffect(function(){var D=function(z){var Y,ie=z[0].contentRect,Q=ie.width,se=ie.height;O(Q,se),(Y=I.current)===null||Y===void 0||Y.call(I,Q,se)};_>0&&(D=u4(D,_,{trailing:!0,leading:!1}));var U=new ResizeObserver(D),B=E.current.getBoundingClientRect(),j=B.width,q=B.height;return O(j,q),U.observe(E.current),function(){U.disconnect()}},[O,_]);var M=V.useMemo(function(){var D=P.containerWidth,U=P.containerHeight;if(D<0||U<0)return null;Rr(xs(s)||xs(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Rr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=xs(s)?D:s,j=xs(l)?U:l;n&&n>0&&(B?j=B/n:j&&(B=j*n),f&&j>f&&(j=f)),Rr(B>0||j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,j,s,l,c,d,n);var q=!Array.isArray(y)&&Ti(y.type).endsWith("Chart");return $.Children.map(y,function(F){return $.isValidElement(F)?V.cloneElement(F,kh({width:B,height:j},q?{style:kh({height:"100%",width:"100%",maxHeight:j,maxWidth:B},F.props.style)}:{})):F})},[n,y,l,f,d,c,P,s]);return $.createElement("div",{id:b?"".concat(b):void 0,className:we("recharts-responsive-container",T),style:kh(kh({},N),{},{width:s,height:l,minWidth:c,minHeight:d,maxHeight:f}),ref:E},M)}),_u=function(e){return null};_u.displayName="Cell";function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){The(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function The(t,e,n){return e=She(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function She(t){var e=Ahe(t,"string");return wd(e)=="symbol"?e:e+""}function Ahe(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ma={widthCache:{},cacheCount:0},Ihe=2e3,Che={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vk="recharts_measurement_span";function Phe(t){var e=L_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Dc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||zi.isSsr)return{width:0,height:0};var r=Phe(n),i=JSON.stringify({text:e,copyStyle:r});if(ma.widthCache[i])return ma.widthCache[i];try{var o=document.getElementById(vk);o||(o=document.createElement("span"),o.setAttribute("id",vk),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=L_(L_({},Che),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return ma.widthCache[i]=l,++ma.cacheCount>Ihe&&(ma.cacheCount=0,ma.widthCache={}),l}catch{return{width:0,height:0}}},khe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ed(t){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ed(t)}function _m(t,e){return Mhe(t)||Ohe(t,e)||Rhe(t,e)||Nhe()}function Nhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rhe(t,e){if(t){if(typeof t=="string")return xk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xk(t,e)}}function xk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ohe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Mhe(t){if(Array.isArray(t))return t}function Dhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$he(r.key),r)}}function Lhe(t,e,n){return e&&_k(t.prototype,e),n&&_k(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $he(t){var e=jhe(t,"string");return Ed(e)=="symbol"?e:e+""}function jhe(t,e){if(Ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Vhe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Fhe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,c4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Uhe=Object.keys(c4),Va="NaN";function Bhe(t,e){return t*c4[e]}var Nh=function(){function t(e,n){Dhe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Vhe.test(n)&&(this.num=NaN,this.unit=""),Uhe.includes(n)&&(this.num=Bhe(e,n),this.unit="px")}return Lhe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Fhe.exec(n))!==null&&r!==void 0?r:[],o=_m(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function d4(t){if(t.includes(Va))return Va;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=bk.exec(e))!==null&&n!==void 0?n:[],i=_m(r,4),o=i[1],s=i[2],a=i[3],l=Nh.parse(o??""),u=Nh.parse(a??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Va;e=e.replace(bk,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,f=(d=wk.exec(e))!==null&&d!==void 0?d:[],y=_m(f,4),x=y[1],_=y[2],b=y[3],T=Nh.parse(x??""),w=Nh.parse(b??""),A=_==="+"?T.add(w):T.subtract(w);if(A.isNaN())return Va;e=e.replace(wk,A.toString())}return e}var Ek=/\(([^()]*)\)/;function Ghe(t){for(var e=t;e.includes("(");){var n=Ek.exec(e),r=_m(n,2),i=r[1];e=e.replace(Ek,d4(i))}return e}function qhe(t){var e=t.replace(/\s+/g,"");return e=Ghe(e),e=d4(e),e}function Hhe(t){try{return qhe(t)}catch{return Va}}function l0(t){var e=Hhe(t.slice(5,-1));return e===Va?"":e}var zhe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Whe=["dx","dy","angle","className","breakAll"];function $_(){return $_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$_.apply(this,arguments)}function Tk(t,e){if(t==null)return{};var n=Khe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Khe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Sk(t,e){return Qhe(t)||Xhe(t,e)||Jhe(t,e)||Yhe()}function Yhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jhe(t,e){if(t){if(typeof t=="string")return Ak(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ak(t,e)}}function Ak(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Qhe(t){if(Array.isArray(t))return t}var f4=/[ \f\n\r\t\v\u2028\u2029]+/,h4=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];be(n)||(r?o=n.toString().split(""):o=n.toString().split(f4));var s=o.map(function(l){return{word:l,width:Dc(l,i).width}}),a=r?0:Dc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Zhe=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=te(s),d=a,f=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce(function(j,q){var F=q.word,z=q.width,Y=j[j.length-1];if(Y&&(i==null||o||Y.width+z+r<Number(i)))Y.words.push(F),Y.width+=z+r;else{var ie={words:[F],width:z};j.push(ie)}return j},[])},y=f(n),x=function(B){return B.reduce(function(j,q){return j.width>q.width?j:q})};if(!c)return y;for(var _="",b=function(B){var j=d.slice(0,B),q=h4({breakAll:u,style:l,children:j+_}).wordsWithComputedWidth,F=f(q),z=F.length>s||x(F).width>Number(i);return[z,F]},T=0,w=d.length-1,A=0,N;T<=w&&A<=d.length-1;){var E=Math.floor((T+w)/2),I=E-1,v=b(I),S=Sk(v,2),P=S[0],k=S[1],O=b(E),M=Sk(O,1),D=M[0];if(!P&&!D&&(T=E+1),P&&D&&(w=E-1),!P&&D){N=k;break}A++}return N||y},Ik=function(e){var n=be(e)?[]:e.toString().split(f4);return[{words:n}]},epe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!zi.isSsr){var l,u,c=h4({breakAll:s,children:i,style:o});if(c){var d=c.wordsWithComputedWidth,f=c.spaceWidth;l=d,u=f}else return Ik(i);return Zhe({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return Ik(i)},Ck="#808080",zs=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,d=c===void 0?!1:c,f=e.textAnchor,y=f===void 0?"start":f,x=e.verticalAnchor,_=x===void 0?"end":x,b=e.fill,T=b===void 0?Ck:b,w=Tk(e,zhe),A=V.useMemo(function(){return epe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:d,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,d,w.style,w.width]),N=w.dx,E=w.dy,I=w.angle,v=w.className,S=w.breakAll,P=Tk(w,Whe);if(!Mt(r)||!Mt(o))return null;var k=r+(te(N)?N:0),O=o+(te(E)?E:0),M;switch(_){case"start":M=l0("calc(".concat(u,")"));break;case"middle":M=l0("calc(".concat((A.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:M=l0("calc(".concat(A.length-1," * -").concat(a,")"));break}var D=[];if(d){var U=A[0].width,B=w.width;D.push("scale(".concat((te(B)?B/U:1)/U,")"))}return I&&D.push("rotate(".concat(I,", ").concat(k,", ").concat(O,")")),D.length&&(P.transform=D.join(" ")),$.createElement("text",$_({},fe(P,!0),{x:k,y:O,className:we("recharts-text",v),textAnchor:y,fill:T.includes("url")?Ck:T}),A.map(function(j,q){var F=j.words.join(S?"":" ");return $.createElement("tspan",{x:k,dy:q===0?M:a,key:"".concat(F,"-").concat(q)},F)}))};function No(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tpe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hT(t){let e,n,r;t.length!==2?(e=No,n=(a,l)=>No(t(a),l),r=(a,l)=>t(a)-l):(e=t===No||t===tpe?t:npe,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<0?u=d+1:c=d}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;n(a[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(a,l,u=0,c=a.length){const d=i(a,l,u,c-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function npe(){return 0}function p4(t){return t===null?NaN:+t}function*rpe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const ipe=hT(No),If=ipe.right;hT(p4).center;class Pk extends Map{constructor(e,n=ape){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(kk(this,e))}has(e){return super.has(kk(this,e))}set(e,n){return super.set(ope(this,e),n)}delete(e){return super.delete(spe(this,e))}}function kk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ope({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function spe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ape(t){return t!==null&&typeof t=="object"?t.valueOf():t}function lpe(t=No){if(t===No)return m4;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function m4(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const upe=Math.sqrt(50),cpe=Math.sqrt(10),dpe=Math.sqrt(2);function bm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=upe?10:o>=cpe?5:o>=dpe?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?bm(t,e,n*2):[a,l,u]}function j_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?bm(e,t,n):bm(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function V_(t,e,n){return e=+e,t=+t,n=+n,bm(t,e,n)[2]}function F_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?V_(e,t,n):V_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Nk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Rk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function g4(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?m4:lpe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),d=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),y=Math.max(n,Math.floor(e-u*d/l+f)),x=Math.min(r,Math.floor(e+(l-u)*d/l+f));g4(t,e,y,x,i)}const o=t[e];let s=n,a=r;for(tc(t,n,e),i(t[r],o)>0&&tc(t,n,r);s<a;){for(tc(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?tc(t,n,a):(++a,tc(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function tc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function fpe(t,e,n){if(t=Float64Array.from(rpe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Rk(t);if(e>=1)return Nk(t);var r,i=(r-1)*e,o=Math.floor(i),s=Nk(g4(t,o).subarray(0,o+1)),a=Rk(t.subarray(o+1));return s+(a-s)*(i-o)}}function hpe(t,e,n=p4){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function ppe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function gr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Wi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const U_=Symbol("implicit");function pT(){var t=new Pk,e=[],n=[],r=U_;function i(o){let s=t.get(o);if(s===void 0){if(r!==U_)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Pk;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return pT(e,n).unknown(r)},gr.apply(i,arguments),i}function Td(){var t=pT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function d(){var f=e().length,y=i<r,x=y?i:r,_=y?r:i;o=(_-x)/Math.max(1,f-l+u*2),a&&(o=Math.floor(o)),x+=(_-x-o*(f-l))*c,s=o*(1-l),a&&(x=Math.round(x),s=Math.round(s));var b=ppe(f).map(function(T){return x+o*T});return n(y?b.reverse():b)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,a=!0,d()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(f){return arguments.length?(a=!!f,d()):a},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),d()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,d()):u},t.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),d()):c},t.copy=function(){return Td(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},gr.apply(d(),arguments)}function y4(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return y4(e())},t}function Lc(){return y4(Td.apply(null,arguments).paddingInner(1))}function mT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function v4(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Cf(){}var Sd=.7,wm=1/Sd,il="\\s*([+-]?\\d+)\\s*",Ad="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mpe=/^#([0-9a-f]{3,8})$/,gpe=new RegExp(`^rgb\\(${il},${il},${il}\\)$`),ype=new RegExp(`^rgb\\(${Yr},${Yr},${Yr}\\)$`),vpe=new RegExp(`^rgba\\(${il},${il},${il},${Ad}\\)$`),xpe=new RegExp(`^rgba\\(${Yr},${Yr},${Yr},${Ad}\\)$`),_pe=new RegExp(`^hsl\\(${Ad},${Yr},${Yr}\\)$`),bpe=new RegExp(`^hsla\\(${Ad},${Yr},${Yr},${Ad}\\)$`),Ok={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mT(Cf,Id,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Mk,formatHex:Mk,formatHex8:wpe,formatHsl:Epe,formatRgb:Dk,toString:Dk});function Mk(){return this.rgb().formatHex()}function wpe(){return this.rgb().formatHex8()}function Epe(){return x4(this).formatHsl()}function Dk(){return this.rgb().formatRgb()}function Id(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=mpe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Lk(e):n===3?new Rn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Rh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Rh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gpe.exec(t))?new Rn(e[1],e[2],e[3],1):(e=ype.exec(t))?new Rn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=vpe.exec(t))?Rh(e[1],e[2],e[3],e[4]):(e=xpe.exec(t))?Rh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_pe.exec(t))?Vk(e[1],e[2]/100,e[3]/100,1):(e=bpe.exec(t))?Vk(e[1],e[2]/100,e[3]/100,e[4]):Ok.hasOwnProperty(t)?Lk(Ok[t]):t==="transparent"?new Rn(NaN,NaN,NaN,0):null}function Lk(t){return new Rn(t>>16&255,t>>8&255,t&255,1)}function Rh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Rn(t,e,n,r)}function Tpe(t){return t instanceof Cf||(t=Id(t)),t?(t=t.rgb(),new Rn(t.r,t.g,t.b,t.opacity)):new Rn}function B_(t,e,n,r){return arguments.length===1?Tpe(t):new Rn(t,e,n,r??1)}function Rn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}mT(Rn,B_,v4(Cf,{brighter(t){return t=t==null?wm:Math.pow(wm,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Sd:Math.pow(Sd,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Rn(Cs(this.r),Cs(this.g),Cs(this.b),Em(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$k,formatHex:$k,formatHex8:Spe,formatRgb:jk,toString:jk}));function $k(){return`#${_s(this.r)}${_s(this.g)}${_s(this.b)}`}function Spe(){return`#${_s(this.r)}${_s(this.g)}${_s(this.b)}${_s((isNaN(this.opacity)?1:this.opacity)*255)}`}function jk(){const t=Em(this.opacity);return`${t===1?"rgb(":"rgba("}${Cs(this.r)}, ${Cs(this.g)}, ${Cs(this.b)}${t===1?")":`, ${t})`}`}function Em(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Cs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function _s(t){return t=Cs(t),(t<16?"0":"")+t.toString(16)}function Vk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Sr(t,e,n,r)}function x4(t){if(t instanceof Sr)return new Sr(t.h,t.s,t.l,t.opacity);if(t instanceof Cf||(t=Id(t)),!t)return new Sr;if(t instanceof Sr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Sr(s,a,l,t.opacity)}function Ape(t,e,n,r){return arguments.length===1?x4(t):new Sr(t,e,n,r??1)}function Sr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}mT(Sr,Ape,v4(Cf,{brighter(t){return t=t==null?wm:Math.pow(wm,t),new Sr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Sd:Math.pow(Sd,t),new Sr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Rn(u0(t>=240?t-240:t+120,i,r),u0(t,i,r),u0(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Sr(Fk(this.h),Oh(this.s),Oh(this.l),Em(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Em(this.opacity);return`${t===1?"hsl(":"hsla("}${Fk(this.h)}, ${Oh(this.s)*100}%, ${Oh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Fk(t){return t=(t||0)%360,t<0?t+360:t}function Oh(t){return Math.max(0,Math.min(1,t||0))}function u0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const gT=t=>()=>t;function Ipe(t,e){return function(n){return t+n*e}}function Cpe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ppe(t){return(t=+t)==1?_4:function(e,n){return n-e?Cpe(e,n,t):gT(isNaN(e)?n:e)}}function _4(t,e){var n=e-t;return n?Ipe(t,n):gT(isNaN(t)?e:t)}const Uk=function t(e){var n=Ppe(e);function r(i,o){var s=n((i=B_(i)).r,(o=B_(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=_4(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function kpe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Npe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Rpe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=bu(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Ope(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Tm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Mpe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=bu(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var G_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,c0=new RegExp(G_.source,"g");function Dpe(t){return function(){return t}}function Lpe(t){return function(e){return t(e)+""}}function $pe(t,e){var n=G_.lastIndex=c0.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=G_.exec(t))&&(i=c0.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Tm(r,i)})),n=c0.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Lpe(l[0].x):Dpe(e):(e=l.length,function(u){for(var c=0,d;c<e;++c)a[(d=l[c]).i]=d.x(u);return a.join("")})}function bu(t,e){var n=typeof e,r;return e==null||n==="boolean"?gT(e):(n==="number"?Tm:n==="string"?(r=Id(e))?(e=r,Uk):$pe:e instanceof Id?Uk:e instanceof Date?Ope:Npe(e)?kpe:Array.isArray(e)?Rpe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Mpe:Tm)(t,e)}function yT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function jpe(t,e){e===void 0&&(e=t,t=bu);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function Vpe(t){return function(){return t}}function Sm(t){return+t}var Bk=[0,1];function En(t){return t}function q_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Vpe(isNaN(e)?NaN:.5)}function Fpe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Upe(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=q_(i,r),o=n(s,o)):(r=q_(r,i),o=n(o,s)),function(a){return o(r(a))}}function Bpe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=q_(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=If(t,a,1,r)-1;return o[l](i[l](a))}}function Pf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Iy(){var t=Bk,e=Bk,n=bu,r,i,o,s=En,a,l,u;function c(){var f=Math.min(t.length,e.length);return s!==En&&(s=Fpe(t[0],t[f-1])),a=f>2?Bpe:Upe,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?o:(l||(l=a(t.map(r),e,n)))(r(s(f)))}return d.invert=function(f){return s(i((u||(u=a(e,t.map(r),Tm)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,Sm),c()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=yT,c()},d.clamp=function(f){return arguments.length?(s=f?!0:En,c()):s!==En},d.interpolate=function(f){return arguments.length?(n=f,c()):n},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,y){return r=f,i=y,c()}}function vT(){return Iy()(En,En)}function Gpe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Am(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Il(t){return t=Am(Math.abs(t)),t?t[1]:NaN}function qpe(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Hpe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var zpe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cd(t){if(!(e=zpe.exec(t)))throw new Error("invalid format: "+t);var e;return new xT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Cd.prototype=xT.prototype;function xT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}xT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Wpe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Im;function Kpe(t,e){var n=Am(t,e);if(!n)return Im=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(Im=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Am(t,Math.max(0,e+o-1))[0]}function Gk(t,e){var n=Am(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const qk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Gpe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Gk(t*100,e),r:Gk,s:Kpe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Hk(t){return t}var zk=Array.prototype.map,Wk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ype(t){var e=t.grouping===void 0||t.thousands===void 0?Hk:qpe(zk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Hk:Hpe(zk.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d,f){d=Cd(d);var y=d.fill,x=d.align,_=d.sign,b=d.symbol,T=d.zero,w=d.width,A=d.comma,N=d.precision,E=d.trim,I=d.type;I==="n"?(A=!0,I="g"):qk[I]||(N===void 0&&(N=12),E=!0,I="g"),(T||y==="0"&&x==="=")&&(T=!0,y="0",x="=");var v=(f&&f.prefix!==void 0?f.prefix:"")+(b==="$"?n:b==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():""),S=(b==="$"?r:/[%p]/.test(I)?s:"")+(f&&f.suffix!==void 0?f.suffix:""),P=qk[I],k=/[defgprs%]/.test(I);N=N===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function O(M){var D=v,U=S,B,j,q;if(I==="c")U=P(M)+U,M="";else{M=+M;var F=M<0||1/M<0;if(M=isNaN(M)?l:P(Math.abs(M),N),E&&(M=Wpe(M)),F&&+M==0&&_!=="+"&&(F=!1),D=(F?_==="("?_:a:_==="-"||_==="("?"":_)+D,U=(I==="s"&&!isNaN(M)&&Im!==void 0?Wk[8+Im/3]:"")+U+(F&&_==="("?")":""),k){for(B=-1,j=M.length;++B<j;)if(q=M.charCodeAt(B),48>q||q>57){U=(q===46?i+M.slice(B+1):M.slice(B))+U,M=M.slice(0,B);break}}}A&&!T&&(M=e(M,1/0));var z=D.length+M.length+U.length,Y=z<w?new Array(w-z+1).join(y):"";switch(A&&T&&(M=e(Y+M,Y.length?w-U.length:1/0),Y=""),x){case"<":M=D+M+U+Y;break;case"=":M=D+Y+M+U;break;case"^":M=Y.slice(0,z=Y.length>>1)+D+M+U+Y.slice(z);break;default:M=Y+D+M+U;break}return o(M)}return O.toString=function(){return d+""},O}function c(d,f){var y=Math.max(-8,Math.min(8,Math.floor(Il(f)/3)))*3,x=Math.pow(10,-y),_=u((d=Cd(d),d.type="f",d),{suffix:Wk[8+y/3]});return function(b){return _(x*b)}}return{format:u,formatPrefix:c}}var Mh,_T,b4;Jpe({thousands:",",grouping:[3],currency:["$",""]});function Jpe(t){return Mh=Ype(t),_T=Mh.format,b4=Mh.formatPrefix,Mh}function Xpe(t){return Math.max(0,-Il(Math.abs(t)))}function Qpe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Il(e)/3)))*3-Il(Math.abs(t)))}function Zpe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Il(e)-Il(t))+1}function w4(t,e,n,r){var i=F_(t,e,n),o;switch(r=Cd(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Qpe(i,s))&&(r.precision=o),b4(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Zpe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Xpe(i))&&(r.precision=o-(r.type==="%")*2);break}}return _T(r)}function Ko(t){var e=t.domain;return t.ticks=function(n){var r=e();return j_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return w4(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=V_(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function Cm(){var t=vT();return t.copy=function(){return Pf(t,Cm())},gr.apply(t,arguments),Ko(t)}function E4(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Sm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return E4(t).unknown(e)},t=arguments.length?Array.from(t,Sm):[0,1],Ko(n)}function T4(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Kk(t){return Math.log(t)}function Yk(t){return Math.exp(t)}function eme(t){return-Math.log(-t)}function tme(t){return-Math.exp(-t)}function nme(t){return isFinite(t)?+("1e"+t):t<0?0:t}function rme(t){return t===10?nme:t===Math.E?Math.exp:e=>Math.pow(t,e)}function ime(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Jk(t){return(e,n)=>-t(-e,n)}function bT(t){const e=t(Kk,Yk),n=e.domain;let r=10,i,o;function s(){return i=ime(r),o=rme(r),n()[0]<0?(i=Jk(i),o=Jk(o),t(eme,tme)):t(Kk,Yk),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let f=i(u),y=i(c),x,_;const b=a==null?10:+a;let T=[];if(!(r%1)&&y-f<b){if(f=Math.floor(f),y=Math.ceil(y),u>0){for(;f<=y;++f)for(x=1;x<r;++x)if(_=f<0?x/o(-f):x*o(f),!(_<u)){if(_>c)break;T.push(_)}}else for(;f<=y;++f)for(x=r-1;x>=1;--x)if(_=f>0?x/o(-f):x*o(f),!(_<u)){if(_>c)break;T.push(_)}T.length*2<b&&(T=j_(u,c,b))}else T=j_(f,y,Math.min(y-f,b)).map(o);return d?T.reverse():T},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Cd(l)).precision==null&&(l.trim=!0),l=_T(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>n(T4(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function S4(){const t=bT(Iy()).domain([1,10]);return t.copy=()=>Pf(t,S4()).base(t.base()),gr.apply(t,arguments),t}function Xk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Qk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function wT(t){var e=1,n=t(Xk(e),Qk(e));return n.constant=function(r){return arguments.length?t(Xk(e=+r),Qk(e)):e},Ko(n)}function A4(){var t=wT(Iy());return t.copy=function(){return Pf(t,A4()).constant(t.constant())},gr.apply(t,arguments)}function Zk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ome(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function sme(t){return t<0?-t*t:t*t}function ET(t){var e=t(En,En),n=1;function r(){return n===1?t(En,En):n===.5?t(ome,sme):t(Zk(n),Zk(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ko(e)}function TT(){var t=ET(Iy());return t.copy=function(){return Pf(t,TT()).exponent(t.exponent())},gr.apply(t,arguments),t}function ame(){return TT.apply(null,arguments).exponent(.5)}function eN(t){return Math.sign(t)*t*t}function lme(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function I4(){var t=vT(),e=[0,1],n=!1,r;function i(o){var s=lme(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(eN(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Sm)).map(eN)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return I4(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},gr.apply(i,arguments),Ko(i)}function C4(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=hpe(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[If(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(No),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return C4().domain(t).range(e).unknown(r)},gr.apply(o,arguments)}function P4(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[If(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return P4().domain([t,e]).range(i).unknown(o)},gr.apply(Ko(s),arguments)}function k4(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[If(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return k4().domain(t).range(e).unknown(n)},gr.apply(i,arguments)}const d0=new Date,f0=new Date;function Lt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>Lt(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(d0.setTime(+o),f0.setTime(+s),t(d0),t(f0),Math.floor(n(d0,f0))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Pm=Lt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Pm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Lt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Pm);Pm.range;const xi=1e3,or=xi*60,_i=or*60,Li=_i*24,ST=Li*7,tN=Li*30,h0=Li*365,bs=Lt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*xi)},(t,e)=>(e-t)/xi,t=>t.getUTCSeconds());bs.range;const AT=Lt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xi)},(t,e)=>{t.setTime(+t+e*or)},(t,e)=>(e-t)/or,t=>t.getMinutes());AT.range;const IT=Lt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*or)},(t,e)=>(e-t)/or,t=>t.getUTCMinutes());IT.range;const CT=Lt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xi-t.getMinutes()*or)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getHours());CT.range;const PT=Lt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getUTCHours());PT.range;const kf=Lt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*or)/Li,t=>t.getDate()-1);kf.range;const Cy=Lt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Li,t=>t.getUTCDate()-1);Cy.range;const N4=Lt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Li,t=>Math.floor(t/Li));N4.range;function oa(t){return Lt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*or)/ST)}const Py=oa(0),km=oa(1),ume=oa(2),cme=oa(3),Cl=oa(4),dme=oa(5),fme=oa(6);Py.range;km.range;ume.range;cme.range;Cl.range;dme.range;fme.range;function sa(t){return Lt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/ST)}const ky=sa(0),Nm=sa(1),hme=sa(2),pme=sa(3),Pl=sa(4),mme=sa(5),gme=sa(6);ky.range;Nm.range;hme.range;pme.range;Pl.range;mme.range;gme.range;const kT=Lt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());kT.range;const NT=Lt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());NT.range;const $i=Lt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());$i.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Lt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});$i.range;const ji=Lt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ji.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Lt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ji.range;function R4(t,e,n,r,i,o){const s=[[bs,1,xi],[bs,5,5*xi],[bs,15,15*xi],[bs,30,30*xi],[o,1,or],[o,5,5*or],[o,15,15*or],[o,30,30*or],[i,1,_i],[i,3,3*_i],[i,6,6*_i],[i,12,12*_i],[r,1,Li],[r,2,2*Li],[n,1,ST],[e,1,tN],[e,3,3*tN],[t,1,h0]];function a(u,c,d){const f=c<u;f&&([u,c]=[c,u]);const y=d&&typeof d.range=="function"?d:l(u,c,d),x=y?y.range(u,+c+1):[];return f?x.reverse():x}function l(u,c,d){const f=Math.abs(c-u)/d,y=hT(([,,b])=>b).right(s,f);if(y===s.length)return t.every(F_(u/h0,c/h0,d));if(y===0)return Pm.every(Math.max(F_(u,c,d),1));const[x,_]=s[f/s[y-1][2]<s[y][2]/f?y-1:y];return x.every(_)}return[a,l]}const[yme,vme]=R4(ji,NT,ky,N4,PT,IT),[xme,_me]=R4($i,kT,Py,kf,CT,AT);function p0(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function m0(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function nc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function bme(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=rc(i),c=ic(i),d=rc(o),f=ic(o),y=rc(s),x=ic(s),_=rc(a),b=ic(a),T=rc(l),w=ic(l),A={a:q,A:F,b:z,B:Y,c:null,d:aN,e:aN,f:qme,g:ege,G:nge,H:Ume,I:Bme,j:Gme,L:O4,m:Hme,M:zme,p:ie,q:Q,Q:cN,s:dN,S:Wme,u:Kme,U:Yme,V:Jme,w:Xme,W:Qme,x:null,X:null,y:Zme,Y:tge,Z:rge,"%":uN},N={a:se,A:Pe,b:W,B:pe,c:null,d:lN,e:lN,f:age,g:yge,G:xge,H:ige,I:oge,j:sge,L:D4,m:lge,M:uge,p:ke,q:Ee,Q:cN,s:dN,S:cge,u:dge,U:fge,V:hge,w:pge,W:mge,x:null,X:null,y:gge,Y:vge,Z:_ge,"%":uN},E={a:k,A:O,b:M,B:D,c:U,d:oN,e:oN,f:$me,g:iN,G:rN,H:sN,I:sN,j:Ome,L:Lme,m:Rme,M:Mme,p:P,q:Nme,Q:Vme,s:Fme,S:Dme,u:Ame,U:Ime,V:Cme,w:Sme,W:Pme,x:B,X:j,y:iN,Y:rN,Z:kme,"%":jme};A.x=I(n,A),A.X=I(r,A),A.c=I(e,A),N.x=I(n,N),N.X=I(r,N),N.c=I(e,N);function I(Z,le){return function(me){var J=[],Oe=-1,xe=0,Je=Z.length,et,$e,mn;for(me instanceof Date||(me=new Date(+me));++Oe<Je;)Z.charCodeAt(Oe)===37&&(J.push(Z.slice(xe,Oe)),($e=nN[et=Z.charAt(++Oe)])!=null?et=Z.charAt(++Oe):$e=et==="e"?" ":"0",(mn=le[et])&&(et=mn(me,$e)),J.push(et),xe=Oe+1);return J.push(Z.slice(xe,Oe)),J.join("")}}function v(Z,le){return function(me){var J=nc(1900,void 0,1),Oe=S(J,Z,me+="",0),xe,Je;if(Oe!=me.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(le&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(xe=m0(nc(J.y,0,1)),Je=xe.getUTCDay(),xe=Je>4||Je===0?Nm.ceil(xe):Nm(xe),xe=Cy.offset(xe,(J.V-1)*7),J.y=xe.getUTCFullYear(),J.m=xe.getUTCMonth(),J.d=xe.getUTCDate()+(J.w+6)%7):(xe=p0(nc(J.y,0,1)),Je=xe.getDay(),xe=Je>4||Je===0?km.ceil(xe):km(xe),xe=kf.offset(xe,(J.V-1)*7),J.y=xe.getFullYear(),J.m=xe.getMonth(),J.d=xe.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),Je="Z"in J?m0(nc(J.y,0,1)).getUTCDay():p0(nc(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(Je+5)%7:J.w+J.U*7-(Je+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,m0(J)):p0(J)}}function S(Z,le,me,J){for(var Oe=0,xe=le.length,Je=me.length,et,$e;Oe<xe;){if(J>=Je)return-1;if(et=le.charCodeAt(Oe++),et===37){if(et=le.charAt(Oe++),$e=E[et in nN?le.charAt(Oe++):et],!$e||(J=$e(Z,me,J))<0)return-1}else if(et!=me.charCodeAt(J++))return-1}return J}function P(Z,le,me){var J=u.exec(le.slice(me));return J?(Z.p=c.get(J[0].toLowerCase()),me+J[0].length):-1}function k(Z,le,me){var J=y.exec(le.slice(me));return J?(Z.w=x.get(J[0].toLowerCase()),me+J[0].length):-1}function O(Z,le,me){var J=d.exec(le.slice(me));return J?(Z.w=f.get(J[0].toLowerCase()),me+J[0].length):-1}function M(Z,le,me){var J=T.exec(le.slice(me));return J?(Z.m=w.get(J[0].toLowerCase()),me+J[0].length):-1}function D(Z,le,me){var J=_.exec(le.slice(me));return J?(Z.m=b.get(J[0].toLowerCase()),me+J[0].length):-1}function U(Z,le,me){return S(Z,e,le,me)}function B(Z,le,me){return S(Z,n,le,me)}function j(Z,le,me){return S(Z,r,le,me)}function q(Z){return s[Z.getDay()]}function F(Z){return o[Z.getDay()]}function z(Z){return l[Z.getMonth()]}function Y(Z){return a[Z.getMonth()]}function ie(Z){return i[+(Z.getHours()>=12)]}function Q(Z){return 1+~~(Z.getMonth()/3)}function se(Z){return s[Z.getUTCDay()]}function Pe(Z){return o[Z.getUTCDay()]}function W(Z){return l[Z.getUTCMonth()]}function pe(Z){return a[Z.getUTCMonth()]}function ke(Z){return i[+(Z.getUTCHours()>=12)]}function Ee(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var le=I(Z+="",A);return le.toString=function(){return Z},le},parse:function(Z){var le=v(Z+="",!1);return le.toString=function(){return Z},le},utcFormat:function(Z){var le=I(Z+="",N);return le.toString=function(){return Z},le},utcParse:function(Z){var le=v(Z+="",!0);return le.toString=function(){return Z},le}}}var nN={"-":"",_:" ",0:"0"},Gt=/^\s*\d+/,wme=/^%/,Eme=/[\\^$*+?|[\]().{}]/g;function Ue(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Tme(t){return t.replace(Eme,"\\$&")}function rc(t){return new RegExp("^(?:"+t.map(Tme).join("|")+")","i")}function ic(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Sme(t,e,n){var r=Gt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ame(t,e,n){var r=Gt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ime(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Cme(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Pme(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function rN(t,e,n){var r=Gt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function iN(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function kme(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Nme(t,e,n){var r=Gt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Rme(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function oN(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ome(t,e,n){var r=Gt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function sN(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Mme(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Dme(t,e,n){var r=Gt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Lme(t,e,n){var r=Gt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function $me(t,e,n){var r=Gt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function jme(t,e,n){var r=wme.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Vme(t,e,n){var r=Gt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Fme(t,e,n){var r=Gt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function aN(t,e){return Ue(t.getDate(),e,2)}function Ume(t,e){return Ue(t.getHours(),e,2)}function Bme(t,e){return Ue(t.getHours()%12||12,e,2)}function Gme(t,e){return Ue(1+kf.count($i(t),t),e,3)}function O4(t,e){return Ue(t.getMilliseconds(),e,3)}function qme(t,e){return O4(t,e)+"000"}function Hme(t,e){return Ue(t.getMonth()+1,e,2)}function zme(t,e){return Ue(t.getMinutes(),e,2)}function Wme(t,e){return Ue(t.getSeconds(),e,2)}function Kme(t){var e=t.getDay();return e===0?7:e}function Yme(t,e){return Ue(Py.count($i(t)-1,t),e,2)}function M4(t){var e=t.getDay();return e>=4||e===0?Cl(t):Cl.ceil(t)}function Jme(t,e){return t=M4(t),Ue(Cl.count($i(t),t)+($i(t).getDay()===4),e,2)}function Xme(t){return t.getDay()}function Qme(t,e){return Ue(km.count($i(t)-1,t),e,2)}function Zme(t,e){return Ue(t.getFullYear()%100,e,2)}function ege(t,e){return t=M4(t),Ue(t.getFullYear()%100,e,2)}function tge(t,e){return Ue(t.getFullYear()%1e4,e,4)}function nge(t,e){var n=t.getDay();return t=n>=4||n===0?Cl(t):Cl.ceil(t),Ue(t.getFullYear()%1e4,e,4)}function rge(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ue(e/60|0,"0",2)+Ue(e%60,"0",2)}function lN(t,e){return Ue(t.getUTCDate(),e,2)}function ige(t,e){return Ue(t.getUTCHours(),e,2)}function oge(t,e){return Ue(t.getUTCHours()%12||12,e,2)}function sge(t,e){return Ue(1+Cy.count(ji(t),t),e,3)}function D4(t,e){return Ue(t.getUTCMilliseconds(),e,3)}function age(t,e){return D4(t,e)+"000"}function lge(t,e){return Ue(t.getUTCMonth()+1,e,2)}function uge(t,e){return Ue(t.getUTCMinutes(),e,2)}function cge(t,e){return Ue(t.getUTCSeconds(),e,2)}function dge(t){var e=t.getUTCDay();return e===0?7:e}function fge(t,e){return Ue(ky.count(ji(t)-1,t),e,2)}function L4(t){var e=t.getUTCDay();return e>=4||e===0?Pl(t):Pl.ceil(t)}function hge(t,e){return t=L4(t),Ue(Pl.count(ji(t),t)+(ji(t).getUTCDay()===4),e,2)}function pge(t){return t.getUTCDay()}function mge(t,e){return Ue(Nm.count(ji(t)-1,t),e,2)}function gge(t,e){return Ue(t.getUTCFullYear()%100,e,2)}function yge(t,e){return t=L4(t),Ue(t.getUTCFullYear()%100,e,2)}function vge(t,e){return Ue(t.getUTCFullYear()%1e4,e,4)}function xge(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Pl(t):Pl.ceil(t),Ue(t.getUTCFullYear()%1e4,e,4)}function _ge(){return"+0000"}function uN(){return"%"}function cN(t){return+t}function dN(t){return Math.floor(+t/1e3)}var ga,$4,j4;bge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function bge(t){return ga=bme(t),$4=ga.format,ga.parse,j4=ga.utcFormat,ga.utcParse,ga}function wge(t){return new Date(t)}function Ege(t){return t instanceof Date?+t:+new Date(+t)}function RT(t,e,n,r,i,o,s,a,l,u){var c=vT(),d=c.invert,f=c.domain,y=u(".%L"),x=u(":%S"),_=u("%I:%M"),b=u("%I %p"),T=u("%a %d"),w=u("%b %d"),A=u("%B"),N=u("%Y");function E(I){return(l(I)<I?y:a(I)<I?x:s(I)<I?_:o(I)<I?b:r(I)<I?i(I)<I?T:w:n(I)<I?A:N)(I)}return c.invert=function(I){return new Date(d(I))},c.domain=function(I){return arguments.length?f(Array.from(I,Ege)):f().map(wge)},c.ticks=function(I){var v=f();return t(v[0],v[v.length-1],I??10)},c.tickFormat=function(I,v){return v==null?E:u(v)},c.nice=function(I){var v=f();return(!I||typeof I.range!="function")&&(I=e(v[0],v[v.length-1],I??10)),I?f(T4(v,I)):c},c.copy=function(){return Pf(c,RT(t,e,n,r,i,o,s,a,l,u))},c}function Tge(){return gr.apply(RT(xme,_me,$i,kT,Py,kf,CT,AT,bs,$4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Sge(){return gr.apply(RT(yme,vme,ji,NT,ky,Cy,PT,IT,bs,j4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ny(){var t=0,e=1,n,r,i,o,s=En,a=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(o(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(d){return arguments.length?(a=!!d,u):a},u.interpolator=function(d){return arguments.length?(s=d,u):s};function c(d){return function(f){var y,x;return arguments.length?([y,x]=f,s=d(y,x),u):[s(0),s(1)]}}return u.range=c(bu),u.rangeRound=c(yT),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return o=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),u}}function Yo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function V4(){var t=Ko(Ny()(En));return t.copy=function(){return Yo(t,V4())},Wi.apply(t,arguments)}function F4(){var t=bT(Ny()).domain([1,10]);return t.copy=function(){return Yo(t,F4()).base(t.base())},Wi.apply(t,arguments)}function U4(){var t=wT(Ny());return t.copy=function(){return Yo(t,U4()).constant(t.constant())},Wi.apply(t,arguments)}function OT(){var t=ET(Ny());return t.copy=function(){return Yo(t,OT()).exponent(t.exponent())},Wi.apply(t,arguments)}function Age(){return OT.apply(null,arguments).exponent(.5)}function B4(){var t=[],e=En;function n(r){if(r!=null&&!isNaN(r=+r))return e((If(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(No),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>fpe(t,o/r))},n.copy=function(){return B4(e).domain(t)},Wi.apply(n,arguments)}function Ry(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=En,c,d=!1,f;function y(_){return isNaN(_=+_)?f:(_=.5+((_=+c(_))-o)*(r*_<r*o?a:l),u(d?Math.max(0,Math.min(1,_)):_))}y.domain=function(_){return arguments.length?([t,e,n]=_,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y):[t,e,n]},y.clamp=function(_){return arguments.length?(d=!!_,y):d},y.interpolator=function(_){return arguments.length?(u=_,y):u};function x(_){return function(b){var T,w,A;return arguments.length?([T,w,A]=b,u=jpe(_,[T,w,A]),y):[u(0),u(.5),u(1)]}}return y.range=x(bu),y.rangeRound=x(yT),y.unknown=function(_){return arguments.length?(f=_,y):f},function(_){return c=_,i=_(t),o=_(e),s=_(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y}}function G4(){var t=Ko(Ry()(En));return t.copy=function(){return Yo(t,G4())},Wi.apply(t,arguments)}function q4(){var t=bT(Ry()).domain([.1,1,10]);return t.copy=function(){return Yo(t,q4()).base(t.base())},Wi.apply(t,arguments)}function H4(){var t=wT(Ry());return t.copy=function(){return Yo(t,H4()).constant(t.constant())},Wi.apply(t,arguments)}function MT(){var t=ET(Ry());return t.copy=function(){return Yo(t,MT()).exponent(t.exponent())},Wi.apply(t,arguments)}function Ige(){return MT.apply(null,arguments).exponent(.5)}const fN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Td,scaleDiverging:G4,scaleDivergingLog:q4,scaleDivergingPow:MT,scaleDivergingSqrt:Ige,scaleDivergingSymlog:H4,scaleIdentity:E4,scaleImplicit:U_,scaleLinear:Cm,scaleLog:S4,scaleOrdinal:pT,scalePoint:Lc,scalePow:TT,scaleQuantile:C4,scaleQuantize:P4,scaleRadial:I4,scaleSequential:V4,scaleSequentialLog:F4,scaleSequentialPow:OT,scaleSequentialQuantile:B4,scaleSequentialSqrt:Age,scaleSequentialSymlog:U4,scaleSqrt:ame,scaleSymlog:A4,scaleThreshold:k4,scaleTime:Tge,scaleUtc:Sge,tickFormat:w4},Symbol.toStringTag,{value:"Module"}));var Cge=du;function Pge(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!Cge(s):n(s,a)))var a=s,l=o}return l}var Oy=Pge;function kge(t,e){return t>e}var z4=kge,Nge=Oy,Rge=z4,Oge=xu;function Mge(t){return t&&t.length?Nge(t,Oge,Rge):void 0}var Dge=Mge;const go=ze(Dge);function Lge(t,e){return t<e}var W4=Lge,$ge=Oy,jge=W4,Vge=xu;function Fge(t){return t&&t.length?$ge(t,Vge,jge):void 0}var Uge=Fge;const My=ze(Uge);var Bge=KE,Gge=ri,qge=n4,Hge=$n;function zge(t,e){var n=Hge(t)?Bge:qge;return n(t,Gge(e))}var Wge=zge,Kge=e4,Yge=Wge;function Jge(t,e){return Kge(Yge(t,e),1)}var Xge=Jge;const Qge=ze(Xge);var Zge=uT;function eye(t,e){return Zge(t,e)}var tye=eye;const jo=ze(tye);var wu=1e9,nye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},LT,dt=!0,hr="[DecimalError] ",Ps=hr+"Invalid argument: ",DT=hr+"Exponent out of range: ",Eu=Math.floor,fs=Math.pow,rye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Gn,jt=1e7,at=7,K4=9007199254740991,Rm=Eu(K4/at),de={};de.absoluteValue=de.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};de.comparedTo=de.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};de.decimalPlaces=de.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*at;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};de.dividedBy=de.div=function(t){return Ai(this,new this.constructor(t))};de.dividedToIntegerBy=de.idiv=function(t){var e=this,n=e.constructor;return Ze(Ai(e,new n(t),0,1),n.precision)};de.equals=de.eq=function(t){return!this.cmp(t)};de.exponent=function(){return Pt(this)};de.greaterThan=de.gt=function(t){return this.cmp(t)>0};de.greaterThanOrEqualTo=de.gte=function(t){return this.cmp(t)>=0};de.isInteger=de.isint=function(){return this.e>this.d.length-2};de.isNegative=de.isneg=function(){return this.s<0};de.isPositive=de.ispos=function(){return this.s>0};de.isZero=function(){return this.s===0};de.lessThan=de.lt=function(t){return this.cmp(t)<0};de.lessThanOrEqualTo=de.lte=function(t){return this.cmp(t)<1};de.logarithm=de.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Gn))throw Error(hr+"NaN");if(n.s<1)throw Error(hr+(n.s?"NaN":"-Infinity"));return n.eq(Gn)?new r(0):(dt=!1,e=Ai(Pd(n,o),Pd(t,o),o),dt=!0,Ze(e,i))};de.minus=de.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?X4(e,t):Y4(e,(t.s=-t.s,t))};de.modulo=de.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(hr+"NaN");return n.s?(dt=!1,e=Ai(n,t,0,1).times(t),dt=!0,n.minus(e)):Ze(new r(n),i)};de.naturalExponential=de.exp=function(){return J4(this)};de.naturalLogarithm=de.ln=function(){return Pd(this)};de.negated=de.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};de.plus=de.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Y4(e,t):X4(e,(t.s=-t.s,t))};de.precision=de.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ps+t);if(e=Pt(i)+1,r=i.d.length-1,n=r*at+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};de.squareRoot=de.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(hr+"NaN")}for(t=Pt(a),dt=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Br(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Eu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Ai(a,o,s+2)).times(.5),Br(o.d).slice(0,s)===(e=Br(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Ze(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return dt=!0,Ze(r,n)};de.times=de.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,d=c.constructor,f=c.d,y=(t=new d(t)).d;if(!c.s||!t.s)return new d(0);for(t.s*=c.s,n=c.e+t.e,l=f.length,u=y.length,l<u&&(o=f,f=y,y=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+y[r]*f[i-r-1]+e,o[i--]=a%jt|0,e=a/jt|0;o[i]=(o[i]+e)%jt|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,dt?Ze(t,d.precision):t};de.toDecimalPlaces=de.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Qr(t,0,wu),e===void 0?e=r.rounding:Qr(e,0,8),Ze(n,t+Pt(n)+1,e))};de.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ws(r,!0):(Qr(t,0,wu),e===void 0?e=i.rounding:Qr(e,0,8),r=Ze(new i(r),t+1,e),n=Ws(r,!0,t+1)),n};de.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Ws(i):(Qr(t,0,wu),e===void 0?e=o.rounding:Qr(e,0,8),r=Ze(new o(i),t+Pt(i)+1,e),n=Ws(r.abs(),!1,t+Pt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};de.toInteger=de.toint=function(){var t=this,e=t.constructor;return Ze(new e(t),Pt(t)+1,e.rounding)};de.toNumber=function(){return+this};de.toPower=de.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Gn);if(a=new l(a),!a.s){if(t.s<1)throw Error(hr+"Infinity");return a}if(a.eq(Gn))return a;if(r=l.precision,t.eq(Gn))return Ze(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=K4){for(i=new l(Gn),e=Math.ceil(r/at+4),dt=!1;n%2&&(i=i.times(a),pN(i.d,e)),n=Eu(n/2),n!==0;)a=a.times(a),pN(a.d,e);return dt=!0,t.s<0?new l(Gn).div(i):Ze(i,r)}}else if(o<0)throw Error(hr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,dt=!1,i=t.times(Pd(a,r+u)),dt=!0,i=J4(i),i.s=o,i};de.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Pt(i),r=Ws(i,n<=o.toExpNeg||n>=o.toExpPos)):(Qr(t,1,wu),e===void 0?e=o.rounding:Qr(e,0,8),i=Ze(new o(i),t,e),n=Pt(i),r=Ws(i,t<=n||n<=o.toExpNeg,t)),r};de.toSignificantDigits=de.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Qr(t,1,wu),e===void 0?e=r.rounding:Qr(e,0,8)),Ze(new r(n),t,e)};de.toString=de.valueOf=de.val=de.toJSON=de[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Pt(t),n=t.constructor;return Ws(t,e<=n.toExpNeg||e>=n.toExpPos)};function Y4(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,d=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),dt?Ze(e,d):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(d/at),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/jt|0,l[o]%=jt;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,dt?Ze(e,d):e}function Qr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Ps+t)}function Br(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=at-r.length,n&&(o+=io(n)),o+=r;s=t[e],r=s+"",n=at-r.length,n&&(o+=io(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Ai=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%jt|0,s=o/jt|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*jt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,d,f,y,x,_,b,T,w,A,N,E,I,v,S,P=r.constructor,k=r.s==i.s?1:-1,O=r.d,M=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(hr+"Division by zero");for(l=r.e-i.e,v=M.length,E=O.length,y=new P(k),x=y.d=[],u=0;M[u]==(O[u]||0);)++u;if(M[u]>(O[u]||0)&&--l,o==null?w=o=P.precision:s?w=o+(Pt(r)-Pt(i))+1:w=o,w<0)return new P(0);if(w=w/at+2|0,u=0,v==1)for(c=0,M=M[0],w++;(u<E||c)&&w--;u++)A=c*jt+(O[u]||0),x[u]=A/M|0,c=A%M|0;else{for(c=jt/(M[0]+1)|0,c>1&&(M=t(M,c),O=t(O,c),v=M.length,E=O.length),N=v,_=O.slice(0,v),b=_.length;b<v;)_[b++]=0;S=M.slice(),S.unshift(0),I=M[0],M[1]>=jt/2&&++I;do c=0,a=e(M,_,v,b),a<0?(T=_[0],v!=b&&(T=T*jt+(_[1]||0)),c=T/I|0,c>1?(c>=jt&&(c=jt-1),d=t(M,c),f=d.length,b=_.length,a=e(d,_,f,b),a==1&&(c--,n(d,v<f?S:M,f))):(c==0&&(a=c=1),d=M.slice()),f=d.length,f<b&&d.unshift(0),n(_,d,b),a==-1&&(b=_.length,a=e(M,_,v,b),a<1&&(c++,n(_,v<b?S:M,b))),b=_.length):a===0&&(c++,_=[0]),x[u++]=c,a&&_[0]?_[b++]=O[N]||0:(_=[O[N]],b=1);while((N++<E||_[0]!==void 0)&&w--)}return x[0]||x.shift(),y.e=l,Ze(y,s?o+Pt(y)+1:o)}}();function J4(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,d=c.precision;if(Pt(t)>16)throw Error(DT+Pt(t));if(!t.s)return new c(Gn);for(dt=!1,a=d,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(fs(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(Gn),c.precision=a;;){if(i=Ze(i.times(t),a),n=n.times(++l),s=o.plus(Ai(i,n,a)),Br(s.d).slice(0,a)===Br(o.d).slice(0,a)){for(;u--;)o=Ze(o.times(o),a);return c.precision=d,e==null?(dt=!0,Ze(o,d)):o}o=s}}function Pt(t){for(var e=t.e*at,n=t.d[0];n>=10;n/=10)e++;return e}function g0(t,e,n){if(e>t.LN10.sd())throw dt=!0,n&&(t.precision=n),Error(hr+"LN10 precision limit exceeded");return Ze(new t(t.LN10),e)}function io(t){for(var e="";t--;)e+="0";return e}function Pd(t,e){var n,r,i,o,s,a,l,u,c,d=1,f=10,y=t,x=y.d,_=y.constructor,b=_.precision;if(y.s<1)throw Error(hr+(y.s?"NaN":"-Infinity"));if(y.eq(Gn))return new _(0);if(e==null?(dt=!1,u=b):u=e,y.eq(10))return e==null&&(dt=!0),g0(_,u);if(u+=f,_.precision=u,n=Br(x),r=n.charAt(0),o=Pt(y),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=Br(y.d),r=n.charAt(0),d++;o=Pt(y),r>1?(y=new _("0."+n),o++):y=new _(r+"."+n.slice(1))}else return l=g0(_,u+2,b).times(o+""),y=Pd(new _(r+"."+n.slice(1)),u-f).plus(l),_.precision=b,e==null?(dt=!0,Ze(y,b)):y;for(a=s=y=Ai(y.minus(Gn),y.plus(Gn),u),c=Ze(y.times(y),u),i=3;;){if(s=Ze(s.times(c),u),l=a.plus(Ai(s,new _(i),u)),Br(l.d).slice(0,u)===Br(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(g0(_,u+2,b).times(o+""))),a=Ai(a,new _(d),u),_.precision=b,e==null?(dt=!0,Ze(a,b)):a;a=l,i+=2}}function hN(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Eu(n/at),t.d=[],r=(n+1)%at,n<0&&(r+=at),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=at;r<i;)t.d.push(+e.slice(r,r+=at));e=e.slice(r),r=at-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),dt&&(t.e>Rm||t.e<-Rm))throw Error(DT+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ze(t,e,n){var r,i,o,s,a,l,u,c,d=t.d;for(s=1,o=d[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=at,i=e,u=d[c=0];else{if(c=Math.ceil((r+1)/at),o=d.length,c>=o)return t;for(u=o=d[c],s=1;o>=10;o/=10)s++;r%=at,i=r-at+s}if(n!==void 0&&(o=fs(10,s-i-1),a=u/o%10|0,l=e<0||d[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/fs(10,s-i):0:d[c-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(o=Pt(t),d.length=1,e=e-o-1,d[0]=fs(10,(at-e%at)%at),t.e=Eu(-e/at)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=c,o=1,c--):(d.length=c+1,o=fs(10,at-r),d[c]=i>0?(u/fs(10,s-i)%fs(10,i)|0)*o:0),l)for(;;)if(c==0){(d[0]+=o)==jt&&(d[0]=1,++t.e);break}else{if(d[c]+=o,d[c]!=jt)break;d[c--]=0,o=1}for(r=d.length;d[--r]===0;)d.pop();if(dt&&(t.e>Rm||t.e<-Rm))throw Error(DT+Pt(t));return t}function X4(t,e){var n,r,i,o,s,a,l,u,c,d,f=t.constructor,y=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),dt?Ze(e,y):e;if(l=t.d,d=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=d.length):(n=d,r=u,a=l.length),i=Math.max(Math.ceil(y/at),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=d.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}s=0}for(c&&(n=l,l=d,d=n,e.s=-e.s),a=l.length,i=d.length-a;i>0;--i)l[a++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(o=i;o&&l[--o]===0;)l[o]=jt-1;--l[o],l[i]+=jt}l[i]-=d[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,dt?Ze(e,y):e):new f(0)}function Ws(t,e,n){var r,i=Pt(t),o=Br(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+io(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+io(-i-1)+o,n&&(r=n-s)>0&&(o+=io(r))):i>=s?(o+=io(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+io(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=io(r))),t.s<0?"-"+o:o}function pN(t,e){if(t.length>e)return t.length=e,!0}function Q4(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ps+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return hN(s,o.toString())}else if(typeof o!="string")throw Error(Ps+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,rye.test(o))hN(s,o);else throw Error(Ps+o)}if(i.prototype=de,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Q4,i.config=i.set=iye,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function iye(t){if(!t||typeof t!="object")throw Error(hr+"Object expected");var e,n,r,i=["precision",1,wu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Eu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Ps+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Ps+n+": "+r);return this}var LT=Q4(nye);Gn=new LT(1);const Xe=LT;function oye(t){return uye(t)||lye(t)||aye(t)||sye()}function sye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aye(t,e){if(t){if(typeof t=="string")return H_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H_(t,e)}}function lye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function uye(t){if(Array.isArray(t))return H_(t)}function H_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cye=function(e){return e},Z4={},eV=function(e){return e===Z4},mN=function(e){return function n(){return arguments.length===0||arguments.length===1&&eV(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},dye=function t(e,n){return e===1?n:mN(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==Z4}).length;return s>=e?n.apply(void 0,i):t(e-s,mN(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=i.map(function(d){return eV(d)?l.shift():d});return n.apply(void 0,oye(c).concat(l))}))})},Dy=function(e){return dye(e.length,e)},z_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},fye=Dy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),hye=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return cye;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},W_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},tV=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function pye(t){var e;return t===0?e=1:e=Math.floor(new Xe(t).abs().log(10).toNumber())+1,e}function mye(t,e,n){for(var r=new Xe(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var gye=Dy(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),yye=Dy(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),vye=Dy(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Ly={rangeStep:mye,getDigitCount:pye,interpolateNumber:gye,uninterpolateNumber:yye,uninterpolateTruncation:vye};function K_(t){return bye(t)||_ye(t)||nV(t)||xye()}function xye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function bye(t){if(Array.isArray(t))return Y_(t)}function kd(t,e){return Tye(t)||Eye(t,e)||nV(t,e)||wye()}function wye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nV(t,e){if(t){if(typeof t=="string")return Y_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y_(t,e)}}function Y_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eye(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function Tye(t){if(Array.isArray(t))return t}function rV(t){var e=kd(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function iV(t,e,n){if(t.lte(0))return new Xe(0);var r=Ly.getDigitCount(t.toNumber()),i=new Xe(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new Xe(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new Xe(Math.ceil(l))}function Sye(t,e,n){var r=1,i=new Xe(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Xe(10).pow(Ly.getDigitCount(t)-1),i=new Xe(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Xe(Math.floor(t)))}else t===0?i=new Xe(Math.floor((e-1)/2)):n||(i=new Xe(Math.floor(t)));var s=Math.floor((e-1)/2),a=hye(fye(function(l){return i.add(new Xe(l-s).mul(r)).toNumber()}),z_);return a(0,e)}function oV(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Xe(0),tickMin:new Xe(0),tickMax:new Xe(0)};var o=iV(new Xe(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Xe(0):(s=new Xe(t).add(e).div(2),s=s.sub(new Xe(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new Xe(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?oV(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new Xe(a).mul(o)),tickMax:s.add(new Xe(l).mul(o))})}function Aye(t){var e=kd(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=rV([n,r]),l=kd(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var d=c===1/0?[u].concat(K_(z_(0,i-1).map(function(){return 1/0}))):[].concat(K_(z_(0,i-1).map(function(){return-1/0})),[c]);return n>r?W_(d):d}if(u===c)return Sye(u,i,o);var f=oV(u,c,s,o),y=f.step,x=f.tickMin,_=f.tickMax,b=Ly.rangeStep(x,_.add(new Xe(.1).mul(y)),y);return n>r?W_(b):b}function Iye(t,e){var n=kd(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=rV([r,i]),a=kd(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),d=iV(new Xe(u).sub(l).div(c-1),o,0),f=[].concat(K_(Ly.rangeStep(new Xe(l),new Xe(u).sub(new Xe(.99).mul(d)),d)),[u]);return r>i?W_(f):f}var Cye=tV(Aye),Pye=tV(Iye),kye="Invariant failed";function Ks(t,e){throw new Error(kye)}var Nye=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function Om(){return Om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Om.apply(this,arguments)}function Rye(t,e){return Lye(t)||Dye(t,e)||Mye(t,e)||Oye()}function Oye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mye(t,e){if(t){if(typeof t=="string")return gN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gN(t,e)}}function gN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Lye(t){if(Array.isArray(t))return t}function $ye(t,e){if(t==null)return{};var n=jye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lV(r.key),r)}}function Uye(t,e,n){return e&&Fye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bye(t,e,n){return e=Mm(e),Gye(t,sV()?Reflect.construct(e,n||[],Mm(t).constructor):e.apply(t,n))}function Gye(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qye(t)}function qye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sV=function(){return!!t})()}function Mm(t){return Mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mm(t)}function Hye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J_(t,e)}function J_(t,e){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},J_(t,e)}function aV(t,e,n){return e=lV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lV(t){var e=zye(t,"string");return kl(e)=="symbol"?e:e+""}function zye(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nf=function(t){function e(){return Vye(this,e),Bye(this,e,arguments)}return Hye(e,t),Uye(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,d=r.yAxis,f=$ye(r,Nye),y=fe(f,!1);this.props.direction==="x"&&c.type!=="number"&&Ks();var x=l.map(function(_){var b=u(_,a),T=b.x,w=b.y,A=b.value,N=b.errorVal;if(!N)return null;var E=[],I,v;if(Array.isArray(N)){var S=Rye(N,2);I=S[0],v=S[1]}else I=v=N;if(o==="vertical"){var P=c.scale,k=w+i,O=k+s,M=k-s,D=P(A-I),U=P(A+v);E.push({x1:U,y1:O,x2:U,y2:M}),E.push({x1:D,y1:k,x2:U,y2:k}),E.push({x1:D,y1:O,x2:D,y2:M})}else if(o==="horizontal"){var B=d.scale,j=T+i,q=j-s,F=j+s,z=B(A-I),Y=B(A+v);E.push({x1:q,y1:Y,x2:F,y2:Y}),E.push({x1:j,y1:z,x2:j,y2:Y}),E.push({x1:q,y1:z,x2:F,y2:z})}return $.createElement(Ce,Om({className:"recharts-errorBar",key:"bar-".concat(E.map(function(ie){return"".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))},y),E.map(function(ie){return $.createElement("line",Om({},ie,{key:"line-".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))}))});return $.createElement(Ce,{className:"recharts-errorBars"},x)}}])}($.Component);aV(Nf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});aV(Nf,"displayName","ErrorBar");function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function yN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yN(Object(n),!0).forEach(function(r){Wye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wye(t,e,n){return e=Kye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kye(t){var e=Yye(t,"string");return Nd(e)=="symbol"?e:e+""}function Yye(t,e){if(Nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uV=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Bn(n,Si);if(!s)return null;var a=Si.defaultProps,l=a!==void 0?rs(rs({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(c,d){var f=d.item,y=d.props,x=y.sectors||y.data||[];return c.concat(x.map(function(_){return{type:s.props.iconType||f.props.legendType,value:_.name,color:_.fill,payload:_}}))},[]):u=(r||[]).map(function(c){var d=c.item,f=d.type.defaultProps,y=f!==void 0?rs(rs({},f),d.props):{},x=y.dataKey,_=y.name,b=y.legendType,T=y.hide;return{inactive:T,dataKey:x,type:l.iconType||b||"square",color:$T(d),value:_||x,payload:y}}),rs(rs(rs({},l),Si.getWithHeight(s,i)),{},{payload:u,item:s})};function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function vN(t){return Zye(t)||Qye(t)||Xye(t)||Jye()}function Jye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xye(t,e){if(t){if(typeof t=="string")return X_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X_(t,e)}}function Qye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zye(t){if(Array.isArray(t))return X_(t)}function X_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xN(Object(n),!0).forEach(function(r){ol(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ol(t,e,n){return e=eve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eve(t){var e=tve(t,"string");return Rd(e)=="symbol"?e:e+""}function tve(t,e){if(Rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mt(t,e,n){return be(t)||be(e)?n:Mt(e)?Wn(t,e,n):ge(e)?e(t):n}function $c(t,e,n,r){var i=Qge(t,function(a){return mt(a,e)});if(n==="number"){var o=i.filter(function(a){return te(a)||parseFloat(a)});return o.length?[My(o),go(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!be(a)}):i;return s.map(function(a){return Mt(a)||a instanceof Date?a:""})}var nve=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var c=u>0?i[u-1].coordinate:i[a-1].coordinate,d=i[u].coordinate,f=u>=a-1?i[0].coordinate:i[u+1].coordinate,y=void 0;if(bn(d-c)!==bn(f-d)){var x=[];if(bn(f-d)===bn(l[1]-l[0])){y=f;var _=d+l[1]-l[0];x[0]=Math.min(_,(_+c)/2),x[1]=Math.max(_,(_+c)/2)}else{y=c;var b=f+l[1]-l[0];x[0]=Math.min(d,(b+d)/2),x[1]=Math.max(d,(b+d)/2)}var T=[Math.min(d,(y+d)/2),Math.max(d,(y+d)/2)];if(e>T[0]&&e<=T[1]||e>=x[0]&&e<=x[1]){s=i[u].index;break}}else{var w=Math.min(c,f),A=Math.max(c,f);if(e>(w+d)/2&&e<=(A+d)/2){s=i[u].index;break}}}else for(var N=0;N<a;N++)if(N===0&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<a-1&&e>(r[N].coordinate+r[N-1].coordinate)/2&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N===a-1&&e>(r[N].coordinate+r[N-1].coordinate)/2){s=r[N].index;break}return s},$T=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},rve=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var c=o[a[l]].stackGroups,d=Object.keys(c),f=0,y=d.length;f<y;f++){var x=c[d[f]],_=x.items,b=x.cateAxisId,T=_.filter(function(v){return Ti(v.type).indexOf("Bar")>=0});if(T&&T.length){var w=T[0].type.defaultProps,A=w!==void 0?bt(bt({},w),T[0].props):T[0].props,N=A.barSize,E=A[b];s[E]||(s[E]=[]);var I=be(N)?n:N;s[E].push({item:T[0],stackList:T.slice(1),barSize:be(I)?void 0:wn(I,r,0)})}}return s},ive=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=wn(n,i,0,!0),c,d=[];if(s[0].barSize===+s[0].barSize){var f=!1,y=i/l,x=s.reduce(function(N,E){return N+E.barSize||0},0);x+=(l-1)*u,x>=i&&(x-=(l-1)*u,u=0),x>=i&&y>0&&(f=!0,y*=.9,x=l*y);var _=(i-x)/2>>0,b={offset:_-u,size:0};c=s.reduce(function(N,E){var I={item:E.item,position:{offset:b.offset+b.size+u,size:f?y:E.barSize}},v=[].concat(vN(N),[I]);return b=v[v.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(S){v.push({item:S,position:b})}),v},d)}else{var T=wn(r,i,0,!0);i-2*T-(l-1)*u<=0&&(u=0);var w=(i-2*T-(l-1)*u)/l;w>1&&(w>>=0);var A=a===+a?Math.min(w,a):w;c=s.reduce(function(N,E,I){var v=[].concat(vN(N),[{item:E.item,position:{offset:T+(w+u)*I+(w-A)/2,size:A}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(S){v.push({item:S,position:v[v.length-1].position})}),v},d)}return c},ove=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=uV({children:o,legendWidth:l});if(u){var c=i||{},d=c.width,f=c.height,y=u.align,x=u.verticalAlign,_=u.layout;if((_==="vertical"||_==="horizontal"&&x==="middle")&&y!=="center"&&te(e[y]))return bt(bt({},e),{},ol({},y,e[y]+(d||0)));if((_==="horizontal"||_==="vertical"&&y==="center")&&x!=="middle"&&te(e[x]))return bt(bt({},e),{},ol({},x,e[x]+(f||0)))}return e},sve=function(e,n,r){return be(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},cV=function(e,n,r,i,o){var s=n.props.children,a=Kn(s,Nf).filter(function(u){return sve(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var d=mt(c,r);if(be(d))return u;var f=Array.isArray(d)?[My(d),go(d)]:[d,d],y=l.reduce(function(x,_){var b=mt(c,_,0),T=f[0]-Math.abs(Array.isArray(b)?b[0]:b),w=f[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(T,x[0]),Math.max(w,x[1])]},[1/0,-1/0]);return[Math.min(y[0],u[0]),Math.max(y[1],u[1])]},[1/0,-1/0])}return null},ave=function(e,n,r,i,o){var s=n.map(function(a){return cV(e,a,r,o,i)}).filter(function(a){return!be(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},dV=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&cV(e,l,u,i)||$c(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var c=0,d=u.length;c<d;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},fV=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},hV=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},bi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?bn(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(d){var f=o?o.indexOf(d):d;return{coordinate:i(f)+u,value:d,offset:u}});return c.filter(function(d){return!gu(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,f){return{coordinate:i(d)+u,value:d,index:f,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+u,value:d,offset:u}}):i.domain().map(function(d,f){return{coordinate:i(d)+u,value:o?o[d]:d,index:f,offset:u}})},y0=new WeakMap,Dh=function(e,n){if(typeof n!="function")return e;y0.has(e)||y0.set(e,new WeakMap);var r=y0.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},pV=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:Td(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:Cm(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Lc(),realScaleType:"point"}:o==="category"?{scale:Td(),realScaleType:"band"}:{scale:Cm(),realScaleType:"linear"};if(qs(i)){var l="scale".concat(_y(i));return{scale:(fN[l]||Lc)(),realScaleType:fN[l]?l:"point"}}return ge(i)?{scale:i}:{scale:Lc(),realScaleType:"point"}},_N=1e-4,mV=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-_N,s=Math.max(i[0],i[1])+_N,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},lve=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},uve=function(e,n){if(!n||n.length!==2||!te(n[0])||!te(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!te(e[0])||e[0]<r)&&(o[0]=r),(!te(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},cve=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=gu(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},dve=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=gu(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},fve={sign:cve,expand:Nie,none:wl,silhouette:Rie,wiggle:Oie,positive:dve},hve=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=fve[r],s=kie().keys(i).value(function(a,l){return+mt(a,l,0)}).order(w_).offset(o);return s(e)},pve=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(d,f){var y,x=(y=f.type)!==null&&y!==void 0&&y.defaultProps?bt(bt({},f.type.defaultProps),f.props):f.props,_=x.stackId,b=x.hide;if(b)return d;var T=x[r],w=d[T]||{hasStack:!1,stackGroups:{}};if(Mt(_)){var A=w.stackGroups[_]||{numericAxisId:r,cateAxisId:i,items:[]};A.items.push(f),w.hasStack=!0,w.stackGroups[_]=A}else w.stackGroups[ia("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return bt(bt({},d),{},ol({},T,w))},l),c={};return Object.keys(u).reduce(function(d,f){var y=u[f];if(y.hasStack){var x={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(_,b){var T=y.stackGroups[b];return bt(bt({},_),{},ol({},b,{numericAxisId:r,cateAxisId:i,items:T.items,stackedData:hve(e,T.items,o)}))},x)}return bt(bt({},d),{},ol({},f,y))},c)},gV=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Cye(u,o,a);return e.domain([My(c),go(c)]),{niceTicks:c}}if(o&&i==="number"){var d=e.domain(),f=Pye(d,o,a);return{niceTicks:f}}return null};function Dm(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!be(i[e.dataKey])){var a=sm(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=mt(i,be(s)?e.dataKey:s);return be(l)?null:e.scale(l)}var bN=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=mt(s,n.dataKey,n.domain[a]);return be(l)?null:n.scale(l)-o/2+i},mve=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},gve=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Mt(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},yve=function(e){return e.reduce(function(n,r){return[My(r.concat([n[0]]).filter(te)),go(r.concat([n[1]]).filter(te))]},[1/0,-1/0])},yV=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,c){var d=yve(c.slice(n,r+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},wN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,EN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Q_=function(e,n,r){if(ge(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(te(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(wN.test(e[0])){var o=+wN.exec(e[0])[1];i[0]=n[0]-o}else ge(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(te(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(EN.test(e[1])){var s=+EN.exec(e[1])[1];i[1]=n[1]+s}else ge(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Lm=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=dT(n,function(d){return d.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],c=o[a-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},TN=function(e,n,r){return!e||!e.length||jo(e,Wn(r,"type.defaultProps.domain"))?n:e},vV=function(e,n){var r=e.type.defaultProps?bt(bt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return bt(bt({},fe(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:$T(e),value:mt(n,i),type:l,payload:n,chartType:u,hide:c})};function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function SN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ci(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SN(Object(n),!0).forEach(function(r){xV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xV(t,e,n){return e=vve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vve(t){var e=xve(t,"string");return Od(e)=="symbol"?e:e+""}function xve(t,e){if(Od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ve(t,e){return Tve(t)||Eve(t,e)||wve(t,e)||bve()}function bve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wve(t,e){if(t){if(typeof t=="string")return AN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AN(t,e)}}function AN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Tve(t){if(Array.isArray(t))return t}var $m=Math.PI/180,Sve=function(e){return e*180/Math.PI},Ge=function(e,n,r,i){return{x:e+Math.cos(-$m*i)*r,y:n+Math.sin(-$m*i)*r}},_V=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},bV=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.startAngle,u=e.endAngle,c=wn(e.cx,s,s/2),d=wn(e.cy,a,a/2),f=_V(s,a,r),y=wn(e.innerRadius,f,0),x=wn(e.outerRadius,f,f*.8),_=Object.keys(n);return _.reduce(function(b,T){var w=n[T],A=w.domain,N=w.reversed,E;if(be(w.range))i==="angleAxis"?E=[l,u]:i==="radiusAxis"&&(E=[y,x]),N&&(E=[E[1],E[0]]);else{E=w.range;var I=E,v=_ve(I,2);l=v[0],u=v[1]}var S=pV(w,o),P=S.realScaleType,k=S.scale;k.domain(A).range(E),mV(k);var O=gV(k,ci(ci({},w),{},{realScaleType:P})),M=ci(ci(ci({},w),O),{},{range:E,radius:x,realScaleType:P,scale:k,cx:c,cy:d,innerRadius:y,outerRadius:x,startAngle:l,endAngle:u});return ci(ci({},b),{},xV({},T,M))},{})},Ave=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},Ive=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=Ave({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:Sve(u),angleInRadian:u}},Cve=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},Pve=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},IN=function(e,n){var r=e.x,i=e.y,o=Ive({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=Cve(n),d=c.startAngle,f=c.endAngle,y=a,x;if(d<=f){for(;y>f;)y-=360;for(;y<d;)y+=360;x=y>=d&&y<=f}else{for(;y>d;)y-=360;for(;y<f;)y+=360;x=y>=f&&y<=d}return x?ci(ci({},n),{},{radius:s,angle:Pve(y,n)}):null},wV=function(e){return!V.isValidElement(e)&&!ge(e)&&typeof e!="boolean"?e.className:""};function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}var kve=["offset"];function Nve(t){return Dve(t)||Mve(t)||Ove(t)||Rve()}function Rve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ove(t,e){if(t){if(typeof t=="string")return Z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z_(t,e)}}function Mve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dve(t){if(Array.isArray(t))return Z_(t)}function Z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lve(t,e){if(t==null)return{};var n=$ve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $ve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function CN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CN(Object(n),!0).forEach(function(r){jve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jve(t,e,n){return e=Vve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vve(t){var e=Fve(t,"string");return Md(e)=="symbol"?e:e+""}function Fve(t,e){if(Md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dd(){return Dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dd.apply(this,arguments)}var Uve=function(e){var n=e.value,r=e.formatter,i=be(e.children)?n:e.children;return ge(r)?r(i):i},Bve=function(e,n){var r=bn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Gve=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,c=l.cy,d=l.innerRadius,f=l.outerRadius,y=l.startAngle,x=l.endAngle,_=l.clockWise,b=(d+f)/2,T=Bve(y,x),w=T>=0?1:-1,A,N;i==="insideStart"?(A=y+w*s,N=_):i==="insideEnd"?(A=x-w*s,N=!_):i==="end"&&(A=x+w*s,N=_),N=T<=0?N:!N;var E=Ge(u,c,b,A),I=Ge(u,c,b,A+(N?1:-1)*359),v="M".concat(E.x,",").concat(E.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(N?0:1,`,
    `).concat(I.x,",").concat(I.y),S=be(e.id)?ia("recharts-radial-line-"):e.id;return $.createElement("text",Dd({},r,{dominantBaseline:"central",className:we("recharts-radial-bar-label",a)}),$.createElement("defs",null,$.createElement("path",{id:S,d:v})),$.createElement("textPath",{xlinkHref:"#".concat(S)},n))},qve=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,d=o.endAngle,f=(c+d)/2;if(i==="outside"){var y=Ge(s,a,u+r,f),x=y.x,_=y.y;return{x,y:_,textAnchor:x>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var b=(l+u)/2,T=Ge(s,a,b,f),w=T.x,A=T.y;return{x:w,y:A,textAnchor:"middle",verticalAnchor:"middle"}},Hve=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,c=s.height,d=c>=0?1:-1,f=d*i,y=d>0?"end":"start",x=d>0?"start":"end",_=u>=0?1:-1,b=_*i,T=_>0?"end":"start",w=_>0?"start":"end";if(o==="top"){var A={x:a+u/2,y:l-d*i,textAnchor:"middle",verticalAnchor:y};return Nt(Nt({},A),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var N={x:a+u/2,y:l+c+f,textAnchor:"middle",verticalAnchor:x};return Nt(Nt({},N),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var E={x:a-b,y:l+c/2,textAnchor:T,verticalAnchor:"middle"};return Nt(Nt({},E),r?{width:Math.max(E.x-r.x,0),height:c}:{})}if(o==="right"){var I={x:a+u+b,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return Nt(Nt({},I),r?{width:Math.max(r.x+r.width-I.x,0),height:c}:{})}var v=r?{width:u,height:c}:{};return o==="insideLeft"?Nt({x:a+b,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},v):o==="insideRight"?Nt({x:a+u-b,y:l+c/2,textAnchor:T,verticalAnchor:"middle"},v):o==="insideTop"?Nt({x:a+u/2,y:l+f,textAnchor:"middle",verticalAnchor:x},v):o==="insideBottom"?Nt({x:a+u/2,y:l+c-f,textAnchor:"middle",verticalAnchor:y},v):o==="insideTopLeft"?Nt({x:a+b,y:l+f,textAnchor:w,verticalAnchor:x},v):o==="insideTopRight"?Nt({x:a+u-b,y:l+f,textAnchor:T,verticalAnchor:x},v):o==="insideBottomLeft"?Nt({x:a+b,y:l+c-f,textAnchor:w,verticalAnchor:y},v):o==="insideBottomRight"?Nt({x:a+u-b,y:l+c-f,textAnchor:T,verticalAnchor:y},v):fu(o)&&(te(o.x)||xs(o.x))&&(te(o.y)||xs(o.y))?Nt({x:a+wn(o.x,u),y:l+wn(o.y,c),textAnchor:"end",verticalAnchor:"end"},v):Nt({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},v)},zve=function(e){return"cx"in e&&te(e.cx)};function Ft(t){var e=t.offset,n=e===void 0?5:e,r=Lve(t,kve),i=Nt({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,c=i.className,d=c===void 0?"":c,f=i.textBreakAll;if(!o||be(a)&&be(l)&&!V.isValidElement(u)&&!ge(u))return null;if(V.isValidElement(u))return V.cloneElement(u,i);var y;if(ge(u)){if(y=V.createElement(u,i),V.isValidElement(y))return y}else y=Uve(i);var x=zve(o),_=fe(i,!0);if(x&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Gve(i,y,_);var b=x?qve(i):Hve(i);return $.createElement(zs,Dd({className:we("recharts-label",d)},_,b,{breakAll:f}),y)}Ft.displayName="Label";var EV=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,d=e.x,f=e.y,y=e.top,x=e.left,_=e.width,b=e.height,T=e.clockWise,w=e.labelViewBox;if(w)return w;if(te(_)&&te(b)){if(te(d)&&te(f))return{x:d,y:f,width:_,height:b};if(te(y)&&te(x))return{x:y,y:x,width:_,height:b}}return te(d)&&te(f)?{x:d,y:f,width:0,height:0}:te(n)&&te(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:T}:e.viewBox?e.viewBox:{}},Wve=function(e,n){return e?e===!0?$.createElement(Ft,{key:"label-implicit",viewBox:n}):Mt(e)?$.createElement(Ft,{key:"label-implicit",viewBox:n,value:e}):V.isValidElement(e)?e.type===Ft?V.cloneElement(e,{key:"label-implicit",viewBox:n}):$.createElement(Ft,{key:"label-implicit",content:e,viewBox:n}):ge(e)?$.createElement(Ft,{key:"label-implicit",content:e,viewBox:n}):fu(e)?$.createElement(Ft,Dd({viewBox:n},e,{key:"label-implicit"})):null:null},Kve=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=EV(e),s=Kn(i,Ft).map(function(l,u){return V.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=Wve(e.label,n||o);return[a].concat(Nve(s))};Ft.parseViewBox=EV;Ft.renderCallByParent=Kve;function Yve(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Jve=Yve;const TV=ze(Jve);function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}var Xve=["valueAccessor"],Qve=["data","dataKey","clockWise","id","textBreakAll"];function Zve(t){return r0e(t)||n0e(t)||t0e(t)||e0e()}function e0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t0e(t,e){if(t){if(typeof t=="string")return eb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eb(t,e)}}function n0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function r0e(t){if(Array.isArray(t))return eb(t)}function eb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jm(){return jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jm.apply(this,arguments)}function PN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PN(Object(n),!0).forEach(function(r){i0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i0e(t,e,n){return e=o0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o0e(t){var e=s0e(t,"string");return Ld(e)=="symbol"?e:e+""}function s0e(t,e){if(Ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NN(t,e){if(t==null)return{};var n=a0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function a0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var l0e=function(e){return Array.isArray(e.value)?TV(e.value):e.value};function Or(t){var e=t.valueAccessor,n=e===void 0?l0e:e,r=NN(t,Xve),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=NN(r,Qve);return!i||!i.length?null:$.createElement(Ce,{className:"recharts-label-list"},i.map(function(c,d){var f=be(o)?n(c,d):mt(c&&c.payload,o),y=be(a)?{}:{id:"".concat(a,"-").concat(d)};return $.createElement(Ft,jm({},fe(c,!0),u,y,{parentViewBox:c.parentViewBox,value:f,textBreakAll:l,viewBox:Ft.parseViewBox(be(s)?c:kN(kN({},c),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}Or.displayName="LabelList";function u0e(t,e){return t?t===!0?$.createElement(Or,{key:"labelList-implicit",data:e}):$.isValidElement(t)||ge(t)?$.createElement(Or,{key:"labelList-implicit",data:e,content:t}):fu(t)?$.createElement(Or,jm({data:e},t,{key:"labelList-implicit"})):null:null}function c0e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Kn(r,Or).map(function(s,a){return V.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=u0e(t.label,e);return[o].concat(Zve(i))}Or.renderCallByParent=c0e;function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}function tb(){return tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tb.apply(this,arguments)}function RN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ON(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RN(Object(n),!0).forEach(function(r){d0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d0e(t,e,n){return e=f0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f0e(t){var e=h0e(t,"string");return $d(e)=="symbol"?e:e+""}function h0e(t,e){if($d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var p0e=function(e,n){var r=bn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Lh=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+i,d=Math.asin(l/c)/$m,f=u?o:o+s*d,y=Ge(n,r,c,f),x=Ge(n,r,i,f),_=u?o-s*d:o,b=Ge(n,r,c*Math.cos(d*$m),_);return{center:y,circleTangency:x,lineTangency:b,theta:d}},SV=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=p0e(s,a),u=s+l,c=Ge(n,r,o,s),d=Ge(n,r,o,u),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var y=Ge(n,r,i,s),x=Ge(n,r,i,u);f+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},m0e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,d=bn(c-u),f=Lh({cx:n,cy:r,radius:o,angle:u,sign:d,cornerRadius:s,cornerIsExternal:l}),y=f.circleTangency,x=f.lineTangency,_=f.theta,b=Lh({cx:n,cy:r,radius:o,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:l}),T=b.circleTangency,w=b.lineTangency,A=b.theta,N=l?Math.abs(u-c):Math.abs(u-c)-_-A;if(N<0)return a?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):SV({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var E="M ".concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(N>180),",").concat(+(d<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var I=Lh({cx:n,cy:r,radius:i,angle:u,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),v=I.circleTangency,S=I.lineTangency,P=I.theta,k=Lh({cx:n,cy:r,radius:i,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),O=k.circleTangency,M=k.lineTangency,D=k.theta,U=l?Math.abs(u-c):Math.abs(u-c)-P-D;if(U<0&&s===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(d>0),",").concat(v.x,",").concat(v.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},g0e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},AV=function(e){var n=ON(ON({},g0e),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,d=n.endAngle,f=n.className;if(s<o||c===d)return null;var y=we("recharts-sector",f),x=s-o,_=wn(a,x,0,!0),b;return _>0&&Math.abs(c-d)<360?b=m0e({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(_,x/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:d}):b=SV({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:d}),$.createElement("path",tb({},fe(n,!0),{className:y,d:b,role:"img"}))};function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function nb(){return nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nb.apply(this,arguments)}function MN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MN(Object(n),!0).forEach(function(r){y0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y0e(t,e,n){return e=v0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v0e(t){var e=x0e(t,"string");return jd(e)=="symbol"?e:e+""}function x0e(t,e){if(jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LN={curveBasisClosed:xie,curveBasisOpen:_ie,curveBasis:vie,curveBumpX:iie,curveBumpY:oie,curveLinearClosed:bie,curveLinear:wy,curveMonotoneX:wie,curveMonotoneY:Eie,curveNatural:Tie,curveStep:Sie,curveStepAfter:Iie,curveStepBefore:Aie},$h=function(e){return e.x===+e.x&&e.y===+e.y},oc=function(e){return e.x},sc=function(e){return e.y},_0e=function(e,n){if(ge(e))return e;var r="curve".concat(_y(e));return(r==="curveMonotone"||r==="curveBump")&&n?LN["".concat(r).concat(n==="vertical"?"Y":"X")]:LN[r]||wy},b0e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=_0e(r,a),d=u?o.filter(function(_){return $h(_)}):o,f;if(Array.isArray(s)){var y=u?s.filter(function(_){return $h(_)}):s,x=d.map(function(_,b){return DN(DN({},_),{},{base:y[b]})});return a==="vertical"?f=Ih().y(sc).x1(oc).x0(function(_){return _.base.x}):f=Ih().x(oc).y1(sc).y0(function(_){return _.base.y}),f.defined($h).curve(c),f(x)}return a==="vertical"&&te(s)?f=Ih().y(sc).x1(oc).x0(s):te(s)?f=Ih().x(oc).y1(sc).y0(s):f=xj().x(oc).y(sc),f.defined($h).curve(c),f(d)},ks=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?b0e(e):i;return V.createElement("path",nb({},fe(e,!1),am(e),{className:we("recharts-curve",n),d:s,ref:o}))},IV={exports:{}},w0e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",E0e=w0e,T0e=E0e;function CV(){}function PV(){}PV.resetWarningCache=CV;var S0e=function(){function t(r,i,o,s,a,l){if(l!==T0e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:PV,resetWarningCache:CV};return n.PropTypes=n,n};IV.exports=S0e();var A0e=IV.exports;const qe=ze(A0e),{getOwnPropertyNames:I0e,getOwnPropertySymbols:C0e}=Object,{hasOwnProperty:P0e}=Object.prototype;function v0(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function jh(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function k0e(t){return t!=null?t[Symbol.toStringTag]:void 0}function $N(t){return I0e(t).concat(C0e(t))}const N0e=Object.hasOwn||((t,e)=>P0e.call(t,e));function aa(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const R0e="__v",O0e="__o",M0e="_owner",{getOwnPropertyDescriptor:jN,keys:VN}=Object;function D0e(t,e){return t.byteLength===e.byteLength&&Vm(new Uint8Array(t),new Uint8Array(e))}function L0e(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function $0e(t,e){return t.byteLength===e.byteLength&&Vm(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function j0e(t,e){return aa(t.getTime(),e.getTime())}function V0e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function F0e(t,e){return t===e}function FN(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,a,l=0;for(;(s=o.next())&&!s.done;){const u=e.entries();let c=!1,d=0;for(;(a=u.next())&&!a.done;){if(i[d]){d++;continue}const f=s.value,y=a.value;if(n.equals(f[0],y[0],l,d,t,e,n)&&n.equals(f[1],y[1],f[0],y[0],t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1;l++}return!0}const U0e=aa;function B0e(t,e,n){const r=VN(t);let i=r.length;if(VN(e).length!==i)return!1;for(;i-- >0;)if(!kV(t,e,n,r[i]))return!1;return!0}function ac(t,e,n){const r=$N(t);let i=r.length;if($N(e).length!==i)return!1;let o,s,a;for(;i-- >0;)if(o=r[i],!kV(t,e,n,o)||(s=jN(t,o),a=jN(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function G0e(t,e){return aa(t.valueOf(),e.valueOf())}function q0e(t,e){return t.source===e.source&&t.flags===e.flags}function UN(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,a;for(;(s=o.next())&&!s.done;){const l=e.values();let u=!1,c=0;for(;(a=l.next())&&!a.done;){if(!i[c]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function Vm(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function H0e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function kV(t,e,n,r){return(r===M0e||r===O0e||r===R0e)&&(t.$$typeof||e.$$typeof)?!0:N0e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const z0e="[object ArrayBuffer]",W0e="[object Arguments]",K0e="[object Boolean]",Y0e="[object DataView]",J0e="[object Date]",X0e="[object Error]",Q0e="[object Map]",Z0e="[object Number]",exe="[object Object]",txe="[object RegExp]",nxe="[object Set]",rxe="[object String]",ixe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},oxe="[object URL]",sxe=Object.prototype.toString;function axe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:d,areTypedArraysEqual:f,areUrlsEqual:y,unknownTagComparators:x}){return function(b,T,w){if(b===T)return!0;if(b==null||T==null)return!1;const A=typeof b;if(A!==typeof T)return!1;if(A!=="object")return A==="number"?a(b,T,w):A==="function"?o(b,T,w):!1;const N=b.constructor;if(N!==T.constructor)return!1;if(N===Object)return l(b,T,w);if(Array.isArray(b))return e(b,T,w);if(N===Date)return r(b,T,w);if(N===RegExp)return c(b,T,w);if(N===Map)return s(b,T,w);if(N===Set)return d(b,T,w);const E=sxe.call(b);if(E===J0e)return r(b,T,w);if(E===txe)return c(b,T,w);if(E===Q0e)return s(b,T,w);if(E===nxe)return d(b,T,w);if(E===exe)return typeof b.then!="function"&&typeof T.then!="function"&&l(b,T,w);if(E===oxe)return y(b,T,w);if(E===X0e)return i(b,T,w);if(E===W0e)return l(b,T,w);if(ixe[E])return f(b,T,w);if(E===z0e)return t(b,T,w);if(E===Y0e)return n(b,T,w);if(E===K0e||E===Z0e||E===rxe)return u(b,T,w);if(x){let I=x[E];if(!I){const v=k0e(b);v&&(I=x[v])}if(I)return I(b,T,w)}return!1}}function lxe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:D0e,areArraysEqual:n?ac:L0e,areDataViewsEqual:$0e,areDatesEqual:j0e,areErrorsEqual:V0e,areFunctionsEqual:F0e,areMapsEqual:n?v0(FN,ac):FN,areNumbersEqual:U0e,areObjectsEqual:n?ac:B0e,arePrimitiveWrappersEqual:G0e,areRegExpsEqual:q0e,areSetsEqual:n?v0(UN,ac):UN,areTypedArraysEqual:n?v0(Vm,ac):Vm,areUrlsEqual:H0e,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=jh(r.areArraysEqual),o=jh(r.areMapsEqual),s=jh(r.areObjectsEqual),a=jh(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:a})}return r}function uxe(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function cxe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(a,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(a,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(a,l){return e(a,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(a,l){return e(a,l,o)}}const dxe=Jo();Jo({strict:!0});Jo({circular:!0});Jo({circular:!0,strict:!0});Jo({createInternalComparator:()=>aa});Jo({strict:!0,createInternalComparator:()=>aa});Jo({circular:!0,createInternalComparator:()=>aa});Jo({circular:!0,createInternalComparator:()=>aa,strict:!0});function Jo(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=lxe(t),s=axe(o),a=n?n(s):uxe(s);return cxe({circular:e,comparator:s,createState:r,equals:a,strict:i})}function fxe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function BN(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):fxe(i)};requestAnimationFrame(r)}function rb(t){"@babel/helpers - typeof";return rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rb(t)}function hxe(t){return yxe(t)||gxe(t)||mxe(t)||pxe()}function pxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mxe(t,e){if(t){if(typeof t=="string")return GN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GN(t,e)}}function GN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yxe(t){if(Array.isArray(t))return t}function vxe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=hxe(s),l=a[0],u=a.slice(1);if(typeof l=="number"){BN(i.bind(null,u),l);return}i(l),BN(i.bind(null,u));return}rb(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function qN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qN(Object(n),!0).forEach(function(r){NV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NV(t,e,n){return e=xxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xxe(t){var e=_xe(t,"string");return Vd(e)==="symbol"?e:String(e)}function _xe(t,e){if(Vd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bxe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},wxe=function(e){return e},Exe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},jc=function(e,n){return Object.keys(n).reduce(function(r,i){return HN(HN({},r),{},NV({},i,e(i,n[i])))},{})},zN=function(e,n,r){return e.map(function(i){return"".concat(Exe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Txe(t,e){return Ixe(t)||Axe(t,e)||RV(t,e)||Sxe()}function Sxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Axe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Ixe(t){if(Array.isArray(t))return t}function Cxe(t){return Nxe(t)||kxe(t)||RV(t)||Pxe()}function Pxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RV(t,e){if(t){if(typeof t=="string")return ib(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ib(t,e)}}function kxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nxe(t){if(Array.isArray(t))return ib(t)}function ib(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Fm=1e-4,OV=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},MV=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},WN=function(e,n){return function(r){var i=OV(e,n);return MV(i,r)}},Rxe=function(e,n){return function(r){var i=OV(e,n),o=[].concat(Cxe(i.map(function(s,a){return s*a}).slice(1)),[0]);return MV(o,r)}},KN=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),c=Txe(u,4);i=c[0],o=c[1],s=c[2],a=c[3]}}}var d=WN(i,s),f=WN(o,a),y=Rxe(i,s),x=function(T){return T>1?1:T<0?0:T},_=function(T){for(var w=T>1?1:T,A=w,N=0;N<8;++N){var E=d(A)-w,I=y(A);if(Math.abs(E-w)<Fm||I<Fm)return f(A);A=x(A-E/I)}return f(A)};return _.isStepper=!1,_},Oxe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(c,d,f){var y=-(c-d)*r,x=f*o,_=f+(y-x)*a/1e3,b=f*a/1e3+c;return Math.abs(b-d)<Fm&&Math.abs(_)<Fm?[d,0]:[b,_]};return l.isStepper=!0,l.dt=a,l},Mxe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return KN(i);case"spring":return Oxe();default:if(i.split("(")[0]==="cubic-bezier")return KN(i)}return typeof i=="function"?i:null};function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function YN(t){return $xe(t)||Lxe(t)||DV(t)||Dxe()}function Dxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $xe(t){if(Array.isArray(t))return sb(t)}function JN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(n),!0).forEach(function(r){ob(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ob(t,e,n){return e=jxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jxe(t){var e=Vxe(t,"string");return Fd(e)==="symbol"?e:String(e)}function Vxe(t,e){if(Fd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fxe(t,e){return Gxe(t)||Bxe(t,e)||DV(t,e)||Uxe()}function Uxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DV(t,e){if(t){if(typeof t=="string")return sb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sb(t,e)}}function sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Gxe(t){if(Array.isArray(t))return t}var Um=function(e,n,r){return e+(n-e)*r},ab=function(e){var n=e.from,r=e.to;return n!==r},qxe=function t(e,n,r){var i=jc(function(o,s){if(ab(s)){var a=e(s.from,s.to,s.velocity),l=Fxe(a,2),u=l[0],c=l[1];return Ht(Ht({},s),{},{from:u,velocity:c})}return s},n);return r<1?jc(function(o,s){return ab(s)?Ht(Ht({},s),{},{velocity:Um(s.velocity,i[o].velocity,r),from:Um(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const Hxe=function(t,e,n,r,i){var o=bxe(t,e),s=o.reduce(function(b,T){return Ht(Ht({},b),{},ob({},T,[t[T],e[T]]))},{}),a=o.reduce(function(b,T){return Ht(Ht({},b),{},ob({},T,{from:t[T],velocity:0,to:e[T]}))},{}),l=-1,u,c,d=function(){return null},f=function(){return jc(function(T,w){return w.from},a)},y=function(){return!Object.values(a).filter(ab).length},x=function(T){u||(u=T);var w=T-u,A=w/n.dt;a=qxe(n,a,A),i(Ht(Ht(Ht({},t),e),f())),u=T,y()||(l=requestAnimationFrame(d))},_=function(T){c||(c=T);var w=(T-c)/r,A=jc(function(E,I){return Um.apply(void 0,YN(I).concat([n(w)]))},s);if(i(Ht(Ht(Ht({},t),e),A)),w<1)l=requestAnimationFrame(d);else{var N=jc(function(E,I){return Um.apply(void 0,YN(I).concat([n(1)]))},s);i(Ht(Ht(Ht({},t),e),N))}};return d=n.isStepper?x:_,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}var zxe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Wxe(t,e){if(t==null)return{};var n=Kxe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kxe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function x0(t){return Qxe(t)||Xxe(t)||Jxe(t)||Yxe()}function Yxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jxe(t,e){if(t){if(typeof t=="string")return lb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lb(t,e)}}function Xxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qxe(t){if(Array.isArray(t))return lb(t)}function lb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XN(Object(n),!0).forEach(function(r){_c(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _c(t,e,n){return e=LV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e_e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LV(r.key),r)}}function t_e(t,e,n){return e&&e_e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LV(t){var e=n_e(t,"string");return Nl(e)==="symbol"?e:String(e)}function n_e(t,e){if(Nl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ub(t,e)}function ub(t,e){return ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ub(t,e)}function i_e(t){var e=o_e();return function(){var r=Bm(t),i;if(e){var o=Bm(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return cb(this,i)}}function cb(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return db(t)}function db(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o_e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bm(t)}var pr=function(t){r_e(n,t);var e=i_e(n);function n(r,i){var o;Zxe(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,c=s.to,d=s.steps,f=s.children,y=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(db(o)),o.changeStyle=o.changeStyle.bind(db(o)),!a||y<=0)return o.state={style:{}},typeof f=="function"&&(o.state={style:c}),cb(o);if(d&&d.length)o.state={style:d[0].style};else if(u){if(typeof f=="function")return o.state={style:u},cb(o);o.state={style:l?_c({},l,u):u}}else o.state={style:{}};return o}return t_e(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,d=o.from,f=this.state.style;if(a){if(!s){var y={style:l?_c({},l,c):c};this.state&&f&&(l&&f[l]!==c||!l&&f!==c)&&this.setState(y);return}if(!(dxe(i.to,c)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var _=x||u?d:i.to;if(this.state&&f){var b={style:l?_c({},l,_):_};(l&&f[l]!==_||!l&&f!==_)&&this.setState(b)}this.runAnimation(xr(xr({},this.props),{},{from:_,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,c=i.begin,d=i.onAnimationEnd,f=i.onAnimationStart,y=Hxe(s,a,Mxe(u),l,this.changeStyle),x=function(){o.stopJSAnimation=y()};this.manager.start([f,c,x,l,d])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,d=u.duration,f=d===void 0?0:d,y=function(_,b,T){if(T===0)return _;var w=b.duration,A=b.easing,N=A===void 0?"ease":A,E=b.style,I=b.properties,v=b.onAnimationEnd,S=T>0?s[T-1]:b,P=I||Object.keys(E);if(typeof N=="function"||N==="spring")return[].concat(x0(_),[o.runJSAnimation.bind(o,{from:S.style,to:E,duration:w,easing:N}),w]);var k=zN(P,w,N),O=xr(xr(xr({},S.style),E),{},{transition:k});return[].concat(x0(_),[O,w,v]).filter(wxe)};return this.manager.start([l].concat(x0(s.reduce(y,[c,Math.max(f,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=vxe());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,d=i.onAnimationEnd,f=i.steps,y=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof y=="function"||u==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var _=a?_c({},a,l):l,b=zN(Object.keys(_),s,u);x.start([c,o,xr(xr({},_),{},{transition:b}),s,d])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Wxe(i,zxe),u=V.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!a||u===0||s<=0)return o;var d=function(y){var x=y.props,_=x.style,b=_===void 0?{}:_,T=x.className,w=V.cloneElement(y,xr(xr({},l),{},{style:xr(xr({},b),c),className:T}));return w};return u===1?d(V.Children.only(o)):$.createElement("div",null,V.Children.map(o,function(f){return d(f)}))}}]),n}(V.PureComponent);pr.displayName="Animate";pr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};pr.propTypes={from:qe.oneOfType([qe.object,qe.string]),to:qe.oneOfType([qe.object,qe.string]),attributeName:qe.string,duration:qe.number,begin:qe.number,easing:qe.oneOfType([qe.string,qe.func]),steps:qe.arrayOf(qe.shape({duration:qe.number.isRequired,style:qe.object.isRequired,easing:qe.oneOfType([qe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),qe.func]),properties:qe.arrayOf("string"),onAnimationEnd:qe.func})),children:qe.oneOfType([qe.node,qe.func]),isActive:qe.bool,canBegin:qe.bool,onAnimationEnd:qe.func,shouldReAnimate:qe.bool,onAnimationStart:qe.func,onAnimationReStart:qe.func};function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function Gm(){return Gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gm.apply(this,arguments)}function s_e(t,e){return c_e(t)||u_e(t,e)||l_e(t,e)||a_e()}function a_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l_e(t,e){if(t){if(typeof t=="string")return QN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QN(t,e)}}function QN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function c_e(t){if(Array.isArray(t))return t}function ZN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(n),!0).forEach(function(r){d_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d_e(t,e,n){return e=f_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f_e(t){var e=h_e(t,"string");return Ud(e)=="symbol"?e:e+""}function h_e(t,e){if(Ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tR=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&o instanceof Array){for(var d=[0,0,0,0],f=0,y=4;f<y;f++)d[f]=o[f]>s?s:o[f];c="M".concat(e,",").concat(n+a*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+l*d[0],",").concat(n)),c+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*d[1])),c+="L ".concat(e+r,",").concat(n+i-a*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),c+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*d[3])),c+="Z"}else if(s>0&&o===+o&&o>0){var x=Math.min(s,o);c="M ".concat(e,",").concat(n+a*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+l*x,",").concat(n,`
            L `).concat(e+r-l*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*x,`
            L `).concat(e+r,",").concat(n+i-a*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e+r-l*x,",").concat(n+i,`
            L `).concat(e+l*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*x," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},p_e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),c=Math.max(o,o+a),d=Math.min(s,s+l),f=Math.max(s,s+l);return r>=u&&r<=c&&i>=d&&i<=f}return!1},m_e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jT=function(e){var n=eR(eR({},m_e),e),r=V.useRef(),i=V.useState(-1),o=s_e(i,2),s=o[0],a=o[1];V.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&a(N)}catch{}},[]);var l=n.x,u=n.y,c=n.width,d=n.height,f=n.radius,y=n.className,x=n.animationEasing,_=n.animationDuration,b=n.animationBegin,T=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||c===0||d===0)return null;var A=we("recharts-rectangle",y);return w?$.createElement(pr,{canBegin:s>0,from:{width:c,height:d,x:l,y:u},to:{width:c,height:d,x:l,y:u},duration:_,animationEasing:x,isActive:w},function(N){var E=N.width,I=N.height,v=N.x,S=N.y;return $.createElement(pr,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:_,isActive:T,easing:x},$.createElement("path",Gm({},fe(n,!0),{className:A,d:tR(v,S,E,I,f),ref:r})))}):$.createElement("path",Gm({},fe(n,!0),{className:A,d:tR(l,u,c,d,f)}))},g_e=["points","className","baseLinePoints","connectNulls"];function Fa(){return Fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fa.apply(this,arguments)}function y_e(t,e){if(t==null)return{};var n=v_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function v_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nR(t){return w_e(t)||b_e(t)||__e(t)||x_e()}function x_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function __e(t,e){if(t){if(typeof t=="string")return fb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fb(t,e)}}function b_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function w_e(t){if(Array.isArray(t))return fb(t)}function fb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rR=function(e){return e&&e.x===+e.x&&e.y===+e.y},E_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){rR(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),rR(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Vc=function(e,n){var r=E_e(e);n&&(r=[r.reduce(function(o,s){return[].concat(nR(o),nR(s))},[])]);var i=r.map(function(o){return o.reduce(function(s,a,l){return"".concat(s).concat(l===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},T_e=function(e,n,r){var i=Vc(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Vc(n.reverse(),r).slice(1))},$V=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,s=y_e(e,g_e);if(!n||!n.length)return null;var a=we("recharts-polygon",r);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",u=T_e(n,i,o);return $.createElement("g",{className:a},$.createElement("path",Fa({},fe(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),l?$.createElement("path",Fa({},fe(s,!0),{fill:"none",d:Vc(n,o)})):null,l?$.createElement("path",Fa({},fe(s,!0),{fill:"none",d:Vc(i,o)})):null)}var c=Vc(n,o);return $.createElement("path",Fa({},fe(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",className:a,d:c}))};function hb(){return hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hb.apply(this,arguments)}var Tu=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=we("recharts-dot",o);return n===+n&&r===+r&&i===+i?V.createElement("circle",hb({},fe(e,!1),am(e),{className:s,cx:n,cy:r,r:i})):null};function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}var S_e=["x","y","top","left","width","height","className"];function pb(){return pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pb.apply(this,arguments)}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){I_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I_e(t,e,n){return e=C_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C_e(t){var e=P_e(t,"string");return Bd(e)=="symbol"?e:e+""}function P_e(t,e){if(Bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k_e(t,e){if(t==null)return{};var n=N_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function N_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var R_e=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},O_e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,d=c===void 0?0:c,f=e.height,y=f===void 0?0:f,x=e.className,_=k_e(e,S_e),b=A_e({x:r,y:o,top:a,left:u,width:d,height:y},_);return!te(r)||!te(o)||!te(d)||!te(y)||!te(a)||!te(u)?null:$.createElement("path",pb({},fe(b,!0),{className:we("recharts-cross",x),d:R_e(r,o,d,y,a,u)}))},M_e=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function D_e(t,e){if(t==null)return{};var n=L_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function L_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vi(){return Vi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vi.apply(this,arguments)}function oR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(n),!0).forEach(function(r){$_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $_e(t,e,n){return e=j_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j_e(t){var e=V_e(t,"string");return Gd(e)=="symbol"?e:e+""}function V_e(t,e){if(Gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F_e=function(e,n,r,i){var o="";return i.forEach(function(s,a){var l=Ge(n,r,e,s);a?o+="L ".concat(l.x,",").concat(l.y):o+="M ".concat(l.x,",").concat(l.y)}),o+="Z",o},U_e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.polarAngles,a=e.radialLines;if(!s||!s.length||!a)return null;var l=qd({stroke:"#ccc"},fe(e,!1));return $.createElement("g",{className:"recharts-polar-grid-angle"},s.map(function(u){var c=Ge(n,r,i,u),d=Ge(n,r,o,u);return $.createElement("line",Vi({},l,{key:"line-".concat(u),x1:c.x,y1:c.y,x2:d.x,y2:d.y}))}))},B_e=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.index,s=qd(qd({stroke:"#ccc"},fe(e,!1)),{},{fill:"none"});return $.createElement("circle",Vi({},s,{className:we("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(o),cx:n,cy:r,r:i}))},G_e=function(e){var n=e.radius,r=e.index,i=qd(qd({stroke:"#ccc"},fe(e,!1)),{},{fill:"none"});return $.createElement("path",Vi({},i,{className:we("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:F_e(n,e.cx,e.cy,e.polarAngles)}))},q_e=function(e){var n=e.polarRadius,r=e.gridType;return!n||!n.length?null:$.createElement("g",{className:"recharts-polar-grid-concentric"},n.map(function(i,o){var s=o;return r==="circle"?$.createElement(B_e,Vi({key:s},e,{radius:i,index:o})):$.createElement(G_e,Vi({key:s},e,{radius:i,index:o}))}))},jV=function(e){var n=e.cx,r=n===void 0?0:n,i=e.cy,o=i===void 0?0:i,s=e.innerRadius,a=s===void 0?0:s,l=e.outerRadius,u=l===void 0?0:l,c=e.gridType,d=c===void 0?"polygon":c,f=e.radialLines,y=f===void 0?!0:f,x=D_e(e,M_e);return u<=0?null:$.createElement("g",{className:"recharts-polar-grid"},$.createElement(U_e,Vi({cx:r,cy:o,innerRadius:a,outerRadius:u,gridType:d,radialLines:y},x)),$.createElement(q_e,Vi({cx:r,cy:o,innerRadius:a,outerRadius:u,gridType:d,radialLines:y},x)))};jV.displayName="PolarGrid";var H_e=Oy,z_e=z4,W_e=ri;function K_e(t,e){return t&&t.length?H_e(t,W_e(e),z_e):void 0}var Y_e=K_e;const J_e=ze(Y_e);var X_e=Oy,Q_e=ri,Z_e=W4;function ebe(t,e){return t&&t.length?X_e(t,Q_e(e),Z_e):void 0}var tbe=ebe;const nbe=ze(tbe);var rbe=["cx","cy","angle","ticks","axisLine"],ibe=["ticks","tick","angle","tickFormatter","stroke"];function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function Fc(){return Fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fc.apply(this,arguments)}function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){$y(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aR(t,e){if(t==null)return{};var n=obe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function obe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FV(r.key),r)}}function abe(t,e,n){return e&&lR(t.prototype,e),n&&lR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lbe(t,e,n){return e=qm(e),ube(t,VV()?Reflect.construct(e,n||[],qm(t).constructor):e.apply(t,n))}function ube(t,e){if(e&&(Rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cbe(t)}function cbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VV=function(){return!!t})()}function qm(t){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qm(t)}function dbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mb(t,e)}function mb(t,e){return mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mb(t,e)}function $y(t,e,n){return e=FV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FV(t){var e=fbe(t,"string");return Rl(e)=="symbol"?e:e+""}function fbe(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Su=function(t){function e(){return sbe(this,e),lbe(this,e,arguments)}return dbe(e,t),abe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,s=o.angle,a=o.cx,l=o.cy;return Ge(a,l,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,l=J_e(a,function(c){return c.coordinate||0}),u=nbe(a,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,l=r.axisLine,u=aR(r,rbe),c=a.reduce(function(x,_){return[Math.min(x[0],_.coordinate),Math.max(x[1],_.coordinate)]},[1/0,-1/0]),d=Ge(i,o,c[0],s),f=Ge(i,o,c[1],s),y=is(is(is({},fe(u,!1)),{},{fill:"none"},fe(l,!1)),{},{x1:d.x,y1:d.y,x2:f.x,y2:f.y});return $.createElement("line",Fc({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.angle,l=i.tickFormatter,u=i.stroke,c=aR(i,ibe),d=this.getTickTextAnchor(),f=fe(c,!1),y=fe(s,!1),x=o.map(function(_,b){var T=r.getTickValueCoord(_),w=is(is(is(is({textAnchor:d,transform:"rotate(".concat(90-a,", ").concat(T.x,", ").concat(T.y,")")},f),{},{stroke:"none",fill:u},y),{},{index:b},T),{},{payload:_});return $.createElement(Ce,Fc({className:we("recharts-polar-radius-axis-tick",wV(s)),key:"tick-".concat(_.coordinate)},Hs(r.props,_,b)),e.renderTickItem(s,w,l?l(_.value,b):_.value))});return $.createElement(Ce,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,s=r.tick;return!i||!i.length?null:$.createElement(Ce,{className:we("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),Ft.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var s;return $.isValidElement(r)?s=$.cloneElement(r,i):ge(r)?s=r(i):s=$.createElement(zs,Fc({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])}(V.PureComponent);$y(Su,"displayName","PolarRadiusAxis");$y(Su,"axisType","radiusAxis");$y(Su,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function hs(){return hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hs.apply(this,arguments)}function uR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function os(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uR(Object(n),!0).forEach(function(r){jy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BV(r.key),r)}}function pbe(t,e,n){return e&&cR(t.prototype,e),n&&cR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mbe(t,e,n){return e=Hm(e),gbe(t,UV()?Reflect.construct(e,n||[],Hm(t).constructor):e.apply(t,n))}function gbe(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ybe(t)}function ybe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UV=function(){return!!t})()}function Hm(t){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hm(t)}function vbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gb(t,e)}function gb(t,e){return gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gb(t,e)}function jy(t,e,n){return e=BV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BV(t){var e=xbe(t,"string");return Ol(e)=="symbol"?e:e+""}function xbe(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _be=Math.PI/180,dR=1e-5,Au=function(t){function e(){return hbe(this,e),mbe(this,e,arguments)}return vbe(e,t),pbe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,s=i.cy,a=i.radius,l=i.orientation,u=i.tickSize,c=u||8,d=Ge(o,s,a,r.coordinate),f=Ge(o,s,a+(l==="inner"?-1:1)*c,r.coordinate);return{x1:d.x,y1:d.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*_be),s;return o>dR?s=i==="outer"?"start":"end":o<-dR?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.radius,a=r.axisLine,l=r.axisLineType,u=os(os({},fe(this.props,!1)),{},{fill:"none"},fe(a,!1));if(l==="circle")return $.createElement(Tu,hs({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:s}));var c=this.props.ticks,d=c.map(function(f){return Ge(i,o,s,f.coordinate)});return $.createElement($V,hs({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.tickLine,l=i.tickFormatter,u=i.stroke,c=fe(this.props,!1),d=fe(s,!1),f=os(os({},c),{},{fill:"none"},fe(a,!1)),y=o.map(function(x,_){var b=r.getTickLineCoord(x),T=r.getTickTextAnchor(x),w=os(os(os({textAnchor:T},c),{},{stroke:"none",fill:u},d),{},{index:_,payload:x,x:b.x2,y:b.y2});return $.createElement(Ce,hs({className:we("recharts-polar-angle-axis-tick",wV(s)),key:"tick-".concat(x.coordinate)},Hs(r.props,x,_)),a&&$.createElement("line",hs({className:"recharts-polar-angle-axis-tick-line"},f,b)),s&&e.renderTickItem(s,w,l?l(x.value,_):x.value))});return $.createElement(Ce,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,s=r.axisLine;return o<=0||!i||!i.length?null:$.createElement(Ce,{className:we("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var s;return $.isValidElement(r)?s=$.cloneElement(r,i):ge(r)?s=r(i):s=$.createElement(zs,hs({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])}(V.PureComponent);jy(Au,"displayName","PolarAngleAxis");jy(Au,"axisType","angleAxis");jy(Au,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var bbe=Gj,wbe=bbe(Object.getPrototypeOf,Object),Ebe=wbe,Tbe=qi,Sbe=Ebe,Abe=Hi,Ibe="[object Object]",Cbe=Function.prototype,Pbe=Object.prototype,GV=Cbe.toString,kbe=Pbe.hasOwnProperty,Nbe=GV.call(Object);function Rbe(t){if(!Abe(t)||Tbe(t)!=Ibe)return!1;var e=Sbe(t);if(e===null)return!0;var n=kbe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&GV.call(n)==Nbe}var Obe=Rbe;const Mbe=ze(Obe);var Dbe=qi,Lbe=Hi,$be="[object Boolean]";function jbe(t){return t===!0||t===!1||Lbe(t)&&Dbe(t)==$be}var Vbe=jbe;const Fbe=ze(Vbe);function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function zm(){return zm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zm.apply(this,arguments)}function Ube(t,e){return Hbe(t)||qbe(t,e)||Gbe(t,e)||Bbe()}function Bbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gbe(t,e){if(t){if(typeof t=="string")return fR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fR(t,e)}}function fR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Hbe(t){if(Array.isArray(t))return t}function hR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(n),!0).forEach(function(r){zbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zbe(t,e,n){return e=Wbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wbe(t){var e=Kbe(t,"string");return Hd(e)=="symbol"?e:e+""}function Kbe(t,e){if(Hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mR=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},Ybe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jbe=function(e){var n=pR(pR({},Ybe),e),r=V.useRef(),i=V.useState(-1),o=Ube(i,2),s=o[0],a=o[1];V.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&a(A)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,d=n.lowerWidth,f=n.height,y=n.className,x=n.animationEasing,_=n.animationDuration,b=n.animationBegin,T=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||d!==+d||f!==+f||c===0&&d===0||f===0)return null;var w=we("recharts-trapezoid",y);return T?$.createElement(pr,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:u},to:{upperWidth:c,lowerWidth:d,height:f,x:l,y:u},duration:_,animationEasing:x,isActive:T},function(A){var N=A.upperWidth,E=A.lowerWidth,I=A.height,v=A.x,S=A.y;return $.createElement(pr,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:_,easing:x},$.createElement("path",zm({},fe(n,!0),{className:w,d:mR(v,S,N,E,I),ref:r})))}):$.createElement("g",null,$.createElement("path",zm({},fe(n,!0),{className:w,d:mR(l,u,c,d,f)})))},Xbe=["option","shapeType","propTransformer","activeClassName","isActive"];function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function Qbe(t,e){if(t==null)return{};var n=Zbe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){ewe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ewe(t,e,n){return e=twe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function twe(t){var e=nwe(t,"string");return zd(e)=="symbol"?e:e+""}function nwe(t,e){if(zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rwe(t,e){return Wm(Wm({},e),t)}function iwe(t,e){return t==="symbols"}function yR(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return $.createElement(jT,n);case"trapezoid":return $.createElement(Jbe,n);case"sector":return $.createElement(AV,n);case"symbols":if(iwe(e))return $.createElement(rT,n);break;default:return null}}function owe(t){return V.isValidElement(t)?t.props:t}function qV(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?rwe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=Qbe(t,Xbe),u;if(V.isValidElement(e))u=V.cloneElement(e,Wm(Wm({},l),owe(e)));else if(ge(e))u=e(l);else if(Mbe(e)&&!Fbe(e)){var c=i(e,l);u=$.createElement(yR,{shapeType:n,elementProps:c})}else{var d=l;u=$.createElement(yR,{shapeType:n,elementProps:d})}return a?$.createElement(Ce,{className:s},u):u}function Vy(t,e){return e!=null&&"trapezoids"in t.props}function Fy(t,e){return e!=null&&"sectors"in t.props}function Wd(t,e){return e!=null&&"points"in t.props}function swe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function awe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function lwe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function uwe(t,e){var n;return Vy(t,e)?n=swe:Fy(t,e)?n=awe:Wd(t,e)&&(n=lwe),n}function cwe(t,e){var n;return Vy(t,e)?n="trapezoids":Fy(t,e)?n="sectors":Wd(t,e)&&(n="points"),n}function dwe(t,e){if(Vy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Fy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Wd(t,e)?e.payload:{}}function fwe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=cwe(n,e),o=dwe(n,e),s=r.filter(function(l,u){var c=jo(o,l),d=n.props[i].filter(function(x){var _=uwe(n,e);return _(x,e)}),f=n.props[i].indexOf(d[d.length-1]),y=u===f;return c&&y}),a=r.indexOf(s[s.length-1]);return a}var cp;function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function Ua(){return Ua=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ua.apply(this,arguments)}function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){rr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zV(r.key),r)}}function pwe(t,e,n){return e&&xR(t.prototype,e),n&&xR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mwe(t,e,n){return e=Km(e),gwe(t,HV()?Reflect.construct(e,n||[],Km(t).constructor):e.apply(t,n))}function gwe(t,e){if(e&&(Ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ywe(t)}function ywe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HV=function(){return!!t})()}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Km(t)}function vwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yb(t,e)}function yb(t,e){return yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yb(t,e)}function rr(t,e,n){return e=zV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zV(t){var e=xwe(t,"string");return Ml(e)=="symbol"?e:e+""}function xwe(t,e){if(Ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ki=function(t){function e(n){var r;return hwe(this,e),r=mwe(this,e,[n]),rr(r,"pieRef",null),rr(r,"sectorRefs",[]),rr(r,"id",ia("recharts-pie-")),rr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ge(i)&&i()}),rr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ge(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return vwe(e,t),pwe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,a=o.labelLine,l=o.dataKey,u=o.valueKey,c=fe(this.props,!1),d=fe(s,!1),f=fe(a,!1),y=s&&s.offsetRadius||20,x=r.map(function(_,b){var T=(_.startAngle+_.endAngle)/2,w=Ge(_.cx,_.cy,_.outerRadius+y,T),A=tt(tt(tt(tt({},c),_),{},{stroke:"none"},d),{},{index:b,textAnchor:e.getTextAnchor(w.x,_.cx)},w),N=tt(tt(tt(tt({},c),_),{},{fill:"none",stroke:_.fill},f),{},{index:b,points:[Ge(_.cx,_.cy,_.outerRadius,T),w]}),E=l;return be(l)&&be(u)?E="value":be(l)&&(E=u),$.createElement(Ce,{key:"label-".concat(_.startAngle,"-").concat(_.endAngle,"-").concat(_.midAngle,"-").concat(b)},a&&e.renderLabelLineItem(a,N,"line"),e.renderLabelItem(s,A,mt(_,E)))});return $.createElement(Ce,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,s=o.activeShape,a=o.blendStroke,l=o.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(c),f=l&&i.hasActiveIndex()?l:null,y=d?s:f,x=tt(tt({},u),{},{stroke:a?u.fill:u.stroke,tabIndex:-1});return $.createElement(Ce,Ua({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},Hs(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),$.createElement(qV,Ua({option:y,isActive:d,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,s=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,d=this.state,f=d.prevSectors,y=d.prevIsAnimationActive;return $.createElement(pr,{begin:a,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var _=x.t,b=[],T=o&&o[0],w=T.startAngle;return o.forEach(function(A,N){var E=f&&f[N],I=N>0?Wn(A,"paddingAngle",0):0;if(E){var v=pt(E.endAngle-E.startAngle,A.endAngle-A.startAngle),S=tt(tt({},A),{},{startAngle:w+I,endAngle:w+v(_)+I});b.push(S),w=S.endAngle}else{var P=A.endAngle,k=A.startAngle,O=pt(0,P-k),M=O(_),D=tt(tt({},A),{},{startAngle:w+I,endAngle:w+M+I});b.push(D),w=D.endAngle}}),$.createElement(Ce,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,s=this.state.prevSectors;return o&&i&&i.length&&(!s||!jo(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,s=i.sectors,a=i.className,l=i.label,u=i.cx,c=i.cy,d=i.innerRadius,f=i.outerRadius,y=i.isAnimationActive,x=this.state.isAnimationFinished;if(o||!s||!s.length||!te(u)||!te(c)||!te(d)||!te(f))return null;var _=we("recharts-pie",a);return $.createElement(Ce,{tabIndex:this.props.rootTabIndex,className:_,ref:function(T){r.pieRef=T}},this.renderSectors(),l&&this.renderLabels(s),Ft.renderCallByParent(this.props,null,!1),(!y||x)&&Or.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if($.isValidElement(r))return $.cloneElement(r,i);if(ge(r))return r(i);var s=we("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return $.createElement(ks,Ua({},i,{key:o,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,o){if($.isValidElement(r))return $.cloneElement(r,i);var s=o;if(ge(r)&&(s=r(i),$.isValidElement(s)))return s;var a=we("recharts-pie-label-text",typeof r!="boolean"&&!ge(r)?r.className:"");return $.createElement(zs,Ua({},i,{alignmentBaseline:"middle",className:a}),s)}}])}(V.PureComponent);cp=Ki;rr(Ki,"displayName","Pie");rr(Ki,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!zi.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});rr(Ki,"parseDeltaAngle",function(t,e){var n=bn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});rr(Ki,"getRealPieData",function(t){var e=t.data,n=t.children,r=fe(t,!1),i=Kn(n,_u);return e&&e.length?e.map(function(o,s){return tt(tt(tt({payload:o},r),o),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(o){return tt(tt({},r),o.props)}):[]});rr(Ki,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,s=_V(i,o),a=r+wn(t.cx,i,i/2),l=n+wn(t.cy,o,o/2),u=wn(t.innerRadius,s,0),c=wn(t.outerRadius,s,s*.8),d=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:a,cy:l,innerRadius:u,outerRadius:c,maxRadius:d}});rr(Ki,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?tt(tt({},e.type.defaultProps),e.props):e.props,i=cp.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,s=r.startAngle,a=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,d=r.valueKey,f=r.tooltipType,y=Math.abs(r.minAngle),x=cp.parseCoordinateOfPie(r,n),_=cp.parseDeltaAngle(s,a),b=Math.abs(_),T=u;be(u)&&be(d)?(Rr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),T="value"):be(u)&&(Rr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),T=d);var w=i.filter(function(S){return mt(S,T,0)!==0}).length,A=(b>=360?w:w-1)*l,N=b-w*y-A,E=i.reduce(function(S,P){var k=mt(P,T,0);return S+(te(k)?k:0)},0),I;if(E>0){var v;I=i.map(function(S,P){var k=mt(S,T,0),O=mt(S,c,P),M=(te(k)?k:0)/E,D;P?D=v.endAngle+bn(_)*l*(k!==0?1:0):D=s;var U=D+bn(_)*((k!==0?y:0)+M*N),B=(D+U)/2,j=(x.innerRadius+x.outerRadius)/2,q=[{name:O,value:k,payload:S,dataKey:T,type:f}],F=Ge(x.cx,x.cy,j,B);return v=tt(tt(tt({percent:M,cornerRadius:o,name:O,tooltipPayload:q,midAngle:B,middleRadius:j,tooltipPosition:F},S),x),{},{value:mt(S,T),startAngle:D,endAngle:U,payload:S,paddingAngle:bn(_)*l}),v})}return tt(tt({},x),{},{sectors:I,data:i})});function _we(t){return t&&t.length?t[0]:void 0}var bwe=_we,wwe=bwe;const Ewe=ze(wwe);var Twe=["key"];function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function Swe(t,e){if(t==null)return{};var n=Awe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Awe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ym(){return Ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ym.apply(this,arguments)}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){hi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,KV(r.key),r)}}function Cwe(t,e,n){return e&&bR(t.prototype,e),n&&bR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pwe(t,e,n){return e=Jm(e),kwe(t,WV()?Reflect.construct(e,n||[],Jm(t).constructor):e.apply(t,n))}function kwe(t,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nwe(t)}function Nwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WV=function(){return!!t})()}function Jm(t){return Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jm(t)}function Rwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vb(t,e)}function vb(t,e){return vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vb(t,e)}function hi(t,e,n){return e=KV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KV(t){var e=Owe(t,"string");return Dl(e)=="symbol"?e:e+""}function Owe(t,e){if(Dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ll=function(t){function e(){var n;Iwe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Pwe(this,e,[].concat(i)),hi(n,"state",{isAnimationFinished:!1}),hi(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ge(s)&&s()}),hi(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ge(s)&&s()}),hi(n,"handleMouseEnter",function(s){var a=n.props.onMouseEnter;a&&a(n.props,s)}),hi(n,"handleMouseLeave",function(s){var a=n.props.onMouseLeave;a&&a(n.props,s)}),n}return Rwe(e,t),Cwe(e,[{key:"renderDots",value:function(r){var i=this.props,o=i.dot,s=i.dataKey,a=fe(this.props,!1),l=fe(o,!0),u=r.map(function(c,d){var f=xn(xn(xn({key:"dot-".concat(d),r:3},a),l),{},{dataKey:s,cx:c.x,cy:c.y,index:d,payload:c});return e.renderDotItem(o,f)});return $.createElement(Ce,{className:"recharts-radar-dots"},u)}},{key:"renderPolygonStatically",value:function(r){var i=this.props,o=i.shape,s=i.dot,a=i.isRange,l=i.baseLinePoints,u=i.connectNulls,c;return $.isValidElement(o)?c=$.cloneElement(o,xn(xn({},this.props),{},{points:r})):ge(o)?c=o(xn(xn({},this.props),{},{points:r})):c=$.createElement($V,Ym({},fe(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:r,baseLinePoints:a?l:null,connectNulls:u})),$.createElement(Ce,{className:"recharts-radar-polygon"},c,s?this.renderDots(r):null)}},{key:"renderPolygonWithAnimation",value:function(){var r=this,i=this.props,o=i.points,s=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,d=this.state.prevPoints;return $.createElement(pr,{begin:a,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"radar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var y=f.t,x=d&&d.length/o.length,_=o.map(function(b,T){var w=d&&d[Math.floor(T*x)];if(w){var A=pt(w.x,b.x),N=pt(w.y,b.y);return xn(xn({},b),{},{x:A(y),y:N(y)})}var E=pt(b.cx,b.x),I=pt(b.cy,b.y);return xn(xn({},b),{},{x:E(y),y:I(y)})});return r.renderPolygonStatically(_)})}},{key:"renderPolygon",value:function(){var r=this.props,i=r.points,o=r.isAnimationActive,s=r.isRange,a=this.state.prevPoints;return o&&i&&i.length&&!s&&(!a||!jo(a,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.className,s=r.points,a=r.isAnimationActive;if(i||!s||!s.length)return null;var l=this.state.isAnimationFinished,u=we("recharts-radar",o);return $.createElement(Ce,{className:u},this.renderPolygon(),(!a||l)&&Or.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"renderDotItem",value:function(r,i){var o;if($.isValidElement(r))o=$.cloneElement(r,i);else if(ge(r))o=r(i);else{var s=i.key,a=Swe(i,Twe);o=$.createElement(Tu,Ym({},a,{key:s,className:we("recharts-radar-dot",typeof r!="boolean"?r.className:"")}))}return o}}])}(V.PureComponent);hi(Ll,"displayName","Radar");hi(Ll,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!zi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});hi(Ll,"getComposedData",function(t){var e=t.radiusAxis,n=t.angleAxis,r=t.displayedData,i=t.dataKey,o=t.bandSize,s=n.cx,a=n.cy,l=!1,u=[],c=n.type!=="number"?o??0:0;r.forEach(function(f,y){var x=mt(f,n.dataKey,y),_=mt(f,i),b=n.scale(x)+c,T=Array.isArray(_)?TV(_):_,w=be(T)?void 0:e.scale(T);Array.isArray(_)&&_.length>=2&&(l=!0),u.push(xn(xn({},Ge(s,a,w,b)),{},{name:x,value:_,cx:s,cy:a,radius:w,angle:b,payload:f}))});var d=[];return l&&u.forEach(function(f){if(Array.isArray(f.value)){var y=Ewe(f.value),x=be(y)?void 0:e.scale(y);d.push(xn(xn({},f),{},{radius:x},Ge(s,a,x,f.angle)))}else d.push(f)}),{points:u,isRange:l,baseLinePoints:d}});var Mwe=Math.ceil,Dwe=Math.max;function Lwe(t,e,n,r){for(var i=-1,o=Dwe(Mwe((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var $we=Lwe,jwe=l4,wR=1/0,Vwe=17976931348623157e292;function Fwe(t){if(!t)return t===0?t:0;if(t=jwe(t),t===wR||t===-wR){var e=t<0?-1:1;return e*Vwe}return t===t?t:0}var YV=Fwe,Uwe=$we,Bwe=Ay,_0=YV;function Gwe(t){return function(e,n,r){return r&&typeof r!="number"&&Bwe(e,n,r)&&(n=r=void 0),e=_0(e),n===void 0?(n=e,e=0):n=_0(n),r=r===void 0?e<n?1:-1:_0(r),Uwe(e,n,r,t)}}var qwe=Gwe,Hwe=qwe,zwe=Hwe(),Wwe=zwe;const Xm=ze(Wwe);function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function ER(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(n),!0).forEach(function(r){JV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JV(t,e,n){return e=Kwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kwe(t){var e=Ywe(t,"string");return Kd(e)=="symbol"?e:e+""}function Ywe(t,e){if(Kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jwe=["Webkit","Moz","O","ms"],Xwe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Jwe.reduce(function(o,s){return TR(TR({},o),{},JV({},s+r,n))},{});return i[e]=n,i};function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function Qm(){return Qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qm.apply(this,arguments)}function SR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(n),!0).forEach(function(r){Fn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QV(r.key),r)}}function Zwe(t,e,n){return e&&AR(t.prototype,e),n&&AR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eEe(t,e,n){return e=Zm(e),tEe(t,XV()?Reflect.construct(e,n||[],Zm(t).constructor):e.apply(t,n))}function tEe(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nEe(t)}function nEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XV=function(){return!!t})()}function Zm(t){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zm(t)}function rEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xb(t,e)}function xb(t,e){return xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xb(t,e)}function Fn(t,e,n){return e=QV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QV(t){var e=iEe(t,"string");return $l(e)=="symbol"?e:e+""}function iEe(t,e){if($l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oEe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Lc().domain(Xm(0,l)).range([o,o+s-a]),c=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},IR=function(e){return e.changedTouches&&!!e.changedTouches.length},jl=function(t){function e(n){var r;return Qwe(this,e),r=eEe(this,e,[n]),Fn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Fn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Fn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Fn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Fn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Fn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Fn(r,"handleSlideDragStart",function(i){var o=IR(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return rEe(e,t),Zwe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,d=Math.min(i,o),f=Math.max(i,o),y=e.getIndexInRange(s,d),x=e.getIndexInRange(s,f);return{startIndex:y-y%l,endIndex:x===c?c:x-x%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=mt(o[r],a,r);return ge(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,c=l.width,d=l.travellerWidth,f=l.startIndex,y=l.endIndex,x=l.onChange,_=r.pageX-o;_>0?_=Math.min(_,u+c-d-a,u+c-d-s):_<0&&(_=Math.max(_,u-s,u-a));var b=this.getIndex({startX:s+_,endX:a+_});(b.startIndex!==f||b.endIndex!==y)&&x&&x(b),this.setState({startX:s+_,endX:a+_,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=IR(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],c=this.props,d=c.x,f=c.width,y=c.travellerWidth,x=c.onChange,_=c.gap,b=c.data,T={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,d+f-y-u):w<0&&(w=Math.max(w,d-u)),T[s]=u+w;var A=this.getIndex(T),N=A.startIndex,E=A.endIndex,I=function(){var S=b.length-1;return s==="startX"&&(a>l?N%_===0:E%_===0)||a<l&&E===S||s==="endX"&&(a>l?E%_===0:N%_===0)||a>l&&E===S};this.setState(Fn(Fn({},s,u+w),"brushMoveStartX",r.pageX),function(){x&&I()&&x(A)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],d=a.indexOf(c);if(d!==-1){var f=d+r;if(!(f===-1||f>=a.length)){var y=a[f];i==="startX"&&y>=u||i==="endX"&&y<=l||this.setState(Fn({},i,y),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return $.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,d=V.Children.only(u);return d?$.cloneElement(d,{x:i,y:o,width:s,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,c=l.travellerWidth,d=l.height,f=l.traveller,y=l.ariaLabel,x=l.data,_=l.startIndex,b=l.endIndex,T=Math.max(r,this.props.x),w=b0(b0({},fe(this.props,!1)),{},{x:T,y:u,width:c,height:d}),A=y||"Min value: ".concat((o=x[_])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=x[b])===null||s===void 0?void 0:s.name);return $.createElement(Ce,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),a.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,d=Math.max(Math.abs(i-r)-u,0);return $.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:d,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,d=c.startX,f=c.endX,y=5,x={pointerEvents:"none",fill:u};return $.createElement(Ce,{className:"recharts-brush-texts"},$.createElement(zs,Qm({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-y,y:s+a/2},x),this.getTextOfTick(i)),$.createElement(zs,Qm({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+l+y,y:s+a/2},x),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,c=r.height,d=r.alwaysShowText,f=this.state,y=f.startX,x=f.endX,_=f.isTextActive,b=f.isSlideMoving,T=f.isTravellerMoving,w=f.isTravellerFocused;if(!i||!i.length||!te(a)||!te(l)||!te(u)||!te(c)||u<=0||c<=0)return null;var A=we("recharts-brush",o),N=$.Children.count(s)===1,E=Xwe("userSelect","none");return $.createElement(Ce,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(y,x),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(x,"endX"),(_||b||T||w||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return $.createElement($.Fragment,null,$.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),$.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),$.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return $.isValidElement(r)?o=$.cloneElement(r,i):ge(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,d=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return b0({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?oEe({data:o,width:s,x:a,travellerWidth:l,startIndex:c,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var f=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(V.PureComponent);Fn(jl,"displayName","Brush");Fn(jl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var sEe=cT;function aEe(t,e){var n;return sEe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var lEe=aEe,uEe=Dj,cEe=ri,dEe=lEe,fEe=$n,hEe=Ay;function pEe(t,e,n){var r=fEe(t)?uEe:dEe;return n&&hEe(t,e,n)&&(e=void 0),r(t,cEe(e))}var mEe=pEe;const gEe=ze(mEe);var Jr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},CR=r4;function yEe(t,e,n){e=="__proto__"&&CR?CR(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var vEe=yEe,xEe=vEe,_Ee=t4,bEe=ri;function wEe(t,e){var n={};return e=bEe(e),_Ee(t,function(r,i,o){xEe(n,i,e(r,i,o))}),n}var EEe=wEe;const TEe=ze(EEe);function SEe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var AEe=SEe,IEe=cT;function CEe(t,e){var n=!0;return IEe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var PEe=CEe,kEe=AEe,NEe=PEe,REe=ri,OEe=$n,MEe=Ay;function DEe(t,e,n){var r=OEe(t)?kEe:NEe;return n&&MEe(t,e,n)&&(e=void 0),r(t,REe(e))}var LEe=DEe;const ZV=ze(LEe);var $Ee=["x","y"];function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function _b(){return _b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_b.apply(this,arguments)}function PR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(n),!0).forEach(function(r){jEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jEe(t,e,n){return e=VEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VEe(t){var e=FEe(t,"string");return Yd(e)=="symbol"?e:e+""}function FEe(t,e){if(Yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UEe(t,e){if(t==null)return{};var n=BEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GEe(t,e){var n=t.x,r=t.y,i=UEe(t,$Ee),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),d="".concat(e.width||i.width),f=parseInt(d,10);return lc(lc(lc(lc(lc({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:f,name:e.name,radius:e.radius})}function kR(t){return $.createElement(qV,_b({shapeType:"rectangle",propTransformer:GEe,activeClassName:"recharts-active-bar"},t))}var qEe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=te(r)||qne(r);return o?e(r,i):(o||Ks(),n)}},HEe=["value","background"],eF;function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function zEe(t,e){if(t==null)return{};var n=WEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eg(){return eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eg.apply(this,arguments)}function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){yo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nF(r.key),r)}}function YEe(t,e,n){return e&&RR(t.prototype,e),n&&RR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function JEe(t,e,n){return e=tg(e),XEe(t,tF()?Reflect.construct(e,n||[],tg(t).constructor):e.apply(t,n))}function XEe(t,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QEe(t)}function QEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tF=function(){return!!t})()}function tg(t){return tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tg(t)}function ZEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bb(t,e)}function bb(t,e){return bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bb(t,e)}function yo(t,e,n){return e=nF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nF(t){var e=eTe(t,"string");return Vl(e)=="symbol"?e:e+""}function eTe(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zr=function(t){function e(){var n;KEe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=JEe(this,e,[].concat(i)),yo(n,"state",{isAnimationFinished:!1}),yo(n,"id",ia("recharts-bar-")),yo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),yo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return ZEe(e,t),YEe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,c=fe(this.props,!1);return r&&r.map(function(d,f){var y=f===l,x=y?u:s,_=At(At(At({},c),d),{},{isActive:y,option:x,index:f,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return $.createElement(Ce,eg({className:"recharts-bar-rectangle"},Hs(i.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(f)}),$.createElement(kR,_))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,d=i.animationId,f=this.state.prevData;return $.createElement(pr,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var x=y.t,_=o.map(function(b,T){var w=f&&f[T];if(w){var A=pt(w.x,b.x),N=pt(w.y,b.y),E=pt(w.width,b.width),I=pt(w.height,b.height);return At(At({},b),{},{x:A(x),y:N(x),width:E(x),height:I(x)})}if(s==="horizontal"){var v=pt(0,b.height),S=v(x);return At(At({},b),{},{y:b.y+b.height-S,height:S})}var P=pt(0,b.width),k=P(x);return At(At({},b),{},{width:k})});return $.createElement(Ce,null,r.renderRectanglesStatically(_))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!jo(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=fe(this.props.background,!1);return o.map(function(u,c){u.value;var d=u.background,f=zEe(u,HEe);if(!d)return null;var y=At(At(At(At(At({},f),{},{fill:"#eee"},d),l),Hs(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return $.createElement(kR,eg({key:"background-bar-".concat(c),option:r.props.background,isActive:c===a},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=Kn(c,Nf);if(!d)return null;var f=u==="vertical"?s[0].height/2:s[0].width/2,y=function(b,T){var w=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:w,errorVal:mt(b,T)}},x={clipPath:r?"url(#clipPath-".concat(i,")"):null};return $.createElement(Ce,x,d.map(function(_){return $.cloneElement(_,{key:"error-bar-".concat(i,"-").concat(_.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:f,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,d=r.width,f=r.height,y=r.isAnimationActive,x=r.background,_=r.id;if(i||!o||!o.length)return null;var b=this.state.isAnimationFinished,T=we("recharts-bar",s),w=a&&a.allowDataOverflow,A=l&&l.allowDataOverflow,N=w||A,E=be(_)?this.id:_;return $.createElement(Ce,{className:T},w||A?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(E)},$.createElement("rect",{x:w?u:u-d/2,y:A?c:c-f/2,width:w?d:d*2,height:A?f:f*2}))):null,$.createElement(Ce,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(E,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,E),(!y||b)&&Or.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(V.PureComponent);eF=Zr;yo(Zr,"displayName","Bar");yo(Zr,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!zi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});yo(Zr,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,f=t.offset,y=lve(r,n);if(!y)return null;var x=e.layout,_=n.type.defaultProps,b=_!==void 0?At(At({},_),n.props):n.props,T=b.dataKey,w=b.children,A=b.minPointSize,N=x==="horizontal"?s:o,E=u?N.scale.domain():null,I=mve({numericAxis:N}),v=Kn(w,_u),S=d.map(function(P,k){var O,M,D,U,B,j;u?O=uve(u[c+k],E):(O=mt(P,T),Array.isArray(O)||(O=[I,O]));var q=qEe(A,eF.defaultProps.minPointSize)(O[1],k);if(x==="horizontal"){var F,z=[s.scale(O[0]),s.scale(O[1])],Y=z[0],ie=z[1];M=bN({axis:o,ticks:a,bandSize:i,offset:y.offset,entry:P,index:k}),D=(F=ie??Y)!==null&&F!==void 0?F:void 0,U=y.size;var Q=Y-ie;if(B=Number.isNaN(Q)?0:Q,j={x:M,y:s.y,width:U,height:s.height},Math.abs(q)>0&&Math.abs(B)<Math.abs(q)){var se=bn(B||q)*(Math.abs(q)-Math.abs(B));D-=se,B+=se}}else{var Pe=[o.scale(O[0]),o.scale(O[1])],W=Pe[0],pe=Pe[1];if(M=W,D=bN({axis:s,ticks:l,bandSize:i,offset:y.offset,entry:P,index:k}),U=pe-W,B=y.size,j={x:o.x,y:D,width:o.width,height:B},Math.abs(q)>0&&Math.abs(U)<Math.abs(q)){var ke=bn(U||q)*(Math.abs(q)-Math.abs(U));U+=ke}}return At(At(At({},P),{},{x:M,y:D,width:U,height:B,value:u?O:O[1],payload:P,background:j},v&&v[k]&&v[k].props),{},{tooltipPayload:[vV(n,P)],tooltipPosition:{x:M+U/2,y:D+B/2}})});return At({data:S,layout:x},f)});function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function tTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rF(r.key),r)}}function nTe(t,e,n){return e&&OR(t.prototype,e),n&&OR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){Uy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uy(t,e,n){return e=rF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rF(t){var e=rTe(t,"string");return Jd(e)=="symbol"?e:e+""}function rTe(t,e){if(Jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VT=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(n),d={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},f=!!Bn(u,Zr);return c.reduce(function(y,x){var _=n[x],b=_.orientation,T=_.domain,w=_.padding,A=w===void 0?{}:w,N=_.mirror,E=_.reversed,I="".concat(b).concat(N?"Mirror":""),v,S,P,k,O;if(_.type==="number"&&(_.padding==="gap"||_.padding==="no-gap")){var M=T[1]-T[0],D=1/0,U=_.categoricalDomain.sort(Wne);if(U.forEach(function(Pe,W){W>0&&(D=Math.min((Pe||0)-(U[W-1]||0),D))}),Number.isFinite(D)){var B=D/M,j=_.layout==="vertical"?r.height:r.width;if(_.padding==="gap"&&(v=B*j/2),_.padding==="no-gap"){var q=wn(e.barCategoryGap,B*j),F=B*j/2;v=F-q-(F-q)/j*q}}}i==="xAxis"?S=[r.left+(A.left||0)+(v||0),r.left+r.width-(A.right||0)-(v||0)]:i==="yAxis"?S=l==="horizontal"?[r.top+r.height-(A.bottom||0),r.top+(A.top||0)]:[r.top+(A.top||0)+(v||0),r.top+r.height-(A.bottom||0)-(v||0)]:S=_.range,E&&(S=[S[1],S[0]]);var z=pV(_,o,f),Y=z.scale,ie=z.realScaleType;Y.domain(T).range(S),mV(Y);var Q=gV(Y,wr(wr({},_),{},{realScaleType:ie}));i==="xAxis"?(O=b==="top"&&!N||b==="bottom"&&N,P=r.left,k=d[I]-O*_.height):i==="yAxis"&&(O=b==="left"&&!N||b==="right"&&N,P=d[I]-O*_.width,k=r.top);var se=wr(wr(wr({},_),Q),{},{realScaleType:ie,x:P,y:k,scale:Y,width:i==="xAxis"?r.width:_.width,height:i==="yAxis"?r.height:_.height});return se.bandSize=Lm(se,Q),!_.hide&&i==="xAxis"?d[I]+=(O?-1:1)*se.height:_.hide||(d[I]+=(O?-1:1)*se.width),wr(wr({},y),{},Uy({},x,se))},{})},iF=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},iTe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return iF({x:n,y:r},{x:i,y:o})},oF=function(){function t(e){tTe(this,t),this.scale=e}return nTe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Uy(oF,"EPS",1e-4);var FT=function(e){var n=Object.keys(e).reduce(function(r,i){return wr(wr({},r),{},Uy({},i,oF.create(e[i])))},{});return wr(wr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return TEe(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return ZV(i,function(o,s){return n[s].isInRange(o)})}})};function oTe(t){return(t%180+180)%180}var sTe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=oTe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},aTe=ri,lTe=Af,uTe=Ty;function cTe(t){return function(e,n,r){var i=Object(e);if(!lTe(e)){var o=aTe(n);e=uTe(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var dTe=cTe,fTe=YV;function hTe(t){var e=fTe(t),n=e%1;return e===e?n?e-n:e:0}var pTe=hTe,mTe=Yj,gTe=ri,yTe=pTe,vTe=Math.max;function xTe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:yTe(n);return i<0&&(i=vTe(r+i,0)),mTe(t,gTe(e),i)}var _Te=xTe,bTe=dTe,wTe=_Te,ETe=bTe(wTe),TTe=ETe;const STe=ze(TTe);var ATe=Jte(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),UT=V.createContext(void 0),BT=V.createContext(void 0),sF=V.createContext(void 0),aF=V.createContext({}),lF=V.createContext(void 0),uF=V.createContext(0),cF=V.createContext(0),DR=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,c=ATe(o);return $.createElement(UT.Provider,{value:r},$.createElement(BT.Provider,{value:i},$.createElement(aF.Provider,{value:o},$.createElement(sF.Provider,{value:c},$.createElement(lF.Provider,{value:s},$.createElement(uF.Provider,{value:u},$.createElement(cF.Provider,{value:l},a)))))))},ITe=function(){return V.useContext(lF)},dF=function(e){var n=V.useContext(UT);n==null&&Ks();var r=n[e];return r==null&&Ks(),r},CTe=function(){var e=V.useContext(UT);return co(e)},PTe=function(){var e=V.useContext(BT),n=STe(e,function(r){return ZV(r.domain,Number.isFinite)});return n||co(e)},fF=function(e){var n=V.useContext(BT);n==null&&Ks();var r=n[e];return r==null&&Ks(),r},kTe=function(){var e=V.useContext(sF);return e},NTe=function(){return V.useContext(aF)},GT=function(){return V.useContext(cF)},qT=function(){return V.useContext(uF)};function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function RTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pF(r.key),r)}}function MTe(t,e,n){return e&&OTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DTe(t,e,n){return e=ng(e),LTe(t,hF()?Reflect.construct(e,n||[],ng(t).constructor):e.apply(t,n))}function LTe(t,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Te(t)}function $Te(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hF=function(){return!!t})()}function ng(t){return ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ng(t)}function jTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wb(t,e)}function wb(t,e){return wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wb(t,e)}function LR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $R(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(n),!0).forEach(function(r){HT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HT(t,e,n){return e=pF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pF(t){var e=VTe(t,"string");return Fl(e)=="symbol"?e:e+""}function VTe(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function FTe(t,e){return qTe(t)||GTe(t,e)||BTe(t,e)||UTe()}function UTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BTe(t,e){if(t){if(typeof t=="string")return jR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jR(t,e)}}function jR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function qTe(t){if(Array.isArray(t))return t}function Eb(){return Eb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eb.apply(this,arguments)}var HTe=function(e,n){var r;return $.isValidElement(e)?r=$.cloneElement(e,n):ge(e)?r=e(n):r=$.createElement("line",Eb({},n,{className:"recharts-reference-line-line"})),r},zTe=function(e,n,r,i,o,s,a,l,u){var c=o.x,d=o.y,f=o.width,y=o.height;if(r){var x=u.y,_=e.y.apply(x,{position:s});if(Jr(u,"discard")&&!e.y.isInRange(_))return null;var b=[{x:c+f,y:_},{x:c,y:_}];return l==="left"?b.reverse():b}if(n){var T=u.x,w=e.x.apply(T,{position:s});if(Jr(u,"discard")&&!e.x.isInRange(w))return null;var A=[{x:w,y:d+y},{x:w,y:d}];return a==="top"?A.reverse():A}if(i){var N=u.segment,E=N.map(function(I){return e.apply(I,{position:s})});return Jr(u,"discard")&&gEe(E,function(I){return!e.isInRange(I)})?null:E}return null};function WTe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=ITe(),c=dF(i),d=fF(o),f=kTe();if(!u||!f)return null;Rr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=FT({x:c.scale,y:d.scale}),x=Mt(e),_=Mt(n),b=r&&r.length===2,T=zTe(y,x,_,b,f,t.position,c.orientation,d.orientation,t);if(!T)return null;var w=FTe(T,2),A=w[0],N=A.x,E=A.y,I=w[1],v=I.x,S=I.y,P=Jr(t,"hidden")?"url(#".concat(u,")"):void 0,k=$R($R({clipPath:P},fe(t,!0)),{},{x1:N,y1:E,x2:v,y2:S});return $.createElement(Ce,{className:we("recharts-reference-line",a)},HTe(s,k),Ft.renderCallByParent(t,iTe({x1:N,y1:E,x2:v,y2:S})))}var Rf=function(t){function e(){return RTe(this,e),DTe(this,e,arguments)}return jTe(e,t),MTe(e,[{key:"render",value:function(){return $.createElement(WTe,this.props)}}])}($.Component);HT(Rf,"displayName","ReferenceLine");HT(Rf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Tb(){return Tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tb.apply(this,arguments)}function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){By(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gF(r.key),r)}}function JTe(t,e,n){return e&&YTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XTe(t,e,n){return e=rg(e),QTe(t,mF()?Reflect.construct(e,n||[],rg(t).constructor):e.apply(t,n))}function QTe(t,e){if(e&&(Ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZTe(t)}function ZTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mF=function(){return!!t})()}function rg(t){return rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rg(t)}function eSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sb(t,e)}function Sb(t,e){return Sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Sb(t,e)}function By(t,e,n){return e=gF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gF(t){var e=tSe(t,"string");return Ul(e)=="symbol"?e:e+""}function tSe(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nSe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=FT({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return Jr(e,"discard")&&!s.isInRange(a)?null:a},Gy=function(t){function e(){return KTe(this,e),XTe(this,e,arguments)}return eSe(e,t),JTe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=Mt(i),c=Mt(o);if(Rr(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var d=nSe(this.props);if(!d)return null;var f=d.x,y=d.y,x=this.props,_=x.shape,b=x.className,T=Jr(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=FR(FR({clipPath:T},fe(this.props,!0)),{},{cx:f,cy:y});return $.createElement(Ce,{className:we("recharts-reference-dot",b)},e.renderDot(_,w),Ft.renderCallByParent(this.props,{x:f-s,y:y-s,width:2*s,height:2*s}))}}])}($.Component);By(Gy,"displayName","ReferenceDot");By(Gy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});By(Gy,"renderDot",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):ge(t)?n=t(e):n=$.createElement(Tu,Tb({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Ab(){return Ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ab.apply(this,arguments)}function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){qy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vF(r.key),r)}}function oSe(t,e,n){return e&&iSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sSe(t,e,n){return e=ig(e),aSe(t,yF()?Reflect.construct(e,n||[],ig(t).constructor):e.apply(t,n))}function aSe(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lSe(t)}function lSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yF=function(){return!!t})()}function ig(t){return ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ig(t)}function uSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ib(t,e)}function Ib(t,e){return Ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ib(t,e)}function qy(t,e,n){return e=vF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vF(t){var e=cSe(t,"string");return Bl(e)=="symbol"?e:e+""}function cSe(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dSe=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,c=o.xAxis,d=o.yAxis;if(!c||!d)return null;var f=FT({x:c.scale,y:d.scale}),y={x:e?f.x.apply(s,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(l,{position:"start"}):f.y.rangeMin},x={x:n?f.x.apply(a,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(u,{position:"end"}):f.y.rangeMax};return Jr(o,"discard")&&(!f.isInRange(y)||!f.isInRange(x))?null:iF(y,x)},Hy=function(t){function e(){return rSe(this,e),sSe(this,e,arguments)}return uSe(e,t),oSe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Rr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Mt(i),f=Mt(o),y=Mt(s),x=Mt(a),_=this.props.shape;if(!d&&!f&&!y&&!x&&!_)return null;var b=dSe(d,f,y,x,this.props);if(!b&&!_)return null;var T=Jr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return $.createElement(Ce,{className:we("recharts-reference-area",l)},e.renderRect(_,BR(BR({clipPath:T},fe(this.props,!0)),b)),Ft.renderCallByParent(this.props,b))}}])}($.Component);qy(Hy,"displayName","ReferenceArea");qy(Hy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});qy(Hy,"renderRect",function(t,e){var n;return $.isValidElement(t)?n=$.cloneElement(t,e):ge(t)?n=t(e):n=$.createElement(jT,Ab({},e,{className:"recharts-reference-area-rect"})),n});function xF(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function fSe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return sTe(r,n)}function hSe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function og(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function pSe(t,e){return xF(t,e+1)}function mSe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,c=s,d=function(){var x=r==null?void 0:r[l];if(x===void 0)return{v:xF(r,u)};var _=l,b,T=function(){return b===void 0&&(b=n(x,_)),b},w=x.coordinate,A=l===0||og(t,w,T,c,a);A||(l=0,c=s,u+=1),A&&(c=w+t*(T()/2+i),l+=u)},f;u<=o.length;)if(f=d(),f)return f.v;return[]}function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function GR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GR(Object(n),!0).forEach(function(r){gSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gSe(t,e,n){return e=ySe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ySe(t){var e=vSe(t,"string");return Xd(e)=="symbol"?e:e+""}function vSe(t,e){if(Xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xSe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(f){var y=o[f],x,_=function(){return x===void 0&&(x=n(y,f)),x};if(f===s-1){var b=t*(y.coordinate+t*_()/2-l);o[f]=y=sn(sn({},y),{},{tickCoord:b>0?y.coordinate-b*t:y.coordinate})}else o[f]=y=sn(sn({},y),{},{tickCoord:y.coordinate});var T=og(t,y.tickCoord,_,a,l);T&&(l=y.tickCoord-t*(_()/2+i),o[f]=sn(sn({},y),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function _Se(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var c=r[a-1],d=n(c,a-1),f=t*(c.coordinate+t*d/2-u);s[a-1]=c=sn(sn({},c),{},{tickCoord:f>0?c.coordinate-f*t:c.coordinate});var y=og(t,c.tickCoord,function(){return d},l,u);y&&(u=c.tickCoord-t*(d/2+i),s[a-1]=sn(sn({},c),{},{isShow:!0}))}for(var x=o?a-1:a,_=function(w){var A=s[w],N,E=function(){return N===void 0&&(N=n(A,w)),N};if(w===0){var I=t*(A.coordinate-t*E()/2-l);s[w]=A=sn(sn({},A),{},{tickCoord:I<0?A.coordinate-I*t:A.coordinate})}else s[w]=A=sn(sn({},A),{},{tickCoord:A.coordinate});var v=og(t,A.tickCoord,E,l,u);v&&(l=A.tickCoord+t*(E()/2+i),s[w]=sn(sn({},A),{},{isShow:!0}))},b=0;b<x;b++)_(b);return s}function zT(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(te(l)||zi.isSsr)return pSe(i,typeof l=="number"&&te(l)?l:0);var f=[],y=a==="top"||a==="bottom"?"width":"height",x=c&&y==="width"?Dc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=function(A,N){var E=ge(u)?u(A.value,N):A.value;return y==="width"?fSe(Dc(E,{fontSize:e,letterSpacing:n}),x,d):Dc(E,{fontSize:e,letterSpacing:n})[y]},b=i.length>=2?bn(i[1].coordinate-i[0].coordinate):1,T=hSe(o,b,y);return l==="equidistantPreserveStart"?mSe(b,T,_,i,s):(l==="preserveStart"||l==="preserveStartEnd"?f=_Se(b,T,_,i,s,l==="preserveStartEnd"):f=xSe(b,T,_,i,s),f.filter(function(w){return w.isShow}))}var bSe=["viewBox"],wSe=["viewBox"],ESe=["ticks"];function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function Ba(){return Ba=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ba.apply(this,arguments)}function qR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(n),!0).forEach(function(r){WT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w0(t,e){if(t==null)return{};var n=TSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function SSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bF(r.key),r)}}function ASe(t,e,n){return e&&HR(t.prototype,e),n&&HR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ISe(t,e,n){return e=sg(e),CSe(t,_F()?Reflect.construct(e,n||[],sg(t).constructor):e.apply(t,n))}function CSe(t,e){if(e&&(Gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PSe(t)}function PSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _F(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_F=function(){return!!t})()}function sg(t){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sg(t)}function kSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Cb(t,e)}function Cb(t,e){return Cb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Cb(t,e)}function WT(t,e,n){return e=bF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bF(t){var e=NSe(t,"string");return Gl(e)=="symbol"?e:e+""}function NSe(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Iu=function(t){function e(n){var r;return SSe(this,e),r=ISe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return kSe(e,t),ASe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=w0(r,bSe),a=this.props,l=a.viewBox,u=w0(a,wSe);return!rl(o,l)||!rl(s,u)||!rl(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,c=i.tickSize,d=i.mirror,f=i.tickMargin,y,x,_,b,T,w,A=d?-1:1,N=r.tickSize||c,E=te(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":y=x=r.coordinate,b=s+ +!d*l,_=b-A*N,w=_-A*f,T=E;break;case"left":_=b=r.coordinate,x=o+ +!d*a,y=x-A*N,T=y-A*f,w=E;break;case"right":_=b=r.coordinate,x=o+ +d*a,y=x+A*N,T=y+A*f,w=E;break;default:y=x=r.coordinate,b=s+ +d*l,_=b+A*N,w=_+A*f,T=E;break}return{line:{x1:y,y1:_,x2:x,y2:b},tick:{x:T,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,d=kt(kt(kt({},fe(this.props,!1)),fe(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!u||l==="bottom"&&u);d=kt(kt({},d),{},{x1:i,y1:o+f*a,x2:i+s,y2:o+f*a})}else{var y=+(l==="left"&&!u||l==="right"&&u);d=kt(kt({},d),{},{x1:i+y*s,y1:o,x2:i+y*s,y2:o+a})}return $.createElement("line",Ba({},d,{className:we("recharts-cartesian-axis-line",Wn(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,d=a.tickFormatter,f=a.unit,y=zT(kt(kt({},this.props),{},{ticks:r}),i,o),x=this.getTickTextAnchor(),_=this.getTickVerticalAnchor(),b=fe(this.props,!1),T=fe(c,!1),w=kt(kt({},b),{},{fill:"none"},fe(l,!1)),A=y.map(function(N,E){var I=s.getTickLineCoord(N),v=I.line,S=I.tick,P=kt(kt(kt(kt({textAnchor:x,verticalAnchor:_},b),{},{stroke:"none",fill:u},T),S),{},{index:E,payload:N,visibleTicksCount:y.length,tickFormatter:d});return $.createElement(Ce,Ba({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Hs(s.props,N,E)),l&&$.createElement("line",Ba({},w,v,{className:we("recharts-cartesian-axis-tick-line",Wn(l,"className"))})),c&&e.renderTickItem(c,P,"".concat(ge(d)?d(N.value,E):N.value).concat(f||"")))});return $.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var d=this.props,f=d.ticks,y=w0(d,ESe),x=f;return ge(l)&&(x=f&&f.length>0?l(this.props):l(y)),s<=0||a<=0||!x||!x.length?null:$.createElement(Ce,{className:we("recharts-cartesian-axis",u),ref:function(b){r.layerReference=b}},o&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Ft.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=we(i.className,"recharts-cartesian-axis-tick-value");return $.isValidElement(r)?s=$.cloneElement(r,kt(kt({},i),{},{className:a})):ge(r)?s=r(kt(kt({},i),{},{className:a})):s=$.createElement(zs,Ba({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(V.Component);WT(Iu,"displayName","CartesianAxis");WT(Iu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var RSe=["x1","y1","x2","y2","key"],OSe=["offset"];function Ys(t){"@babel/helpers - typeof";return Ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ys(t)}function zR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(n),!0).forEach(function(r){MSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MSe(t,e,n){return e=DSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DSe(t){var e=LSe(t,"string");return Ys(e)=="symbol"?e:e+""}function LSe(t,e){if(Ys(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ws(){return ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ws.apply(this,arguments)}function WR(t,e){if(t==null)return{};var n=$Se(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Se(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var jSe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return $.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function wF(t,e){var n;if($.isValidElement(t))n=$.cloneElement(t,e);else if(ge(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=WR(e,RSe),u=fe(l,!1);u.offset;var c=WR(u,OSe);n=$.createElement("line",ws({},c,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function VSe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=dn(dn({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return wF(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function FSe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=dn(dn({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return wF(i,u)});return $.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function USe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=a.map(function(f){return Math.round(f+i-i)}).sort(function(f,y){return f-y});i!==c[0]&&c.unshift(0);var d=c.map(function(f,y){var x=!c[y+1],_=x?i+s-f:c[y+1]-f;if(_<=0)return null;var b=y%e.length;return $.createElement("rect",{key:"react-".concat(y),y:f,x:r,height:_,width:o,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function BSe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(f){return Math.round(f+o-o)}).sort(function(f,y){return f-y});o!==c[0]&&c.unshift(0);var d=c.map(function(f,y){var x=!c[y+1],_=x?o+a-f:c[y+1]-f;if(_<=0)return null;var b=y%r.length;return $.createElement("rect",{key:"react-".concat(y),x:f,y:s,width:_,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return $.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var GSe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return hV(zT(dn(dn(dn({},Iu.defaultProps),r),{},{ticks:bi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},qSe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return hV(zT(dn(dn(dn({},Iu.defaultProps),r),{},{ticks:bi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},ya={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ql(t){var e,n,r,i,o,s,a=GT(),l=qT(),u=NTe(),c=dn(dn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ya.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:ya.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:ya.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ya.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:ya.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:ya.verticalFill,x:te(t.x)?t.x:u.left,y:te(t.y)?t.y:u.top,width:te(t.width)?t.width:u.width,height:te(t.height)?t.height:u.height}),d=c.x,f=c.y,y=c.width,x=c.height,_=c.syncWithTicks,b=c.horizontalValues,T=c.verticalValues,w=CTe(),A=PTe();if(!te(y)||y<=0||!te(x)||x<=0||!te(d)||d!==+d||!te(f)||f!==+f)return null;var N=c.verticalCoordinatesGenerator||GSe,E=c.horizontalCoordinatesGenerator||qSe,I=c.horizontalPoints,v=c.verticalPoints;if((!I||!I.length)&&ge(E)){var S=b&&b.length,P=E({yAxis:A?dn(dn({},A),{},{ticks:S?b:A.ticks}):void 0,width:a,height:l,offset:u},S?!0:_);Rr(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ys(P),"]")),Array.isArray(P)&&(I=P)}if((!v||!v.length)&&ge(N)){var k=T&&T.length,O=N({xAxis:w?dn(dn({},w),{},{ticks:k?T:w.ticks}):void 0,width:a,height:l,offset:u},k?!0:_);Rr(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ys(O),"]")),Array.isArray(O)&&(v=O)}return $.createElement("g",{className:"recharts-cartesian-grid"},$.createElement(jSe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),$.createElement(VSe,ws({},c,{offset:u,horizontalPoints:I,xAxis:w,yAxis:A})),$.createElement(FSe,ws({},c,{offset:u,verticalPoints:v,xAxis:w,yAxis:A})),$.createElement(USe,ws({},c,{horizontalPoints:I})),$.createElement(BSe,ws({},c,{verticalPoints:v})))}ql.displayName="CartesianGrid";var HSe=["type","layout","connectNulls","ref"],zSe=["key"];function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function KR(t,e){if(t==null)return{};var n=WSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Uc(){return Uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uc.apply(this,arguments)}function YR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(n),!0).forEach(function(r){Er(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function va(t){return XSe(t)||JSe(t)||YSe(t)||KSe()}function KSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YSe(t,e){if(t){if(typeof t=="string")return Pb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pb(t,e)}}function JSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XSe(t){if(Array.isArray(t))return Pb(t)}function Pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TF(r.key),r)}}function ZSe(t,e,n){return e&&JR(t.prototype,e),n&&JR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eAe(t,e,n){return e=ag(e),tAe(t,EF()?Reflect.construct(e,n||[],ag(t).constructor):e.apply(t,n))}function tAe(t,e){if(e&&(Hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nAe(t)}function nAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EF=function(){return!!t})()}function ag(t){return ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ag(t)}function rAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kb(t,e)}function kb(t,e){return kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kb(t,e)}function Er(t,e,n){return e=TF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TF(t){var e=iAe(t,"string");return Hl(e)=="symbol"?e:e+""}function iAe(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Of=function(t){function e(){var n;QSe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=eAe(this,e,[].concat(i)),Er(n,"state",{isAnimationFinished:!0,totalLength:0}),Er(n,"generateSimpleStrokeDasharray",function(s,a){return"".concat(a,"px ").concat(s-a,"px")}),Er(n,"getStrokeDasharray",function(s,a,l){var u=l.reduce(function(T,w){return T+w});if(!u)return n.generateSimpleStrokeDasharray(a,s);for(var c=Math.floor(s/u),d=s%u,f=a-s,y=[],x=0,_=0;x<l.length;_+=l[x],++x)if(_+l[x]>d){y=[].concat(va(l.slice(0,x)),[d-_]);break}var b=y.length%2===0?[0,f]:[f];return[].concat(va(e.repeat(l,c)),va(y),b).map(function(T){return"".concat(T,"px")}).join(", ")}),Er(n,"id",ia("recharts-line-")),Er(n,"pathRef",function(s){n.mainCurve=s}),Er(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Er(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return rAe(e,t),ZSe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,d=Kn(c,Nf);if(!d)return null;var f=function(_,b){return{x:_.x,y:_.y,value:_.value,errorVal:mt(_.payload,b)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return $.createElement(Ce,y,d.map(function(x){return $.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,u=a.points,c=a.dataKey,d=fe(this.props,!1),f=fe(l,!0),y=u.map(function(_,b){var T=Vn(Vn(Vn({key:"dot-".concat(b),r:3},d),f),{},{index:b,cx:_.x,cy:_.y,value:_.value,dataKey:c,payload:_.payload,points:u});return e.renderDotItem(l,T)}),x={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return $.createElement(Ce,Uc({className:"recharts-line-dots",key:"dots"},x),y)}},{key:"renderCurveStatically",value:function(r,i,o,s){var a=this.props,l=a.type,u=a.layout,c=a.connectNulls;a.ref;var d=KR(a,HSe),f=Vn(Vn(Vn({},fe(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:l,layout:u,connectNulls:c});return $.createElement(ks,Uc({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.strokeDasharray,u=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,f=s.animationEasing,y=s.animationId,x=s.animateNewValues,_=s.width,b=s.height,T=this.state,w=T.prevPoints,A=T.totalLength;return $.createElement(pr,{begin:c,duration:d,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var E=N.t;if(w){var I=w.length/a.length,v=a.map(function(M,D){var U=Math.floor(D*I);if(w[U]){var B=w[U],j=pt(B.x,M.x),q=pt(B.y,M.y);return Vn(Vn({},M),{},{x:j(E),y:q(E)})}if(x){var F=pt(_*2,M.x),z=pt(b/2,M.y);return Vn(Vn({},M),{},{x:F(E),y:z(E)})}return Vn(Vn({},M),{},{x:M.x,y:M.y})});return o.renderCurveStatically(v,r,i)}var S=pt(0,A),P=S(E),k;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});k=o.getStrokeDasharray(P,A,O)}else k=o.generateSimpleStrokeDasharray(A,P);return o.renderCurveStatically(a,r,i,{strokeDasharray:k})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,a=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return a&&s&&s.length&&(!u&&c>0||!jo(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.xAxis,c=i.yAxis,d=i.top,f=i.left,y=i.width,x=i.height,_=i.isAnimationActive,b=i.id;if(o||!a||!a.length)return null;var T=this.state.isAnimationFinished,w=a.length===1,A=we("recharts-line",l),N=u&&u.allowDataOverflow,E=c&&c.allowDataOverflow,I=N||E,v=be(b)?this.id:b,S=(r=fe(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=S.r,k=P===void 0?3:P,O=S.strokeWidth,M=O===void 0?2:O,D=sj(s)?s:{},U=D.clipDot,B=U===void 0?!0:U,j=k*2+M;return $.createElement(Ce,{className:A},N||E?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(v)},$.createElement("rect",{x:N?f:f-y/2,y:E?d:d-x/2,width:N?y:y*2,height:E?x:x*2})),!B&&$.createElement("clipPath",{id:"clipPath-dots-".concat(v)},$.createElement("rect",{x:f-j/2,y:d-j/2,width:y+j,height:x+j}))):null,!w&&this.renderCurve(I,v),this.renderErrorBar(I,v),(w||s)&&this.renderDots(I,B,v),(!_||T)&&Or.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(va(r),[0]):r,s=[],a=0;a<i;++a)s=[].concat(va(s),va(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if($.isValidElement(r))o=$.cloneElement(r,i);else if(ge(r))o=r(i);else{var s=i.key,a=KR(i,zSe),l=we("recharts-line-dot",typeof r!="boolean"?r.className:"");o=$.createElement(Tu,Uc({key:s},a,{className:l}))}return o}}])}(V.PureComponent);Er(Of,"displayName","Line");Er(Of,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!zi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Er(Of,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,d=l.map(function(f,y){var x=mt(f,s);return c==="horizontal"?{x:Dm({axis:n,ticks:i,bandSize:a,entry:f,index:y}),y:be(x)?null:r.scale(x),value:x,payload:f}:{x:be(x)?null:n.scale(x),y:Dm({axis:r,ticks:o,bandSize:a,entry:f,index:y}),value:x,payload:f}});return Vn({points:d,layout:c},u)});var oAe=["layout","type","stroke","connectNulls","isRange","ref"],sAe=["key"],SF;function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function AF(t,e){if(t==null)return{};var n=aAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Es(){return Es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Es.apply(this,arguments)}function XR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function to(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(n),!0).forEach(function(r){Gr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CF(r.key),r)}}function uAe(t,e,n){return e&&QR(t.prototype,e),n&&QR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cAe(t,e,n){return e=lg(e),dAe(t,IF()?Reflect.construct(e,n||[],lg(t).constructor):e.apply(t,n))}function dAe(t,e){if(e&&(zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fAe(t)}function fAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IF=function(){return!!t})()}function lg(t){return lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lg(t)}function hAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nb(t,e)}function Nb(t,e){return Nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Nb(t,e)}function Gr(t,e,n){return e=CF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CF(t){var e=pAe(t,"string");return zl(e)=="symbol"?e:e+""}function pAe(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xo=function(t){function e(){var n;lAe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=cAe(this,e,[].concat(i)),Gr(n,"state",{isAnimationFinished:!0}),Gr(n,"id",ia("recharts-area-")),Gr(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ge(s)&&s()}),Gr(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ge(s)&&s()}),n}return hAe(e,t),uAe(e,[{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(s&&!a)return null;var l=this.props,u=l.dot,c=l.points,d=l.dataKey,f=fe(this.props,!1),y=fe(u,!0),x=c.map(function(b,T){var w=to(to(to({key:"dot-".concat(T),r:3},f),y),{},{index:T,cx:b.x,cy:b.y,dataKey:d,value:b.value,payload:b.payload,points:c});return e.renderDotItem(u,w)}),_={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return $.createElement(Ce,Es({className:"recharts-area-dots"},_),x)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].x,u=s[s.length-1].x,c=r*Math.abs(l-u),d=go(s.map(function(f){return f.y||0}));return te(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(go(o.map(function(f){return f.y||0})),d)),te(d)?$.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].y,u=s[s.length-1].y,c=r*Math.abs(l-u),d=go(s.map(function(f){return f.x||0}));return te(o)&&typeof o=="number"?d=Math.max(o,d):o&&Array.isArray(o)&&o.length&&(d=Math.max(go(o.map(function(f){return f.x||0})),d)),te(d)?$.createElement("rect",{x:0,y:l<u?l:l-c,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,s){var a=this.props,l=a.layout,u=a.type,c=a.stroke,d=a.connectNulls,f=a.isRange;a.ref;var y=AF(a,oAe);return $.createElement(Ce,{clipPath:o?"url(#clipPath-".concat(s,")"):null},$.createElement(ks,Es({},fe(y,!0),{points:r,connectNulls:d,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&$.createElement(ks,Es({},fe(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:r})),c!=="none"&&f&&$.createElement(ks,Es({},fe(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.baseLine,u=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,f=s.animationEasing,y=s.animationId,x=this.state,_=x.prevPoints,b=x.prevBaseLine;return $.createElement(pr,{begin:c,duration:d,isActive:u,easing:f,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var w=T.t;if(_){var A=_.length/a.length,N=a.map(function(S,P){var k=Math.floor(P*A);if(_[k]){var O=_[k],M=pt(O.x,S.x),D=pt(O.y,S.y);return to(to({},S),{},{x:M(w),y:D(w)})}return S}),E;if(te(l)&&typeof l=="number"){var I=pt(b,l);E=I(w)}else if(be(l)||gu(l)){var v=pt(b,0);E=v(w)}else E=l.map(function(S,P){var k=Math.floor(P*A);if(b[k]){var O=b[k],M=pt(O.x,S.x),D=pt(O.y,S.y);return to(to({},S),{},{x:M(w),y:D(w)})}return S});return o.renderAreaStatically(N,E,r,i)}return $.createElement(Ce,null,$.createElement("defs",null,$.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(w))),$.createElement(Ce,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(a,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,s=o.points,a=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,d=u.prevBaseLine,f=u.totalLength;return l&&s&&s.length&&(!c&&f>0||!jo(c,s)||!jo(d,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.top,c=i.left,d=i.xAxis,f=i.yAxis,y=i.width,x=i.height,_=i.isAnimationActive,b=i.id;if(o||!a||!a.length)return null;var T=this.state.isAnimationFinished,w=a.length===1,A=we("recharts-area",l),N=d&&d.allowDataOverflow,E=f&&f.allowDataOverflow,I=N||E,v=be(b)?this.id:b,S=(r=fe(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=S.r,k=P===void 0?3:P,O=S.strokeWidth,M=O===void 0?2:O,D=sj(s)?s:{},U=D.clipDot,B=U===void 0?!0:U,j=k*2+M;return $.createElement(Ce,{className:A},N||E?$.createElement("defs",null,$.createElement("clipPath",{id:"clipPath-".concat(v)},$.createElement("rect",{x:N?c:c-y/2,y:E?u:u-x/2,width:N?y:y*2,height:E?x:x*2})),!B&&$.createElement("clipPath",{id:"clipPath-dots-".concat(v)},$.createElement("rect",{x:c-j/2,y:u-j/2,width:y+j,height:x+j}))):null,w?null:this.renderArea(I,v),(s||w)&&this.renderDots(I,B,v),(!_||T)&&Or.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(V.PureComponent);SF=Xo;Gr(Xo,"displayName","Area");Gr(Xo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!zi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Gr(Xo,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,s=e.props.baseValue,a=s??o;if(te(a)&&typeof a=="number")return a;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return a==="dataMin"?d:a==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]});Gr(Xo,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,a=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,d=t.displayedData,f=t.offset,y=e.layout,x=u&&u.length,_=SF.getBaseValue(e,n,r,i),b=y==="horizontal",T=!1,w=d.map(function(N,E){var I;x?I=u[c+E]:(I=mt(N,l),Array.isArray(I)?T=!0:I=[_,I]);var v=I[1]==null||x&&mt(N,l)==null;return b?{x:Dm({axis:r,ticks:o,bandSize:a,entry:N,index:E}),y:v?null:i.scale(I[1]),value:I,payload:N}:{x:v?null:r.scale(I[1]),y:Dm({axis:i,ticks:s,bandSize:a,entry:N,index:E}),value:I,payload:N}}),A;return x||T?A=w.map(function(N){var E=Array.isArray(N.value)?N.value[0]:null;return b?{x:N.x,y:E!=null&&N.y!=null?i.scale(E):null}:{x:E!=null?r.scale(E):null,y:N.y}}):A=b?i.scale(_):r.scale(_),to({points:w,baseLine:A,layout:y,isRange:T},f)});Gr(Xo,"renderDotItem",function(t,e){var n;if($.isValidElement(t))n=$.cloneElement(t,e);else if(ge(t))n=t(e);else{var r=we("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=AF(e,sAe);n=$.createElement(Tu,Es({},o,{key:i,className:r}))}return n});function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function mAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NF(r.key),r)}}function yAe(t,e,n){return e&&gAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vAe(t,e,n){return e=ug(e),xAe(t,PF()?Reflect.construct(e,n||[],ug(t).constructor):e.apply(t,n))}function xAe(t,e){if(e&&(Wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ae(t)}function _Ae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PF=function(){return!!t})()}function ug(t){return ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ug(t)}function bAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rb(t,e)}function Rb(t,e){return Rb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Rb(t,e)}function kF(t,e,n){return e=NF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NF(t){var e=wAe(t,"string");return Wl(e)=="symbol"?e:e+""}function wAe(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ob(){return Ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ob.apply(this,arguments)}function EAe(t){var e=t.xAxisId,n=GT(),r=qT(),i=dF(e);return i==null?null:V.createElement(Iu,Ob({},i,{className:we("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return bi(s,!0)}}))}var ei=function(t){function e(){return mAe(this,e),vAe(this,e,arguments)}return bAe(e,t),yAe(e,[{key:"render",value:function(){return V.createElement(EAe,this.props)}}])}(V.Component);kF(ei,"displayName","XAxis");kF(ei,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function TAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MF(r.key),r)}}function AAe(t,e,n){return e&&SAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IAe(t,e,n){return e=cg(e),CAe(t,RF()?Reflect.construct(e,n||[],cg(t).constructor):e.apply(t,n))}function CAe(t,e){if(e&&(Kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PAe(t)}function PAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RF=function(){return!!t})()}function cg(t){return cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cg(t)}function kAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Mb(t,e)}function Mb(t,e){return Mb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Mb(t,e)}function OF(t,e,n){return e=MF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MF(t){var e=NAe(t,"string");return Kl(e)=="symbol"?e:e+""}function NAe(t,e){if(Kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Db(){return Db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Db.apply(this,arguments)}var RAe=function(e){var n=e.yAxisId,r=GT(),i=qT(),o=fF(n);return o==null?null:V.createElement(Iu,Db({},o,{className:we("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return bi(a,!0)}}))},ti=function(t){function e(){return TAe(this,e),IAe(this,e,arguments)}return kAe(e,t),AAe(e,[{key:"render",value:function(){return V.createElement(RAe,this.props)}}])}(V.Component);OF(ti,"displayName","YAxis");OF(ti,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function ZR(t){return LAe(t)||DAe(t)||MAe(t)||OAe()}function OAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MAe(t,e){if(t){if(typeof t=="string")return Lb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lb(t,e)}}function DAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LAe(t){if(Array.isArray(t))return Lb(t)}function Lb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $b=function(e,n,r,i,o){var s=Kn(e,Rf),a=Kn(e,Gy),l=[].concat(ZR(s),ZR(a)),u=Kn(e,Hy),c="".concat(i,"Id"),d=i[0],f=n;if(l.length&&(f=l.reduce(function(_,b){if(b.props[c]===r&&Jr(b.props,"extendDomain")&&te(b.props[d])){var T=b.props[d];return[Math.min(_[0],T),Math.max(_[1],T)]}return _},f)),u.length){var y="".concat(d,"1"),x="".concat(d,"2");f=u.reduce(function(_,b){if(b.props[c]===r&&Jr(b.props,"extendDomain")&&te(b.props[y])&&te(b.props[x])){var T=b.props[y],w=b.props[x];return[Math.min(_[0],T,w),Math.max(_[1],T,w)]}return _},f)}return o&&o.length&&(f=o.reduce(function(_,b){return te(b)?[Math.min(_[0],b),Math.max(_[1],b)]:_},f)),f},DF={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,d,f){if(typeof c!="function")throw new TypeError("The listener must be a function");var y=new i(c,d||l,f),x=n?n+u:u;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],y]:l._events[x].push(y):(l._events[x]=y,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,y=d.length,x=new Array(y);f<y;f++)x[f]=d[f].fn;return x},a.prototype.listenerCount=function(u){var c=n?n+u:u,d=this._events[c];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,c,d,f,y,x){var _=n?n+u:u;if(!this._events[_])return!1;var b=this._events[_],T=arguments.length,w,A;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),T){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,d),!0;case 4:return b.fn.call(b.context,c,d,f),!0;case 5:return b.fn.call(b.context,c,d,f,y),!0;case 6:return b.fn.call(b.context,c,d,f,y,x),!0}for(A=1,w=new Array(T-1);A<T;A++)w[A-1]=arguments[A];b.fn.apply(b.context,w)}else{var N=b.length,E;for(A=0;A<N;A++)switch(b[A].once&&this.removeListener(u,b[A].fn,void 0,!0),T){case 1:b[A].fn.call(b[A].context);break;case 2:b[A].fn.call(b[A].context,c);break;case 3:b[A].fn.call(b[A].context,c,d);break;case 4:b[A].fn.call(b[A].context,c,d,f);break;default:if(!w)for(E=1,w=new Array(T-1);E<T;E++)w[E-1]=arguments[E];b[A].fn.apply(b[A].context,w)}}return!0},a.prototype.on=function(u,c,d){return o(this,u,c,d,!1)},a.prototype.once=function(u,c,d){return o(this,u,c,d,!0)},a.prototype.removeListener=function(u,c,d,f){var y=n?n+u:u;if(!this._events[y])return this;if(!c)return s(this,y),this;var x=this._events[y];if(x.fn)x.fn===c&&(!f||x.once)&&(!d||x.context===d)&&s(this,y);else{for(var _=0,b=[],T=x.length;_<T;_++)(x[_].fn!==c||f&&!x[_].once||d&&x[_].context!==d)&&b.push(x[_]);b.length?this._events[y]=b.length===1?b[0]:b:s(this,y)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(DF);var $Ae=DF.exports;const jAe=ze($Ae);var E0=new jAe,T0="recharts.syncMouseEvents";function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function VAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LF(r.key),r)}}function UAe(t,e,n){return e&&FAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function S0(t,e,n){return e=LF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LF(t){var e=BAe(t,"string");return Qd(e)=="symbol"?e:e+""}function BAe(t,e){if(Qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var GAe=function(){function t(){VAe(this,t),S0(this,"activeIndex",0),S0(this,"coordinateList",[]),S0(this,"layout","horizontal")}return UAe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,d=c===void 0?null:c,f=n.mouseHandlerCallback,y=f===void 0?null:f;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=o+l+u,f=s+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function qAe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&te(r)&&te(i))return!0}return!1}function HAe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function $F(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Ge(e,n,r,i),a=Ge(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function zAe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,d=e.angle,f=Ge(a,l,u,d),y=Ge(a,l,c,d);r=f.x,i=f.y,o=y.x,s=y.y}else return $F(e);return[{x:r,y:i},{x:o,y:s}]}function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function eO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eO(Object(n),!0).forEach(function(r){WAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WAe(t,e,n){return e=KAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KAe(t){var e=YAe(t,"string");return Zd(e)=="symbol"?e:e+""}function YAe(t,e){if(Zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JAe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,d=t.layout,f=t.chartName,y=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!y||!o||!s||f!=="ScatterChart"&&i!=="axis")return null;var x,_=ks;if(f==="ScatterChart")x=s,_=O_e;else if(f==="BarChart")x=HAe(d,s,l,c),_=jT;else if(d==="radial"){var b=$F(s),T=b.cx,w=b.cy,A=b.radius,N=b.startAngle,E=b.endAngle;x={cx:T,cy:w,startAngle:N,endAngle:E,innerRadius:A,outerRadius:A},_=AV}else x={points:zAe(d,s,l)},_=ks;var I=Vh(Vh(Vh(Vh({stroke:"#ccc",pointerEvents:"none"},l),x),fe(y,!1)),{},{payload:a,payloadIndex:u,className:we("recharts-tooltip-cursor",y.className)});return V.isValidElement(y)?V.cloneElement(y,I):V.createElement(_,I)}var XAe=["item"],QAe=["children","className","width","height","style","compact","title","desc"];function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function Ga(){return Ga=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ga.apply(this,arguments)}function tO(t,e){return t1e(t)||e1e(t,e)||VF(t,e)||ZAe()}function ZAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function t1e(t){if(Array.isArray(t))return t}function nO(t,e){if(t==null)return{};var n=n1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function n1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function r1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FF(r.key),r)}}function o1e(t,e,n){return e&&i1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function s1e(t,e,n){return e=dg(e),a1e(t,jF()?Reflect.construct(e,n||[],dg(t).constructor):e.apply(t,n))}function a1e(t,e){if(e&&(Yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l1e(t)}function l1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jF=function(){return!!t})()}function dg(t){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dg(t)}function u1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jb(t,e)}function jb(t,e){return jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jb(t,e)}function Jl(t){return f1e(t)||d1e(t)||VF(t)||c1e()}function c1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VF(t,e){if(t){if(typeof t=="string")return Vb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vb(t,e)}}function d1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function f1e(t){if(Array.isArray(t))return Vb(t)}function Vb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(n),!0).forEach(function(r){ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ve(t,e,n){return e=FF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FF(t){var e=h1e(t,"string");return Yl(e)=="symbol"?e:e+""}function h1e(t,e){if(Yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var p1e={xAxis:["bottom","top"],yAxis:["left","right"]},m1e={width:"100%",height:"100%"},UF={x:0,y:0};function Fh(t){return t}var g1e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},y1e=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return K(K(K({},i),Ge(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return K(K(K({},i),Ge(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return UF},zy=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(Jl(a),Jl(u)):a},[]);return s.length>0?s:e&&e.length&&te(i)&&te(o)?e.slice(i,o+1):[]};function BF(t){return t==="number"?[0,"auto"]:void 0}var Fb=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=zy(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var c,d=(c=u.props.data)!==null&&c!==void 0?c:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(s.dataKey&&!s.allowDuplicatedCategory){var y=d===void 0?a:d;f=sm(y,s.dataKey,i)}else f=d&&d[r]||a[r];return f?[].concat(Jl(l),[vV(u,f)]):l},[])},iO=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=g1e(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=nve(s,a,u,l);if(c>=0&&u){var d=u[c]&&u[c].value,f=Fb(e,n,c,d),y=y1e(r,a,c,o);return{activeTooltipIndex:c,activeLabel:d,activePayload:f,activeCoordinate:y}}return null},v1e=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,f=e.stackOffset,y=fV(c,o);return r.reduce(function(x,_){var b,T=_.type.defaultProps!==void 0?K(K({},_.type.defaultProps),_.props):_.props,w=T.type,A=T.dataKey,N=T.allowDataOverflow,E=T.allowDuplicatedCategory,I=T.scale,v=T.ticks,S=T.includeHidden,P=T[s];if(x[P])return x;var k=zy(e.data,{graphicalItems:i.filter(function(Q){var se,Pe=s in Q.props?Q.props[s]:(se=Q.type.defaultProps)===null||se===void 0?void 0:se[s];return Pe===P}),dataStartIndex:l,dataEndIndex:u}),O=k.length,M,D,U;qAe(T.domain,N,w)&&(M=Q_(T.domain,null,N),y&&(w==="number"||I!=="auto")&&(U=$c(k,A,"category")));var B=BF(w);if(!M||M.length===0){var j,q=(j=T.domain)!==null&&j!==void 0?j:B;if(A){if(M=$c(k,A,w),w==="category"&&y){var F=zne(M);E&&F?(D=M,M=Xm(0,O)):E||(M=TN(q,M,_).reduce(function(Q,se){return Q.indexOf(se)>=0?Q:[].concat(Jl(Q),[se])},[]))}else if(w==="category")E?M=M.filter(function(Q){return Q!==""&&!be(Q)}):M=TN(q,M,_).reduce(function(Q,se){return Q.indexOf(se)>=0||se===""||be(se)?Q:[].concat(Jl(Q),[se])},[]);else if(w==="number"){var z=ave(k,i.filter(function(Q){var se,Pe,W=s in Q.props?Q.props[s]:(se=Q.type.defaultProps)===null||se===void 0?void 0:se[s],pe="hide"in Q.props?Q.props.hide:(Pe=Q.type.defaultProps)===null||Pe===void 0?void 0:Pe.hide;return W===P&&(S||!pe)}),A,o,c);z&&(M=z)}y&&(w==="number"||I!=="auto")&&(U=$c(k,A,"category"))}else y?M=Xm(0,O):a&&a[P]&&a[P].hasStack&&w==="number"?M=f==="expand"?[0,1]:yV(a[P].stackGroups,l,u):M=dV(k,i.filter(function(Q){var se=s in Q.props?Q.props[s]:Q.type.defaultProps[s],Pe="hide"in Q.props?Q.props.hide:Q.type.defaultProps.hide;return se===P&&(S||!Pe)}),w,c,!0);if(w==="number")M=$b(d,M,P,o,v),q&&(M=Q_(q,M,N));else if(w==="category"&&q){var Y=q,ie=M.every(function(Q){return Y.indexOf(Q)>=0});ie&&(M=Y)}}return K(K({},x),{},ve({},P,K(K({},T),{},{axisType:o,domain:M,categoricalDomain:U,duplicateDomain:D,originalDomain:(b=T.domain)!==null&&b!==void 0?b:B,isCategorical:y,layout:c})))},{})},x1e=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,d=e.children,f=zy(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),y=f.length,x=fV(c,o),_=-1;return r.reduce(function(b,T){var w=T.type.defaultProps!==void 0?K(K({},T.type.defaultProps),T.props):T.props,A=w[s],N=BF("number");if(!b[A]){_++;var E;return x?E=Xm(0,y):a&&a[A]&&a[A].hasStack?(E=yV(a[A].stackGroups,l,u),E=$b(d,E,A,o)):(E=Q_(N,dV(f,r.filter(function(I){var v,S,P=s in I.props?I.props[s]:(v=I.type.defaultProps)===null||v===void 0?void 0:v[s],k="hide"in I.props?I.props.hide:(S=I.type.defaultProps)===null||S===void 0?void 0:S.hide;return P===A&&!k}),"number",c),i.defaultProps.allowDataOverflow),E=$b(d,E,A,o)),K(K({},b),{},ve({},A,K(K({axisType:o},i.defaultProps),{},{hide:!0,orientation:Wn(p1e,"".concat(o,".").concat(_%2),null),domain:E,originalDomain:N,isCategorical:x,layout:c})))}return b},{})},_1e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,d="".concat(i,"Id"),f=Kn(c,o),y={};return f&&f.length?y=v1e(e,{axes:f,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(y=x1e(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),y},b1e=function(e){var n=co(e),r=bi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:dT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Lm(n,r)}},oO=function(e){var n=e.children,r=e.defaultShowTooltip,i=Bn(n,jl),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},w1e=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ti(n&&n.type);return r&&r.indexOf("Bar")>=0})},sO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},E1e=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,d=r.children,f=r.margin||{},y=Bn(d,jl),x=Bn(d,Si),_=Object.keys(l).reduce(function(E,I){var v=l[I],S=v.orientation;return!v.mirror&&!v.hide?K(K({},E),{},ve({},S,E[S]+v.width)):E},{left:f.left||0,right:f.right||0}),b=Object.keys(s).reduce(function(E,I){var v=s[I],S=v.orientation;return!v.mirror&&!v.hide?K(K({},E),{},ve({},S,Wn(E,"".concat(S))+v.height)):E},{top:f.top||0,bottom:f.bottom||0}),T=K(K({},b),_),w=T.bottom;y&&(T.bottom+=y.props.height||jl.defaultProps.height),x&&n&&(T=ove(T,i,r,n));var A=u-T.left-T.right,N=c-T.top-T.bottom;return K(K({brushBottom:w},T),{},{width:Math.max(A,0),height:Math.max(N,0)})},T1e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Mf=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,f=function(T,w){var A=w.graphicalItems,N=w.stackGroups,E=w.offset,I=w.updateId,v=w.dataStartIndex,S=w.dataEndIndex,P=T.barSize,k=T.layout,O=T.barGap,M=T.barCategoryGap,D=T.maxBarSize,U=sO(k),B=U.numericAxisName,j=U.cateAxisName,q=w1e(A),F=[];return A.forEach(function(z,Y){var ie=zy(T.data,{graphicalItems:[z],dataStartIndex:v,dataEndIndex:S}),Q=z.type.defaultProps!==void 0?K(K({},z.type.defaultProps),z.props):z.props,se=Q.dataKey,Pe=Q.maxBarSize,W=Q["".concat(B,"Id")],pe=Q["".concat(j,"Id")],ke={},Ee=l.reduce(function(jr,oi){var Qo=w["".concat(oi.axisType,"Map")],la=Q["".concat(oi.axisType,"Id")];Qo&&Qo[la]||oi.axisType==="zAxis"||Ks();var Cu=Qo[la];return K(K({},jr),{},ve(ve({},oi.axisType,Cu),"".concat(oi.axisType,"Ticks"),bi(Cu)))},ke),Z=Ee[j],le=Ee["".concat(j,"Ticks")],me=N&&N[W]&&N[W].hasStack&&gve(z,N[W].stackGroups),J=Ti(z.type).indexOf("Bar")>=0,Oe=Lm(Z,le),xe=[],Je=q&&rve({barSize:P,stackGroups:N,totalSize:T1e(Ee,j)});if(J){var et,$e,mn=be(Pe)?D:Pe,ii=(et=($e=Lm(Z,le,!0))!==null&&$e!==void 0?$e:mn)!==null&&et!==void 0?et:0;xe=ive({barGap:O,barCategoryGap:M,bandSize:ii!==Oe?ii:Oe,sizeList:Je[pe],maxBarSize:mn}),ii!==Oe&&(xe=xe.map(function(jr){return K(K({},jr),{},{position:K(K({},jr.position),{},{offset:jr.position.offset-ii/2})})}))}var Yi=z&&z.type&&z.type.getComposedData;Yi&&F.push({props:K(K({},Yi(K(K({},Ee),{},{displayedData:ie,props:T,dataKey:se,item:z,bandSize:Oe,barPosition:xe,offset:E,stackedData:me,layout:k,dataStartIndex:v,dataEndIndex:S}))),{},ve(ve(ve({key:z.key||"item-".concat(Y)},B,Ee[B]),j,Ee[j]),"animationId",I)),childIndex:ire(z,T.children),item:z})}),F},y=function(T,w){var A=T.props,N=T.dataStartIndex,E=T.dataEndIndex,I=T.updateId;if(!vP({props:A}))return null;var v=A.children,S=A.layout,P=A.stackOffset,k=A.data,O=A.reverseStackOrder,M=sO(S),D=M.numericAxisName,U=M.cateAxisName,B=Kn(v,r),j=pve(k,B,"".concat(D,"Id"),"".concat(U,"Id"),P,O),q=l.reduce(function(Q,se){var Pe="".concat(se.axisType,"Map");return K(K({},Q),{},ve({},Pe,_1e(A,K(K({},se),{},{graphicalItems:B,stackGroups:se.axisType===D&&j,dataStartIndex:N,dataEndIndex:E}))))},{}),F=E1e(K(K({},q),{},{props:A,graphicalItems:B}),w==null?void 0:w.legendBBox);Object.keys(q).forEach(function(Q){q[Q]=c(A,q[Q],F,Q.replace("Map",""),n)});var z=q["".concat(U,"Map")],Y=b1e(z),ie=f(A,K(K({},q),{},{dataStartIndex:N,dataEndIndex:E,updateId:I,graphicalItems:B,stackGroups:j,offset:F}));return K(K({formattedGraphicalItems:ie,graphicalItems:B,offset:F,stackGroups:j},Y),q)},x=function(b){function T(w){var A,N,E;return r1e(this,T),E=s1e(this,T,[w]),ve(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ve(E,"accessibilityManager",new GAe),ve(E,"handleLegendBBoxUpdate",function(I){if(I){var v=E.state,S=v.dataStartIndex,P=v.dataEndIndex,k=v.updateId;E.setState(K({legendBBox:I},y({props:E.props,dataStartIndex:S,dataEndIndex:P,updateId:k},K(K({},E.state),{},{legendBBox:I}))))}}),ve(E,"handleReceiveSyncEvent",function(I,v,S){if(E.props.syncId===I){if(S===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(v)}}),ve(E,"handleBrushChange",function(I){var v=I.startIndex,S=I.endIndex;if(v!==E.state.dataStartIndex||S!==E.state.dataEndIndex){var P=E.state.updateId;E.setState(function(){return K({dataStartIndex:v,dataEndIndex:S},y({props:E.props,dataStartIndex:v,dataEndIndex:S,updateId:P},E.state))}),E.triggerSyncEvent({dataStartIndex:v,dataEndIndex:S})}}),ve(E,"handleMouseEnter",function(I){var v=E.getMouseInfo(I);if(v){var S=K(K({},v),{},{isTooltipActive:!0});E.setState(S),E.triggerSyncEvent(S);var P=E.props.onMouseEnter;ge(P)&&P(S,I)}}),ve(E,"triggeredAfterMouseMove",function(I){var v=E.getMouseInfo(I),S=v?K(K({},v),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(S),E.triggerSyncEvent(S);var P=E.props.onMouseMove;ge(P)&&P(S,I)}),ve(E,"handleItemMouseEnter",function(I){E.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),ve(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),ve(E,"handleMouseMove",function(I){I.persist(),E.throttleTriggeredAfterMouseMove(I)}),ve(E,"handleMouseLeave",function(I){E.throttleTriggeredAfterMouseMove.cancel();var v={isTooltipActive:!1};E.setState(v),E.triggerSyncEvent(v);var S=E.props.onMouseLeave;ge(S)&&S(v,I)}),ve(E,"handleOuterEvent",function(I){var v=rre(I),S=Wn(E.props,"".concat(v));if(v&&ge(S)){var P,k;/.*touch.*/i.test(v)?k=E.getMouseInfo(I.changedTouches[0]):k=E.getMouseInfo(I),S((P=k)!==null&&P!==void 0?P:{},I)}}),ve(E,"handleClick",function(I){var v=E.getMouseInfo(I);if(v){var S=K(K({},v),{},{isTooltipActive:!0});E.setState(S),E.triggerSyncEvent(S);var P=E.props.onClick;ge(P)&&P(S,I)}}),ve(E,"handleMouseDown",function(I){var v=E.props.onMouseDown;if(ge(v)){var S=E.getMouseInfo(I);v(S,I)}}),ve(E,"handleMouseUp",function(I){var v=E.props.onMouseUp;if(ge(v)){var S=E.getMouseInfo(I);v(S,I)}}),ve(E,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),ve(E,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&E.handleMouseDown(I.changedTouches[0])}),ve(E,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&E.handleMouseUp(I.changedTouches[0])}),ve(E,"handleDoubleClick",function(I){var v=E.props.onDoubleClick;if(ge(v)){var S=E.getMouseInfo(I);v(S,I)}}),ve(E,"handleContextMenu",function(I){var v=E.props.onContextMenu;if(ge(v)){var S=E.getMouseInfo(I);v(S,I)}}),ve(E,"triggerSyncEvent",function(I){E.props.syncId!==void 0&&E0.emit(T0,E.props.syncId,I,E.eventEmitterSymbol)}),ve(E,"applySyncEvent",function(I){var v=E.props,S=v.layout,P=v.syncMethod,k=E.state.updateId,O=I.dataStartIndex,M=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)E.setState(K({dataStartIndex:O,dataEndIndex:M},y({props:E.props,dataStartIndex:O,dataEndIndex:M,updateId:k},E.state)));else if(I.activeTooltipIndex!==void 0){var D=I.chartX,U=I.chartY,B=I.activeTooltipIndex,j=E.state,q=j.offset,F=j.tooltipTicks;if(!q)return;if(typeof P=="function")B=P(F,I);else if(P==="value"){B=-1;for(var z=0;z<F.length;z++)if(F[z].value===I.activeLabel){B=z;break}}var Y=K(K({},q),{},{x:q.left,y:q.top}),ie=Math.min(D,Y.x+Y.width),Q=Math.min(U,Y.y+Y.height),se=F[B]&&F[B].value,Pe=Fb(E.state,E.props.data,B),W=F[B]?{x:S==="horizontal"?F[B].coordinate:ie,y:S==="horizontal"?Q:F[B].coordinate}:UF;E.setState(K(K({},I),{},{activeLabel:se,activeCoordinate:W,activePayload:Pe,activeTooltipIndex:B}))}else E.setState(I)}),ve(E,"renderCursor",function(I){var v,S=E.state,P=S.isTooltipActive,k=S.activeCoordinate,O=S.activePayload,M=S.offset,D=S.activeTooltipIndex,U=S.tooltipAxisBandSize,B=E.getTooltipEventType(),j=(v=I.props.active)!==null&&v!==void 0?v:P,q=E.props.layout,F=I.key||"_recharts-cursor";return $.createElement(JAe,{key:F,activeCoordinate:k,activePayload:O,activeTooltipIndex:D,chartName:n,element:I,isActive:j,layout:q,offset:M,tooltipAxisBandSize:U,tooltipEventType:B})}),ve(E,"renderPolarAxis",function(I,v,S){var P=Wn(I,"type.axisType"),k=Wn(E.state,"".concat(P,"Map")),O=I.type.defaultProps,M=O!==void 0?K(K({},O),I.props):I.props,D=k&&k[M["".concat(P,"Id")]];return V.cloneElement(I,K(K({},D),{},{className:we(P,D.className),key:I.key||"".concat(v,"-").concat(S),ticks:bi(D,!0)}))}),ve(E,"renderPolarGrid",function(I){var v=I.props,S=v.radialLines,P=v.polarAngles,k=v.polarRadius,O=E.state,M=O.radiusAxisMap,D=O.angleAxisMap,U=co(M),B=co(D),j=B.cx,q=B.cy,F=B.innerRadius,z=B.outerRadius;return V.cloneElement(I,{polarAngles:Array.isArray(P)?P:bi(B,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(k)?k:bi(U,!0).map(function(Y){return Y.coordinate}),cx:j,cy:q,innerRadius:F,outerRadius:z,key:I.key||"polar-grid",radialLines:S})}),ve(E,"renderLegend",function(){var I=E.state.formattedGraphicalItems,v=E.props,S=v.children,P=v.width,k=v.height,O=E.props.margin||{},M=P-(O.left||0)-(O.right||0),D=uV({children:S,formattedGraphicalItems:I,legendWidth:M,legendContent:u});if(!D)return null;var U=D.item,B=nO(D,XAe);return V.cloneElement(U,K(K({},B),{},{chartWidth:P,chartHeight:k,margin:O,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),ve(E,"renderTooltip",function(){var I,v=E.props,S=v.children,P=v.accessibilityLayer,k=Bn(S,ln);if(!k)return null;var O=E.state,M=O.isTooltipActive,D=O.activeCoordinate,U=O.activePayload,B=O.activeLabel,j=O.offset,q=(I=k.props.active)!==null&&I!==void 0?I:M;return V.cloneElement(k,{viewBox:K(K({},j),{},{x:j.left,y:j.top}),active:q,label:B,payload:q?U:[],coordinate:D,accessibilityLayer:P})}),ve(E,"renderBrush",function(I){var v=E.props,S=v.margin,P=v.data,k=E.state,O=k.offset,M=k.dataStartIndex,D=k.dataEndIndex,U=k.updateId;return V.cloneElement(I,{key:I.key||"_recharts-brush",onChange:Dh(E.handleBrushChange,I.props.onChange),data:P,x:te(I.props.x)?I.props.x:O.left,y:te(I.props.y)?I.props.y:O.top+O.height+O.brushBottom-(S.bottom||0),width:te(I.props.width)?I.props.width:O.width,startIndex:M,endIndex:D,updateId:"brush-".concat(U)})}),ve(E,"renderReferenceElement",function(I,v,S){if(!I)return null;var P=E,k=P.clipPathId,O=E.state,M=O.xAxisMap,D=O.yAxisMap,U=O.offset,B=I.type.defaultProps||{},j=I.props,q=j.xAxisId,F=q===void 0?B.xAxisId:q,z=j.yAxisId,Y=z===void 0?B.yAxisId:z;return V.cloneElement(I,{key:I.key||"".concat(v,"-").concat(S),xAxis:M[F],yAxis:D[Y],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:k})}),ve(E,"renderActivePoints",function(I){var v=I.item,S=I.activePoint,P=I.basePoint,k=I.childIndex,O=I.isRange,M=[],D=v.props.key,U=v.item.type.defaultProps!==void 0?K(K({},v.item.type.defaultProps),v.item.props):v.item.props,B=U.activeDot,j=U.dataKey,q=K(K({index:k,dataKey:j,cx:S.x,cy:S.y,r:4,fill:$T(v.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},fe(B,!1)),am(B));return M.push(T.renderActiveDot(B,q,"".concat(D,"-activePoint-").concat(k))),P?M.push(T.renderActiveDot(B,K(K({},q),{},{cx:P.x,cy:P.y}),"".concat(D,"-basePoint-").concat(k))):O&&M.push(null),M}),ve(E,"renderGraphicChild",function(I,v,S){var P=E.filterFormatItem(I,v,S);if(!P)return null;var k=E.getTooltipEventType(),O=E.state,M=O.isTooltipActive,D=O.tooltipAxis,U=O.activeTooltipIndex,B=O.activeLabel,j=E.props.children,q=Bn(j,ln),F=P.props,z=F.points,Y=F.isRange,ie=F.baseLine,Q=P.item.type.defaultProps!==void 0?K(K({},P.item.type.defaultProps),P.item.props):P.item.props,se=Q.activeDot,Pe=Q.hide,W=Q.activeBar,pe=Q.activeShape,ke=!!(!Pe&&M&&q&&(se||W||pe)),Ee={};k!=="axis"&&q&&q.props.trigger==="click"?Ee={onClick:Dh(E.handleItemMouseEnter,I.props.onClick)}:k!=="axis"&&(Ee={onMouseLeave:Dh(E.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:Dh(E.handleItemMouseEnter,I.props.onMouseEnter)});var Z=V.cloneElement(I,K(K({},P.props),Ee));function le(oi){return typeof D.dataKey=="function"?D.dataKey(oi.payload):null}if(ke)if(U>=0){var me,J;if(D.dataKey&&!D.allowDuplicatedCategory){var Oe=typeof D.dataKey=="function"?le:"payload.".concat(D.dataKey.toString());me=sm(z,Oe,B),J=Y&&ie&&sm(ie,Oe,B)}else me=z==null?void 0:z[U],J=Y&&ie&&ie[U];if(pe||W){var xe=I.props.activeIndex!==void 0?I.props.activeIndex:U;return[V.cloneElement(I,K(K(K({},P.props),Ee),{},{activeIndex:xe})),null,null]}if(!be(me))return[Z].concat(Jl(E.renderActivePoints({item:P,activePoint:me,basePoint:J,childIndex:U,isRange:Y})))}else{var Je,et=(Je=E.getItemByXY(E.state.activeCoordinate))!==null&&Je!==void 0?Je:{graphicalItem:Z},$e=et.graphicalItem,mn=$e.item,ii=mn===void 0?I:mn,Yi=$e.childIndex,jr=K(K(K({},P.props),Ee),{},{activeIndex:Yi});return[V.cloneElement(ii,jr),null,null]}return Y?[Z,null,null]:[Z,null]}),ve(E,"renderCustomized",function(I,v,S){return V.cloneElement(I,K(K({key:"recharts-customized-".concat(S)},E.props),E.state))}),ve(E,"renderMap",{CartesianGrid:{handler:Fh,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:Fh},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:Fh},YAxis:{handler:Fh},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((A=w.id)!==null&&A!==void 0?A:ia("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=u4(E.triggeredAfterMouseMove,(N=w.throttleDelay)!==null&&N!==void 0?N:1e3/60),E.state={},E}return u1e(T,b),o1e(T,[{key:"componentDidMount",value:function(){var A,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,N=A.children,E=A.data,I=A.height,v=A.layout,S=Bn(N,ln);if(S){var P=S.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var k=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,O=Fb(this.state,E,P,k),M=this.state.tooltipTicks[P].coordinate,D=(this.state.offset.top+I)/2,U=v==="horizontal",B=U?{x:M,y:D}:{y:M,x:D},j=this.state.formattedGraphicalItems.find(function(F){var z=F.item;return z.type.name==="Scatter"});j&&(B=K(K({},B),j.props.points[P].tooltipPosition),O=j.props.points[P].tooltipPayload);var q={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:k,activePayload:O,activeCoordinate:B};this.setState(q),this.renderCursor(S),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var E,I;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(A){h_([Bn(A.children,ln)],[Bn(this.props.children,ln)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=Bn(this.props.children,ln);if(A&&typeof A.props.shared=="boolean"){var N=A.props.shared?"axis":"item";return a.indexOf(N)>=0?N:o}return o}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var N=this.container,E=N.getBoundingClientRect(),I=khe(E),v={chartX:Math.round(A.pageX-I.left),chartY:Math.round(A.pageY-I.top)},S=E.width/N.offsetWidth||1,P=this.inRange(v.chartX,v.chartY,S);if(!P)return null;var k=this.state,O=k.xAxisMap,M=k.yAxisMap,D=this.getTooltipEventType(),U=iO(this.state,this.props.data,this.props.layout,P);if(D!=="axis"&&O&&M){var B=co(O).scale,j=co(M).scale,q=B&&B.invert?B.invert(v.chartX):null,F=j&&j.invert?j.invert(v.chartY):null;return K(K({},v),{},{xValue:q,yValue:F},U)}return U?K(K({},v),U):null}},{key:"inRange",value:function(A,N){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,v=A/E,S=N/E;if(I==="horizontal"||I==="vertical"){var P=this.state.offset,k=v>=P.left&&v<=P.left+P.width&&S>=P.top&&S<=P.top+P.height;return k?{x:v,y:S}:null}var O=this.state,M=O.angleAxisMap,D=O.radiusAxisMap;if(M&&D){var U=co(M);return IN({x:v,y:S},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,N=this.getTooltipEventType(),E=Bn(A,ln),I={};E&&N==="axis"&&(E.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var v=am(this.props,this.handleOuterEvent);return K(K({},v),I)}},{key:"addListener",value:function(){E0.on(T0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){E0.removeListener(T0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,N,E){for(var I=this.state.formattedGraphicalItems,v=0,S=I.length;v<S;v++){var P=I[v];if(P.item===A||P.props.key===A.key||N===Ti(P.item.type)&&E===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,N=this.state.offset,E=N.left,I=N.top,v=N.height,S=N.width;return $.createElement("defs",null,$.createElement("clipPath",{id:A},$.createElement("rect",{x:E,y:I,height:v,width:S})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(N,E){var I=tO(E,2),v=I[0],S=I[1];return K(K({},N),{},ve({},v,S.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(N,E){var I=tO(E,2),v=I[0],S=I[1];return K(K({},N),{},ve({},v,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[A])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(A){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[A])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(A){var N=this.state,E=N.formattedGraphicalItems,I=N.activeItem;if(E&&E.length)for(var v=0,S=E.length;v<S;v++){var P=E[v],k=P.props,O=P.item,M=O.type.defaultProps!==void 0?K(K({},O.type.defaultProps),O.props):O.props,D=Ti(O.type);if(D==="Bar"){var U=(k.data||[]).find(function(F){return p_e(A,F)});if(U)return{graphicalItem:P,payload:U}}else if(D==="RadialBar"){var B=(k.data||[]).find(function(F){return IN(A,F)});if(B)return{graphicalItem:P,payload:B}}else if(Vy(P,I)||Fy(P,I)||Wd(P,I)){var j=fwe({graphicalItem:P,activeTooltipItem:I,itemData:M.data}),q=M.activeIndex===void 0?j:M.activeIndex;return{graphicalItem:K(K({},P),{},{childIndex:q}),payload:Wd(P,I)?M.data[j]:P.props.data[j]}}}return null}},{key:"render",value:function(){var A=this;if(!vP(this))return null;var N=this.props,E=N.children,I=N.className,v=N.width,S=N.height,P=N.style,k=N.compact,O=N.title,M=N.desc,D=nO(N,QAe),U=fe(D,!1);if(k)return $.createElement(DR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement(m_,Ga({},U,{width:v,height:S,title:O,desc:M}),this.renderClipPath(),_P(E,this.renderMap)));if(this.props.accessibilityLayer){var B,j;U.tabIndex=(B=this.props.tabIndex)!==null&&B!==void 0?B:0,U.role=(j=this.props.role)!==null&&j!==void 0?j:"application",U.onKeyDown=function(F){A.accessibilityManager.keyboardEvent(F)},U.onFocus=function(){A.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return $.createElement(DR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},$.createElement("div",Ga({className:we("recharts-wrapper",I),style:K({position:"relative",cursor:"default",width:v,height:S},P)},q,{ref:function(z){A.container=z}}),$.createElement(m_,Ga({},U,{width:v,height:S,title:O,desc:M,style:m1e}),this.renderClipPath(),_P(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(V.Component);ve(x,"displayName",n),ve(x,"defaultProps",K({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),ve(x,"getDerivedStateFromProps",function(b,T){var w=b.dataKey,A=b.data,N=b.children,E=b.width,I=b.height,v=b.layout,S=b.stackOffset,P=b.margin,k=T.dataStartIndex,O=T.dataEndIndex;if(T.updateId===void 0){var M=oO(b);return K(K(K({},M),{},{updateId:0},y(K(K({props:b},M),{},{updateId:0}),T)),{},{prevDataKey:w,prevData:A,prevWidth:E,prevHeight:I,prevLayout:v,prevStackOffset:S,prevMargin:P,prevChildren:N})}if(w!==T.prevDataKey||A!==T.prevData||E!==T.prevWidth||I!==T.prevHeight||v!==T.prevLayout||S!==T.prevStackOffset||!rl(P,T.prevMargin)){var D=oO(b),U={chartX:T.chartX,chartY:T.chartY,isTooltipActive:T.isTooltipActive},B=K(K({},iO(T,A,v)),{},{updateId:T.updateId+1}),j=K(K(K({},D),U),B);return K(K(K({},j),y(K({props:b},j),T)),{},{prevDataKey:w,prevData:A,prevWidth:E,prevHeight:I,prevLayout:v,prevStackOffset:S,prevMargin:P,prevChildren:N})}if(!h_(N,T.prevChildren)){var q,F,z,Y,ie=Bn(N,jl),Q=ie&&(q=(F=ie.props)===null||F===void 0?void 0:F.startIndex)!==null&&q!==void 0?q:k,se=ie&&(z=(Y=ie.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&z!==void 0?z:O,Pe=Q!==k||se!==O,W=!be(A),pe=W&&!Pe?T.updateId:T.updateId+1;return K(K({updateId:pe},y(K(K({props:b},T),{},{updateId:pe,dataStartIndex:Q,dataEndIndex:se}),T)),{},{prevChildren:N,dataStartIndex:Q,dataEndIndex:se})}return null}),ve(x,"renderActiveDot",function(b,T,w){var A;return V.isValidElement(b)?A=V.cloneElement(b,T):ge(b)?A=b(T):A=$.createElement(Tu,T),$.createElement(Ce,{className:"recharts-active-dot",key:w},A)});var _=V.forwardRef(function(T,w){return $.createElement(x,Ga({},T,{ref:w}))});return _.displayName=x.displayName,_},S1e=Mf({chartName:"LineChart",GraphicalChild:Of,axisComponents:[{axisType:"xAxis",AxisComp:ei},{axisType:"yAxis",AxisComp:ti}],formatAxisMap:VT}),KT=Mf({chartName:"BarChart",GraphicalChild:Zr,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ei},{axisType:"yAxis",AxisComp:ti}],formatAxisMap:VT}),A1e=Mf({chartName:"PieChart",GraphicalChild:Ki,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Au},{axisType:"radiusAxis",AxisComp:Su}],formatAxisMap:bV,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),I1e=Mf({chartName:"RadarChart",GraphicalChild:Ll,axisComponents:[{axisType:"angleAxis",AxisComp:Au},{axisType:"radiusAxis",AxisComp:Su}],formatAxisMap:bV,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),C1e=Mf({chartName:"AreaChart",GraphicalChild:Xo,axisComponents:[{axisType:"xAxis",AxisComp:ei},{axisType:"yAxis",AxisComp:ti}],formatAxisMap:VT});const aO=[{id:"first_invest",name:"Investidor Iniciante",description:"Realizou o primeiro investimento.",icon:"",condition:t=>t.investments.length>0,getProgress:t=>t.investments.length>0?100:0},{id:"controlled",name:"No Controle",description:"Tem mais receitas que despesas no ms.",icon:"",condition:t=>{const e=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="expense").reduce((r,i)=>r+i.amount,0);return e>n&&e>0},getProgress:t=>{const e=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="expense").reduce((r,i)=>r+i.amount,0);return e===0?0:e>n?100:Math.min(99,e/n*100)}},{id:"saver",name:"Poupador",description:"Acumulou mais de R$ 5.000 em investimentos.",icon:"",condition:t=>t.investments.reduce((e,n)=>e+n.amount,0)>=5e3,getProgress:t=>Math.min(100,t.investments.reduce((e,n)=>e+n.amount,0)/5e3*100)},{id:"diversified",name:"Mente Diversificada",description:"Investiu em 3 ou mais categorias diferentes.",icon:"",condition:t=>new Set(t.investments.map(n=>n.type)).size>=3,getProgress:t=>{const e=new Set(t.investments.map(n=>n.type));return Math.min(100,e.size/3*100)}},{id:"debt_free",name:"Zero Pendncias",description:"No possui nenhuma conta pendente.",icon:"",condition:t=>{const e=t.transactions.some(r=>r.type==="expense"),n=t.transactions.filter(r=>r.type==="expense"&&r.status==="pending");return e&&n.length===0},getProgress:t=>{const e=t.transactions.filter(r=>r.type==="expense");if(e.length===0)return 0;const n=e.filter(r=>r.status==="paid").length;return Math.min(100,n/e.length*100)}},{id:"goal_hitter",name:"Na Mosca",description:"Atingiu 100% da meta de um investimento.",icon:"",condition:t=>t.investments.some(e=>e.targetAmount>0&&e.amount>=e.targetAmount),getProgress:t=>{const e=t.investments.map(n=>n.targetAmount>0?n.amount/n.targetAmount*100:0);return Math.min(100,Math.max(0,...e))}},{id:"club_10k",name:"Clube dos 10k",description:"Patrimnio total superou R$ 10.000.",icon:"",condition:t=>{const e=t.investments.reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0)-t.transactions.filter(r=>r.type==="expense"&&r.status==="paid").reduce((r,i)=>r+i.amount,0);return e+n>=1e4},getProgress:t=>{const e=t.investments.reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0)-t.transactions.filter(r=>r.type==="expense"&&r.status==="paid").reduce((r,i)=>r+i.amount,0);return Math.min(100,(e+n)/1e4*100)}}],P1e=(t,e,n)=>{const r=n.toISOString().slice(0,7),i=t.find(o=>o.category===e&&o.month===r);return i||t.find(o=>o.category===e&&o.isRecurring)},lO=({data:t,privacyMode:e,onUnlockBadge:n})=>{const[r,i]=V.useState(()=>{const v=new Date;v.setMonth(v.getMonth()-5);const S=String(v.getMonth()+1).padStart(2,"0");return`${v.getFullYear()}-${S}`});V.useEffect(()=>{aO.forEach(v=>{!t.unlockedBadges.includes(v.id)&&v.condition(t)&&n(v.id)})},[t,n]);const o=V.useMemo(()=>{const v=[],S=new Date,P=S.getMonth(),k=S.getFullYear(),O=Array.from(new Set(t.budgets.map(M=>M.category)));return S.getDate()<=25&&O.forEach(M=>{const D=P1e(t.budgets,M,S);if(!D)return;const U=t.transactions.filter(B=>B.type==="expense"&&B.category===M&&new Date(B.date).getMonth()===P&&new Date(B.date).getFullYear()===k).reduce((B,j)=>B+j.amount,0);U>=D.limit*.8&&U<D.limit?v.push({title:`Ateno: ${M}`,message:`Voc j usou ${(U/D.limit*100).toFixed(0)}% do oramento e ainda  dia ${S.getDate()}. Cuidado!`,type:"warning"}):U>=D.limit&&v.push({title:`Limite Excedido: ${M}`,message:"Voc estourou o teto definido para esta categoria.",type:"warning"})}),v},[t.budgets,t.transactions]),s=v=>e?"":`R$ ${v.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,a=t.transactions.filter(v=>v.type==="income").reduce((v,S)=>v+S.amount,0),l=t.transactions.filter(v=>v.type==="expense").reduce((v,S)=>v+S.amount,0),u=t.transactions.filter(v=>v.type==="expense"&&v.status==="pending").reduce((v,S)=>v+S.amount,0),c=a-t.transactions.filter(v=>v.type==="expense"&&v.status==="paid").reduce((v,S)=>v+S.amount,0),d=t.investments.reduce((v,S)=>v+S.amount,0),f=V.useMemo(()=>t.transactions.filter(S=>S.type==="expense"&&S.status==="pending").sort((S,P)=>new Date(S.date).getTime()-new Date(P.date).getTime()).slice(0,3),[t.transactions]),y=V.useMemo(()=>[...t.investments].sort((v,S)=>S.amount-v.amount).slice(0,3),[t.investments]),x=V.useMemo(()=>{const v=l>0?l:a*.5||1e3;return c/v},[c,l,a]),{healthScore:_,scoreLabel:b,scoreColor:T,factors:w}=V.useMemo(()=>{let v=0;const S=[],P=F=>{const z=new Date(F);return(new Date().getTime()-z.getTime())/(1e3*60*60*24*365.25)>=5},k=t.debts.filter(F=>(F.status==="open"||F.status==="negotiating")&&!P(F.dueDate)),O=k.length>0;O?(v+=200,S.push({text:`Negativado: ${k.length} dvidas`,type:"bad"})):(v+=350,S.push({text:"Nome Limpo",type:"good"}));const M=l>0?l:1e3,D=d/M;D>=6?(v+=200,S.push({text:"Reserva Robusta",type:"good"})):D>=1?(v+=100,S.push({text:"Reserva Iniciada",type:"neutral"})):S.push({text:"Sem Reserva",type:"bad"});const U=a-l,B=a>0?U/a:0;B>=.2?(v+=150,S.push({text:"Poupador (20%+)",type:"good"})):B<0&&(v-=50,S.push({text:"Dficit Mensal",type:"bad"})),c>=u?v+=150:(v-=100,S.push({text:"Risco de Calote",type:"bad"})),O&&(v=Math.min(v,550)),v=Math.max(0,Math.min(1e3,Math.round(v)));let j="",q="";return v>=850?(j="Elite",q="text-emerald-500"):v>=700?(j="Excelente",q="text-emerald-600"):v>=500?(j="Regular",q="text-amber-500"):v>=300?(j="Ruim",q="text-orange-500"):(j="Crtico",q="text-rose-600"),{healthScore:v,scoreLabel:j,scoreColor:q,factors:S}},[t,a,l,u,c,d]),A=V.useMemo(()=>{const v=new Map,[S,P]=r.split("-").map(Number),k=new Date(S,P-1,1),O=new Date;for(;k<=O||k.getMonth()===O.getMonth()&&k.getFullYear()===O.getFullYear();){const M=k.getFullYear(),D=String(k.getMonth()+1).padStart(2,"0");v.set(`${M}-${D}`,0),k.setMonth(k.getMonth()+1)}return t.transactions.forEach(M=>{if(M.type==="expense"){const D=M.date.slice(0,7);v.has(D)&&v.set(D,(v.get(D)||0)+M.amount)}}),Array.from(v.entries()).map(([M,D])=>{const[U,B]=M.split("-").map(Number);return{name:new Date(U,B-1,1).toLocaleDateString("pt-BR",{month:"short",year:"2-digit"}),amount:D,fullDate:M}})},[t.transactions,r]),N=V.useMemo(()=>{const v=new Map;for(let S=5;S>=0;S--){const P=new Date;P.setMonth(P.getMonth()-S),v.set(P.toISOString().slice(0,7),{income:0,expense:0})}return t.transactions.forEach(S=>{const P=S.date.slice(0,7);if(v.has(P)){const k=v.get(P);S.type==="income"?k.income+=S.amount:k.expense+=S.amount}}),Array.from(v.entries()).map(([S,P])=>{const[k,O]=S.split("-");return{name:new Date(parseInt(k),parseInt(O)-1,2).toLocaleDateString("pt-BR",{month:"short"}),Receitas:P.income,Despesas:P.expense}})},[t.transactions]),E=[{name:"Saldo Livre",value:Math.max(0,c),color:"#10b981"},{name:"Contas Pendentes",value:u,color:"#ef4444"},{name:"Investido",value:d,color:"#3b82f6"}].filter(v=>v.value>0),I=()=>{const v=`data:text/csv;charset=utf-8,Data,Descricao,Categoria,Tipo,Valor,Status
`+t.transactions.map(k=>`${k.date},${k.description},${k.category},${k.type},${k.amount},${k.status}`).join(`
`),S=encodeURI(v),P=document.createElement("a");P.setAttribute("href",S),P.setAttribute("download","finansmart_relatorio.csv"),document.body.appendChild(P),P.click(),document.body.removeChild(P)};return p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[o.length>0&&p.jsx("div",{className:"space-y-2",children:o.map((v,S)=>p.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-4 rounded-xl flex items-start gap-3 animate-fade-in-down",children:[p.jsx("div",{className:"bg-amber-100 dark:bg-amber-800 p-2 rounded-full flex-shrink-0",children:p.jsx(Y5,{className:"w-5 h-5 text-amber-600 dark:text-amber-300"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-amber-800 dark:text-amber-300 text-sm",children:v.title}),p.jsx("p",{className:"text-amber-700 dark:text-amber-400 text-xs mt-0.5",children:v.message})]})]},S))}),p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-2",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 w-full md:flex-1 min-w-0",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white whitespace-nowrap flex-shrink-0",children:"Viso Geral"}),p.jsx("div",{className:"flex-1 flex items-center gap-2 px-4 py-2 sm:border-l sm:border-slate-300 dark:sm:border-slate-600 overflow-x-auto no-scrollbar mask-gradient w-full",children:aO.map(v=>{const S=t.unlockedBadges.includes(v.id),P=v.getProgress(t);return p.jsxs("div",{className:"group relative flex-shrink-0 cursor-help",children:[p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:`text-xl md:text-2xl transition-all duration-300 block ${S?"filter-none opacity-100 scale-100":"grayscale opacity-30 scale-90"}`,children:v.icon}),!S&&P>0&&p.jsx("div",{className:"absolute -bottom-1 left-0 w-full h-1 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${P}%`}})})]}),p.jsxs("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-3 w-max max-w-[180px] hidden group-hover:block z-50 pointer-events-none animate-fade-in",children:[p.jsxs("div",{className:"bg-slate-800 text-white text-xs px-3 py-2 rounded-lg shadow-xl text-center border border-slate-700",children:[p.jsx("p",{className:"font-bold mb-0.5",children:v.name}),p.jsx("p",{className:"opacity-80 mb-2",children:v.description}),p.jsx("div",{className:"flex items-center justify-between text-[10px] uppercase font-semibold",children:p.jsx("span",{className:S?"text-emerald-400":"text-slate-400",children:S?"Desbloqueado":`${P.toFixed(0)}% Concludo`})}),!S&&p.jsx("div",{className:"w-full h-1.5 bg-slate-700 rounded-full mt-1 overflow-hidden",children:p.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-500",style:{width:`${P}%`}})})]}),p.jsx("div",{className:"w-2 h-2 bg-slate-800 rotate-45 absolute -top-1 left-1/2 -translate-x-1/2 border-t border-l border-slate-700"})]})]},v.id)})})]}),p.jsxs("button",{onClick:I,className:"flex items-center gap-2 text-sm font-medium text-slate-500 hover:text-indigo-600 dark:text-slate-400 dark:hover:text-indigo-400 transition-colors self-end md:self-auto flex-shrink-0",children:[p.jsx(rB,{className:"w-4 h-4"})," Exportar CSV"]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 relative overflow-hidden group flex flex-col justify-between",children:[p.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:p.jsx(PB,{className:"w-20 h-20 text-slate-400"})}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Score Financeiro"}),p.jsx(K5,{className:`w-4 h-4 ${T}`})]}),p.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[p.jsx("span",{className:`text-3xl font-black ${T} tracking-tighter`,children:_}),p.jsx("span",{className:"text-[10px] text-slate-400 font-medium",children:"/ 1000"})]}),p.jsx("p",{className:`text-xs font-bold uppercase tracking-wide ${T}`,children:b})]}),p.jsx("div",{className:"mt-3 pt-3 border-t border-slate-100 dark:border-slate-700/50 space-y-1",children:w.slice(0,2).map((v,S)=>p.jsxs("div",{className:"flex items-center gap-1.5 text-[10px]",children:[v.type==="good"&&p.jsx(PM,{className:"w-3 h-3 text-emerald-500"}),v.type==="bad"&&p.jsx(sd,{className:"w-3 h-3 text-rose-500"}),v.type==="neutral"&&p.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300"}),p.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate",children:v.text})]},S))})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Saldo em Caixa"}),p.jsx(MM,{className:"w-4 h-4 text-emerald-500"})]}),p.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white truncate",children:s(c)})]}),p.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-medium uppercase",children:"Sobrevivncia"}),p.jsx("span",{className:`text-xs font-bold ${x<1?"text-rose-500":x<3?"text-amber-500":"text-emerald-500"}`,children:x<.1?"Crtico":`${x.toFixed(1)} Meses`})]}),p.jsx("div",{className:"w-full h-1.5 bg-slate-100 dark:bg-slate-700 rounded-full mt-1.5 overflow-hidden",children:p.jsx("div",{className:`h-full rounded-full ${x<1?"bg-rose-500":x<3?"bg-amber-400":"bg-emerald-500"}`,style:{width:`${Math.min(100,x/6*100)}%`}})})]})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"A Pagar (Ms)"}),p.jsx("p",{className:"text-2xl font-bold text-rose-600 dark:text-rose-400 mt-1",children:s(u)})]}),p.jsx("div",{className:"bg-rose-50 dark:bg-rose-900/20 p-2 rounded-lg",children:p.jsx(Cg,{className:"w-5 h-5 text-rose-500"})})]}),p.jsxs("div",{className:"flex-1 flex flex-col justify-end space-y-2",children:[p.jsx("p",{className:"text-[10px] text-slate-400 font-semibold uppercase border-b border-slate-100 dark:border-slate-700/50 pb-1",children:"Prximos Vencimentos"}),f.length===0?p.jsx("div",{className:"text-xs text-slate-400 italic",children:"Nada pendente."}):f.map(v=>{const S=new Date(v.date)<new Date(new Date().setHours(0,0,0,0));return p.jsxs("div",{className:"flex justify-between items-center text-xs",children:[p.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[p.jsx("div",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${S?"bg-rose-500":"bg-amber-400"}`}),p.jsx("span",{className:"truncate text-slate-600 dark:text-slate-300 max-w-[80px]",children:v.description})]}),p.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[p.jsx("span",{className:"text-slate-400 text-[10px]",children:new Date(v.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}),p.jsx("span",{className:`font-semibold ${S?"text-rose-500":"text-slate-700 dark:text-slate-200"}`,children:s(v.amount).replace("R$","")})]})]},v.id)})]})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Total Investido"}),p.jsx("p",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400 mt-1",children:s(d)})]}),p.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded-lg",children:p.jsx(af,{className:"w-5 h-5 text-indigo-500"})})]}),p.jsxs("div",{className:"flex-1 flex flex-col justify-end space-y-2",children:[p.jsxs("p",{className:"text-[10px] text-slate-400 font-semibold uppercase border-b border-slate-100 dark:border-slate-700/50 pb-1 flex justify-between",children:[p.jsx("span",{children:"Maiores Posies"}),p.jsx(IB,{className:"w-3 h-3"})]}),y.length===0?p.jsx("div",{className:"text-xs text-slate-400 italic",children:"Carteira vazia."}):y.map((v,S)=>p.jsxs("div",{className:"flex justify-between items-center text-xs",children:[p.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[p.jsxs("span",{className:"text-slate-400 font-mono text-[10px]",children:[S+1,"."]}),p.jsx("span",{className:"truncate text-slate-600 dark:text-slate-300 max-w-[90px]",title:v.name,children:v.name})]}),p.jsx("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400 flex-shrink-0",children:s(v.amount).replace("R$","")})]},v.id))]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[p.jsx(Lw,{className:"w-5 h-5 text-indigo-500"}),p.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Fluxo de Caixa (ltimos 6 Meses)"})]}),p.jsx("div",{className:"h-[300px] w-full",children:p.jsx(Is,{width:"100%",height:"100%",children:p.jsxs(KT,{data:N,margin:{top:5,right:20,bottom:5,left:0},children:[p.jsx(ql,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0",opacity:.5}),p.jsx(ei,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},dy:10}),p.jsx(ti,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},tickFormatter:v=>`R$${v>=1e3?(v/1e3).toFixed(0)+"k":v}`,width:60}),p.jsx(ln,{cursor:{fill:"transparent"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:v=>[e?"":`R$ ${v.toLocaleString("pt-BR")}`,""]}),p.jsx(Si,{iconType:"circle"}),p.jsx(Zr,{dataKey:"Receitas",fill:"#10b981",radius:[4,4,0,0]}),p.jsx(Zr,{dataKey:"Despesas",fill:"#f43f5e",radius:[4,4,0,0]})]})})})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[p.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4",children:"Distribuio de Patrimnio"}),p.jsx("div",{className:"h-[300px]",children:p.jsx(Is,{width:"100%",height:"100%",children:p.jsxs(A1e,{children:[p.jsx(Ki,{data:E,cx:"50%",cy:"50%",innerRadius:80,outerRadius:110,paddingAngle:5,dataKey:"value",children:E.map((v,S)=>p.jsx(_u,{fill:v.color},`cell-${S}`))}),p.jsx(ln,{formatter:v=>e?"":`R$ ${v.toLocaleString("pt-BR")}`}),p.jsx(Si,{verticalAlign:"bottom",height:36})]})})})]})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-4",children:[p.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[p.jsx(DB,{className:"w-5 h-5 text-rose-500"}),"Tendncia de Despesas"]}),p.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 dark:bg-slate-700/50 p-2 rounded-lg border border-slate-100 dark:border-slate-700",children:[p.jsx(eu,{className:"w-4 h-4 text-slate-400"}),p.jsx("span",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase",children:"Incio:"}),p.jsx("input",{type:"month",value:r,onChange:v=>i(v.target.value),className:"bg-transparent text-sm text-slate-700 dark:text-slate-200 focus:outline-none font-medium"})]})]}),p.jsx("div",{className:"h-[300px] w-full",children:p.jsx(Is,{width:"100%",height:"100%",children:p.jsxs(S1e,{data:A,margin:{top:5,right:20,bottom:5,left:0},children:[p.jsx(ql,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0",opacity:.5}),p.jsx(ei,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},dy:10,padding:{left:10,right:10}}),p.jsx(ti,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},tickFormatter:v=>`R$${v>=1e3?(v/1e3).toFixed(0)+"k":v}`,width:60}),p.jsx(ln,{cursor:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"5 5"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:v=>[e?"":`R$ ${v.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,"Despesas"],labelStyle:{color:"#64748b",marginBottom:"0.25rem"}}),p.jsx(Of,{type:"monotone",dataKey:"amount",stroke:"#f43f5e",strokeWidth:3,dot:{r:4,fill:"#f43f5e",strokeWidth:2,stroke:"#fff"},activeDot:{r:6,stroke:"#f43f5e",strokeWidth:2,fill:"#fff"},isAnimationActive:!1})]})})})]})]})},uO={Casa:"bg-orange-100 text-orange-700 border border-orange-200 dark:bg-orange-900/30 dark:text-orange-300 dark:border-orange-800",Mobilidade:"bg-blue-100 text-blue-700 border border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800",Alimentos:"bg-red-100 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800",Lazer:"bg-purple-100 text-purple-700 border border-purple-200 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-800",Sade:"bg-teal-100 text-teal-700 border border-teal-200 dark:bg-teal-900/30 dark:text-teal-300 dark:border-teal-800",Educao:"bg-yellow-100 text-yellow-700 border border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800",Pets:"bg-amber-100 text-amber-700 border border-amber-200 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-800",Salrio:"bg-emerald-100 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800","Renda Extra":"bg-cyan-100 text-cyan-700 border border-cyan-200 dark:bg-cyan-900/30 dark:text-cyan-300 dark:border-cyan-800",Investimentos:"bg-indigo-100 text-indigo-700 border border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800",Presente:"bg-pink-100 text-pink-700 border border-pink-200 dark:bg-pink-900/30 dark:text-pink-300 dark:border-pink-800",Reembolso:"bg-lime-100 text-lime-700 border border-lime-200 dark:bg-lime-900/30 dark:text-lime-300 dark:border-lime-800",Outros:"bg-slate-100 text-slate-700 border border-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:border-slate-600"},cO={credit_card:"Carto de Crdito",debit_card:"Carto de Dbito",cash:"Dinheiro",pix:"PIX",direct_debit:"Dbito em Conta",bank_transfer:"Transferncia Bancria",deposit:"Depsito"},dO=["Casa","Mobilidade","Alimentos","Lazer","Sade","Educao","Pets","Outros"],fO=["Salrio","Renda Extra","Investimentos","Presente","Reembolso","Outros"],k1e=["credit_card","debit_card","direct_debit","pix","cash"],N1e=["pix","bank_transfer","cash","deposit"],R1e=({transactions:t,budgets:e,onAdd:n,onUpdate:r,onDelete:i,onToggleStatus:o,privacyMode:s,hasApiKey:a,quickActionSignal:l})=>{const[u,c]=V.useState(!1),[d,f]=V.useState(!1),[y,x]=V.useState(!1),[_,b]=V.useState(new Date),[T,w]=V.useState("all"),[A,N]=V.useState(null),[E,I]=V.useState({description:"",amount:"",type:"expense",category:"Outros",date:new Date().toISOString().split("T")[0],status:"paid",paymentMethod:"credit_card",isRecurring:!1,installments:""});V.useEffect(()=>{l&&Date.now()-l<2e3&&(c(!0),Q())},[l]);const v=V.useMemo(()=>E.type==="income"?fO:dO,[E.type]),S=V.useMemo(()=>E.type==="income"?N1e:k1e,[E.type]),P=V.useMemo(()=>{if(E.type!=="expense"||!E.amount)return null;const W=parseFloat(E.amount);if(isNaN(W)||W<=0)return null;const pe=new Date(E.date),ke=pe.getFullYear(),Ee=pe.getMonth(),Z=`${ke}-${String(Ee+1).padStart(2,"0")}`,le=e.find($e=>$e.category===E.category&&$e.month===Z),me=e.find($e=>$e.category===E.category&&$e.isRecurring),J=le||me;if(!J)return null;const Oe=t.filter($e=>{if(A&&$e.id===A)return!1;const mn=new Date($e.date);return $e.type==="expense"&&$e.category===E.category&&mn.getFullYear()===ke&&mn.getMonth()===Ee}).reduce(($e,mn)=>$e+mn.amount,0),xe=Oe+W,Je=xe>J.limit;return!(xe>J.limit*.8)&&!Je?null:{limit:J.limit,current:Oe,projected:xe,isExceeded:Je}},[E.amount,E.category,E.date,E.type,e,t,A]),k=()=>{b(W=>{const pe=new Date(W);return pe.setMonth(W.getMonth()-1),pe})},O=()=>{b(W=>{const pe=new Date(W);return pe.setMonth(W.getMonth()+1),pe})},M=V.useMemo(()=>t.filter(W=>{const[pe,ke]=W.date.split("-"),Ee=parseInt(pe)===_.getFullYear()&&parseInt(ke)===_.getMonth()+1,Z=T==="all"||W.type===T;return Ee&&Z}).sort((W,pe)=>new Date(pe.date).getTime()-new Date(W.date).getTime()),[t,_,T]),D=t.filter(W=>{const[pe,ke]=W.date.split("-");return parseInt(pe)===_.getFullYear()&&parseInt(ke)===_.getMonth()+1}),U=D.filter(W=>W.type==="income").reduce((W,pe)=>W+pe.amount,0),B=D.filter(W=>W.type==="expense").reduce((W,pe)=>W+pe.amount,0),j=U-B,q=W=>W.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}),F=W=>s?"":`R$ ${W.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,z=async()=>{if(!E.description)return;f(!0);const W=await lZ(E.description),pe=v.includes(W);I(ke=>({...ke,category:pe?W:"Outros"})),f(!1)},Y=W=>{const pe=W.target.value,ke=pe==="income"?fO:dO,Ee=pe==="income"?"pix":"credit_card";I(Z=>({...Z,type:pe,category:ke[0],paymentMethod:Ee}))},ie=async W=>{var Ee;const pe=(Ee=W.target.files)==null?void 0:Ee[0];if(!pe)return;if(pe.type==="text/csv"||pe.name.endsWith(".csv")){const Z=new FileReader;Z.onload=le=>{var Oe;((Oe=le.target)==null?void 0:Oe.result).split(`
`).slice(1).forEach(xe=>{if(!xe)return;const[Je,et,$e]=xe.split(",");et&&$e&&n({description:et,amount:parseFloat($e),type:"expense",category:"Outros",date:Je||new Date().toISOString().split("T")[0],status:"paid",paymentMethod:"debit_card"})}),alert("Importao CSV concluda!")},Z.readAsText(pe);return}x(!0);const ke=new FileReader;ke.onloadend=async()=>{const Z=ke.result.split(",")[1],le=await uZ(Z);le?(I(me=>({...me,description:le.description||me.description,amount:le.amount?String(le.amount):me.amount,date:le.date||me.date,category:le.category||"Outros",type:"expense"})),c(!0)):alert("No foi possvel ler o recibo."),x(!1)},ke.readAsDataURL(pe)},Q=()=>{I({description:"",amount:"",type:"expense",category:"Outros",date:new Date().toISOString().split("T")[0],status:"paid",paymentMethod:"credit_card",isRecurring:!1,installments:""}),N(null)},se=W=>{I({description:W.description,amount:W.amount.toString(),type:W.type,category:W.category,date:W.date,status:W.status,paymentMethod:W.paymentMethod||(W.type==="income"?"pix":"credit_card"),isRecurring:W.isRecurring||!1,installments:""}),N(W.id),c(!0)},Pe=W=>{W.preventDefault();const pe={description:E.description,amount:parseFloat(E.amount),type:E.type,category:E.category,date:E.date,status:E.status,paymentMethod:E.paymentMethod,isRecurring:E.isRecurring},ke=parseInt(E.installments);if(E.isRecurring&&!isNaN(ke)&&ke>1){const Ee=new Date(E.date+"T12:00:00");for(let Z=0;Z<ke;Z++){const le=new Date(Ee);le.setMonth(Ee.getMonth()+Z);const me=le.toISOString().split("T")[0],J=`${E.description} (${Z+1}/${ke})`;n({...pe,description:J,date:me,isRecurring:!1})}}else A?r(A,pe):n(pe);Q(),c(!1)};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Transaes"}),p.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[p.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-1",children:[p.jsx("button",{onClick:k,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:p.jsx($w,{className:"w-5 h-5"})}),p.jsxs("div",{className:"px-4 font-semibold text-slate-700 dark:text-slate-200 capitalize min-w-[140px] text-center flex items-center justify-center gap-2",children:[p.jsx(eu,{className:"w-4 h-4 text-indigo-500"}),q(_)]}),p.jsx("button",{onClick:O,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:p.jsx(Pg,{className:"w-5 h-5"})})]}),p.jsxs("label",{title:a?"Ler Recibo com IA":"Configure a Chave API para usar Leitura de Recibo",className:`flex items-center gap-2 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-200 px-4 py-2.5 rounded-lg transition-colors cursor-pointer text-sm font-medium
                ${a?"hover:bg-slate-200 dark:hover:bg-slate-600":"opacity-50 cursor-not-allowed"}`,children:[y?p.jsx(od,{className:"w-4 h-4 animate-spin"}):p.jsx(Q5,{className:"w-4 h-4"}),p.jsx("span",{className:"hidden lg:inline",children:y?"Lendo...":"Ler Recibo"}),p.jsx("input",{disabled:!a,type:"file",accept:"image/*,.csv",className:"hidden",onChange:ie})]}),p.jsxs("button",{onClick:()=>{Q(),c(!u)},className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg hover:bg-blue-700 transition-colors shadow-sm text-sm font-medium",children:[p.jsx(hl,{className:"w-4 h-4"}),"Nova"]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-semibold uppercase",children:["Receitas (",q(_),")"]}),p.jsx("p",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-400",children:F(U)})]}),p.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-900/30 p-2 rounded-full",children:p.jsx(Lv,{className:"w-5 h-5 text-emerald-500"})})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-semibold uppercase",children:["Despesas (",q(_),")"]}),p.jsx("p",{className:"text-lg font-bold text-rose-600 dark:text-rose-400",children:F(B)})]}),p.jsx("div",{className:"bg-rose-50 dark:bg-rose-900/30 p-2 rounded-full",children:p.jsx(Dv,{className:"w-5 h-5 text-rose-500"})})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-semibold uppercase",children:"Balano Mensal"}),p.jsx("p",{className:`text-lg font-bold ${j>=0?"text-blue-600 dark:text-blue-400":"text-rose-600 dark:text-rose-400"}`,children:F(j)})]}),p.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 p-2 rounded-full",children:p.jsx(MM,{className:"w-5 h-5 text-blue-500"})})]})]}),u&&p.jsxs("form",{onSubmit:Pe,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[p.jsx("div",{className:"col-span-1 md:col-span-2",children:p.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:A?"Editar Transao":"Adicionar Transao"})}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{required:!0,type:"text",placeholder:"Descrio",value:E.description,onChange:W=>I({...E,description:W.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-blue-500 outline-none w-full pr-10"}),p.jsx("button",{type:"button",onClick:z,disabled:d||!E.description||!a,className:`absolute right-2 top-2 ${a?"text-indigo-500 hover:text-indigo-700":"text-slate-400 opacity-50 cursor-not-allowed"} disabled:opacity-30`,title:a?"Auto-categorizar com IA":"Requer Chave IA",children:d?p.jsx(od,{className:"w-5 h-5 animate-spin"}):p.jsx(jB,{className:"w-5 h-5"})})]}),p.jsx("input",{required:!0,type:"number",placeholder:"Valor (R$)",value:E.amount,onChange:W=>I({...E,amount:W.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 outline-none"}),p.jsxs("select",{value:E.type,onChange:Y,className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:[p.jsx("option",{value:"expense",children:"Despesa"}),p.jsx("option",{value:"income",children:"Receita"})]}),p.jsx("select",{value:E.category,onChange:W=>I({...E,category:W.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:v.map(W=>p.jsx("option",{value:W,children:W},W))}),p.jsx("input",{required:!0,type:"date",value:E.date,onChange:W=>I({...E,date:W.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2"}),p.jsxs("select",{value:E.status,onChange:W=>I({...E,status:W.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:[p.jsx("option",{value:"paid",children:"Pago/Recebido"}),p.jsx("option",{value:"pending",children:"Pendente"})]}),p.jsx("select",{value:E.paymentMethod,onChange:W=>I({...E,paymentMethod:W.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:S.map(W=>p.jsx("option",{value:W,children:cO[W]},W))}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsxs("div",{className:"flex items-center gap-2 p-2 border border-dashed border-slate-300 dark:border-slate-600 rounded-lg",children:[p.jsx("input",{type:"checkbox",id:"recurring",checked:E.isRecurring,onChange:W=>I({...E,isRecurring:W.target.checked}),className:"w-4 h-4 text-blue-600 rounded"}),p.jsxs("label",{htmlFor:"recurring",className:"text-sm text-slate-700 dark:text-slate-200 font-medium flex items-center gap-1 cursor-pointer",children:[p.jsx(Ls,{className:"w-4 h-4 text-blue-500"})," Assinatura / Recorrente / Parcelado"]})]}),E.isRecurring&&p.jsx("div",{className:"mt-2 pl-2 md:pl-6 animate-fade-in",children:p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Repetir por quantas vezes? (Opcional)"}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(pB,{className:"w-4 h-4 text-slate-400"}),p.jsx("input",{type:"number",placeholder:"Ex: 12 (Deixe vazio para assinatura infinita)",value:E.installments,onChange:W=>I({...E,installments:W.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 text-sm w-full outline-none focus:ring-2 focus:ring-blue-500"})]}),p.jsx("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 mt-1",children:E.installments&&parseInt(E.installments)>1?`Sero criadas ${E.installments} transaes futuras automaticamente (Ex: Compra 1/10, 2/10...).`:"Se deixar em branco, ser uma assinatura fixa que se repete todo ms at voc excluir."})]})})]}),P&&p.jsxs("div",{className:`col-span-1 md:col-span-2 p-3 rounded-lg border flex items-start gap-3 animate-fade-in ${P.isExceeded?"bg-rose-50 border-rose-200 dark:bg-rose-900/20 dark:border-rose-800":"bg-amber-50 border-amber-200 dark:bg-amber-900/20 dark:border-amber-800"}`,children:[P.isExceeded?p.jsx(Cg,{className:"w-5 h-5 text-rose-600 dark:text-rose-400 mt-0.5 flex-shrink-0"}):p.jsx(Dw,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 mt-0.5 flex-shrink-0"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:`text-sm font-bold ${P.isExceeded?"text-rose-800 dark:text-rose-300":"text-amber-800 dark:text-amber-300"}`,children:P.isExceeded?"Cuidado! Limite Excedido.":"Ateno ao Oramento."}),p.jsxs("p",{className:`text-xs mt-1 ${P.isExceeded?"text-rose-700 dark:text-rose-400":"text-amber-700 dark:text-amber-400"}`,children:["Sua meta para ",p.jsx("strong",{children:E.category}),"  R$ ",P.limit,". Com essa transao, o total ir para ",p.jsxs("strong",{children:["R$ ",P.projected]}),"."]})]})]}),p.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-2 mt-2",children:[p.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),p.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:A?"Atualizar":"Salvar"})]})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[p.jsx("div",{className:"p-3 border-b border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:p.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-700/50 rounded-xl gap-1",children:[p.jsxs("button",{onClick:()=>w("all"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2
                    ${T==="all"?"bg-white dark:bg-slate-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200/50 dark:hover:bg-slate-600/50"}`,children:[p.jsx(_x,{className:"w-4 h-4"}),"Todas"]}),p.jsxs("button",{onClick:()=>w("income"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2
                    ${T==="income"?"bg-white dark:bg-slate-600 text-emerald-600 dark:text-emerald-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200/50 dark:hover:bg-slate-600/50"}`,children:[p.jsx(Lv,{className:"w-4 h-4"}),"Entradas"]}),p.jsxs("button",{onClick:()=>w("expense"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2
                    ${T==="expense"?"bg-white dark:bg-slate-600 text-rose-600 dark:text-rose-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200/50 dark:hover:bg-slate-600/50"}`,children:[p.jsx(Dv,{className:"w-4 h-4"}),"Sadas"]})]})}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left text-sm text-slate-600 dark:text-slate-300",children:[p.jsx("thead",{className:"bg-slate-50 dark:bg-slate-700 text-xs uppercase font-semibold text-slate-500 dark:text-slate-400",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-4",children:"Data"}),p.jsx("th",{className:"px-6 py-4",children:"Descrio"}),p.jsx("th",{className:"px-6 py-4",children:"Categoria"}),p.jsx("th",{className:"px-6 py-4",children:"Valor"}),p.jsx("th",{className:"px-6 py-4",children:"Mtodo"}),p.jsx("th",{className:"px-6 py-4",children:"Status"}),p.jsx("th",{className:"px-6 py-4 text-right",children:"Aes"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:M.length===0?p.jsx("tr",{children:p.jsxs("td",{colSpan:7,className:"px-6 py-12 text-center text-slate-400",children:[p.jsx("p",{className:"text-base font-medium mb-1",children:T==="all"?`Nenhuma transao em ${q(_)}`:T==="income"?"Nenhuma receita encontrada neste ms.":"Nenhuma despesa encontrada neste ms."}),p.jsx("p",{className:"text-xs",children:'Clique em "Nova" para adicionar.'})]})}):M.map(W=>p.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:new Date(W.date).toLocaleDateString("pt-BR")}),p.jsxs("td",{className:"px-6 py-4 font-medium text-slate-800 dark:text-white flex items-center gap-2",children:[W.type==="income"?p.jsx(Lv,{className:"w-4 h-4 text-emerald-500"}):p.jsx(Dv,{className:"w-4 h-4 text-rose-500"}),W.description,W.isRecurring&&p.jsx("span",{title:"Recorrente",className:"flex items-center",children:p.jsx(Ls,{className:"w-3 h-3 text-slate-400"})})]}),p.jsx("td",{className:"px-6 py-4",children:p.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${uO[W.category]||uO.Outros}`,children:W.category})}),p.jsxs("td",{className:`px-6 py-4 font-medium ${W.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:[W.type==="expense"&&"- ",F(W.amount)]}),p.jsx("td",{className:"px-6 py-4 text-xs",children:cO[W.paymentMethod||""]||W.paymentMethod}),p.jsx("td",{className:"px-6 py-4",children:p.jsx("button",{onClick:()=>o(W.id),className:`flex items-center gap-1 text-xs px-2 py-1 rounded-full border ${W.status==="paid"?"bg-emerald-50 text-emerald-700 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800":"bg-amber-50 text-amber-700 border-amber-200 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-800"}`,children:W.status==="paid"?p.jsxs(p.Fragment,{children:[p.jsx(kM,{className:"w-3 h-3"})," ",W.type==="income"?"Recebido":"Pago"]}):p.jsxs(p.Fragment,{children:[p.jsx(tB,{className:"w-3 h-3"})," Pendente"]})})}),p.jsxs("td",{className:"px-6 py-4 text-right flex justify-end gap-1",children:[p.jsx("button",{onClick:()=>se(W),className:"text-slate-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded p-1.5 transition-colors",title:"Editar",children:p.jsx(AB,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>i(W.id),className:"text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded p-1.5 transition-colors",title:"Excluir",children:p.jsx(tu,{className:"w-4 h-4"})})]})]},W.id))})]})})]})]})},O1e=({investments:t,onAdd:e,onUpdate:n,onDelete:r,privacyMode:i,hasApiKey:o,quickActionSignal:s})=>{var B;const[a,l]=V.useState(!1),[u,c]=V.useState(null),[d,f]=V.useState(!1),[y,x]=V.useState(!1),[_,b]=V.useState(!1),[T,w]=V.useState(null),[A,N]=V.useState(""),[E,I]=V.useState({name:"",amount:"",targetAmount:"",type:"Renda Fixa",date:new Date().toISOString().split("T")[0]});V.useEffect(()=>{s&&Date.now()-s<2e3&&(l(!0),I({name:"",amount:"",targetAmount:"",type:"Renda Fixa",date:new Date().toISOString().split("T")[0]}))},[s]);const v=j=>{j.preventDefault(),e({name:E.name,amount:parseFloat(E.amount),targetAmount:parseFloat(E.targetAmount)||0,type:E.type,date:E.date}),I({...E,name:"",amount:"",targetAmount:""}),l(!1)},S=j=>{if(j.preventDefault(),!T)return;const q=t.find(F=>F.id===T);if(q){const F=parseFloat(A);!isNaN(F)&&F>0&&n(T,q.amount+F)}w(null),N("")},P=async()=>{if(!o)return;x(!0),f(!0),c(null),b(!1);const j=await cZ(t);c(j),f(!1)},k=()=>{if(!u)return{recommendations:"",technical:""};const j=u.text.split("---SECTION-BREAK---");return{recommendations:j[0].trim(),technical:j.length>1?j[1].trim():""}},{recommendations:O,technical:M}=k(),D=t.reduce((j,q)=>j+q.amount,0),U=j=>i?"":`R$ ${j.toLocaleString("pt-BR",{minimumFractionDigits:2})}`;return p.jsxs("div",{className:"space-y-6 relative",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Meus Investimentos"}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Acompanhe a evoluo do seu patrimnio e metas"})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("button",{onClick:P,disabled:!o,title:o?"Consultor IA":"Configure a Chave API para usar",className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all shadow-sm
                   ${o?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white hover:from-purple-700 hover:to-indigo-700":"bg-slate-300 dark:bg-slate-700 text-slate-500 dark:text-slate-400 cursor-not-allowed opacity-60"}`,children:[p.jsx(kg,{className:"w-4 h-4"}),"Consultor IA ",!o&&p.jsx("span",{className:"text-[10px] ml-1",children:"(Req. Chave)"})]}),p.jsxs("button",{onClick:()=>l(!a),className:"flex items-center gap-2 bg-slate-800 dark:bg-slate-700 text-white px-4 py-2 rounded-lg hover:bg-slate-900 dark:hover:bg-slate-600 transition-colors shadow-sm",children:[p.jsx(hl,{className:"w-4 h-4"}),"Novo Ativo"]})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:p.jsxs("div",{className:"bg-indigo-600 text-white p-6 rounded-xl shadow-lg md:col-span-3 lg:col-span-1 flex flex-col justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-indigo-200 text-sm font-medium mb-1",children:"Total Acumulado"}),p.jsx("h3",{className:"text-3xl font-bold",children:U(D)})]}),p.jsxs("div",{className:"mt-4 flex items-center gap-2 text-indigo-100 text-sm",children:[p.jsx(af,{className:"w-4 h-4"}),p.jsx("span",{children:"Patrimnio em crescimento"})]})]})}),y&&p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-purple-200 dark:border-purple-900 overflow-hidden animate-fade-in",children:[p.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-slate-800 dark:to-slate-800 p-4 border-b border-purple-100 dark:border-slate-700 flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(CM,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),p.jsx("h3",{className:"font-bold text-purple-900 dark:text-purple-300",children:"Smart Advisor"})]}),p.jsx("button",{onClick:()=>x(!1),className:"text-slate-400 hover:text-slate-600",children:p.jsx($s,{className:"w-5 h-5"})})]}),p.jsx("div",{className:"p-6",children:d?p.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[p.jsx(od,{className:"w-8 h-8 text-purple-600 animate-spin mb-3"}),p.jsx("p",{className:"text-slate-500 text-sm animate-pulse",children:"Buscando oportunidades em tempo real..."})]}):u?p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"prose prose-sm prose-purple dark:prose-invert max-w-none text-slate-700 dark:text-slate-300",children:p.jsx("div",{dangerouslySetInnerHTML:{__html:O.replace(/\n/g,"<br/>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/- /g," ")}})}),M&&p.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-700 pt-4",children:[p.jsxs("button",{onClick:()=>b(!_),className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-slate-50 dark:bg-slate-700/50 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-700 dark:text-slate-200 text-sm font-semibold transition-colors border border-slate-200 dark:border-slate-600",children:[p.jsx(J5,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),_?"Ocultar Detalhes Tcnicos":"Ver Anlise Tcnica Detalhada",_?p.jsx(eB,{className:"w-4 h-4"}):p.jsx(Z5,{className:"w-4 h-4"})]}),_&&p.jsx("div",{className:"mt-4 p-5 bg-slate-50 dark:bg-slate-900/50 rounded-lg border border-slate-200 dark:border-slate-700 animate-fade-in",children:p.jsx("div",{className:"prose prose-sm prose-slate dark:prose-invert max-w-none text-slate-600 dark:text-slate-400",children:p.jsx("div",{dangerouslySetInnerHTML:{__html:M.replace(/\n/g,"<br/>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/- /g," ")}})})})]}),u.sources.length>0&&p.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-700 pt-4",children:[p.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Fontes Consultadas (Google Search)"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:u.sources.map((j,q)=>p.jsxs("a",{href:j.uri,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-2 py-1 rounded hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:[p.jsx(OM,{className:"w-3 h-3"}),j.title.length>30?j.title.substring(0,30)+"...":j.title]},q))})]}),p.jsx("div",{className:"mt-4 flex justify-end",children:p.jsx("button",{onClick:P,className:"text-sm text-purple-600 hover:underline",children:"Atualizar Recomendao"})})]}):p.jsx("div",{className:"text-center text-slate-500",children:"Erro ao carregar recomendao."})})]}),a&&p.jsxs("form",{onSubmit:v,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[p.jsx("div",{className:"col-span-1 md:col-span-2",children:p.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Adicionar Novo Investimento"})}),p.jsx("input",{required:!0,type:"text",placeholder:"Nome do Ativo (ex: CDB Banco X)",value:E.name,onChange:j=>I({...E,name:j.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none"}),p.jsx("input",{required:!0,type:"number",placeholder:"Valor Inicial (R$)",value:E.amount,onChange:j=>I({...E,amount:j.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none"}),p.jsx("input",{required:!0,type:"number",placeholder:"Objetivo Final (R$)",value:E.targetAmount,onChange:j=>I({...E,targetAmount:j.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none"}),p.jsxs("select",{value:E.type,onChange:j=>I({...E,type:j.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:[p.jsx("option",{value:"Renda Fixa",children:"Renda Fixa"}),p.jsx("option",{value:"Aes",children:"Aes"}),p.jsx("option",{value:"FIIs",children:"FIIs"}),p.jsx("option",{value:"Cripto",children:"Criptomoedas"}),p.jsx("option",{value:"Reserva",children:"Reserva de Emergncia"})]}),p.jsx("input",{required:!0,type:"date",value:E.date,onChange:j=>I({...E,date:j.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 md:col-span-2"}),p.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-2 mt-2",children:[p.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),p.jsx("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:"Salvar"})]})]}),T&&p.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-sm p-6 animate-fade-in",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Novo Aporte"}),p.jsx("button",{onClick:()=>w(null),className:"text-slate-400 hover:text-slate-600",children:p.jsx($s,{className:"w-5 h-5"})})]}),p.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:["Adicionar valor ao ativo: ",p.jsx("span",{className:"font-semibold text-indigo-600 dark:text-indigo-400",children:(B=t.find(j=>j.id===T))==null?void 0:B.name})]}),p.jsxs("form",{onSubmit:S,children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 mb-1",children:"VALOR DO APORTE"}),p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-3 top-2 text-slate-400",children:"R$"}),p.jsx("input",{autoFocus:!0,required:!0,type:"number",step:"0.01",className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg py-2 pl-8 pr-3 focus:ring-2 focus:ring-indigo-500 outline-none text-lg font-medium",value:A,onChange:j=>N(j.target.value)})]})]}),p.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 rounded-lg font-medium hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2",children:[p.jsx(wx,{className:"w-5 h-5"}),"Confirmar Aporte"]})]})]})}),p.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.length===0?p.jsx("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700 text-slate-400",children:"Voc ainda no registrou investimentos."}):t.map(j=>{const q=j.targetAmount&&j.targetAmount>0?Math.min(100,j.amount/j.targetAmount*100):0;return p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-shadow",children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 p-3 rounded-full text-indigo-600 dark:text-indigo-400",children:p.jsx(RM,{className:"w-5 h-5"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white text-lg",children:j.name}),p.jsxs("div",{className:"flex gap-2 text-xs text-slate-500 dark:text-slate-400 mt-1",children:[p.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded",children:j.type}),p.jsx("span",{children:new Date(j.date).toLocaleDateString("pt-BR")})]})]})]}),p.jsxs("div",{className:"flex items-center justify-between md:justify-end gap-3 md:gap-6",children:[p.jsxs("div",{className:"text-right mr-2",children:[p.jsx("span",{className:"block text-sm text-slate-500 dark:text-slate-400",children:"Atual"}),p.jsx("span",{className:"font-bold text-slate-800 dark:text-white text-lg",children:U(j.amount)})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>w(j.id),className:"p-2 text-indigo-600 bg-indigo-50 hover:bg-indigo-100 dark:text-indigo-400 dark:bg-indigo-900/30 dark:hover:bg-indigo-900/50 rounded-lg transition-colors",title:"Adicionar Aporte",children:p.jsx(wx,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>r(j.id),className:"p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors",title:"Excluir Ativo",children:p.jsx(tu,{className:"w-5 h-5"})})]})]})]}),j.targetAmount>0&&p.jsxs("div",{className:"mt-2 bg-slate-50 dark:bg-slate-700/50 p-3 rounded-lg border border-slate-100 dark:border-slate-700",children:[p.jsxs("div",{className:"flex justify-between items-end mb-1",children:[p.jsxs("div",{className:"flex items-center gap-1 text-xs text-indigo-600 dark:text-indigo-400 font-medium",children:[p.jsx(sf,{className:"w-3 h-3"}),p.jsxs("span",{children:["Meta: ",U(j.targetAmount)]})]}),p.jsxs("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:[q.toFixed(0),"%"]})]}),p.jsx("div",{className:"w-full h-2 bg-slate-200 dark:bg-slate-600 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-blue-500 rounded-full transition-all duration-1000",style:{width:`${q}%`}})})]})]},j.id)})})]})},M1e=["Casa","Mobilidade","Alimentos","Lazer","Pets","Outros"],D1e=({budgets:t,transactions:e,onAdd:n,onDelete:r,privacyMode:i,quickActionSignal:o})=>{const[s,a]=V.useState(!1),[l,u]=V.useState(!1),[c,d]=V.useState(new Date),[f,y]=V.useState({category:"Lazer",limit:"",isRecurring:!0,month:new Date().toISOString().slice(0,7)});V.useEffect(()=>{o&&Date.now()-o<2e3&&(a(!0),y({category:"Lazer",limit:"",isRecurring:!0,month:new Date().toISOString().slice(0,7)}))},[o]);const x=()=>{d(v=>{const S=new Date(v);return S.setMonth(v.getMonth()-1),S})},_=()=>{d(v=>{const S=new Date(v);return S.setMonth(v.getMonth()+1),S})},b=v=>v.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}),T=()=>{const v=c.getFullYear(),S=String(c.getMonth()+1).padStart(2,"0");return`${v}-${S}`},w=v=>{if(v.preventDefault(),f.isRecurring){if(t.some(S=>S.category===f.category&&S.isRecurring)){alert(`J existe um oramento recorrente para ${f.category}. Exclua o anterior para criar um novo.`);return}}else if(t.some(S=>S.category===f.category&&S.month===f.month)){alert(`J existe um oramento de ${f.category} para ${f.month}.`);return}n({category:f.category,limit:parseFloat(f.limit),isRecurring:f.isRecurring,month:f.isRecurring?void 0:f.month}),y({category:"Outros",limit:"",isRecurring:!0,month:T()}),a(!1)},A=v=>i?"":`R$ ${v.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,N=v=>{const S=c.getFullYear(),P=c.getMonth();return e.filter(k=>{const O=new Date(k.date);return k.type==="expense"&&k.category===v&&O.getMonth()===P&&O.getFullYear()===S}).reduce((k,O)=>k+O.amount,0)},E=V.useMemo(()=>{const v=T(),S=t.filter(O=>O.month===v),P=new Set(S.map(O=>O.category)),k=t.filter(O=>O.isRecurring&&!P.has(O.category));return[...S,...k].sort((O,M)=>O.category.localeCompare(M.category))},[t,c]),I=V.useMemo(()=>{const v=new Map,S=new Date;for(let k=0;k<6;k++){const O=new Date(S.getFullYear(),S.getMonth()-k,1),M=O.getFullYear(),D=O.getMonth(),U=`${M}-${String(D+1).padStart(2,"0")}`;new Set(e.filter(j=>{const q=new Date(j.date);return j.type==="expense"&&q.getFullYear()===M&&q.getMonth()===D}).map(j=>j.category)).forEach(j=>{let q=t.find(F=>F.category===j&&F.month===U);if(q||(q=t.find(F=>F.category===j&&F.isRecurring)),q){const F=e.filter(Y=>{const ie=new Date(Y.date);return Y.type==="expense"&&Y.category===j&&ie.getFullYear()===M&&ie.getMonth()===D}).reduce((Y,ie)=>Y+ie.amount,0),z=v.get(j)||{totalSpent:0,totalLimit:0,count:0};v.set(j,{totalSpent:z.totalSpent+F,totalLimit:z.totalLimit+q.limit,count:z.count+1})}})}return Array.from(v.entries()).map(([k,O])=>{const M=O.totalSpent/O.totalLimit*100;return{name:k,adherence:M,spent:O.totalSpent/O.count,limit:O.totalLimit/O.count}}).sort((k,O)=>O.adherence-k.adherence)},[t,e]);return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Planejamento & Metas"}),p.jsxs("p",{className:"text-slate-500 dark:text-slate-400 text-sm capitalize",children:["Controle de gastos para ",b(c)]})]}),p.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[p.jsx("button",{onClick:()=>u(!l),className:`p-2.5 rounded-lg transition-colors border ${l?"bg-indigo-50 border-indigo-200 text-indigo-600 dark:bg-indigo-900/30 dark:border-indigo-800 dark:text-indigo-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300"}`,title:"Ver Anlise de Performance",children:p.jsx(Lw,{className:"w-5 h-5"})}),p.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-1",children:[p.jsx("button",{onClick:x,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:p.jsx($w,{className:"w-5 h-5"})}),p.jsxs("div",{className:"px-4 font-semibold text-slate-700 dark:text-slate-200 capitalize min-w-[140px] text-center flex items-center justify-center gap-2",children:[p.jsx(eu,{className:"w-4 h-4 text-pink-500"}),b(c)]}),p.jsx("button",{onClick:_,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:p.jsx(Pg,{className:"w-5 h-5"})})]}),p.jsxs("button",{onClick:()=>{y(v=>({...v,month:T()})),a(!s)},className:"flex items-center gap-2 bg-pink-600 text-white px-4 py-2.5 rounded-lg hover:bg-pink-700 transition-colors shadow-sm text-sm font-medium",children:[p.jsx(hl,{className:"w-4 h-4"}),"Definir Limite"]})]})]}),l&&I.length>0&&p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 animate-fade-in-down mb-6",children:[p.jsxs("div",{className:"mb-6",children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[p.jsx(af,{className:"w-5 h-5 text-indigo-500"}),"Performance Histrica (ltimos 6 Meses)"]}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Veja quais categorias voc costuma estourar (acima de 100%) e quais esto sob controle."})]}),p.jsx("div",{className:"h-[300px] w-full",children:p.jsx(Is,{width:"100%",height:"100%",children:p.jsxs(KT,{data:I,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[p.jsx(ql,{strokeDasharray:"3 3",horizontal:!1,stroke:"#e2e8f0",opacity:.5}),p.jsx(ei,{type:"number",hide:!0}),p.jsx(ti,{dataKey:"name",type:"category",width:100,tick:{fill:"#64748b",fontSize:12,fontWeight:500},axisLine:!1,tickLine:!1}),p.jsx(ln,{cursor:{fill:"transparent"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:v=>[`${v.toFixed(0)}%`,"Mdia de Uso"]}),p.jsx(Rf,{x:100,stroke:"#ef4444",strokeDasharray:"3 3"}),p.jsx(Zr,{dataKey:"adherence",radius:[0,4,4,0],barSize:20,children:I.map((v,S)=>p.jsx(_u,{fill:v.adherence>100?"#ef4444":v.adherence>85?"#f59e0b":"#10b981"},`cell-${S}`))})]})})})]}),s&&p.jsxs("form",{onSubmit:w,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[p.jsx("div",{className:"col-span-1 md:col-span-2",children:p.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Novo Limite Mensal"})}),p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:"Categoria"}),p.jsx("select",{value:f.category,onChange:v=>y({...f,category:v.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-pink-500",children:M1e.map(v=>p.jsx("option",{value:v,children:v},v))})]}),p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:"Valor Limite (R$)"}),p.jsx("input",{required:!0,type:"number",placeholder:"Ex: 1000.00",value:f.limit,onChange:v=>y({...f,limit:v.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-pink-500"})]}),p.jsxs("div",{className:"col-span-1 md:col-span-2 bg-slate-50 dark:bg-slate-700/50 p-3 rounded-lg border border-slate-100 dark:border-slate-700",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[p.jsx("input",{type:"checkbox",id:"isRecurringBudget",checked:f.isRecurring,onChange:v=>y({...f,isRecurring:v.target.checked}),className:"w-4 h-4 text-pink-600 rounded"}),p.jsxs("label",{htmlFor:"isRecurringBudget",className:"text-sm font-medium text-slate-700 dark:text-slate-200 flex items-center gap-1 cursor-pointer",children:[p.jsx(Ls,{className:"w-4 h-4"})," Oramento Recorrente?"]})]}),f.isRecurring?p.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[p.jsx(fB,{className:"w-3 h-3"})," Este limite ser aplicado automaticamente em todos os meses futuros, a menos que voc defina um especfico."]}):p.jsxs("div",{className:"animate-fade-in",children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 block mb-1",children:"Ms de Referncia"}),p.jsx("input",{type:"month",required:!f.isRecurring,value:f.month,onChange:v=>y({...f,month:v.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 outline-none w-full max-w-[200px]"}),p.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2 flex items-center gap-1",children:[p.jsx(Dp,{className:"w-3 h-3"})," Este limite valer APENAS para o ms selecionado."]})]})]}),p.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-2 mt-2",children:[p.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),p.jsx("button",{type:"submit",className:"px-6 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700 font-medium",children:"Salvar Meta"})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.length===0?p.jsxs("div",{className:"col-span-full py-12 text-center bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[p.jsx(sf,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),p.jsxs("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:["Nenhum limite definido para ",b(c),"."]}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Crie metas recorrentes ou especficas para controlar seus gastos."})]}):E.map(v=>{const S=N(v.category),P=Math.min(100,S/v.limit*100),k=S>v.limit;let O="bg-emerald-500",M="text-emerald-600 dark:text-emerald-400",D=p.jsx(kM,{className:"w-5 h-5"});P>100?(O="bg-rose-500",M="text-rose-600 dark:text-rose-400",D=p.jsx(Cg,{className:"w-5 h-5"})):P>75&&(O="bg-amber-500",M="text-amber-600 dark:text-amber-400",D=p.jsx(Dw,{className:"w-5 h-5"}));const U=Math.max(0,v.limit-S);return p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-all relative overflow-hidden group",children:[p.jsx("button",{onClick:()=>r(v.id),className:"absolute top-4 right-4 text-slate-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-opacity p-1",children:p.jsx(tu,{className:"w-4 h-4"})}),p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:`p-3 rounded-lg bg-slate-100 dark:bg-slate-700 ${M}`,children:D}),p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:v.category}),v.isRecurring?p.jsx("span",{title:"Meta Recorrente (Padro)",className:"text-slate-400",children:p.jsx(Ls,{className:"w-3 h-3"})}):p.jsx("span",{title:`Meta Especfica para ${v.month}`,className:"text-pink-500",children:p.jsx(Dp,{className:"w-3 h-3"})})]}),p.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Meta: ",A(v.limit)]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between items-end text-sm",children:[p.jsxs("span",{className:"text-slate-600 dark:text-slate-300 font-medium",children:["Gasto: ",p.jsx("span",{className:k?"text-rose-500 font-bold":"",children:A(S)})]}),p.jsxs("span",{className:"text-slate-400 text-xs",children:[P.toFixed(0),"%"]})]}),p.jsx("div",{className:"w-full h-3 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:p.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${O}`,style:{width:`${P}%`}})}),p.jsx("p",{className:"text-xs text-right mt-2 font-medium",children:k?p.jsxs("span",{className:"text-rose-500",children:["Excedido em ",A(S-v.limit)]}):p.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400",children:["Resta ",A(U)]})})]})]},v.id)})})]})},L1e=({transactions:t,onUpdateTransaction:e,onDeleteTransaction:n,privacyMode:r})=>{const i=t.filter(d=>d.type==="expense"&&d.isRecurring),o=i.reduce((d,f)=>d+f.amount,0),s=o*12,a=V.useMemo(()=>[...i].sort((d,f)=>f.amount-d.amount).slice(0,10).map(d=>({name:d.description,amount:d.amount,annual:d.amount*12,color:d.amount>200?"#ef4444":d.amount>50?"#f59e0b":"#3b82f6"})),[i]),l=d=>r?"":`R$ ${d.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,u=d=>{confirm("Deseja parar de considerar este item como recorrente? Ele continuar como uma transao comum.")&&e(d,{isRecurring:!1})},c=({active:d,payload:f,label:y})=>{if(d&&f&&f.length){const x=f[0].payload;return p.jsxs("div",{className:"bg-white/95 dark:bg-slate-800/95 p-3 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 backdrop-blur-sm",children:[p.jsx("p",{className:"font-bold text-slate-800 dark:text-white mb-2 border-b border-slate-100 dark:border-slate-700 pb-1",children:x.name}),p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"flex justify-between gap-6 text-xs text-slate-500 dark:text-slate-400",children:[p.jsx("span",{children:"Mensalidade:"}),p.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:r?"":`R$ ${x.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})}`})]}),p.jsxs("div",{className:"flex justify-between gap-6 text-xs text-slate-500 dark:text-slate-400",children:[p.jsx("span",{children:"Custo Anual:"}),p.jsx("span",{className:"font-bold text-emerald-600 dark:text-emerald-400",children:r?"":`R$ ${x.annual.toLocaleString("pt-BR",{minimumFractionDigits:2})}`})]})]})]})}return null};return p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[p.jsx(Ls,{className:"w-7 h-7 text-indigo-600"}),"Gesto de Assinaturas"]}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Gerencie seus gastos recorrentes e descubra o impacto anual das pequenas mensalidades."})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"bg-indigo-600 text-white p-6 rounded-xl shadow-lg relative overflow-hidden",children:[p.jsxs("div",{className:"relative z-10",children:[p.jsx("p",{className:"text-indigo-200 text-sm font-medium mb-1 uppercase tracking-wider",children:"Custo Mensal"}),p.jsx("h3",{className:"text-3xl font-bold",children:l(o)}),p.jsx("p",{className:"text-indigo-200 text-xs mt-2 opacity-80",children:"Gasto fixo todo ms"})]}),p.jsx(Dp,{className:"absolute right-4 bottom-4 w-24 h-24 text-indigo-500 opacity-20"})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 p-6 rounded-xl shadow-sm relative overflow-hidden",children:[p.jsxs("div",{className:"relative z-10",children:[p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1 uppercase tracking-wider",children:"Impacto Anual"}),p.jsx("h3",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:l(s)}),p.jsxs("p",{className:"text-emerald-500 text-xs mt-2 font-medium flex items-center gap-1",children:[p.jsx(af,{className:"w-3 h-3"}),"Projeo de 12 meses"]})]}),p.jsx(RM,{className:"absolute right-4 bottom-4 w-24 h-24 text-slate-100 dark:text-slate-700"})]})]}),a.length>0&&p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 mb-4",children:[p.jsx(Lw,{className:"w-5 h-5 text-indigo-500"}),"Ranking de Custos (Top 10)"]}),p.jsx("div",{className:"h-[250px] w-full",children:p.jsx(Is,{width:"100%",height:"100%",children:p.jsxs(KT,{data:a,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[p.jsx(ql,{strokeDasharray:"3 3",horizontal:!1,stroke:"#e2e8f0",opacity:.5}),p.jsx(ei,{type:"number",hide:!0}),p.jsx(ti,{dataKey:"name",type:"category",width:120,tick:{fill:"#64748b",fontSize:11,fontWeight:500},axisLine:!1,tickLine:!1}),p.jsx(ln,{content:p.jsx(c,{}),cursor:{fill:"transparent"}}),p.jsx(Zr,{dataKey:"amount",radius:[0,4,4,0],barSize:20,children:a.map((d,f)=>p.jsx(_u,{fill:d.color},`cell-${f}`))})]})})})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.length===0?p.jsxs("div",{className:"col-span-full py-12 text-center bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[p.jsx(Ls,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"Nenhuma assinatura encontrada."}),p.jsx("p",{className:"text-slate-400 text-sm",children:'Marque a opo "Recorrente" ao adicionar uma despesa.'})]}):i.map(d=>p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-all group",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{className:"overflow-hidden mr-2",children:[p.jsx("h4",{className:"font-bold text-slate-800 dark:text-white text-lg truncate mb-1",children:d.description}),p.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400",children:d.category})]}),p.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[p.jsx("button",{onClick:()=>u(d.id),className:"p-1.5 text-slate-400 hover:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/30 rounded-lg transition-colors",title:"Remover recorrncia",children:p.jsx(IM,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>n(d.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors",title:"Excluir assinatura",children:p.jsx($s,{className:"w-4 h-4"})})]})]}),p.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-xs text-slate-400 block",children:"Mensal"}),p.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:l(d.amount)})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("span",{className:"text-xs text-slate-400 block",children:"Anual"}),p.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:l(d.amount*12)})]})]})]},d.id))})]})},$1e=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],j1e=({transactions:t,privacyMode:e})=>{const[n,r]=V.useState(new Date),[i,o]=V.useState(new Date().getDate()),s=n.getFullYear(),a=n.getMonth(),l=(w,A)=>new Date(w,A+1,0).getDate(),u=(w,A)=>new Date(w,A,1).getDay(),c=l(s,a),d=u(s,a),f=V.useMemo(()=>t.filter(w=>{const[A,N]=w.date.split("-").map(Number);return A===s&&N===a+1}),[t,s,a]),y=V.useMemo(()=>i===null?[]:f.filter(w=>parseInt(w.date.split("-")[2])===i),[f,i]),x=()=>{r(new Date(s,a-1,1)),o(null)},_=()=>{r(new Date(s,a+1,1)),o(null)},b=w=>e?"":`R$ ${w.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,T=[];for(let w=0;w<d;w++)T.push(p.jsx("div",{className:"h-24 bg-slate-50/50 dark:bg-slate-800/50 border border-slate-100 dark:border-slate-700/50"},`empty-${w}`));for(let w=1;w<=c;w++){const A=f.filter(P=>parseInt(P.date.split("-")[2])===w),N=A.filter(P=>P.type==="income").length,E=A.filter(P=>P.type==="expense").length,I=A.some(P=>P.type==="expense"&&P.status==="pending"),v=new Date().getDate()===w&&new Date().getMonth()===a&&new Date().getFullYear()===s,S=i===w;T.push(p.jsxs("div",{onClick:()=>o(w),className:`h-24 p-2 border border-slate-100 dark:border-slate-700 relative cursor-pointer transition-all hover:bg-slate-50 dark:hover:bg-slate-700/50
          ${S?"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-200 dark:border-indigo-800":"bg-white dark:bg-slate-800"}
        `,children:[p.jsx("span",{className:`text-sm font-semibold inline-flex w-6 h-6 items-center justify-center rounded-full ${v?"bg-indigo-600 text-white":"text-slate-700 dark:text-slate-300"}`,children:w}),p.jsxs("div",{className:"mt-2 flex flex-wrap gap-1 content-start",children:[N>0&&p.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500",title:`${N} Receitas`}),E>0&&p.jsx("div",{className:`w-2 h-2 rounded-full ${I?"bg-rose-500 animate-pulse":"bg-rose-400"}`,title:`${E} Despesas`}),A.length>5&&p.jsx("span",{className:"text-[8px] text-slate-400 leading-none",children:"+"})]})]},w))}return p.jsxs("div",{className:"space-y-6 animate-fade-in",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[p.jsx(eu,{className:"w-7 h-7 text-indigo-600"}),"Calendrio Financeiro"]}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Visualize vencimentos e fluxo de caixa dirio."})]}),p.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-1",children:[p.jsx("button",{onClick:x,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:p.jsx($w,{className:"w-5 h-5"})}),p.jsx("div",{className:"px-4 font-semibold text-slate-700 dark:text-slate-200 capitalize min-w-[140px] text-center",children:n.toLocaleDateString("pt-BR",{month:"long",year:"numeric"})}),p.jsx("button",{onClick:_,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:p.jsx(Pg,{className:"w-5 h-5"})})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[p.jsx("div",{className:"grid grid-cols-7 bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:$1e.map(w=>p.jsx("div",{className:"py-2 text-center text-xs font-semibold uppercase text-slate-500 dark:text-slate-400",children:w},w))}),p.jsx("div",{className:"grid grid-cols-7",children:T})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-6 flex flex-col h-full min-h-[400px]",children:[p.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:i?`${i} de ${n.toLocaleDateString("pt-BR",{month:"long"})}`:"Selecione um dia"}),p.jsxs("div",{className:"flex-1 overflow-y-auto space-y-3",children:[i&&y.length===0&&p.jsx("p",{className:"text-slate-400 text-center py-10 italic",children:"Nenhuma movimentao neste dia."}),!i&&p.jsx("p",{className:"text-slate-400 text-center py-10",children:"Clique em um dia no calendrio para ver os detalhes."}),y.map(w=>p.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-slate-50 dark:bg-slate-700/50 border border-slate-100 dark:border-slate-700",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`p-2 rounded-full ${w.type==="income"?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"}`,children:w.type==="income"?p.jsx(W5,{className:"w-4 h-4"}):p.jsx(H5,{className:"w-4 h-4"})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-slate-800 dark:text-white text-sm line-clamp-1",children:w.description}),p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:w.category})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:`font-bold text-sm ${w.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-slate-700 dark:text-slate-300"}`,children:b(w.amount)}),w.type==="expense"&&p.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${w.status==="pending"?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"}`,children:w.status==="pending"?"Pendente":"Pago"})]})]},w.id))]})]})]})]})},V1e=({data:t,privacyMode:e})=>{const[n,r]=V.useState([]),[i,o]=V.useState(""),[s,a]=V.useState(!1),[l,u]=V.useState(!1),c=V.useRef(null),d=V.useRef(null);V.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const b=window.SpeechRecognition||window.webkitSpeechRecognition;d.current=new b,d.current.continuous=!1,d.current.lang="pt-BR",d.current.interimResults=!1,d.current.onresult=T=>{const w=T.results[0][0].transcript;o(w),u(!1)},d.current.onerror=T=>{console.error("Speech error",T),u(!1)},d.current.onend=()=>{u(!1)}}},[]);const f=()=>{var b;(b=c.current)==null||b.scrollIntoView({behavior:"smooth"})};V.useEffect(()=>{f()},[n,s]);const y=()=>{var b;if(l)(b=d.current)==null||b.stop(),u(!1);else if(d.current)try{d.current.start(),u(!0)}catch(T){console.error(T)}else alert("Seu navegador no suporta reconhecimento de voz.")},x=async b=>{const T=i;if(!T.trim())return;const w={id:crypto.randomUUID(),role:"user",content:T,timestamp:new Date};r(E=>[...E,w]),o(""),a(!0);const A=crypto.randomUUID(),N={id:A,role:"assistant",content:"",timestamp:new Date};r(E=>[...E,N]);try{const E=fZ(T,n,t);let I="";for await(const v of E)I+=v,r(S=>S.map(P=>P.id===A?{...P,content:I}:P))}catch{r(I=>I.map(v=>v.id===A?{...v,content:"Desculpe, tive um erro ao processar sua resposta."}:v))}finally{a(!1)}},_=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),x())};return p.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] animate-fade-in",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"bg-gradient-to-tr from-indigo-500 to-purple-600 p-3 rounded-xl shadow-lg shadow-indigo-500/20",children:p.jsx(kg,{className:"w-6 h-6 text-white"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Assistente Inteligente"}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Pergunte sobre seus gastos, investimentos ou pea conselhos."})]})]}),p.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden flex flex-col",children:[p.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 dark:bg-slate-900/50",children:[n.length===0&&p.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 space-y-4 opacity-60",children:[p.jsx(xx,{className:"w-16 h-16"}),p.jsxs("p",{className:"text-sm",children:["Estou analisando seus dados em tempo real.",p.jsx("br",{}),"Como posso ajudar hoje?"]})]}),n.map(b=>p.jsx("div",{className:`flex w-full ${b.role==="user"?"justify-end":"justify-start"}`,children:p.jsxs("div",{className:`flex max-w-[85%] md:max-w-[75%] gap-3 ${b.role==="user"?"flex-row-reverse":"flex-row"}`,children:[p.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${b.role==="user"?"bg-slate-200 dark:bg-slate-700":"bg-indigo-600"}`,children:b.role==="user"?p.jsx($B,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"}):p.jsx(xx,{className:"w-5 h-5 text-white"})}),p.jsxs("div",{className:`p-4 rounded-2xl shadow-sm text-sm whitespace-pre-line leading-relaxed
                      ${b.role==="user"?"bg-white dark:bg-slate-700 text-slate-800 dark:text-white rounded-tr-none":"bg-indigo-600 text-white rounded-tl-none prose prose-invert max-w-none"}`,children:[b.content,s&&b.content===""&&p.jsxs("span",{className:"inline-flex gap-1",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-white/60 rounded-full animate-bounce"}),p.jsx("span",{className:"w-1.5 h-1.5 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"100ms"}}),p.jsx("span",{className:"w-1.5 h-1.5 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"200ms"}})]})]})]})},b.id)),p.jsx("div",{ref:c})]}),p.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700",children:[p.jsxs("div",{className:"relative flex items-center gap-2",children:[p.jsx("button",{onClick:y,className:`p-3 rounded-xl transition-all ${l?"bg-rose-500 text-white animate-pulse shadow-lg shadow-rose-500/30":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,title:"Falar comando",children:l?p.jsx(OB,{className:"w-5 h-5"}):p.jsx(wB,{className:"w-5 h-5"})}),p.jsx("input",{type:"text",value:i,onChange:b=>o(b.target.value),onKeyDown:_,placeholder:l?"Ouvindo...":"Digite uma mensagem...",className:"flex-1 bg-slate-100 dark:bg-slate-700 dark:text-white border-0 rounded-xl px-4 py-3 focus:ring-2 focus:ring-indigo-500 outline-none",disabled:s}),p.jsx("button",{onClick:()=>x(),disabled:!i.trim()||s,className:"p-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-lg shadow-indigo-500/20",children:p.jsx(kB,{className:"w-5 h-5"})})]}),p.jsx("p",{className:"text-center text-[10px] text-slate-400 mt-2",children:"A IA pode cometer erros. Verifique informaes importantes."})]})]})]})},F1e=({debts:t,onAdd:e,onUpdate:n,onDelete:r,onAddTransaction:i,privacyMode:o,quickActionSignal:s})=>{const[a,l]=V.useState(!1),[u,c]=V.useState("all"),[d,f]=V.useState({isOpen:!1,debtId:""}),[y,x]=V.useState({date:new Date().toISOString().split("T")[0],amount:""}),[_,b]=V.useState({creditor:"",originalAmount:"",currentAmount:"",targetAmount:"",dueDate:"",status:"open",notes:""});V.useEffect(()=>{s&&Date.now()-s<2e3&&(l(!0),b({creditor:"",originalAmount:"",currentAmount:"",targetAmount:"",dueDate:"",status:"open",notes:""}))},[s]);const T=k=>{const O=new Date(k);return(new Date().getTime()-O.getTime())/(1e3*60*60*24*365.25)>=5},w=V.useMemo(()=>{let k=[...t];return u==="active"?k=k.filter(O=>!T(O.dueDate)):u==="prescribed"&&(k=k.filter(O=>T(O.dueDate))),k.sort((O,M)=>{const D=j=>j.status==="paid"?500:j.status==="agreement"?1:j.status==="negotiating"?2:T(j.dueDate)?4:3,U=D(O),B=D(M);return U!==B?U-B:M.currentAmount-O.currentAmount})},[t,u]),A=k=>{k.preventDefault();const O=_.targetAmount?parseFloat(_.targetAmount):0;e({creditor:_.creditor,originalAmount:parseFloat(_.originalAmount),currentAmount:parseFloat(_.currentAmount),targetAmount:O,dueDate:_.dueDate,status:_.status,notes:_.notes}),b({creditor:"",originalAmount:"",currentAmount:"",targetAmount:"",dueDate:"",status:"open",notes:""}),l(!1)},N=(k,O)=>{if(O==="agreement"&&k.status!=="agreement"){f({isOpen:!0,debtId:k.id});const M=k.targetAmount>0?k.targetAmount:k.currentAmount;x({date:new Date().toISOString().split("T")[0],amount:M.toString()})}else n(k.id,{status:O})},E=k=>{k.preventDefault();const O=t.find(D=>D.id===d.debtId);if(!O)return;const M=parseFloat(y.amount);n(O.id,{status:"agreement",agreedAmount:M}),i({description:`Acordo: ${O.creditor}`,amount:M,type:"expense",category:"Outros",date:y.date,status:"pending",paymentMethod:"pix",debtId:O.id}),alert("Acordo registrado! O pagamento foi agendado. Ao marcar como PAGO nas transaes, a dvida ser quitada automaticamente."),f({isOpen:!1,debtId:""})},I=k=>o?"":`R$ ${k.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,v=t.filter(k=>k.status!=="paid").reduce((k,O)=>k+O.currentAmount,0),S=t.filter(k=>k.status!=="paid").reduce((k,O)=>k+O.targetAmount,0),P=t.filter(k=>k.status!=="paid"&&k.targetAmount>0).reduce((k,O)=>k+(O.currentAmount-O.targetAmount),0);return p.jsxs("div",{className:"space-y-6 animate-fade-in relative",children:[d.isOpen&&p.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 border border-emerald-500/30 animate-scale-in",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4 text-emerald-600 dark:text-emerald-400",children:[p.jsx(gh,{className:"w-8 h-8"}),p.jsx("h3",{className:"text-xl font-bold",children:"Oficializar Acordo"})]}),p.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm mb-6",children:"Qual foi o valor final negociado? Vamos atualizar o card e agendar o pagamento."}),p.jsxs("form",{onSubmit:E,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Valor Fechado (R$)"}),p.jsx("input",{type:"number",required:!0,step:"0.01",placeholder:"Valor final do acordo",value:y.amount,onChange:k=>x({...y,amount:k.target.value}),className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white font-bold text-lg outline-none focus:ring-2 focus:ring-emerald-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Data do Pagamento"}),p.jsx("input",{type:"date",required:!0,value:y.date,onChange:k=>x({...y,date:k.target.value}),className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-emerald-500"})]}),p.jsxs("div",{className:"flex gap-3 mt-6",children:[p.jsx("button",{type:"button",onClick:()=>f({isOpen:!1,debtId:""}),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-200 rounded-lg font-medium",children:"Cancelar"}),p.jsx("button",{type:"submit",className:"flex-1 py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-bold shadow-lg shadow-emerald-500/30",children:"Confirmar Acordo"})]})]})]})}),p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[p.jsx(sd,{className:"w-7 h-7 text-rose-600"}),"Gesto de Dvidas (Limpa Nome)"]}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Controle suas pendncias e foque no que realmente importa."})]}),p.jsxs("button",{onClick:()=>l(!a),className:"flex items-center gap-2 bg-rose-600 text-white px-4 py-2 rounded-lg hover:bg-rose-700 transition-colors shadow-sm",children:[p.jsx(hl,{className:"w-4 h-4"}),"Registrar Dvida"]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-rose-100 dark:border-rose-900/30 shadow-sm",children:[p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-semibold uppercase",children:"Total da Dvida (Banco)"}),p.jsx("h3",{className:"text-2xl font-bold text-rose-600 dark:text-rose-400",children:I(v)}),p.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Valor cheio com juros"})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-emerald-100 dark:border-emerald-900/30 shadow-sm",children:[p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-semibold uppercase",children:"Valor para Quitao (Alvo)"}),p.jsx("h3",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:I(S)}),p.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Soma das metas definidas"})]}),p.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-600 text-white p-6 rounded-xl shadow-lg",children:[p.jsx("p",{className:"text-indigo-100 text-xs font-semibold uppercase",children:"Economia Potencial"}),p.jsx("h3",{className:"text-2xl font-bold",children:I(P)}),p.jsx("p",{className:"text-indigo-100 text-xs mt-1",children:"Baseado nas suas metas"})]})]}),a&&p.jsxs("form",{onSubmit:A,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-rose-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[p.jsx("div",{className:"col-span-1 md:col-span-2",children:p.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Registrar Nova Pendncia"})}),p.jsxs("div",{className:"md:col-span-2",children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Instituio / Credor"}),p.jsx("input",{required:!0,type:"text",placeholder:"Ex: Banco X, Loja Y",value:_.creditor,onChange:k=>b({..._,creditor:k.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-rose-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Valor Original (R$)"}),p.jsx("input",{required:!0,type:"number",value:_.originalAmount,onChange:k=>b({..._,originalAmount:k.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Valor Atual c/ Juros (R$)"}),p.jsx("input",{required:!0,type:"number",value:_.currentAmount,onChange:k=>b({..._,currentAmount:k.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Data Vencimento Original"}),p.jsx("input",{required:!0,type:"date",value:_.dueDate,onChange:k=>b({..._,dueDate:k.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none"}),p.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"Importante para calcular a prescrio."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Meta de Acordo (Opcional)"}),p.jsx("input",{type:"number",placeholder:"Deixe em branco se no houver meta",value:_.targetAmount,onChange:k=>b({..._,targetAmount:k.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-emerald-500"})]}),p.jsxs("div",{className:"md:col-span-2 flex justify-end gap-2 mt-2",children:[p.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),p.jsx("button",{type:"submit",className:"px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 font-medium",children:"Salvar Dvida"})]})]}),p.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl gap-1 border border-slate-200 dark:border-slate-700",children:[p.jsxs("button",{onClick:()=>c("all"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2
               ${u==="all"?"bg-white dark:bg-slate-700 text-rose-600 dark:text-rose-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200/50 dark:hover:bg-slate-700/50"}`,children:[p.jsx(_x,{className:"w-4 h-4"}),"Todas"]}),p.jsxs("button",{onClick:()=>c("active"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2
               ${u==="active"?"bg-white dark:bg-slate-700 text-amber-600 dark:text-amber-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200/50 dark:hover:bg-slate-700/50"}`,children:[p.jsx(IM,{className:"w-4 h-4"}),"Ativas"]}),p.jsxs("button",{onClick:()=>c("prescribed"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2
               ${u==="prescribed"?"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200/50 dark:hover:bg-slate-700/50"}`,children:[p.jsx(q5,{className:"w-4 h-4"}),"Prescritas"]})]}),p.jsx("div",{className:"flex flex-col gap-4",children:t.length===0?p.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[p.jsx(mh,{className:"w-12 h-12 text-emerald-500 mx-auto mb-3"}),p.jsx("p",{className:"text-slate-800 dark:text-white font-medium",children:"Nome Limpo!"}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Nenhuma dvida registrada."})]}):w.length===0?p.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[p.jsx(_x,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Nenhuma dvida encontrada neste filtro."})]}):w.map(k=>{const O=T(k.dueDate),M=k.status==="paid",D=k.status==="agreement",U=k.targetAmount&&k.targetAmount>0,B=k.agreedAmount&&k.agreedAmount>0,j=B?k.agreedAmount:k.targetAmount,q=U||B?(k.currentAmount-j)/k.currentAmount*100:0;return p.jsxs("div",{className:`p-6 rounded-xl border transition-all relative overflow-hidden group ${M?"bg-slate-50 border-slate-200 opacity-75 grayscale-[0.8] dark:bg-slate-900 dark:border-slate-700":D?"bg-gradient-to-r from-emerald-50 to-white border-emerald-300 dark:from-emerald-900/10 dark:to-slate-800 dark:border-emerald-800 shadow-md ring-1 ring-emerald-500/20":O?"bg-slate-50 border-slate-200 dark:bg-slate-800 dark:border-slate-700":"bg-white border-rose-100 dark:bg-slate-800 dark:border-slate-700 shadow-sm hover:shadow-md hover:border-rose-300"}`,children:[M&&p.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10 pointer-events-none opacity-80 rotate-[-15deg]",children:p.jsxs("div",{className:"border-4 border-slate-400 text-slate-400 text-6xl font-black px-4 py-1 rounded-lg uppercase tracking-widest flex items-center gap-2",children:[p.jsx(PM,{className:"w-12 h-12"})," RESOLVIDO"]})}),p.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-start gap-4 relative z-0",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[D?p.jsxs("span",{className:"bg-emerald-100 text-emerald-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[p.jsx(gh,{className:"w-3 h-3"})," ACORDO FECHADO"]}):k.status==="negotiating"?p.jsxs("span",{className:"bg-amber-100 text-amber-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[p.jsx(gh,{className:"w-3 h-3"})," EM NEGOCIAO"]}):O?p.jsxs("span",{className:"bg-slate-200 text-slate-600 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[p.jsx(ZA,{className:"w-3 h-3"})," PRESCRITA"]}):M?p.jsxs("span",{className:"bg-emerald-100 text-emerald-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[p.jsx(mh,{className:"w-3 h-3"})," QUITADA"]}):p.jsxs("span",{className:"bg-rose-100 text-rose-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[p.jsx(Dw,{className:"w-3 h-3"})," ATIVA"]}),p.jsxs("span",{className:"text-xs text-slate-400 flex items-center gap-1",children:[p.jsx(Dp,{className:"w-3 h-3"}),"Vencimento: ",new Date(k.dueDate).toLocaleDateString("pt-BR")]})]}),p.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:k.creditor}),p.jsxs("div",{className:"mt-3 flex flex-wrap gap-4 text-sm",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-slate-500",children:"Valor Original"}),p.jsx("p",{className:"font-medium text-slate-700 dark:text-slate-300",children:I(k.originalAmount)})]}),p.jsx("div",{className:"flex items-center text-slate-400",children:p.jsx(z5,{className:"w-4 h-4"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-slate-500",children:"Valor Atual (Juros)"}),p.jsx("p",{className:`font-bold ${M?"text-slate-500":O?"text-slate-600 dark:text-slate-400":"text-rose-600"}`,children:I(k.currentAmount)})]})]})]}),p.jsx("div",{className:`p-3 rounded-lg border min-w-[200px] flex flex-col justify-center ${D?"bg-white border-emerald-200 shadow-sm":"bg-slate-50 dark:bg-slate-700/50 border-slate-100 dark:border-slate-700"}`,children:D&&B?p.jsxs(p.Fragment,{children:[p.jsxs("p",{className:"text-xs text-emerald-500 font-bold mb-1 flex items-center gap-1",children:[p.jsx(mh,{className:"w-3 h-3"})," Valor Acordado"]}),p.jsx("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:I(k.agreedAmount)}),p.jsxs("p",{className:"text-[10px] text-emerald-600/70 mt-1",children:["Economia de ",q.toFixed(0),"%"]})]}):U?p.jsxs(p.Fragment,{children:[p.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium mb-1 flex items-center gap-1",children:[p.jsx(sf,{className:"w-3 h-3 text-slate-400"})," Meta de Acordo"]}),p.jsx("p",{className:"text-xl font-bold text-emerald-600 dark:text-emerald-400",children:I(k.targetAmount)}),p.jsxs("p",{className:"text-[10px] text-emerald-600/70 mt-1",children:["Desconto Alvo: ",q.toFixed(0),"%"]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("p",{className:"text-xs text-slate-400 font-medium mb-1 flex items-center gap-1",children:[p.jsx(dB,{className:"w-3 h-3"})," Meta"]}),p.jsx("p",{className:"text-sm font-semibold text-slate-400 dark:text-slate-500 italic",children:"Sem meta definida"})]})}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("select",{value:k.status,onChange:F=>N(k,F.target.value),className:`text-xs border rounded-lg p-1.5 outline-none font-medium cursor-pointer ${D?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-200"}`,children:[p.jsx("option",{value:"open",children:"Em Aberto"}),p.jsx("option",{value:"negotiating",children:"Em Negociao"}),p.jsx("option",{value:"agreement",children:"Acordo Fechado"}),p.jsx("option",{value:"paid",children:"Quitado"})]}),p.jsx("button",{onClick:()=>r(k.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors self-end",title:"Excluir Registro",children:p.jsx(tu,{className:"w-4 h-4"})})]})]}),p.jsx("div",{className:"mt-4 pt-3 border-t border-slate-100 dark:border-slate-700/50 text-xs flex items-start gap-2",children:M?p.jsxs("p",{className:"text-emerald-600 dark:text-emerald-400 flex items-center gap-1 font-medium",children:[p.jsx(mh,{className:"w-4 h-4"})," Dvida liquidada com sucesso. Parabns pela organizao!"]}):D?p.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-2 rounded w-full",children:[p.jsxs("p",{className:"text-emerald-700 dark:text-emerald-300 flex items-center gap-1 font-semibold",children:[p.jsx(eu,{className:"w-4 h-4"})," Acordo Firmado: ",I(k.agreedAmount||0)]}),p.jsx("p",{className:"text-emerald-600/80 dark:text-emerald-400/80 mt-1 pl-5",children:"No esquea de pagar na data combinada. O lanamento j foi criado em suas transaes."})]}):k.status==="negotiating"?p.jsxs("p",{className:"text-amber-600 dark:text-amber-400 flex items-center gap-1",children:[p.jsx(gh,{className:"w-4 h-4"})," Voc iniciou contatos. Mantenha a presso para conseguir o melhor desconto."]}):O?p.jsxs("p",{className:"text-slate-500 flex items-center gap-1",children:[p.jsx(ZA,{className:"w-4 h-4"})," Dvida antiga (+5 anos). No afeta score, negocie apenas se tiver sobra de caixa."]}):p.jsxs("p",{className:"text-rose-600 dark:text-rose-400 flex items-center gap-1 font-medium",children:[p.jsx(sd,{className:"w-4 h-4"})," Prioridade Alta! Esta dvida est ativa e impactando seu crdito. Tente negociar."]})})]},k.id)})})]})},U1e=({items:t,onAdd:e,onUpdate:n,onDelete:r,onClearList:i,onFinishShopping:o,privacyMode:s,quickActionSignal:a})=>{const[l,u]=V.useState(""),[c,d]=V.useState(!1),[f,y]=V.useState("Alimentos"),[x,_]=V.useState("debit_card"),b=V.useMemo(()=>t.reduce((E,I)=>E+I.actualPrice*I.quantity,0),[t]);V.useEffect(()=>{if(a){const E=document.getElementById("new-item-input");E&&E.focus()}},[a]);const T=E=>{E.preventDefault(),l.trim()&&(e({name:l.trim(),quantity:1,actualPrice:0,isChecked:!1}),u(""))},w=(E,I,v)=>{const S=Math.max(1,I+v);n(E,{quantity:S})},A=()=>{if(b===0){alert("O valor total est zerado. Adicione preos aos itens para lanar a despesa.");return}o(b,x,f),d(!1)},N=E=>s?"":`R$ ${E.toLocaleString("pt-BR",{minimumFractionDigits:2})}`;return p.jsxs("div",{className:"space-y-6 animate-fade-in relative pb-24 md:pb-0",children:[c&&p.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-sm p-6 border border-emerald-500/30 animate-scale-in",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[p.jsx(nB,{className:"w-6 h-6 text-emerald-500"})," Finalizar Compra"]}),p.jsx("button",{onClick:()=>d(!1),className:"text-slate-400 hover:text-slate-600",children:p.jsx($s,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-4 rounded-xl mb-6 text-center border border-emerald-100 dark:border-emerald-800",children:[p.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400 uppercase font-bold mb-1",children:"Valor Final a Lanar"}),p.jsx("p",{className:"text-3xl font-bold text-emerald-700 dark:text-emerald-300",children:N(b)})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Categoria da Despesa"}),p.jsxs("select",{value:f,onChange:E=>y(E.target.value),className:"w-full p-2.5 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none",children:[p.jsx("option",{value:"Alimentos",children:"Alimentos"}),p.jsx("option",{value:"Casa",children:"Casa"}),p.jsx("option",{value:"Lazer",children:"Lazer"}),p.jsx("option",{value:"Pets",children:"Pets"}),p.jsx("option",{value:"Outros",children:"Outros"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Forma de Pagamento"}),p.jsxs("select",{value:x,onChange:E=>_(E.target.value),className:"w-full p-2.5 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none",children:[p.jsx("option",{value:"credit_card",children:"Carto de Crdito"}),p.jsx("option",{value:"debit_card",children:"Carto de Dbito"}),p.jsx("option",{value:"cash",children:"Dinheiro"}),p.jsx("option",{value:"pix",children:"PIX"}),p.jsx("option",{value:"ticket",children:"Vale Alimentao/Refeio"})]})]}),p.jsxs("button",{onClick:A,className:"w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-bold shadow-lg shadow-emerald-500/30 flex items-center justify-center gap-2 mt-4",children:[p.jsx(e1,{className:"w-5 h-5"})," Confirmar e Lanar"]})]})]})}),p.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[p.jsx(Lp,{className:"w-7 h-7 text-indigo-600"}),"Lista & Calculadora"]}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Marque os itens e preencha o preo para controlar o gasto no mercado."})]})}),p.jsxs("div",{className:"bg-slate-900 text-white p-6 rounded-2xl shadow-xl flex flex-col md:flex-row items-center justify-between gap-6 sticky top-2 z-10 md:static",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"bg-white/10 p-3 rounded-full",children:p.jsx(X5,{className:"w-8 h-8 text-emerald-400"})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Subtotal do Carrinho"}),p.jsx("h3",{className:"text-4xl font-bold text-white tracking-tight",children:N(b)})]})]}),p.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[p.jsx("button",{onClick:()=>{confirm("Tem certeza que deseja limpar toda a lista?")&&i()},className:"flex-1 md:flex-none px-4 py-3 rounded-xl bg-white/10 hover:bg-white/20 text-slate-300 hover:text-white transition-colors text-sm font-medium",children:"Limpar Lista"}),p.jsxs("button",{onClick:()=>d(!0),disabled:t.length===0,className:"flex-1 md:flex-none px-6 py-3 rounded-xl bg-emerald-500 hover:bg-emerald-600 text-white font-bold shadow-lg shadow-emerald-500/30 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:["Finalizar ",p.jsx(B1e,{className:"w-4 h-4"})]})]})]}),p.jsxs("form",{onSubmit:T,className:"flex gap-2",children:[p.jsx("div",{className:"relative flex-1",children:p.jsx("input",{id:"new-item-input",type:"text",value:l,onChange:E=>u(E.target.value),placeholder:"Adicionar item (ex: Leite, Arroz...)",className:"w-full p-4 pl-5 rounded-xl border border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm",autoComplete:"off"})}),p.jsx("button",{type:"submit",disabled:!l.trim(),className:"px-6 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl shadow-md disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:p.jsx(hl,{className:"w-6 h-6"})})]}),p.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:t.length===0?p.jsxs("div",{className:"p-12 text-center text-slate-400 flex flex-col items-center",children:[p.jsx(Lp,{className:"w-16 h-16 mb-4 opacity-20"}),p.jsx("p",{children:"Sua lista est vazia."}),p.jsx("p",{className:"text-sm",children:"Adicione itens antes de ir ao mercado."})]}):p.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:t.map(E=>p.jsxs("div",{className:`p-4 flex flex-col sm:flex-row sm:items-center gap-4 transition-colors ${E.isChecked?"bg-slate-50/50 dark:bg-slate-700/30":""}`,children:[p.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[p.jsx("button",{onClick:()=>n(E.id,{isChecked:!E.isChecked}),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all flex-shrink-0 ${E.isChecked?"bg-emerald-500 border-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-emerald-400"}`,children:p.jsx(e1,{className:"w-4 h-4"})}),p.jsx("span",{className:`font-medium text-lg truncate ${E.isChecked?"text-slate-400 line-through":"text-slate-700 dark:text-slate-200"}`,children:E.name})]}),p.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-4 w-full sm:w-auto",children:[p.jsxs("div",{className:"flex items-center bg-slate-100 dark:bg-slate-700 rounded-lg p-1",children:[p.jsx("button",{onClick:()=>w(E.id,E.quantity,-1),className:"p-1.5 text-slate-500 hover:text-indigo-600",children:p.jsx(TB,{className:"w-4 h-4"})}),p.jsx("span",{className:"w-8 text-center font-bold text-slate-700 dark:text-white text-sm",children:E.quantity}),p.jsx("button",{onClick:()=>w(E.id,E.quantity,1),className:"p-1.5 text-slate-500 hover:text-indigo-600",children:p.jsx(hl,{className:"w-4 h-4"})})]}),p.jsxs("div",{className:"relative",children:[p.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-xs font-bold",children:"R$"}),p.jsx("input",{type:"number",step:"0.01",placeholder:"0,00",value:E.actualPrice===0?"":E.actualPrice,onChange:I=>n(E.id,{actualPrice:parseFloat(I.target.value)||0}),className:`w-24 pl-8 pr-2 py-2 rounded-lg border outline-none font-bold text-right transition-colors ${E.actualPrice>0?"border-emerald-300 dark:border-emerald-700 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400":"border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:border-indigo-500"}`})]}),p.jsx("button",{onClick:()=>r(E.id),className:"p-2 text-slate-300 hover:text-rose-500 transition-colors",children:p.jsx(tu,{className:"w-5 h-5"})})]})]},E.id))})})]})},B1e=({className:t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[p.jsx("path",{d:"M5 12h14"}),p.jsx("path",{d:"m12 5 7 7-7 7"})]}),G1e={age:30,retirementAge:60,riskProfile:"moderate"},hO={conservative:.03,moderate:.05,aggressive:.07},q1e=({data:t,onSaveProfile:e,privacyMode:n,hasApiKey:r})=>{const[i,o]=V.useState(t.wealthProfile||G1e),[s,a]=V.useState(!t.wealthProfile),[l,u]=V.useState(null),[c,d]=V.useState(!1),f=V.useMemo(()=>t.investments.reduce((E,I)=>E+I.amount,0),[t.investments]),y=V.useMemo(()=>t.debts.filter(E=>E.status!=="paid").reduce((E,I)=>E+I.currentAmount,0),[t.debts]),x=f-y,_=V.useMemo(()=>{const E=t.transactions.filter(S=>S.type==="income").reduce((S,P)=>S+P.amount,0),I=t.transactions.filter(S=>S.type==="expense").reduce((S,P)=>S+P.amount,0);if(E===0&&I===0)return{income:5e3,expense:4e3,savings:1e3};const v=E-I;return{income:E,expense:I>0?I:E*.8,savings:v}},[t.transactions]),b=i.monthlyContributionOverride!==void 0?i.monthlyContributionOverride:Math.max(0,_.savings),T=V.useMemo(()=>{const E=[],I=new Date().getFullYear(),v=i.retirementAge-i.age+10,S=hO[i.riskProfile],P=b*12,k=_.expense*12;let O=x,M=null;for(let D=0;D<=v;D++){const U=I+D,B=i.age+D,j=O*.04;!M&&j>=k&&(M=U),E.push({year:U,age:B,patrimonio:Math.round(O),rendaPassiva:Math.round(j/12),custoVida:Math.round(_.expense)}),B<i.retirementAge?O=O*(1+S)+P:O=O*(1+S)}return{chartData:E,freedomYear:M}},[i,x,b,_.expense]),w=()=>{e(i),a(!1)},A=async()=>{d(!0);const E=await dZ(t.investments,i.riskProfile,i.age);u(E),d(!1)},N=E=>n?"":`R$ ${E.toLocaleString("pt-BR",{maximumFractionDigits:0})}`;return p.jsxs("div",{className:"space-y-8 animate-fade-in pb-10",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 border-b border-slate-200 dark:border-slate-700 pb-4",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:[p.jsx("div",{className:"p-2 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-lg shadow-lg shadow-yellow-500/20 text-white",children:p.jsx(sB,{className:"w-6 h-6"})}),"NEXO Private"]}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Planejamento patrimonial e alocao estratgica de ativos."})]}),!s&&p.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-sm font-semibold hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Ajustar Perfil"})]}),s&&p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border-l-4 border-yellow-500 animate-scale-in",children:[p.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[p.jsx(bx,{className:"w-5 h-5 text-yellow-500"})," Parmetros da Simulao"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Idade Atual"}),p.jsx("input",{type:"number",value:i.age,onChange:E=>o({...i,age:Number(E.target.value)}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Idade Aposentadoria"}),p.jsx("input",{type:"number",value:i.retirementAge,onChange:E=>o({...i,retirementAge:Number(E.target.value)}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Perfil de Risco"}),p.jsxs("select",{value:i.riskProfile,onChange:E=>o({...i,riskProfile:E.target.value}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600",children:[p.jsx("option",{value:"conservative",children:"Conservador"}),p.jsx("option",{value:"moderate",children:"Moderado"}),p.jsx("option",{value:"aggressive",children:"Arrojado"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Aporte Mensal (Simulado)"}),p.jsx("input",{type:"number",placeholder:`Atual: R$ ${_.savings.toFixed(0)}`,value:i.monthlyContributionOverride||"",onChange:E=>o({...i,monthlyContributionOverride:Number(E.target.value)}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]})]}),p.jsx("div",{className:"mt-6 flex justify-end",children:p.jsx("button",{onClick:w,className:"bg-slate-900 dark:bg-white dark:text-slate-900 text-white px-6 py-2 rounded-lg font-bold hover:opacity-90 transition-opacity",children:"Atualizar Projeo"})})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[p.jsxs("div",{className:"lg:col-span-2 bg-slate-900 text-white p-6 rounded-xl shadow-2xl relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl pointer-events-none"}),p.jsxs("div",{className:"relative z-10 flex justify-between items-start mb-6",children:[p.jsxs("div",{children:[p.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[p.jsx(af,{className:"w-5 h-5 text-emerald-400"}),"Liberdade Financeira"]}),p.jsx("p",{className:"text-slate-400 text-sm",children:"Cruzamento entre Renda Passiva e Custo de Vida."})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-xs text-slate-400 uppercase font-bold",children:"Ano da Liberdade"}),p.jsx("p",{className:"text-3xl font-bold text-yellow-400",children:T.freedomYear||"Em construo..."})]})]}),p.jsx("div",{className:"h-[300px] w-full",children:p.jsx(Is,{width:"100%",height:"100%",children:p.jsxs(C1e,{data:T.chartData,margin:{top:10,right:10,left:0,bottom:0},children:[p.jsx("defs",{children:p.jsxs("linearGradient",{id:"colorPassive",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),p.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),p.jsx(ql,{strokeDasharray:"3 3",vertical:!1,stroke:"#334155"}),p.jsx(ei,{dataKey:"year",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8"}}),p.jsx(ti,{hide:!0,domain:["auto","auto"]}),p.jsx(ln,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"8px",color:"#fff"},formatter:E=>[N(E),""]}),p.jsx(Rf,{y:_.expense,stroke:"#f43f5e",strokeDasharray:"3 3",label:{value:"Custo Vida",fill:"#f43f5e",fontSize:10}}),p.jsx(Xo,{type:"monotone",dataKey:"rendaPassiva",stroke:"#10b981",fillOpacity:1,fill:"url(#colorPassive)",name:"Renda Passiva"})]})})})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 flex flex-col justify-center",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Patrimnio Lquido Atual"}),p.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:N(x)})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center text-sm",children:[p.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Ativos Investidos"}),p.jsx("span",{className:"font-semibold text-emerald-600",children:N(f)})]}),p.jsxs("div",{className:"flex justify-between items-center text-sm",children:[p.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Dvidas Totais"}),p.jsx("span",{className:"font-semibold text-rose-600",children:N(y)})]}),p.jsx("div",{className:"w-full h-px bg-slate-200 dark:bg-slate-700 my-2"}),p.jsxs("div",{className:"flex justify-between items-center text-sm",children:[p.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Aporte Mensal"}),p.jsx("span",{className:"font-semibold text-indigo-600",children:N(b)})]}),p.jsxs("div",{className:"flex justify-between items-center text-sm",children:[p.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Rentabilidade Real (Proj.)"}),p.jsxs("span",{className:"font-semibold text-slate-800 dark:text-white",children:[(hO[i.riskProfile]*100).toFixed(1),"% a.a."]})]})]}),y>f&&p.jsxs("div",{className:"mt-6 bg-rose-50 dark:bg-rose-900/20 p-3 rounded-lg flex items-start gap-2",children:[p.jsx(RB,{className:"w-5 h-5 text-rose-600 shrink-0"}),p.jsx("p",{className:"text-xs text-rose-800 dark:text-rose-300",children:"Ateno: Seu patrimnio est negativo. A prioridade do planejamento deve ser a quitao de dvidas antes da acumulao."})]})]})]}),p.jsxs("div",{className:"mt-8",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[p.jsx(CM,{className:"w-6 h-6 text-purple-600"}),"Alocao Inteligente (IA)"]}),p.jsxs("button",{onClick:A,disabled:!r||c,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-semibold text-sm",children:[c?p.jsx("span",{className:"animate-spin",children:""}):p.jsx(kg,{className:"w-4 h-4"}),l?"Atualizar Anlise":"Gerar Estratgia Private"]})]}),!r&&p.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-8 rounded-xl text-center border border-dashed border-slate-300 dark:border-slate-600",children:[p.jsx(bx,{className:"w-10 h-10 text-slate-400 mx-auto mb-3"}),p.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Configure sua Chave API para desbloquear a inteligncia de alocao de ativos."})]}),r&&l&&p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in",children:[p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700",children:[p.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-3",children:"Diagnstico do Portflio"}),p.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm leading-relaxed mb-6",children:l.analysisText}),p.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-3",children:"Plano de Ao Ttico"}),p.jsx("div",{className:"space-y-3",children:l.actionItems.map((E,I)=>p.jsxs("div",{className:"flex gap-3 p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg border border-slate-100 dark:border-slate-700",children:[p.jsx("div",{className:`
                                      w-10 h-10 rounded-full flex items-center justify-center shrink-0 font-bold text-xs
                                      ${E.type==="buy"?"bg-emerald-100 text-emerald-700":E.type==="sell"?"bg-rose-100 text-rose-700":"bg-blue-100 text-blue-700"}
                                  `,children:E.type==="buy"?"COMPRA":E.type==="sell"?"VENDA":"MANTER"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-slate-800 dark:text-white text-sm",children:E.title}),p.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:E.description})]})]},I))})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 flex flex-col items-center justify-center",children:[p.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-2 self-start",children:"Atual vs. Ideal (Modelo)"}),p.jsx("div",{className:"h-[300px] w-full",children:p.jsx(Is,{width:"100%",height:"100%",children:p.jsxs(I1e,{cx:"50%",cy:"50%",outerRadius:"80%",data:l.suggestedAllocation.map(E=>{const I=l.currentAllocation.find(v=>v.name===E.name);return{subject:E.name,A:I?I.value:0,B:E.value,fullMark:100}}),children:[p.jsx(jV,{stroke:"#94a3b8"}),p.jsx(Au,{dataKey:"subject",tick:{fill:"#64748b",fontSize:10}}),p.jsx(Su,{angle:30,domain:[0,100],tick:!1}),p.jsx(Ll,{name:"Sua Carteira",dataKey:"A",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.3}),p.jsx(Ll,{name:"Ideal (IA)",dataKey:"B",stroke:"#10b981",fill:"#10b981",fillOpacity:.3}),p.jsx(Si,{}),p.jsx(ln,{})]})})}),p.jsx("p",{className:"text-xs text-center text-slate-400 mt-2",children:"Comparativo de % de alocao por classe de ativo."})]})]})]})]})},H1e=({user:t,isGuest:e,mobileMenuOpen:n,setMobileMenuOpen:r,currentView:i,onNavigate:o,onLogout:s,privacyMode:a,setPrivacyMode:l,darkMode:u,setDarkMode:c,isFullscreen:d,toggleFullscreen:f,hasKey:y,onOpenKeyModal:x,onOpenDonateModal:_,onExportBackup:b,onImportBackup:T,onFactoryReset:w})=>{var I,v;const A=V.useRef(null),N=S=>{o(S),r(!1)},E=({view:S,icon:P,label:k,customClass:O=""})=>p.jsxs("button",{onClick:()=>N(S),className:`flex w-full items-center gap-3 px-3 py-2.5 rounded-lg transition-all text-sm font-medium ${O} ${i===S?"bg-indigo-600 text-white shadow-md shadow-indigo-900/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[p.jsx(P,{className:`w-5 h-5 ${i!==S&&O?"text-purple-400 group-hover:text-white":""}`}),p.jsxs("div",{className:"flex-1 flex justify-between items-center",children:[p.jsx("span",{children:k}),S===He.AI_ASSISTANT&&!y&&p.jsx(Ja,{className:"w-3 h-3 text-rose-500"})]})]});return p.jsxs("nav",{className:`
         fixed md:sticky top-0 left-0 h-screen z-50 w-72 md:w-64 bg-slate-900 border-r border-slate-800 
         transform transition-transform duration-300 ease-in-out shadow-2xl flex flex-col
         ${n?"translate-x-0":"-translate-x-full md:translate-x-0"}
       `,children:[p.jsxs("div",{className:"flex items-center justify-between p-4 md:p-4 border-b border-slate-800 shrink-0",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"bg-indigo-600 p-2 rounded-xl shadow-lg shadow-indigo-900/50",children:p.jsx(jw,{className:"w-6 h-6 text-white"})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-xl font-bold text-white tracking-tight leading-none",children:"NEXO"}),p.jsx("span",{className:"text-[10px] text-slate-400 font-medium uppercase tracking-wider",children:"Financial Hub"})]})]}),p.jsx("button",{onClick:()=>r(!1),className:"md:hidden text-slate-400 hover:text-white",children:p.jsx($s,{className:"w-6 h-6"})})]}),p.jsx("div",{className:"p-4 shrink-0",children:p.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 bg-slate-800/50 rounded-lg border border-slate-700/50",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center border border-slate-600 overflow-hidden text-xs text-white",children:t!=null&&t.photoURL?p.jsx("img",{src:t.photoURL,alt:"User"}):((I=t==null?void 0:t.email)==null?void 0:I.substring(0,2).toUpperCase())||"CV"}),p.jsxs("div",{className:"overflow-hidden flex-1 min-w-0",children:[p.jsx("p",{className:"text-xs font-bold text-white truncate",title:(t==null?void 0:t.email)||"Convidado",children:((v=t==null?void 0:t.email)==null?void 0:v.split("@")[0])||"Convidado"}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${t?"bg-emerald-500":"bg-amber-500"}`}),p.jsx("p",{className:"text-[10px] text-slate-400",children:t?"Online (Cloud)":"Offline (Local)"})]})]}),p.jsx("button",{onClick:s,className:"text-slate-400 hover:text-rose-500",title:"Sair",children:p.jsx(vB,{className:"w-4 h-4"})})]})}),p.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-2 space-y-1",children:[p.jsx("p",{className:"px-2 text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Menu Principal"}),p.jsx(E,{view:He.DASHBOARD,icon:mB,label:"Dashboard"}),p.jsx(E,{view:He.CALENDAR,icon:eu,label:"Agenda"}),p.jsx(E,{view:He.TRANSACTIONS,icon:CB,label:"Transaes"}),p.jsx(E,{view:He.BUDGETS,icon:sf,label:"Metas"}),p.jsx(E,{view:He.SUBSCRIPTIONS,icon:Ls,label:"Assinaturas"}),p.jsx(E,{view:He.INVESTMENTS,icon:gB,label:"Investir"}),p.jsx(E,{view:He.DEBTS,icon:sd,label:"Limpa Nome"}),p.jsx(E,{view:He.SHOPPING_LIST,icon:Lp,label:"Lista de Compras"}),p.jsx(E,{view:He.WEALTH_PLANNER,icon:hB,label:"Planejamento",customClass:"text-amber-400"}),p.jsxs("button",{onClick:()=>y?N(He.AI_ASSISTANT):x(),className:`flex w-full items-center gap-3 px-3 py-2.5 rounded-lg transition-all text-sm font-medium group ${i===He.AI_ASSISTANT?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-md shadow-indigo-900/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[p.jsx(bB,{className:`w-5 h-5 ${i!==He.AI_ASSISTANT&&"text-purple-400 group-hover:text-white"}`}),p.jsxs("div",{className:"flex-1 flex justify-between items-center",children:[p.jsx("span",{children:"NEXO AI"}),!y&&p.jsx(Ja,{className:"w-3 h-3 text-rose-500"})]})]})]}),p.jsxs("div",{className:"mt-auto p-4 border-t border-slate-800 bg-slate-900 shrink-0",children:[p.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Dados & Backup"}),p.jsxs("div",{className:"flex gap-2 mb-2",children:[p.jsxs("button",{onClick:b,className:"flex-1 flex flex-col items-center justify-center p-2 rounded-lg bg-slate-800 hover:bg-slate-700 text-slate-400 hover:text-emerald-400 transition-all border border-slate-700",title:"Baixar Backup (Exportar)",children:[p.jsx(lB,{className:"w-5 h-5 mb-1"}),p.jsx("span",{className:"text-[10px]",children:"Backup"})]}),p.jsxs("label",{className:"flex-1 flex flex-col items-center justify-center p-2 rounded-lg bg-slate-800 hover:bg-slate-700 text-slate-400 hover:text-blue-400 transition-all border border-slate-700 cursor-pointer",children:[p.jsx(uB,{className:"w-5 h-5 mb-1"}),p.jsx("span",{className:"text-[10px]",children:"Restaurar"}),p.jsx("input",{type:"file",ref:A,className:"hidden",accept:".json",onChange:T})]}),p.jsxs("button",{onClick:w,className:"flex-1 flex flex-col items-center justify-center p-2 rounded-lg bg-slate-800 hover:bg-slate-700 text-slate-400 hover:text-rose-500 transition-all border border-slate-700",title:"Resetar App (Fbrica)",children:[p.jsx(tu,{className:"w-5 h-5 mb-1"}),p.jsx("span",{className:"text-[10px]",children:"Reset"})]})]}),p.jsxs("button",{onClick:_,className:"w-full mb-3 flex items-center justify-center gap-2 p-2 rounded-lg bg-gradient-to-r from-emerald-500 to-teal-600 text-white text-xs font-bold shadow-lg shadow-emerald-500/20 hover:shadow-emerald-500/30 transition-all",children:[p.jsx(cB,{className:"w-3 h-3 fill-current"})," Apoiar Projeto"]}),p.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Preferncias"}),p.jsxs("div",{className:"flex gap-2 mb-3",children:[p.jsx("button",{onClick:f,className:"flex-1 flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-white transition-all border border-slate-800 hover:border-slate-700",title:d?"Sair da Tela Cheia":"Tela Cheia",children:d?p.jsx(EB,{className:"w-5 h-5"}):p.jsx(xB,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>l(!a),className:"flex-1 flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-white transition-all border border-slate-800 hover:border-slate-700",title:a?"Mostrar Valores":"Ocultar Valores",children:a?p.jsx(iB,{className:"w-5 h-5"}):p.jsx(oB,{className:"w-5 h-5"})}),p.jsx("button",{onClick:()=>c(!u),className:"flex-1 flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-white transition-all border border-slate-800 hover:border-slate-700",title:u?"Modo Claro":"Modo Escuro",children:u?p.jsx(MB,{className:"w-5 h-5"}):p.jsx(SB,{className:"w-5 h-5"})}),p.jsx("button",{onClick:x,className:`flex-1 flex items-center justify-center p-2 rounded-lg transition-all border border-slate-800 hover:border-slate-700 ${y?"text-emerald-400 hover:bg-slate-800":"text-rose-400 hover:bg-slate-800 animate-pulse"}`,title:"Configurar Chave API",children:p.jsx(Ja,{className:"w-5 h-5"})})]})]})]})},z1e=({showWelcome:t,isDonateModalOpen:e,isKeyModalOpen:n,userKeyInput:r,hasKey:i,PIX_KEY:o,PIX_NAME:s,setShowWelcome:a,setIsDonateModalOpen:l,setIsKeyModalOpen:u,setUserKeyInput:c,handleSaveKey:d,handleRemoveKey:f,handleFinishWelcome:y,copyPix:x})=>p.jsxs(p.Fragment,{children:[t&&p.jsx("div",{className:"fixed inset-0 bg-slate-900/90 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in overflow-y-auto",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-4xl border border-slate-200 dark:border-slate-700 animate-scale-in my-8",children:[p.jsx("div",{className:"bg-slate-900 p-8 text-white relative overflow-hidden rounded-t-2xl",children:p.jsxs("div",{className:"relative z-10",children:[p.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Bem-vindo ao NEXO"}),p.jsx("p",{className:"text-slate-300 text-lg",children:"Seu novo comando central financeiro."})]})}),p.jsxs("div",{className:"p-8",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[p.jsxs("div",{children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-3 flex items-center gap-2",children:[p.jsx(bx,{className:"w-5 h-5 text-indigo-500"})," Privacidade Total"]}),p.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed",children:"Seus dados financeiros no so vendidos. No modo Offline, tudo fica no seu navegador."})]}),p.jsxs("div",{children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-3 flex items-center gap-2",children:[p.jsx(xx,{className:"w-5 h-5 text-purple-500"})," Inteligncia Artificial"]}),p.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed",children:"Conecte sua chave do Gemini para ter um consultor financeiro pessoal."})]})]}),p.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-100 dark:border-indigo-800 p-4 rounded-xl mb-8",children:[p.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"J possui uma chave de API do Gemini? (Opcional)"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("input",{type:"password",value:r,onChange:_=>c(_.target.value),placeholder:"Cole sua chave AIza...",className:"flex-1 p-2 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 outline-none"}),p.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:["Obter Chave ",p.jsx(OM,{className:"w-3 h-3"})]})]})]}),p.jsxs("button",{onClick:y,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold text-lg shadow-xl shadow-indigo-500/30 transition-all flex items-center justify-center gap-2",children:["Comear Agora ",p.jsx(Pg,{className:"w-5 h-5"})]})]})]})}),e&&p.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-sm p-6 border border-slate-200 dark:border-slate-700 animate-scale-in text-center relative overflow-hidden",children:[p.jsx("button",{onClick:()=>l(!1),className:"absolute top-2 right-2 p-2 text-slate-400 hover:text-slate-600",children:p.jsx($s,{className:"w-5 h-5"})}),p.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(aB,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),p.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:"Apoie o Projeto"}),p.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-6",children:"O NEXO  desenvolvido de forma independente. Considere apoiar! "}),p.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-700 mb-6 relative group cursor-pointer",onClick:x,children:[p.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"Chave Pix (E-mail)"}),p.jsx("p",{className:"text-sm font-mono font-bold text-slate-700 dark:text-slate-200 break-all select-all",children:o}),p.jsx("div",{className:"absolute inset-0 bg-black/5 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-xl",children:p.jsxs("span",{className:"bg-white dark:bg-slate-800 text-xs font-bold px-2 py-1 rounded shadow flex items-center gap-1",children:[p.jsx(NM,{className:"w-3 h-3"})," Copiar"]})})]}),p.jsxs("p",{className:"text-xs text-slate-400 mb-6",children:["Nome: ",s]})]})}),n&&p.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 border border-slate-200 dark:border-slate-700 animate-scale-in flex flex-col max-h-[90vh] overflow-y-auto",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[p.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[p.jsx(Ja,{className:"w-6 h-6 text-indigo-500"})," Configurar Chave API"]}),p.jsx("button",{onClick:()=>u(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:p.jsx($s,{className:"w-6 h-6"})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-3 rounded-lg text-sm text-indigo-800 dark:text-indigo-300 border border-indigo-100 dark:border-indigo-800",children:[p.jsxs("p",{className:"font-bold flex items-center gap-1 mb-1",children:[p.jsx(kg,{className:"w-3 h-3"})," Por que preciso disso?"]}),p.jsx("p",{children:"O Google Gemini  o crebro por trs da IA do NEXO. Para us-lo gratuitamente, voc precisa gerar sua prpria chave de acesso."})]}),p.jsxs("ol",{className:"list-decimal list-inside text-sm text-slate-600 dark:text-slate-400 space-y-2 ml-1",children:[p.jsxs("li",{children:["Acesse o ",p.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-indigo-600 font-bold hover:underline",children:"Google AI Studio"}),"."]}),p.jsx("li",{children:"Faa login com sua conta Google."}),p.jsxs("li",{children:["Clique em ",p.jsx("strong",{children:"Create API Key"}),"."]}),p.jsx("li",{children:'Copie o cdigo gerado (comea com "AIza...") e cole abaixo.'})]}),p.jsx("input",{type:"password",value:r,onChange:_=>c(_.target.value),placeholder:"Cole sua chave aqui (AIza...)",className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:d,disabled:!r,className:"flex-1 px-4 py-2 bg-indigo-600 text-white hover:bg-indigo-700 rounded-lg text-sm font-bold shadow-lg shadow-indigo-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Salvar e Conectar"}),p.jsx("button",{onClick:f,disabled:!i,className:"px-4 py-2 bg-rose-100 text-rose-600 hover:bg-rose-200 dark:bg-rose-900/30 dark:text-rose-400 dark:hover:bg-rose-900/50 rounded-lg text-sm font-bold disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Remover"})]})]})]})})]}),W1e={transactions:[],investments:[],budgets:[],debts:[],shoppingList:[],unlockedBadges:[]},K1e=(t,e)=>{const[n,r]=V.useState(W1e);return V.useEffect(()=>{if(t&&!e){const I=DH(t.uid,v=>{r(S=>({...S,...v}))});return()=>I()}},[t,e]),V.useEffect(()=>{(t||e)&&(async()=>{const v=new Date,S=v.getMonth(),P=v.getFullYear(),k=new Map;n.transactions.forEach(M=>{if(M.isRecurring){const D=k.get(M.description);(!D||new Date(M.date)>new Date(D.date))&&k.set(M.description,M)}});const O=[];if(k.forEach((M,D)=>{if(!n.transactions.some(B=>{const j=new Date(B.date);return B.description===D&&B.amount===M.amount&&j.getMonth()===S&&j.getFullYear()===P})){const j=new Date(M.date).getDate(),q=new Date(P,S+1,0).getDate(),F=Math.min(j,q),z=new Date(P,S,F);O.push({...M,id:crypto.randomUUID(),date:z.toISOString().split("T")[0],status:"pending",isRecurring:!0})}}),O.length>0)if(t)for(const M of O)await _I(t.uid,M);else r(M=>({...M,transactions:[...M.transactions,...O]}))})()},[t,e,n.transactions]),{data:n,setData:r,actions:{addTransaction:async I=>{const v={...I,id:crypto.randomUUID()};t?await _I(t.uid,v):r(S=>({...S,transactions:[...S.transactions,v]}))},updateTransaction:async(I,v)=>{t?await bI(t.uid,I,v):r(S=>({...S,transactions:S.transactions.map(P=>P.id===I?{...P,...v}:P)}))},deleteTransaction:async I=>{t?await LH(t.uid,I):r(v=>({...v,transactions:v.transactions.filter(S=>S.id!==I)}))},toggleTransactionStatus:async I=>{const v=n.transactions.find(P=>P.id===I);if(!v)return;const S=v.status==="paid"?"pending":"paid";if(t){if(await bI(t.uid,I,{status:S}),v.debtId){const P=n.debts.find(k=>k.id===v.debtId);if(P){const k=S==="paid"?"paid":"agreement";await wI(t.uid,P.id,{status:k})}}}else r(P=>{const k=P.transactions.map(M=>M.id===I?{...M,status:S}:M);let O=P.debts;return v.debtId&&(O=P.debts.map(M=>M.id===v.debtId?{...M,status:S==="paid"?"paid":"agreement"}:M)),{...P,transactions:k,debts:O}})},addInvestment:async I=>{const v={...I,id:crypto.randomUUID()};t?await $H(t.uid,v):r(S=>({...S,investments:[...S.investments,v]}))},updateInvestment:async(I,v)=>{t?await jH(t.uid,I,v):r(S=>({...S,investments:S.investments.map(P=>P.id===I?{...P,amount:v}:P)}))},deleteInvestment:async I=>{t?await VH(t.uid,I):r(v=>({...v,investments:v.investments.filter(S=>S.id!==I)}))},addBudget:async I=>{const v={...I,id:crypto.randomUUID()};t?await FH(t.uid,v):r(S=>({...S,budgets:[...S.budgets||[],v]}))},deleteBudget:async I=>{t?await UH(t.uid,I):r(v=>({...v,budgets:v.budgets.filter(S=>S.id!==I)}))},addDebt:async I=>{const v={...I,id:crypto.randomUUID()};t?await BH(t.uid,v):r(S=>({...S,debts:[...S.debts||[],v]}))},updateDebt:async(I,v)=>{t?await wI(t.uid,I,v):r(S=>({...S,debts:S.debts.map(P=>P.id===I?{...P,...v}:P)}))},deleteDebt:async I=>{t?await GH(t.uid,I):r(v=>({...v,debts:v.debts.filter(S=>S.id!==I)}))},addShoppingItem:async I=>{const v={...I,id:crypto.randomUUID()};t?await qH(t.uid,v):r(S=>({...S,shoppingList:[...S.shoppingList||[],v]}))},updateShoppingItem:async(I,v)=>{t?await HH(t.uid,I,v):r(S=>({...S,shoppingList:S.shoppingList.map(P=>P.id===I?{...P,...v}:P)}))},deleteShoppingItem:async I=>{t?await zH(t.uid,I):r(v=>({...v,shoppingList:v.shoppingList.filter(S=>S.id!==I)}))},clearShoppingList:async()=>{t?await WH(t.uid):r(I=>({...I,shoppingList:[]}))},unlockBadge:I=>{n.unlockedBadges.includes(I)||(t?KH(t.uid,I,n.unlockedBadges):r(v=>({...v,unlockedBadges:[...v.unlockedBadges,I]})))},saveWealthProfile:async I=>{t?await YH(t.uid,I):r(v=>({...v,wealthProfile:I}))}}}},pO="028.268.001-24",Y1e="Alexandre Magno dos Santos Linhares",J1e=()=>{const[t,e]=V.useState(null),[n,r]=V.useState(!1),[i,o]=V.useState(!0),{data:s,setData:a,actions:l}=K1e(t,n),[u,c]=V.useState(He.DASHBOARD),[d,f]=V.useState(!1),[y,x]=V.useState(!1),[_,b]=V.useState(!1),[T,w]=V.useState(!1),[A,N]=V.useState(0),[E,I]=V.useState(!1),[v,S]=V.useState(""),[P,k]=V.useState(!1),[O,M]=V.useState(!1),[D,U]=V.useState(!1);V.useRef(null),V.useEffect(()=>{const Ee=_9(La,async Z=>{if(e(Z),o(!1),Z){r(!1);const le=xI("guest_user");le.transactions.length>0&&confirm("Encontramos dados no modo convidado. Deseja migrar para sua conta na nuvem?")&&(await EI(Z.uid,le),localStorage.removeItem("finansmart_data_v2_guest_user"))}});return()=>Ee()},[]),V.useEffect(()=>{!i&&n&&MH(s,"guest_user")},[s,n,i]);const B=()=>{r(!0);const Ee=xI("guest_user");a(Ee)},j=async()=>{n?(r(!1),a({transactions:[],investments:[],budgets:[],debts:[],shoppingList:[],unlockedBadges:[]})):await b9(La)};V.useEffect(()=>{k(iP()),iP()&&S(cu()||""),!localStorage.getItem("nexo_welcome_seen")&&(t||n)&&U(!0)},[t,n]);const q=()=>{v.trim()&&(rP(v.trim()),k(!0),I(!1),alert("Chave API salva no seu navegador com sucesso!"))},F=()=>{aZ(),S(""),k(!1),I(!1)},z=()=>{v.trim()&&(rP(v.trim()),k(!0)),localStorage.setItem("nexo_welcome_seen","true"),U(!1)},Y=()=>{navigator.clipboard.writeText(pO),alert("Chave Pix copiada!")};V.useEffect(()=>{y?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[y]);const ie=()=>{document.fullscreenElement?(document.exitFullscreen&&document.exitFullscreen(),b(!1)):(document.documentElement.requestFullscreen().catch(Ee=>console.error(Ee)),b(!0))},Q=()=>{confirm(` ATENO: Isso apagar TODOS os dados, configuraes e chave API deste navegador.

Deseja realmente resetar o app para o estado de fbrica?`)&&(localStorage.clear(),window.location.reload())},se=()=>{const Ee=JSON.stringify(s),Z="data:application/json;charset=utf-8,"+encodeURIComponent(Ee),le=document.createElement("a");le.setAttribute("href",Z),le.setAttribute("download","nexo_backup.json"),le.click()},Pe=Ee=>{var me;const Z=(me=Ee.target.files)==null?void 0:me[0];if(!Z)return;const le=new FileReader;le.onload=async J=>{var Oe;try{const xe=JSON.parse((Oe=J.target)==null?void 0:Oe.result);confirm("Isso substituir seus dados atuais. Tem certeza?")&&(t?await EI(t.uid,xe):a(xe),alert("Backup restaurado com sucesso!"))}catch{alert("Erro ao ler arquivo de backup.")}},le.readAsText(Z)},W=Ee=>{c(Ee),w(!1),setTimeout(()=>N(Date.now()),50)},pe=async(Ee,Z,le)=>{const me={description:`Compra de Mercado (${new Date().toLocaleDateString()})`,amount:Ee,type:"expense",category:le,date:new Date().toISOString().split("T")[0],status:"paid",paymentMethod:Z,isRecurring:!1};await l.addTransaction(me),await l.clearShoppingList(),alert("Compra finalizada! Despesa registrada com sucesso."),c(He.TRANSACTIONS)},ke=()=>{switch(u){case He.DASHBOARD:return p.jsx(lO,{data:s,privacyMode:d,onUnlockBadge:l.unlockBadge});case He.TRANSACTIONS:return p.jsx(R1e,{transactions:s.transactions,budgets:s.budgets,onAdd:l.addTransaction,onUpdate:l.updateTransaction,onDelete:l.deleteTransaction,onToggleStatus:l.toggleTransactionStatus,privacyMode:d,hasApiKey:P,quickActionSignal:A});case He.INVESTMENTS:return p.jsx(O1e,{investments:s.investments,onAdd:l.addInvestment,onUpdate:l.updateInvestment,onDelete:l.deleteInvestment,privacyMode:d,hasApiKey:P,quickActionSignal:A});case He.SHOPPING_LIST:return p.jsx(U1e,{items:s.shoppingList||[],onAdd:l.addShoppingItem,onUpdate:l.updateShoppingItem,onDelete:l.deleteShoppingItem,onClearList:l.clearShoppingList,onFinishShopping:pe,privacyMode:d,quickActionSignal:A});case He.BUDGETS:return p.jsx(D1e,{budgets:s.budgets||[],transactions:s.transactions,onAdd:l.addBudget,onDelete:l.deleteBudget,privacyMode:d,quickActionSignal:A});case He.SUBSCRIPTIONS:return p.jsx(L1e,{transactions:s.transactions,onUpdateTransaction:l.updateTransaction,onDeleteTransaction:l.deleteTransaction,privacyMode:d});case He.CALENDAR:return p.jsx(j1e,{transactions:s.transactions,privacyMode:d});case He.DEBTS:return p.jsx(F1e,{debts:s.debts||[],onAdd:l.addDebt,onUpdate:l.updateDebt,onDelete:l.deleteDebt,onAddTransaction:l.addTransaction,privacyMode:d,quickActionSignal:A});case He.AI_ASSISTANT:return p.jsx(V1e,{data:s,privacyMode:d});case He.WEALTH_PLANNER:return p.jsx(q1e,{data:s,onSaveProfile:l.saveWealthProfile,privacyMode:d,hasApiKey:P});default:return p.jsx(lO,{data:s,privacyMode:d,onUnlockBadge:l.unlockBadge})}};return i?p.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:p.jsx(od,{className:"w-12 h-12 text-indigo-500 animate-spin"})}):!t&&!n?p.jsx(hZ,{onGuestLogin:B}):p.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex flex-col md:flex-row font-sans text-slate-900 dark:text-slate-100 transition-colors duration-300",children:[T&&p.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 md:hidden backdrop-blur-sm animate-fade-in",onClick:()=>w(!1)}),p.jsx(H1e,{user:t,isGuest:n,mobileMenuOpen:T,setMobileMenuOpen:w,currentView:u,onNavigate:Ee=>c(Ee),onLogout:j,privacyMode:d,setPrivacyMode:f,darkMode:y,setDarkMode:x,isFullscreen:_,toggleFullscreen:ie,hasKey:P,onOpenKeyModal:()=>I(!0),onOpenDonateModal:()=>M(!0),onExportBackup:se,onImportBackup:Pe,onFactoryReset:Q}),p.jsxs("main",{className:"flex-1 p-4 md:p-8 pt-20 md:pt-8 pb-8 overflow-y-auto h-screen scroll-smooth",children:[p.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 bg-slate-900 p-4 border-b border-slate-800 z-30 flex items-center justify-between shadow-md",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("button",{onClick:()=>w(!0),className:"text-slate-300 hover:text-white p-1",children:p.jsx(_B,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"bg-indigo-600 p-1.5 rounded-lg",children:p.jsx(jw,{className:"w-4 h-4 text-white"})}),p.jsx("span",{className:"font-bold text-white tracking-tight",children:"NEXO"})]})]}),p.jsx("div",{className:"flex gap-4",children:p.jsxs("button",{onClick:()=>I(!0),className:`${P?"text-emerald-400":"text-rose-500"} hover:text-white relative`,children:[p.jsx(Ja,{className:"w-5 h-5"}),!P&&p.jsxs("span",{className:"absolute -top-1 -right-1 flex h-2.5 w-2.5",children:[p.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-rose-400 opacity-75"}),p.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-rose-500"})]})]})})]}),p.jsxs("div",{className:"max-w-6xl mx-auto",children:[p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:[p.jsxs("button",{onClick:()=>W(He.TRANSACTIONS),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-blue-100 dark:border-blue-900/30 hover:border-blue-300 transition-all group",children:[p.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/40 p-2.5 rounded-lg group-hover:bg-blue-600 group-hover:text-white transition-colors text-blue-600 dark:text-blue-400",children:p.jsx(wx,{className:"w-5 h-5"})}),p.jsxs("div",{className:"text-left",children:[p.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Nova"}),p.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Transao"})]})]}),p.jsxs("button",{onClick:()=>W(He.SHOPPING_LIST),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-emerald-100 dark:border-emerald-900/30 hover:border-emerald-300 transition-all group",children:[p.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/40 p-2.5 rounded-lg group-hover:bg-emerald-600 group-hover:text-white transition-colors text-emerald-600 dark:text-emerald-400",children:p.jsx(Lp,{className:"w-5 h-5"})}),p.jsxs("div",{className:"text-left",children:[p.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Calculadora"}),p.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Mercado"})]})]}),p.jsxs("button",{onClick:()=>W(He.DEBTS),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-rose-100 dark:border-rose-900/30 hover:border-rose-300 transition-all group",children:[p.jsx("div",{className:"bg-rose-100 dark:bg-rose-900/40 p-2.5 rounded-lg group-hover:bg-rose-600 group-hover:text-white transition-colors text-rose-600 dark:text-rose-400",children:p.jsx(sd,{className:"w-5 h-5"})}),p.jsxs("div",{className:"text-left",children:[p.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Registrar"}),p.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Dvida"})]})]}),p.jsxs("button",{onClick:()=>W(He.BUDGETS),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-pink-100 dark:border-pink-900/30 hover:border-pink-300 transition-all group",children:[p.jsx("div",{className:"bg-pink-100 dark:bg-pink-900/40 p-2.5 rounded-lg group-hover:bg-pink-600 group-hover:text-white transition-colors text-pink-600 dark:text-pink-400",children:p.jsx(sf,{className:"w-5 h-5"})}),p.jsxs("div",{className:"text-left",children:[p.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Definir"}),p.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Meta/Limite"})]})]})]}),ke()]})]}),p.jsx(z1e,{showWelcome:D,isDonateModalOpen:O,isKeyModalOpen:E,userKeyInput:v,hasKey:P,PIX_KEY:pO,PIX_NAME:Y1e,setShowWelcome:U,setIsDonateModalOpen:M,setIsKeyModalOpen:I,setUserKeyInput:S,handleSaveKey:q,handleRemoveKey:F,handleFinishWelcome:z,copyPix:Y})]})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});const GF=document.getElementById("root");if(!GF)throw new Error("Could not find root element to mount to");const X1e=A0.createRoot(GF);X1e.render(p.jsx($.StrictMode,{children:p.jsx(J1e,{})}));
