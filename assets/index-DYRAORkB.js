(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ze(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tO={exports:{}},$g={},nO={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bf=Symbol.for("react.element"),eF=Symbol.for("react.portal"),tF=Symbol.for("react.fragment"),nF=Symbol.for("react.strict_mode"),rF=Symbol.for("react.profiler"),iF=Symbol.for("react.provider"),oF=Symbol.for("react.context"),sF=Symbol.for("react.forward_ref"),aF=Symbol.for("react.suspense"),lF=Symbol.for("react.memo"),uF=Symbol.for("react.lazy"),ES=Symbol.iterator;function cF(t){return t===null||typeof t!="object"?null:(t=ES&&t[ES]||t["@@iterator"],typeof t=="function"?t:null)}var rO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iO=Object.assign,oO={};function hu(t,e,n){this.props=t,this.context=e,this.refs=oO,this.updater=n||rO}hu.prototype.isReactComponent={};hu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};hu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sO(){}sO.prototype=hu.prototype;function u_(t,e,n){this.props=t,this.context=e,this.refs=oO,this.updater=n||rO}var c_=u_.prototype=new sO;c_.constructor=u_;iO(c_,hu.prototype);c_.isPureReactComponent=!0;var TS=Array.isArray,aO=Object.prototype.hasOwnProperty,d_={current:null},lO={key:!0,ref:!0,__self:!0,__source:!0};function uO(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)aO.call(e,r)&&!lO.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:bf,type:t,key:o,ref:s,props:i,_owner:d_.current}}function dF(t,e){return{$$typeof:bf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function f_(t){return typeof t=="object"&&t!==null&&t.$$typeof===bf}function fF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var SS=/\/+/g;function Cy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fF(""+t.key):e.toString(36)}function sp(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case bf:case eF:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Cy(s,0):r,TS(i)?(n="",t!=null&&(n=t.replace(SS,"$&/")+"/"),sp(i,e,n,"",function(u){return u})):i!=null&&(f_(i)&&(i=dF(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(SS,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",TS(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Cy(o,a);s+=sp(o,e,n,l,i)}else if(l=cF(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Cy(o,a++),s+=sp(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function yh(t,e,n){if(t==null)return t;var r=[],i=0;return sp(t,r,"","",function(o){return e.call(n,o,i++)}),r}function hF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jn={current:null},ap={transition:null},pF={ReactCurrentDispatcher:jn,ReactCurrentBatchConfig:ap,ReactCurrentOwner:d_};function cO(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:yh,forEach:function(t,e,n){yh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yh(t,function(){e++}),e},toArray:function(t){return yh(t,function(e){return e})||[]},only:function(t){if(!f_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ve.Component=hu;Ve.Fragment=tF;Ve.Profiler=rF;Ve.PureComponent=u_;Ve.StrictMode=nF;Ve.Suspense=aF;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pF;Ve.act=cO;Ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=iO({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=d_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)aO.call(e,l)&&!lO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:bf,type:t.type,key:i,ref:o,props:r,_owner:s}};Ve.createContext=function(t){return t={$$typeof:oF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iF,_context:t},t.Consumer=t};Ve.createElement=uO;Ve.createFactory=function(t){var e=uO.bind(null,t);return e.type=t,e};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(t){return{$$typeof:sF,render:t}};Ve.isValidElement=f_;Ve.lazy=function(t){return{$$typeof:uF,_payload:{_status:-1,_result:t},_init:hF}};Ve.memo=function(t,e){return{$$typeof:lF,type:t,compare:e===void 0?null:e}};Ve.startTransition=function(t){var e=ap.transition;ap.transition={};try{t()}finally{ap.transition=e}};Ve.unstable_act=cO;Ve.useCallback=function(t,e){return jn.current.useCallback(t,e)};Ve.useContext=function(t){return jn.current.useContext(t)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(t){return jn.current.useDeferredValue(t)};Ve.useEffect=function(t,e){return jn.current.useEffect(t,e)};Ve.useId=function(){return jn.current.useId()};Ve.useImperativeHandle=function(t,e,n){return jn.current.useImperativeHandle(t,e,n)};Ve.useInsertionEffect=function(t,e){return jn.current.useInsertionEffect(t,e)};Ve.useLayoutEffect=function(t,e){return jn.current.useLayoutEffect(t,e)};Ve.useMemo=function(t,e){return jn.current.useMemo(t,e)};Ve.useReducer=function(t,e,n){return jn.current.useReducer(t,e,n)};Ve.useRef=function(t){return jn.current.useRef(t)};Ve.useState=function(t){return jn.current.useState(t)};Ve.useSyncExternalStore=function(t,e,n){return jn.current.useSyncExternalStore(t,e,n)};Ve.useTransition=function(){return jn.current.useTransition()};Ve.version="18.3.1";nO.exports=Ve;var B=nO.exports;const U=Ze(B);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mF=B,gF=Symbol.for("react.element"),yF=Symbol.for("react.fragment"),vF=Object.prototype.hasOwnProperty,xF=mF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bF={key:!0,ref:!0,__self:!0,__source:!0};function dO(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)vF.call(e,r)&&!bF.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:gF,type:t,key:o,ref:s,props:i,_owner:xF.current}}$g.Fragment=yF;$g.jsx=dO;$g.jsxs=dO;tO.exports=$g;var d=tO.exports,Wv={},fO={exports:{}},or={},hO={exports:{}},pO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var G=L.length;L.push(z);e:for(;0<G;){var Y=G-1>>>1,H=L[Y];if(0<i(H,z))L[Y]=z,L[G]=H,G=Y;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],G=L.pop();if(G!==z){L[0]=G;e:for(var Y=0,H=L.length,J=H>>>1;Y<J;){var ce=2*(Y+1)-1,W=L[ce],oe=ce+1,Q=L[oe];if(0>i(W,G))oe<H&&0>i(Q,W)?(L[Y]=Q,L[oe]=G,Y=oe):(L[Y]=W,L[ce]=G,Y=ce);else if(oe<H&&0>i(Q,G))L[Y]=Q,L[oe]=G,Y=oe;else break e}}return z}function i(L,z){var G=L.sortIndex-z.sortIndex;return G!==0?G:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,h=3,y=!1,v=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(L){for(var z=n(u);z!==null;){if(z.callback===null)r(u);else if(z.startTime<=L)r(u),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(u)}}function N(L){if(b=!1,E(L),!v)if(n(l)!==null)v=!0,j(T);else{var z=n(u);z!==null&&F(N,z.startTime-L)}}function T(L,z){v=!1,b&&(b=!1,_(I),I=-1),y=!0;var G=h;try{for(E(z),f=n(l);f!==null&&(!(f.expirationTime>z)||L&&!R());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,h=f.priorityLevel;var H=Y(f.expirationTime<=z);z=t.unstable_now(),typeof H=="function"?f.callback=H:f===n(l)&&r(l),E(z)}else r(l);f=n(l)}if(f!==null)var J=!0;else{var ce=n(u);ce!==null&&F(N,ce.startTime-z),J=!1}return J}finally{f=null,h=G,y=!1}}var C=!1,A=null,I=-1,k=5,P=-1;function R(){return!(t.unstable_now()-P<k)}function O(){if(A!==null){var L=t.unstable_now();P=L;var z=!0;try{z=A(!0,L)}finally{z?D():(C=!1,A=null)}}else C=!1}var D;if(typeof w=="function")D=function(){w(O)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,V=q.port2;q.port1.onmessage=O,D=function(){V.postMessage(null)}}else D=function(){x(O,0)};function j(L){A=L,C||(C=!0,D())}function F(L,z){I=x(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,j(T))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var G=h;h=z;try{return L()}finally{h=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var G=h;h=L;try{return z()}finally{h=G}},t.unstable_scheduleCallback=function(L,z,G){var Y=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Y+G:Y):G=Y,L){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=G+H,L={id:c++,callback:z,priorityLevel:L,startTime:G,expirationTime:H,sortIndex:-1},G>Y?(L.sortIndex=G,e(u,L),n(l)===null&&L===n(u)&&(b?(_(I),I=-1):b=!0,F(N,G-Y))):(L.sortIndex=H,e(l,L),v||y||(v=!0,j(T))),L},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(L){var z=h;return function(){var G=h;h=z;try{return L.apply(this,arguments)}finally{h=G}}}})(pO);hO.exports=pO;var wF=hO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _F=B,ir=wF;function le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mO=new Set,nd={};function va(t,e){Tl(t,e),Tl(t+"Capture",e)}function Tl(t,e){for(nd[t]=e,t=0;t<e.length;t++)mO.add(e[t])}var Bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kv=Object.prototype.hasOwnProperty,EF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,AS={},IS={};function TF(t){return Kv.call(IS,t)?!0:Kv.call(AS,t)?!1:EF.test(t)?IS[t]=!0:(AS[t]=!0,!1)}function SF(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function AF(t,e,n,r){if(e===null||typeof e>"u"||SF(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ln(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ln[t]=new Ln(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ln[e]=new Ln(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ln[t]=new Ln(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ln[t]=new Ln(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ln[t]=new Ln(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ln[t]=new Ln(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ln[t]=new Ln(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ln[t]=new Ln(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ln[t]=new Ln(t,5,!1,t.toLowerCase(),null,!1,!1)});var h_=/[\-:]([a-z])/g;function p_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(h_,p_);ln[e]=new Ln(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(h_,p_);ln[e]=new Ln(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(h_,p_);ln[e]=new Ln(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ln[t]=new Ln(t,1,!1,t.toLowerCase(),null,!1,!1)});ln.xlinkHref=new Ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ln[t]=new Ln(t,1,!1,t.toLowerCase(),null,!0,!0)});function m_(t,e,n,r){var i=ln.hasOwnProperty(e)?ln[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AF(e,n,i,r)&&(n=null),r||i===null?TF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ro=_F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vh=Symbol.for("react.element"),Ba=Symbol.for("react.portal"),za=Symbol.for("react.fragment"),g_=Symbol.for("react.strict_mode"),Yv=Symbol.for("react.profiler"),gO=Symbol.for("react.provider"),yO=Symbol.for("react.context"),y_=Symbol.for("react.forward_ref"),Jv=Symbol.for("react.suspense"),Xv=Symbol.for("react.suspense_list"),v_=Symbol.for("react.memo"),bo=Symbol.for("react.lazy"),vO=Symbol.for("react.offscreen"),kS=Symbol.iterator;function nc(t){return t===null||typeof t!="object"?null:(t=kS&&t[kS]||t["@@iterator"],typeof t=="function"?t:null)}var Et=Object.assign,Py;function Ec(t){if(Py===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Py=e&&e[1]||""}return`
`+Py+t}var Ny=!1;function Ry(t,e){if(!t||Ny)return"";Ny=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Ny=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ec(t):""}function IF(t){switch(t.tag){case 5:return Ec(t.type);case 16:return Ec("Lazy");case 13:return Ec("Suspense");case 19:return Ec("SuspenseList");case 0:case 2:case 15:return t=Ry(t.type,!1),t;case 11:return t=Ry(t.type.render,!1),t;case 1:return t=Ry(t.type,!0),t;default:return""}}function Qv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case za:return"Fragment";case Ba:return"Portal";case Yv:return"Profiler";case g_:return"StrictMode";case Jv:return"Suspense";case Xv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yO:return(t.displayName||"Context")+".Consumer";case gO:return(t._context.displayName||"Context")+".Provider";case y_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case v_:return e=t.displayName||null,e!==null?e:Qv(t.type)||"Memo";case bo:e=t._payload,t=t._init;try{return Qv(t(e))}catch{}}return null}function kF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qv(e);case 8:return e===g_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function CF(t){var e=xO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xh(t){t._valueTracker||(t._valueTracker=CF(t))}function bO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zv(t,e){var n=e.checked;return Et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function CS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function wO(t,e){e=e.checked,e!=null&&m_(t,"checked",e,!1)}function ex(t,e){wO(t,e);var n=Xo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tx(t,e.type,n):e.hasOwnProperty("defaultValue")&&tx(t,e.type,Xo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function PS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tx(t,e,n){(e!=="number"||Rp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Tc=Array.isArray;function ul(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function nx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return Et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function NS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(le(92));if(Tc(n)){if(1<n.length)throw Error(le(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xo(n)}}function _O(t,e){var n=Xo(e.value),r=Xo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function RS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function EO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?EO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bh,TO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bh=bh||document.createElement("div"),bh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function rd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Mc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PF=["Webkit","ms","Moz","O"];Object.keys(Mc).forEach(function(t){PF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Mc[e]=Mc[t]})});function SO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Mc.hasOwnProperty(t)&&Mc[t]?(""+e).trim():e+"px"}function AO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=SO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var NF=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ix(t,e){if(e){if(NF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function ox(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sx=null;function x_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ax=null,cl=null,dl=null;function OS(t){if(t=Ef(t)){if(typeof ax!="function")throw Error(le(280));var e=t.stateNode;e&&(e=zg(e),ax(t.stateNode,t.type,e))}}function IO(t){cl?dl?dl.push(t):dl=[t]:cl=t}function kO(){if(cl){var t=cl,e=dl;if(dl=cl=null,OS(t),e)for(t=0;t<e.length;t++)OS(e[t])}}function CO(t,e){return t(e)}function PO(){}var Oy=!1;function NO(t,e,n){if(Oy)return t(e,n);Oy=!0;try{return CO(t,e,n)}finally{Oy=!1,(cl!==null||dl!==null)&&(PO(),kO())}}function id(t,e){var n=t.stateNode;if(n===null)return null;var r=zg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(le(231,e,typeof n));return n}var lx=!1;if(Bi)try{var rc={};Object.defineProperty(rc,"passive",{get:function(){lx=!0}}),window.addEventListener("test",rc,rc),window.removeEventListener("test",rc,rc)}catch{lx=!1}function RF(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Dc=!1,Op=null,Mp=!1,ux=null,OF={onError:function(t){Dc=!0,Op=t}};function MF(t,e,n,r,i,o,s,a,l){Dc=!1,Op=null,RF.apply(OF,arguments)}function DF(t,e,n,r,i,o,s,a,l){if(MF.apply(this,arguments),Dc){if(Dc){var u=Op;Dc=!1,Op=null}else throw Error(le(198));Mp||(Mp=!0,ux=u)}}function xa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function RO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function MS(t){if(xa(t)!==t)throw Error(le(188))}function jF(t){var e=t.alternate;if(!e){if(e=xa(t),e===null)throw Error(le(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return MS(i),t;if(o===r)return MS(i),e;o=o.sibling}throw Error(le(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(le(189))}}if(n.alternate!==r)throw Error(le(190))}if(n.tag!==3)throw Error(le(188));return n.stateNode.current===n?t:e}function OO(t){return t=jF(t),t!==null?MO(t):null}function MO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=MO(t);if(e!==null)return e;t=t.sibling}return null}var DO=ir.unstable_scheduleCallback,DS=ir.unstable_cancelCallback,LF=ir.unstable_shouldYield,$F=ir.unstable_requestPaint,Pt=ir.unstable_now,VF=ir.unstable_getCurrentPriorityLevel,b_=ir.unstable_ImmediatePriority,jO=ir.unstable_UserBlockingPriority,Dp=ir.unstable_NormalPriority,FF=ir.unstable_LowPriority,LO=ir.unstable_IdlePriority,Vg=null,ii=null;function UF(t){if(ii&&typeof ii.onCommitFiberRoot=="function")try{ii.onCommitFiberRoot(Vg,t,void 0,(t.current.flags&128)===128)}catch{}}var Fr=Math.clz32?Math.clz32:GF,BF=Math.log,zF=Math.LN2;function GF(t){return t>>>=0,t===0?32:31-(BF(t)/zF|0)|0}var wh=64,_h=4194304;function Sc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Sc(a):(o&=s,o!==0&&(r=Sc(o)))}else s=n&~i,s!==0?r=Sc(s):o!==0&&(r=Sc(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Fr(e),i=1<<n,r|=t[n],e&=~i;return r}function qF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Fr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=qF(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function cx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $O(){var t=wh;return wh<<=1,!(wh&4194240)&&(wh=64),t}function My(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fr(e),t[e]=n}function WF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Fr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function w_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Fr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var et=0;function VO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var FO,__,UO,BO,zO,dx=!1,Eh=[],Lo=null,$o=null,Vo=null,od=new Map,sd=new Map,To=[],KF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jS(t,e){switch(t){case"focusin":case"focusout":Lo=null;break;case"dragenter":case"dragleave":$o=null;break;case"mouseover":case"mouseout":Vo=null;break;case"pointerover":case"pointerout":od.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sd.delete(e.pointerId)}}function ic(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Ef(e),e!==null&&__(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function YF(t,e,n,r,i){switch(e){case"focusin":return Lo=ic(Lo,t,e,n,r,i),!0;case"dragenter":return $o=ic($o,t,e,n,r,i),!0;case"mouseover":return Vo=ic(Vo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return od.set(o,ic(od.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,sd.set(o,ic(sd.get(o)||null,t,e,n,r,i)),!0}return!1}function GO(t){var e=Ms(t.target);if(e!==null){var n=xa(e);if(n!==null){if(e=n.tag,e===13){if(e=RO(n),e!==null){t.blockedOn=e,zO(t.priority,function(){UO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sx=r,n.target.dispatchEvent(r),sx=null}else return e=Ef(n),e!==null&&__(e),t.blockedOn=n,!1;e.shift()}return!0}function LS(t,e,n){lp(t)&&n.delete(e)}function JF(){dx=!1,Lo!==null&&lp(Lo)&&(Lo=null),$o!==null&&lp($o)&&($o=null),Vo!==null&&lp(Vo)&&(Vo=null),od.forEach(LS),sd.forEach(LS)}function oc(t,e){t.blockedOn===e&&(t.blockedOn=null,dx||(dx=!0,ir.unstable_scheduleCallback(ir.unstable_NormalPriority,JF)))}function ad(t){function e(i){return oc(i,t)}if(0<Eh.length){oc(Eh[0],t);for(var n=1;n<Eh.length;n++){var r=Eh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Lo!==null&&oc(Lo,t),$o!==null&&oc($o,t),Vo!==null&&oc(Vo,t),od.forEach(e),sd.forEach(e),n=0;n<To.length;n++)r=To[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<To.length&&(n=To[0],n.blockedOn===null);)GO(n),n.blockedOn===null&&To.shift()}var fl=ro.ReactCurrentBatchConfig,Lp=!0;function XF(t,e,n,r){var i=et,o=fl.transition;fl.transition=null;try{et=1,E_(t,e,n,r)}finally{et=i,fl.transition=o}}function QF(t,e,n,r){var i=et,o=fl.transition;fl.transition=null;try{et=4,E_(t,e,n,r)}finally{et=i,fl.transition=o}}function E_(t,e,n,r){if(Lp){var i=fx(t,e,n,r);if(i===null)Gy(t,e,r,$p,n),jS(t,r);else if(YF(i,t,e,n,r))r.stopPropagation();else if(jS(t,r),e&4&&-1<KF.indexOf(t)){for(;i!==null;){var o=Ef(i);if(o!==null&&FO(o),o=fx(t,e,n,r),o===null&&Gy(t,e,r,$p,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Gy(t,e,r,null,n)}}var $p=null;function fx(t,e,n,r){if($p=null,t=x_(r),t=Ms(t),t!==null)if(e=xa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=RO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $p=t,null}function qO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VF()){case b_:return 1;case jO:return 4;case Dp:case FF:return 16;case LO:return 536870912;default:return 16}default:return 16}}var No=null,T_=null,up=null;function HO(){if(up)return up;var t,e=T_,n=e.length,r,i="value"in No?No.value:No.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return up=i.slice(t,1<r?1-r:void 0)}function cp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Th(){return!0}function $S(){return!1}function sr(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Th:$S,this.isPropagationStopped=$S,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Th)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Th)},persist:function(){},isPersistent:Th}),e}var pu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},S_=sr(pu),_f=Et({},pu,{view:0,detail:0}),ZF=sr(_f),Dy,jy,sc,Fg=Et({},_f,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:A_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sc&&(sc&&t.type==="mousemove"?(Dy=t.screenX-sc.screenX,jy=t.screenY-sc.screenY):jy=Dy=0,sc=t),Dy)},movementY:function(t){return"movementY"in t?t.movementY:jy}}),VS=sr(Fg),eU=Et({},Fg,{dataTransfer:0}),tU=sr(eU),nU=Et({},_f,{relatedTarget:0}),Ly=sr(nU),rU=Et({},pu,{animationName:0,elapsedTime:0,pseudoElement:0}),iU=sr(rU),oU=Et({},pu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sU=sr(oU),aU=Et({},pu,{data:0}),FS=sr(aU),lU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cU[t])?!!e[t]:!1}function A_(){return dU}var fU=Et({},_f,{key:function(t){if(t.key){var e=lU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:A_,charCode:function(t){return t.type==="keypress"?cp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hU=sr(fU),pU=Et({},Fg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),US=sr(pU),mU=Et({},_f,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:A_}),gU=sr(mU),yU=Et({},pu,{propertyName:0,elapsedTime:0,pseudoElement:0}),vU=sr(yU),xU=Et({},Fg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bU=sr(xU),wU=[9,13,27,32],I_=Bi&&"CompositionEvent"in window,jc=null;Bi&&"documentMode"in document&&(jc=document.documentMode);var _U=Bi&&"TextEvent"in window&&!jc,WO=Bi&&(!I_||jc&&8<jc&&11>=jc),BS=" ",zS=!1;function KO(t,e){switch(t){case"keyup":return wU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ga=!1;function EU(t,e){switch(t){case"compositionend":return YO(e);case"keypress":return e.which!==32?null:(zS=!0,BS);case"textInput":return t=e.data,t===BS&&zS?null:t;default:return null}}function TU(t,e){if(Ga)return t==="compositionend"||!I_&&KO(t,e)?(t=HO(),up=T_=No=null,Ga=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return WO&&e.locale!=="ko"?null:e.data;default:return null}}var SU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function GS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SU[t.type]:e==="textarea"}function JO(t,e,n,r){IO(r),e=Vp(e,"onChange"),0<e.length&&(n=new S_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Lc=null,ld=null;function AU(t){aM(t,0)}function Ug(t){var e=Wa(t);if(bO(e))return t}function IU(t,e){if(t==="change")return e}var XO=!1;if(Bi){var $y;if(Bi){var Vy="oninput"in document;if(!Vy){var qS=document.createElement("div");qS.setAttribute("oninput","return;"),Vy=typeof qS.oninput=="function"}$y=Vy}else $y=!1;XO=$y&&(!document.documentMode||9<document.documentMode)}function HS(){Lc&&(Lc.detachEvent("onpropertychange",QO),ld=Lc=null)}function QO(t){if(t.propertyName==="value"&&Ug(ld)){var e=[];JO(e,ld,t,x_(t)),NO(AU,e)}}function kU(t,e,n){t==="focusin"?(HS(),Lc=e,ld=n,Lc.attachEvent("onpropertychange",QO)):t==="focusout"&&HS()}function CU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ug(ld)}function PU(t,e){if(t==="click")return Ug(e)}function NU(t,e){if(t==="input"||t==="change")return Ug(e)}function RU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wr=typeof Object.is=="function"?Object.is:RU;function ud(t,e){if(Wr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Kv.call(e,i)||!Wr(t[i],e[i]))return!1}return!0}function WS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function KS(t,e){var n=WS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=WS(n)}}function ZO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ZO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function eM(){for(var t=window,e=Rp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rp(t.document)}return e}function k_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OU(t){var e=eM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ZO(n.ownerDocument.documentElement,n)){if(r!==null&&k_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=KS(n,o);var s=KS(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var MU=Bi&&"documentMode"in document&&11>=document.documentMode,qa=null,hx=null,$c=null,px=!1;function YS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;px||qa==null||qa!==Rp(r)||(r=qa,"selectionStart"in r&&k_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$c&&ud($c,r)||($c=r,r=Vp(hx,"onSelect"),0<r.length&&(e=new S_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qa)))}function Sh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ha={animationend:Sh("Animation","AnimationEnd"),animationiteration:Sh("Animation","AnimationIteration"),animationstart:Sh("Animation","AnimationStart"),transitionend:Sh("Transition","TransitionEnd")},Fy={},tM={};Bi&&(tM=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Bg(t){if(Fy[t])return Fy[t];if(!Ha[t])return t;var e=Ha[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tM)return Fy[t]=e[n];return t}var nM=Bg("animationend"),rM=Bg("animationiteration"),iM=Bg("animationstart"),oM=Bg("transitionend"),sM=new Map,JS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(t,e){sM.set(t,e),va(e,[t])}for(var Uy=0;Uy<JS.length;Uy++){var By=JS[Uy],DU=By.toLowerCase(),jU=By[0].toUpperCase()+By.slice(1);is(DU,"on"+jU)}is(nM,"onAnimationEnd");is(rM,"onAnimationIteration");is(iM,"onAnimationStart");is("dblclick","onDoubleClick");is("focusin","onFocus");is("focusout","onBlur");is(oM,"onTransitionEnd");Tl("onMouseEnter",["mouseout","mouseover"]);Tl("onMouseLeave",["mouseout","mouseover"]);Tl("onPointerEnter",["pointerout","pointerover"]);Tl("onPointerLeave",["pointerout","pointerover"]);va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));va("onBeforeInput",["compositionend","keypress","textInput","paste"]);va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ac));function XS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,DF(r,e,void 0,t),t.currentTarget=null}function aM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;XS(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;XS(i,a,u),o=l}}}if(Mp)throw t=ux,Mp=!1,ux=null,t}function ht(t,e){var n=e[xx];n===void 0&&(n=e[xx]=new Set);var r=t+"__bubble";n.has(r)||(lM(e,t,2,!1),n.add(r))}function zy(t,e,n){var r=0;e&&(r|=4),lM(n,t,r,e)}var Ah="_reactListening"+Math.random().toString(36).slice(2);function cd(t){if(!t[Ah]){t[Ah]=!0,mO.forEach(function(n){n!=="selectionchange"&&(LU.has(n)||zy(n,!1,t),zy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ah]||(e[Ah]=!0,zy("selectionchange",!1,e))}}function lM(t,e,n,r){switch(qO(e)){case 1:var i=XF;break;case 4:i=QF;break;default:i=E_}n=i.bind(null,e,n,t),i=void 0,!lx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Gy(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ms(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}NO(function(){var u=o,c=x_(n),f=[];e:{var h=sM.get(t);if(h!==void 0){var y=S_,v=t;switch(t){case"keypress":if(cp(n)===0)break e;case"keydown":case"keyup":y=hU;break;case"focusin":v="focus",y=Ly;break;case"focusout":v="blur",y=Ly;break;case"beforeblur":case"afterblur":y=Ly;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=VS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=tU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=gU;break;case nM:case rM:case iM:y=iU;break;case oM:y=vU;break;case"scroll":y=ZF;break;case"wheel":y=bU;break;case"copy":case"cut":case"paste":y=sU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=US}var b=(e&4)!==0,x=!b&&t==="scroll",_=b?h!==null?h+"Capture":null:h;b=[];for(var w=u,E;w!==null;){E=w;var N=E.stateNode;if(E.tag===5&&N!==null&&(E=N,_!==null&&(N=id(w,_),N!=null&&b.push(dd(w,N,E)))),x)break;w=w.return}0<b.length&&(h=new y(h,v,null,n,c),f.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==sx&&(v=n.relatedTarget||n.fromElement)&&(Ms(v)||v[zi]))break e;if((y||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?Ms(v):null,v!==null&&(x=xa(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(b=VS,N="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(b=US,N="onPointerLeave",_="onPointerEnter",w="pointer"),x=y==null?h:Wa(y),E=v==null?h:Wa(v),h=new b(N,w+"leave",y,n,c),h.target=x,h.relatedTarget=E,N=null,Ms(c)===u&&(b=new b(_,w+"enter",v,n,c),b.target=E,b.relatedTarget=x,N=b),x=N,y&&v)t:{for(b=y,_=v,w=0,E=b;E;E=Oa(E))w++;for(E=0,N=_;N;N=Oa(N))E++;for(;0<w-E;)b=Oa(b),w--;for(;0<E-w;)_=Oa(_),E--;for(;w--;){if(b===_||_!==null&&b===_.alternate)break t;b=Oa(b),_=Oa(_)}b=null}else b=null;y!==null&&QS(f,h,y,b,!1),v!==null&&x!==null&&QS(f,x,v,b,!0)}}e:{if(h=u?Wa(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var T=IU;else if(GS(h))if(XO)T=NU;else{T=CU;var C=kU}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=PU);if(T&&(T=T(t,u))){JO(f,T,n,c);break e}C&&C(t,h,u),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&tx(h,"number",h.value)}switch(C=u?Wa(u):window,t){case"focusin":(GS(C)||C.contentEditable==="true")&&(qa=C,hx=u,$c=null);break;case"focusout":$c=hx=qa=null;break;case"mousedown":px=!0;break;case"contextmenu":case"mouseup":case"dragend":px=!1,YS(f,n,c);break;case"selectionchange":if(MU)break;case"keydown":case"keyup":YS(f,n,c)}var A;if(I_)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ga?KO(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(WO&&n.locale!=="ko"&&(Ga||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ga&&(A=HO()):(No=c,T_="value"in No?No.value:No.textContent,Ga=!0)),C=Vp(u,I),0<C.length&&(I=new FS(I,t,null,n,c),f.push({event:I,listeners:C}),A?I.data=A:(A=YO(n),A!==null&&(I.data=A)))),(A=_U?EU(t,n):TU(t,n))&&(u=Vp(u,"onBeforeInput"),0<u.length&&(c=new FS("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=A))}aM(f,e)})}function dd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=id(t,n),o!=null&&r.unshift(dd(t,o,i)),o=id(t,e),o!=null&&r.push(dd(t,o,i))),t=t.return}return r}function Oa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function QS(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=id(n,o),l!=null&&s.unshift(dd(n,l,a))):i||(l=id(n,o),l!=null&&s.push(dd(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var $U=/\r\n?/g,VU=/\u0000|\uFFFD/g;function ZS(t){return(typeof t=="string"?t:""+t).replace($U,`
`).replace(VU,"")}function Ih(t,e,n){if(e=ZS(e),ZS(t)!==e&&n)throw Error(le(425))}function Fp(){}var mx=null,gx=null;function yx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vx=typeof setTimeout=="function"?setTimeout:void 0,FU=typeof clearTimeout=="function"?clearTimeout:void 0,eA=typeof Promise=="function"?Promise:void 0,UU=typeof queueMicrotask=="function"?queueMicrotask:typeof eA<"u"?function(t){return eA.resolve(null).then(t).catch(BU)}:vx;function BU(t){setTimeout(function(){throw t})}function qy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ad(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ad(e)}function Fo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mu=Math.random().toString(36).slice(2),ti="__reactFiber$"+mu,fd="__reactProps$"+mu,zi="__reactContainer$"+mu,xx="__reactEvents$"+mu,zU="__reactListeners$"+mu,GU="__reactHandles$"+mu;function Ms(t){var e=t[ti];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zi]||n[ti]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tA(t);t!==null;){if(n=t[ti])return n;t=tA(t)}return e}t=n,n=t.parentNode}return null}function Ef(t){return t=t[ti]||t[zi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(le(33))}function zg(t){return t[fd]||null}var bx=[],Ka=-1;function os(t){return{current:t}}function gt(t){0>Ka||(t.current=bx[Ka],bx[Ka]=null,Ka--)}function dt(t,e){Ka++,bx[Ka]=t.current,t.current=e}var Qo={},bn=os(Qo),Bn=os(!1),Qs=Qo;function Sl(t,e){var n=t.type.contextTypes;if(!n)return Qo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zn(t){return t=t.childContextTypes,t!=null}function Up(){gt(Bn),gt(bn)}function nA(t,e,n){if(bn.current!==Qo)throw Error(le(168));dt(bn,e),dt(Bn,n)}function uM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(le(108,kF(t)||"Unknown",i));return Et({},n,r)}function Bp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qo,Qs=bn.current,dt(bn,t),dt(Bn,Bn.current),!0}function rA(t,e,n){var r=t.stateNode;if(!r)throw Error(le(169));n?(t=uM(t,e,Qs),r.__reactInternalMemoizedMergedChildContext=t,gt(Bn),gt(bn),dt(bn,t)):gt(Bn),dt(Bn,n)}var Ai=null,Gg=!1,Hy=!1;function cM(t){Ai===null?Ai=[t]:Ai.push(t)}function qU(t){Gg=!0,cM(t)}function ss(){if(!Hy&&Ai!==null){Hy=!0;var t=0,e=et;try{var n=Ai;for(et=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ai=null,Gg=!1}catch(i){throw Ai!==null&&(Ai=Ai.slice(t+1)),DO(b_,ss),i}finally{et=e,Hy=!1}}return null}var Ya=[],Ja=0,zp=null,Gp=0,fr=[],hr=0,Zs=null,Ci=1,Pi="";function As(t,e){Ya[Ja++]=Gp,Ya[Ja++]=zp,zp=t,Gp=e}function dM(t,e,n){fr[hr++]=Ci,fr[hr++]=Pi,fr[hr++]=Zs,Zs=t;var r=Ci;t=Pi;var i=32-Fr(r)-1;r&=~(1<<i),n+=1;var o=32-Fr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ci=1<<32-Fr(e)+i|n<<i|r,Pi=o+t}else Ci=1<<o|n<<i|r,Pi=t}function C_(t){t.return!==null&&(As(t,1),dM(t,1,0))}function P_(t){for(;t===zp;)zp=Ya[--Ja],Ya[Ja]=null,Gp=Ya[--Ja],Ya[Ja]=null;for(;t===Zs;)Zs=fr[--hr],fr[hr]=null,Pi=fr[--hr],fr[hr]=null,Ci=fr[--hr],fr[hr]=null}var er=null,Qn=null,yt=!1,Lr=null;function fM(t,e){var n=mr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function iA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,er=t,Qn=Fo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,er=t,Qn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zs!==null?{id:Ci,overflow:Pi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,er=t,Qn=null,!0):!1;default:return!1}}function wx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _x(t){if(yt){var e=Qn;if(e){var n=e;if(!iA(t,e)){if(wx(t))throw Error(le(418));e=Fo(n.nextSibling);var r=er;e&&iA(t,e)?fM(r,n):(t.flags=t.flags&-4097|2,yt=!1,er=t)}}else{if(wx(t))throw Error(le(418));t.flags=t.flags&-4097|2,yt=!1,er=t}}}function oA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;er=t}function kh(t){if(t!==er)return!1;if(!yt)return oA(t),yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yx(t.type,t.memoizedProps)),e&&(e=Qn)){if(wx(t))throw hM(),Error(le(418));for(;e;)fM(t,e),e=Fo(e.nextSibling)}if(oA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qn=Fo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qn=null}}else Qn=er?Fo(t.stateNode.nextSibling):null;return!0}function hM(){for(var t=Qn;t;)t=Fo(t.nextSibling)}function Al(){Qn=er=null,yt=!1}function N_(t){Lr===null?Lr=[t]:Lr.push(t)}var HU=ro.ReactCurrentBatchConfig;function ac(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(le(309));var r=n.stateNode}if(!r)throw Error(le(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(le(284));if(!n._owner)throw Error(le(290,t))}return t}function Ch(t,e){throw t=Object.prototype.toString.call(e),Error(le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sA(t){var e=t._init;return e(t._payload)}function pM(t){function e(_,w){if(t){var E=_.deletions;E===null?(_.deletions=[w],_.flags|=16):E.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(_,w){return _=Go(_,w),_.index=0,_.sibling=null,_}function o(_,w,E){return _.index=E,t?(E=_.alternate,E!==null?(E=E.index,E<w?(_.flags|=2,w):E):(_.flags|=2,w)):(_.flags|=1048576,w)}function s(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,w,E,N){return w===null||w.tag!==6?(w=Zy(E,_.mode,N),w.return=_,w):(w=i(w,E),w.return=_,w)}function l(_,w,E,N){var T=E.type;return T===za?c(_,w,E.props.children,N,E.key):w!==null&&(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===bo&&sA(T)===w.type)?(N=i(w,E.props),N.ref=ac(_,w,E),N.return=_,N):(N=yp(E.type,E.key,E.props,null,_.mode,N),N.ref=ac(_,w,E),N.return=_,N)}function u(_,w,E,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=ev(E,_.mode,N),w.return=_,w):(w=i(w,E.children||[]),w.return=_,w)}function c(_,w,E,N,T){return w===null||w.tag!==7?(w=Hs(E,_.mode,N,T),w.return=_,w):(w=i(w,E),w.return=_,w)}function f(_,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Zy(""+w,_.mode,E),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case vh:return E=yp(w.type,w.key,w.props,null,_.mode,E),E.ref=ac(_,null,w),E.return=_,E;case Ba:return w=ev(w,_.mode,E),w.return=_,w;case bo:var N=w._init;return f(_,N(w._payload),E)}if(Tc(w)||nc(w))return w=Hs(w,_.mode,E,null),w.return=_,w;Ch(_,w)}return null}function h(_,w,E,N){var T=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return T!==null?null:a(_,w,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case vh:return E.key===T?l(_,w,E,N):null;case Ba:return E.key===T?u(_,w,E,N):null;case bo:return T=E._init,h(_,w,T(E._payload),N)}if(Tc(E)||nc(E))return T!==null?null:c(_,w,E,N,null);Ch(_,E)}return null}function y(_,w,E,N,T){if(typeof N=="string"&&N!==""||typeof N=="number")return _=_.get(E)||null,a(w,_,""+N,T);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case vh:return _=_.get(N.key===null?E:N.key)||null,l(w,_,N,T);case Ba:return _=_.get(N.key===null?E:N.key)||null,u(w,_,N,T);case bo:var C=N._init;return y(_,w,E,C(N._payload),T)}if(Tc(N)||nc(N))return _=_.get(E)||null,c(w,_,N,T,null);Ch(w,N)}return null}function v(_,w,E,N){for(var T=null,C=null,A=w,I=w=0,k=null;A!==null&&I<E.length;I++){A.index>I?(k=A,A=null):k=A.sibling;var P=h(_,A,E[I],N);if(P===null){A===null&&(A=k);break}t&&A&&P.alternate===null&&e(_,A),w=o(P,w,I),C===null?T=P:C.sibling=P,C=P,A=k}if(I===E.length)return n(_,A),yt&&As(_,I),T;if(A===null){for(;I<E.length;I++)A=f(_,E[I],N),A!==null&&(w=o(A,w,I),C===null?T=A:C.sibling=A,C=A);return yt&&As(_,I),T}for(A=r(_,A);I<E.length;I++)k=y(A,_,I,E[I],N),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?I:k.key),w=o(k,w,I),C===null?T=k:C.sibling=k,C=k);return t&&A.forEach(function(R){return e(_,R)}),yt&&As(_,I),T}function b(_,w,E,N){var T=nc(E);if(typeof T!="function")throw Error(le(150));if(E=T.call(E),E==null)throw Error(le(151));for(var C=T=null,A=w,I=w=0,k=null,P=E.next();A!==null&&!P.done;I++,P=E.next()){A.index>I?(k=A,A=null):k=A.sibling;var R=h(_,A,P.value,N);if(R===null){A===null&&(A=k);break}t&&A&&R.alternate===null&&e(_,A),w=o(R,w,I),C===null?T=R:C.sibling=R,C=R,A=k}if(P.done)return n(_,A),yt&&As(_,I),T;if(A===null){for(;!P.done;I++,P=E.next())P=f(_,P.value,N),P!==null&&(w=o(P,w,I),C===null?T=P:C.sibling=P,C=P);return yt&&As(_,I),T}for(A=r(_,A);!P.done;I++,P=E.next())P=y(A,_,I,P.value,N),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?I:P.key),w=o(P,w,I),C===null?T=P:C.sibling=P,C=P);return t&&A.forEach(function(O){return e(_,O)}),yt&&As(_,I),T}function x(_,w,E,N){if(typeof E=="object"&&E!==null&&E.type===za&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case vh:e:{for(var T=E.key,C=w;C!==null;){if(C.key===T){if(T=E.type,T===za){if(C.tag===7){n(_,C.sibling),w=i(C,E.props.children),w.return=_,_=w;break e}}else if(C.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===bo&&sA(T)===C.type){n(_,C.sibling),w=i(C,E.props),w.ref=ac(_,C,E),w.return=_,_=w;break e}n(_,C);break}else e(_,C);C=C.sibling}E.type===za?(w=Hs(E.props.children,_.mode,N,E.key),w.return=_,_=w):(N=yp(E.type,E.key,E.props,null,_.mode,N),N.ref=ac(_,w,E),N.return=_,_=N)}return s(_);case Ba:e:{for(C=E.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(_,w.sibling),w=i(w,E.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=ev(E,_.mode,N),w.return=_,_=w}return s(_);case bo:return C=E._init,x(_,w,C(E._payload),N)}if(Tc(E))return v(_,w,E,N);if(nc(E))return b(_,w,E,N);Ch(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(_,w.sibling),w=i(w,E),w.return=_,_=w):(n(_,w),w=Zy(E,_.mode,N),w.return=_,_=w),s(_)):n(_,w)}return x}var Il=pM(!0),mM=pM(!1),qp=os(null),Hp=null,Xa=null,R_=null;function O_(){R_=Xa=Hp=null}function M_(t){var e=qp.current;gt(qp),t._currentValue=e}function Ex(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function hl(t,e){Hp=t,R_=Xa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Fn=!0),t.firstContext=null)}function br(t){var e=t._currentValue;if(R_!==t)if(t={context:t,memoizedValue:e,next:null},Xa===null){if(Hp===null)throw Error(le(308));Xa=t,Hp.dependencies={lanes:0,firstContext:t}}else Xa=Xa.next=t;return e}var Ds=null;function D_(t){Ds===null?Ds=[t]:Ds.push(t)}function gM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,D_(e)):(n.next=i.next,i.next=n),e.interleaved=n,Gi(t,r)}function Gi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wo=!1;function j_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Li(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Uo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Gi(t,n)}return i=r.interleaved,i===null?(e.next=e,D_(r)):(e.next=i.next,i.next=e),r.interleaved=e,Gi(t,n)}function dp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,w_(t,n)}}function aA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wp(t,e,n,r){var i=t.updateQueue;wo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,y=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,b=a;switch(h=e,y=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){f=v.call(y,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,h=typeof v=="function"?v.call(y,f,h):v,h==null)break e;f=Et({},f,h);break e;case 2:wo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=y,l=f):c=c.next=y,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ta|=s,t.lanes=s,t.memoizedState=f}}function lA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(le(191,i));i.call(r)}}}var Tf={},oi=os(Tf),hd=os(Tf),pd=os(Tf);function js(t){if(t===Tf)throw Error(le(174));return t}function L_(t,e){switch(dt(pd,e),dt(hd,t),dt(oi,Tf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rx(e,t)}gt(oi),dt(oi,e)}function kl(){gt(oi),gt(hd),gt(pd)}function vM(t){js(pd.current);var e=js(oi.current),n=rx(e,t.type);e!==n&&(dt(hd,t),dt(oi,n))}function $_(t){hd.current===t&&(gt(oi),gt(hd))}var xt=os(0);function Kp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wy=[];function V_(){for(var t=0;t<Wy.length;t++)Wy[t]._workInProgressVersionPrimary=null;Wy.length=0}var fp=ro.ReactCurrentDispatcher,Ky=ro.ReactCurrentBatchConfig,ea=0,_t=null,$t=null,Ht=null,Yp=!1,Vc=!1,md=0,WU=0;function fn(){throw Error(le(321))}function F_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wr(t[n],e[n]))return!1;return!0}function U_(t,e,n,r,i,o){if(ea=o,_t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fp.current=t===null||t.memoizedState===null?XU:QU,t=n(r,i),Vc){o=0;do{if(Vc=!1,md=0,25<=o)throw Error(le(301));o+=1,Ht=$t=null,e.updateQueue=null,fp.current=ZU,t=n(r,i)}while(Vc)}if(fp.current=Jp,e=$t!==null&&$t.next!==null,ea=0,Ht=$t=_t=null,Yp=!1,e)throw Error(le(300));return t}function B_(){var t=md!==0;return md=0,t}function ei(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?_t.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function wr(){if($t===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var e=Ht===null?_t.memoizedState:Ht.next;if(e!==null)Ht=e,$t=t;else{if(t===null)throw Error(le(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Ht===null?_t.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function gd(t,e){return typeof e=="function"?e(t):e}function Yy(t){var e=wr(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=$t,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((ea&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,_t.lanes|=c,ta|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Wr(r,e.memoizedState)||(Fn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,_t.lanes|=o,ta|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jy(t){var e=wr(),n=e.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Wr(o,e.memoizedState)||(Fn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function xM(){}function bM(t,e){var n=_t,r=wr(),i=e(),o=!Wr(r.memoizedState,i);if(o&&(r.memoizedState=i,Fn=!0),r=r.queue,z_(EM.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ht!==null&&Ht.memoizedState.tag&1){if(n.flags|=2048,yd(9,_M.bind(null,n,r,i,e),void 0,null),Yt===null)throw Error(le(349));ea&30||wM(n,e,i)}return i}function wM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _M(t,e,n,r){e.value=n,e.getSnapshot=r,TM(e)&&SM(t)}function EM(t,e,n){return n(function(){TM(e)&&SM(t)})}function TM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wr(t,n)}catch{return!0}}function SM(t){var e=Gi(t,1);e!==null&&Ur(e,t,1,-1)}function uA(t){var e=ei();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gd,lastRenderedState:t},e.queue=t,t=t.dispatch=JU.bind(null,_t,t),[e.memoizedState,t]}function yd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function AM(){return wr().memoizedState}function hp(t,e,n,r){var i=ei();_t.flags|=t,i.memoizedState=yd(1|e,n,void 0,r===void 0?null:r)}function qg(t,e,n,r){var i=wr();r=r===void 0?null:r;var o=void 0;if($t!==null){var s=$t.memoizedState;if(o=s.destroy,r!==null&&F_(r,s.deps)){i.memoizedState=yd(e,n,o,r);return}}_t.flags|=t,i.memoizedState=yd(1|e,n,o,r)}function cA(t,e){return hp(8390656,8,t,e)}function z_(t,e){return qg(2048,8,t,e)}function IM(t,e){return qg(4,2,t,e)}function kM(t,e){return qg(4,4,t,e)}function CM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function PM(t,e,n){return n=n!=null?n.concat([t]):null,qg(4,4,CM.bind(null,e,t),n)}function G_(){}function NM(t,e){var n=wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&F_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function RM(t,e){var n=wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&F_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function OM(t,e,n){return ea&21?(Wr(n,e)||(n=$O(),_t.lanes|=n,ta|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Fn=!0),t.memoizedState=n)}function KU(t,e){var n=et;et=n!==0&&4>n?n:4,t(!0);var r=Ky.transition;Ky.transition={};try{t(!1),e()}finally{et=n,Ky.transition=r}}function MM(){return wr().memoizedState}function YU(t,e,n){var r=zo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},DM(t))jM(e,n);else if(n=gM(t,e,n,r),n!==null){var i=Mn();Ur(n,t,r,i),LM(n,e,r)}}function JU(t,e,n){var r=zo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(DM(t))jM(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Wr(a,s)){var l=e.interleaved;l===null?(i.next=i,D_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=gM(t,e,i,r),n!==null&&(i=Mn(),Ur(n,t,r,i),LM(n,e,r))}}function DM(t){var e=t.alternate;return t===_t||e!==null&&e===_t}function jM(t,e){Vc=Yp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function LM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,w_(t,n)}}var Jp={readContext:br,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},XU={readContext:br,useCallback:function(t,e){return ei().memoizedState=[t,e===void 0?null:e],t},useContext:br,useEffect:cA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hp(4194308,4,CM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hp(4194308,4,t,e)},useInsertionEffect:function(t,e){return hp(4,2,t,e)},useMemo:function(t,e){var n=ei();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ei();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=YU.bind(null,_t,t),[r.memoizedState,t]},useRef:function(t){var e=ei();return t={current:t},e.memoizedState=t},useState:uA,useDebugValue:G_,useDeferredValue:function(t){return ei().memoizedState=t},useTransition:function(){var t=uA(!1),e=t[0];return t=KU.bind(null,t[1]),ei().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_t,i=ei();if(yt){if(n===void 0)throw Error(le(407));n=n()}else{if(n=e(),Yt===null)throw Error(le(349));ea&30||wM(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,cA(EM.bind(null,r,o,t),[t]),r.flags|=2048,yd(9,_M.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ei(),e=Yt.identifierPrefix;if(yt){var n=Pi,r=Ci;n=(r&~(1<<32-Fr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=md++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=WU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},QU={readContext:br,useCallback:NM,useContext:br,useEffect:z_,useImperativeHandle:PM,useInsertionEffect:IM,useLayoutEffect:kM,useMemo:RM,useReducer:Yy,useRef:AM,useState:function(){return Yy(gd)},useDebugValue:G_,useDeferredValue:function(t){var e=wr();return OM(e,$t.memoizedState,t)},useTransition:function(){var t=Yy(gd)[0],e=wr().memoizedState;return[t,e]},useMutableSource:xM,useSyncExternalStore:bM,useId:MM,unstable_isNewReconciler:!1},ZU={readContext:br,useCallback:NM,useContext:br,useEffect:z_,useImperativeHandle:PM,useInsertionEffect:IM,useLayoutEffect:kM,useMemo:RM,useReducer:Jy,useRef:AM,useState:function(){return Jy(gd)},useDebugValue:G_,useDeferredValue:function(t){var e=wr();return $t===null?e.memoizedState=t:OM(e,$t.memoizedState,t)},useTransition:function(){var t=Jy(gd)[0],e=wr().memoizedState;return[t,e]},useMutableSource:xM,useSyncExternalStore:bM,useId:MM,unstable_isNewReconciler:!1};function Or(t,e){if(t&&t.defaultProps){e=Et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Tx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hg={isMounted:function(t){return(t=t._reactInternals)?xa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mn(),i=zo(t),o=Li(r,i);o.payload=e,n!=null&&(o.callback=n),e=Uo(t,o,i),e!==null&&(Ur(e,t,i,r),dp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mn(),i=zo(t),o=Li(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Uo(t,o,i),e!==null&&(Ur(e,t,i,r),dp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mn(),r=zo(t),i=Li(n,r);i.tag=2,e!=null&&(i.callback=e),e=Uo(t,i,r),e!==null&&(Ur(e,t,r,n),dp(e,t,r))}};function dA(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!ud(n,r)||!ud(i,o):!0}function $M(t,e,n){var r=!1,i=Qo,o=e.contextType;return typeof o=="object"&&o!==null?o=br(o):(i=zn(e)?Qs:bn.current,r=e.contextTypes,o=(r=r!=null)?Sl(t,i):Qo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function fA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hg.enqueueReplaceState(e,e.state,null)}function Sx(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},j_(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=br(o):(o=zn(e)?Qs:bn.current,i.context=Sl(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Tx(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hg.enqueueReplaceState(i,i.state,null),Wp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Cl(t,e){try{var n="",r=e;do n+=IF(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Xy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ax(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var eB=typeof WeakMap=="function"?WeakMap:Map;function VM(t,e,n){n=Li(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qp||(Qp=!0,jx=r),Ax(t,e)},n}function FM(t,e,n){n=Li(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ax(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ax(t,e),typeof r!="function"&&(Bo===null?Bo=new Set([this]):Bo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function hA(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new eB;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=pB.bind(null,t,e,n),e.then(t,t))}function pA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mA(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Li(-1,1),e.tag=2,Uo(n,e,1))),n.lanes|=1),t)}var tB=ro.ReactCurrentOwner,Fn=!1;function Cn(t,e,n,r){e.child=t===null?mM(e,null,n,r):Il(e,t.child,n,r)}function gA(t,e,n,r,i){n=n.render;var o=e.ref;return hl(e,i),r=U_(t,e,n,r,o,i),n=B_(),t!==null&&!Fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qi(t,e,i)):(yt&&n&&C_(e),e.flags|=1,Cn(t,e,r,i),e.child)}function yA(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Q_(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,UM(t,e,o,r,i)):(t=yp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ud,n(s,r)&&t.ref===e.ref)return qi(t,e,i)}return e.flags|=1,t=Go(o,r),t.ref=e.ref,t.return=e,e.child=t}function UM(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(ud(o,r)&&t.ref===e.ref)if(Fn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Fn=!0);else return e.lanes=t.lanes,qi(t,e,i)}return Ix(t,e,n,r,i)}function BM(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(Za,Yn),Yn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,dt(Za,Yn),Yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,dt(Za,Yn),Yn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,dt(Za,Yn),Yn|=r;return Cn(t,e,i,n),e.child}function zM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ix(t,e,n,r,i){var o=zn(n)?Qs:bn.current;return o=Sl(e,o),hl(e,i),n=U_(t,e,n,r,o,i),r=B_(),t!==null&&!Fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,qi(t,e,i)):(yt&&r&&C_(e),e.flags|=1,Cn(t,e,n,i),e.child)}function vA(t,e,n,r,i){if(zn(n)){var o=!0;Bp(e)}else o=!1;if(hl(e,i),e.stateNode===null)pp(t,e),$M(e,n,r),Sx(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=br(u):(u=zn(n)?Qs:bn.current,u=Sl(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&fA(e,s,r,u),wo=!1;var h=e.memoizedState;s.state=h,Wp(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Bn.current||wo?(typeof c=="function"&&(Tx(e,n,c,r),l=e.memoizedState),(a=wo||dA(e,n,a,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,yM(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Or(e.type,a),s.props=u,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=br(l):(l=zn(n)?Qs:bn.current,l=Sl(e,l));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&fA(e,s,r,l),wo=!1,h=e.memoizedState,s.state=h,Wp(e,r,s,i);var v=e.memoizedState;a!==f||h!==v||Bn.current||wo?(typeof y=="function"&&(Tx(e,n,y,r),v=e.memoizedState),(u=wo||dA(e,n,u,r,h,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return kx(t,e,n,r,o,i)}function kx(t,e,n,r,i,o){zM(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&rA(e,n,!1),qi(t,e,o);r=e.stateNode,tB.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Il(e,t.child,null,o),e.child=Il(e,null,a,o)):Cn(t,e,a,o),e.memoizedState=r.state,i&&rA(e,n,!0),e.child}function GM(t){var e=t.stateNode;e.pendingContext?nA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nA(t,e.context,!1),L_(t,e.containerInfo)}function xA(t,e,n,r,i){return Al(),N_(i),e.flags|=256,Cn(t,e,n,r),e.child}var Cx={dehydrated:null,treeContext:null,retryLane:0};function Px(t){return{baseLanes:t,cachePool:null,transitions:null}}function qM(t,e,n){var r=e.pendingProps,i=xt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),dt(xt,i&1),t===null)return _x(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Yg(s,r,0,null),t=Hs(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Px(n),e.memoizedState=Cx,t):q_(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return nB(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Go(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Go(a,o):(o=Hs(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Px(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Cx,r}return o=t.child,t=o.sibling,r=Go(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function q_(t,e){return e=Yg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ph(t,e,n,r){return r!==null&&N_(r),Il(e,t.child,null,n),t=q_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nB(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Xy(Error(le(422))),Ph(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Yg({mode:"visible",children:r.children},i,0,null),o=Hs(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Il(e,t.child,null,s),e.child.memoizedState=Px(s),e.memoizedState=Cx,o);if(!(e.mode&1))return Ph(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(le(419)),r=Xy(o,r,void 0),Ph(t,e,s,r)}if(a=(s&t.childLanes)!==0,Fn||a){if(r=Yt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Gi(t,i),Ur(r,t,i,-1))}return X_(),r=Xy(Error(le(421))),Ph(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=mB.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Qn=Fo(i.nextSibling),er=e,yt=!0,Lr=null,t!==null&&(fr[hr++]=Ci,fr[hr++]=Pi,fr[hr++]=Zs,Ci=t.id,Pi=t.overflow,Zs=e),e=q_(e,r.children),e.flags|=4096,e)}function bA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ex(t.return,e,n)}function Qy(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function HM(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Cn(t,e,r.children,n),r=xt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bA(t,n,e);else if(t.tag===19)bA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(dt(xt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Kp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qy(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Kp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qy(e,!0,n,null,o);break;case"together":Qy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function qi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ta|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(le(153));if(e.child!==null){for(t=e.child,n=Go(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Go(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rB(t,e,n){switch(e.tag){case 3:GM(e),Al();break;case 5:vM(e);break;case 1:zn(e.type)&&Bp(e);break;case 4:L_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;dt(qp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(dt(xt,xt.current&1),e.flags|=128,null):n&e.child.childLanes?qM(t,e,n):(dt(xt,xt.current&1),t=qi(t,e,n),t!==null?t.sibling:null);dt(xt,xt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return HM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dt(xt,xt.current),r)break;return null;case 22:case 23:return e.lanes=0,BM(t,e,n)}return qi(t,e,n)}var WM,Nx,KM,YM;WM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nx=function(){};KM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,js(oi.current);var o=null;switch(n){case"input":i=Zv(t,i),r=Zv(t,r),o=[];break;case"select":i=Et({},i,{value:void 0}),r=Et({},r,{value:void 0}),o=[];break;case"textarea":i=nx(t,i),r=nx(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fp)}ix(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(nd.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(nd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ht("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};YM=function(t,e,n,r){n!==r&&(e.flags|=4)};function lc(t,e){if(!yt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function hn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function iB(t,e,n){var r=e.pendingProps;switch(P_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(e),null;case 1:return zn(e.type)&&Up(),hn(e),null;case 3:return r=e.stateNode,kl(),gt(Bn),gt(bn),V_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(kh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Lr!==null&&(Vx(Lr),Lr=null))),Nx(t,e),hn(e),null;case 5:$_(e);var i=js(pd.current);if(n=e.type,t!==null&&e.stateNode!=null)KM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(le(166));return hn(e),null}if(t=js(oi.current),kh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ti]=e,r[fd]=o,t=(e.mode&1)!==0,n){case"dialog":ht("cancel",r),ht("close",r);break;case"iframe":case"object":case"embed":ht("load",r);break;case"video":case"audio":for(i=0;i<Ac.length;i++)ht(Ac[i],r);break;case"source":ht("error",r);break;case"img":case"image":case"link":ht("error",r),ht("load",r);break;case"details":ht("toggle",r);break;case"input":CS(r,o),ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ht("invalid",r);break;case"textarea":NS(r,o),ht("invalid",r)}ix(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ih(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ih(r.textContent,a,t),i=["children",""+a]):nd.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ht("scroll",r)}switch(n){case"input":xh(r),PS(r,o,!0);break;case"textarea":xh(r),RS(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Fp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=EO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ti]=e,t[fd]=r,WM(t,e,!1,!1),e.stateNode=t;e:{switch(s=ox(n,r),n){case"dialog":ht("cancel",t),ht("close",t),i=r;break;case"iframe":case"object":case"embed":ht("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ac.length;i++)ht(Ac[i],t);i=r;break;case"source":ht("error",t),i=r;break;case"img":case"image":case"link":ht("error",t),ht("load",t),i=r;break;case"details":ht("toggle",t),i=r;break;case"input":CS(t,r),i=Zv(t,r),ht("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Et({},r,{value:void 0}),ht("invalid",t);break;case"textarea":NS(t,r),i=nx(t,r),ht("invalid",t);break;default:i=r}ix(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?AO(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&TO(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&rd(t,l):typeof l=="number"&&rd(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(nd.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ht("scroll",t):l!=null&&m_(t,o,l,s))}switch(n){case"input":xh(t),PS(t,r,!1);break;case"textarea":xh(t),RS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ul(t,!!r.multiple,o,!1):r.defaultValue!=null&&ul(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Fp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return hn(e),null;case 6:if(t&&e.stateNode!=null)YM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(le(166));if(n=js(pd.current),js(oi.current),kh(e)){if(r=e.stateNode,n=e.memoizedProps,r[ti]=e,(o=r.nodeValue!==n)&&(t=er,t!==null))switch(t.tag){case 3:Ih(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ih(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ti]=e,e.stateNode=r}return hn(e),null;case 13:if(gt(xt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(yt&&Qn!==null&&e.mode&1&&!(e.flags&128))hM(),Al(),e.flags|=98560,o=!1;else if(o=kh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(le(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(le(317));o[ti]=e}else Al(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;hn(e),o=!1}else Lr!==null&&(Vx(Lr),Lr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xt.current&1?Ft===0&&(Ft=3):X_())),e.updateQueue!==null&&(e.flags|=4),hn(e),null);case 4:return kl(),Nx(t,e),t===null&&cd(e.stateNode.containerInfo),hn(e),null;case 10:return M_(e.type._context),hn(e),null;case 17:return zn(e.type)&&Up(),hn(e),null;case 19:if(gt(xt),o=e.memoizedState,o===null)return hn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)lc(o,!1);else{if(Ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Kp(t),s!==null){for(e.flags|=128,lc(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return dt(xt,xt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Pt()>Pl&&(e.flags|=128,r=!0,lc(o,!1),e.lanes=4194304)}else{if(!r)if(t=Kp(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),lc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!yt)return hn(e),null}else 2*Pt()-o.renderingStartTime>Pl&&n!==1073741824&&(e.flags|=128,r=!0,lc(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Pt(),e.sibling=null,n=xt.current,dt(xt,r?n&1|2:n&1),e):(hn(e),null);case 22:case 23:return J_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yn&1073741824&&(hn(e),e.subtreeFlags&6&&(e.flags|=8192)):hn(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function oB(t,e){switch(P_(e),e.tag){case 1:return zn(e.type)&&Up(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return kl(),gt(Bn),gt(bn),V_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $_(e),null;case 13:if(gt(xt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(le(340));Al()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return gt(xt),null;case 4:return kl(),null;case 10:return M_(e.type._context),null;case 22:case 23:return J_(),null;case 24:return null;default:return null}}var Nh=!1,gn=!1,sB=typeof WeakSet=="function"?WeakSet:Set,me=null;function Qa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){At(t,e,r)}else n.current=null}function Rx(t,e,n){try{n()}catch(r){At(t,e,r)}}var wA=!1;function aB(t,e){if(mx=Lp,t=eM(),k_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gx={focusedElem:t,selectionRange:n},Lp=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,x=v.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?b:Or(e.type,b),x);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(N){At(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return v=wA,wA=!1,v}function Fc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Rx(e,n,o)}i=i.next}while(i!==r)}}function Wg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ox(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function JM(t){var e=t.alternate;e!==null&&(t.alternate=null,JM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ti],delete e[fd],delete e[xx],delete e[zU],delete e[GU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function XM(t){return t.tag===5||t.tag===3||t.tag===4}function _A(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||XM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fp));else if(r!==4&&(t=t.child,t!==null))for(Mx(t,e,n),t=t.sibling;t!==null;)Mx(t,e,n),t=t.sibling}function Dx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Dx(t,e,n),t=t.sibling;t!==null;)Dx(t,e,n),t=t.sibling}var tn=null,Mr=!1;function yo(t,e,n){for(n=n.child;n!==null;)QM(t,e,n),n=n.sibling}function QM(t,e,n){if(ii&&typeof ii.onCommitFiberUnmount=="function")try{ii.onCommitFiberUnmount(Vg,n)}catch{}switch(n.tag){case 5:gn||Qa(n,e);case 6:var r=tn,i=Mr;tn=null,yo(t,e,n),tn=r,Mr=i,tn!==null&&(Mr?(t=tn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tn.removeChild(n.stateNode));break;case 18:tn!==null&&(Mr?(t=tn,n=n.stateNode,t.nodeType===8?qy(t.parentNode,n):t.nodeType===1&&qy(t,n),ad(t)):qy(tn,n.stateNode));break;case 4:r=tn,i=Mr,tn=n.stateNode.containerInfo,Mr=!0,yo(t,e,n),tn=r,Mr=i;break;case 0:case 11:case 14:case 15:if(!gn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Rx(n,e,s),i=i.next}while(i!==r)}yo(t,e,n);break;case 1:if(!gn&&(Qa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){At(n,e,a)}yo(t,e,n);break;case 21:yo(t,e,n);break;case 22:n.mode&1?(gn=(r=gn)||n.memoizedState!==null,yo(t,e,n),gn=r):yo(t,e,n);break;default:yo(t,e,n)}}function EA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sB),e.forEach(function(r){var i=gB.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:tn=a.stateNode,Mr=!1;break e;case 3:tn=a.stateNode.containerInfo,Mr=!0;break e;case 4:tn=a.stateNode.containerInfo,Mr=!0;break e}a=a.return}if(tn===null)throw Error(le(160));QM(o,s,i),tn=null,Mr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){At(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ZM(e,t),e=e.sibling}function ZM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nr(e,t),Zr(t),r&4){try{Fc(3,t,t.return),Wg(3,t)}catch(b){At(t,t.return,b)}try{Fc(5,t,t.return)}catch(b){At(t,t.return,b)}}break;case 1:Nr(e,t),Zr(t),r&512&&n!==null&&Qa(n,n.return);break;case 5:if(Nr(e,t),Zr(t),r&512&&n!==null&&Qa(n,n.return),t.flags&32){var i=t.stateNode;try{rd(i,"")}catch(b){At(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&wO(i,o),ox(a,s);var u=ox(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?AO(i,f):c==="dangerouslySetInnerHTML"?TO(i,f):c==="children"?rd(i,f):m_(i,c,f,u)}switch(a){case"input":ex(i,o);break;case"textarea":_O(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?ul(i,!!o.multiple,y,!1):h!==!!o.multiple&&(o.defaultValue!=null?ul(i,!!o.multiple,o.defaultValue,!0):ul(i,!!o.multiple,o.multiple?[]:"",!1))}i[fd]=o}catch(b){At(t,t.return,b)}}break;case 6:if(Nr(e,t),Zr(t),r&4){if(t.stateNode===null)throw Error(le(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(b){At(t,t.return,b)}}break;case 3:if(Nr(e,t),Zr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ad(e.containerInfo)}catch(b){At(t,t.return,b)}break;case 4:Nr(e,t),Zr(t);break;case 13:Nr(e,t),Zr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(K_=Pt())),r&4&&EA(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(gn=(u=gn)||c,Nr(e,t),gn=u):Nr(e,t),Zr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(me=t,c=t.child;c!==null;){for(f=me=c;me!==null;){switch(h=me,y=h.child,h.tag){case 0:case 11:case 14:case 15:Fc(4,h,h.return);break;case 1:Qa(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){At(r,n,b)}}break;case 5:Qa(h,h.return);break;case 22:if(h.memoizedState!==null){SA(f);continue}}y!==null?(y.return=h,me=y):SA(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=SO("display",s))}catch(b){At(t,t.return,b)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){At(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Nr(e,t),Zr(t),r&4&&EA(t);break;case 21:break;default:Nr(e,t),Zr(t)}}function Zr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(XM(n)){var r=n;break e}n=n.return}throw Error(le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(rd(i,""),r.flags&=-33);var o=_A(t);Dx(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=_A(t);Mx(t,a,s);break;default:throw Error(le(161))}}catch(l){At(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lB(t,e,n){me=t,eD(t)}function eD(t,e,n){for(var r=(t.mode&1)!==0;me!==null;){var i=me,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Nh;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||gn;a=Nh;var u=gn;if(Nh=s,(gn=l)&&!u)for(me=i;me!==null;)s=me,l=s.child,s.tag===22&&s.memoizedState!==null?AA(i):l!==null?(l.return=s,me=l):AA(i);for(;o!==null;)me=o,eD(o),o=o.sibling;me=i,Nh=a,gn=u}TA(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,me=o):TA(t)}}function TA(t){for(;me!==null;){var e=me;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gn||Wg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Or(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&lA(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lA(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ad(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}gn||e.flags&512&&Ox(e)}catch(h){At(e,e.return,h)}}if(e===t){me=null;break}if(n=e.sibling,n!==null){n.return=e.return,me=n;break}me=e.return}}function SA(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,me=n;break}me=e.return}}function AA(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wg(4,e)}catch(l){At(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){At(e,i,l)}}var o=e.return;try{Ox(e)}catch(l){At(e,o,l)}break;case 5:var s=e.return;try{Ox(e)}catch(l){At(e,s,l)}}}catch(l){At(e,e.return,l)}if(e===t){me=null;break}var a=e.sibling;if(a!==null){a.return=e.return,me=a;break}me=e.return}}var uB=Math.ceil,Xp=ro.ReactCurrentDispatcher,H_=ro.ReactCurrentOwner,yr=ro.ReactCurrentBatchConfig,ze=0,Yt=null,Ot=null,sn=0,Yn=0,Za=os(0),Ft=0,vd=null,ta=0,Kg=0,W_=0,Uc=null,Vn=null,K_=0,Pl=1/0,Ti=null,Qp=!1,jx=null,Bo=null,Rh=!1,Ro=null,Zp=0,Bc=0,Lx=null,mp=-1,gp=0;function Mn(){return ze&6?Pt():mp!==-1?mp:mp=Pt()}function zo(t){return t.mode&1?ze&2&&sn!==0?sn&-sn:HU.transition!==null?(gp===0&&(gp=$O()),gp):(t=et,t!==0||(t=window.event,t=t===void 0?16:qO(t.type)),t):1}function Ur(t,e,n,r){if(50<Bc)throw Bc=0,Lx=null,Error(le(185));wf(t,n,r),(!(ze&2)||t!==Yt)&&(t===Yt&&(!(ze&2)&&(Kg|=n),Ft===4&&So(t,sn)),Gn(t,r),n===1&&ze===0&&!(e.mode&1)&&(Pl=Pt()+500,Gg&&ss()))}function Gn(t,e){var n=t.callbackNode;HF(t,e);var r=jp(t,t===Yt?sn:0);if(r===0)n!==null&&DS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&DS(n),e===1)t.tag===0?qU(IA.bind(null,t)):cM(IA.bind(null,t)),UU(function(){!(ze&6)&&ss()}),n=null;else{switch(VO(r)){case 1:n=b_;break;case 4:n=jO;break;case 16:n=Dp;break;case 536870912:n=LO;break;default:n=Dp}n=lD(n,tD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function tD(t,e){if(mp=-1,gp=0,ze&6)throw Error(le(327));var n=t.callbackNode;if(pl()&&t.callbackNode!==n)return null;var r=jp(t,t===Yt?sn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=em(t,r);else{e=r;var i=ze;ze|=2;var o=rD();(Yt!==t||sn!==e)&&(Ti=null,Pl=Pt()+500,qs(t,e));do try{fB();break}catch(a){nD(t,a)}while(!0);O_(),Xp.current=o,ze=i,Ot!==null?e=0:(Yt=null,sn=0,e=Ft)}if(e!==0){if(e===2&&(i=cx(t),i!==0&&(r=i,e=$x(t,i))),e===1)throw n=vd,qs(t,0),So(t,r),Gn(t,Pt()),n;if(e===6)So(t,r);else{if(i=t.current.alternate,!(r&30)&&!cB(i)&&(e=em(t,r),e===2&&(o=cx(t),o!==0&&(r=o,e=$x(t,o))),e===1))throw n=vd,qs(t,0),So(t,r),Gn(t,Pt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(le(345));case 2:Is(t,Vn,Ti);break;case 3:if(So(t,r),(r&130023424)===r&&(e=K_+500-Pt(),10<e)){if(jp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vx(Is.bind(null,t,Vn,Ti),e);break}Is(t,Vn,Ti);break;case 4:if(So(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Fr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uB(r/1960))-r,10<r){t.timeoutHandle=vx(Is.bind(null,t,Vn,Ti),r);break}Is(t,Vn,Ti);break;case 5:Is(t,Vn,Ti);break;default:throw Error(le(329))}}}return Gn(t,Pt()),t.callbackNode===n?tD.bind(null,t):null}function $x(t,e){var n=Uc;return t.current.memoizedState.isDehydrated&&(qs(t,e).flags|=256),t=em(t,e),t!==2&&(e=Vn,Vn=n,e!==null&&Vx(e)),t}function Vx(t){Vn===null?Vn=t:Vn.push.apply(Vn,t)}function cB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Wr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function So(t,e){for(e&=~W_,e&=~Kg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fr(e),r=1<<n;t[n]=-1,e&=~r}}function IA(t){if(ze&6)throw Error(le(327));pl();var e=jp(t,0);if(!(e&1))return Gn(t,Pt()),null;var n=em(t,e);if(t.tag!==0&&n===2){var r=cx(t);r!==0&&(e=r,n=$x(t,r))}if(n===1)throw n=vd,qs(t,0),So(t,e),Gn(t,Pt()),n;if(n===6)throw Error(le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Is(t,Vn,Ti),Gn(t,Pt()),null}function Y_(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&(Pl=Pt()+500,Gg&&ss())}}function na(t){Ro!==null&&Ro.tag===0&&!(ze&6)&&pl();var e=ze;ze|=1;var n=yr.transition,r=et;try{if(yr.transition=null,et=1,t)return t()}finally{et=r,yr.transition=n,ze=e,!(ze&6)&&ss()}}function J_(){Yn=Za.current,gt(Za)}function qs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,FU(n)),Ot!==null)for(n=Ot.return;n!==null;){var r=n;switch(P_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Up();break;case 3:kl(),gt(Bn),gt(bn),V_();break;case 5:$_(r);break;case 4:kl();break;case 13:gt(xt);break;case 19:gt(xt);break;case 10:M_(r.type._context);break;case 22:case 23:J_()}n=n.return}if(Yt=t,Ot=t=Go(t.current,null),sn=Yn=e,Ft=0,vd=null,W_=Kg=ta=0,Vn=Uc=null,Ds!==null){for(e=0;e<Ds.length;e++)if(n=Ds[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ds=null}return t}function nD(t,e){do{var n=Ot;try{if(O_(),fp.current=Jp,Yp){for(var r=_t.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Yp=!1}if(ea=0,Ht=$t=_t=null,Vc=!1,md=0,H_.current=null,n===null||n.return===null){Ft=1,vd=e,Ot=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=sn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=pA(s);if(y!==null){y.flags&=-257,mA(y,s,a,o,e),y.mode&1&&hA(o,u,e),e=y,l=u;var v=e.updateQueue;if(v===null){var b=new Set;b.add(l),e.updateQueue=b}else v.add(l);break e}else{if(!(e&1)){hA(o,u,e),X_();break e}l=Error(le(426))}}else if(yt&&a.mode&1){var x=pA(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),mA(x,s,a,o,e),N_(Cl(l,a));break e}}o=l=Cl(l,a),Ft!==4&&(Ft=2),Uc===null?Uc=[o]:Uc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=VM(o,l,e);aA(o,_);break e;case 1:a=l;var w=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Bo===null||!Bo.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var N=FM(o,a,e);aA(o,N);break e}}o=o.return}while(o!==null)}oD(n)}catch(T){e=T,Ot===n&&n!==null&&(Ot=n=n.return);continue}break}while(!0)}function rD(){var t=Xp.current;return Xp.current=Jp,t===null?Jp:t}function X_(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Yt===null||!(ta&268435455)&&!(Kg&268435455)||So(Yt,sn)}function em(t,e){var n=ze;ze|=2;var r=rD();(Yt!==t||sn!==e)&&(Ti=null,qs(t,e));do try{dB();break}catch(i){nD(t,i)}while(!0);if(O_(),ze=n,Xp.current=r,Ot!==null)throw Error(le(261));return Yt=null,sn=0,Ft}function dB(){for(;Ot!==null;)iD(Ot)}function fB(){for(;Ot!==null&&!LF();)iD(Ot)}function iD(t){var e=aD(t.alternate,t,Yn);t.memoizedProps=t.pendingProps,e===null?oD(t):Ot=e,H_.current=null}function oD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=oB(n,e),n!==null){n.flags&=32767,Ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ft=6,Ot=null;return}}else if(n=iB(n,e,Yn),n!==null){Ot=n;return}if(e=e.sibling,e!==null){Ot=e;return}Ot=e=t}while(e!==null);Ft===0&&(Ft=5)}function Is(t,e,n){var r=et,i=yr.transition;try{yr.transition=null,et=1,hB(t,e,n,r)}finally{yr.transition=i,et=r}return null}function hB(t,e,n,r){do pl();while(Ro!==null);if(ze&6)throw Error(le(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(le(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(WF(t,o),t===Yt&&(Ot=Yt=null,sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rh||(Rh=!0,lD(Dp,function(){return pl(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=yr.transition,yr.transition=null;var s=et;et=1;var a=ze;ze|=4,H_.current=null,aB(t,n),ZM(n,t),OU(gx),Lp=!!mx,gx=mx=null,t.current=n,lB(n),$F(),ze=a,et=s,yr.transition=o}else t.current=n;if(Rh&&(Rh=!1,Ro=t,Zp=i),o=t.pendingLanes,o===0&&(Bo=null),UF(n.stateNode),Gn(t,Pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Qp)throw Qp=!1,t=jx,jx=null,t;return Zp&1&&t.tag!==0&&pl(),o=t.pendingLanes,o&1?t===Lx?Bc++:(Bc=0,Lx=t):Bc=0,ss(),null}function pl(){if(Ro!==null){var t=VO(Zp),e=yr.transition,n=et;try{if(yr.transition=null,et=16>t?16:t,Ro===null)var r=!1;else{if(t=Ro,Ro=null,Zp=0,ze&6)throw Error(le(331));var i=ze;for(ze|=4,me=t.current;me!==null;){var o=me,s=o.child;if(me.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(me=u;me!==null;){var c=me;switch(c.tag){case 0:case 11:case 15:Fc(8,c,o)}var f=c.child;if(f!==null)f.return=c,me=f;else for(;me!==null;){c=me;var h=c.sibling,y=c.return;if(JM(c),c===u){me=null;break}if(h!==null){h.return=y,me=h;break}me=y}}}var v=o.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}me=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,me=s;else e:for(;me!==null;){if(o=me,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Fc(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,me=_;break e}me=o.return}}var w=t.current;for(me=w;me!==null;){s=me;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,me=E;else e:for(s=w;me!==null;){if(a=me,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wg(9,a)}}catch(T){At(a,a.return,T)}if(a===s){me=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,me=N;break e}me=a.return}}if(ze=i,ss(),ii&&typeof ii.onPostCommitFiberRoot=="function")try{ii.onPostCommitFiberRoot(Vg,t)}catch{}r=!0}return r}finally{et=n,yr.transition=e}}return!1}function kA(t,e,n){e=Cl(n,e),e=VM(t,e,1),t=Uo(t,e,1),e=Mn(),t!==null&&(wf(t,1,e),Gn(t,e))}function At(t,e,n){if(t.tag===3)kA(t,t,n);else for(;e!==null;){if(e.tag===3){kA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bo===null||!Bo.has(r))){t=Cl(n,t),t=FM(e,t,1),e=Uo(e,t,1),t=Mn(),e!==null&&(wf(e,1,t),Gn(e,t));break}}e=e.return}}function pB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mn(),t.pingedLanes|=t.suspendedLanes&n,Yt===t&&(sn&n)===n&&(Ft===4||Ft===3&&(sn&130023424)===sn&&500>Pt()-K_?qs(t,0):W_|=n),Gn(t,e)}function sD(t,e){e===0&&(t.mode&1?(e=_h,_h<<=1,!(_h&130023424)&&(_h=4194304)):e=1);var n=Mn();t=Gi(t,e),t!==null&&(wf(t,e,n),Gn(t,n))}function mB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sD(t,n)}function gB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(e),sD(t,n)}var aD;aD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bn.current)Fn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Fn=!1,rB(t,e,n);Fn=!!(t.flags&131072)}else Fn=!1,yt&&e.flags&1048576&&dM(e,Gp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pp(t,e),t=e.pendingProps;var i=Sl(e,bn.current);hl(e,n),i=U_(null,e,r,t,i,n);var o=B_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zn(r)?(o=!0,Bp(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,j_(e),i.updater=Hg,e.stateNode=i,i._reactInternals=e,Sx(e,r,t,n),e=kx(null,e,r,!0,o,n)):(e.tag=0,yt&&o&&C_(e),Cn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=vB(r),t=Or(r,t),i){case 0:e=Ix(null,e,r,t,n);break e;case 1:e=vA(null,e,r,t,n);break e;case 11:e=gA(null,e,r,t,n);break e;case 14:e=yA(null,e,r,Or(r.type,t),n);break e}throw Error(le(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Or(r,i),Ix(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Or(r,i),vA(t,e,r,i,n);case 3:e:{if(GM(e),t===null)throw Error(le(387));r=e.pendingProps,o=e.memoizedState,i=o.element,yM(t,e),Wp(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Cl(Error(le(423)),e),e=xA(t,e,r,n,i);break e}else if(r!==i){i=Cl(Error(le(424)),e),e=xA(t,e,r,n,i);break e}else for(Qn=Fo(e.stateNode.containerInfo.firstChild),er=e,yt=!0,Lr=null,n=mM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Al(),r===i){e=qi(t,e,n);break e}Cn(t,e,r,n)}e=e.child}return e;case 5:return vM(e),t===null&&_x(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,yx(r,i)?s=null:o!==null&&yx(r,o)&&(e.flags|=32),zM(t,e),Cn(t,e,s,n),e.child;case 6:return t===null&&_x(e),null;case 13:return qM(t,e,n);case 4:return L_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Il(e,null,r,n):Cn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Or(r,i),gA(t,e,r,i,n);case 7:return Cn(t,e,e.pendingProps,n),e.child;case 8:return Cn(t,e,e.pendingProps.children,n),e.child;case 12:return Cn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,dt(qp,r._currentValue),r._currentValue=s,o!==null)if(Wr(o.value,s)){if(o.children===i.children&&!Bn.current){e=qi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Li(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ex(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(le(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ex(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Cn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,hl(e,n),i=br(i),r=r(i),e.flags|=1,Cn(t,e,r,n),e.child;case 14:return r=e.type,i=Or(r,e.pendingProps),i=Or(r.type,i),yA(t,e,r,i,n);case 15:return UM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Or(r,i),pp(t,e),e.tag=1,zn(r)?(t=!0,Bp(e)):t=!1,hl(e,n),$M(e,r,i),Sx(e,r,i,n),kx(null,e,r,!0,t,n);case 19:return HM(t,e,n);case 22:return BM(t,e,n)}throw Error(le(156,e.tag))};function lD(t,e){return DO(t,e)}function yB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(t,e,n,r){return new yB(t,e,n,r)}function Q_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vB(t){if(typeof t=="function")return Q_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===y_)return 11;if(t===v_)return 14}return 2}function Go(t,e){var n=t.alternate;return n===null?(n=mr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yp(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Q_(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case za:return Hs(n.children,i,o,e);case g_:s=8,i|=8;break;case Yv:return t=mr(12,n,e,i|2),t.elementType=Yv,t.lanes=o,t;case Jv:return t=mr(13,n,e,i),t.elementType=Jv,t.lanes=o,t;case Xv:return t=mr(19,n,e,i),t.elementType=Xv,t.lanes=o,t;case vO:return Yg(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gO:s=10;break e;case yO:s=9;break e;case y_:s=11;break e;case v_:s=14;break e;case bo:s=16,r=null;break e}throw Error(le(130,t==null?t:typeof t,""))}return e=mr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Hs(t,e,n,r){return t=mr(7,t,r,e),t.lanes=n,t}function Yg(t,e,n,r){return t=mr(22,t,r,e),t.elementType=vO,t.lanes=n,t.stateNode={isHidden:!1},t}function Zy(t,e,n){return t=mr(6,t,null,e),t.lanes=n,t}function ev(t,e,n){return e=mr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xB(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=My(0),this.expirationTimes=My(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=My(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Z_(t,e,n,r,i,o,s,a,l){return t=new xB(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=mr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},j_(o),t}function bB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ba,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function uD(t){if(!t)return Qo;t=t._reactInternals;e:{if(xa(t)!==t||t.tag!==1)throw Error(le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(t.tag===1){var n=t.type;if(zn(n))return uM(t,n,e)}return e}function cD(t,e,n,r,i,o,s,a,l){return t=Z_(n,r,!0,t,i,o,s,a,l),t.context=uD(null),n=t.current,r=Mn(),i=zo(n),o=Li(r,i),o.callback=e??null,Uo(n,o,i),t.current.lanes=i,wf(t,i,r),Gn(t,r),t}function Jg(t,e,n,r){var i=e.current,o=Mn(),s=zo(i);return n=uD(n),e.context===null?e.context=n:e.pendingContext=n,e=Li(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Uo(i,e,s),t!==null&&(Ur(t,i,s,o),dp(t,i,s)),s}function tm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function CA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function e1(t,e){CA(t,e),(t=t.alternate)&&CA(t,e)}function wB(){return null}var dD=typeof reportError=="function"?reportError:function(t){console.error(t)};function t1(t){this._internalRoot=t}Xg.prototype.render=t1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(le(409));Jg(t,e,null,null)};Xg.prototype.unmount=t1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;na(function(){Jg(null,t,null,null)}),e[zi]=null}};function Xg(t){this._internalRoot=t}Xg.prototype.unstable_scheduleHydration=function(t){if(t){var e=BO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<To.length&&e!==0&&e<To[n].priority;n++);To.splice(n,0,t),n===0&&GO(t)}};function n1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function PA(){}function _B(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=tm(s);o.call(u)}}var s=cD(e,r,t,0,null,!1,!1,"",PA);return t._reactRootContainer=s,t[zi]=s.current,cd(t.nodeType===8?t.parentNode:t),na(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=tm(l);a.call(u)}}var l=Z_(t,0,!1,null,null,!1,!1,"",PA);return t._reactRootContainer=l,t[zi]=l.current,cd(t.nodeType===8?t.parentNode:t),na(function(){Jg(e,l,n,r)}),l}function Zg(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=tm(s);a.call(l)}}Jg(e,s,t,i)}else s=_B(n,e,t,i,r);return tm(s)}FO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Sc(e.pendingLanes);n!==0&&(w_(e,n|1),Gn(e,Pt()),!(ze&6)&&(Pl=Pt()+500,ss()))}break;case 13:na(function(){var r=Gi(t,1);if(r!==null){var i=Mn();Ur(r,t,1,i)}}),e1(t,1)}};__=function(t){if(t.tag===13){var e=Gi(t,134217728);if(e!==null){var n=Mn();Ur(e,t,134217728,n)}e1(t,134217728)}};UO=function(t){if(t.tag===13){var e=zo(t),n=Gi(t,e);if(n!==null){var r=Mn();Ur(n,t,e,r)}e1(t,e)}};BO=function(){return et};zO=function(t,e){var n=et;try{return et=t,e()}finally{et=n}};ax=function(t,e,n){switch(e){case"input":if(ex(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=zg(r);if(!i)throw Error(le(90));bO(r),ex(r,i)}}}break;case"textarea":_O(t,n);break;case"select":e=n.value,e!=null&&ul(t,!!n.multiple,e,!1)}};CO=Y_;PO=na;var EB={usingClientEntryPoint:!1,Events:[Ef,Wa,zg,IO,kO,Y_]},uc={findFiberByHostInstance:Ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TB={bundleType:uc.bundleType,version:uc.version,rendererPackageName:uc.rendererPackageName,rendererConfig:uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ro.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=OO(t),t===null?null:t.stateNode},findFiberByHostInstance:uc.findFiberByHostInstance||wB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{Vg=Oh.inject(TB),ii=Oh}catch{}}or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EB;or.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!n1(e))throw Error(le(200));return bB(t,e,null,n)};or.createRoot=function(t,e){if(!n1(t))throw Error(le(299));var n=!1,r="",i=dD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Z_(t,1,!1,null,null,n,!1,r,i),t[zi]=e.current,cd(t.nodeType===8?t.parentNode:t),new t1(e)};or.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(le(188)):(t=Object.keys(t).join(","),Error(le(268,t)));return t=OO(e),t=t===null?null:t.stateNode,t};or.flushSync=function(t){return na(t)};or.hydrate=function(t,e,n){if(!Qg(e))throw Error(le(200));return Zg(null,t,e,!0,n)};or.hydrateRoot=function(t,e,n){if(!n1(t))throw Error(le(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=dD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=cD(e,null,t,1,n??null,i,!1,o,s),t[zi]=e.current,cd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Xg(e)};or.render=function(t,e,n){if(!Qg(e))throw Error(le(200));return Zg(null,t,e,!1,n)};or.unmountComponentAtNode=function(t){if(!Qg(t))throw Error(le(40));return t._reactRootContainer?(na(function(){Zg(null,null,t,!1,function(){t._reactRootContainer=null,t[zi]=null})}),!0):!1};or.unstable_batchedUpdates=Y_;or.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qg(n))throw Error(le(200));if(t==null||t._reactInternals===void 0)throw Error(le(38));return Zg(t,e,n,!1,r)};or.version="18.3.1-next-f1338f8080-20240426";function fD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fD)}catch(t){console.error(t)}}fD(),fO.exports=or;var SB=fO.exports,NA=SB;Wv.createRoot=NA.createRoot,Wv.hydrateRoot=NA.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),re=(t,e)=>{const n=B.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>B.createElement("svg",{ref:c,...AB,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${IB(t)}`,a].join(" "),...u},[...e.map(([f,h])=>B.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=re("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=re("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=re("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=re("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=re("AppWindow",[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=re("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=re("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=re("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=re("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=re("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=re("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=re("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=re("BadgeAlert",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=re("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=re("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=re("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=re("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=re("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=re("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=re("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=re("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=re("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=re("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=re("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=re("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=re("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=re("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=re("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=re("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=re("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=re("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=re("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=re("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=re("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=re("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=re("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=re("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=re("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=re("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=re("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=re("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=re("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=re("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=re("Ghost",[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=re("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=re("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=re("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=re("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=re("HardDriveDownload",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=re("HardDriveUpload",[["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M12 2v8",key:"1q4o3n"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=re("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=re("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=re("Hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=re("Infinity",[["path",{d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4Zm0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4Z",key:"1z0uae"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=re("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wd=re("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=re("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=re("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=re("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=re("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=re("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=re("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=re("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=re("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=re("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=re("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=re("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=re("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=re("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=re("MessageSquareMore",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M16 10h.01",key:"1m94wz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=re("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=re("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=re("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=re("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=re("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=re("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=re("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=re("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=re("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=re("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=re("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=re("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=re("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=re("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=re("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=re("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=re("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=re("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=re("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=re("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=re("Sigma",[["path",{d:"M18 7V4H6l6 8-6 8h12v-3",key:"zis8ev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=re("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=re("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=re("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=re("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=re("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=re("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=re("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=re("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=re("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=re("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=re("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=re("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=re("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=re("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=re("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Le=(t=>(t.DASHBOARD="DASHBOARD",t.TRANSACTIONS="TRANSACTIONS",t.INVESTMENTS="INVESTMENTS",t.BUDGETS="BUDGETS",t.SUBSCRIPTIONS="SUBSCRIPTIONS",t.CALENDAR="CALENDAR",t.AI_ASSISTANT="AI_ASSISTANT",t.DEBTS="DEBTS",t.SHOPPING_LIST="SHOPPING_LIST",t.WEALTH_PLANNER="WEALTH_PLANNER",t.KANBAN="KANBAN",t))(Le||{}),VA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},w6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},kD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,y=u&63;l||(y=64,s||(h=64)),r.push(n[c],n[f],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ID(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):w6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new _6;const h=o<<2|a>>4;if(r.push(h),u!==64){const y=a<<4&240|u>>2;if(r.push(y),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const E6=function(t){const e=ID(t);return kD.encodeByteArray(e,!0)},CD=function(t){return E6(t).replace(/\./g,"")},PD=function(t){try{return kD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=()=>T6().__FIREBASE_DEFAULTS__,A6=()=>{if(typeof process>"u"||typeof VA>"u")return;const t=VA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},I6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&PD(t[1]);return e&&JSON.parse(e)},n0=()=>{try{return S6()||A6()||I6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},k6=t=>{var e,n;return(n=(e=n0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ND=()=>{var t;return(t=n0())===null||t===void 0?void 0:t.config},RD=t=>{var e;return(e=n0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function P6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function N6(){var t;const e=(t=n0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function R6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function O6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function M6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function D6(){const t=wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function j6(){return!N6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L6(){try{return typeof indexedDB=="object"}catch{return!1}}function $6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6="FirebaseError";class io extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=V6,Object.setPrototypeOf(this,io.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sf.prototype.create)}}class Sf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?F6(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new io(i,a,r)}}function F6(t,e){return t.replace(U6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const U6=/\{\$([^}]+)}/g;function B6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ed(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(FA(o)&&FA(s)){if(!Ed(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function FA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Af(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ic(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function kc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function z6(t,e){const n=new G6(t,e);return n.subscribe.bind(n)}class G6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");q6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=nv),i.error===void 0&&(i.error=nv),i.complete===void 0&&(i.complete=nv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){return t&&t._delegate?t._delegate:t}class oa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new C6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(K6(e))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ks){return this.instances.has(e)}getOptions(e=ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:W6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ks){return this.component?this.component.multipleInstances?e:ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function W6(t){return t===ks?void 0:t}function K6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new H6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const J6={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},X6=Ue.INFO,Q6={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},Z6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Q6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class u1{constructor(e){this.name=e,this._logLevel=X6,this._logHandler=Z6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?J6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const e8=(t,e)=>e.some(n=>t instanceof n);let UA,BA;function t8(){return UA||(UA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n8(){return BA||(BA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OD=new WeakMap,Kx=new WeakMap,MD=new WeakMap,rv=new WeakMap,c1=new WeakMap;function r8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(qo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&OD.set(n,t)}).catch(()=>{}),c1.set(e,t),e}function i8(t){if(Kx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Kx.set(t,e)}let Yx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||MD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function o8(t){Yx=t(Yx)}function s8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(iv(this),e,...n);return MD.set(r,e.sort?e.sort():[e]),qo(r)}:n8().includes(t)?function(...e){return t.apply(iv(this),e),qo(OD.get(this))}:function(...e){return qo(t.apply(iv(this),e))}}function a8(t){return typeof t=="function"?s8(t):(t instanceof IDBTransaction&&i8(t),e8(t,t8())?new Proxy(t,Yx):t)}function qo(t){if(t instanceof IDBRequest)return r8(t);if(rv.has(t))return rv.get(t);const e=a8(t);return e!==t&&(rv.set(t,e),c1.set(e,t)),e}const iv=t=>c1.get(t);function l8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=qo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(qo(s.result),l.oldVersion,l.newVersion,qo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const u8=["get","getKey","getAll","getAllKeys","count"],c8=["put","add","delete","clear"],ov=new Map;function zA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ov.get(e))return ov.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=c8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||u8.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return ov.set(e,o),o}o8(t=>({...t,get:(e,n,r)=>zA(e,n)||t.get(e,n,r),has:(e,n)=>!!zA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(f8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function f8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jx="@firebase/app",GA="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new u1("@firebase/app"),h8="@firebase/app-compat",p8="@firebase/analytics-compat",m8="@firebase/analytics",g8="@firebase/app-check-compat",y8="@firebase/app-check",v8="@firebase/auth",x8="@firebase/auth-compat",b8="@firebase/database",w8="@firebase/data-connect",_8="@firebase/database-compat",E8="@firebase/functions",T8="@firebase/functions-compat",S8="@firebase/installations",A8="@firebase/installations-compat",I8="@firebase/messaging",k8="@firebase/messaging-compat",C8="@firebase/performance",P8="@firebase/performance-compat",N8="@firebase/remote-config",R8="@firebase/remote-config-compat",O8="@firebase/storage",M8="@firebase/storage-compat",D8="@firebase/firestore",j8="@firebase/vertexai-preview",L8="@firebase/firestore-compat",$8="firebase",V8="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="[DEFAULT]",F8={[Jx]:"fire-core",[h8]:"fire-core-compat",[m8]:"fire-analytics",[p8]:"fire-analytics-compat",[y8]:"fire-app-check",[g8]:"fire-app-check-compat",[v8]:"fire-auth",[x8]:"fire-auth-compat",[b8]:"fire-rtdb",[w8]:"fire-data-connect",[_8]:"fire-rtdb-compat",[E8]:"fire-fn",[T8]:"fire-fn-compat",[S8]:"fire-iid",[A8]:"fire-iid-compat",[I8]:"fire-fcm",[k8]:"fire-fcm-compat",[C8]:"fire-perf",[P8]:"fire-perf-compat",[N8]:"fire-rc",[R8]:"fire-rc-compat",[O8]:"fire-gcs",[M8]:"fire-gcs-compat",[D8]:"fire-fst",[L8]:"fire-fst-compat",[j8]:"fire-vertex","fire-js":"fire-js",[$8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=new Map,U8=new Map,Qx=new Map;function qA(t,e){try{t.container.addComponent(e)}catch(n){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Nl(t){const e=t.name;if(Qx.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;Qx.set(e,t);for(const n of lm.values())qA(n,t);for(const n of U8.values())qA(n,t);return!0}function d1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ho=new Sf("app","Firebase",B8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ho.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=V8;function DD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Xx,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ho.create("bad-app-name",{appName:String(i)});if(n||(n=ND()),!n)throw Ho.create("no-options");const o=lm.get(i);if(o){if(Ed(n,o.options)&&Ed(r,o.config))return o;throw Ho.create("duplicate-app",{appName:i})}const s=new Y6(i);for(const l of Qx.values())s.addComponent(l);const a=new z8(n,r,s);return lm.set(i,a),a}function G8(t=Xx){const e=lm.get(t);if(!e&&t===Xx&&ND())return DD();if(!e)throw Ho.create("no-app",{appName:t});return e}function Wo(t,e,n){var r;let i=(r=F8[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wi.warn(a.join(" "));return}Nl(new oa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8="firebase-heartbeat-database",H8=1,Td="firebase-heartbeat-store";let sv=null;function jD(){return sv||(sv=l8(q8,H8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Td)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ho.create("idb-open",{originalErrorMessage:t.message})})),sv}async function W8(t){try{const n=(await jD()).transaction(Td),r=await n.objectStore(Td).get(LD(t));return await n.done,r}catch(e){if(e instanceof io)Wi.warn(e.message);else{const n=Ho.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wi.warn(n.message)}}}async function HA(t,e){try{const r=(await jD()).transaction(Td,"readwrite");await r.objectStore(Td).put(e,LD(t)),await r.done}catch(n){if(n instanceof io)Wi.warn(n.message);else{const r=Ho.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wi.warn(r.message)}}}function LD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8=1024,Y8=30*24*60*60*1e3;class J8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Q8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=WA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=Y8}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Wi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=WA(),{heartbeatsToSend:r,unsentEntries:i}=X8(this._heartbeatsCache.heartbeats),o=CD(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Wi.warn(n),""}}}function WA(){return new Date().toISOString().substring(0,10)}function X8(t,e=K8){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),KA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),KA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Q8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return L6()?$6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await W8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return HA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return HA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function KA(t){return CD(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8(t){Nl(new oa("platform-logger",e=>new d8(e),"PRIVATE")),Nl(new oa("heartbeat",e=>new J8(e),"PRIVATE")),Wo(Jx,GA,t),Wo(Jx,GA,"esm2017"),Wo("fire-js","")}Z8("");var e7="firebase",t7="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wo(e7,t7,"app");function f1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function $D(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const n7=$D,VD=new Sf("auth","Firebase",$D());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=new u1("@firebase/auth");function r7(t,...e){um.logLevel<=Ue.WARN&&um.warn(`Auth (${yu}): ${t}`,...e)}function bp(t,...e){um.logLevel<=Ue.ERROR&&um.error(`Auth (${yu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t,...e){throw p1(t,...e)}function Br(t,...e){return p1(t,...e)}function h1(t,e,n){const r=Object.assign(Object.assign({},n7()),{[e]:n});return new Sf("auth","Firebase",r).create(e,{appName:t.name})}function $i(t){return h1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function i7(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Er(t,"argument-error"),h1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function p1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return VD.create(t,...e)}function Ae(t,e,...n){if(!t)throw p1(e,...n)}function Ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bp(e),new Error(e)}function Ki(t,e){t||Ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function o7(){return YA()==="http:"||YA()==="https:"}function YA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(o7()||O6()||"connection"in navigator)?navigator.onLine:!0}function a7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ki(n>e,"Short delay should be less than long delay!"),this.isMobile=P6()||M6()}get(){return s7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(t,e){Ki(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7=new If(3e4,6e4);function as(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ls(t,e,n,r,i={}){return UD(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Af(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return R6()||(u.referrerPolicy="no-referrer"),FD.fetch()(BD(t,t.config.apiHost,n,a),u)})}async function UD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},l7),e);try{const i=new d7(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Dh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dh(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Dh(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Dh(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw h1(t,c,u);Er(t,c)}}catch(i){if(i instanceof io)throw i;Er(t,"network-request-failed",{message:String(i)})}}async function kf(t,e,n,r,i={}){const o=await ls(t,e,n,r,i);return"mfaPendingCredential"in o&&Er(t,"multi-factor-auth-required",{_serverResponse:o}),o}function BD(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?m1(t.config,i):`${t.config.apiScheme}://${i}`}function c7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class d7{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Br(this.auth,"network-request-failed")),u7.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Br(t,e,r);return i.customData._tokenResponse=n,i}function JA(t){return t!==void 0&&t.enterprise!==void 0}class f7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return c7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function h7(t,e){return ls(t,"GET","/v2/recaptchaConfig",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p7(t,e){return ls(t,"POST","/v1/accounts:delete",e)}async function zD(t,e){return ls(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function m7(t,e=!1){const n=kt(t),r=await n.getIdToken(e),i=g1(r);Ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:zc(av(i.auth_time)),issuedAtTime:zc(av(i.iat)),expirationTime:zc(av(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function av(t){return Number(t)*1e3}function g1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bp("JWT malformed, contained fewer than 3 sections"),null;try{const i=PD(n);return i?JSON.parse(i):(bp("Failed to decode base64 JWT payload"),null)}catch(i){return bp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function XA(t){const e=g1(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof io&&g7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function g7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zc(this.lastLoginAt),this.creationTime=zc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Sd(t,zD(n,{idToken:r}));Ae(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?GD(o.providerUserInfo):[],a=x7(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new eb(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function v7(t){const e=kt(t);await cm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function x7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function GD(t){return t.map(e=>{var{providerId:n}=e,r=f1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b7(t,e){const n=await UD(t,{},async()=>{const r=Af({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=BD(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",FD.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function w7(t,e){return ls(t,"POST","/v2/accounts:revokeToken",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=XA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await b7(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new ml;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ae(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ae(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ml,this.toJSON())}_performRefresh(){return Ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ri{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=f1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new y7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new eb(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Sd(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return m7(this,e)}reload(){return v7(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vr(this.auth.app))return Promise.reject($i(this.auth));const e=await this.getIdToken();return await Sd(this,p7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:E,emailVerified:N,isAnonymous:T,providerData:C,stsTokenManager:A}=n;Ae(E&&A,e,"internal-error");const I=ml.fromJSON(this.name,A);Ae(typeof E=="string",e,"internal-error"),vo(f,e.name),vo(h,e.name),Ae(typeof N=="boolean",e,"internal-error"),Ae(typeof T=="boolean",e,"internal-error"),vo(y,e.name),vo(v,e.name),vo(b,e.name),vo(x,e.name),vo(_,e.name),vo(w,e.name);const k=new Ri({uid:E,auth:e,email:h,emailVerified:N,displayName:f,isAnonymous:T,photoURL:v,phoneNumber:y,tenantId:b,stsTokenManager:I,createdAt:_,lastLoginAt:w});return C&&Array.isArray(C)&&(k.providerData=C.map(P=>Object.assign({},P))),x&&(k._redirectEventId=x),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new ml;i.updateFromServerResponse(n);const o=new Ri({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await cm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ae(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?GD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new ml;a.updateFromIdToken(r);const l=new Ri({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new eb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=new Map;function Oi(t){Ki(t instanceof Function,"Expected a class definition");let e=QA.get(t);return e?(Ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,QA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qD.type="NONE";const ZA=qD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t,e,n){return`firebase:${t}:${e}:${n}`}class gl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=wp(this.userKey,i.apiKey,o),this.fullPersistenceKey=wp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ri._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gl(Oi(ZA),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Oi(ZA);const s=wp(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const f=Ri._fromJSON(e,c);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new gl(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new gl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XD(e))return"Blackberry";if(QD(e))return"Webos";if(WD(e))return"Safari";if((e.includes("chrome/")||KD(e))&&!e.includes("edge/"))return"Chrome";if(JD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function HD(t=wn()){return/firefox\//i.test(t)}function WD(t=wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KD(t=wn()){return/crios\//i.test(t)}function YD(t=wn()){return/iemobile/i.test(t)}function JD(t=wn()){return/android/i.test(t)}function XD(t=wn()){return/blackberry/i.test(t)}function QD(t=wn()){return/webos/i.test(t)}function y1(t=wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _7(t=wn()){var e;return y1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function E7(){return D6()&&document.documentMode===10}function ZD(t=wn()){return y1(t)||JD(t)||QD(t)||XD(t)||/windows phone/i.test(t)||YD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(t,e=[]){let n;switch(t){case"Browser":n=eI(wn());break;case"Worker":n=`${eI(wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S7(t,e={}){return ls(t,"GET","/v2/passwordPolicy",as(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A7=6;class I7{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:A7,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tI(this),this.idTokenSubscription=new tI(this),this.beforeStateQueue=new T7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Oi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await gl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zD(this,{idToken:e}),r=await Ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Vr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=a7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vr(this.app))return Promise.reject($i(this));const n=e?kt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vr(this.app)?Promise.reject($i(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vr(this.app)?Promise.reject($i(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await S7(this),n=new I7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await w7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Oi(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await gl.create(this,[Oi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ej(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&r7(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function us(t){return kt(t)}class tI{constructor(e){this.auth=e,this.observer=null,this.addObserver=z6(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let r0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function C7(t){r0=t}function tj(t){return r0.loadJS(t)}function P7(){return r0.recaptchaEnterpriseScript}function N7(){return r0.gapiScript}function R7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const O7="recaptcha-enterprise",M7="NO_RECAPTCHA";class D7{constructor(e){this.type=O7,this.auth=us(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{h7(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new f7(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;JA(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(M7)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&JA(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=P7();l.length!==0&&(l+=a),tj(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function nI(t,e,n,r=!1){const i=new D7(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function tb(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await nI(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await nI(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j7(t,e){const n=d1(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Ed(o,e??{}))return i;Er(i,"already-initialized")}return n.initialize({options:e})}function L7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Oi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function $7(t,e,n){const r=us(t);Ae(r._canInitEmulator,r,"emulator-config-failed"),Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=nj(e),{host:s,port:a}=V7(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),F7()}function nj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function V7(t){const e=nj(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:rI(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:rI(s)}}}function rI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function F7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ni("not implemented")}_getIdTokenResponse(e){return Ni("not implemented")}_linkToIdToken(e,n){return Ni("not implemented")}_getReauthenticationResolver(e){return Ni("not implemented")}}async function U7(t,e){return ls(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B7(t,e){return kf(t,"POST","/v1/accounts:signInWithPassword",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z7(t,e){return kf(t,"POST","/v1/accounts:signInWithEmailLink",as(t,e))}async function G7(t,e){return kf(t,"POST","/v1/accounts:signInWithEmailLink",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends v1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ad(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ad(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tb(e,n,"signInWithPassword",B7);case"emailLink":return z7(e,{email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tb(e,r,"signUpPassword",U7);case"emailLink":return G7(e,{idToken:n,email:this._email,oobCode:this._password});default:Er(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(t,e){return kf(t,"POST","/v1/accounts:signInWithIdp",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7="http://localhost";class sa extends v1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=f1(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new sa(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return yl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,yl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yl(e,n)}buildRequest(){const e={requestUri:q7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Af(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function W7(t){const e=Ic(kc(t)).link,n=e?Ic(kc(e)).deep_link_id:null,r=Ic(kc(t)).deep_link_id;return(r?Ic(kc(r)).link:null)||r||n||e||t}class x1{constructor(e){var n,r,i,o,s,a;const l=Ic(kc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=H7((i=l.mode)!==null&&i!==void 0?i:null);Ae(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=W7(e);try{return new x1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(){this.providerId=vu.PROVIDER_ID}static credential(e,n){return Ad._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=x1.parseLink(n);return Ae(r,"argument-error"),Ad._fromEmailAndCode(e,r.code,r.tenantId)}}vu.PROVIDER_ID="password";vu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf extends b1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends Cf{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ao.credential(e.oauthAccessToken)}catch{return null}}}Ao.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ao.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends Cf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sa._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ii.credential(n,r)}catch{return null}}}Ii.GOOGLE_SIGN_IN_METHOD="google.com";Ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends Cf{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:Io.PROVIDER_ID,signInMethod:Io.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Io.credentialFromTaggedObject(e)}static credentialFromError(e){return Io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Io.credential(e.oauthAccessToken)}catch{return null}}}Io.GITHUB_SIGN_IN_METHOD="github.com";Io.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends Cf{constructor(){super("twitter.com")}static credential(e,n){return sa._fromParams({providerId:ko.PROVIDER_ID,signInMethod:ko.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ko.credentialFromTaggedObject(e)}static credentialFromError(e){return ko.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ko.credential(n,r)}catch{return null}}}ko.TWITTER_SIGN_IN_METHOD="twitter.com";ko.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K7(t,e){return kf(t,"POST","/v1/accounts:signUp",as(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Ri._fromIdTokenResponse(e,r,i),s=iI(r);return new aa({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=iI(r);return new aa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function iI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm extends io{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new dm(e,n,r,i)}}function rj(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?dm._fromErrorAndOperation(t,o,e,r):o})}async function Y7(t,e,n=!1){const r=await Sd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return aa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J7(t,e,n=!1){const{auth:r}=t;if(Vr(r.app))return Promise.reject($i(r));const i="reauthenticate";try{const o=await Sd(t,rj(r,i,e,t),n);Ae(o.idToken,r,"internal-error");const s=g1(o.idToken);Ae(s,r,"internal-error");const{sub:a}=s;return Ae(t.uid===a,r,"user-mismatch"),aa._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Er(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ij(t,e,n=!1){if(Vr(t.app))return Promise.reject($i(t));const r="signIn",i=await rj(t,r,e),o=await aa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function X7(t,e){return ij(us(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oj(t){const e=us(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Q7(t,e,n){if(Vr(t.app))return Promise.reject($i(t));const r=us(t),s=await tb(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",K7).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&oj(t),l}),a=await aa._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function Z7(t,e,n){return Vr(t.app)?Promise.reject($i(t)):X7(kt(t),vu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&oj(t),r})}function e9(t,e,n,r){return kt(t).onIdTokenChanged(e,n,r)}function t9(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}function n9(t,e,n,r){return kt(t).onAuthStateChanged(e,n,r)}function r9(t){return kt(t).signOut()}const fm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fm,"1"),this.storage.removeItem(fm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=1e3,o9=10;class aj extends sj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);E7()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,o9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},i9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}aj.type="LOCAL";const s9=aj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj extends sj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}lj.type="SESSION";const uj=lj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new i0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await a9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}i0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=w1("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function u9(t){si().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function c9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function d9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function f9(){return cj()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj="firebaseLocalStorageDb",h9=1,hm="firebaseLocalStorage",fj="fbase_key";class Pf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function o0(t,e){return t.transaction([hm],e?"readwrite":"readonly").objectStore(hm)}function p9(){const t=indexedDB.deleteDatabase(dj);return new Pf(t).toPromise()}function nb(){const t=indexedDB.open(dj,h9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hm,{keyPath:fj})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hm)?e(r):(r.close(),await p9(),e(await nb()))})})}async function oI(t,e,n){const r=o0(t,!0).put({[fj]:e,value:n});return new Pf(r).toPromise()}async function m9(t,e){const n=o0(t,!1).get(e),r=await new Pf(n).toPromise();return r===void 0?null:r.value}function sI(t,e){const n=o0(t,!0).delete(e);return new Pf(n).toPromise()}const g9=800,y9=3;class hj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>y9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=i0._getInstance(f9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await c9(),!this.activeServiceWorker)return;this.sender=new l9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||d9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nb();return await oI(e,fm,"1"),await sI(e,fm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>oI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>m9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=o0(i,!1).getAll();return new Pf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),g9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hj.type="LOCAL";const v9=hj;new If(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(t,e){return e?Oi(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1 extends v1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function x9(t){return ij(t.auth,new _1(t),t.bypassAuthState)}function b9(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),J7(n,new _1(t),t.bypassAuthState)}async function w9(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),Y7(n,new _1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return x9;case"linkViaPopup":case"linkViaRedirect":return w9;case"reauthViaPopup":case"reauthViaRedirect":return b9;default:Er(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9=new If(2e3,1e4);async function E9(t,e,n){if(Vr(t.app))return Promise.reject(Br(t,"operation-not-supported-in-this-environment"));const r=us(t);i7(t,e,b1);const i=pj(r,n);return new $s(r,"signInViaPopup",e,i).executeNotNull()}class $s extends mj{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,$s.currentPopupAction&&$s.currentPopupAction.cancel(),$s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const e=w1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_9.get())};e()}}$s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9="pendingRedirect",_p=new Map;class S9 extends mj{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_p.get(this.auth._key());if(!e){try{const r=await A9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_p.set(this.auth._key(),e)}return this.bypassAuthState||_p.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function A9(t,e){const n=C9(e),r=k9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function I9(t,e){_p.set(t._key(),e)}function k9(t){return Oi(t._redirectPersistence)}function C9(t){return wp(T9,t.config.apiKey,t.name)}async function P9(t,e,n=!1){if(Vr(t.app))return Promise.reject($i(t));const r=us(t),i=pj(r,e),s=await new S9(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9=10*60*1e3;class R9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!O9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!gj(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Br(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=N9&&this.cachedEventUids.clear(),this.cachedEventUids.has(aI(e))}saveEventToCache(e){this.cachedEventUids.add(aI(e)),this.lastProcessedEventTime=Date.now()}}function aI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gj({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function O9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gj(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M9(t,e={}){return ls(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,j9=/^https?/;async function L9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await M9(t);for(const n of e)try{if($9(n))return}catch{}Er(t,"unauthorized-domain")}function $9(t){const e=Zx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!j9.test(n))return!1;if(D9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=new If(3e4,6e4);function lI(){const t=si().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function F9(t){return new Promise((e,n)=>{var r,i,o;function s(){lI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lI(),n(Br(t,"network-request-failed"))},timeout:V9.get()})}if(!((i=(r=si().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=si().gapi)===null||o===void 0)&&o.load)s();else{const a=R7("iframefcb");return si()[a]=()=>{gapi.load?s():n(Br(t,"network-request-failed"))},tj(`${N7()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ep=null,e})}let Ep=null;function U9(t){return Ep=Ep||F9(t),Ep}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=new If(5e3,15e3),z9="__/auth/iframe",G9="emulator/auth/iframe",q9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function W9(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?m1(e,G9):`https://${t.config.authDomain}/${z9}`,r={apiKey:e.apiKey,appName:t.name,v:yu},i=H9.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Af(r).slice(1)}`}async function K9(t){const e=await U9(t),n=si().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:W9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q9,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Br(t,"network-request-failed"),a=si().setTimeout(()=>{o(s)},B9.get());function l(){si().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},J9=500,X9=600,Q9="_blank",Z9="http://localhost";class uI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ez(t,e,n,r=J9,i=X9){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Y9),{width:r.toString(),height:i.toString(),top:o,left:s}),u=wn().toLowerCase();n&&(a=KD(u)?Q9:n),HD(u)&&(e=e||Z9,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[y,v])=>`${h}${y}=${v},`,"");if(_7(u)&&a!=="_self")return tz(e||"",a),new uI(null);const f=window.open(e||"",a,c);Ae(f,t,"popup-blocked");try{f.focus()}catch{}return new uI(f)}function tz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz="__/auth/handler",rz="emulator/auth/handler",iz=encodeURIComponent("fac");async function cI(t,e,n,r,i,o){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yu,eventId:i};if(e instanceof b1){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",B6(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(e instanceof Cf){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${iz}=${encodeURIComponent(l)}`:"";return`${oz(t)}?${Af(a).slice(1)}${u}`}function oz({config:t}){return t.emulator?m1(t,rz):`https://${t.authDomain}/${nz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="webStorageSupport";class sz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uj,this._completeRedirectFn=P9,this._overrideRedirectResult=I9}async _openPopup(e,n,r,i){var o;Ki((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await cI(e,n,r,Zx(),i);return ez(e,s,w1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await cI(e,n,r,Zx(),i);return u9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ki(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await K9(e),r=new R9(e);return n.register("authEvent",i=>(Ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lv,{type:lv},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[lv];s!==void 0&&n(!!s),Er(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=L9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZD()||WD()||y1()}}const az=sz;var dI="@firebase/auth",fI="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cz(t){Nl(new oa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ae(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ej(t)},u=new k7(r,i,o,l);return L7(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Nl(new oa("auth-internal",e=>{const n=us(e.getProvider("auth").getImmediate());return(r=>new lz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wo(dI,fI,uz(t)),Wo(dI,fI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz=5*60,fz=RD("authIdTokenMaxAge")||dz;let hI=null;const hz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>fz)return;const i=n==null?void 0:n.token;hI!==i&&(hI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pz(t=G8()){const e=d1(t,"auth");if(e.isInitialized())return e.getImmediate();const n=j7(t,{popupRedirectResolver:az,persistence:[v9,s9,uj]}),r=RD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=hz(o.toString());t9(n,s,()=>s(n.currentUser)),e9(n,a=>s(a))}}const i=k6("auth");return i&&$7(n,`http://${i}`),n}function mz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}C7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Br("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",mz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cz("Browser");var pI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ks,yj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,I){function k(){}k.prototype=I.prototype,A.D=I.prototype,A.prototype=new k,A.prototype.constructor=A,A.C=function(P,R,O){for(var D=Array(arguments.length-2),q=2;q<arguments.length;q++)D[q-2]=arguments[q];return I.prototype[R].apply(P,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,I,k){k||(k=0);var P=Array(16);if(typeof I=="string")for(var R=0;16>R;++R)P[R]=I.charCodeAt(k++)|I.charCodeAt(k++)<<8|I.charCodeAt(k++)<<16|I.charCodeAt(k++)<<24;else for(R=0;16>R;++R)P[R]=I[k++]|I[k++]<<8|I[k++]<<16|I[k++]<<24;I=A.g[0],k=A.g[1],R=A.g[2];var O=A.g[3],D=I+(O^k&(R^O))+P[0]+3614090360&4294967295;I=k+(D<<7&4294967295|D>>>25),D=O+(R^I&(k^R))+P[1]+3905402710&4294967295,O=I+(D<<12&4294967295|D>>>20),D=R+(k^O&(I^k))+P[2]+606105819&4294967295,R=O+(D<<17&4294967295|D>>>15),D=k+(I^R&(O^I))+P[3]+3250441966&4294967295,k=R+(D<<22&4294967295|D>>>10),D=I+(O^k&(R^O))+P[4]+4118548399&4294967295,I=k+(D<<7&4294967295|D>>>25),D=O+(R^I&(k^R))+P[5]+1200080426&4294967295,O=I+(D<<12&4294967295|D>>>20),D=R+(k^O&(I^k))+P[6]+2821735955&4294967295,R=O+(D<<17&4294967295|D>>>15),D=k+(I^R&(O^I))+P[7]+4249261313&4294967295,k=R+(D<<22&4294967295|D>>>10),D=I+(O^k&(R^O))+P[8]+1770035416&4294967295,I=k+(D<<7&4294967295|D>>>25),D=O+(R^I&(k^R))+P[9]+2336552879&4294967295,O=I+(D<<12&4294967295|D>>>20),D=R+(k^O&(I^k))+P[10]+4294925233&4294967295,R=O+(D<<17&4294967295|D>>>15),D=k+(I^R&(O^I))+P[11]+2304563134&4294967295,k=R+(D<<22&4294967295|D>>>10),D=I+(O^k&(R^O))+P[12]+1804603682&4294967295,I=k+(D<<7&4294967295|D>>>25),D=O+(R^I&(k^R))+P[13]+4254626195&4294967295,O=I+(D<<12&4294967295|D>>>20),D=R+(k^O&(I^k))+P[14]+2792965006&4294967295,R=O+(D<<17&4294967295|D>>>15),D=k+(I^R&(O^I))+P[15]+1236535329&4294967295,k=R+(D<<22&4294967295|D>>>10),D=I+(R^O&(k^R))+P[1]+4129170786&4294967295,I=k+(D<<5&4294967295|D>>>27),D=O+(k^R&(I^k))+P[6]+3225465664&4294967295,O=I+(D<<9&4294967295|D>>>23),D=R+(I^k&(O^I))+P[11]+643717713&4294967295,R=O+(D<<14&4294967295|D>>>18),D=k+(O^I&(R^O))+P[0]+3921069994&4294967295,k=R+(D<<20&4294967295|D>>>12),D=I+(R^O&(k^R))+P[5]+3593408605&4294967295,I=k+(D<<5&4294967295|D>>>27),D=O+(k^R&(I^k))+P[10]+38016083&4294967295,O=I+(D<<9&4294967295|D>>>23),D=R+(I^k&(O^I))+P[15]+3634488961&4294967295,R=O+(D<<14&4294967295|D>>>18),D=k+(O^I&(R^O))+P[4]+3889429448&4294967295,k=R+(D<<20&4294967295|D>>>12),D=I+(R^O&(k^R))+P[9]+568446438&4294967295,I=k+(D<<5&4294967295|D>>>27),D=O+(k^R&(I^k))+P[14]+3275163606&4294967295,O=I+(D<<9&4294967295|D>>>23),D=R+(I^k&(O^I))+P[3]+4107603335&4294967295,R=O+(D<<14&4294967295|D>>>18),D=k+(O^I&(R^O))+P[8]+1163531501&4294967295,k=R+(D<<20&4294967295|D>>>12),D=I+(R^O&(k^R))+P[13]+2850285829&4294967295,I=k+(D<<5&4294967295|D>>>27),D=O+(k^R&(I^k))+P[2]+4243563512&4294967295,O=I+(D<<9&4294967295|D>>>23),D=R+(I^k&(O^I))+P[7]+1735328473&4294967295,R=O+(D<<14&4294967295|D>>>18),D=k+(O^I&(R^O))+P[12]+2368359562&4294967295,k=R+(D<<20&4294967295|D>>>12),D=I+(k^R^O)+P[5]+4294588738&4294967295,I=k+(D<<4&4294967295|D>>>28),D=O+(I^k^R)+P[8]+2272392833&4294967295,O=I+(D<<11&4294967295|D>>>21),D=R+(O^I^k)+P[11]+1839030562&4294967295,R=O+(D<<16&4294967295|D>>>16),D=k+(R^O^I)+P[14]+4259657740&4294967295,k=R+(D<<23&4294967295|D>>>9),D=I+(k^R^O)+P[1]+2763975236&4294967295,I=k+(D<<4&4294967295|D>>>28),D=O+(I^k^R)+P[4]+1272893353&4294967295,O=I+(D<<11&4294967295|D>>>21),D=R+(O^I^k)+P[7]+4139469664&4294967295,R=O+(D<<16&4294967295|D>>>16),D=k+(R^O^I)+P[10]+3200236656&4294967295,k=R+(D<<23&4294967295|D>>>9),D=I+(k^R^O)+P[13]+681279174&4294967295,I=k+(D<<4&4294967295|D>>>28),D=O+(I^k^R)+P[0]+3936430074&4294967295,O=I+(D<<11&4294967295|D>>>21),D=R+(O^I^k)+P[3]+3572445317&4294967295,R=O+(D<<16&4294967295|D>>>16),D=k+(R^O^I)+P[6]+76029189&4294967295,k=R+(D<<23&4294967295|D>>>9),D=I+(k^R^O)+P[9]+3654602809&4294967295,I=k+(D<<4&4294967295|D>>>28),D=O+(I^k^R)+P[12]+3873151461&4294967295,O=I+(D<<11&4294967295|D>>>21),D=R+(O^I^k)+P[15]+530742520&4294967295,R=O+(D<<16&4294967295|D>>>16),D=k+(R^O^I)+P[2]+3299628645&4294967295,k=R+(D<<23&4294967295|D>>>9),D=I+(R^(k|~O))+P[0]+4096336452&4294967295,I=k+(D<<6&4294967295|D>>>26),D=O+(k^(I|~R))+P[7]+1126891415&4294967295,O=I+(D<<10&4294967295|D>>>22),D=R+(I^(O|~k))+P[14]+2878612391&4294967295,R=O+(D<<15&4294967295|D>>>17),D=k+(O^(R|~I))+P[5]+4237533241&4294967295,k=R+(D<<21&4294967295|D>>>11),D=I+(R^(k|~O))+P[12]+1700485571&4294967295,I=k+(D<<6&4294967295|D>>>26),D=O+(k^(I|~R))+P[3]+2399980690&4294967295,O=I+(D<<10&4294967295|D>>>22),D=R+(I^(O|~k))+P[10]+4293915773&4294967295,R=O+(D<<15&4294967295|D>>>17),D=k+(O^(R|~I))+P[1]+2240044497&4294967295,k=R+(D<<21&4294967295|D>>>11),D=I+(R^(k|~O))+P[8]+1873313359&4294967295,I=k+(D<<6&4294967295|D>>>26),D=O+(k^(I|~R))+P[15]+4264355552&4294967295,O=I+(D<<10&4294967295|D>>>22),D=R+(I^(O|~k))+P[6]+2734768916&4294967295,R=O+(D<<15&4294967295|D>>>17),D=k+(O^(R|~I))+P[13]+1309151649&4294967295,k=R+(D<<21&4294967295|D>>>11),D=I+(R^(k|~O))+P[4]+4149444226&4294967295,I=k+(D<<6&4294967295|D>>>26),D=O+(k^(I|~R))+P[11]+3174756917&4294967295,O=I+(D<<10&4294967295|D>>>22),D=R+(I^(O|~k))+P[2]+718787259&4294967295,R=O+(D<<15&4294967295|D>>>17),D=k+(O^(R|~I))+P[9]+3951481745&4294967295,A.g[0]=A.g[0]+I&4294967295,A.g[1]=A.g[1]+(R+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+R&4294967295,A.g[3]=A.g[3]+O&4294967295}r.prototype.u=function(A,I){I===void 0&&(I=A.length);for(var k=I-this.blockSize,P=this.B,R=this.h,O=0;O<I;){if(R==0)for(;O<=k;)i(this,A,O),O+=this.blockSize;if(typeof A=="string"){for(;O<I;)if(P[R++]=A.charCodeAt(O++),R==this.blockSize){i(this,P),R=0;break}}else for(;O<I;)if(P[R++]=A[O++],R==this.blockSize){i(this,P),R=0;break}}this.h=R,this.o+=I},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var I=1;I<A.length-8;++I)A[I]=0;var k=8*this.o;for(I=A.length-8;I<A.length;++I)A[I]=k&255,k/=256;for(this.u(A),A=Array(16),I=k=0;4>I;++I)for(var P=0;32>P;P+=8)A[k++]=this.g[I]>>>P&255;return A};function o(A,I){var k=a;return Object.prototype.hasOwnProperty.call(k,A)?k[A]:k[A]=I(A)}function s(A,I){this.h=I;for(var k=[],P=!0,R=A.length-1;0<=R;R--){var O=A[R]|0;P&&O==I||(k[R]=O,P=!1)}this.g=k}var a={};function l(A){return-128<=A&&128>A?o(A,function(I){return new s([I|0],0>I?-1:0)}):new s([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return x(u(-A));for(var I=[],k=1,P=0;A>=k;P++)I[P]=A/k|0,k*=4294967296;return new s(I,0)}function c(A,I){if(A.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(A.charAt(0)=="-")return x(c(A.substring(1),I));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=u(Math.pow(I,8)),P=f,R=0;R<A.length;R+=8){var O=Math.min(8,A.length-R),D=parseInt(A.substring(R,R+O),I);8>O?(O=u(Math.pow(I,O)),P=P.j(O).add(u(D))):(P=P.j(k),P=P.add(u(D)))}return P}var f=l(0),h=l(1),y=l(16777216);t=s.prototype,t.m=function(){if(b(this))return-x(this).m();for(var A=0,I=1,k=0;k<this.g.length;k++){var P=this.i(k);A+=(0<=P?P:4294967296+P)*I,I*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(v(this))return"0";if(b(this))return"-"+x(this).toString(A);for(var I=u(Math.pow(A,6)),k=this,P="";;){var R=N(k,I).g;k=_(k,R.j(I));var O=((0<k.g.length?k.g[0]:k.h)>>>0).toString(A);if(k=R,v(k))return O+P;for(;6>O.length;)O="0"+O;P=O+P}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function v(A){if(A.h!=0)return!1;for(var I=0;I<A.g.length;I++)if(A.g[I]!=0)return!1;return!0}function b(A){return A.h==-1}t.l=function(A){return A=_(this,A),b(A)?-1:v(A)?0:1};function x(A){for(var I=A.g.length,k=[],P=0;P<I;P++)k[P]=~A.g[P];return new s(k,~A.h).add(h)}t.abs=function(){return b(this)?x(this):this},t.add=function(A){for(var I=Math.max(this.g.length,A.g.length),k=[],P=0,R=0;R<=I;R++){var O=P+(this.i(R)&65535)+(A.i(R)&65535),D=(O>>>16)+(this.i(R)>>>16)+(A.i(R)>>>16);P=D>>>16,O&=65535,D&=65535,k[R]=D<<16|O}return new s(k,k[k.length-1]&-2147483648?-1:0)};function _(A,I){return A.add(x(I))}t.j=function(A){if(v(this)||v(A))return f;if(b(this))return b(A)?x(this).j(x(A)):x(x(this).j(A));if(b(A))return x(this.j(x(A)));if(0>this.l(y)&&0>A.l(y))return u(this.m()*A.m());for(var I=this.g.length+A.g.length,k=[],P=0;P<2*I;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(var R=0;R<A.g.length;R++){var O=this.i(P)>>>16,D=this.i(P)&65535,q=A.i(R)>>>16,V=A.i(R)&65535;k[2*P+2*R]+=D*V,w(k,2*P+2*R),k[2*P+2*R+1]+=O*V,w(k,2*P+2*R+1),k[2*P+2*R+1]+=D*q,w(k,2*P+2*R+1),k[2*P+2*R+2]+=O*q,w(k,2*P+2*R+2)}for(P=0;P<I;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=I;P<2*I;P++)k[P]=0;return new s(k,0)};function w(A,I){for(;(A[I]&65535)!=A[I];)A[I+1]+=A[I]>>>16,A[I]&=65535,I++}function E(A,I){this.g=A,this.h=I}function N(A,I){if(v(I))throw Error("division by zero");if(v(A))return new E(f,f);if(b(A))return I=N(x(A),I),new E(x(I.g),x(I.h));if(b(I))return I=N(A,x(I)),new E(x(I.g),I.h);if(30<A.g.length){if(b(A)||b(I))throw Error("slowDivide_ only works with positive integers.");for(var k=h,P=I;0>=P.l(A);)k=T(k),P=T(P);var R=C(k,1),O=C(P,1);for(P=C(P,2),k=C(k,2);!v(P);){var D=O.add(P);0>=D.l(A)&&(R=R.add(k),O=D),P=C(P,1),k=C(k,1)}return I=_(A,R.j(I)),new E(R,I)}for(R=f;0<=A.l(I);){for(k=Math.max(1,Math.floor(A.m()/I.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),O=u(k),D=O.j(I);b(D)||0<D.l(A);)k-=P,O=u(k),D=O.j(I);v(O)&&(O=h),R=R.add(O),A=_(A,D)}return new E(R,A)}t.A=function(A){return N(this,A).h},t.and=function(A){for(var I=Math.max(this.g.length,A.g.length),k=[],P=0;P<I;P++)k[P]=this.i(P)&A.i(P);return new s(k,this.h&A.h)},t.or=function(A){for(var I=Math.max(this.g.length,A.g.length),k=[],P=0;P<I;P++)k[P]=this.i(P)|A.i(P);return new s(k,this.h|A.h)},t.xor=function(A){for(var I=Math.max(this.g.length,A.g.length),k=[],P=0;P<I;P++)k[P]=this.i(P)^A.i(P);return new s(k,this.h^A.h)};function T(A){for(var I=A.g.length+1,k=[],P=0;P<I;P++)k[P]=A.i(P)<<1|A.i(P-1)>>>31;return new s(k,A.h)}function C(A,I){var k=I>>5;I%=32;for(var P=A.g.length-k,R=[],O=0;O<P;O++)R[O]=0<I?A.i(O+k)>>>I|A.i(O+k+1)<<32-I:A.i(O+k);return new s(R,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yj=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,Ks=s}).apply(typeof pI<"u"?pI:typeof self<"u"?self:typeof window<"u"?window:{});var jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vj,Cc,xj,Tp,rb,bj,wj,_j;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,S,M){return m==Array.prototype||m==Object.prototype||(m[S]=M.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof jh=="object"&&jh];for(var S=0;S<m.length;++S){var M=m[S];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=n(this);function i(m,S){if(S)e:{var M=r;m=m.split(".");for(var $=0;$<m.length-1;$++){var K=m[$];if(!(K in M))break e;M=M[K]}m=m[m.length-1],$=M[m],S=S($),S!=$&&S!=null&&e(M,m,{configurable:!0,writable:!0,value:S})}}function o(m,S){m instanceof String&&(m+="");var M=0,$=!1,K={next:function(){if(!$&&M<m.length){var X=M++;return{value:S(X,m[X]),done:!1}}return $=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(m){return m||function(){return o(this,function(S,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(m){var S=typeof m;return S=S!="object"?S:m?Array.isArray(m)?"array":S:"null",S=="array"||S=="object"&&typeof m.length=="number"}function u(m){var S=typeof m;return S=="object"&&m!=null||S=="function"}function c(m,S,M){return m.call.apply(m.bind,arguments)}function f(m,S,M){if(!m)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,$),m.apply(S,K)}}return function(){return m.apply(S,arguments)}}function h(m,S,M){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,h.apply(null,arguments)}function y(m,S){var M=Array.prototype.slice.call(arguments,1);return function(){var $=M.slice();return $.push.apply($,arguments),m.apply(this,$)}}function v(m,S){function M(){}M.prototype=S.prototype,m.aa=S.prototype,m.prototype=new M,m.prototype.constructor=m,m.Qb=function($,K,X){for(var fe=Array(arguments.length-2),st=2;st<arguments.length;st++)fe[st-2]=arguments[st];return S.prototype[K].apply($,fe)}}function b(m){const S=m.length;if(0<S){const M=Array(S);for(let $=0;$<S;$++)M[$]=m[$];return M}return[]}function x(m,S){for(let M=1;M<arguments.length;M++){const $=arguments[M];if(l($)){const K=m.length||0,X=$.length||0;m.length=K+X;for(let fe=0;fe<X;fe++)m[K+fe]=$[fe]}else m.push($)}}class _{constructor(S,M){this.i=S,this.j=M,this.h=0,this.g=null}get(){let S;return 0<this.h?(this.h--,S=this.g,this.g=S.next,S.next=null):S=this.i(),S}}function w(m){return/^[\s\xa0]*$/.test(m)}function E(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function N(m){return N[" "](m),m}N[" "]=function(){};var T=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function C(m,S,M){for(const $ in m)S.call(M,m[$],$,m)}function A(m,S){for(const M in m)S.call(void 0,m[M],M,m)}function I(m){const S={};for(const M in m)S[M]=m[M];return S}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(m,S){let M,$;for(let K=1;K<arguments.length;K++){$=arguments[K];for(M in $)m[M]=$[M];for(let X=0;X<k.length;X++)M=k[X],Object.prototype.hasOwnProperty.call($,M)&&(m[M]=$[M])}}function R(m){var S=1;m=m.split(":");const M=[];for(;0<S&&m.length;)M.push(m.shift()),S--;return m.length&&M.push(m.join(":")),M}function O(m){a.setTimeout(()=>{throw m},0)}function D(){var m=z;let S=null;return m.g&&(S=m.g,m.g=m.g.next,m.g||(m.h=null),S.next=null),S}class q{constructor(){this.h=this.g=null}add(S,M){const $=V.get();$.set(S,M),this.h?this.h.next=$:this.g=$,this.h=$}}var V=new _(()=>new j,m=>m.reset());class j{constructor(){this.next=this.g=this.h=null}set(S,M){this.h=S,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let F,L=!1,z=new q,G=()=>{const m=a.Promise.resolve(void 0);F=()=>{m.then(Y)}};var Y=()=>{for(var m;m=D();){try{m.h.call(m.g)}catch(M){O(M)}var S=V;S.j(m),100>S.h&&(S.h++,m.next=S.g,S.g=m)}L=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(m,S){this.type=m,this.g=this.target=S,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,S=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const M=()=>{};a.addEventListener("test",M,S),a.removeEventListener("test",M,S)}catch{}return m}();function W(m,S){if(J.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var M=this.type=m.type,$=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=S,S=m.relatedTarget){if(T){e:{try{N(S.nodeName);var K=!0;break e}catch{}K=!1}K||(S=null)}}else M=="mouseover"?S=m.fromElement:M=="mouseout"&&(S=m.toElement);this.relatedTarget=S,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:oe[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&W.aa.h.call(this)}}v(W,J);var oe={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),be=0;function se(m,S,M,$,K){this.listener=m,this.proxy=null,this.src=S,this.type=M,this.capture=!!$,this.ha=K,this.key=++be,this.da=this.fa=!1}function xe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function de(m){this.src=m,this.g={},this.h=0}de.prototype.add=function(m,S,M,$,K){var X=m.toString();m=this.g[X],m||(m=this.g[X]=[],this.h++);var fe=Me(m,S,$,K);return-1<fe?(S=m[fe],M||(S.fa=!1)):(S=new se(S,this.src,X,!!$,K),S.fa=M,m.push(S)),S};function te(m,S){var M=S.type;if(M in m.g){var $=m.g[M],K=Array.prototype.indexOf.call($,S,void 0),X;(X=0<=K)&&Array.prototype.splice.call($,K,1),X&&(xe(S),m.g[M].length==0&&(delete m.g[M],m.h--))}}function Me(m,S,M,$){for(var K=0;K<m.length;++K){var X=m[K];if(!X.da&&X.listener==S&&X.capture==!!M&&X.ha==$)return K}return-1}var ke="closure_lm_"+(1e6*Math.random()|0),nt={};function rt(m,S,M,$,K){if(Array.isArray(S)){for(var X=0;X<S.length;X++)rt(m,S[X],M,$,K);return null}return M=ee(M),m&&m[Q]?m.K(S,M,u($)?!!$.capture:!1,K):it(m,S,M,!1,$,K)}function it(m,S,M,$,K,X){if(!S)throw Error("Invalid event type");var fe=u(K)?!!K.capture:!!K,st=xi(m);if(st||(m[ke]=st=new de(m)),M=st.add(S,M,$,fe,X),M.proxy)return M;if($=ar(),M.proxy=$,$.src=m,$.listener=M,m.addEventListener)ce||(K=fe),K===void 0&&(K=!1),m.addEventListener(S.toString(),$,K);else if(m.attachEvent)m.attachEvent(_n(S.toString()),$);else if(m.addListener&&m.removeListener)m.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return M}function ar(){function m(M){return S.call(m.src,m.listener,M)}const S=En;return m}function Cr(m,S,M,$,K){if(Array.isArray(S))for(var X=0;X<S.length;X++)Cr(m,S[X],M,$,K);else $=u($)?!!$.capture:!!$,M=ee(M),m&&m[Q]?(m=m.i,S=String(S).toString(),S in m.g&&(X=m.g[S],M=Me(X,M,$,K),-1<M&&(xe(X[M]),Array.prototype.splice.call(X,M,1),X.length==0&&(delete m.g[S],m.h--)))):m&&(m=xi(m))&&(S=m.g[S.toString()],m=-1,S&&(m=Me(S,M,$,K)),(M=-1<m?S[m]:null)&&Qr(M))}function Qr(m){if(typeof m!="number"&&m&&!m.da){var S=m.src;if(S&&S[Q])te(S.i,m);else{var M=m.type,$=m.proxy;S.removeEventListener?S.removeEventListener(M,$,m.capture):S.detachEvent?S.detachEvent(_n(M),$):S.addListener&&S.removeListener&&S.removeListener($),(M=xi(S))?(te(M,m),M.h==0&&(M.src=null,S[ke]=null)):xe(m)}}}function _n(m){return m in nt?nt[m]:nt[m]="on"+m}function En(m,S){if(m.da)m=!0;else{S=new W(S,this);var M=m.listener,$=m.ha||m.src;m.fa&&Qr(m),m=M.call($,S)}return m}function xi(m){return m=m[ke],m instanceof de?m:null}var ho="__closure_events_fn_"+(1e9*Math.random()>>>0);function ee(m){return typeof m=="function"?m:(m[ho]||(m[ho]=function(S){return m.handleEvent(S)}),m[ho])}function ue(){H.call(this),this.i=new de(this),this.M=this,this.F=null}v(ue,H),ue.prototype[Q]=!0,ue.prototype.removeEventListener=function(m,S,M,$){Cr(this,m,S,M,$)};function Ce(m,S){var M,$=m.F;if($)for(M=[];$;$=$.F)M.push($);if(m=m.M,$=S.type||S,typeof S=="string")S=new J(S,m);else if(S instanceof J)S.target=S.target||m;else{var K=S;S=new J($,m),P(S,K)}if(K=!0,M)for(var X=M.length-1;0<=X;X--){var fe=S.g=M[X];K=De(fe,$,!0,S)&&K}if(fe=S.g=m,K=De(fe,$,!0,S)&&K,K=De(fe,$,!1,S)&&K,M)for(X=0;X<M.length;X++)fe=S.g=M[X],K=De(fe,$,!1,S)&&K}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var m=this.i,S;for(S in m.g){for(var M=m.g[S],$=0;$<M.length;$++)xe(M[$]);delete m.g[S],m.h--}}this.F=null},ue.prototype.K=function(m,S,M,$){return this.i.add(String(m),S,!1,M,$)},ue.prototype.L=function(m,S,M,$){return this.i.add(String(m),S,!0,M,$)};function De(m,S,M,$){if(S=m.i.g[String(S)],!S)return!0;S=S.concat();for(var K=!0,X=0;X<S.length;++X){var fe=S[X];if(fe&&!fe.da&&fe.capture==M){var st=fe.listener,Zt=fe.ha||fe.src;fe.fa&&te(m.i,fe),K=st.call(Zt,$)!==!1&&K}}return K&&!$.defaultPrevented}function qe(m,S,M){if(typeof m=="function")M&&(m=h(m,M));else if(m&&typeof m.handleEvent=="function")m=h(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(S)?-1:a.setTimeout(m,S||0)}function $e(m){m.g=qe(()=>{m.g=null,m.i&&(m.i=!1,$e(m))},m.l);const S=m.h;m.h=null,m.m.apply(null,S)}class Tn extends H{constructor(S,M){super(),this.m=S,this.l=M,this.h=null,this.i=!1,this.g=null}j(S){this.h=arguments,this.g?this.i=!0:$e(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sn(m){H.call(this),this.h=m,this.g={}}v(Sn,H);var Qt=[];function lr(m){C(m.g,function(S,M){this.g.hasOwnProperty(M)&&Qr(S)},m),m.g={}}Sn.prototype.N=function(){Sn.aa.N.call(this),lr(this)},Sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bi=a.JSON.stringify,hy=a.JSON.parse,NT=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function py(){}py.prototype.h=null;function RT(m){return m.h||(m.h=m.i())}function OT(){}var Gu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function my(){J.call(this,"d")}v(my,J);function gy(){J.call(this,"c")}v(gy,J);var vs={},MT=null;function th(){return MT=MT||new ue}vs.La="serverreachability";function DT(m){J.call(this,vs.La,m)}v(DT,J);function qu(m){const S=th();Ce(S,new DT(S))}vs.STAT_EVENT="statevent";function jT(m,S){J.call(this,vs.STAT_EVENT,m),this.stat=S}v(jT,J);function An(m){const S=th();Ce(S,new jT(S,m))}vs.Ma="timingevent";function LT(m,S){J.call(this,vs.Ma,m),this.size=S}v(LT,J);function Hu(m,S){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},S)}function Wu(){this.g=!0}Wu.prototype.xa=function(){this.g=!1};function NV(m,S,M,$,K,X){m.info(function(){if(m.g)if(X)for(var fe="",st=X.split("&"),Zt=0;Zt<st.length;Zt++){var He=st[Zt].split("=");if(1<He.length){var cn=He[0];He=He[1];var dn=cn.split("_");fe=2<=dn.length&&dn[1]=="type"?fe+(cn+"="+He+"&"):fe+(cn+"=redacted&")}}else fe=null;else fe=X;return"XMLHTTP REQ ("+$+") [attempt "+K+"]: "+S+`
`+M+`
`+fe})}function RV(m,S,M,$,K,X,fe){m.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+K+"]: "+S+`
`+M+`
`+X+" "+fe})}function Ca(m,S,M,$){m.info(function(){return"XMLHTTP TEXT ("+S+"): "+MV(m,M)+($?" "+$:"")})}function OV(m,S){m.info(function(){return"TIMEOUT: "+S})}Wu.prototype.info=function(){};function MV(m,S){if(!m.g)return S;if(!S)return null;try{var M=JSON.parse(S);if(M){for(m=0;m<M.length;m++)if(Array.isArray(M[m])){var $=M[m];if(!(2>$.length)){var K=$[1];if(Array.isArray(K)&&!(1>K.length)){var X=K[0];if(X!="noop"&&X!="stop"&&X!="close")for(var fe=1;fe<K.length;fe++)K[fe]=""}}}}return bi(M)}catch{return S}}var nh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$T={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yy;function rh(){}v(rh,py),rh.prototype.g=function(){return new XMLHttpRequest},rh.prototype.i=function(){return{}},yy=new rh;function po(m,S,M,$){this.j=m,this.i=S,this.l=M,this.R=$||1,this.U=new Sn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new VT}function VT(){this.i=null,this.g="",this.h=!1}var FT={},vy={};function xy(m,S,M){m.L=1,m.v=ah(wi(S)),m.m=M,m.P=!0,UT(m,null)}function UT(m,S){m.F=Date.now(),ih(m),m.A=wi(m.v);var M=m.A,$=m.R;Array.isArray($)||($=[String($)]),tS(M.i,"t",$),m.C=0,M=m.j.J,m.h=new VT,m.g=xS(m.j,M?S:null,!m.m),0<m.O&&(m.M=new Tn(h(m.Y,m,m.g),m.O)),S=m.U,M=m.g,$=m.ca;var K="readystatechange";Array.isArray(K)||(K&&(Qt[0]=K.toString()),K=Qt);for(var X=0;X<K.length;X++){var fe=rt(M,K[X],$||S.handleEvent,!1,S.h||S);if(!fe)break;S.g[fe.key]=fe}S=m.H?I(m.H):{},m.m?(m.u||(m.u="POST"),S["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,S)):(m.u="GET",m.g.ea(m.A,m.u,null,S)),qu(),NV(m.i,m.u,m.A,m.l,m.R,m.m)}po.prototype.ca=function(m){m=m.target;const S=this.M;S&&_i(m)==3?S.j():this.Y(m)},po.prototype.Y=function(m){try{if(m==this.g)e:{const dn=_i(this.g);var S=this.g.Ba();const Ra=this.g.Z();if(!(3>dn)&&(dn!=3||this.g&&(this.h.h||this.g.oa()||lS(this.g)))){this.J||dn!=4||S==7||(S==8||0>=Ra?qu(3):qu(2)),by(this);var M=this.g.Z();this.X=M;t:if(BT(this)){var $=lS(this.g);m="";var K=$.length,X=_i(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xs(this),Ku(this);var fe="";break t}this.h.i=new a.TextDecoder}for(S=0;S<K;S++)this.h.h=!0,m+=this.h.i.decode($[S],{stream:!(X&&S==K-1)});$.length=0,this.h.g+=m,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=M==200,RV(this.i,this.u,this.A,this.l,this.R,dn,M),this.o){if(this.T&&!this.K){t:{if(this.g){var st,Zt=this.g;if((st=Zt.g?Zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(st)){var He=st;break t}}He=null}if(M=He)Ca(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wy(this,M);else{this.o=!1,this.s=3,An(12),xs(this),Ku(this);break e}}if(this.P){M=!0;let Pr;for(;!this.J&&this.C<fe.length;)if(Pr=DV(this,fe),Pr==vy){dn==4&&(this.s=4,An(14),M=!1),Ca(this.i,this.l,null,"[Incomplete Response]");break}else if(Pr==FT){this.s=4,An(15),Ca(this.i,this.l,fe,"[Invalid Chunk]"),M=!1;break}else Ca(this.i,this.l,Pr,null),wy(this,Pr);if(BT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dn!=4||fe.length!=0||this.h.h||(this.s=1,An(16),M=!1),this.o=this.o&&M,!M)Ca(this.i,this.l,fe,"[Invalid Chunked Response]"),xs(this),Ku(this);else if(0<fe.length&&!this.W){this.W=!0;var cn=this.j;cn.g==this&&cn.ba&&!cn.M&&(cn.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Iy(cn),cn.M=!0,An(11))}}else Ca(this.i,this.l,fe,null),wy(this,fe);dn==4&&xs(this),this.o&&!this.J&&(dn==4?mS(this.j,this):(this.o=!1,ih(this)))}else QV(this.g),M==400&&0<fe.indexOf("Unknown SID")?(this.s=3,An(12)):(this.s=0,An(13)),xs(this),Ku(this)}}}catch{}finally{}};function BT(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function DV(m,S){var M=m.C,$=S.indexOf(`
`,M);return $==-1?vy:(M=Number(S.substring(M,$)),isNaN(M)?FT:($+=1,$+M>S.length?vy:(S=S.slice($,$+M),m.C=$+M,S)))}po.prototype.cancel=function(){this.J=!0,xs(this)};function ih(m){m.S=Date.now()+m.I,zT(m,m.I)}function zT(m,S){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Hu(h(m.ba,m),S)}function by(m){m.B&&(a.clearTimeout(m.B),m.B=null)}po.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(OV(this.i,this.A),this.L!=2&&(qu(),An(17)),xs(this),this.s=2,Ku(this)):zT(this,this.S-m)};function Ku(m){m.j.G==0||m.J||mS(m.j,m)}function xs(m){by(m);var S=m.M;S&&typeof S.ma=="function"&&S.ma(),m.M=null,lr(m.U),m.g&&(S=m.g,m.g=null,S.abort(),S.ma())}function wy(m,S){try{var M=m.j;if(M.G!=0&&(M.g==m||_y(M.h,m))){if(!m.K&&_y(M.h,m)&&M.G==3){try{var $=M.Da.g.parse(S)}catch{$=null}if(Array.isArray($)&&$.length==3){var K=$;if(K[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<m.F)hh(M),dh(M);else break e;Ay(M),An(18)}}else M.za=K[1],0<M.za-M.T&&37500>K[2]&&M.F&&M.v==0&&!M.C&&(M.C=Hu(h(M.Za,M),6e3));if(1>=HT(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else ws(M,11)}else if((m.K||M.g==m)&&hh(M),!w(S))for(K=M.Da.g.parse(S),S=0;S<K.length;S++){let He=K[S];if(M.T=He[0],He=He[1],M.G==2)if(He[0]=="c"){M.K=He[1],M.ia=He[2];const cn=He[3];cn!=null&&(M.la=cn,M.j.info("VER="+M.la));const dn=He[4];dn!=null&&(M.Aa=dn,M.j.info("SVER="+M.Aa));const Ra=He[5];Ra!=null&&typeof Ra=="number"&&0<Ra&&($=1.5*Ra,M.L=$,M.j.info("backChannelRequestTimeoutMs_="+$)),$=M;const Pr=m.g;if(Pr){const mh=Pr.g?Pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mh){var X=$.h;X.g||mh.indexOf("spdy")==-1&&mh.indexOf("quic")==-1&&mh.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ey(X,X.h),X.h=null))}if($.D){const ky=Pr.g?Pr.g.getResponseHeader("X-HTTP-Session-Id"):null;ky&&($.ya=ky,ft($.I,$.D,ky))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-m.F,M.j.info("Handshake RTT: "+M.R+"ms")),$=M;var fe=m;if($.qa=vS($,$.J?$.ia:null,$.W),fe.K){WT($.h,fe);var st=fe,Zt=$.L;Zt&&(st.I=Zt),st.B&&(by(st),ih(st)),$.g=fe}else hS($);0<M.i.length&&fh(M)}else He[0]!="stop"&&He[0]!="close"||ws(M,7);else M.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?ws(M,7):Sy(M):He[0]!="noop"&&M.l&&M.l.ta(He),M.v=0)}}qu(4)}catch{}}var jV=class{constructor(m,S){this.g=m,this.map=S}};function GT(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qT(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function HT(m){return m.h?1:m.g?m.g.size:0}function _y(m,S){return m.h?m.h==S:m.g?m.g.has(S):!1}function Ey(m,S){m.g?m.g.add(S):m.h=S}function WT(m,S){m.h&&m.h==S?m.h=null:m.g&&m.g.has(S)&&m.g.delete(S)}GT.prototype.cancel=function(){if(this.i=KT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function KT(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let S=m.i;for(const M of m.g.values())S=S.concat(M.D);return S}return b(m.i)}function LV(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var S=[],M=m.length,$=0;$<M;$++)S.push(m[$]);return S}S=[],M=0;for($ in m)S[M++]=m[$];return S}function $V(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var S=[];m=m.length;for(var M=0;M<m;M++)S.push(M);return S}S=[],M=0;for(const $ in m)S[M++]=$;return S}}}function YT(m,S){if(m.forEach&&typeof m.forEach=="function")m.forEach(S,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,S,void 0);else for(var M=$V(m),$=LV(m),K=$.length,X=0;X<K;X++)S.call(void 0,$[X],M&&M[X],m)}var JT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VV(m,S){if(m){m=m.split("&");for(var M=0;M<m.length;M++){var $=m[M].indexOf("="),K=null;if(0<=$){var X=m[M].substring(0,$);K=m[M].substring($+1)}else X=m[M];S(X,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function bs(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof bs){this.h=m.h,oh(this,m.j),this.o=m.o,this.g=m.g,sh(this,m.s),this.l=m.l;var S=m.i,M=new Xu;M.i=S.i,S.g&&(M.g=new Map(S.g),M.h=S.h),XT(this,M),this.m=m.m}else m&&(S=String(m).match(JT))?(this.h=!1,oh(this,S[1]||"",!0),this.o=Yu(S[2]||""),this.g=Yu(S[3]||"",!0),sh(this,S[4]),this.l=Yu(S[5]||"",!0),XT(this,S[6]||"",!0),this.m=Yu(S[7]||"")):(this.h=!1,this.i=new Xu(null,this.h))}bs.prototype.toString=function(){var m=[],S=this.j;S&&m.push(Ju(S,QT,!0),":");var M=this.g;return(M||S=="file")&&(m.push("//"),(S=this.o)&&m.push(Ju(S,QT,!0),"@"),m.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&m.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&m.push("/"),m.push(Ju(M,M.charAt(0)=="/"?BV:UV,!0))),(M=this.i.toString())&&m.push("?",M),(M=this.m)&&m.push("#",Ju(M,GV)),m.join("")};function wi(m){return new bs(m)}function oh(m,S,M){m.j=M?Yu(S,!0):S,m.j&&(m.j=m.j.replace(/:$/,""))}function sh(m,S){if(S){if(S=Number(S),isNaN(S)||0>S)throw Error("Bad port number "+S);m.s=S}else m.s=null}function XT(m,S,M){S instanceof Xu?(m.i=S,qV(m.i,m.h)):(M||(S=Ju(S,zV)),m.i=new Xu(S,m.h))}function ft(m,S,M){m.i.set(S,M)}function ah(m){return ft(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Yu(m,S){return m?S?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ju(m,S,M){return typeof m=="string"?(m=encodeURI(m).replace(S,FV),M&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function FV(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var QT=/[#\/\?@]/g,UV=/[#\?:]/g,BV=/[#\?]/g,zV=/[#\?@]/g,GV=/#/g;function Xu(m,S){this.h=this.g=null,this.i=m||null,this.j=!!S}function mo(m){m.g||(m.g=new Map,m.h=0,m.i&&VV(m.i,function(S,M){m.add(decodeURIComponent(S.replace(/\+/g," ")),M)}))}t=Xu.prototype,t.add=function(m,S){mo(this),this.i=null,m=Pa(this,m);var M=this.g.get(m);return M||this.g.set(m,M=[]),M.push(S),this.h+=1,this};function ZT(m,S){mo(m),S=Pa(m,S),m.g.has(S)&&(m.i=null,m.h-=m.g.get(S).length,m.g.delete(S))}function eS(m,S){return mo(m),S=Pa(m,S),m.g.has(S)}t.forEach=function(m,S){mo(this),this.g.forEach(function(M,$){M.forEach(function(K){m.call(S,K,$,this)},this)},this)},t.na=function(){mo(this);const m=Array.from(this.g.values()),S=Array.from(this.g.keys()),M=[];for(let $=0;$<S.length;$++){const K=m[$];for(let X=0;X<K.length;X++)M.push(S[$])}return M},t.V=function(m){mo(this);let S=[];if(typeof m=="string")eS(this,m)&&(S=S.concat(this.g.get(Pa(this,m))));else{m=Array.from(this.g.values());for(let M=0;M<m.length;M++)S=S.concat(m[M])}return S},t.set=function(m,S){return mo(this),this.i=null,m=Pa(this,m),eS(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[S]),this.h+=1,this},t.get=function(m,S){return m?(m=this.V(m),0<m.length?String(m[0]):S):S};function tS(m,S,M){ZT(m,S),0<M.length&&(m.i=null,m.g.set(Pa(m,S),b(M)),m.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],S=Array.from(this.g.keys());for(var M=0;M<S.length;M++){var $=S[M];const X=encodeURIComponent(String($)),fe=this.V($);for($=0;$<fe.length;$++){var K=X;fe[$]!==""&&(K+="="+encodeURIComponent(String(fe[$]))),m.push(K)}}return this.i=m.join("&")};function Pa(m,S){return S=String(S),m.j&&(S=S.toLowerCase()),S}function qV(m,S){S&&!m.j&&(mo(m),m.i=null,m.g.forEach(function(M,$){var K=$.toLowerCase();$!=K&&(ZT(this,$),tS(this,K,M))},m)),m.j=S}function HV(m,S){const M=new Wu;if(a.Image){const $=new Image;$.onload=y(go,M,"TestLoadImage: loaded",!0,S,$),$.onerror=y(go,M,"TestLoadImage: error",!1,S,$),$.onabort=y(go,M,"TestLoadImage: abort",!1,S,$),$.ontimeout=y(go,M,"TestLoadImage: timeout",!1,S,$),a.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=m}else S(!1)}function WV(m,S){const M=new Wu,$=new AbortController,K=setTimeout(()=>{$.abort(),go(M,"TestPingServer: timeout",!1,S)},1e4);fetch(m,{signal:$.signal}).then(X=>{clearTimeout(K),X.ok?go(M,"TestPingServer: ok",!0,S):go(M,"TestPingServer: server error",!1,S)}).catch(()=>{clearTimeout(K),go(M,"TestPingServer: error",!1,S)})}function go(m,S,M,$,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),$(M)}catch{}}function KV(){this.g=new NT}function YV(m,S,M){const $=M||"";try{YT(m,function(K,X){let fe=K;u(K)&&(fe=bi(K)),S.push($+X+"="+encodeURIComponent(fe))})}catch(K){throw S.push($+"type="+encodeURIComponent("_badmap")),K}}function lh(m){this.l=m.Ub||null,this.j=m.eb||!1}v(lh,py),lh.prototype.g=function(){return new uh(this.l,this.j)},lh.prototype.i=function(m){return function(){return m}}({});function uh(m,S){ue.call(this),this.D=m,this.o=S,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(uh,ue),t=uh.prototype,t.open=function(m,S){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=S,this.readyState=1,Zu(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const S={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(S.body=m),(this.D||a).fetch(new Request(this.A,S)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qu(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Zu(this)),this.g&&(this.readyState=3,Zu(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nS(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function nS(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var S=m.value?m.value:new Uint8Array(0);(S=this.v.decode(S,{stream:!m.done}))&&(this.response=this.responseText+=S)}m.done?Qu(this):Zu(this),this.readyState==3&&nS(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Qu(this))},t.Qa=function(m){this.g&&(this.response=m,Qu(this))},t.ga=function(){this.g&&Qu(this)};function Qu(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Zu(m)}t.setRequestHeader=function(m,S){this.u.append(m,S)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],S=this.h.entries();for(var M=S.next();!M.done;)M=M.value,m.push(M[0]+": "+M[1]),M=S.next();return m.join(`\r
`)};function Zu(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(uh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function rS(m){let S="";return C(m,function(M,$){S+=$,S+=":",S+=M,S+=`\r
`}),S}function Ty(m,S,M){e:{for($ in M){var $=!1;break e}$=!0}$||(M=rS(M),typeof m=="string"?M!=null&&encodeURIComponent(String(M)):ft(m,S,M))}function St(m){ue.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(St,ue);var JV=/^https?$/i,XV=["POST","PUT"];t=St.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,S,M,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);S=S?S.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yy.g(),this.v=this.o?RT(this.o):RT(yy),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(S,String(m),!0),this.B=!1}catch(X){iS(this,X);return}if(m=M||"",M=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var K in $)M.set(K,$[K]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const X of $.keys())M.set(X,$.get(X));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(M.keys()).find(X=>X.toLowerCase()=="content-type"),K=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(XV,S,void 0))||$||K||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,fe]of M)this.g.setRequestHeader(X,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{aS(this),this.u=!0,this.g.send(m),this.u=!1}catch(X){iS(this,X)}};function iS(m,S){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=S,m.m=5,oS(m),ch(m)}function oS(m){m.A||(m.A=!0,Ce(m,"complete"),Ce(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Ce(this,"complete"),Ce(this,"abort"),ch(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ch(this,!0)),St.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?sS(this):this.bb())},t.bb=function(){sS(this)};function sS(m){if(m.h&&typeof s<"u"&&(!m.v[1]||_i(m)!=4||m.Z()!=2)){if(m.u&&_i(m)==4)qe(m.Ea,0,m);else if(Ce(m,"readystatechange"),_i(m)==4){m.h=!1;try{const fe=m.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var S=!0;break e;default:S=!1}var M;if(!(M=S)){var $;if($=fe===0){var K=String(m.D).match(JT)[1]||null;!K&&a.self&&a.self.location&&(K=a.self.location.protocol.slice(0,-1)),$=!JV.test(K?K.toLowerCase():"")}M=$}if(M)Ce(m,"complete"),Ce(m,"success");else{m.m=6;try{var X=2<_i(m)?m.g.statusText:""}catch{X=""}m.l=X+" ["+m.Z()+"]",oS(m)}}finally{ch(m)}}}}function ch(m,S){if(m.g){aS(m);const M=m.g,$=m.v[0]?()=>{}:null;m.g=null,m.v=null,S||Ce(m,"ready");try{M.onreadystatechange=$}catch{}}}function aS(m){m.I&&(a.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function _i(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<_i(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var S=this.g.responseText;return m&&S.indexOf(m)==0&&(S=S.substring(m.length)),hy(S)}};function lS(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function QV(m){const S={};m=(m.g&&2<=_i(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<m.length;$++){if(w(m[$]))continue;var M=R(m[$]);const K=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const X=S[K]||[];S[K]=X,X.push(M)}A(S,function($){return $.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ec(m,S,M){return M&&M.internalChannelParams&&M.internalChannelParams[m]||S}function uS(m){this.Aa=0,this.i=[],this.j=new Wu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ec("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ec("baseRetryDelayMs",5e3,m),this.cb=ec("retryDelaySeedMs",1e4,m),this.Wa=ec("forwardChannelMaxRetries",2,m),this.wa=ec("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new GT(m&&m.concurrentRequestLimit),this.Da=new KV,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=uS.prototype,t.la=8,t.G=1,t.connect=function(m,S,M,$){An(0),this.W=m,this.H=S||{},M&&$!==void 0&&(this.H.OSID=M,this.H.OAID=$),this.F=this.X,this.I=vS(this,null,this.W),fh(this)};function Sy(m){if(cS(m),m.G==3){var S=m.U++,M=wi(m.I);if(ft(M,"SID",m.K),ft(M,"RID",S),ft(M,"TYPE","terminate"),tc(m,M),S=new po(m,m.j,S),S.L=2,S.v=ah(wi(M)),M=!1,a.navigator&&a.navigator.sendBeacon)try{M=a.navigator.sendBeacon(S.v.toString(),"")}catch{}!M&&a.Image&&(new Image().src=S.v,M=!0),M||(S.g=xS(S.j,null),S.g.ea(S.v)),S.F=Date.now(),ih(S)}yS(m)}function dh(m){m.g&&(Iy(m),m.g.cancel(),m.g=null)}function cS(m){dh(m),m.u&&(a.clearTimeout(m.u),m.u=null),hh(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function fh(m){if(!qT(m.h)&&!m.s){m.s=!0;var S=m.Ga;F||G(),L||(F(),L=!0),z.add(S,m),m.B=0}}function ZV(m,S){return HT(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=S.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Hu(h(m.Ga,m,S),gS(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const K=new po(this,this.j,m);let X=this.o;if(this.S&&(X?(X=I(X),P(X,this.S)):X=this.S),this.m!==null||this.O||(K.H=X,X=null),this.P)e:{for(var S=0,M=0;M<this.i.length;M++){t:{var $=this.i[M];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(S+=$,4096<S){S=M;break e}if(S===4096||M===this.i.length-1){S=M+1;break e}}S=1e3}else S=1e3;S=fS(this,K,S),M=wi(this.I),ft(M,"RID",m),ft(M,"CVER",22),this.D&&ft(M,"X-HTTP-Session-Id",this.D),tc(this,M),X&&(this.O?S="headers="+encodeURIComponent(String(rS(X)))+"&"+S:this.m&&Ty(M,this.m,X)),Ey(this.h,K),this.Ua&&ft(M,"TYPE","init"),this.P?(ft(M,"$req",S),ft(M,"SID","null"),K.T=!0,xy(K,M,null)):xy(K,M,S),this.G=2}}else this.G==3&&(m?dS(this,m):this.i.length==0||qT(this.h)||dS(this))};function dS(m,S){var M;S?M=S.l:M=m.U++;const $=wi(m.I);ft($,"SID",m.K),ft($,"RID",M),ft($,"AID",m.T),tc(m,$),m.m&&m.o&&Ty($,m.m,m.o),M=new po(m,m.j,M,m.B+1),m.m===null&&(M.H=m.o),S&&(m.i=S.D.concat(m.i)),S=fS(m,M,1e3),M.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Ey(m.h,M),xy(M,$,S)}function tc(m,S){m.H&&C(m.H,function(M,$){ft(S,$,M)}),m.l&&YT({},function(M,$){ft(S,$,M)})}function fS(m,S,M){M=Math.min(m.i.length,M);var $=m.l?h(m.l.Na,m.l,m):null;e:{var K=m.i;let X=-1;for(;;){const fe=["count="+M];X==-1?0<M?(X=K[0].g,fe.push("ofs="+X)):X=0:fe.push("ofs="+X);let st=!0;for(let Zt=0;Zt<M;Zt++){let He=K[Zt].g;const cn=K[Zt].map;if(He-=X,0>He)X=Math.max(0,K[Zt].g-100),st=!1;else try{YV(cn,fe,"req"+He+"_")}catch{$&&$(cn)}}if(st){$=fe.join("&");break e}}}return m=m.i.splice(0,M),S.D=m,$}function hS(m){if(!m.g&&!m.u){m.Y=1;var S=m.Fa;F||G(),L||(F(),L=!0),z.add(S,m),m.v=0}}function Ay(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Hu(h(m.Fa,m),gS(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,pS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Hu(h(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,An(10),dh(this),pS(this))};function Iy(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function pS(m){m.g=new po(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var S=wi(m.qa);ft(S,"RID","rpc"),ft(S,"SID",m.K),ft(S,"AID",m.T),ft(S,"CI",m.F?"0":"1"),!m.F&&m.ja&&ft(S,"TO",m.ja),ft(S,"TYPE","xmlhttp"),tc(m,S),m.m&&m.o&&Ty(S,m.m,m.o),m.L&&(m.g.I=m.L);var M=m.g;m=m.ia,M.L=1,M.v=ah(wi(S)),M.m=null,M.P=!0,UT(M,m)}t.Za=function(){this.C!=null&&(this.C=null,dh(this),Ay(this),An(19))};function hh(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function mS(m,S){var M=null;if(m.g==S){hh(m),Iy(m),m.g=null;var $=2}else if(_y(m.h,S))M=S.D,WT(m.h,S),$=1;else return;if(m.G!=0){if(S.o)if($==1){M=S.m?S.m.length:0,S=Date.now()-S.F;var K=m.B;$=th(),Ce($,new LT($,M)),fh(m)}else hS(m);else if(K=S.s,K==3||K==0&&0<S.X||!($==1&&ZV(m,S)||$==2&&Ay(m)))switch(M&&0<M.length&&(S=m.h,S.i=S.i.concat(M)),K){case 1:ws(m,5);break;case 4:ws(m,10);break;case 3:ws(m,6);break;default:ws(m,2)}}}function gS(m,S){let M=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(M*=2),M*S}function ws(m,S){if(m.j.info("Error code "+S),S==2){var M=h(m.fb,m),$=m.Xa;const K=!$;$=new bs($||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||oh($,"https"),ah($),K?HV($.toString(),M):WV($.toString(),M)}else An(2);m.G=0,m.l&&m.l.sa(S),yS(m),cS(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),An(2)):(this.j.info("Failed to ping google.com"),An(1))};function yS(m){if(m.G=0,m.ka=[],m.l){const S=KT(m.h);(S.length!=0||m.i.length!=0)&&(x(m.ka,S),x(m.ka,m.i),m.h.i.length=0,b(m.i),m.i.length=0),m.l.ra()}}function vS(m,S,M){var $=M instanceof bs?wi(M):new bs(M);if($.g!="")S&&($.g=S+"."+$.g),sh($,$.s);else{var K=a.location;$=K.protocol,S=S?S+"."+K.hostname:K.hostname,K=+K.port;var X=new bs(null);$&&oh(X,$),S&&(X.g=S),K&&sh(X,K),M&&(X.l=M),$=X}return M=m.D,S=m.ya,M&&S&&ft($,M,S),ft($,"VER",m.la),tc(m,$),$}function xS(m,S,M){if(S&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return S=m.Ca&&!m.pa?new St(new lh({eb:M})):new St(m.pa),S.Ha(m.J),S}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bS(){}t=bS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ph(){}ph.prototype.g=function(m,S){return new Hn(m,S)};function Hn(m,S){ue.call(this),this.g=new uS(S),this.l=m,this.h=S&&S.messageUrlParams||null,m=S&&S.messageHeaders||null,S&&S.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=S&&S.initMessageHeaders||null,S&&S.messageContentType&&(m?m["X-WebChannel-Content-Type"]=S.messageContentType:m={"X-WebChannel-Content-Type":S.messageContentType}),S&&S.va&&(m?m["X-WebChannel-Client-Profile"]=S.va:m={"X-WebChannel-Client-Profile":S.va}),this.g.S=m,(m=S&&S.Sb)&&!w(m)&&(this.g.m=m),this.v=S&&S.supportsCrossDomainXhr||!1,this.u=S&&S.sendRawJson||!1,(S=S&&S.httpSessionIdParam)&&!w(S)&&(this.g.D=S,m=this.h,m!==null&&S in m&&(m=this.h,S in m&&delete m[S])),this.j=new Na(this)}v(Hn,ue),Hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){Sy(this.g)},Hn.prototype.o=function(m){var S=this.g;if(typeof m=="string"){var M={};M.__data__=m,m=M}else this.u&&(M={},M.__data__=bi(m),m=M);S.i.push(new jV(S.Ya++,m)),S.G==3&&fh(S)},Hn.prototype.N=function(){this.g.l=null,delete this.j,Sy(this.g),delete this.g,Hn.aa.N.call(this)};function wS(m){my.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var S=m.__sm__;if(S){e:{for(const M in S){m=M;break e}m=void 0}(this.i=m)&&(m=this.i,S=S!==null&&m in S?S[m]:void 0),this.data=S}else this.data=m}v(wS,my);function _S(){gy.call(this),this.status=1}v(_S,gy);function Na(m){this.g=m}v(Na,bS),Na.prototype.ua=function(){Ce(this.g,"a")},Na.prototype.ta=function(m){Ce(this.g,new wS(m))},Na.prototype.sa=function(m){Ce(this.g,new _S)},Na.prototype.ra=function(){Ce(this.g,"b")},ph.prototype.createWebChannel=ph.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,_j=function(){return new ph},wj=function(){return th()},bj=vs,rb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nh.NO_ERROR=0,nh.TIMEOUT=8,nh.HTTP_ERROR=6,Tp=nh,$T.COMPLETE="complete",xj=$T,OT.EventType=Gu,Gu.OPEN="a",Gu.CLOSE="b",Gu.ERROR="c",Gu.MESSAGE="d",ue.prototype.listen=ue.prototype.K,Cc=OT,St.prototype.listenOnce=St.prototype.L,St.prototype.getLastError=St.prototype.Ka,St.prototype.getLastErrorCode=St.prototype.Ba,St.prototype.getStatus=St.prototype.Z,St.prototype.getResponseJson=St.prototype.Oa,St.prototype.getResponseText=St.prototype.oa,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Ha,vj=St}).apply(typeof jh<"u"?jh:typeof self<"u"?self:typeof window<"u"?window:{});const mI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$n.UNAUTHENTICATED=new $n(null),$n.GOOGLE_CREDENTIALS=new $n("google-credentials-uid"),$n.FIRST_PARTY=new $n("first-party-uid"),$n.MOCK_USER=new $n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new u1("@firebase/firestore");function cc(){return la.logLevel}function ve(t,...e){if(la.logLevel<=Ue.DEBUG){const n=e.map(E1);la.debug(`Firestore (${xu}): ${t}`,...n)}}function Yi(t,...e){if(la.logLevel<=Ue.ERROR){const n=e.map(E1);la.error(`Firestore (${xu}): ${t}`,...n)}}function Id(t,...e){if(la.logLevel<=Ue.WARN){const n=e.map(E1);la.warn(`Firestore (${xu}): ${t}`,...n)}}function E1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t="Unexpected state"){const e=`FIRESTORE (${xu}) INTERNAL ASSERTION FAILED: `+t;throw Yi(e),new Error(e)}function Ge(t,e){t||Te()}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends io{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($n.UNAUTHENTICATED))}shutdown(){}}class vz{constructor(e){this.t=e,this.currentUser=$n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vi,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vi)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string"),new gz(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new $n(e)}}class xz{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=$n.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class bz{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new xz(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wz{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _z{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ge(this.o===void 0);const r=o=>{o.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ve("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new wz(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ez(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Ez(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function We(t,e){return t<e?-1:t>e?1:0}function Rl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Bt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Bt(0,0))}static max(){return new Se(new Bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(),r===void 0?r=e.length-n:r>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return kd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof kd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class at extends kd{construct(e,n,r){return new at(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new at(n)}static emptyPath(){return new at([])}}const Tz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends kd{construct(e,n,r){return new on(e,n,r)}static isValidIdentifier(e){return Tz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new on(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(n)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(at.fromString(e))}static fromName(e){return new we(at.fromString(e).popFirst(5))}static empty(){return new we(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new at(e.slice()))}}function Sz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new Bt(n+1,0):new Bt(n,r));return new es(i,we.empty(),e)}function Az(t){return new es(t.readTime,t.key,-1)}class es{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new es(Se.min(),we.empty(),-1)}static max(){return new es(Se.max(),we.empty(),-1)}}function Iz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nf(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==kz)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,r)=>{n(e)})}static reject(e){return new ie((n,r)=>{r(e)})}static waitFor(e){return new ie((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next(i=>i?ie.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ie((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new ie((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function Pz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}T1.oe=-1;function Of(t){return t==null}function pm(t){return t===0&&1/t==-1/0}function Nz(t){return typeof t=="number"&&Number.isInteger(t)&&!pm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ba(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Tj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lh(this.root,e,this.comparator,!0)}}class Lh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??nn.RED,this.left=i??nn.EMPTY,this.right=o??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new nn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return nn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,r,i,o){return this}insert(e,n,r){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yI(this.data.getIterator())}getIteratorFrom(e){return new yI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new an(this.comparator);return n.data=e,n}}class yI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Zn([])}unionWith(e){let n=new an(on.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Rl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Sj("Invalid base64 string: "+o):o}}(e);return new un(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const Rz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(t){if(Ge(!!t),typeof t=="string"){let e=0;const n=Rz.exec(t);if(Ge(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(t.seconds),nanos:Ct(t.nanos)}}function Ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ua(t){return typeof t=="string"?un.fromBase64String(t):un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function A1(t){const e=t.mapValue.fields.__previous_value__;return S1(e)?A1(e):e}function Cd(t){const e=ts(t.mapValue.fields.__local_write_time__.timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Pd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Pd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Pd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h={mapValue:{}};function ca(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?S1(t)?4:Dz(t)?9007199254740991:Mz(t)?10:11:Te()}function di(t,e){if(t===e)return!0;const n=ca(t);if(n!==ca(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cd(t).isEqual(Cd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ts(i.timestampValue),a=ts(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ua(i.bytesValue).isEqual(ua(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ct(i.geoPointValue.latitude)===Ct(o.geoPointValue.latitude)&&Ct(i.geoPointValue.longitude)===Ct(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ct(i.integerValue)===Ct(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ct(i.doubleValue),a=Ct(o.doubleValue);return s===a?pm(s)===pm(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Rl(t.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(gI(s)!==gI(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!di(s[l],a[l])))return!1;return!0}(t,e);default:return Te()}}function Nd(t,e){return(t.values||[]).find(n=>di(n,e))!==void 0}function Ol(t,e){if(t===e)return 0;const n=ca(t),r=ca(e);if(n!==r)return We(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Ct(o.integerValue||o.doubleValue),l=Ct(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return vI(t.timestampValue,e.timestampValue);case 4:return vI(Cd(t),Cd(e));case 5:return We(t.stringValue,e.stringValue);case 6:return function(o,s){const a=ua(o),l=ua(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=We(a[u],l[u]);if(c!==0)return c}return We(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=We(Ct(o.latitude),Ct(s.latitude));return a!==0?a:We(Ct(o.longitude),Ct(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return xI(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const f=o.fields||{},h=s.fields||{},y=(a=f.value)===null||a===void 0?void 0:a.arrayValue,v=(l=h.value)===null||l===void 0?void 0:l.arrayValue,b=We(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0);return b!==0?b:xI(y,v)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===$h.mapValue&&s===$h.mapValue)return 0;if(o===$h.mapValue)return 1;if(s===$h.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=We(l[f],c[f]);if(h!==0)return h;const y=Ol(a[l[f]],u[c[f]]);if(y!==0)return y}return We(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Te()}}function vI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=ts(t),r=ts(e),i=We(n.seconds,r.seconds);return i!==0?i:We(n.nanos,r.nanos)}function xI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ol(n[i],r[i]);if(o)return o}return We(n.length,r.length)}function Ml(t){return ib(t)}function ib(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ts(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ua(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return we.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=ib(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${ib(n.fields[s])}`;return i+"}"}(t.mapValue):Te()}function bI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ob(t){return!!t&&"integerValue"in t}function I1(t){return!!t&&"arrayValue"in t}function wI(t){return!!t&&"nullValue"in t}function _I(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sp(t){return!!t&&"mapValue"in t}function Mz(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Gc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ba(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Gc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Dz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gc(n)}setAll(e){let n=on.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Gc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Sp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ba(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Pn(Gc(this.value))}}function Aj(t){const e=[];return ba(t.fields,(n,r)=>{const i=new on([n]);if(Sp(r)){const o=Aj(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Wt(e,0,Se.min(),Se.min(),Se.min(),Pn.empty(),0)}static newFoundDocument(e,n,r,i){return new Wt(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new Wt(e,2,n,Se.min(),Se.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Se.min(),Se.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,n){this.position=e,this.inclusive=n}}function EI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=we.comparator(we.fromName(s.referenceValue),n.key):r=Ol(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function TI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!di(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n="asc"){this.field=e,this.dir=n}}function jz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{}class Mt extends Ij{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $z(e,n,r):n==="array-contains"?new Uz(e,r):n==="in"?new Bz(e,r):n==="not-in"?new zz(e,r):n==="array-contains-any"?new Gz(e,r):new Mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Vz(e,r):new Fz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ol(n,this.value)):n!==null&&ca(this.value)===ca(n)&&this.matchesComparison(Ol(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yr extends Ij{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Yr(e,n)}matches(e){return kj(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function kj(t){return t.op==="and"}function Cj(t){return Lz(t)&&kj(t)}function Lz(t){for(const e of t.filters)if(e instanceof Yr)return!1;return!0}function sb(t){if(t instanceof Mt)return t.field.canonicalString()+t.op.toString()+Ml(t.value);if(Cj(t))return t.filters.map(e=>sb(e)).join(",");{const e=t.filters.map(n=>sb(n)).join(",");return`${t.op}(${e})`}}function Pj(t,e){return t instanceof Mt?function(r,i){return i instanceof Mt&&r.op===i.op&&r.field.isEqual(i.field)&&di(r.value,i.value)}(t,e):t instanceof Yr?function(r,i){return i instanceof Yr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Pj(s,i.filters[a]),!0):!1}(t,e):void Te()}function Nj(t){return t instanceof Mt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ml(n.value)}`}(t):t instanceof Yr?function(n){return n.op.toString()+" {"+n.getFilters().map(Nj).join(" ,")+"}"}(t):"Filter"}class $z extends Mt{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class Vz extends Mt{constructor(e,n){super(e,"in",n),this.keys=Rj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Fz extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=Rj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Rj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>we.fromName(r.referenceValue))}class Uz extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return I1(n)&&Nd(n.arrayValue,this.value)}}class Bz extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nd(this.value.arrayValue,n)}}class zz extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Nd(this.value.arrayValue,n)}}class Gz extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!I1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Nd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function SI(t,e=null,n=[],r=[],i=null,o=null,s=null){return new qz(t,e,n,r,i,o,s)}function k1(t){const e=Ne(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ml(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ml(r)).join(",")),e.ue=n}return e.ue}function C1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Pj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TI(t.startAt,e.startAt)&&TI(t.endAt,e.endAt)}function ab(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Hz(t,e,n,r,i,o,s,a){return new bu(t,e,n,r,i,o,s,a)}function P1(t){return new bu(t)}function AI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Oj(t){return t.collectionGroup!==null}function qc(t){const e=Ne(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new an(on.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Rd(o,r))}),n.has(on.keyField().canonicalString())||e.ce.push(new Rd(on.keyField(),r))}return e.ce}function ai(t){const e=Ne(t);return e.le||(e.le=Wz(e,qc(t))),e.le}function Wz(t,e){if(t.limitType==="F")return SI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Rd(i.field,o)});const n=t.endAt?new mm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new mm(t.startAt.position,t.startAt.inclusive):null;return SI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lb(t,e){const n=t.filters.concat([e]);return new bu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function gm(t,e,n){return new bu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function s0(t,e){return C1(ai(t),ai(e))&&t.limitType===e.limitType}function Mj(t){return`${k1(ai(t))}|lt:${t.limitType}`}function $a(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Nj(i)).join(", ")}]`),Of(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ml(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ml(i)).join(",")),`Target(${r})`}(ai(t))}; limitType=${t.limitType})`}function a0(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):we.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of qc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=EI(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,qc(r),i)||r.endAt&&!function(s,a,l){const u=EI(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,qc(r),i))}(t,e)}function Kz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Dj(t){return(e,n)=>{let r=!1;for(const i of qc(t)){const o=Yz(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Yz(t,e,n){const r=t.field.isKeyField()?we.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Ol(l,u):Te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ba(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Tj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jz=new Tt(we.comparator);function Ji(){return Jz}const jj=new Tt(we.comparator);function Pc(...t){let e=jj;for(const n of t)e=e.insert(n.key,n);return e}function Lj(t){let e=jj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vs(){return Hc()}function $j(){return Hc()}function Hc(){return new wu(t=>t.toString(),(t,e)=>t.isEqual(e))}const Xz=new Tt(we.comparator),Qz=new an(we.comparator);function Fe(...t){let e=Qz;for(const n of t)e=e.add(n);return e}const Zz=new an(We);function eG(){return Zz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pm(e)?"-0":e}}function Vj(t){return{integerValue:""+t}}function tG(t,e){return Nz(e)?Vj(e):N1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this._=void 0}}function nG(t,e,n){return t instanceof ym?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&S1(o)&&(o=A1(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Od?Uj(t,e):t instanceof Md?Bj(t,e):function(i,o){const s=Fj(i,o),a=II(s)+II(i.Pe);return ob(s)&&ob(i.Pe)?Vj(a):N1(i.serializer,a)}(t,e)}function rG(t,e,n){return t instanceof Od?Uj(t,e):t instanceof Md?Bj(t,e):n}function Fj(t,e){return t instanceof vm?function(r){return ob(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ym extends l0{}class Od extends l0{constructor(e){super(),this.elements=e}}function Uj(t,e){const n=zj(e);for(const r of t.elements)n.some(i=>di(i,r))||n.push(r);return{arrayValue:{values:n}}}class Md extends l0{constructor(e){super(),this.elements=e}}function Bj(t,e){let n=zj(e);for(const r of t.elements)n=n.filter(i=>!di(i,r));return{arrayValue:{values:n}}}class vm extends l0{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function II(t){return Ct(t.integerValue||t.doubleValue)}function zj(t){return I1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function iG(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Od&&i instanceof Od||r instanceof Md&&i instanceof Md?Rl(r.elements,i.elements,di):r instanceof vm&&i instanceof vm?di(r.Pe,i.Pe):r instanceof ym&&i instanceof ym}(t.transform,e.transform)}class oG{constructor(e,n){this.version=e,this.transformResults=n}}class Vt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vt}static exists(e){return new Vt(void 0,e)}static updateTime(e){return new Vt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ap(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class u0{}function Gj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Df(t.key,Vt.none()):new Mf(t.key,t.data,Vt.none());{const n=t.data,r=Pn.empty();let i=new an(on.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new cs(t.key,r,new Zn(i.toArray()),Vt.none())}}function sG(t,e,n){t instanceof Mf?function(i,o,s){const a=i.value.clone(),l=CI(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof cs?function(i,o,s){if(!Ap(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=CI(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(qj(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Wc(t,e,n,r){return t instanceof Mf?function(o,s,a,l){if(!Ap(o.precondition,s))return a;const u=o.value.clone(),c=PI(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof cs?function(o,s,a,l){if(!Ap(o.precondition,s))return a;const u=PI(o.fieldTransforms,l,s),c=s.data;return c.setAll(qj(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Ap(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function aG(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=Fj(r.transform,i||null);o!=null&&(n===null&&(n=Pn.empty()),n.set(r.field,o))}return n||null}function kI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Rl(r,i,(o,s)=>iG(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mf extends u0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class cs extends u0{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function qj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function CI(t,e,n){const r=new Map;Ge(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,rG(s,a,n[i]))}return r}function PI(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,nG(o,s,e))}return r}class Df extends u0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Hj extends u0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lG{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&sG(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$j();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=Gj(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Fe())}isEqual(e){return this.batchId===e.batchId&&Rl(this.mutations,e.mutations,(n,r)=>kI(n,r))&&Rl(this.baseMutations,e.baseMutations,(n,r)=>kI(n,r))}}class R1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ge(e.mutations.length===r.length);let i=function(){return Xz}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new R1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,Be;function Wj(t){switch(t){default:return Te();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function Kj(t){if(t===void 0)return Yi("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Nt.OK:return ne.OK;case Nt.CANCELLED:return ne.CANCELLED;case Nt.UNKNOWN:return ne.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return ne.INTERNAL;case Nt.UNAVAILABLE:return ne.UNAVAILABLE;case Nt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Nt.NOT_FOUND:return ne.NOT_FOUND;case Nt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Nt.ABORTED:return ne.ABORTED;case Nt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Nt.DATA_LOSS:return ne.DATA_LOSS;default:return Te()}}(Be=Nt||(Nt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fG=new Ks([4294967295,4294967295],0);function NI(t){const e=dG().encode(t),n=new yj;return n.update(e),new Uint8Array(n.digest())}function RI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ks([n,r],0),new Ks([i,o],0)]}class O1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nc(`Invalid padding: ${n}`);if(r<0)throw new Nc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Nc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ks.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ks.fromNumber(r)));return i.compare(fG)===1&&(i=new Ks([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=NI(e),[r,i]=RI(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new O1(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=NI(e),[r,i]=RI(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,jf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new c0(Se.min(),i,new Tt(We),Ji(),Fe())}}class jf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new jf(r,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Yj{constructor(e,n){this.targetId=e,this.me=n}}class Jj{constructor(e,n,r=un.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class OI{constructor(){this.fe=0,this.ge=DI(),this.pe=un.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Fe(),n=Fe(),r=Fe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te()}}),new jf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=DI()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hG{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ji(),this.qe=MI(),this.Qe=new Tt(We)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(ab(o))if(r===0){const s=new we(o.path);this.Ue(n,s,Wt.newNoDocument(s,Se.min()))}else Ge(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=ua(r).toUint8Array()}catch(l){if(l instanceof Sj)return Id("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new O1(s,i,o)}catch(l){return Id(l instanceof Nc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&ab(a.target)){const l=new we(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Wt.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Fe();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new c0(e,n,this.Qe,this.ke,r);return this.ke=Ji(),this.qe=MI(),this.Qe=new Tt(We),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new OI,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new an(We),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new OI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function MI(){return new Tt(we.comparator)}function DI(){return new Tt(we.comparator)}const pG={asc:"ASCENDING",desc:"DESCENDING"},mG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gG={and:"AND",or:"OR"};class yG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ub(t,e){return t.useProto3Json||Of(e)?e:{value:e}}function xm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vG(t,e){return xm(t,e.toTimestamp())}function tr(t){return Ge(!!t),Se.fromTimestamp(function(n){const r=ts(n);return new Bt(r.seconds,r.nanos)}(t))}function M1(t,e){return cb(t,e).canonicalString()}function cb(t,e){const n=function(i){return new at(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Qj(t){const e=at.fromString(t);return Ge(iL(e)),e}function bm(t,e){return M1(t.databaseId,e.path)}function Kc(t,e){const n=Qj(e);if(n.get(1)!==t.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(eL(n))}function Zj(t,e){return M1(t.databaseId,e)}function xG(t){const e=Qj(t);return e.length===4?at.emptyPath():eL(e)}function db(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eL(t){return Ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function jI(t,e,n){return{name:bm(t,e),fields:n.value.mapValue.fields}}function bG(t,e){return"found"in e?function(r,i){Ge(!!i.found),i.found.name,i.found.updateTime;const o=Kc(r,i.found.name),s=tr(i.found.updateTime),a=i.found.createTime?tr(i.found.createTime):Se.min(),l=new Pn({mapValue:{fields:i.found.fields}});return Wt.newFoundDocument(o,s,a,l)}(t,e):"missing"in e?function(r,i){Ge(!!i.missing),Ge(!!i.readTime);const o=Kc(r,i.missing),s=tr(i.readTime);return Wt.newNoDocument(o,s)}(t,e):Te()}function wG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(Ge(c===void 0||typeof c=="string"),un.fromBase64String(c||"")):(Ge(c===void 0||c instanceof Buffer||c instanceof Uint8Array),un.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?ne.UNKNOWN:Kj(u.code);return new he(c,u.message||"")}(s);n=new Jj(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Kc(t,r.document.name),o=tr(r.document.updateTime),s=r.document.createTime?tr(r.document.createTime):Se.min(),a=new Pn({mapValue:{fields:r.document.fields}}),l=Wt.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ip(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Kc(t,r.document),o=r.readTime?tr(r.readTime):Se.min(),s=Wt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ip([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Kc(t,r.document),o=r.removedTargetIds||[];n=new Ip([],o,i,null)}else{if(!("filter"in e))return Te();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new cG(i,o),a=r.targetId;n=new Yj(a,s)}}return n}function tL(t,e){let n;if(e instanceof Mf)n={update:jI(t,e.key,e.value)};else if(e instanceof Df)n={delete:bm(t,e.key)};else if(e instanceof cs)n={update:jI(t,e.key,e.data),updateMask:PG(e.fieldMask)};else{if(!(e instanceof Hj))return Te();n={verify:bm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof ym)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Od)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Md)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof vm)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:vG(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Te()}(t,e.precondition)),n}function _G(t,e){return t&&t.length>0?(Ge(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?tr(i.updateTime):tr(o);return s.isEqual(Se.min())&&(s=tr(o)),new oG(s,i.transformResults||[])}(n,e))):[]}function EG(t,e){return{documents:[Zj(t,e.path)]}}function TG(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Zj(t,i);const o=function(u){if(u.length!==0)return rL(Yr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Va(h.field),direction:IG(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=ub(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function SG(t){let e=xG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ge(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const h=nL(f);return h instanceof Yr&&Cj(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(v){return new Rd(Fa(v.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Of(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,y=f.values||[];return new mm(y,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,y=f.values||[];return new mm(y,h)}(n.endAt)),Hz(e,i,s,o,a,"F",l,u)}function AG(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fa(n.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Fa(n.unaryFilter.field);return Mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Fa(n.unaryFilter.field);return Mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Fa(n.unaryFilter.field);return Mt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(t):t.fieldFilter!==void 0?function(n){return Mt.create(Fa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yr.create(n.compositeFilter.filters.map(r=>nL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(t):Te()}function IG(t){return pG[t]}function kG(t){return mG[t]}function CG(t){return gG[t]}function Va(t){return{fieldPath:t.canonicalString()}}function Fa(t){return on.fromServerFormat(t.fieldPath)}function rL(t){return t instanceof Mt?function(n){if(n.op==="=="){if(_I(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NAN"}};if(wI(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_I(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NOT_NAN"}};if(wI(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(n.field),op:kG(n.op),value:n.value}}}(t):t instanceof Yr?function(n){const r=n.getFilters().map(i=>rL(i));return r.length===1?r[0]:{compositeFilter:{op:CG(n.op),filters:r}}}(t):Te()}function PG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function iL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,n,r,i,o=Se.min(),s=Se.min(),a=un.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Oo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Oo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(e){this.ct=e}}function RG(t){const e=SG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?gm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(){this.un=new MG}addToCollectionParentIndex(e,n){return this.un.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(es.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(es.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class MG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new an(at.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new an(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Dl(0)}static kn(){return new Dl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DG{constructor(){this.changes=new wu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Wc(r.mutation,i,Zn.empty(),Bt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Fe()){const i=Vs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Pc();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Vs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Fe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Ji();const s=Hc(),a=function(){return Hc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof cs)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Wc(c.mutation,u,c.mutation.getFieldMask(),Bt.now())):s.set(u.key,Zn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new jG(c,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Hc();let i=new Tt((s,a)=>s-a),o=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Zn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Fe()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=$j();c.forEach(h=>{if(!o.has(h)){const y=Gj(n.get(h),r.get(h));y!==null&&f.set(h,y),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ie.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return we.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Oj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ie.resolve(Vs());let a=-1,l=o;return s.next(u=>ie.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?ie.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Fe())).next(c=>({batchId:a,changes:Lj(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(r=>{let i=Pc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Pc();return this.indexManager.getCollectionParents(e,o).next(a=>ie.forEach(a,l=>{const u=function(f,h){return new bu(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Wt.newInvalidDocument(c)))});let a=Pc();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Wc(c.mutation,u,Zn.empty(),Bt.now()),a0(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ie.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:tr(i.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:RG(i.bundledQuery),readTime:tr(i.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VG{constructor(){this.overlays=new Tt(we.comparator),this.Ir=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vs();return ie.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),ie.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const i=Vs(),o=n.length+1,s=new we(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ie.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Tt((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Vs(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Vs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return ie.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new uG(n,r));let o=this.Ir.get(n);o===void 0&&(o=Fe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.Tr=new an(Gt.Er),this.dr=new an(Gt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Gt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Gt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new we(new at([])),r=new Gt(n,e),i=new Gt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new we(new at([])),r=new Gt(n,e),i=new Gt(n,e+1);let o=Fe();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Gt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return we.comparator(e.key,n.key)||We(e.wr,n.wr)}static Ar(e,n){return We(e.wr,n.wr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new an(Gt.Er)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new lG(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Gt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ie.resolve(s)}lookupMutationBatch(e,n){return ie.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return ie.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gt(n,0),i=new Gt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),ie.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new an(We);return n.forEach(i=>{const o=new Gt(i,0),s=new Gt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),ie.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;we.isDocumentKey(o)||(o=o.child(""));const s=new Gt(new we(o),0);let a=new an(We);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),ie.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ge(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ie.forEach(n.mutations,i=>{const o=new Gt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Gt(n,0),i=this.br.firstAfterOrEqual(r);return ie.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{constructor(e){this.Mr=e,this.docs=function(){return new Tt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=Ji();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Wt.newInvalidDocument(i))}),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ji();const s=n.path,a=new we(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Iz(Az(c),r)<=0||(i.has(c.key)||a0(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return ie.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Te()}Or(e,n){return ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new zG(this)}getSize(e){return ie.resolve(this.size)}}class zG extends DG{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ie.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(e){this.persistence=e,this.Nr=new wu(n=>k1(n),C1),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new D1,this.targetCount=0,this.kr=Dl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ie.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Dl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Kn(n),ie.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ie.waitFor(o).next(()=>i)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ie.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(e,n){this.qr={},this.overlays={},this.Qr=new T1(0),this.Kr=!1,this.Kr=!0,this.$r=new FG,this.referenceDelegate=e(this),this.Ur=new GG(this),this.indexManager=new OG,this.remoteDocumentCache=function(i){return new BG(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new NG(n),this.Gr=new $G(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new VG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new UG(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const i=new HG(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return ie.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class HG extends Cz{constructor(e){super(),this.currentSequenceNumber=e}}class j1{constructor(e){this.persistence=e,this.Jr=new D1,this.Yr=null}static Zr(e){return new j1(e)}get Xr(){if(this.Yr)return this.Yr;throw Te()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Xr,r=>{const i=we.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ie.or([()=>ie.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Fe(),i=Fe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new L1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return j6()?8:Pz(wn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new WG;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(cc()<=Ue.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ie.resolve()):(cc()<=Ue.DEBUG&&ve("QueryEngine","Query:",$a(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(cc()<=Ue.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(n))):ie.resolve())}Yi(e,n){if(AI(n))return ie.resolve(null);let r=ai(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=gm(n,null,"F"),r=ai(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Fe(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,gm(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return AI(n)||i.isEqual(Se.min())?ie.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?ie.resolve(null):(cc()<=Ue.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$a(n)),this.rs(e,s,n,Sz(i,-1)).next(a=>a))})}ts(e,n){let r=new an(Dj(e));return n.forEach((i,o)=>{a0(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return cc()<=Ue.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",$a(n)),this.Ji.getDocumentsMatchingQuery(e,n,es.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Tt(We),this._s=new wu(o=>k1(o),C1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LG(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function JG(t,e,n,r){return new YG(t,e,n,r)}async function oL(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Fe();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function XG(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,h=f.keys();let y=ie.resolve();return h.forEach(v=>{y=y.next(()=>c.getEntry(l,v)).next(b=>{const x=u.docVersions.get(v);Ge(x!==null),b.version.compareTo(x)<0&&(f.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),c.addEntry(b)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Fe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function sL(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function QG(t,e){const n=Ne(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;a.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,f)));let y=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(un.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):c.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(c.resumeToken,r)),i=i.insert(f,y),function(b,x,_){return b.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,y,c)&&a.push(n.Ur.updateTargetData(o,y))});let l=Ji(),u=Fe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(ZG(o,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(Se.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return ie.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function ZG(t,e,n){let r=Fe(),i=Fe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Ji();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Se.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ve("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function eq(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function tq(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,ie.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Oo(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function fb(t,e,n){const r=Ne(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Rf(s))throw s;ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function LI(t,e,n){const r=Ne(t);let i=Se.min(),o=Fe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=Ne(l),h=f._s.get(c);return h!==void 0?ie.resolve(f.os.get(h)):f.Ur.getTargetData(u,c)}(r,s,ai(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Se.min(),n?o:Fe())).next(a=>(nq(r,Kz(e),a),{documents:a,Ts:o})))}function nq(t,e,n){let r=t.us.get(e)||Se.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class $I{constructor(){this.activeTargetIds=eG()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rq{constructor(){this.so=new $I,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new $I,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vh=null;function uv(){return Vh===null?Vh=function(){return 268435456+Math.round(2147483648*Math.random())}():Vh++,"0x"+Vh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class aq extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=uv(),l=this.xo(n,r.toUriEncodedString());ve("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(c=>(ve("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Id("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=oq[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=uv();return new Promise((s,a)=>{const l=new vj;l.setWithCredentials(!0),l.listenOnce(xj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Tp.NO_ERROR:const c=l.getResponseJson();ve(pn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case Tp.TIMEOUT:ve(pn,`RPC '${e}' ${o} timed out`),a(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Tp.HTTP_ERROR:const f=l.getStatus();if(ve(pn,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const y=h==null?void 0:h.error;if(y&&y.status&&y.message){const v=function(x){const _=x.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(_)>=0?_:ne.UNKNOWN}(y.status);a(new he(v,y.message))}else a(new he(ne.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new he(ne.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{ve(pn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);ve(pn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=uv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=_j(),a=wj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");ve(pn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);let h=!1,y=!1;const v=new sq({Io:x=>{y?ve(pn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(ve(pn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ve(pn,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},To:()=>f.close()}),b=(x,_,w)=>{x.listen(_,E=>{try{w(E)}catch(N){setTimeout(()=>{throw N},0)}})};return b(f,Cc.EventType.OPEN,()=>{y||(ve(pn,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),b(f,Cc.EventType.CLOSE,()=>{y||(y=!0,ve(pn,`RPC '${e}' stream ${i} transport closed`),v.So())}),b(f,Cc.EventType.ERROR,x=>{y||(y=!0,Id(pn,`RPC '${e}' stream ${i} transport errored:`,x),v.So(new he(ne.UNAVAILABLE,"The operation could not be completed")))}),b(f,Cc.EventType.MESSAGE,x=>{var _;if(!y){const w=x.data[0];Ge(!!w);const E=w,N=E.error||((_=E[0])===null||_===void 0?void 0:_.error);if(N){ve(pn,`RPC '${e}' stream ${i} received error:`,N);const T=N.status;let C=function(k){const P=Nt[k];if(P!==void 0)return Kj(P)}(T),A=N.message;C===void 0&&(C=ne.INTERNAL,A="Unknown error status: "+T+" with message "+N.message),y=!0,v.So(new he(C,A)),f.close()}else ve(pn,`RPC '${e}' stream ${i} received:`,w),v.bo(w)}}),b(a,bj.STAT_EVENT,x=>{x.stat===rb.PROXY?ve(pn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===rb.NOPROXY&&ve(pn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function cv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t){return new yG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new $1(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Yi(n.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new he(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lq extends aL{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=wG(this.serializer,e),r=function(o){if(!("targetChange"in o))return Se.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Se.min():s.readTime?tr(s.readTime):Se.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=db(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=ab(l)?{documents:EG(o,l)}:{query:TG(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Xj(o,s.resumeToken);const u=ub(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Se.min())>0){a.readTime=xm(o,s.snapshotVersion.toTimestamp());const u=ub(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=AG(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=db(this.serializer),n.removeTarget=e,this.a_(n)}}class uq extends aL{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=_G(e.writeResults,e.commitTime),r=tr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=db(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>tL(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,cb(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(ne.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,cb(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new he(ne.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class dq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Yi(n),this.D_=!1):ve("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{wa(this)&&(ve("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ne(l);u.L_.add(4),await Lf(u),u.q_.set("Unknown"),u.L_.delete(4),await f0(u)}(this))})}),this.q_=new dq(r,i)}}async function f0(t){if(wa(t))for(const e of t.B_)await e(!0)}async function Lf(t){for(const e of t.B_)await e(!1)}function lL(t,e){const n=Ne(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),B1(n)?U1(n):_u(n).r_()&&F1(n,e))}function V1(t,e){const n=Ne(t),r=_u(n);n.N_.delete(e),r.r_()&&uL(n,e),n.N_.size===0&&(r.r_()?r.o_():wa(n)&&n.q_.set("Unknown"))}function F1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_u(t).A_(e)}function uL(t,e){t.Q_.xe(e),_u(t).R_(e)}function U1(t){t.Q_=new hG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),_u(t).start(),t.q_.v_()}function B1(t){return wa(t)&&!_u(t).n_()&&t.N_.size>0}function wa(t){return Ne(t).L_.size===0}function cL(t){t.Q_=void 0}async function hq(t){t.q_.set("Online")}async function pq(t){t.N_.forEach((e,n)=>{F1(t,e)})}async function mq(t,e){cL(t),B1(t)?(t.q_.M_(e),U1(t)):t.q_.set("Unknown")}async function gq(t,e,n){if(t.q_.set("Online"),e instanceof Jj&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wm(t,r)}else if(e instanceof Ip?t.Q_.Ke(e):e instanceof Yj?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Se.min()))try{const r=await sL(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(un.EMPTY_BYTE_STRING,c.snapshotVersion)),uL(o,l);const f=new Oo(c.target,l,u,c.sequenceNumber);F1(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ve("RemoteStore","Failed to raise snapshot:",r),await wm(t,r)}}async function wm(t,e,n){if(!Rf(e))throw e;t.L_.add(1),await Lf(t),t.q_.set("Offline"),n||(n=()=>sL(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ve("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await f0(t)})}function dL(t,e){return e().catch(n=>wm(t,n,e))}async function h0(t){const e=Ne(t),n=ns(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;yq(e);)try{const i=await eq(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,vq(e,i)}catch(i){await wm(e,i)}fL(e)&&hL(e)}function yq(t){return wa(t)&&t.O_.length<10}function vq(t,e){t.O_.push(e);const n=ns(t);n.r_()&&n.V_&&n.m_(e.mutations)}function fL(t){return wa(t)&&!ns(t).n_()&&t.O_.length>0}function hL(t){ns(t).start()}async function xq(t){ns(t).p_()}async function bq(t){const e=ns(t);for(const n of t.O_)e.m_(n.mutations)}async function wq(t,e,n){const r=t.O_.shift(),i=R1.from(r,e,n);await dL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await h0(t)}async function _q(t,e){e&&ns(t).V_&&await async function(r,i){if(function(s){return Wj(s)&&s!==ne.ABORTED}(i.code)){const o=r.O_.shift();ns(r).s_(),await dL(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await h0(r)}}(t,e),fL(t)&&hL(t)}async function FI(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),ve("RemoteStore","RemoteStore received new credentials");const r=wa(n);n.L_.add(3),await Lf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await f0(n)}async function Eq(t,e){const n=Ne(t);e?(n.L_.delete(2),await f0(n)):e||(n.L_.add(2),await Lf(n),n.q_.set("Unknown"))}function _u(t){return t.K_||(t.K_=function(n,r,i){const o=Ne(n);return o.w_(),new lq(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:hq.bind(null,t),Ro:pq.bind(null,t),mo:mq.bind(null,t),d_:gq.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),B1(t)?U1(t):t.q_.set("Unknown")):(await t.K_.stop(),cL(t))})),t.K_}function ns(t){return t.U_||(t.U_=function(n,r,i){const o=Ne(n);return o.w_(),new uq(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:xq.bind(null,t),mo:_q.bind(null,t),f_:bq.bind(null,t),g_:wq.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await h0(t)):(await t.U_.stop(),t.O_.length>0&&(ve("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new z1(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function G1(t,e){if(Yi("AsyncQueue",`${e}: ${t}`),Rf(t))return new he(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=Pc(),this.sortedSet=new Tt(this.comparator)}static emptySet(e){return new vl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this.W_=new Tt(we.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Te():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class jl{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new jl(e,n,vl.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&s0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Sq{constructor(){this.queries=BI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ne(n),o=i.queries;i.queries=BI(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function BI(){return new wu(t=>Mj(t),s0)}async function pL(t,e){const n=Ne(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new Tq,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=G1(s,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&q1(n)}async function mL(t,e){const n=Ne(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Aq(t,e){const n=Ne(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&q1(n)}function Iq(t,e,n){const r=Ne(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function q1(t){t.Y_.forEach(e=>{e.next()})}var hb,zI;(zI=hb||(hb={})).ea="default",zI.Cache="cache";class gL{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new jl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=jl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==hb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.key=e}}class vL{constructor(e){this.key=e}}class kq{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Fe(),this.mutatedKeys=Fe(),this.Aa=Dj(e),this.Ra=new vl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new UI,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),y=a0(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let x=!1;h&&y?h.data.isEqual(y.data)?v!==b&&(r.track({type:3,doc:y}),x=!0):this.ga(h,y)||(r.track({type:2,doc:y}),x=!0,(l&&this.Aa(y,l)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!h&&y?(r.track({type:0,doc:y}),x=!0):h&&!y&&(r.track({type:1,doc:h}),x=!0,(l||u)&&(a=!0)),x&&(y?(s=s.add(y),o=b?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,f)=>function(y,v){const b=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return b(y)-b(v)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new jl(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new UI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Fe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new vL(r))}),this.da.forEach(r=>{e.has(r)||n.push(new yL(r))}),n}ba(e){this.Ta=e.Ts,this.da=Fe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return jl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Cq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Pq{constructor(e){this.key=e,this.va=!1}}class Nq{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new wu(a=>Mj(a),s0),this.Ma=new Map,this.xa=new Set,this.Oa=new Tt(we.comparator),this.Na=new Map,this.La=new D1,this.Ba={},this.ka=new Map,this.qa=Dl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Rq(t,e,n=!0){const r=TL(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await xL(r,e,n,!0),i}async function Oq(t,e){const n=TL(t);await xL(n,e,!0,!1)}async function xL(t,e,n,r){const i=await tq(t.localStore,ai(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Mq(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&lL(t.remoteStore,i),a}async function Mq(t,e,n,r,i){t.Ka=(f,h,y)=>async function(b,x,_,w){let E=x.view.ma(_);E.ns&&(E=await LI(b.localStore,x.query,!1).then(({documents:A})=>x.view.ma(A,E)));const N=w&&w.targetChanges.get(x.targetId),T=w&&w.targetMismatches.get(x.targetId)!=null,C=x.view.applyChanges(E,b.isPrimaryClient,N,T);return qI(b,x.targetId,C.wa),C.snapshot}(t,f,h,y);const o=await LI(t.localStore,e,!0),s=new kq(e,o.Ts),a=s.ma(o.documents),l=jf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);qI(t,n,u.wa);const c=new Cq(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function Dq(t,e,n){const r=Ne(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!s0(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await fb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&V1(r.remoteStore,i.targetId),pb(r,i.targetId)}).catch(Nf)):(pb(r,i.targetId),await fb(r.localStore,i.targetId,!0))}async function jq(t,e){const n=Ne(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),V1(n.remoteStore,r.targetId))}async function Lq(t,e,n){const r=Gq(t);try{const i=await function(s,a){const l=Ne(s),u=Bt.now(),c=a.reduce((y,v)=>y.add(v.key),Fe());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let v=Ji(),b=Fe();return l.cs.getEntries(y,c).next(x=>{v=x,v.forEach((_,w)=>{w.isValidDocument()||(b=b.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,v)).next(x=>{f=x;const _=[];for(const w of a){const E=aG(w,f.get(w.key).overlayedDocument);E!=null&&_.push(new cs(w.key,E,Aj(E.value.mapValue),Vt.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,_,a)}).next(x=>{h=x;const _=x.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(y,x.batchId,_)})}).then(()=>({batchId:h.batchId,changes:Lj(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new Tt(We)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await $f(r,i.changes),await h0(r.remoteStore)}catch(i){const o=G1(i,"Failed to persist write");n.reject(o)}}async function bL(t,e){const n=Ne(t);try{const r=await QG(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(Ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ge(s.va):i.removedDocuments.size>0&&(Ge(s.va),s.va=!1))}),await $f(n,r,e)}catch(r){await Nf(r)}}function GI(t,e,n){const r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Ne(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.j_)h.Z_(a)&&(u=!0)}),u&&q1(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $q(t,e,n){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new Tt(we.comparator);s=s.insert(o,Wt.newNoDocument(o,Se.min()));const a=Fe().add(o),l=new c0(Se.min(),new Map,new Tt(We),s,a);await bL(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),H1(r)}else await fb(r.localStore,e,!1).then(()=>pb(r,e,n)).catch(Nf)}async function Vq(t,e){const n=Ne(t),r=e.batch.batchId;try{const i=await XG(n.localStore,e);_L(n,r,null),wL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $f(n,i)}catch(i){await Nf(i)}}async function Fq(t,e,n){const r=Ne(t);try{const i=await function(s,a){const l=Ne(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Ge(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);_L(r,e,n),wL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await $f(r,i)}catch(i){await Nf(i)}}function wL(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function _L(t,e,n){const r=Ne(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function pb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||EL(t,r)})}function EL(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(V1(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),H1(t))}function qI(t,e,n){for(const r of n)r instanceof yL?(t.La.addReference(r.key,e),Uq(t,r)):r instanceof vL?(ve("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||EL(t,r.key)):Te()}function Uq(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ve("SyncEngine","New document in limbo: "+n),t.xa.add(r),H1(t))}function H1(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new we(at.fromString(e)),r=t.qa.next();t.Na.set(r,new Pq(n)),t.Oa=t.Oa.insert(n,r),lL(t.remoteStore,new Oo(ai(P1(n.path)),r,"TargetPurposeLimboResolution",T1.oe))}}async function $f(t,e,n){const r=Ne(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=L1.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const c=Ne(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ie.forEach(u,h=>ie.forEach(h.$i,y=>c.persistence.referenceDelegate.addReference(f,h.targetId,y)).next(()=>ie.forEach(h.Ui,y=>c.persistence.referenceDelegate.removeReference(f,h.targetId,y)))))}catch(f){if(!Rf(f))throw f;ve("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const y=c.os.get(h),v=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(v);c.os=c.os.insert(h,b)}}}(r.localStore,o))}async function Bq(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){ve("SyncEngine","User change. New user:",e.toKey());const r=await oL(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new he(ne.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $f(n,r.hs)}}function zq(t,e){const n=Ne(t),r=n.Na.get(e);if(r&&r.va)return Fe().add(r.key);{let i=Fe();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function TL(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$q.bind(null,e),e.Ca.d_=Aq.bind(null,e.eventManager),e.Ca.$a=Iq.bind(null,e.eventManager),e}function Gq(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fq.bind(null,e),e}class _m{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=d0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return JG(this.persistence,new KG,e.initialUser,this.serializer)}Ga(e){return new qG(j1.Zr,this.serializer)}Wa(e){return new rq}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_m.provider={build:()=>new _m};class mb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>GI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bq.bind(null,this.syncEngine),await Eq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Sq}()}createDatastore(e){const n=d0(e.databaseInfo.databaseId),r=function(o){return new aq(o)}(e.databaseInfo);return function(o,s,a,l){return new cq(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new fq(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>GI(this.syncEngine,n,0),function(){return VI.D()?new VI:new iq}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const f=new Nq(i,o,s,a,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Ne(i);ve("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Lf(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}mb.provider={build:()=>new mb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new he(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,o){const s=Ne(i),a={documents:o.map(f=>bm(s.serializer,f))},l=await s.Lo("BatchGetDocuments",s.serializer.databaseId,at.emptyPath(),a,o.length),u=new Map;l.forEach(f=>{const h=bG(s.serializer,f);u.set(h.key.toString(),h)});const c=[];return o.forEach(f=>{const h=u.get(f.toString());Ge(!!h),c.push(h)}),c}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Df(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=we.fromPath(r);this.mutations.push(new Hj(i,this.precondition(i)))}),await async function(r,i){const o=Ne(r),s={writes:i.map(a=>tL(o.serializer,a))};await o.Mo("Commit",o.serializer.databaseId,at.emptyPath(),s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Te();n=Se.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new he(ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Se.min())?Vt.exists(!1):Vt.updateTime(n):Vt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Se.min()))throw new he(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vt.updateTime(n)}return Vt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hq{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this._u=r.maxAttempts,this.t_=new $1(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new qq(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!Of(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Wj(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wq{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$n.UNAUTHENTICATED,this.clientId=Ej.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{ve("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ve("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=G1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function dv(t,e){t.asyncQueue.verifyOperationInProgress(),ve("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await oL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function HI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Kq(t);ve("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>FI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>FI(e.remoteStore,i)),t._onlineComponents=e}async function Kq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await dv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Id("Error using user provided cache. Falling back to memory cache: "+n),await dv(t,new _m)}}else ve("FirestoreClient","Using default OfflineComponentProvider"),await dv(t,new _m);return t._offlineComponents}async function W1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve("FirestoreClient","Using user provided OnlineComponentProvider"),await HI(t,t._uninitializedComponentsProvider._online)):(ve("FirestoreClient","Using default OnlineComponentProvider"),await HI(t,new mb))),t._onlineComponents}function Yq(t){return W1(t).then(e=>e.syncEngine)}function Jq(t){return W1(t).then(e=>e.datastore)}async function gb(t){const e=await W1(t),n=e.eventManager;return n.onListen=Rq.bind(null,e.syncEngine),n.onUnlisten=Dq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Oq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jq.bind(null,e.syncEngine),n}function Xq(t,e,n={}){const r=new Vi;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new SL({next:h=>{c.Za(),s.enqueueAndForget(()=>mL(o,f)),h.fromCache&&l.source==="server"?u.reject(new he(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new gL(a,c,{includeMetadataChanges:!0,_a:!0});return pL(o,f)}(await gb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t,e,n){if(!n)throw new he(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Qq(t,e,n,r){if(e===!0&&r===!0)throw new he(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function KI(t){if(!we.isDocumentKey(t))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function YI(t){if(we.isDocumentKey(t))throw new he(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function p0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te()}function vr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=p0(t);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class K1{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new yz;switch(r.type){case"firstParty":return new bz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=WI.get(n);r&&(ve("ComponentProvider","Removing Datastore"),WI.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oo(this.firestore,e,this._query)}}class xn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class Ko extends oo{constructor(e,n,r){super(e,n,P1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new we(e))}withConverter(e){return new Ko(this.firestore,e,this._path)}}function _o(t,e,...n){if(t=kt(t),IL("collection","path",e),t instanceof K1){const r=at.fromString(e,...n);return YI(r),new Ko(t,null,r)}{if(!(t instanceof xn||t instanceof Ko))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return YI(r),new Ko(t.firestore,null,r)}}function Ke(t,e,...n){if(t=kt(t),arguments.length===1&&(e=Ej.newId()),IL("doc","path",e),t instanceof K1){const r=at.fromString(e,...n);return KI(r),new xn(t,null,new we(r))}{if(!(t instanceof xn||t instanceof Ko))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return KI(r),new xn(t.firestore,t instanceof Ko?t.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new $1(this,"async_queue_retry"),this.Vu=()=>{const r=cv();r&&ve("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=cv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=cv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Vi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Rf(e))throw e;ve("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Yi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=z1.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Te()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function QI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Xi extends K1{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new XI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new XI(e),this._firestoreClient=void 0,await e}}}function Zq(t,e,n){n||(n="(default)");const r=d1(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),o=r.getOptions(n);if(Ed(o,e))return i;throw new he(ne.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new he(ne.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function Vf(t){if(t._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||eH(t),t._firestoreClient}function eH(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new Oz(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,AL(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Wq(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new da(un.fromBase64String(e))}catch(n){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new da(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tH=/^__.*__$/;class nH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mf(e,this.data,n,this.fieldTransforms)}}class kL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new cs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function CL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Q1{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Q1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Em(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(CL(this.Cu)&&tH.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class rH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||d0(e)}Qu(e,n,r,i=!1){return new Q1({Cu:e,methodName:n,qu:r,path:on.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ff(t){const e=t._freezeSettings(),n=d0(t._databaseId);return new rH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Z1(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);nE("Data must be an object, but it was:",s,r);const a=PL(r,s);let l,u;if(o.merge)l=new Zn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const h=yb(e,f,n);if(!s.contains(h))throw new he(ne.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);RL(c,h)||c.push(h)}l=new Zn(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new nH(new Pn(a),l,u)}class m0 extends Y1{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof m0}}function eE(t,e,n,r){const i=t.Qu(1,e,n);nE("Data must be an object, but it was:",i,r);const o=[],s=Pn.empty();ba(r,(l,u)=>{const c=rE(e,l,n);u=kt(u);const f=i.Nu(c);if(u instanceof m0)o.push(c);else{const h=Uf(u,f);h!=null&&(o.push(c),s.set(c,h))}});const a=new Zn(o);return new kL(s,a,i.fieldTransforms)}function tE(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[yb(e,r,n)],l=[i];if(o.length%2!=0)throw new he(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(yb(e,o[h])),l.push(o[h+1]);const u=[],c=Pn.empty();for(let h=a.length-1;h>=0;--h)if(!RL(u,a[h])){const y=a[h];let v=l[h];v=kt(v);const b=s.Nu(y);if(v instanceof m0)u.push(y);else{const x=Uf(v,b);x!=null&&(u.push(y),c.set(y,x))}}const f=new Zn(u);return new kL(c,f,s.fieldTransforms)}function iH(t,e,n,r=!1){return Uf(n,t.Qu(r?4:3,e))}function Uf(t,e){if(NL(t=kt(t)))return nE("Unsupported field value:",e,t),PL(t,e);if(t instanceof Y1)return function(r,i){if(!CL(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Uf(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tG(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Bt.fromDate(r);return{timestampValue:xm(i.serializer,o)}}if(r instanceof Bt){const o=new Bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xm(i.serializer,o)}}if(r instanceof J1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof da)return{bytesValue:Xj(i.serializer,r._byteString)};if(r instanceof xn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:M1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof X1)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return N1(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${p0(r)}`)}(t,e)}function PL(t,e){const n={};return Tj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ba(t,(r,i)=>{const o=Uf(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function NL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Bt||t instanceof J1||t instanceof da||t instanceof xn||t instanceof Y1||t instanceof X1)}function nE(t,e,n){if(!NL(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=p0(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function yb(t,e,n){if((e=kt(e))instanceof Eu)return e._internalPath;if(typeof e=="string")return rE(t,e);throw Em("Field path arguments must be of type string or ",t,!1,void 0,n)}const oH=new RegExp("[~\\*/\\[\\]]");function rE(t,e,n){if(e.search(oH)>=0)throw Em(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Eu(...e.split("."))._internalPath}catch{throw Em(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Em(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new he(ne.INVALID_ARGUMENT,a+t+l)}function RL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(iE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sH extends Tm{data(){return super.data()}}function iE(t,e){return typeof e=="string"?rE(t,e):e instanceof Eu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oE{}class sE extends oE{}function Sm(t,e,...n){let r=[];e instanceof oE&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof lE).length,a=o.filter(l=>l instanceof aE).length;if(s>1||s>0&&a>0)throw new he(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class aE extends sE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new aE(e,n,r)}_apply(e){const n=this._parse(e);return ML(e._query,n),new oo(e.firestore,e.converter,lb(e._query,n))}_parse(e){const n=Ff(e.firestore);return function(o,s,a,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new he(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){tk(f,c);const y=[];for(const v of f)y.push(ek(l,o,v));h={arrayValue:{values:y}}}else h=ek(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||tk(f,c),h=iH(a,s,f,c==="in"||c==="not-in");return Mt.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class lE extends oE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new lE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Yr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)ML(s,l),s=lb(s,l)}(e._query,n),new oo(e.firestore,e.converter,lb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class uE extends sE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new uE(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rd(o,s)}(e._query,this._field,this._direction);return new oo(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new bu(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function ZI(t,e="asc"){const n=e,r=iE("orderBy",t);return uE._create(r,n)}class cE extends sE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new cE(e,n,r)}_apply(e){return new oo(e.firestore,e.converter,gm(e._query,this._limit,this._limitType))}}function aH(t){return cE._create("limit",t,"F")}function ek(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new he(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Oj(e)&&n.indexOf("/")!==-1)throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(at.fromString(n));if(!we.isDocumentKey(r))throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bI(t,new we(r))}if(n instanceof xn)return bI(t,n._key);throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${p0(n)}.`)}function tk(t,e){if(!Array.isArray(t)||t.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ML(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class DL{convertValue(e,n="none"){switch(ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ba(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ct(s.doubleValue));return new X1(o)}convertGeoPoint(e){return new J1(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=A1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cd(e));default:return null}}convertTimestamp(e){const n=ts(e);return new Bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=at.fromString(e);Ge(iL(r));const i=new Pd(r.get(1),r.get(3)),o=new we(r.popFirst(5));return i.isEqual(n)||Yi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class lH extends DL{constructor(e){super(),this.firestore=e}convertBytes(e){return new da(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fE extends Tm{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(iE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class kp extends fE{data(e={}){return super.data(e)}}class jL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new el(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new kp(this._firestore,this._userDataWriter,r.key,r,new el(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new kp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new el(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new kp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new el(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:uH(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function uH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class g0 extends DL{constructor(e){super(),this.firestore=e}convertBytes(e){return new da(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,n)}}function LL(t){t=vr(t,oo);const e=vr(t.firestore,Xi),n=Vf(e),r=new g0(e);return OL(t._query),Xq(n,t._query).then(i=>new jL(e,r,t,i))}function ds(t,e,n){t=vr(t,xn);const r=vr(t.firestore,Xi),i=dE(t.converter,e,n);return y0(r,[Z1(Ff(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Vt.none())])}function Bf(t,e,n,...r){t=vr(t,xn);const i=vr(t.firestore,Xi),o=Ff(i);let s;return s=typeof(e=kt(e))=="string"||e instanceof Eu?tE(o,"updateDoc",t._key,e,n,r):eE(o,"updateDoc",t._key,e),y0(i,[s.toMutation(t._key,Vt.exists(!0))])}function zf(t){return y0(vr(t.firestore,Xi),[new Df(t._key,Vt.none())])}function _s(t,...e){var n,r,i;t=kt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||QI(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(QI(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(t instanceof xn)u=vr(t.firestore,Xi),c=P1(t._key.path),l={next:f=>{e[s]&&e[s](cH(u,t,f))},error:e[s+1],complete:e[s+2]};else{const f=vr(t,oo);u=vr(f.firestore,Xi),c=f._query;const h=new g0(u);l={next:y=>{e[s]&&e[s](new jL(u,h,f,y))},error:e[s+1],complete:e[s+2]},OL(t._query)}return function(h,y,v,b){const x=new SL(b),_=new gL(y,x,v);return h.asyncQueue.enqueueAndForget(async()=>pL(await gb(h),_)),()=>{x.Za(),h.asyncQueue.enqueueAndForget(async()=>mL(await gb(h),_))}}(Vf(u),c,a,l)}function y0(t,e){return function(r,i){const o=new Vi;return r.asyncQueue.enqueueAndForget(async()=>Lq(await Yq(r),i,o)),o.promise}(Vf(t),e)}function cH(t,e,n){const r=n.docs.get(e._key),i=new g0(t);return new fE(t,i,e._key,r,new el(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dH={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ff(e)}set(e,n,r){this._verifyNotCommitted();const i=Co(e,this._firestore),o=dE(i.converter,n,r),s=Z1(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Vt.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=Co(e,this._firestore);let s;return s=typeof(n=kt(n))=="string"||n instanceof Eu?tE(this._dataReader,"WriteBatch.update",o._key,n,r,i):eE(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Vt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Co(e,this._firestore);return this._mutations=this._mutations.concat(new Df(n._key,Vt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Co(t,e){if((t=kt(t)).firestore!==e)throw new he(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Ff(n)}get(n){const r=Co(n,this._firestore),i=new lH(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||o.length!==1)return Te();const s=o[0];if(s.isFoundDocument())return new Tm(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new Tm(this._firestore,i,r._key,null,r.converter);throw Te()})}set(n,r,i){const o=Co(n,this._firestore),s=dE(o.converter,r,i),a=Z1(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){const s=Co(n,this._firestore);let a;return a=typeof(r=kt(r))=="string"||r instanceof Eu?tE(this._dataReader,"Transaction.update",s._key,r,i,o):eE(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){const r=Co(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Co(e,this._firestore),r=new g0(this._firestore);return super.get(e).then(i=>new fE(this._firestore,r,n._key,i._document,new el(!1,!1),n.converter))}}function hE(t,e,n){t=vr(t,Xi);const r=Object.assign(Object.assign({},dH),n);return function(o){if(o.maxAttempts<1)throw new he(ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const l=new Vi;return o.asyncQueue.enqueueAndForget(async()=>{const u=await Jq(o);new Hq(o.asyncQueue,u,a,s,l).au()}),l.promise}(Vf(t),i=>e(new hH(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t){return Vf(t=vr(t,Xi)),new fH(t,e=>y0(t,e))}(function(e,n=!0){(function(i){xu=i})(yu),Nl(new oa("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Xi(new vz(r.getProvider("auth-internal")),new _z(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pd(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Wo(mI,"4.7.3",e),Wo(mI,"4.7.3","esm2017")})();const pH={apiKey:"AIzaSyAp9vMuLIhE-W8sEVpuzSWr7vvRHOu1pSc",authDomain:"nexo-bbbe5.firebaseapp.com",projectId:"nexo-bbbe5",storageBucket:"nexo-bbbe5.firebasestorage.app",messagingSenderId:"133978874707",appId:"1:133978874707:web:ba5e00d4c5e35b3c5df7a6"},VL=DD(pH),tl=pz(VL),Oe=Zq(VL,{ignoreUndefinedProperties:!0}),mH="finansmart_data_v2",nk={transactions:[],investments:[],budgets:[],debts:[],shoppingList:[],shoppingBudget:0,kanbanColumns:[],unlockedBadges:[],walletBalance:0},FL=t=>`${mH}_${t}`,rk=t=>{try{const e=FL(t),n=localStorage.getItem(e);if(!n)return nk;const r=JSON.parse(n);return r.transactions||(r.transactions=[]),r.investments||(r.investments=[]),r.unlockedBadges||(r.unlockedBadges=[]),r.debts||(r.debts=[]),r.shoppingList||(r.shoppingList=[]),r.kanbanColumns||(r.kanbanColumns=[]),r.shoppingBudget===void 0&&(r.shoppingBudget=0),r.budgets?r.budgets=r.budgets.map(i=>({...i,isRecurring:i.isRecurring!==void 0?i.isRecurring:!0,month:i.month||void 0})):r.budgets=[],r.walletBalance===void 0&&(r.walletBalance=r.transactions.reduce((i,o)=>o.status==="paid"?i+(o.type==="income"?o.amount:-o.amount):i,0)),r}catch(e){return console.error("Failed to load data",e),nk}},gH=(t,e)=>{try{const n=FL(e),r=t.transactions.reduce((o,s)=>s.status==="paid"?o+(s.type==="income"?s.amount:-s.amount):o,0),i={...t,walletBalance:r};localStorage.setItem(n,JSON.stringify(i))}catch(n){console.error("Failed to save data",n)}},Ll=t=>t.status==="pending"?0:t.type==="income"?t.amount:-t.amount,yH=(t,e)=>{const n=Sm(_o(Oe,"users",t,"transactions"),ZI("date","desc"),aH(300)),r=_s(n,c=>{const f=c.docs.map(h=>h.data());e({transactions:f})}),i=_s(_o(Oe,"users",t,"investments"),c=>{const f=c.docs.map(h=>h.data());e({investments:f})}),o=_s(_o(Oe,"users",t,"budgets"),c=>{const f=c.docs.map(h=>h.data());e({budgets:f})}),s=_s(_o(Oe,"users",t,"debts"),c=>{const f=c.docs.map(h=>h.data());e({debts:f})}),a=_s(_o(Oe,"users",t,"shopping_list"),c=>{const f=c.docs.map(h=>h.data());e({shoppingList:f})}),l=_s(Sm(_o(Oe,"users",t,"kanban_columns"),ZI("order")),c=>{const f=c.docs.map(h=>h.data());e({kanbanColumns:f})}),u=_s(Ke(Oe,"users",t),c=>{if(c.exists()){const f=c.data(),h={};f.unlockedBadges&&(h.unlockedBadges=f.unlockedBadges),f.wealthProfile&&(h.wealthProfile=f.wealthProfile),f.shoppingBudget!==void 0&&(h.shoppingBudget=f.shoppingBudget),f.walletBalance!==void 0&&(h.walletBalance=f.walletBalance),Object.keys(h).length>0&&e(h)}});return()=>{r(),i(),o(),s(),a(),l(),u()}},ik=async(t,e)=>{await hE(Oe,async n=>{var l;const r=Ke(Oe,"users",t),o=((l=(await n.get(r)).data())==null?void 0:l.walletBalance)||0,s=Ll(e),a=Ke(Oe,"users",t,"transactions",e.id);n.set(a,e),n.update(r,{walletBalance:o+s})})},ok=async(t,e,n)=>{await hE(Oe,async r=>{var y;const i=Ke(Oe,"users",t,"transactions",e),o=Ke(Oe,"users",t),s=await r.get(i);if(!s.exists())throw new Error("Transaction not found");const a=s.data(),u=((y=(await r.get(o)).data())==null?void 0:y.walletBalance)||0,c=Ll(a),f={...a,...n},h=Ll(f);r.update(i,n),r.update(o,{walletBalance:u-c+h})})},vH=async(t,e)=>{await hE(Oe,async n=>{var c;const r=Ke(Oe,"users",t,"transactions",e),i=Ke(Oe,"users",t),o=await n.get(r);if(!o.exists())throw new Error("Transaction not found");const s=o.data(),l=((c=(await n.get(i)).data())==null?void 0:c.walletBalance)||0,u=Ll(s);n.delete(r),n.update(i,{walletBalance:l-u})})},xH=async t=>{const e=Sm(_o(Oe,"users",t,"transactions")),n=await LL(e);let r=0;return n.forEach(i=>{const o=i.data();r+=Ll(o)}),await Bf(Ke(Oe,"users",t),{walletBalance:r}),r},bH=async(t,e)=>{await ds(Ke(Oe,"users",t,"investments",e.id),e)},wH=async(t,e,n)=>{await Bf(Ke(Oe,"users",t,"investments",e),n)},_H=async(t,e)=>{await zf(Ke(Oe,"users",t,"investments",e))},EH=async(t,e)=>{await ds(Ke(Oe,"users",t,"budgets",e.id),e)},TH=async(t,e,n)=>{await Bf(Ke(Oe,"users",t,"budgets",e),n)},SH=async(t,e)=>{await zf(Ke(Oe,"users",t,"budgets",e))},AH=async(t,e)=>{await ds(Ke(Oe,"users",t,"debts",e.id),e)},sk=async(t,e,n)=>{await Bf(Ke(Oe,"users",t,"debts",e),n)},IH=async(t,e)=>{await zf(Ke(Oe,"users",t,"debts",e))},kH=async(t,e)=>{await ds(Ke(Oe,"users",t,"shopping_list",e.id),e)},CH=async(t,e,n)=>{await Bf(Ke(Oe,"users",t,"shopping_list",e),n)},PH=async(t,e)=>{await zf(Ke(Oe,"users",t,"shopping_list",e))},NH=async t=>{const e=Sm(_o(Oe,"users",t,"shopping_list")),n=await LL(e),r=$L(Oe);n.docs.forEach(i=>{r.delete(i.ref)}),await r.commit()},RH=async(t,e)=>{await ds(Ke(Oe,"users",t),{shoppingBudget:e},{merge:!0})},OH=async(t,e)=>{await ds(Ke(Oe,"users",t,"kanban_columns",e.id),e)},MH=async(t,e)=>{await zf(Ke(Oe,"users",t,"kanban_columns",e))},DH=async(t,e,n)=>{n.includes(e)||await ds(Ke(Oe,"users",t),{unlockedBadges:[...n,e]},{merge:!0})},jH=async(t,e)=>{await ds(Ke(Oe,"users",t),{wealthProfile:e},{merge:!0})},ak=async(t,e)=>{const n=$L(Oe);let r=0;e.transactions.forEach(s=>{const a=Ke(Oe,"users",t,"transactions",s.id);n.set(a,s),r+=Ll(s)}),e.investments.forEach(s=>{const a=Ke(Oe,"users",t,"investments",s.id);n.set(a,s)}),e.budgets.forEach(s=>{const a=Ke(Oe,"users",t,"budgets",s.id);n.set(a,s)}),e.debts.forEach(s=>{const a=Ke(Oe,"users",t,"debts",s.id);n.set(a,s)}),e.shoppingList.forEach(s=>{const a=Ke(Oe,"users",t,"shopping_list",s.id);n.set(a,s)}),e.kanbanColumns.forEach(s=>{const a=Ke(Oe,"users",t,"kanban_columns",s.id);n.set(a,s)});const i=Ke(Oe,"users",t),o={unlockedBadges:e.unlockedBadges,walletBalance:r,shoppingBudget:e.shoppingBudget||0};e.wealthProfile&&(o.wealthProfile=e.wealthProfile),n.set(i,o,{merge:!0}),await n.commit()};var LH={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let $H,VH;function FH(){return{geminiUrl:$H,vertexUrl:VH}}function UH(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=FH();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class so{}function pe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];g(c,e.slice(o+1),n[u])}else for(const u of l)g(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];g(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(a=>p(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function BH(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&o.length>a)for(let l=a;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}vb(t,i,o,0,s)}}function vb(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(const l of a[s])vb(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,a=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of a)l[u]=s[u];for(const[u,c]of Object.entries(l)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);g(s,f,c)}for(const u of a)delete s[u]}}else{const s=t;o in s&&vb(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pE(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zH(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=p(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function GH(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response","generateVideoResponse"]);return s!=null&&g(e,["response"],HH(s)),e}function qH(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],WH(s)),e}function HH(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>KH(s))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function WH(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>YH(s))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function KH(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],tW(n)),e}function YH(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],nW(n)),e}function JH(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function XH(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function QH(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],ZH(s)),e}function ZH(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function UL(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],eW(s)),e}function eW(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function tW(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],pE(r));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function nW(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],pE(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var lk;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(lk||(lk={}));var uk;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(uk||(uk={}));var ck;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(ck||(ck={}));var Mo;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Mo||(Mo={}));var dk;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(dk||(dk={}));var fk;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(fk||(fk={}));var hk;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(hk||(hk={}));var pk;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(pk||(pk={}));var mk;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(mk||(mk={}));var gk;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(gk||(gk={}));var yk;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(yk||(yk={}));var vk;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(vk||(vk={}));var xk;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(xk||(xk={}));var bk;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(bk||(bk={}));var wk;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(wk||(wk={}));var _k;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(_k||(_k={}));var Ek;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Ek||(Ek={}));var Tk;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Tk||(Tk={}));var Sk;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Sk||(Sk={}));var Ak;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Ak||(Ak={}));var Ik;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ik||(Ik={}));var Am;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Am||(Am={}));var kk;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(kk||(kk={}));var Ck;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Ck||(Ck={}));var Pk;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Pk||(Pk={}));var xb;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(xb||(xb={}));var Nk;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Nk||(Nk={}));var Rk;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Rk||(Rk={}));var bb;(function(t){t.COLLECTION="COLLECTION"})(bb||(bb={}));var Ok;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Ok||(Ok={}));var Mk;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Mk||(Mk={}));var Dk;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Dk||(Dk={}));var jk;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(jk||(jk={}));var Lk;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Lk||(Lk={}));var $k;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})($k||($k={}));var Vk;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Vk||(Vk={}));var Fk;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Fk||(Fk={}));var Uk;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Uk||(Uk={}));var Bk;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Bk||(Bk={}));var zk;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(zk||(zk={}));var Gk;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Gk||(Gk={}));var qk;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(qk||(qk={}));var Hk;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Hk||(Hk={}));var Wk;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Wk||(Wk={}));var Kk;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Kk||(Kk={}));var Yk;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(Yk||(Yk={}));var Jk;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Jk||(Jk={}));var Xk;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Xk||(Xk={}));var Qk;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Qk||(Qk={}));var Zk;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(Zk||(Zk={}));var eC;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(eC||(eC={}));var tC;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(tC||(tC={}));var nC;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(nC||(nC={}));var rC;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(rC||(rC={}));var iC;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(iC||(iC={}));var oC;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(oC||(oC={}));var nl;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(nl||(nl={}));class wb{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class dc{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const h of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[y,v]of Object.entries(h))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(v!==null||v!==void 0)&&f.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[h,y]of Object.entries(f))h!=="inlineData"&&(y!==null||y!==void 0)&&c.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class sC{}class aC{}class rW{}class iW{}class oW{}class sW{}class lC{}class uC{}class cC{}class aW{}class Im{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Im;let i;const o=e;return n?i=qH(o):i=GH(o),Object.assign(r,i),r}}class dC{}class fC{}class hC{}class pC{}class lW{}class uW{}class cW{}class mE{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new mE,o=QH(e);return Object.assign(r,o),r}}class dW{}class fW{}class hW{}class mC{}class pW{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class mW{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class gE{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new gE,o=UL(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ye(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function BL(t,e){const n=Ye(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function zL(t){return Array.isArray(t)?t.map(e=>km(e)):[km(t)]}function km(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function GL(t){const e=km(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function qL(t){const e=km(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function gC(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function HL(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>gC(e)):[gC(t)]}function _b(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function yC(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function vC(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function vn(t){if(t==null)throw new Error("ContentUnion is required");return _b(t)?t:{role:"user",parts:HL(t)}}function yE(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=vn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=vn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>vn(n)):[vn(e)]}function xr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(yC(t)||vC(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[vn(t)]}const e=[],n=[],r=_b(t[0]);for(const i of t){const o=_b(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(yC(i)||vC(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:HL(n)}),e}function gW(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Mo).includes(n[0].toUpperCase())?n[0].toUpperCase():Mo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Mo).includes(r.toUpperCase())?r.toUpperCase():Mo.TYPE_UNSPECIFIED})}}function xl(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&gW(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(Mo).includes(a.toUpperCase())?a.toUpperCase():Mo.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=xl(a);else if(r.includes(s)){const l=[];for(const u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(xl(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,c]of Object.entries(a))l[u]=xl(c);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function vE(t){return xl(t)}function xE(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function bE(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Tu(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=xl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=xl(e.response));return t}function Su(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function yW(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ao(t,e){if(typeof e!="string")throw new Error("name must be a string");return yW(t,e,"cachedContents")}function WL(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function fs(t){return pE(t)}function vW(t){return t!=null&&typeof t=="object"&&"name"in t}function xW(t){return t!=null&&typeof t=="object"&&"video"in t}function bW(t){return t!=null&&typeof t=="object"&&"uri"in t}function KL(t){var e;let n;if(vW(t)&&(n=t.name),!(bW(t)&&(n=t.uri,n===void 0))&&!(xW(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function YL(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function JL(t){for(const e of["models","tunedModels","publisherModels"])if(wW(t,e))return t[e];return[]}function wW(t,e){return t!==null&&typeof t=="object"&&e in t}function _W(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function EW(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=_W(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function XL(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function TW(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function QL(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Au(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function ZL(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SW(t){const e={},n=p(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>oK(s))),g(e,["inlinedResponses"],o)}const i=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["inlinedEmbedContentResponses"],o)}return e}function AW(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function IW(t){const e={},n=p(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Cp(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&g(e,["state"],ZL(i));const o=p(t,["metadata","createTime"]);o!=null&&g(e,["createTime"],o);const s=p(t,["metadata","endTime"]);s!=null&&g(e,["endTime"],s);const a=p(t,["metadata","updateTime"]);a!=null&&g(e,["updateTime"],a);const l=p(t,["metadata","model"]);l!=null&&g(e,["model"],l);const u=p(t,["metadata","output"]);return u!=null&&g(e,["dest"],SW(QL(u))),e}function Eb(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["state"]);i!=null&&g(e,["state"],ZL(i));const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["createTime"]);s!=null&&g(e,["createTime"],s);const a=p(t,["startTime"]);a!=null&&g(e,["startTime"],a);const l=p(t,["endTime"]);l!=null&&g(e,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&g(e,["updateTime"],u);const c=p(t,["model"]);c!=null&&g(e,["model"],c);const f=p(t,["inputConfig"]);f!=null&&g(e,["src"],kW(f));const h=p(t,["outputConfig"]);h!=null&&g(e,["dest"],AW(QL(h)));const y=p(t,["completionStats"]);return y!=null&&g(e,["completionStats"],y),e}function kW(t){const e={},n=p(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function CW(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&g(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>iK(t,s))),g(n,["requests","requests"],o)}return n}function PW(t){const e={},n=p(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function NW(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function RW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Au(t,r)),n}function OW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Au(t,r)),n}function MW(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],DW(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const s=p(t,["avgLogprobs"]);s!=null&&g(e,["avgLogprobs"],s);const a=p(t,["groundingMetadata"]);a!=null&&g(e,["groundingMetadata"],a);const l=p(t,["index"]);l!=null&&g(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const c=p(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function DW(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function e$(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>fK(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function jW(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function LW(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&g(e,["outputConfig"],IW(TW(i))),n}function xC(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["src"]);i!=null&&g(n,["batch","inputConfig"],CW(t,XL(t,i)));const o=p(e,["config"]);return o!=null&&jW(o,n),n}function $W(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],Ye(t,r));const i=p(e,["src"]);i!=null&&g(n,["inputConfig"],PW(XL(t,i)));const o=p(e,["config"]);return o!=null&&LW(o,n),n}function VW(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function FW(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["src"]);i!=null&&g(n,["batch","inputConfig"],WW(t,i));const o=p(e,["config"]);return o!=null&&VW(o,n),n}function UW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Au(t,r)),n}function BW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Au(t,r)),n}function zW(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);return o!=null&&g(e,["error"],o),e}function GW(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);return o!=null&&g(e,["error"],o),e}function qW(t,e){const n={},r=p(e,["contents"]);if(r!=null){let o=yE(t,r);Array.isArray(o)&&(o=o.map(s=>s)),g(n,["requests[]","request","content"],o)}const i=p(e,["config"]);return i!=null&&(g(n,["_self"],HW(i,n)),BH(n,{"requests[].*":"requests[].request.*"})),n}function HW(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function WW(t,e){const n={},r=p(e,["fileName"]);r!=null&&g(n,["file_name"],r);const i=p(e,["inlinedRequests"]);return i!=null&&g(n,["requests"],qW(t,i)),n}function KW(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function YW(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function JW(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function XW(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],e$(vn(i)));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&g(r,["topP"],s);const a=p(e,["topK"]);a!=null&&g(r,["topK"],a);const l=p(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=p(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=p(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const v=p(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const x=p(e,["responseMimeType"]);x!=null&&g(r,["responseMimeType"],x);const _=p(e,["responseSchema"]);_!=null&&g(r,["responseSchema"],vE(_));const w=p(e,["responseJsonSchema"]);if(w!=null&&g(r,["responseJsonSchema"],w),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=p(e,["safetySettings"]);if(n!==void 0&&E!=null){let D=E;Array.isArray(D)&&(D=D.map(q=>hK(q))),g(n,["safetySettings"],D)}const N=p(e,["tools"]);if(n!==void 0&&N!=null){let D=Su(N);Array.isArray(D)&&(D=D.map(q=>mK(Tu(q)))),g(n,["tools"],D)}const T=p(e,["toolConfig"]);if(n!==void 0&&T!=null&&g(n,["toolConfig"],pK(T)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=p(e,["cachedContent"]);n!==void 0&&C!=null&&g(n,["cachedContent"],ao(t,C));const A=p(e,["responseModalities"]);A!=null&&g(r,["responseModalities"],A);const I=p(e,["mediaResolution"]);I!=null&&g(r,["mediaResolution"],I);const k=p(e,["speechConfig"]);if(k!=null&&g(r,["speechConfig"],xE(k)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=p(e,["thinkingConfig"]);P!=null&&g(r,["thinkingConfig"],P);const R=p(e,["imageConfig"]);R!=null&&g(r,["imageConfig"],rK(R));const O=p(e,["enableEnhancedCivicAnswers"]);if(O!=null&&g(r,["enableEnhancedCivicAnswers"],O),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function QW(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>MW(u))),g(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const s=p(t,["responseId"]);s!=null&&g(e,["responseId"],s);const a=p(t,["usageMetadata"]);return a!=null&&g(e,["usageMetadata"],a),e}function ZW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Au(t,r)),n}function eK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Au(t,r)),n}function tK(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function nK(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function rK(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function iK(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["request","model"],Ye(t,r));const i=p(e,["contents"]);if(i!=null){let a=xr(i);Array.isArray(a)&&(a=a.map(l=>e$(l))),g(n,["request","contents"],a)}const o=p(e,["metadata"]);o!=null&&g(n,["metadata"],o);const s=p(e,["config"]);return s!=null&&g(n,["request","generationConfig"],XW(t,s,p(n,["request"],{}))),n}function oK(t){const e={},n=p(t,["response"]);n!=null&&g(e,["response"],QW(n));const r=p(t,["error"]);return r!=null&&g(e,["error"],r),e}function sK(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function aK(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),n}function lK(t){const e={},n=p(t,["config"]);return n!=null&&sK(n,e),e}function uK(t){const e={},n=p(t,["config"]);return n!=null&&aK(n,e),e}function cK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Cp(s))),g(e,["batchJobs"],o)}return e}function dK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Eb(s))),g(e,["batchJobs"],o)}return e}function fK(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],KW(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],YW(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],NW(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["thought"]);c!=null&&g(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function hK(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function pK(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],JW(r)),e}function mK(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),g(e,["functionDeclarations"],c)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],tK(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],nK(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Qi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Qi||(Qi={}));class _a{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gK extends so{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _a(Qi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=xC(this.apiClient,e),r=n._url,i=pe("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(const c of l){const f=Object.assign({},c);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const y=f.request;y.systemInstruction=h,f.request=y}u.push(f)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=$W(this.apiClient,e);return a=pe("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Eb(c))}else{const u=xC(this.apiClient,e);return a=pe("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Cp(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=FW(this.apiClient,e);return o=pe("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Cp(l))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=eK(this.apiClient,e);return a=pe("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Eb(c))}else{const u=ZW(this.apiClient,e);return a=pe("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Cp(c))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=OW(this.apiClient,e);s=pe("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=RW(this.apiClient,e);s=pe("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=uK(e);return a=pe("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=dK(c),h=new mC;return Object.assign(h,f),h})}else{const u=lK(e);return a=pe("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=cK(c),h=new mC;return Object.assign(h,f),h})}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=BW(this.apiClient,e);return a=pe("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>GW(c))}else{const u=UW(this.apiClient,e);return a=pe("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>zW(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yK(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function bC(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>FK(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function vK(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const s=p(t,["contents"]);if(e!==void 0&&s!=null){let c=xr(s);Array.isArray(c)&&(c=c.map(f=>bC(f))),g(e,["contents"],c)}const a=p(t,["systemInstruction"]);e!==void 0&&a!=null&&g(e,["systemInstruction"],bC(vn(a)));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>BK(f))),g(e,["tools"],c)}const u=p(t,["toolConfig"]);if(e!==void 0&&u!=null&&g(e,["toolConfig"],UK(u)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function xK(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const s=p(t,["contents"]);if(e!==void 0&&s!=null){let f=xr(s);Array.isArray(f)&&(f=f.map(h=>h)),g(e,["contents"],f)}const a=p(t,["systemInstruction"]);e!==void 0&&a!=null&&g(e,["systemInstruction"],vn(a));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>zK(h))),g(e,["tools"],f)}const u=p(t,["toolConfig"]);e!==void 0&&u!=null&&g(e,["toolConfig"],u);const c=p(t,["kmsKeyName"]);return e!==void 0&&c!=null&&g(e,["encryption_spec","kmsKeyName"],c),n}function bK(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],BL(t,r));const i=p(e,["config"]);return i!=null&&vK(i,n),n}function wK(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],BL(t,r));const i=p(e,["config"]);return i!=null&&xK(i,n),n}function _K(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],ao(t,r)),n}function EK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],ao(t,r)),n}function TK(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function SK(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function AK(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function IK(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function kK(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function CK(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&g(e,["response"],s);const a=p(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function PK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],ao(t,r)),n}function NK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],ao(t,r)),n}function RK(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function OK(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function MK(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function DK(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function jK(t){const e={},n=p(t,["config"]);return n!=null&&MK(n,e),e}function LK(t){const e={},n=p(t,["config"]);return n!=null&&DK(n,e),e}function $K(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["cachedContents"],o)}return e}function VK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["cachedContents"],o)}return e}function FK(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],AK(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],IK(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],yK(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["thought"]);c!=null&&g(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function UK(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],kK(r)),e}function BK(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),g(e,["functionDeclarations"],c)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],RK(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],OK(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function zK(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=p(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=p(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>CK(h))),g(e,["functionDeclarations"],f)}const a=p(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=p(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function GK(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function qK(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function HK(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],ao(t,r));const i=p(e,["config"]);return i!=null&&GK(i,n),n}function WK(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],ao(t,r));const i=p(e,["config"]);return i!=null&&qK(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KK extends so{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _a(Qi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=wK(this.apiClient,e);return a=pe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=bK(this.apiClient,e);return a=pe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=NK(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=PK(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=EK(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=SK(c),h=new hC;return Object.assign(h,f),h})}else{const u=_K(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=TK(c),h=new hC;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=WK(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=HK(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=LK(e);return a=pe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=VK(c),h=new pC;return Object.assign(h,f),h})}else{const u=jK(e);return a=pe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=$K(c),h=new pC;return Object.assign(h,f),h})}}}function Cm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function wC(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Re(t){return this instanceof Re?(this.v=t,this):new Re(t)}function zr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(v){return Promise.resolve(v).then(y,f)}}function a(y,v){r[y]&&(i[y]=function(b){return new Promise(function(x,_){o.push([y,b,x,_])>1||l(y,b)})},v&&(i[y]=v(i[y])))}function l(y,v){try{u(r[y](v))}catch(b){h(o[0][3],b)}}function u(y){y.value instanceof Re?Promise.resolve(y.value.v).then(c,f):h(o[0][2],y)}function c(y){l("next",y)}function f(y){l("throw",y)}function h(y,v){y(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Gr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof wC=="function"?wC(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YK(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:t$(n)}function t$(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function JK(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function _C(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!t$(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class XK{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new QK(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class QK{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),JK(o)}async sendMessage(e){var n;await this.sendPromise;const r=vn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const l=await i,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,c=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];c!=null&&(h=(a=c.slice(f))!==null&&a!==void 0?a:[]);const y=u?[u]:[];this.recordHistory(r,y,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=vn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?_C(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return zr(this,arguments,function*(){var i,o,s,a,l,u;const c=[];try{for(var f=!0,h=Gr(e),y;y=yield Re(h.next()),i=y.done,!i;f=!0){a=y.value,f=!1;const v=a;if(YK(v)){const b=(u=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;b!==void 0&&c.push(b)}yield yield Re(v)}}catch(v){o={error:v}}finally{try{!f&&!i&&(s=h.return)&&(yield Re(s.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(..._C(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dd extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Dd.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZK(t){const e={},n=p(t,["file"]);return n!=null&&g(e,["file"],n),e}function eY(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function tY(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],KL(n)),e}function nY(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function rY(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],KL(n)),e}function iY(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function oY(t){const e={},n=p(t,["config"]);return n!=null&&iY(n,e),e}function sY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aY extends so{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _a(Qi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=oY(e);return o=pe("files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=sY(l),c=new dW;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=ZK(e);return o=pe("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=eY(l),c=new fW;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=rY(e);return o=pe("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=tY(e);return o=pe("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=nY(l),c=new hW;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pp(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function lY(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>TY(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function uY(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function cY(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function dY(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&g(e,["response"],s);const a=p(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function fY(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const s=p(t,["enableAffectiveDialog"]);s!=null&&g(e,["enableAffectiveDialog"],s);const a=p(t,["frequencyPenalty"]);a!=null&&g(e,["frequencyPenalty"],a);const l=p(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const c=p(t,["mediaResolution"]);c!=null&&g(e,["mediaResolution"],c);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const y=p(t,["responseMimeType"]);y!=null&&g(e,["responseMimeType"],y);const v=p(t,["responseModalities"]);v!=null&&g(e,["responseModalities"],v);const b=p(t,["responseSchema"]);b!=null&&g(e,["responseSchema"],b);const x=p(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const _=p(t,["seed"]);_!=null&&g(e,["seed"],_);const w=p(t,["speechConfig"]);w!=null&&g(e,["speechConfig"],w);const E=p(t,["stopSequences"]);E!=null&&g(e,["stopSequences"],E);const N=p(t,["temperature"]);N!=null&&g(e,["temperature"],N);const T=p(t,["thinkingConfig"]);T!=null&&g(e,["thinkingConfig"],T);const C=p(t,["topK"]);C!=null&&g(e,["topK"],C);const A=p(t,["topP"]);if(A!=null&&g(e,["topP"],A),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function hY(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function pY(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function mY(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=p(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],bE(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=p(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],lY(vn(v)));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let C=Su(b);Array.isArray(C)&&(C=C.map(A=>AY(Tu(A)))),g(e,["setup","tools"],C)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],SY(x));const _=p(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","inputAudioTranscription"],_);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","outputAudioTranscription"],w);const E=p(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&g(e,["setup","realtimeInputConfig"],E);const N=p(t,["contextWindowCompression"]);e!==void 0&&N!=null&&g(e,["setup","contextWindowCompression"],N);const T=p(t,["proactivity"]);if(e!==void 0&&T!=null&&g(e,["setup","proactivity"],T),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function gY(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],fY(r));const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=p(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],bE(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=p(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],vn(v));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let A=Su(b);Array.isArray(A)&&(A=A.map(I=>IY(Tu(I)))),g(e,["setup","tools"],A)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],x);const _=p(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","inputAudioTranscription"],_);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","outputAudioTranscription"],w);const E=p(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&g(e,["setup","realtimeInputConfig"],E);const N=p(t,["contextWindowCompression"]);e!==void 0&&N!=null&&g(e,["setup","contextWindowCompression"],N);const T=p(t,["proactivity"]);e!==void 0&&T!=null&&g(e,["setup","proactivity"],T);const C=p(t,["explicitVadSignal"]);return e!==void 0&&C!=null&&g(e,["setup","explicitVadSignal"],C),n}function yY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Ye(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],mY(i,n)),n}function vY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Ye(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],gY(i,n)),n}function xY(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function bY(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["weightedPrompts"],r)}return e}function wY(t){const e={},n=p(t,["media"]);if(n!=null){let u=zL(n);Array.isArray(u)&&(u=u.map(c=>Pp(c))),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],Pp(qL(r)));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&g(e,["video"],Pp(GL(o)));const s=p(t,["text"]);s!=null&&g(e,["text"],s);const a=p(t,["activityStart"]);a!=null&&g(e,["activityStart"],a);const l=p(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function _Y(t){const e={},n=p(t,["media"]);if(n!=null){let u=zL(n);Array.isArray(u)&&(u=u.map(c=>c)),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],qL(r));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&g(e,["video"],GL(o));const s=p(t,["text"]);s!=null&&g(e,["text"],s);const a=p(t,["activityStart"]);a!=null&&g(e,["activityStart"],a);const l=p(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function EY(t){const e={},n=p(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=p(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const i=p(t,["toolCall"]);i!=null&&g(e,["toolCall"],i);const o=p(t,["toolCallCancellation"]);o!=null&&g(e,["toolCallCancellation"],o);const s=p(t,["usageMetadata"]);s!=null&&g(e,["usageMetadata"],kY(s));const a=p(t,["goAway"]);a!=null&&g(e,["goAway"],a);const l=p(t,["sessionResumptionUpdate"]);l!=null&&g(e,["sessionResumptionUpdate"],l);const u=p(t,["voiceActivityDetectionSignal"]);u!=null&&g(e,["voiceActivityDetectionSignal"],u);const c=p(t,["voiceActivity"]);return c!=null&&g(e,["voiceActivity"],CY(c)),e}function TY(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],uY(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],cY(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],Pp(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["thought"]);c!=null&&g(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function SY(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function AY(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),g(e,["functionDeclarations"],c)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],hY(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],pY(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function IY(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=p(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=p(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>dY(h))),g(e,["functionDeclarations"],f)}const a=p(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=p(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function kY(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&g(e,["toolUsePromptTokenCount"],o);const s=p(t,["thoughtsTokenCount"]);s!=null&&g(e,["thoughtsTokenCount"],s);const a=p(t,["totalTokenCount"]);a!=null&&g(e,["totalTokenCount"],a);const l=p(t,["promptTokensDetails"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["promptTokensDetails"],y)}const u=p(t,["cacheTokensDetails"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["cacheTokensDetails"],y)}const c=p(t,["candidatesTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["responseTokensDetails"],y)}const f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["toolUsePromptTokensDetails"],y)}const h=p(t,["trafficType"]);return h!=null&&g(e,["trafficType"],h),e}function CY(t){const e={},n=p(t,["type"]);return n!=null&&g(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PY(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function NY(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],RY(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const s=p(t,["avgLogprobs"]);s!=null&&g(e,["avgLogprobs"],s);const a=p(t,["groundingMetadata"]);a!=null&&g(e,["groundingMetadata"],a);const l=p(t,["index"]);l!=null&&g(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const c=p(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function RY(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function OY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["contents"]);if(i!=null){let o=xr(i);Array.isArray(o)&&(o=o.map(s=>s)),g(n,["contents"],o)}return n}function MY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["tokensInfo"],i)}return e}function DY(t){const e={},n=p(t,["values"]);n!=null&&g(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&g(e,["statistics"],jY(r)),e}function jY(t){const e={},n=p(t,["truncated"]);n!=null&&g(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&g(e,["tokenCount"],r),e}function v0(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>qJ(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function LY(t){const e={},n=p(t,["controlType"]);n!=null&&g(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&g(e,["computeControl"],r),e}function $Y(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function VY(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],vn(r));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>o$(a))),g(e,["tools"],s)}const o=p(t,["generationConfig"]);return e!==void 0&&o!=null&&g(e,["generationConfig"],PJ(o)),n}function FY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["contents"]);if(i!=null){let s=xr(i);Array.isArray(s)&&(s=s.map(a=>v0(a))),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&$Y(o),n}function UY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["contents"]);if(i!=null){let s=xr(i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&VY(o,n),n}function BY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&g(e,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&g(e,["cachedContentTokenCount"],i),e}function zY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&g(e,["totalTokens"],r),e}function GY(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Ye(t,r)),n}function qY(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Ye(t,r)),n}function HY(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function WY(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function KY(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const a=p(t,["guidanceScale"]);e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const y=p(t,["language"]);e!==void 0&&y!=null&&g(e,["parameters","language"],y);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const b=p(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","compressionQuality"],b);const x=p(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const _=p(t,["labels"]);e!==void 0&&_!=null&&g(e,["labels"],_);const w=p(t,["editMode"]);e!==void 0&&w!=null&&g(e,["parameters","editMode"],w);const E=p(t,["baseSteps"]);return e!==void 0&&E!=null&&g(e,["parameters","editConfig","baseSteps"],E),n}function YY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>XJ(l))),g(n,["instances[0]","referenceImages"],a)}const s=p(e,["config"]);return s!=null&&KY(s,n),n}function JY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>x0(o))),g(e,["generatedImages"],i)}return e}function XY(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function QY(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["instances[]","title"],i);const o=p(t,["outputDimensionality"]);e!==void 0&&o!=null&&g(e,["parameters","outputDimensionality"],o);const s=p(t,["mimeType"]);e!==void 0&&s!=null&&g(e,["instances[]","mimeType"],s);const a=p(t,["autoTruncate"]);return e!==void 0&&a!=null&&g(e,["parameters","autoTruncate"],a),n}function ZY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["contents"]);if(i!=null){let a=yE(t,i);Array.isArray(a)&&(a=a.map(l=>l)),g(n,["requests[]","content"],a)}const o=p(e,["config"]);o!=null&&XY(o,n);const s=p(e,["model"]);return s!==void 0&&g(n,["requests[]","model"],Ye(t,s)),n}function eJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["contents"]);if(i!=null){let s=yE(t,i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["instances[]","content"],s)}const o=p(e,["config"]);return o!=null&&QY(o,n),n}function tJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function nJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>DY(s))),g(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function rJ(t){const e={},n=p(t,["endpoint"]);n!=null&&g(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&g(e,["deployedModelId"],r),e}function iJ(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function oJ(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sJ(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function aJ(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&g(e,["response"],s);const a=p(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function lJ(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],v0(vn(i)));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&g(r,["topP"],s);const a=p(e,["topK"]);a!=null&&g(r,["topK"],a);const l=p(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=p(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=p(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const v=p(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const x=p(e,["responseMimeType"]);x!=null&&g(r,["responseMimeType"],x);const _=p(e,["responseSchema"]);_!=null&&g(r,["responseSchema"],vE(_));const w=p(e,["responseJsonSchema"]);if(w!=null&&g(r,["responseJsonSchema"],w),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=p(e,["safetySettings"]);if(n!==void 0&&E!=null){let D=E;Array.isArray(D)&&(D=D.map(q=>QJ(q))),g(n,["safetySettings"],D)}const N=p(e,["tools"]);if(n!==void 0&&N!=null){let D=Su(N);Array.isArray(D)&&(D=D.map(q=>oX(Tu(q)))),g(n,["tools"],D)}const T=p(e,["toolConfig"]);if(n!==void 0&&T!=null&&g(n,["toolConfig"],iX(T)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=p(e,["cachedContent"]);n!==void 0&&C!=null&&g(n,["cachedContent"],ao(t,C));const A=p(e,["responseModalities"]);A!=null&&g(r,["responseModalities"],A);const I=p(e,["mediaResolution"]);I!=null&&g(r,["mediaResolution"],I);const k=p(e,["speechConfig"]);if(k!=null&&g(r,["speechConfig"],xE(k)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=p(e,["thinkingConfig"]);P!=null&&g(r,["thinkingConfig"],P);const R=p(e,["imageConfig"]);R!=null&&g(r,["imageConfig"],DJ(R));const O=p(e,["enableEnhancedCivicAnswers"]);if(O!=null&&g(r,["enableEnhancedCivicAnswers"],O),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function uJ(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],vn(i));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&g(r,["topP"],s);const a=p(e,["topK"]);a!=null&&g(r,["topK"],a);const l=p(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=p(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=p(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const v=p(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const x=p(e,["responseMimeType"]);x!=null&&g(r,["responseMimeType"],x);const _=p(e,["responseSchema"]);_!=null&&g(r,["responseSchema"],vE(_));const w=p(e,["responseJsonSchema"]);w!=null&&g(r,["responseJsonSchema"],w);const E=p(e,["routingConfig"]);E!=null&&g(r,["routingConfig"],E);const N=p(e,["modelSelectionConfig"]);N!=null&&g(r,["modelConfig"],N);const T=p(e,["safetySettings"]);if(n!==void 0&&T!=null){let F=T;Array.isArray(F)&&(F=F.map(L=>L)),g(n,["safetySettings"],F)}const C=p(e,["tools"]);if(n!==void 0&&C!=null){let F=Su(C);Array.isArray(F)&&(F=F.map(L=>o$(Tu(L)))),g(n,["tools"],F)}const A=p(e,["toolConfig"]);n!==void 0&&A!=null&&g(n,["toolConfig"],A);const I=p(e,["labels"]);n!==void 0&&I!=null&&g(n,["labels"],I);const k=p(e,["cachedContent"]);n!==void 0&&k!=null&&g(n,["cachedContent"],ao(t,k));const P=p(e,["responseModalities"]);P!=null&&g(r,["responseModalities"],P);const R=p(e,["mediaResolution"]);R!=null&&g(r,["mediaResolution"],R);const O=p(e,["speechConfig"]);O!=null&&g(r,["speechConfig"],xE(O));const D=p(e,["audioTimestamp"]);D!=null&&g(r,["audioTimestamp"],D);const q=p(e,["thinkingConfig"]);q!=null&&g(r,["thinkingConfig"],q);const V=p(e,["imageConfig"]);if(V!=null&&g(r,["imageConfig"],jJ(V)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const j=p(e,["modelArmorConfig"]);return n!==void 0&&j!=null&&g(n,["modelArmorConfig"],j),r}function EC(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["contents"]);if(i!=null){let s=xr(i);Array.isArray(s)&&(s=s.map(a=>v0(a))),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&g(n,["generationConfig"],lJ(t,o,n)),n}function TC(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["contents"]);if(i!=null){let s=xr(i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&g(n,["generationConfig"],uJ(t,o,n)),n}function SC(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>NY(u))),g(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const s=p(t,["responseId"]);s!=null&&g(e,["responseId"],s);const a=p(t,["usageMetadata"]);return a!=null&&g(e,["usageMetadata"],a),e}function AC(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),g(e,["candidates"],u)}const i=p(t,["createTime"]);i!=null&&g(e,["createTime"],i);const o=p(t,["modelVersion"]);o!=null&&g(e,["modelVersion"],o);const s=p(t,["promptFeedback"]);s!=null&&g(e,["promptFeedback"],s);const a=p(t,["responseId"]);a!=null&&g(e,["responseId"],a);const l=p(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function cJ(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const o=p(t,["guidanceScale"]);if(e!==void 0&&o!=null&&g(e,["parameters","guidanceScale"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&g(e,["parameters","safetySetting"],s);const a=p(t,["personGeneration"]);e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a);const l=p(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&g(e,["parameters","includeSafetyAttributes"],l);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const c=p(t,["language"]);e!==void 0&&c!=null&&g(e,["parameters","language"],c);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","mimeType"],f);const h=p(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&g(e,["parameters","outputOptions","compressionQuality"],h),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=p(t,["imageSize"]);if(e!==void 0&&y!=null&&g(e,["parameters","sampleImageSize"],y),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function dJ(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const a=p(t,["guidanceScale"]);e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const y=p(t,["language"]);e!==void 0&&y!=null&&g(e,["parameters","language"],y);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const b=p(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","compressionQuality"],b);const x=p(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const _=p(t,["labels"]);e!==void 0&&_!=null&&g(e,["labels"],_);const w=p(t,["imageSize"]);e!==void 0&&w!=null&&g(e,["parameters","sampleImageSize"],w);const E=p(t,["enhancePrompt"]);return e!==void 0&&E!=null&&g(e,["parameters","enhancePrompt"],E),n}function fJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&cJ(o,n),n}function hJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&dJ(o,n),n}function pJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>AJ(s))),g(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],r$(i)),e}function mJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>x0(s))),g(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],i$(i)),e}function gJ(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&g(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const s=p(t,["resolution"]);e!==void 0&&s!=null&&g(e,["parameters","resolution"],s);const a=p(t,["personGeneration"]);if(e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=p(t,["negativePrompt"]);e!==void 0&&l!=null&&g(e,["parameters","negativePrompt"],l);const u=p(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&g(e,["parameters","enhancePrompt"],u),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=p(t,["lastFrame"]);e!==void 0&&c!=null&&g(e,["instances[0]","lastFrame"],b0(c));const f=p(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>vX(y))),g(e,["instances[0]","referenceImages"],h)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function yJ(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const o=p(t,["fps"]);e!==void 0&&o!=null&&g(e,["parameters","fps"],o);const s=p(t,["durationSeconds"]);e!==void 0&&s!=null&&g(e,["parameters","durationSeconds"],s);const a=p(t,["seed"]);e!==void 0&&a!=null&&g(e,["parameters","seed"],a);const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const u=p(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const f=p(t,["pubsubTopic"]);e!==void 0&&f!=null&&g(e,["parameters","pubsubTopic"],f);const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","negativePrompt"],h);const y=p(t,["enhancePrompt"]);e!==void 0&&y!=null&&g(e,["parameters","enhancePrompt"],y);const v=p(t,["generateAudio"]);e!==void 0&&v!=null&&g(e,["parameters","generateAudio"],v);const b=p(t,["lastFrame"]);e!==void 0&&b!=null&&g(e,["instances[0]","lastFrame"],Jr(b));const x=p(t,["referenceImages"]);if(e!==void 0&&x!=null){let E=x;Array.isArray(E)&&(E=E.map(N=>xX(N))),g(e,["instances[0]","referenceImages"],E)}const _=p(t,["mask"]);e!==void 0&&_!=null&&g(e,["instances[0]","mask"],yX(_));const w=p(t,["compressionQuality"]);return e!==void 0&&w!=null&&g(e,["parameters","compressionQuality"],w),n}function vJ(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response","generateVideoResponse"]);return s!=null&&g(e,["response"],_J(s)),e}function xJ(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],EJ(s)),e}function bJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&g(n,["instances[0]","image"],b0(o));const s=p(e,["video"]);s!=null&&g(n,["instances[0]","video"],s$(s));const a=p(e,["source"]);a!=null&&TJ(a,n);const l=p(e,["config"]);return l!=null&&gJ(l,n),n}function wJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&g(n,["instances[0]","image"],Jr(o));const s=p(e,["video"]);s!=null&&g(n,["instances[0]","video"],a$(s));const a=p(e,["source"]);a!=null&&SJ(a,n);const l=p(e,["config"]);return l!=null&&yJ(l,n),n}function _J(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>kJ(s))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function EJ(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>CJ(s))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function TJ(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],b0(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],s$(o)),n}function SJ(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Jr(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],a$(o)),n}function AJ(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],LJ(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&g(e,["safetyAttributes"],r$(i)),e}function x0(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],n$(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&g(e,["safetyAttributes"],i$(i));const o=p(t,["prompt"]);return o!=null&&g(e,["enhancedPrompt"],o),e}function IJ(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["mask"],n$(n));const r=p(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["labels"],i)}return e}function kJ(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],mX(n)),e}function CJ(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],gX(n)),e}function PJ(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const s=p(t,["enableAffectiveDialog"]);s!=null&&g(e,["enableAffectiveDialog"],s);const a=p(t,["frequencyPenalty"]);a!=null&&g(e,["frequencyPenalty"],a);const l=p(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const c=p(t,["mediaResolution"]);c!=null&&g(e,["mediaResolution"],c);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const y=p(t,["responseMimeType"]);y!=null&&g(e,["responseMimeType"],y);const v=p(t,["responseModalities"]);v!=null&&g(e,["responseModalities"],v);const b=p(t,["responseSchema"]);b!=null&&g(e,["responseSchema"],b);const x=p(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const _=p(t,["seed"]);_!=null&&g(e,["seed"],_);const w=p(t,["speechConfig"]);w!=null&&g(e,["speechConfig"],w);const E=p(t,["stopSequences"]);E!=null&&g(e,["stopSequences"],E);const N=p(t,["temperature"]);N!=null&&g(e,["temperature"],N);const T=p(t,["thinkingConfig"]);T!=null&&g(e,["thinkingConfig"],T);const C=p(t,["topK"]);C!=null&&g(e,["topK"],C);const A=p(t,["topP"]);if(A!=null&&g(e,["topP"],A),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function NJ(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Ye(t,r)),n}function RJ(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Ye(t,r)),n}function OJ(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function MJ(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function DJ(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function jJ(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);r!=null&&g(e,["imageSize"],r);const i=p(t,["personGeneration"]);i!=null&&g(e,["personGeneration"],i);const o=p(t,["outputMimeType"]);o!=null&&g(e,["imageOutputOptions","mimeType"],o);const s=p(t,["outputCompressionQuality"]);return s!=null&&g(e,["imageOutputOptions","compressionQuality"],s),e}function LJ(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],fs(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function n$(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],fs(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function b0(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],fs(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Jr(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],fs(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function $J(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const s=p(e,["filter"]);n!==void 0&&s!=null&&g(n,["_query","filter"],s);const a=p(e,["queryBase"]);return n!==void 0&&a!=null&&g(n,["_url","models_url"],YL(t,a)),r}function VJ(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const s=p(e,["filter"]);n!==void 0&&s!=null&&g(n,["_query","filter"],s);const a=p(e,["queryBase"]);return n!==void 0&&a!=null&&g(n,["_url","models_url"],YL(t,a)),r}function FJ(t,e){const n={},r=p(e,["config"]);return r!=null&&$J(t,r,n),n}function UJ(t,e){const n={},r=p(e,["config"]);return r!=null&&VJ(t,r,n),n}function BJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=JL(i);Array.isArray(o)&&(o=o.map(s=>Tb(s))),g(e,["models"],o)}return e}function zJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=JL(i);Array.isArray(o)&&(o=o.map(s=>Sb(s))),g(e,["models"],o)}return e}function GJ(t){const e={},n=p(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&g(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&g(e,["dilation"],i),e}function Tb(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const o=p(t,["version"]);o!=null&&g(e,["version"],o);const s=p(t,["_self"]);s!=null&&g(e,["tunedModelInfo"],sX(s));const a=p(t,["inputTokenLimit"]);a!=null&&g(e,["inputTokenLimit"],a);const l=p(t,["outputTokenLimit"]);l!=null&&g(e,["outputTokenLimit"],l);const u=p(t,["supportedGenerationMethods"]);u!=null&&g(e,["supportedActions"],u);const c=p(t,["temperature"]);c!=null&&g(e,["temperature"],c);const f=p(t,["maxTemperature"]);f!=null&&g(e,["maxTemperature"],f);const h=p(t,["topP"]);h!=null&&g(e,["topP"],h);const y=p(t,["topK"]);y!=null&&g(e,["topK"],y);const v=p(t,["thinking"]);return v!=null&&g(e,["thinking"],v),e}function Sb(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const o=p(t,["versionId"]);o!=null&&g(e,["version"],o);const s=p(t,["deployedModels"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>rJ(h))),g(e,["endpoints"],f)}const a=p(t,["labels"]);a!=null&&g(e,["labels"],a);const l=p(t,["_self"]);l!=null&&g(e,["tunedModelInfo"],aX(l));const u=p(t,["defaultCheckpointId"]);u!=null&&g(e,["defaultCheckpointId"],u);const c=p(t,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>h)),g(e,["checkpoints"],f)}return e}function qJ(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],iJ(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],oJ(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],PY(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["thought"]);c!=null&&g(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function HJ(t){const e={},n=p(t,["productImage"]);return n!=null&&g(e,["image"],Jr(n)),e}function WJ(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&g(e,["parameters","baseSteps"],i);const o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const s=p(t,["seed"]);e!==void 0&&s!=null&&g(e,["parameters","seed"],s);const a=p(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&g(e,["parameters","safetySetting"],a);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const u=p(t,["addWatermark"]);e!==void 0&&u!=null&&g(e,["parameters","addWatermark"],u);const c=p(t,["outputMimeType"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","mimeType"],c);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","compressionQuality"],f);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","enhancePrompt"],h);const y=p(t,["labels"]);return e!==void 0&&y!=null&&g(e,["labels"],y),n}function KJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["source"]);i!=null&&JJ(i,n);const o=p(e,["config"]);return o!=null&&WJ(o,n),n}function YJ(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>x0(i))),g(e,["generatedImages"],r)}return e}function JJ(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["personImage"]);e!==void 0&&i!=null&&g(e,["instances[0]","personImage","image"],Jr(i));const o=p(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>HJ(a))),g(e,["instances[0]","productImages"],s)}return n}function XJ(t){const e={},n=p(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],Jr(n));const r=p(t,["referenceId"]);r!=null&&g(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&g(e,["referenceType"],i);const o=p(t,["maskImageConfig"]);o!=null&&g(e,["maskImageConfig"],GJ(o));const s=p(t,["controlImageConfig"]);s!=null&&g(e,["controlImageConfig"],LY(s));const a=p(t,["styleImageConfig"]);a!=null&&g(e,["styleImageConfig"],a);const l=p(t,["subjectImageConfig"]);return l!=null&&g(e,["subjectImageConfig"],l),e}function r$(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function i$(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function QJ(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function ZJ(t){const e={},n=p(t,["image"]);return n!=null&&g(e,["image"],Jr(n)),e}function eX(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&g(e,["parameters","mode"],r);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&g(e,["parameters","maxPredictions"],i);const o=p(t,["confidenceThreshold"]);e!==void 0&&o!=null&&g(e,["parameters","confidenceThreshold"],o);const s=p(t,["maskDilation"]);e!==void 0&&s!=null&&g(e,["parameters","maskDilation"],s);const a=p(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&g(e,["parameters","binaryColorThreshold"],a);const l=p(t,["labels"]);return e!==void 0&&l!=null&&g(e,["labels"],l),n}function tX(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["source"]);i!=null&&rX(i,n);const o=p(e,["config"]);return o!=null&&eX(o,n),n}function nX(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>IJ(i))),g(e,["generatedMasks"],r)}return e}function rX(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Jr(i));const o=p(t,["scribbleImage"]);return e!==void 0&&o!=null&&g(e,["instances[0]","scribble"],ZJ(o)),n}function iX(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],sJ(r)),e}function oX(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),g(e,["functionDeclarations"],c)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],OJ(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],MJ(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function o$(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=p(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=p(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>aJ(h))),g(e,["functionDeclarations"],f)}const a=p(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=p(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function sX(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function aX(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function lX(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function uX(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function cX(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","name"],Ye(t,r));const i=p(e,["config"]);return i!=null&&lX(i,n),n}function dX(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["config"]);return i!=null&&uX(i,n),n}function fX(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&g(e,["parameters","safetySetting"],i);const o=p(t,["personGeneration"]);e!==void 0&&o!=null&&g(e,["parameters","personGeneration"],o);const s=p(t,["includeRaiReason"]);e!==void 0&&s!=null&&g(e,["parameters","includeRaiReason"],s);const a=p(t,["outputMimeType"]);e!==void 0&&a!=null&&g(e,["parameters","outputOptions","mimeType"],a);const l=p(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&g(e,["parameters","outputOptions","compressionQuality"],l);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=p(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["numberOfImages"]);e!==void 0&&h!=null&&g(e,["parameters","sampleCount"],h);const y=p(t,["mode"]);return e!==void 0&&y!=null&&g(e,["parameters","mode"],y),n}function hX(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["image"]);i!=null&&g(n,["instances[0]","image"],Jr(i));const o=p(e,["upscaleFactor"]);o!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=p(e,["config"]);return s!=null&&fX(s,n),n}function pX(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>x0(o))),g(e,["generatedImages"],i)}return e}function mX(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],fs(r));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function gX(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],fs(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function yX(t){const e={},n=p(t,["image"]);n!=null&&g(e,["_self"],Jr(n));const r=p(t,["maskMode"]);return r!=null&&g(e,["maskMode"],r),e}function vX(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],b0(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function xX(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],Jr(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function s$(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["encodedVideo"],fs(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["encoding"],i),e}function a$(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["bytesBase64Encoded"],fs(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bX(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function wX(t){const e={},n=p(t,["config"]);return n!=null&&bX(n,e),e}function _X(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function EX(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&_X(r,e),e}function TX(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function SX(t,e){const n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["customMetadata"],o)}const i=p(t,["chunkingConfig"]);return e!==void 0&&i!=null&&g(e,["chunkingConfig"],i),n}function AX(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],kX(s)),e}function IX(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["fileName"]);r!=null&&g(e,["fileName"],r);const i=p(t,["config"]);return i!=null&&SX(i,e),e}function kX(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function CX(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function PX(t){const e={},n=p(t,["config"]);return n!=null&&CX(n,e),e}function NX(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["fileSearchStores"],o)}return e}function l$(t,e){const n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=p(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["customMetadata"],a)}const s=p(t,["chunkingConfig"]);return e!==void 0&&s!=null&&g(e,["chunkingConfig"],s),n}function RX(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["config"]);return r!=null&&l$(r,e),e}function OX(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MX="Content-Type",DX="X-Server-Timeout",jX="User-Agent",Ab="x-goog-api-client",LX="1.38.0",$X=`google-genai-sdk/${LX}`,VX="v1beta1",FX="v1beta";class UX{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const a=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!a?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:VX}else{if(!this.clientOptions.apiKey)throw new Dd({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:FX,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===bb.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&BX(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await IC(i),new wb(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await IC(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return zr(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const a="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield Re(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c,{stream:!0});try{const v=JSON.parse(f);if("error"in v){const b=JSON.parse(JSON.stringify(v.error)),x=b.status,_=b.code,w=`got status: ${x}. ${JSON.stringify(v)}`;if(_>=400&&_<600)throw new Dd({message:w,status:_})}}catch(v){if(v.name==="ApiError")throw v}s+=f;let h=-1,y=0;for(;;){h=-1,y=0;for(const x of l){const _=s.indexOf(x);_!==-1&&(h===-1||_<h)&&(h=_,y=x.length)}if(h===-1)break;const v=s.substring(0,h);s=s.substring(h+y);const b=v.trim();if(b.startsWith(a)){const x=b.substring(a.length).trim();try{const _=new Response(x,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Re(new wb(_))}catch(_){throw new Error(`exception parsing stream chunk ${x}. ${_}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=$X+" "+this.clientOptions.userAgentExtra;return e[jX]=n,e[Ab]=n,e[MX]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(DX,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l={file:i},u=this.getFileName(e),c=pe("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),a=String(s.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),f={};r!=null&&l$(r,f);const h=await this.fetchUploadUrl(u,a,l,c,f,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var a;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function IC(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Dd({message:i,status:n}):new Error(i)}}function BX(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],c=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?a[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zX="mcp_used/unknown";let GX=!1;function u$(t){for(const e of t)if(qX(e)||typeof e=="object"&&"inputSchema"in e)return!0;return GX}function c$(t){var e;const n=(e=t[Ab])!==null&&e!==void 0?e:"";t[Ab]=(n+` ${zX}`).trimStart()}function qX(t){return t!==null&&typeof t=="object"&&t instanceof wE}function HX(t){return zr(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const s=yield Re(n.listTools({cursor:i}));for(const a of s.tools)yield yield Re(a),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class wE{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new wE(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const c of this.mcpClients)try{for(var a=!0,l=(n=void 0,Gr(HX(c))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const f=i;s.push(f);const h=f.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(f){n={error:f}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),EW(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function WX(t,e,n){const r=new mW;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class KX{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=XX(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const c=new Promise(E=>{u=E}),f=e.callbacks,h=function(){u({})},y=this.apiClient,v={onopen:h,onmessage:E=>{WX(y,f.onmessage,E)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(E){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(E){}},b=this.webSocketFactory.create(l,JX(s),v);b.connect(),await c;const w={setup:{model:Ye(this.apiClient,e.model)}};return b.send(JSON.stringify(w)),new YX(b,this.apiClient)}}class YX{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=bY(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=xY(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(nl.PLAY)}pause(){this.sendPlaybackControl(nl.PAUSE)}stop(){this.sendPlaybackControl(nl.STOP)}resetContext(){this.sendPlaybackControl(nl.RESET_CONTEXT)}close(){this.conn.close()}}function JX(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function XX(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QX="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function ZX(t,e,n){const r=new pW;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=EY(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class eQ{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new KX(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&u$(e.config.tools)&&c$(f);const h=iQ(f);if(this.apiClient.isVertexAI()){const k=this.apiClient.getProject(),P=this.apiClient.getLocation(),R=this.apiClient.getApiKey(),O=!!k&&!!P||!!R;this.apiClient.getCustomBaseUrl()&&!O?c=l:(c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c))}else{const k=this.apiClient.getApiKey();let P="BidiGenerateContent",R="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),P="BidiGenerateContentConstrained",R="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${P}?${R}=${k}`}let y=()=>{};const v=new Promise(k=>{y=k}),b=e.callbacks,x=function(){var k;(k=b==null?void 0:b.onopen)===null||k===void 0||k.call(b),y({})},_=this.apiClient,w={onopen:x,onmessage:k=>{ZX(_,b.onmessage,k)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(k){}},E=this.webSocketFactory.create(c,rQ(h),w);E.connect(),await v;let N=Ye(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&N.startsWith("publishers/")){const k=this.apiClient.getProject(),P=this.apiClient.getLocation();k&&P&&(N=`projects/${k}/locations/${P}/`+N)}let T={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Am.AUDIO]}:e.config.responseModalities=[Am.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const C=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],A=[];for(const k of C)if(this.isCallableTool(k)){const P=k;A.push(await P.tool())}else A.push(k);A.length>0&&(e.config.tools=A);const I={model:N,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?T=vY(this.apiClient,I):T=yY(this.apiClient,I),delete T.config,E.send(JSON.stringify(T)),new nQ(E,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const tQ={turnComplete:!0};class nQ{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=xr(n.turns),e.isVertexAI()||(r=r.map(i=>v0(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(QX)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},tQ),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:_Y(e)}:n={realtimeInput:wY(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function rQ(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function iQ(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kC=10;function CC(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(bl(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function bl(t){return"callTool"in t&&typeof t.callTool=="function"}function oQ(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>bl(i)))!==null&&r!==void 0?r:!1}function PC(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(bl(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function NC(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sQ extends so{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!oQ(n)||CC(n.config))return await this.generateContentInternal(l);const u=PC(n);if(u.length>0){const b=u.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let c,f;const h=xr(l.contents),y=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:kC;let v=0;for(;v<y&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const b=c.candidates[0].content,x=[];for(const _ of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(bl(_)){const E=await _.callTool(c.functionCalls);x.push(...E)}v++,f={role:"user",parts:x},l.contents=xr(l.contents),l.contents.push(b),l.contents.push(f),NC(l.config)&&(h.push(b),h.push(f))}return NC(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,s,a;if(this.maybeMoveToResponseJsonSchem(n),CC(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=PC(n);if(l.length>0){const f=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new _a(Qi.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async l=>bl(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&u$(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),c$(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(bl(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:kC;let s=!1,a=0;const l=await this.initAfcToolsMap(e);return function(u,c,f){return zr(this,arguments,function*(){for(var h,y,v,b,x,_;a<o;){s&&(a++,s=!1);const T=yield Re(u.processParamsMaybeAddMcpUsage(f)),C=yield Re(u.generateContentStreamInternal(T)),A=[],I=[];try{for(var w=!0,E=(y=void 0,Gr(C)),N;N=yield Re(E.next()),h=N.done,!h;w=!0){b=N.value,w=!1;const k=b;if(yield yield Re(k),k.candidates&&(!((x=k.candidates[0])===null||x===void 0)&&x.content)){I.push(k.candidates[0].content);for(const P of(_=k.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(a<o&&P.functionCall){if(!P.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(P.functionCall.name)){const R=yield Re(c.get(P.functionCall.name).callTool([P.functionCall]));A.push(...R)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${P.functionCall.name}`)}}}}catch(k){y={error:k}}finally{try{!w&&!h&&(v=E.return)&&(yield Re(v.call(E)))}finally{if(y)throw y.error}}if(A.length>0){s=!0;const k=new dc;k.candidates=[{content:{role:"user",parts:A}}],yield yield Re(k);const P=[];P.push(...I),P.push({role:"user",parts:A});const R=xr(f.contents).concat(P);f.contents=R}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=TC(this.apiClient,e);return a=pe("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=AC(c),h=new dc;return Object.assign(h,f),h})}else{const u=EC(this.apiClient,e);return a=pe("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=SC(c),h=new dc;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=TC(this.apiClient,e);return a=pe("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(f){return zr(this,arguments,function*(){var h,y,v,b;try{for(var x=!0,_=Gr(f),w;w=yield Re(_.next()),h=w.done,!h;x=!0){b=w.value,x=!1;const E=b,N=AC(yield Re(E.json()));N.sdkHttpResponse={headers:E.headers};const T=new dc;Object.assign(T,N),yield yield Re(T)}}catch(E){y={error:E}}finally{try{!x&&!h&&(v=_.return)&&(yield Re(v.call(_)))}finally{if(y)throw y.error}}})})}else{const u=EC(this.apiClient,e);return a=pe("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(f){return zr(this,arguments,function*(){var h,y,v,b;try{for(var x=!0,_=Gr(f),w;w=yield Re(_.next()),h=w.done,!h;x=!0){b=w.value,x=!1;const E=b,N=SC(yield Re(E.json()));N.sdkHttpResponse={headers:E.headers};const T=new dc;Object.assign(T,N),yield yield Re(T)}}catch(E){y={error:E}}finally{try{!x&&!h&&(v=_.return)&&(yield Re(v.call(_)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=eJ(this.apiClient,e);return a=pe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=nJ(c),h=new sC;return Object.assign(h,f),h})}else{const u=ZY(this.apiClient,e);return a=pe("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=tJ(c),h=new sC;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=hJ(this.apiClient,e);return a=pe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=mJ(c),h=new aC;return Object.assign(h,f),h})}else{const u=fJ(this.apiClient,e);return a=pe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=pJ(c),h=new aC;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=YY(this.apiClient,e);return o=pe("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=JY(l),c=new rW;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=hX(this.apiClient,e);return o=pe("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=pX(l),c=new iW;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=KJ(this.apiClient,e);return o=pe("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=YJ(l),c=new oW;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=tX(this.apiClient,e);return o=pe("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=nX(l),c=new sW;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=RJ(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Sb(c))}else{const u=NJ(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Tb(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=UJ(this.apiClient,e);return a=pe("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=zJ(c),h=new lC;return Object.assign(h,f),h})}else{const u=FJ(this.apiClient,e);return a=pe("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=BJ(c),h=new lC;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=dX(this.apiClient,e);return a=pe("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Sb(c))}else{const u=cX(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Tb(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=qY(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=WY(c),h=new uC;return Object.assign(h,f),h})}else{const u=GY(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=HY(c),h=new uC;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=UY(this.apiClient,e);return a=pe("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=zY(c),h=new cC;return Object.assign(h,f),h})}else{const u=FY(this.apiClient,e);return a=pe("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=BY(c),h=new cC;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=OY(this.apiClient,e);return o=pe("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=MY(l),c=new aW;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=wJ(this.apiClient,e);return a=pe("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=xJ(c),h=new Im;return Object.assign(h,f),h})}else{const u=bJ(this.apiClient,e);return a=pe("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const f=vJ(c),h=new Im;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aQ extends so{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=XH(e);return a=pe("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else{const u=JH(e);return a=pe("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=zH(e);return o=pe("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lQ(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function uQ(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>vQ(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function cQ(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&g(n,["expireTime"],i);const o=p(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&g(n,["newSessionExpireTime"],o);const s=p(e,["uses"]);n!==void 0&&s!=null&&g(n,["uses"],s);const a=p(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&g(n,["bidiGenerateContentSetup"],yQ(t,a));const l=p(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&g(n,["fieldMask"],l),r}function dQ(t,e){const n={},r=p(e,["config"]);return r!=null&&g(n,["config"],cQ(t,r,n)),n}function fQ(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function hQ(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function pQ(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function mQ(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function gQ(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=p(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],bE(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=p(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],uQ(vn(v)));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let C=Su(b);Array.isArray(C)&&(C=C.map(A=>bQ(Tu(A)))),g(e,["setup","tools"],C)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],xQ(x));const _=p(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","inputAudioTranscription"],_);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","outputAudioTranscription"],w);const E=p(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&g(e,["setup","realtimeInputConfig"],E);const N=p(t,["contextWindowCompression"]);e!==void 0&&N!=null&&g(e,["setup","contextWindowCompression"],N);const T=p(t,["proactivity"]);if(e!==void 0&&T!=null&&g(e,["setup","proactivity"],T),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function yQ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Ye(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],gQ(i,n)),n}function vQ(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],fQ(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],hQ(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],lQ(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["thought"]);c!=null&&g(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function xQ(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function bQ(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),g(e,["functionDeclarations"],c)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],pQ(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],mQ(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wQ(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function _Q(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=wQ(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class EQ extends so{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=dQ(this.apiClient,e);o=pe("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=_Q(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TQ(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function SQ(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&TQ(r,e),e}function AQ(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function IQ(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function kQ(t){const e={},n=p(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=p(t,["config"]);return r!=null&&IQ(r,e),e}function CQ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PQ extends so{constructor(e){super(),this.apiClient=e,this.list=async n=>new _a(Qi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=AQ(e);return o=pe("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=SQ(e);i=pe("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=kQ(e);return o=pe("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=CQ(l),c=new lW;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NQ extends so{constructor(e,n=new PQ(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new _a(Qi.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=wX(e);return o=pe("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=TX(e);return o=pe("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=EX(e);i=pe("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=PX(e);return o=pe("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=NX(l),c=new uW;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=RX(e);return o=pe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=OX(l),c=new cW;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=IX(e);return o=pe("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=AX(l),c=new mE;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let d$=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return d$=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const RQ=()=>d$();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ib(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const kb=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tr extends Error{}class Dn extends Tr{constructor(e,n,r,i){super(`${Dn.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new w0({message:r,cause:kb(n)});const o=n;return e===400?new h$(e,o,r,i):e===401?new p$(e,o,r,i):e===403?new m$(e,o,r,i):e===404?new g$(e,o,r,i):e===409?new y$(e,o,r,i):e===422?new v$(e,o,r,i):e===429?new x$(e,o,r,i):e>=500?new b$(e,o,r,i):new Dn(e,o,r,i)}}class Cb extends Dn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class w0 extends Dn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class f$ extends w0{constructor({message:e}={}){super({message:e??"Request timed out."})}}class h$ extends Dn{}class p$ extends Dn{}class m$ extends Dn{}class g$ extends Dn{}class y$ extends Dn{}class v$ extends Dn{}class x$ extends Dn{}class b$ extends Dn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OQ=/^[a-z][a-z0-9+.-]*:/i,MQ=t=>OQ.test(t);let Pb=t=>(Pb=Array.isArray,Pb(t));const DQ=Pb;let jQ=DQ;const RC=jQ;function LQ(t){if(!t)return!0;for(const e in t)return!1;return!0}function $Q(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const VQ=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Tr(`${t} must be an integer`);if(e<0)throw new Tr(`${t} must be a positive integer`);return e},FQ=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UQ=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ua="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BQ(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const zQ=()=>{var t,e,n,r,i;const o=BQ();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ua,"X-Stainless-OS":MC(Deno.build.os),"X-Stainless-Arch":OC(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ua,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ua,"X-Stainless-OS":MC((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":OC((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=GQ();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ua,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ua,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function GQ(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}const OC=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",MC=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Fh;const qQ=()=>Fh??(Fh=zQ());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HQ(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function w$(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function WQ(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return w$({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function _$(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function KQ(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YQ=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const E$=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function fv(t,e,n){return E$(),new File(t,e??"unknown_file",n)}function JQ(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const XQ=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const T$=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",QQ=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&T$(t),ZQ=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function eZ(t,e,n){if(E$(),t=await t,QQ(t))return t instanceof File?t:fv([await t.arrayBuffer()],t.name);if(ZQ(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),fv(await Nb(i),e,n)}const r=await Nb(t);if(e||(e=JQ(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return fv(r,e,n)}async function Nb(t){var e,n,r,i,o;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(T$(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(XQ(t))try{for(var a=!0,l=Gr(t),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const c=i;s.push(...await Nb(c))}}catch(c){n={error:c}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${tZ(t)}`)}return s}function tZ(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class S${constructor(e){this._client=e}}S$._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function A$(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const DC=Object.freeze(Object.create(null)),nZ=(t=A$)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],s=n.reduce((c,f,h)=>{var y,v,b;/[?#]/.test(f)&&(i=!0);const x=r[h];let _=(i?encodeURIComponent:t)(""+x);return h!==r.length&&(x==null||typeof x=="object"&&x.toString===((b=Object.getPrototypeOf((v=Object.getPrototypeOf((y=x.hasOwnProperty)!==null&&y!==void 0?y:DC))!==null&&v!==void 0?v:DC))===null||b===void 0?void 0:b.toString))&&(_=x+"",o.push({start:c.length+f.length,length:_.length,error:`Value of type ${Object.prototype.toString.call(x).slice(8,-1)} is not a valid path parameter`})),c+f+(h===r.length?"":_)},""),a=s.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(a))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,f)=>c.start-f.start),o.length>0){let c=0;const f=o.reduce((h,y)=>{const v=" ".repeat(y.start-c),b="^".repeat(y.length);return c=y.start+y.length,h+v+b},"");throw new Tr(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${s}
${f}`)}return s},Uh=nZ(A$);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class I$ extends S${create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=Cm(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new Tr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Tr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Uh`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Uh`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Uh`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:s=this._client.apiVersion}=o,a=Cm(o,["api_version"]);return this._client.get(Uh`/${s}/interactions/${e}`,Object.assign(Object.assign({query:a},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}I$._key=Object.freeze(["interactions"]);class k$ extends I${}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rZ(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Bh;function _E(t){let e;return(Bh??(e=new globalThis.TextEncoder,Bh=e.encode.bind(e)))(t)}let zh;function jC(t){let e;return(zh??(e=new globalThis.TextDecoder,zh=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _0{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?_E(e):e;this.buffer=rZ([this.buffer,n]);const r=[];let i;for(;(i=iZ(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(jC(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=jC(this.buffer.subarray(0,o));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}_0.NEWLINE_CHARS=new Set([`
`,"\r"]);_0.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function iZ(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function oZ(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pm={off:0,error:200,warn:300,info:400,debug:500},LC=(t,e,n)=>{if(t){if($Q(Pm,t))return t;In(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Pm))}`)}};function Rc(){}function Gh(t,e,n){return!e||Pm[t]>Pm[n]?Rc:e[t].bind(e)}const sZ={error:Rc,warn:Rc,info:Rc,debug:Rc};let $C=new WeakMap;function In(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return sZ;const i=$C.get(n);if(i&&i[0]===r)return i[1];const o={error:Gh("error",n,r),warn:Gh("warn",n,r),info:Gh("info",n,r),debug:Gh("debug",n,r)};return $C.set(n,[r,o]),o}const Cs=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rl{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?In(r):console;function s(){return zr(this,arguments,function*(){var l,u,c,f;if(i)throw new Tr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,v=Gr(aZ(e,n)),b;b=yield Re(v.next()),l=b.done,!l;y=!0){f=b.value,y=!1;const x=f;if(!h)if(x.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield Re(JSON.parse(x.data))}catch(_){throw o.error("Could not parse message into JSON:",x.data),o.error("From chunk:",x.raw),_}}}catch(x){u={error:x}}finally{try{!y&&!l&&(c=v.return)&&(yield Re(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(x){if(Ib(x))return yield Re(void 0);throw x}finally{h||n.abort()}})}return new rl(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return zr(this,arguments,function*(){var l,u,c,f;const h=new _0,y=_$(e);try{for(var v=!0,b=Gr(y),x;x=yield Re(b.next()),l=x.done,!l;v=!0){f=x.value,v=!1;const _=f;for(const w of h.decode(_))yield yield Re(w)}}catch(_){u={error:_}}finally{try{!v&&!l&&(c=b.return)&&(yield Re(c.call(b)))}finally{if(u)throw u.error}}for(const _ of h.flush())yield yield Re(_)})}function s(){return zr(this,arguments,function*(){var l,u,c,f;if(i)throw new Tr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,v=Gr(o()),b;b=yield Re(v.next()),l=b.done,!l;y=!0){f=b.value,y=!1;const x=f;h||x&&(yield yield Re(JSON.parse(x)))}}catch(x){u={error:x}}finally{try{!y&&!l&&(c=v.return)&&(yield Re(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(x){if(Ib(x))return yield Re(void 0);throw x}finally{h||n.abort()}})}return new rl(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();e.push(s),n.push(s)}return o.shift()}});return[new rl(()=>i(e),this.controller,this.client),new rl(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return w$({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const s=_E(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function aZ(t,e){return zr(this,arguments,function*(){var r,i,o,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Tr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Tr("Attempted to iterate over a response with no body");const a=new uZ,l=new _0,u=_$(t.body);try{for(var c=!0,f=Gr(lZ(u)),h;h=yield Re(f.next()),r=h.done,!r;c=!0){s=h.value,c=!1;const y=s;for(const v of l.decode(y)){const b=a.decode(v);b&&(yield yield Re(b))}}}catch(y){i={error:y}}finally{try{!c&&!r&&(o=f.return)&&(yield Re(o.call(f)))}finally{if(i)throw i.error}}for(const y of l.flush()){const v=a.decode(y);v&&(yield yield Re(v))}})}function lZ(t){return zr(this,arguments,function*(){var n,r,i,o;let s=new Uint8Array;try{for(var a=!0,l=Gr(t),u;u=yield Re(l.next()),n=u.done,!n;a=!0){o=u.value,a=!1;const c=o;if(c==null)continue;const f=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?_E(c):c;let h=new Uint8Array(s.length+f.length);h.set(s),h.set(f,s.length),s=h;let y;for(;(y=oZ(s))!==-1;)yield yield Re(s.slice(0,y)),s=s.slice(y)}}catch(c){r={error:c}}finally{try{!a&&!n&&(i=l.return)&&(yield Re(i.call(l)))}finally{if(r)throw r.error}}s.length>0&&(yield yield Re(s))})}class uZ{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=cZ(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function cZ(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function dZ(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{var a;if(e.options.stream)return In(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):rl.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(a=l==null?void 0:l.split(";")[0])===null||a===void 0?void 0:a.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return In(t).debug(`[${r}] response parsed`,Cs({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-o})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EE extends Promise{constructor(e,n,r=dZ){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new EE(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C$=Symbol("brand.privateNullableHeaders");function*fZ(t){if(!t)return;if(C$ in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():RC(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=RC(r[1])?r[1]:[r[1]];let s=!1;for(const a of o)a!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,a])}}const fc=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,s]of fZ(r)){const a=o.toLowerCase();i.has(a)||(e.delete(o),i.add(a)),s===null?(e.delete(o),n.add(a)):(e.append(o,s),n.delete(a))}}return{[C$]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hv=t=>{var e,n,r,i,o,s;if(typeof globalThis.process<"u")return(r=(n=(e=LH)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var P$;class E0{constructor(e){var n,r,i,o,s,a,l,{baseURL:u=hv("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=hv("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,h=Cm(e,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:c,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(r=y.timeout)!==null&&r!==void 0?r:E0.DEFAULT_TIMEOUT,this.logger=(i=y.logger)!==null&&i!==void 0?i:console;const v="warn";this.logLevel=v,this.logLevel=(s=(o=LC(y.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:LC(hv("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:v,this.fetchOptions=y.fetchOptions,this.maxRetries=(a=y.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(l=y.fetch)!==null&&l!==void 0?l:HQ(),this.encoder=YQ,this._options=y,this.apiKey=c,this.apiVersion=f,this.clientAdapter=y.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=fc([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return fc([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return fc([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Tr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ua}`}defaultIdempotencyKey(){return`stainless-node-retry-${RQ()}`}makeStatusError(e,n,r,i){return Dn.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=MQ(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return LQ(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new EE(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,s;const a=await e,l=(i=a.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(a);const{req:u,url:c,timeout:f}=await this.buildRequest(a,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:a});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(In(this).debug(`[${h}] sending request`,Cs({retryOfRequestLogID:r,method:a.method,url:c,options:a,headers:u.headers})),!((o=a.signal)===null||o===void 0)&&o.aborted)throw new Cb;const b=new AbortController,x=await this.fetchWithTimeout(c,u,f,b).catch(kb),_=Date.now();if(x instanceof globalThis.Error){const E=`retrying, ${n} attempts remaining`;if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new Cb;const N=Ib(x)||/timed? ?out/i.test(String(x)+("cause"in x?String(x.cause):""));if(n)return In(this).info(`[${h}] connection ${N?"timed out":"failed"} - ${E}`),In(this).debug(`[${h}] connection ${N?"timed out":"failed"} (${E})`,Cs({retryOfRequestLogID:r,url:c,durationMs:_-v,message:x.message})),this.retryRequest(a,n,r??h);throw In(this).info(`[${h}] connection ${N?"timed out":"failed"} - error; no more retries left`),In(this).debug(`[${h}] connection ${N?"timed out":"failed"} (error; no more retries left)`,Cs({retryOfRequestLogID:r,url:c,durationMs:_-v,message:x.message})),N?new f$:new w0({cause:x})}const w=`[${h}${y}] ${u.method} ${c} ${x.ok?"succeeded":"failed"} with status ${x.status} in ${_-v}ms`;if(!x.ok){const E=await this.shouldRetry(x);if(n&&E){const k=`retrying, ${n} attempts remaining`;return await KQ(x.body),In(this).info(`${w} - ${k}`),In(this).debug(`[${h}] response error (${k})`,Cs({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,durationMs:_-v})),this.retryRequest(a,n,r??h,x.headers)}const N=E?"error; no more retries left":"error; not retryable";In(this).info(`${w} - ${N}`);const T=await x.text().catch(k=>kb(k).message),C=FQ(T),A=C?void 0:T;throw In(this).debug(`[${h}] response error (${N})`,Cs({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,message:A,durationMs:Date.now()-v})),this.makeStatusError(x.status,C,A,x.headers)}return In(this).info(w),In(this).debug(`[${h}] response start`,Cs({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,durationMs:_-v})),{response:x,options:a,controller:b,requestLogID:h,retryOfRequestLogID:r,startTime:v}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:s,method:a}=o,l=Cm(o,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);a&&(f.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let s;const a=i==null?void 0:i.get("retry-after-ms");if(a){const u=parseFloat(a);Number.isNaN(u)||(s=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!s){const u=parseFloat(l);Number.isNaN(u)?s=Date.parse(l)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,u)}return await UQ(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,s=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const s=Object.assign({},e),{method:a,path:l,query:u,defaultBaseURL:c}=s,f=this.buildURL(l,u,c);"timeout"in s&&VQ("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:y}=this.buildBody({options:s}),v=await this.buildHeaders({options:e,method:a,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:v},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=s.fetchOptions)!==null&&o!==void 0?o:{}),url:f,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let a=fc([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),qQ()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=fc([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:WQ(e)}:this.encoder({body:e,headers:r})}}E0.DEFAULT_TIMEOUT=6e4;class Jt extends E0{constructor(){super(...arguments),this.interactions=new k$(this)}}P$=Jt;Jt.GeminiNextGenAPIClient=P$;Jt.GeminiNextGenAPIClientError=Tr;Jt.APIError=Dn;Jt.APIConnectionError=w0;Jt.APIConnectionTimeoutError=f$;Jt.APIUserAbortError=Cb;Jt.NotFoundError=g$;Jt.ConflictError=y$;Jt.RateLimitError=x$;Jt.BadRequestError=h$;Jt.AuthenticationError=p$;Jt.InternalServerError=b$;Jt.PermissionDeniedError=m$;Jt.UnprocessableEntityError=v$;Jt.toFile=eZ;Jt.Interactions=k$;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hZ(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function pZ(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function mZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function gZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function yZ(t,e,n){const r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&g(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=p(t,["epochCount"]);e!==void 0&&o!=null&&g(e,["tuningTask","hyperparameters","epochCount"],o);const s=p(t,["learningRateMultiplier"]);if(s!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=p(t,["batchSize"]);e!==void 0&&a!=null&&g(e,["tuningTask","hyperparameters","batchSize"],a);const l=p(t,["learningRate"]);if(e!==void 0&&l!=null&&g(e,["tuningTask","hyperparameters","learningRate"],l),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function vZ(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const y=p(t,["validationDataset"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec"],VC(y))}else if(i==="PREFERENCE_TUNING"){const y=p(t,["validationDataset"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec"],VC(y))}const o=p(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&g(e,["tunedModelDisplayName"],o);const s=p(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);let a=p(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const y=p(t,["epochCount"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(a==="PREFERENCE_TUNING"){const y=p(t,["epochCount"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let l=p(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const y=p(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(l==="PREFERENCE_TUNING"){const y=p(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let u=p(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=p(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(u==="PREFERENCE_TUNING"){const y=p(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=p(t,["adapterSize"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(c==="PREFERENCE_TUNING"){const y=p(t,["adapterSize"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["beta"]);return e!==void 0&&h!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function xZ(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&PZ(o);const s=p(t,["config"]);return s!=null&&yZ(s,n),n}function bZ(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&NZ(o,n,e);const s=p(t,["config"]);return s!=null&&vZ(s,n,e),n}function wZ(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function _Z(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function EZ(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const s=p(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),r}function TZ(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const s=p(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),r}function SZ(t,e){const n={},r=p(t,["config"]);return r!=null&&EZ(r,n),n}function AZ(t,e){const n={},r=p(t,["config"]);return r!=null&&TZ(r,n),n}function IZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=p(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>N$(a))),g(n,["tuningJobs"],s)}return n}function kZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=p(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>Rb(a))),g(n,["tuningJobs"],s)}return n}function CZ(t,e){const n={},r=p(t,["name"]);r!=null&&g(n,["model"],r);const i=p(t,["name"]);return i!=null&&g(n,["endpoint"],i),n}function PZ(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=p(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(n,["examples","examples"],i)}return n}function NZ(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=p(t,["gcsUri"]);e!==void 0&&s!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=p(t,["gcsUri"]);e!==void 0&&s!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=p(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=p(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=p(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function N$(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const o=p(t,["state"]);o!=null&&g(n,["state"],WL(o));const s=p(t,["createTime"]);s!=null&&g(n,["createTime"],s);const a=p(t,["tuningTask","startTime"]);a!=null&&g(n,["startTime"],a);const l=p(t,["tuningTask","completeTime"]);l!=null&&g(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const c=p(t,["description"]);c!=null&&g(n,["description"],c);const f=p(t,["baseModel"]);f!=null&&g(n,["baseModel"],f);const h=p(t,["_self"]);return h!=null&&g(n,["tunedModel"],CZ(h)),n}function Rb(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const o=p(t,["state"]);o!=null&&g(n,["state"],WL(o));const s=p(t,["createTime"]);s!=null&&g(n,["createTime"],s);const a=p(t,["startTime"]);a!=null&&g(n,["startTime"],a);const l=p(t,["endTime"]);l!=null&&g(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const c=p(t,["error"]);c!=null&&g(n,["error"],c);const f=p(t,["description"]);f!=null&&g(n,["description"],f);const h=p(t,["baseModel"]);h!=null&&g(n,["baseModel"],h);const y=p(t,["tunedModel"]);y!=null&&g(n,["tunedModel"],y);const v=p(t,["preTunedModel"]);v!=null&&g(n,["preTunedModel"],v);const b=p(t,["supervisedTuningSpec"]);b!=null&&g(n,["supervisedTuningSpec"],b);const x=p(t,["preferenceOptimizationSpec"]);x!=null&&g(n,["preferenceOptimizationSpec"],x);const _=p(t,["tuningDataStats"]);_!=null&&g(n,["tuningDataStats"],_);const w=p(t,["encryptionSpec"]);w!=null&&g(n,["encryptionSpec"],w);const E=p(t,["partnerModelTuningSpec"]);E!=null&&g(n,["partnerModelTuningSpec"],E);const N=p(t,["customBaseModel"]);N!=null&&g(n,["customBaseModel"],N);const T=p(t,["experiment"]);T!=null&&g(n,["experiment"],T);const C=p(t,["labels"]);C!=null&&g(n,["labels"],C);const A=p(t,["outputUri"]);A!=null&&g(n,["outputUri"],A);const I=p(t,["pipelineJob"]);I!=null&&g(n,["pipelineJob"],I);const k=p(t,["serviceAccount"]);k!=null&&g(n,["serviceAccount"],k);const P=p(t,["tunedModelDisplayName"]);P!=null&&g(n,["tunedModelDisplayName"],P);const R=p(t,["veoTuningSpec"]);return R!=null&&g(n,["veoTuningSpec"],R),n}function RZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const o=p(t,["metadata"]);o!=null&&g(n,["metadata"],o);const s=p(t,["done"]);s!=null&&g(n,["done"],s);const a=p(t,["error"]);return a!=null&&g(n,["error"],a),n}function VC(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return i!=null&&g(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OZ extends so{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _a(Qi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:xb.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=_Z(e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>Rb(c))}else{const u=wZ(e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>N$(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=AZ(e);return a=pe("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=kZ(c),h=new dC;return Object.assign(h,f),h})}else{const u=SZ(e);return a=pe("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=IZ(c),h=new dC;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=pZ(e);return a=pe("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=gZ(c),h=new fC;return Object.assign(h,f),h})}else{const u=hZ(e);return a=pe("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=mZ(c),h=new fC;return Object.assign(h,f),h})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=bZ(e,e);return o=pe("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Rb(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=xZ(e);return o=pe("tunedModels",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>RZ(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MZ{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const DZ=1024*1024*8,jZ=3,LZ=1e3,$Z=2,Nm="x-goog-upload-status";async function VZ(t,e,n){var r;const i=await R$(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Nm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function FZ(t,e,n){var r;const i=await R$(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Nm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=UL(o),a=new gE;return Object.assign(a,s),a}async function R$(t,e,n){var r,i;let o=0,s=0,a=new wb(new Response),l="upload";for(o=t.size;s<o;){const u=Math.min(DZ,o-s),c=t.slice(s,s+u);s+u>=o&&(l+=", finalize");let f=0,h=LZ;for(;f<jZ&&(a=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[Nm]));)f++,await BZ(h),h=h*$Z;if(s+=u,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[Nm])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function UZ(t){return{size:t.size,type:t.type}}function BZ(t){return new Promise(e=>setTimeout(e,t))}class zZ{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await VZ(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await FZ(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await UZ(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GZ{create(e,n,r){return new qZ(e,n,r)}}class qZ{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FC="x-goog-api-key";class HZ{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(FC)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(FC,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WZ="gl-node/";class Gf{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Jt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=UH(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new HZ(this.apiKey);this.apiClient=new UX({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:WZ+"web",uploader:new zZ,downloader:new MZ}),this.models=new sQ(this.apiClient),this.live=new eQ(this.apiClient,i,new GZ),this.batches=new gK(this.apiClient),this.chats=new XK(this.models,this.apiClient),this.caches=new KK(this.apiClient),this.files=new aY(this.apiClient),this.operations=new aQ(this.apiClient),this.authTokens=new EQ(this.apiClient),this.tunings=new OZ(this.apiClient),this.fileSearchStores=new NQ(this.apiClient)}}const UC=["Casa","Mobilidade","Alimentos","Lazer","Pets","Outros"],T0="nexo_user_api_key",Iu=()=>{const t=localStorage.getItem(T0);return t||null},BC=t=>{localStorage.setItem(T0,t)},KZ=()=>{localStorage.removeItem(T0)},zC=()=>!!localStorage.getItem(T0),YZ=async t=>{var i;const e=Iu();if(!e)return[];const n=new Gf({apiKey:e}),r=`
    Voc  um assistente de compras inteligente.
    O usurio vai pedir uma receita, evento ou lista genrica.
    Gere uma lista de compras JSON com ingredientes/itens.
    
    CATEGORIAS PERMITIDAS: 'Hortifruti', 'Carnes', 'Laticnios', 'Mercearia', 'Bebidas', 'Limpeza', 'Higiene', 'Padaria', 'Outros'.

    RESPONDA APENAS JSON VLIDO neste formato:
    [
      { "name": "Nome do item", "quantity": 1, "category": "Categoria" }
    ]
  `;try{const s=((i=(await n.models.generateContent({model:"gemini-3-flash-preview",contents:`Gere a lista para: ${t}`,config:{systemInstruction:r,responseMimeType:"application/json"}})).text)==null?void 0:i.trim())||"[]";return JSON.parse(s)}catch(o){return console.error("Erro ao gerar lista:",o),[]}},JZ=async t=>{var i;const e=Iu();if(!e)return"Outros";const n=new Gf({apiKey:e}),r=`Classifique "${t}" em: ${UC.join(", ")}. Responda S a categoria.`;try{const s=((i=(await n.models.generateContent({model:"gemini-3-flash-preview",contents:r})).text)==null?void 0:i.trim())||"Outros";return UC.includes(s)?s:"Outros"}catch{return"Outros"}},XZ=async t=>{var s,a,l;const e=Iu();if(!e)return{text:"Configure sua API Key nas preferncias para receber recomendaes de investimentos.",sources:[]};const n=new Gf({apiKey:e}),r=t.map(u=>`${u.name} (${u.type}): R$ ${u.amount}`).join(", "),o=`
    Voc  um consultor de investimentos snior especialista no mercado brasileiro.
    Carteira Atual: R$ ${t.reduce((u,c)=>u+c.amount,0)} (${r||"Vazia"}).

    TAREFA:
    Encontre oportunidades REAIS e ATUAIS para diversificao.
    
    FORMATO OBRIGATRIO (Siga estritamente):
    
    ###  Baixo Risco
    1. **[Nome]** - [Taxa/Preo] - [Motivo curto]
    2. **[Nome]** - [Taxa/Preo] - [Motivo curto]
    3. **[Nome]** - [Taxa/Preo] - [Motivo curto]

    ###  Mdio Risco
    (3 opes no mesmo formato)

    ###  Alto Risco
    (3 opes no mesmo formato)

    ---SECTION-BREAK---

    ###  Anlise Tcnica
    (Sua anlise detalhada aqui sobre cenrio macro, inflao e porqus)
  `;try{const u=await n.models.generateContent({model:"gemini-3-flash-preview",contents:o,config:{tools:[{googleSearch:{}}]}}),c=[],f=(l=(a=(s=u.candidates)==null?void 0:s[0])==null?void 0:a.groundingMetadata)==null?void 0:l.groundingChunks;f&&f.forEach(y=>{y.web&&c.push({title:y.web.title||"Fonte Web",uri:y.web.uri||"#"})});const h=c.filter((y,v,b)=>b.findIndex(x=>x.uri===y.uri)===v);return{text:u.text||"No foi possvel gerar recomendaes no momento.",sources:h}}catch(u){console.warn("Google Search Grounding failed, retrying without search...",u);try{return{text:((await n.models.generateContent({model:"gemini-3-flash-preview",contents:o+`

(Nota: A pesquisa em tempo real falhou. Use seu conhecimento geral.)`})).text||"Sem resposta.")+`

 *Nota: O acesso  pesquisa em tempo real falhou. As taxas mencionadas podem ser estimativas baseadas no conhecimento geral do modelo.*`,sources:[]}}catch(c){return console.error("Investment Advice Error (Fallback):",c),{text:`Erro ao consultar IA: ${c.message||"Erro desconhecido"}. Verifique sua chave API ou tente novamente mais tarde.`,sources:[]}}}},QZ=async(t,e,n)=>{var l;const r=Iu();if(!r)return null;const i=new Gf({apiKey:r}),o=new Map;t.forEach(u=>{o.set(u.type,(o.get(u.type)||0)+u.amount)});const s=Array.from(o.entries()).map(([u,c])=>`${u}: R$ ${c.toFixed(2)}`).join(", "),a=`
      Atue como um Gestor de Private Banking. O cliente tem ${n} anos e perfil de risco: ${e.toUpperCase()}.
      
      Carteira Atual Agregada: ${s||"R$ 0,00 (Vazia)"}

      Sua tarefa  analisar a alocao de ativos e sugerir o rebalanceamento ideal baseado nas melhores prticas de Wealth Management (como Bridgewater/Arta) adaptado ao Brasil.
      
      RETORNE APENAS JSON VLIDO. NO USE MARKDOWN. Siga este esquema:
      {
        "analysisText": "Pargrafo curto (max 300 chars) com sua viso macro sobre a carteira do cliente.",
        "currentAllocation": [ {"name": "Categoria", "value": %_atual (0-100)} ],
        "suggestedAllocation": [ {"name": "Categoria", "value": %_ideal (0-100)} ],
        "actionItems": [
           {"title": "Ao Ttica", "type": "buy" | "sell" | "hold", "description": "Explicao curta"}
        ]
      }
      
      Regras:
      1. 'suggestedAllocation' deve somar 100.
      2. Categorias sugeridas podem ser: 'Renda Fixa Ps', 'Renda Fixa Pr/IPCA', 'Aes Brasil', 'Aes Global', 'FIIs', 'Cripto/Alternativos', 'Reserva'.
      3. Se a carteira estiver vazia, sugira a alocao ideal do zero.
    `;try{const c=((l=(await i.models.generateContent({model:"gemini-3-flash-preview",contents:a,config:{responseMimeType:"application/json"}})).text)==null?void 0:l.trim())||"{}";return JSON.parse(c)}catch(u){return console.error("Wealth Analysis Error:",u),null}};async function*ZZ(t,e,n){const r=Iu();if(!r){yield"Por favor, configure sua API Key nas preferncias do menu.";return}const i=new Gf({apiKey:r}),o=n.transactions.filter(w=>w.type==="income").reduce((w,E)=>w+E.amount,0),s=n.transactions.filter(w=>w.type==="expense").reduce((w,E)=>w+E.amount,0),a=n.investments.reduce((w,E)=>w+E.amount,0),l=n.debts.reduce((w,E)=>w+E.currentAmount,0),u=n.transactions.sort((w,E)=>new Date(E.date).getTime()-new Date(w.date).getTime()).slice(0,30).map(w=>`- ${w.date}: ${w.description} (${w.type}) R$ ${w.amount} [${w.category}] Status: ${w.status}`).join(`
`),c=n.investments.map(w=>`- ${w.name} (${w.type}): R$ ${w.amount} (Meta: R$ ${w.targetAmount})`).join(`
`),f=n.debts.map(w=>`- ${w.creditor}: R$ ${w.currentAmount} (Status: ${w.status}, Vence: ${w.dueDate})`).join(`
`);let h="Neutro";l>a*2?h="Endividado (Foco em quitao)":a>s*6?h="Investidor (Foco em otimizao)":o<s&&(h="Dficit (Foco em corte de gastos)");const y=`
    RELATRIO FINANCEIRO DO USURIO (Contexto Interno):
    
    1. PERFIL IDENTIFICADO: ${h}
    2. RESUMO:
       - Renda Total: R$ ${o.toFixed(2)}
       - Despesas Totais: R$ ${s.toFixed(2)}
       - Saldo: R$ ${(o-s).toFixed(2)}
       - Total Investido: R$ ${a.toFixed(2)}
       - Dvidas Ativas: R$ ${l.toFixed(2)}
    3. LTIMAS TRANSAES:
    ${u}
    4. INVESTIMENTOS:
    ${c}
    5. DVIDAS:
    ${f}
  `,v=`
    Voc  o NEXO AI, um assistente financeiro pessoal de elite.
    OBJETIVO: Ajudar o usurio a gerenciar suas finanas com base no perfil identificado: ${h}.
    CONTEXTO: ${y}
    DIRETRIZES:
    - Responda de forma concisa e amigvel.
    - Se o usurio perguntar sobre o saldo, gastos especficos ou investimentos, consulte o relatrio acima.
    - Seja proativo: se vir uma dvida vencendo ou gasto alto, pode alertar sutilmente.
    - Use Markdown para formatar valores e listas.
  `,b=i.chats.create({model:"gemini-3-flash-preview",config:{systemInstruction:v}}),_=`
    [Histrico Recente]:
    ${e.slice(-6).map(w=>`${w.role==="user"?"Usurio":"Modelo"}: ${w.content}`).join(`
`)}
    
    [Nova Mensagem]: ${t}
  `;try{const w=await b.sendMessageStream({message:_});for await(const E of w)E.text&&(yield E.text)}catch(w){console.error(w),yield"Erro de conexo com o crebro digital. Verifique sua Chave de API."}}const eee=({onGuestLogin:t})=>{const[e,n]=B.useState(!1),[r,i]=B.useState(""),[o,s]=B.useState(""),[a,l]=B.useState(""),[u,c]=B.useState(""),[f,h]=B.useState(!1),[y,v]=B.useState(!1),[b,x]=B.useState(!1),_="028.268.001-24",w="Alexandre Magno S. Linhares";B.useEffect(()=>{const I=tl.app.options.apiKey;(!I||I==="SUA_API_KEY_AQUI"||I.includes("SUA_API_KEY"))&&v(!0)},[]);const E=I=>{console.error(I);let k="Erro ao autenticar. Verifique suas credenciais.";I.code==="auth/email-already-in-use"&&(k="Este e-mail j est em uso."),I.code==="auth/invalid-email"&&(k="E-mail invlido."),I.code==="auth/weak-password"&&(k="A senha deve ter pelo menos 6 caracteres."),(I.code==="auth/user-not-found"||I.code==="auth/wrong-password")&&(k="E-mail ou senha incorretos."),I.code==="auth/invalid-credential"&&(k="Credenciais invlidas."),I.code==="auth/invalid-api-key"&&(k="Chave de API invlida.",v(!0)),I.code==="auth/unauthorized-domain"?(k="Domnio no autorizado pelo Firebase.",c(window.location.hostname)):c(""),l(k)},N=async I=>{I.preventDefault(),l(""),c(""),h(!0);try{e?await Q7(tl,r,o):await Z7(tl,r,o)}catch(k){E(k)}finally{h(!1)}},T=async()=>{l(""),c(""),h(!0);const I=new Ii;try{await E9(tl,I)}catch(k){E(k)}finally{h(!1)}},C=()=>{navigator.clipboard.writeText(u),alert("Domnio copiado!")},A=()=>{navigator.clipboard.writeText(_),x(!0),setTimeout(()=>x(!1),2e3)};return y?d.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden border border-slate-700 animate-scale-in flex flex-col md:flex-row",children:[d.jsxs("div",{className:"bg-indigo-600 p-8 text-white md:w-1/3 flex flex-col items-center justify-center text-center",children:[d.jsx(f6,{className:"w-16 h-16 mb-4 opacity-80"}),d.jsx("h2",{className:"text-xl font-bold",children:"Configurao Necessria"}),d.jsx("p",{className:"text-indigo-100 text-sm mt-2",children:"Para usar o modo online, voc precisa conectar seu Firebase."})]}),d.jsxs("div",{className:"p-8 md:w-2/3",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-4",children:"Siga estes passos:"}),d.jsxs("div",{className:"space-y-4 text-sm text-slate-600 dark:text-slate-300",children:[d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-2 rounded h-fit font-bold",children:"1"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:"Crie o Banco de Dados"}),d.jsxs("p",{children:["No Console do Firebase, v em ",d.jsx("strong",{children:"Firestore Database"}),', clique em "Criar banco de dados", escolha a regio (nam5) e clique em "Iniciar no modo de produo".']})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-2 rounded h-fit font-bold",children:"2"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:"Ative o Login"}),d.jsxs("p",{children:["V em ",d.jsx("strong",{children:"Authentication"}),' > Sign-in method e ative "E-mail/senha".']})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-2 rounded h-fit font-bold",children:"3"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:"Copie as Chaves"}),d.jsxs("p",{children:['V nas Configuraes do Projeto (), role at "Seus aplicativos" e copie o objeto ',d.jsx("code",{children:"firebaseConfig"}),"."]})]})]}),d.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-3 rounded-lg text-xs",children:[d.jsxs("p",{className:"font-bold text-amber-700 dark:text-amber-400 flex items-center gap-1",children:[d.jsx(wd,{className:"w-3 h-3"})," Ao Necessria no Cdigo"]}),d.jsxs("p",{className:"mt-1",children:["Abra o arquivo ",d.jsx("code",{children:"services/firebase.ts"})," e substitua ",d.jsx("code",{children:'"SUA_API_KEY_AQUI"'})," pelos dados reais que voc copiou."]})]})]}),d.jsxs("button",{onClick:t,className:"w-full mt-6 py-3 bg-slate-200 hover:bg-slate-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-xl font-bold transition-colors flex items-center justify-center gap-2",children:[d.jsx($A,{className:"w-4 h-4"}),"Pular e Usar Modo Offline (Convidado)"]})]})]})}):d.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-900 flex font-sans",children:[d.jsxs("div",{className:"w-full md:w-[45%] lg:w-[40%] flex flex-col justify-center p-8 md:p-12 lg:p-16 relative overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-10",children:[d.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg shadow-lg shadow-indigo-500/30",children:d.jsx(s1,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{className:"leading-tight",children:[d.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white tracking-tight",children:"NEXO"}),d.jsx("p",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-widest",children:"Financial Hub"})]})]}),d.jsxs("div",{className:"max-w-sm w-full mx-auto",children:[d.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:e?"Criar Conta":"Acesse sua Conta"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:e?"Comece a controlar suas finanas hoje.":"Bem-vindo de volta! Por favor, insira seus dados."}),a&&d.jsxs("div",{className:"mb-6 p-4 bg-rose-50 dark:bg-rose-900/20 border-l-4 border-rose-500 rounded-r-lg flex flex-col gap-1 animate-fade-in",children:[d.jsxs("div",{className:"flex items-center gap-2 text-rose-700 dark:text-rose-400 font-semibold text-sm",children:[d.jsx(Fx,{className:"w-4 h-4"}),d.jsx("span",{children:a})]}),u&&d.jsxs("div",{className:"mt-2 pl-6",children:[d.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"Domnio no autorizado:"}),d.jsx("code",{className:"text-xs bg-white px-1 py-0.5 rounded border border-rose-200 block mb-2",children:u}),d.jsx("button",{onClick:C,className:"text-xs underline text-rose-600",children:"Copiar Domnio"})]})]}),d.jsxs("form",{onSubmit:N,className:"space-y-5",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-1.5",children:"E-mail"}),d.jsx("input",{type:"email",required:!0,value:r,onChange:I=>i(I.target.value),className:"w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-800 dark:text-white outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all placeholder:text-slate-400",placeholder:"nome@exemplo.com"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-1.5",children:"Senha"}),d.jsx("input",{type:"password",required:!0,minLength:6,value:o,onChange:I=>s(I.target.value),className:"w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-800 dark:text-white outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all placeholder:text-slate-400",placeholder:""}),!e&&d.jsx("div",{className:"flex justify-end mt-1",children:d.jsx("button",{type:"button",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-700 dark:text-indigo-400",children:"Esqueceu a senha?"})})]}),d.jsx("button",{type:"submit",disabled:f,className:"w-full py-3.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-bold shadow-lg shadow-indigo-500/20 transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed mt-2",children:f?d.jsx(t0,{className:"w-5 h-5 animate-spin"}):e?"Cadastrar":"Entrar"})]}),d.jsxs("div",{className:"relative my-8",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-700"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-4 bg-white dark:bg-slate-900 text-slate-400 font-medium",children:"ou continue com"})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{type:"button",onClick:T,disabled:f,className:"flex items-center justify-center gap-2 px-4 py-2.5 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors font-medium text-slate-700 dark:text-slate-300 text-sm",children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",color:"#4285F4"}),d.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",color:"#34A853"}),d.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",color:"#FBBC05"}),d.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",color:"#EA4335"})]}),"Google"]}),d.jsxs("button",{type:"button",onClick:t,className:"flex items-center justify-center gap-2 px-4 py-2.5 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors font-medium text-slate-700 dark:text-slate-300 text-sm",children:[d.jsx($A,{className:"w-5 h-5 text-slate-500"}),"Convidado"]})]}),d.jsx("div",{className:"mt-8 text-center",children:d.jsxs("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:[e?"J  cliente?":"Ainda no tem conta?",d.jsx("button",{onClick:()=>n(!e),className:"ml-1 text-indigo-600 dark:text-indigo-400 font-bold hover:underline",children:e?"Fazer Login":"Cadastre-se grtis"})]})}),d.jsx("div",{className:"mt-10 mb-4",children:d.jsxs("div",{onClick:A,className:"group relative overflow-hidden bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-slate-800 dark:to-indigo-900/20 border-2 border-dashed border-indigo-200 dark:border-indigo-700/50 hover:border-indigo-400 dark:hover:border-indigo-500 rounded-xl p-4 cursor-pointer hover:shadow-xl hover:shadow-indigo-500/10 transition-all transform hover:-translate-y-1",children:[d.jsx("div",{className:"absolute top-0 right-0 bg-indigo-600 text-white text-[10px] font-bold px-3 py-1 rounded-bl-xl shadow-sm z-10",children:"Apoie o Dev "}),d.jsxs("div",{className:"flex items-center gap-4 relative z-0",children:[d.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/50 p-3 rounded-full group-hover:scale-110 transition-transform shadow-inner",children:d.jsx(bD,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400 fill-indigo-200 dark:fill-indigo-900"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-xs font-bold text-indigo-800 dark:text-indigo-300 uppercase tracking-wide mb-1",children:"Gostou? Mande um Pix!"}),d.jsxs("div",{className:"flex items-center gap-2 bg-white/50 dark:bg-black/20 p-1.5 rounded-lg border border-indigo-100 dark:border-indigo-800/50",children:[d.jsx("p",{className:"text-sm font-mono font-bold text-slate-700 dark:text-slate-200 truncate select-all",children:_}),d.jsx("span",{className:"text-[9px] bg-indigo-200 dark:bg-indigo-800 text-indigo-800 dark:text-indigo-200 px-1.5 rounded font-sans font-bold",children:"Chave CPF"})]})]}),d.jsx("div",{className:"text-indigo-300 group-hover:text-indigo-600 transition-colors",children:b?d.jsx(Ls,{className:"w-6 h-6 text-emerald-500"}):d.jsx(gD,{className:"w-6 h-6"})})]}),b&&d.jsx("div",{className:"absolute inset-0 bg-indigo-900/90 backdrop-blur-sm flex items-center justify-center text-white font-bold rounded-xl animate-fade-in z-20",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ls,{className:"w-5 h-5 text-emerald-400"}),"Chave Pix Copiada!"]})}),d.jsx("p",{className:"text-[10px] text-slate-400 mt-2 text-center opacity-60 group-hover:opacity-100 transition-opacity",children:w})]})}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("a",{href:"https://www.linkedin.com/in/alemagnobr/",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-slate-400 hover:text-indigo-500 transition-colors inline-flex items-center gap-1",children:[d.jsx(ED,{className:"w-3 h-3"})," Alexandre Magno"]})})]})]}),d.jsxs("div",{className:"hidden md:flex flex-1 relative bg-[#4c35de] overflow-hidden items-center justify-center p-8",children:[d.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-white opacity-5 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/3"}),d.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-purple-400 opacity-10 rounded-full blur-[80px] translate-y-1/3 -translate-x-1/4"}),d.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(#fff 1px, transparent 1px), linear-gradient(90deg, #fff 1px, transparent 1px)",backgroundSize:"40px 40px"}}),d.jsxs("div",{className:"relative z-10 w-full max-w-lg",children:[d.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6 shadow-2xl mb-12 transform hover:scale-[1.02] transition-transform duration-500",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-white/10 pb-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-white/60 text-xs font-semibold uppercase",children:"Performance Visualisation"}),d.jsx("p",{className:"text-white text-lg font-bold mt-1",children:"Crescimento Patrimonial"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("div",{className:"px-2 py-1 bg-emerald-500/20 text-emerald-300 rounded text-xs font-bold",children:"+6.9%"}),d.jsx("div",{className:"p-1 bg-white/10 rounded text-white/70",children:d.jsx(xd,{className:"w-4 h-4"})})]})]}),d.jsx("div",{className:"h-48 flex items-end justify-between gap-3 px-2",children:[35,55,45,70,60,85,75].map((I,k)=>d.jsxs("div",{className:"w-full bg-white/10 rounded-t-lg relative group overflow-hidden",style:{height:"100%"},children:[d.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-indigo-400 to-purple-300 rounded-t-lg transition-all duration-1000 group-hover:opacity-90",style:{height:`${I}%`}}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] bg-white/30",style:{bottom:`${I}%`}})]},k))}),d.jsxs("div",{className:"flex justify-between mt-3 text-xs text-white/40 font-medium px-2",children:[d.jsx("span",{children:"Jan"}),d.jsx("span",{children:"Fev"}),d.jsx("span",{children:"Mar"}),d.jsx("span",{children:"Abr"}),d.jsx("span",{children:"Mai"}),d.jsx("span",{children:"Jun"}),d.jsx("span",{children:"Jul"})]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-3",children:"Bem-vindo de volta"}),d.jsxs("p",{className:"text-indigo-200 text-lg leading-relaxed",children:["Gerencie suas finanas com inteligncia, ",d.jsx("br",{}),"segurana e clareza total."]})]})]}),d.jsx("div",{className:"absolute top-8 right-8",children:d.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 backdrop-blur flex items-center justify-center border border-white/20 text-xl shadow-lg cursor-default",children:""})})]})]})};function O$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=O$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Pe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=O$(t))&&(r&&(r+=" "),r+=e);return r}var tee=Array.isArray,qn=tee,nee=typeof gh=="object"&&gh&&gh.Object===Object&&gh,M$=nee,ree=M$,iee=typeof self=="object"&&self&&self.Object===Object&&self,oee=ree||iee||Function("return this")(),gi=oee,see=gi,aee=see.Symbol,qf=aee,GC=qf,D$=Object.prototype,lee=D$.hasOwnProperty,uee=D$.toString,hc=GC?GC.toStringTag:void 0;function cee(t){var e=lee.call(t,hc),n=t[hc];try{t[hc]=void 0;var r=!0}catch{}var i=uee.call(t);return r&&(e?t[hc]=n:delete t[hc]),i}var dee=cee,fee=Object.prototype,hee=fee.toString;function pee(t){return hee.call(t)}var mee=pee,qC=qf,gee=dee,yee=mee,vee="[object Null]",xee="[object Undefined]",HC=qC?qC.toStringTag:void 0;function bee(t){return t==null?t===void 0?xee:vee:HC&&HC in Object(t)?gee(t):yee(t)}var lo=bee;function wee(t){return t!=null&&typeof t=="object"}var uo=wee,_ee=lo,Eee=uo,Tee="[object Symbol]";function See(t){return typeof t=="symbol"||Eee(t)&&_ee(t)==Tee}var ku=See,Aee=qn,Iee=ku,kee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Cee=/^\w*$/;function Pee(t,e){if(Aee(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Iee(t)?!0:Cee.test(t)||!kee.test(t)||e!=null&&t in Object(e)}var TE=Pee;function Nee(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var hs=Nee;const Cu=Ze(hs);var Ree=lo,Oee=hs,Mee="[object AsyncFunction]",Dee="[object Function]",jee="[object GeneratorFunction]",Lee="[object Proxy]";function $ee(t){if(!Oee(t))return!1;var e=Ree(t);return e==Dee||e==jee||e==Mee||e==Lee}var SE=$ee;const _e=Ze(SE);var Vee=gi,Fee=Vee["__core-js_shared__"],Uee=Fee,pv=Uee,WC=function(){var t=/[^.]+$/.exec(pv&&pv.keys&&pv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Bee(t){return!!WC&&WC in t}var zee=Bee,Gee=Function.prototype,qee=Gee.toString;function Hee(t){if(t!=null){try{return qee.call(t)}catch{}try{return t+""}catch{}}return""}var j$=Hee,Wee=SE,Kee=zee,Yee=hs,Jee=j$,Xee=/[\\^$.*+?()[\]{}|]/g,Qee=/^\[object .+?Constructor\]$/,Zee=Function.prototype,ete=Object.prototype,tte=Zee.toString,nte=ete.hasOwnProperty,rte=RegExp("^"+tte.call(nte).replace(Xee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ite(t){if(!Yee(t)||Kee(t))return!1;var e=Wee(t)?rte:Qee;return e.test(Jee(t))}var ote=ite;function ste(t,e){return t==null?void 0:t[e]}var ate=ste,lte=ote,ute=ate;function cte(t,e){var n=ute(t,e);return lte(n)?n:void 0}var Ea=cte,dte=Ea,fte=dte(Object,"create"),S0=fte,KC=S0;function hte(){this.__data__=KC?KC(null):{},this.size=0}var pte=hte;function mte(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var gte=mte,yte=S0,vte="__lodash_hash_undefined__",xte=Object.prototype,bte=xte.hasOwnProperty;function wte(t){var e=this.__data__;if(yte){var n=e[t];return n===vte?void 0:n}return bte.call(e,t)?e[t]:void 0}var _te=wte,Ete=S0,Tte=Object.prototype,Ste=Tte.hasOwnProperty;function Ate(t){var e=this.__data__;return Ete?e[t]!==void 0:Ste.call(e,t)}var Ite=Ate,kte=S0,Cte="__lodash_hash_undefined__";function Pte(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=kte&&e===void 0?Cte:e,this}var Nte=Pte,Rte=pte,Ote=gte,Mte=_te,Dte=Ite,jte=Nte;function Pu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Pu.prototype.clear=Rte;Pu.prototype.delete=Ote;Pu.prototype.get=Mte;Pu.prototype.has=Dte;Pu.prototype.set=jte;var Lte=Pu;function $te(){this.__data__=[],this.size=0}var Vte=$te;function Fte(t,e){return t===e||t!==t&&e!==e}var AE=Fte,Ute=AE;function Bte(t,e){for(var n=t.length;n--;)if(Ute(t[n][0],e))return n;return-1}var A0=Bte,zte=A0,Gte=Array.prototype,qte=Gte.splice;function Hte(t){var e=this.__data__,n=zte(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():qte.call(e,n,1),--this.size,!0}var Wte=Hte,Kte=A0;function Yte(t){var e=this.__data__,n=Kte(e,t);return n<0?void 0:e[n][1]}var Jte=Yte,Xte=A0;function Qte(t){return Xte(this.__data__,t)>-1}var Zte=Qte,ene=A0;function tne(t,e){var n=this.__data__,r=ene(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var nne=tne,rne=Vte,ine=Wte,one=Jte,sne=Zte,ane=nne;function Nu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Nu.prototype.clear=rne;Nu.prototype.delete=ine;Nu.prototype.get=one;Nu.prototype.has=sne;Nu.prototype.set=ane;var I0=Nu,lne=Ea,une=gi,cne=lne(une,"Map"),IE=cne,YC=Lte,dne=I0,fne=IE;function hne(){this.size=0,this.__data__={hash:new YC,map:new(fne||dne),string:new YC}}var pne=hne;function mne(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var gne=mne,yne=gne;function vne(t,e){var n=t.__data__;return yne(e)?n[typeof e=="string"?"string":"hash"]:n.map}var k0=vne,xne=k0;function bne(t){var e=xne(this,t).delete(t);return this.size-=e?1:0,e}var wne=bne,_ne=k0;function Ene(t){return _ne(this,t).get(t)}var Tne=Ene,Sne=k0;function Ane(t){return Sne(this,t).has(t)}var Ine=Ane,kne=k0;function Cne(t,e){var n=kne(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Pne=Cne,Nne=pne,Rne=wne,One=Tne,Mne=Ine,Dne=Pne;function Ru(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ru.prototype.clear=Nne;Ru.prototype.delete=Rne;Ru.prototype.get=One;Ru.prototype.has=Mne;Ru.prototype.set=Dne;var kE=Ru,L$=kE,jne="Expected a function";function CE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(jne);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(CE.Cache||L$),n}CE.Cache=L$;var $$=CE;const Lne=Ze($$);var $ne=$$,Vne=500;function Fne(t){var e=$ne(t,function(r){return n.size===Vne&&n.clear(),r}),n=e.cache;return e}var Une=Fne,Bne=Une,zne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Gne=/\\(\\)?/g,qne=Bne(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(zne,function(n,r,i,o){e.push(i?o.replace(Gne,"$1"):r||n)}),e}),Hne=qne;function Wne(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var PE=Wne,JC=qf,Kne=PE,Yne=qn,Jne=ku,XC=JC?JC.prototype:void 0,QC=XC?XC.toString:void 0;function V$(t){if(typeof t=="string")return t;if(Yne(t))return Kne(t,V$)+"";if(Jne(t))return QC?QC.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Xne=V$,Qne=Xne;function Zne(t){return t==null?"":Qne(t)}var F$=Zne,ere=qn,tre=TE,nre=Hne,rre=F$;function ire(t,e){return ere(t)?t:tre(t,e)?[t]:nre(rre(t))}var U$=ire,ore=ku;function sre(t){if(typeof t=="string"||ore(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var C0=sre,are=U$,lre=C0;function ure(t,e){e=are(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[lre(e[n++])];return n&&n==r?t:void 0}var NE=ure,cre=NE;function dre(t,e,n){var r=t==null?void 0:cre(t,e);return r===void 0?n:r}var B$=dre;const nr=Ze(B$);function fre(t){return t==null}var hre=fre;const Ie=Ze(hre);var pre=lo,mre=qn,gre=uo,yre="[object String]";function vre(t){return typeof t=="string"||!mre(t)&&gre(t)&&pre(t)==yre}var xre=vre;const fa=Ze(xre);var z$={exports:{}},tt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RE=Symbol.for("react.element"),OE=Symbol.for("react.portal"),P0=Symbol.for("react.fragment"),N0=Symbol.for("react.strict_mode"),R0=Symbol.for("react.profiler"),O0=Symbol.for("react.provider"),M0=Symbol.for("react.context"),bre=Symbol.for("react.server_context"),D0=Symbol.for("react.forward_ref"),j0=Symbol.for("react.suspense"),L0=Symbol.for("react.suspense_list"),$0=Symbol.for("react.memo"),V0=Symbol.for("react.lazy"),wre=Symbol.for("react.offscreen"),G$;G$=Symbol.for("react.module.reference");function Ir(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case RE:switch(t=t.type,t){case P0:case R0:case N0:case j0:case L0:return t;default:switch(t=t&&t.$$typeof,t){case bre:case M0:case D0:case V0:case $0:case O0:return t;default:return e}}case OE:return e}}}tt.ContextConsumer=M0;tt.ContextProvider=O0;tt.Element=RE;tt.ForwardRef=D0;tt.Fragment=P0;tt.Lazy=V0;tt.Memo=$0;tt.Portal=OE;tt.Profiler=R0;tt.StrictMode=N0;tt.Suspense=j0;tt.SuspenseList=L0;tt.isAsyncMode=function(){return!1};tt.isConcurrentMode=function(){return!1};tt.isContextConsumer=function(t){return Ir(t)===M0};tt.isContextProvider=function(t){return Ir(t)===O0};tt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===RE};tt.isForwardRef=function(t){return Ir(t)===D0};tt.isFragment=function(t){return Ir(t)===P0};tt.isLazy=function(t){return Ir(t)===V0};tt.isMemo=function(t){return Ir(t)===$0};tt.isPortal=function(t){return Ir(t)===OE};tt.isProfiler=function(t){return Ir(t)===R0};tt.isStrictMode=function(t){return Ir(t)===N0};tt.isSuspense=function(t){return Ir(t)===j0};tt.isSuspenseList=function(t){return Ir(t)===L0};tt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===P0||t===R0||t===N0||t===j0||t===L0||t===wre||typeof t=="object"&&t!==null&&(t.$$typeof===V0||t.$$typeof===$0||t.$$typeof===O0||t.$$typeof===M0||t.$$typeof===D0||t.$$typeof===G$||t.getModuleId!==void 0)};tt.typeOf=Ir;z$.exports=tt;var _re=z$.exports,Ere=lo,Tre=uo,Sre="[object Number]";function Are(t){return typeof t=="number"||Tre(t)&&Ere(t)==Sre}var q$=Are;const Ire=Ze(q$);var kre=q$;function Cre(t){return kre(t)&&t!=+t}var Pre=Cre;const Ou=Ze(Pre);var Nn=function(e){return e===0?0:e>0?1:-1},Fs=function(e){return fa(e)&&e.indexOf("%")===e.length-1},ae=function(e){return Ire(e)&&!Ou(e)},Nre=function(e){return Ie(e)},Ut=function(e){return ae(e)||fa(e)},Rre=0,Ta=function(e){var n=++Rre;return"".concat(e||"").concat(n)},Rn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ae(e)&&!fa(e))return r;var o;if(Fs(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Ou(o)&&(o=r),i&&o>n&&(o=n),o},Po=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Ore=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},bt=function(e,n){return ae(e)&&ae(n)?function(r){return e+r*(n-e)}:function(){return n}};function Rm(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):nr(r,e))===n})}var Mre=function(e,n){return ae(e)&&ae(n)?e-n:fa(e)&&fa(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function wl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Ob(t){"@babel/helpers - typeof";return Ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ob(t)}var Dre=["viewBox","children"],jre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ZC=["points","pathLength"],mv={svg:Dre,polygon:ZC,polyline:ZC},ME=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Om=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(B.isValidElement(e)&&(r=e.props),!Cu(r))return null;var i={};return Object.keys(r).forEach(function(o){ME.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},Lre=function(e,n,r){return function(i){return e(n,r,i),null}},ha=function(e,n,r){if(!Cu(e)||Ob(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];ME.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=Lre(s,n,r))}),i},$re=["children"],Vre=["children"];function eP(t,e){if(t==null)return{};var n=Fre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mb(t){"@babel/helpers - typeof";return Mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mb(t)}var tP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Fi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},nP=null,gv=null,DE=function t(e){if(e===nP&&Array.isArray(gv))return gv;var n=[];return B.Children.forEach(e,function(r){Ie(r)||(_re.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),gv=n,nP=e,n};function rr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Fi(i)}):r=[Fi(e)],DE(t).forEach(function(i){var o=nr(i,"type.displayName")||nr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Jn(t,e){var n=rr(t,e);return n&&n[0]}var rP=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ae(r)||r<=0||!ae(i)||i<=0)},Ure=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Bre=function(e){return e&&e.type&&fa(e.type)&&Ure.indexOf(e.type)>=0},H$=function(e){return e&&Mb(e)==="object"&&"clipDot"in e},zre=function(e,n,r,i){var o,s=(o=mv==null?void 0:mv[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!_e(e)&&(i&&s.includes(n)||jre.includes(n))||r&&ME.includes(n)},ye=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(B.isValidElement(e)&&(i=e.props),!Cu(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;zre((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},Db=function t(e,n){if(e===n)return!0;var r=B.Children.count(e);if(r!==B.Children.count(n))return!1;if(r===0)return!0;if(r===1)return iP(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!iP(o,s))return!1}return!0},iP=function(e,n){if(Ie(e)&&Ie(n))return!0;if(!Ie(e)&&!Ie(n)){var r=e.props||{},i=r.children,o=eP(r,$re),s=n.props||{},a=s.children,l=eP(s,Vre);return i&&a?wl(o,l)&&Db(i,a):!i&&!a?wl(o,l):!1}return!1},oP=function(e,n){var r=[],i={};return DE(e).forEach(function(o,s){if(Bre(o))r.push(o);else if(o){var a=Fi(o.type),l=n[a]||{},u=l.handler,c=l.once;if(u&&(!c||!i[a])){var f=u(o,a,s);r.push(f),i[a]=!0}}}),r},Gre=function(e){var n=e&&e.type;return n&&tP[n]?tP[n]:null},qre=function(e,n){return DE(n).indexOf(e)},Hre=["children","width","height","viewBox","className","style","title","desc"];function jb(){return jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jb.apply(this,arguments)}function Wre(t,e){if(t==null)return{};var n=Kre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lb(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=Wre(t,Hre),c=i||{width:n,height:r,x:0,y:0},f=Pe("recharts-surface",o);return U.createElement("svg",jb({},ye(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),U.createElement("title",null,a),U.createElement("desc",null,l),e)}var Yre=["children","className"];function $b(){return $b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$b.apply(this,arguments)}function Jre(t,e){if(t==null)return{};var n=Xre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var je=U.forwardRef(function(t,e){var n=t.children,r=t.className,i=Jre(t,Yre),o=Pe("recharts-layer",r);return U.createElement("g",$b({className:o},ye(i,!0),{ref:e}),n)}),qr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function Qre(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var Zre=Qre,eie=Zre;function tie(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:eie(t,e,n)}var nie=tie,rie="\\ud800-\\udfff",iie="\\u0300-\\u036f",oie="\\ufe20-\\ufe2f",sie="\\u20d0-\\u20ff",aie=iie+oie+sie,lie="\\ufe0e\\ufe0f",uie="\\u200d",cie=RegExp("["+uie+rie+aie+lie+"]");function die(t){return cie.test(t)}var W$=die;function fie(t){return t.split("")}var hie=fie,K$="\\ud800-\\udfff",pie="\\u0300-\\u036f",mie="\\ufe20-\\ufe2f",gie="\\u20d0-\\u20ff",yie=pie+mie+gie,vie="\\ufe0e\\ufe0f",xie="["+K$+"]",Vb="["+yie+"]",Fb="\\ud83c[\\udffb-\\udfff]",bie="(?:"+Vb+"|"+Fb+")",Y$="[^"+K$+"]",J$="(?:\\ud83c[\\udde6-\\uddff]){2}",X$="[\\ud800-\\udbff][\\udc00-\\udfff]",wie="\\u200d",Q$=bie+"?",Z$="["+vie+"]?",_ie="(?:"+wie+"(?:"+[Y$,J$,X$].join("|")+")"+Z$+Q$+")*",Eie=Z$+Q$+_ie,Tie="(?:"+[Y$+Vb+"?",Vb,J$,X$,xie].join("|")+")",Sie=RegExp(Fb+"(?="+Fb+")|"+Tie+Eie,"g");function Aie(t){return t.match(Sie)||[]}var Iie=Aie,kie=hie,Cie=W$,Pie=Iie;function Nie(t){return Cie(t)?Pie(t):kie(t)}var Rie=Nie,Oie=nie,Mie=W$,Die=Rie,jie=F$;function Lie(t){return function(e){e=jie(e);var n=Mie(e)?Die(e):void 0,r=n?n[0]:e.charAt(0),i=n?Oie(n,1).join(""):e.slice(1);return r[t]()+i}}var $ie=Lie,Vie=$ie,Fie=Vie("toUpperCase"),Uie=Fie;const F0=Ze(Uie);function ct(t){return function(){return t}}const e4=Math.cos,Mm=Math.sin,Xr=Math.sqrt,Dm=Math.PI,U0=2*Dm,Ub=Math.PI,Bb=2*Ub,Ps=1e-6,Bie=Bb-Ps;function t4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function zie(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return t4;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Gie{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?t4:zie(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,f=a-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Ps)if(!(Math.abs(f*l-u*c)>Ps)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-s,v=i-a,b=l*l+u*u,x=y*y+v*v,_=Math.sqrt(b),w=Math.sqrt(h),E=o*Math.tan((Ub-Math.acos((b+h-x)/(2*_*w)))/2),N=E/w,T=E/_;Math.abs(N-1)>Ps&&this._append`L${e+N*c},${n+N*f}`,this._append`A${o},${o},0,0,${+(f*y>c*v)},${this._x1=e+T*l},${this._y1=n+T*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ps||Math.abs(this._y1-c)>Ps)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%Bb+Bb),h>Bie?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>Ps&&this._append`A${r},${r},0,${+(h>=Ub)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function jE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Gie(e)}function LE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function n4(t){this._context=t}n4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function B0(t){return new n4(t)}function r4(t){return t[0]}function i4(t){return t[1]}function o4(t,e){var n=ct(!0),r=null,i=B0,o=null,s=jE(a);t=typeof t=="function"?t:t===void 0?r4:ct(t),e=typeof e=="function"?e:e===void 0?i4:ct(e);function a(l){var u,c=(l=LE(l)).length,f,h=!1,y;for(r==null&&(o=i(y=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(y)return o=null,y+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:ct(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:ct(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ct(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function qh(t,e,n){var r=null,i=ct(!0),o=null,s=B0,a=null,l=jE(u);t=typeof t=="function"?t:t===void 0?r4:ct(+t),e=typeof e=="function"?e:ct(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?i4:ct(+n);function u(f){var h,y,v,b=(f=LE(f)).length,x,_=!1,w,E=new Array(b),N=new Array(b);for(o==null&&(a=s(w=l())),h=0;h<=b;++h){if(!(h<b&&i(x=f[h],h,f))===_)if(_=!_)y=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=h-1;v>=y;--v)a.point(E[v],N[v]);a.lineEnd(),a.areaEnd()}_&&(E[h]=+t(x,h,f),N[h]=+e(x,h,f),a.point(r?+r(x,h,f):E[h],n?+n(x,h,f):N[h]))}if(w)return a=null,w+""||null}function c(){return o4().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:ct(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ct(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ct(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:ct(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ct(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ct(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ct(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}class s4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function qie(t){return new s4(t,!0)}function Hie(t){return new s4(t,!1)}const $E={draw(t,e){const n=Xr(e/Dm);t.moveTo(n,0),t.arc(0,0,n,0,U0)}},Wie={draw(t,e){const n=Xr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},a4=Xr(1/3),Kie=a4*2,Yie={draw(t,e){const n=Xr(e/Kie),r=n*a4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Jie={draw(t,e){const n=Xr(e),r=-n/2;t.rect(r,r,n,n)}},Xie=.8908130915292852,l4=Mm(Dm/10)/Mm(7*Dm/10),Qie=Mm(U0/10)*l4,Zie=-e4(U0/10)*l4,eoe={draw(t,e){const n=Xr(e*Xie),r=Qie*n,i=Zie*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=U0*o/5,a=e4(s),l=Mm(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},yv=Xr(3),toe={draw(t,e){const n=-Xr(e/(yv*3));t.moveTo(0,n*2),t.lineTo(-yv*n,-n),t.lineTo(yv*n,-n),t.closePath()}},ur=-.5,cr=Xr(3)/2,zb=1/Xr(12),noe=(zb/2+1)*3,roe={draw(t,e){const n=Xr(e/noe),r=n/2,i=n*zb,o=r,s=n*zb+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(ur*r-cr*i,cr*r+ur*i),t.lineTo(ur*o-cr*s,cr*o+ur*s),t.lineTo(ur*a-cr*l,cr*a+ur*l),t.lineTo(ur*r+cr*i,ur*i-cr*r),t.lineTo(ur*o+cr*s,ur*s-cr*o),t.lineTo(ur*a+cr*l,ur*l-cr*a),t.closePath()}};function ioe(t,e){let n=null,r=jE(i);t=typeof t=="function"?t:ct(t||$E),e=typeof e=="function"?e:ct(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:ct(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:ct(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function jm(){}function Lm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function u4(t){this._context=t}u4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Lm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Lm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ooe(t){return new u4(t)}function c4(t){this._context=t}c4.prototype={areaStart:jm,areaEnd:jm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Lm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function soe(t){return new c4(t)}function d4(t){this._context=t}d4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Lm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function aoe(t){return new d4(t)}function f4(t){this._context=t}f4.prototype={areaStart:jm,areaEnd:jm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function loe(t){return new f4(t)}function sP(t){return t<0?-1:1}function aP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(sP(o)+sP(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function lP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function vv(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function $m(t){this._context=t}$m.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vv(this,this._t0,lP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,vv(this,lP(this,n=aP(this,t,e)),n);break;default:vv(this,this._t0,n=aP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function h4(t){this._context=new p4(t)}(h4.prototype=Object.create($m.prototype)).point=function(t,e){$m.prototype.point.call(this,e,t)};function p4(t){this._context=t}p4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function uoe(t){return new $m(t)}function coe(t){return new h4(t)}function m4(t){this._context=t}m4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=uP(t),i=uP(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function uP(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function doe(t){return new m4(t)}function z0(t,e){this._context=t,this._t=e}z0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function foe(t){return new z0(t,.5)}function hoe(t){return new z0(t,0)}function poe(t){return new z0(t,1)}function $l(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Gb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function moe(t,e){return t[e]}function goe(t){const e=[];return e.key=t,e}function yoe(){var t=ct([]),e=Gb,n=$l,r=moe;function i(o){var s=Array.from(t.apply(this,arguments),goe),a,l=s.length,u=-1,c;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,c=LE(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:ct(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ct(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Gb:typeof o=="function"?o:ct(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??$l,i):n},i}function voe(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}$l(t,e)}}function xoe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}$l(t,e)}}function boe(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],f=c[r][1]||0,h=c[r-1][1]||0,y=(f-h)/2,v=0;v<a;++v){var b=t[e[v]],x=b[r][1]||0,_=b[r-1][1]||0;y+=x-_}l+=f,u+=y*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,$l(t,e)}}function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}var woe=["type","size","sizeType"];function qb(){return qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qb.apply(this,arguments)}function cP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(n),!0).forEach(function(r){_oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _oe(t,e,n){return e=Eoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eoe(t){var e=Toe(t,"string");return jd(e)=="symbol"?e:e+""}function Toe(t,e){if(jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Soe(t,e){if(t==null)return{};var n=Aoe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Aoe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var g4={symbolCircle:$E,symbolCross:Wie,symbolDiamond:Yie,symbolSquare:Jie,symbolStar:eoe,symbolTriangle:toe,symbolWye:roe},Ioe=Math.PI/180,koe=function(e){var n="symbol".concat(F0(e));return g4[n]||$E},Coe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Ioe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Poe=function(e,n){g4["symbol".concat(F0(e))]=n},VE=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=Soe(e,woe),u=dP(dP({},l),{},{type:r,size:o,sizeType:a}),c=function(){var x=koe(r),_=ioe().type(x).size(Coe(o,a,r));return _()},f=u.className,h=u.cx,y=u.cy,v=ye(u,!0);return h===+h&&y===+y&&o===+o?U.createElement("path",qb({},v,{className:Pe("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(y,")"),d:c()})):null};VE.registerSymbol=Poe;function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function Hb(){return Hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hb.apply(this,arguments)}function fP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Noe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fP(Object(n),!0).forEach(function(r){Ld(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Roe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ooe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v4(r.key),r)}}function Moe(t,e,n){return e&&Ooe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Doe(t,e,n){return e=Vm(e),joe(t,y4()?Reflect.construct(e,n||[],Vm(t).constructor):e.apply(t,n))}function joe(t,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Loe(t)}function Loe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y4=function(){return!!t})()}function Vm(t){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vm(t)}function $oe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wb(t,e)}function Wb(t,e){return Wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wb(t,e)}function Ld(t,e,n){return e=v4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v4(t){var e=Voe(t,"string");return Vl(e)=="symbol"?e:e+""}function Voe(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dr=32,FE=function(t){function e(){return Roe(this,e),Doe(this,e,arguments)}return $oe(e,t),Moe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=dr/2,s=dr/6,a=dr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:dr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(dr,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return U.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(dr/8,"h").concat(dr,"v").concat(dr*3/4,"h").concat(-dr,"z"),className:"recharts-legend-icon"});if(U.isValidElement(r.legendIcon)){var u=Noe({},r);return delete u.legendIcon,U.cloneElement(r.legendIcon,u)}return U.createElement(VE,{fill:l,cx:o,cy:o,size:dr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:dr,height:dr},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(y,v){var b=y.formatter||l,x=Pe(Ld(Ld({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",y.inactive));if(y.type==="none")return null;var _=_e(y.value)?null:y.value;qr(!_e(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=y.inactive?u:y.color;return U.createElement("li",Hb({className:x,style:f,key:"legend-item-".concat(v)},ha(r.props,y,v)),U.createElement(Lb,{width:s,height:s,viewBox:c,style:h},r.renderIcon(y)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},b?b(_,y,v):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(B.PureComponent);Ld(FE,"displayName","Legend");Ld(FE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Foe=I0;function Uoe(){this.__data__=new Foe,this.size=0}var Boe=Uoe;function zoe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Goe=zoe;function qoe(t){return this.__data__.get(t)}var Hoe=qoe;function Woe(t){return this.__data__.has(t)}var Koe=Woe,Yoe=I0,Joe=IE,Xoe=kE,Qoe=200;function Zoe(t,e){var n=this.__data__;if(n instanceof Yoe){var r=n.__data__;if(!Joe||r.length<Qoe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Xoe(r)}return n.set(t,e),this.size=n.size,this}var ese=Zoe,tse=I0,nse=Boe,rse=Goe,ise=Hoe,ose=Koe,sse=ese;function Mu(t){var e=this.__data__=new tse(t);this.size=e.size}Mu.prototype.clear=nse;Mu.prototype.delete=rse;Mu.prototype.get=ise;Mu.prototype.has=ose;Mu.prototype.set=sse;var x4=Mu,ase="__lodash_hash_undefined__";function lse(t){return this.__data__.set(t,ase),this}var use=lse;function cse(t){return this.__data__.has(t)}var dse=cse,fse=kE,hse=use,pse=dse;function Fm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new fse;++e<n;)this.add(t[e])}Fm.prototype.add=Fm.prototype.push=hse;Fm.prototype.has=pse;var b4=Fm;function mse(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var w4=mse;function gse(t,e){return t.has(e)}var _4=gse,yse=b4,vse=w4,xse=_4,bse=1,wse=2;function _se(t,e,n,r,i,o){var s=n&bse,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,y=n&wse?new yse:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var v=t[f],b=e[f];if(r)var x=s?r(b,v,f,e,t,o):r(v,b,f,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(y){if(!vse(e,function(_,w){if(!xse(y,w)&&(v===_||i(v,_,n,r,o)))return y.push(w)})){h=!1;break}}else if(!(v===b||i(v,b,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var E4=_se,Ese=gi,Tse=Ese.Uint8Array,Sse=Tse;function Ase(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Ise=Ase;function kse(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var UE=kse,hP=qf,pP=Sse,Cse=AE,Pse=E4,Nse=Ise,Rse=UE,Ose=1,Mse=2,Dse="[object Boolean]",jse="[object Date]",Lse="[object Error]",$se="[object Map]",Vse="[object Number]",Fse="[object RegExp]",Use="[object Set]",Bse="[object String]",zse="[object Symbol]",Gse="[object ArrayBuffer]",qse="[object DataView]",mP=hP?hP.prototype:void 0,xv=mP?mP.valueOf:void 0;function Hse(t,e,n,r,i,o,s){switch(n){case qse:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Gse:return!(t.byteLength!=e.byteLength||!o(new pP(t),new pP(e)));case Dse:case jse:case Vse:return Cse(+t,+e);case Lse:return t.name==e.name&&t.message==e.message;case Fse:case Bse:return t==e+"";case $se:var a=Nse;case Use:var l=r&Ose;if(a||(a=Rse),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=Mse,s.set(t,e);var c=Pse(a(t),a(e),r,i,o,s);return s.delete(t),c;case zse:if(xv)return xv.call(t)==xv.call(e)}return!1}var Wse=Hse;function Kse(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var T4=Kse,Yse=T4,Jse=qn;function Xse(t,e,n){var r=e(t);return Jse(t)?r:Yse(r,n(t))}var Qse=Xse;function Zse(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var eae=Zse;function tae(){return[]}var nae=tae,rae=eae,iae=nae,oae=Object.prototype,sae=oae.propertyIsEnumerable,gP=Object.getOwnPropertySymbols,aae=gP?function(t){return t==null?[]:(t=Object(t),rae(gP(t),function(e){return sae.call(t,e)}))}:iae,lae=aae;function uae(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var cae=uae,dae=lo,fae=uo,hae="[object Arguments]";function pae(t){return fae(t)&&dae(t)==hae}var mae=pae,yP=mae,gae=uo,S4=Object.prototype,yae=S4.hasOwnProperty,vae=S4.propertyIsEnumerable,xae=yP(function(){return arguments}())?yP:function(t){return gae(t)&&yae.call(t,"callee")&&!vae.call(t,"callee")},BE=xae,Um={exports:{}};function bae(){return!1}var wae=bae;Um.exports;(function(t,e){var n=gi,r=wae,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Um,Um.exports);var A4=Um.exports,_ae=9007199254740991,Eae=/^(?:0|[1-9]\d*)$/;function Tae(t,e){var n=typeof t;return e=e??_ae,!!e&&(n=="number"||n!="symbol"&&Eae.test(t))&&t>-1&&t%1==0&&t<e}var zE=Tae,Sae=9007199254740991;function Aae(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Sae}var GE=Aae,Iae=lo,kae=GE,Cae=uo,Pae="[object Arguments]",Nae="[object Array]",Rae="[object Boolean]",Oae="[object Date]",Mae="[object Error]",Dae="[object Function]",jae="[object Map]",Lae="[object Number]",$ae="[object Object]",Vae="[object RegExp]",Fae="[object Set]",Uae="[object String]",Bae="[object WeakMap]",zae="[object ArrayBuffer]",Gae="[object DataView]",qae="[object Float32Array]",Hae="[object Float64Array]",Wae="[object Int8Array]",Kae="[object Int16Array]",Yae="[object Int32Array]",Jae="[object Uint8Array]",Xae="[object Uint8ClampedArray]",Qae="[object Uint16Array]",Zae="[object Uint32Array]",pt={};pt[qae]=pt[Hae]=pt[Wae]=pt[Kae]=pt[Yae]=pt[Jae]=pt[Xae]=pt[Qae]=pt[Zae]=!0;pt[Pae]=pt[Nae]=pt[zae]=pt[Rae]=pt[Gae]=pt[Oae]=pt[Mae]=pt[Dae]=pt[jae]=pt[Lae]=pt[$ae]=pt[Vae]=pt[Fae]=pt[Uae]=pt[Bae]=!1;function ele(t){return Cae(t)&&kae(t.length)&&!!pt[Iae(t)]}var tle=ele;function nle(t){return function(e){return t(e)}}var I4=nle,Bm={exports:{}};Bm.exports;(function(t,e){var n=M$,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Bm,Bm.exports);var rle=Bm.exports,ile=tle,ole=I4,vP=rle,xP=vP&&vP.isTypedArray,sle=xP?ole(xP):ile,k4=sle,ale=cae,lle=BE,ule=qn,cle=A4,dle=zE,fle=k4,hle=Object.prototype,ple=hle.hasOwnProperty;function mle(t,e){var n=ule(t),r=!n&&lle(t),i=!n&&!r&&cle(t),o=!n&&!r&&!i&&fle(t),s=n||r||i||o,a=s?ale(t.length,String):[],l=a.length;for(var u in t)(e||ple.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||dle(u,l)))&&a.push(u);return a}var gle=mle,yle=Object.prototype;function vle(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||yle;return t===n}var xle=vle;function ble(t,e){return function(n){return t(e(n))}}var C4=ble,wle=C4,_le=wle(Object.keys,Object),Ele=_le,Tle=xle,Sle=Ele,Ale=Object.prototype,Ile=Ale.hasOwnProperty;function kle(t){if(!Tle(t))return Sle(t);var e=[];for(var n in Object(t))Ile.call(t,n)&&n!="constructor"&&e.push(n);return e}var Cle=kle,Ple=SE,Nle=GE;function Rle(t){return t!=null&&Nle(t.length)&&!Ple(t)}var Hf=Rle,Ole=gle,Mle=Cle,Dle=Hf;function jle(t){return Dle(t)?Ole(t):Mle(t)}var G0=jle,Lle=Qse,$le=lae,Vle=G0;function Fle(t){return Lle(t,Vle,$le)}var Ule=Fle,bP=Ule,Ble=1,zle=Object.prototype,Gle=zle.hasOwnProperty;function qle(t,e,n,r,i,o){var s=n&Ble,a=bP(t),l=a.length,u=bP(e),c=u.length;if(l!=c&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:Gle.call(e,h)))return!1}var y=o.get(t),v=o.get(e);if(y&&v)return y==e&&v==t;var b=!0;o.set(t,e),o.set(e,t);for(var x=s;++f<l;){h=a[f];var _=t[h],w=e[h];if(r)var E=s?r(w,_,h,e,t,o):r(_,w,h,t,e,o);if(!(E===void 0?_===w||i(_,w,n,r,o):E)){b=!1;break}x||(x=h=="constructor")}if(b&&!x){var N=t.constructor,T=e.constructor;N!=T&&"constructor"in t&&"constructor"in e&&!(typeof N=="function"&&N instanceof N&&typeof T=="function"&&T instanceof T)&&(b=!1)}return o.delete(t),o.delete(e),b}var Hle=qle,Wle=Ea,Kle=gi,Yle=Wle(Kle,"DataView"),Jle=Yle,Xle=Ea,Qle=gi,Zle=Xle(Qle,"Promise"),eue=Zle,tue=Ea,nue=gi,rue=tue(nue,"Set"),P4=rue,iue=Ea,oue=gi,sue=iue(oue,"WeakMap"),aue=sue,Kb=Jle,Yb=IE,Jb=eue,Xb=P4,Qb=aue,N4=lo,Du=j$,wP="[object Map]",lue="[object Object]",_P="[object Promise]",EP="[object Set]",TP="[object WeakMap]",SP="[object DataView]",uue=Du(Kb),cue=Du(Yb),due=Du(Jb),fue=Du(Xb),hue=Du(Qb),Ns=N4;(Kb&&Ns(new Kb(new ArrayBuffer(1)))!=SP||Yb&&Ns(new Yb)!=wP||Jb&&Ns(Jb.resolve())!=_P||Xb&&Ns(new Xb)!=EP||Qb&&Ns(new Qb)!=TP)&&(Ns=function(t){var e=N4(t),n=e==lue?t.constructor:void 0,r=n?Du(n):"";if(r)switch(r){case uue:return SP;case cue:return wP;case due:return _P;case fue:return EP;case hue:return TP}return e});var pue=Ns,bv=x4,mue=E4,gue=Wse,yue=Hle,AP=pue,IP=qn,kP=A4,vue=k4,xue=1,CP="[object Arguments]",PP="[object Array]",Hh="[object Object]",bue=Object.prototype,NP=bue.hasOwnProperty;function wue(t,e,n,r,i,o){var s=IP(t),a=IP(e),l=s?PP:AP(t),u=a?PP:AP(e);l=l==CP?Hh:l,u=u==CP?Hh:u;var c=l==Hh,f=u==Hh,h=l==u;if(h&&kP(t)){if(!kP(e))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new bv),s||vue(t)?mue(t,e,n,r,i,o):gue(t,e,l,n,r,i,o);if(!(n&xue)){var y=c&&NP.call(t,"__wrapped__"),v=f&&NP.call(e,"__wrapped__");if(y||v){var b=y?t.value():t,x=v?e.value():e;return o||(o=new bv),i(b,x,n,r,o)}}return h?(o||(o=new bv),yue(t,e,n,r,i,o)):!1}var _ue=wue,Eue=_ue,RP=uo;function R4(t,e,n,r,i){return t===e?!0:t==null||e==null||!RP(t)&&!RP(e)?t!==t&&e!==e:Eue(t,e,n,r,R4,i)}var qE=R4,Tue=x4,Sue=qE,Aue=1,Iue=2;function kue(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Tue;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?Sue(c,u,Aue|Iue,r,f):h))return!1}}return!0}var Cue=kue,Pue=hs;function Nue(t){return t===t&&!Pue(t)}var O4=Nue,Rue=O4,Oue=G0;function Mue(t){for(var e=Oue(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Rue(i)]}return e}var Due=Mue;function jue(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var M4=jue,Lue=Cue,$ue=Due,Vue=M4;function Fue(t){var e=$ue(t);return e.length==1&&e[0][2]?Vue(e[0][0],e[0][1]):function(n){return n===t||Lue(n,t,e)}}var Uue=Fue;function Bue(t,e){return t!=null&&e in Object(t)}var zue=Bue,Gue=U$,que=BE,Hue=qn,Wue=zE,Kue=GE,Yue=C0;function Jue(t,e,n){e=Gue(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=Yue(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Kue(i)&&Wue(s,i)&&(Hue(t)||que(t)))}var Xue=Jue,Que=zue,Zue=Xue;function ece(t,e){return t!=null&&Zue(t,e,Que)}var tce=ece,nce=qE,rce=B$,ice=tce,oce=TE,sce=O4,ace=M4,lce=C0,uce=1,cce=2;function dce(t,e){return oce(t)&&sce(e)?ace(lce(t),e):function(n){var r=rce(n,t);return r===void 0&&r===e?ice(n,t):nce(e,r,uce|cce)}}var fce=dce;function hce(t){return t}var ju=hce;function pce(t){return function(e){return e==null?void 0:e[t]}}var mce=pce,gce=NE;function yce(t){return function(e){return gce(e,t)}}var vce=yce,xce=mce,bce=vce,wce=TE,_ce=C0;function Ece(t){return wce(t)?xce(_ce(t)):bce(t)}var Tce=Ece,Sce=Uue,Ace=fce,Ice=ju,kce=qn,Cce=Tce;function Pce(t){return typeof t=="function"?t:t==null?Ice:typeof t=="object"?kce(t)?Ace(t[0],t[1]):Sce(t):Cce(t)}var yi=Pce;function Nce(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var D4=Nce;function Rce(t){return t!==t}var Oce=Rce;function Mce(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Dce=Mce,jce=D4,Lce=Oce,$ce=Dce;function Vce(t,e,n){return e===e?$ce(t,e,n):jce(t,Lce,n)}var Fce=Vce,Uce=Fce;function Bce(t,e){var n=t==null?0:t.length;return!!n&&Uce(t,e,0)>-1}var zce=Bce;function Gce(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var qce=Gce;function Hce(){}var Wce=Hce,wv=P4,Kce=Wce,Yce=UE,Jce=1/0,Xce=wv&&1/Yce(new wv([,-0]))[1]==Jce?function(t){return new wv(t)}:Kce,Qce=Xce,Zce=b4,ede=zce,tde=qce,nde=_4,rde=Qce,ide=UE,ode=200;function sde(t,e,n){var r=-1,i=ede,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=tde;else if(o>=ode){var u=e?null:rde(t);if(u)return ide(u);s=!1,i=nde,l=new Zce}else l=e?[]:a;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(c)}else i(l,f,n)||(l!==a&&l.push(f),a.push(c))}return a}var ade=sde,lde=yi,ude=ade;function cde(t,e){return t&&t.length?ude(t,lde(e)):[]}var dde=cde;const OP=Ze(dde);function j4(t,e,n){return e===!0?OP(t,n):_e(e)?OP(t,e):t}function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}var fde=["ref"];function MP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MP(Object(n),!0).forEach(function(r){q0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$4(r.key),r)}}function pde(t,e,n){return e&&DP(t.prototype,e),n&&DP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mde(t,e,n){return e=zm(e),gde(t,L4()?Reflect.construct(e,n||[],zm(t).constructor):e.apply(t,n))}function gde(t,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yde(t)}function yde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L4=function(){return!!t})()}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zm(t)}function vde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zb(t,e)}function Zb(t,e){return Zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zb(t,e)}function q0(t,e,n){return e=$4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $4(t){var e=xde(t,"string");return Fl(e)=="symbol"?e:e+""}function xde(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bde(t,e){if(t==null)return{};var n=wde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _de(t){return t.value}function Ede(t,e){if(U.isValidElement(t))return U.cloneElement(t,e);if(typeof t=="function")return U.createElement(t,e);e.ref;var n=bde(e,fde);return U.createElement(FE,n)}var jP=1,li=function(t){function e(){var n;hde(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=mde(this,e,[].concat(i)),q0(n,"lastBoundingBox",{width:-1,height:-1}),n}return vde(e,t),pde(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>jP||Math.abs(i.height-this.lastBoundingBox.height)>jP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ei({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var y=this.getBBoxSnapshot();f={left:((u||0)-y.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var v=this.getBBoxSnapshot();h={top:((c||0)-v.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ei(Ei({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Ei(Ei({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return U.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(y){r.wrapperNode=y}},Ede(o,Ei(Ei({},this.props),{},{payload:j4(c,u,_de)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Ei(Ei({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&ae(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(B.PureComponent);q0(li,"displayName","Legend");q0(li,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var LP=qf,Tde=BE,Sde=qn,$P=LP?LP.isConcatSpreadable:void 0;function Ade(t){return Sde(t)||Tde(t)||!!($P&&t&&t[$P])}var Ide=Ade,kde=T4,Cde=Ide;function V4(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Cde),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?V4(a,e-1,n,r,i):kde(i,a):r||(i[i.length]=a)}return i}var F4=V4;function Pde(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var Nde=Pde,Rde=Nde,Ode=Rde(),Mde=Ode,Dde=Mde,jde=G0;function Lde(t,e){return t&&Dde(t,e,jde)}var U4=Lde,$de=Hf;function Vde(t,e){return function(n,r){if(n==null)return n;if(!$de(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Fde=Vde,Ude=U4,Bde=Fde,zde=Bde(Ude),HE=zde,Gde=HE,qde=Hf;function Hde(t,e){var n=-1,r=qde(t)?Array(t.length):[];return Gde(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var B4=Hde;function Wde(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Kde=Wde,VP=ku;function Yde(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=VP(t),s=e!==void 0,a=e===null,l=e===e,u=VP(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var Jde=Yde,Xde=Jde;function Qde(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=Xde(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Zde=Qde,_v=PE,efe=NE,tfe=yi,nfe=B4,rfe=Kde,ife=I4,ofe=Zde,sfe=ju,afe=qn;function lfe(t,e,n){e.length?e=_v(e,function(o){return afe(o)?function(s){return efe(s,o.length===1?o[0]:o)}:o}):e=[sfe];var r=-1;e=_v(e,ife(tfe));var i=nfe(t,function(o,s,a){var l=_v(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return rfe(i,function(o,s){return ofe(o,s,n)})}var ufe=lfe;function cfe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var dfe=cfe,ffe=dfe,FP=Math.max;function hfe(t,e,n){return e=FP(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=FP(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),ffe(t,this,a)}}var pfe=hfe;function mfe(t){return function(){return t}}var gfe=mfe,yfe=Ea,vfe=function(){try{var t=yfe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),z4=vfe,xfe=gfe,UP=z4,bfe=ju,wfe=UP?function(t,e){return UP(t,"toString",{configurable:!0,enumerable:!1,value:xfe(e),writable:!0})}:bfe,_fe=wfe,Efe=800,Tfe=16,Sfe=Date.now;function Afe(t){var e=0,n=0;return function(){var r=Sfe(),i=Tfe-(r-n);if(n=r,i>0){if(++e>=Efe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Ife=Afe,kfe=_fe,Cfe=Ife,Pfe=Cfe(kfe),Nfe=Pfe,Rfe=ju,Ofe=pfe,Mfe=Nfe;function Dfe(t,e){return Mfe(Ofe(t,e,Rfe),t+"")}var jfe=Dfe,Lfe=AE,$fe=Hf,Vfe=zE,Ffe=hs;function Ufe(t,e,n){if(!Ffe(n))return!1;var r=typeof e;return(r=="number"?$fe(n)&&Vfe(e,n.length):r=="string"&&e in n)?Lfe(n[e],t):!1}var H0=Ufe,Bfe=F4,zfe=ufe,Gfe=jfe,BP=H0,qfe=Gfe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&BP(t,e[0],e[1])?e=[]:n>2&&BP(e[0],e[1],e[2])&&(e=[e[0]]),zfe(t,Bfe(e,1),[])}),Hfe=qfe;const WE=Ze(Hfe);function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}function ew(){return ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ew.apply(this,arguments)}function Wfe(t,e){return Xfe(t)||Jfe(t,e)||Yfe(t,e)||Kfe()}function Kfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yfe(t,e){if(t){if(typeof t=="string")return zP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zP(t,e)}}function zP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Xfe(t){if(Array.isArray(t))return t}function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ev(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){Qfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qfe(t,e,n){return e=Zfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zfe(t){var e=ehe(t,"string");return $d(e)=="symbol"?e:e+""}function ehe(t,e){if($d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function the(t){return Array.isArray(t)&&Ut(t[0])&&Ut(t[1])?t.join(" ~ "):t}var nhe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,y=e.wrapperClassName,v=e.labelClassName,b=e.label,x=e.labelFormatter,_=e.accessibilityLayer,w=_===void 0?!1:_,E=function(){if(c&&c.length){var O={padding:0,margin:0},D=(h?WE(c,h):c).map(function(q,V){if(q.type==="none")return null;var j=Ev({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},a),F=q.formatter||f||the,L=q.value,z=q.name,G=L,Y=z;if(F&&G!=null&&Y!=null){var H=F(L,z,q,V,c);if(Array.isArray(H)){var J=Wfe(H,2);G=J[0],Y=J[1]}else G=H}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:j},Ut(Y)?U.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Ut(Y)?U.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,U.createElement("span",{className:"recharts-tooltip-item-value"},G),U.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:O},D)}return null},N=Ev({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),T=Ev({margin:0},u),C=!Ie(b),A=C?b:"",I=Pe("recharts-default-tooltip",y),k=Pe("recharts-tooltip-label",v);C&&x&&c!==void 0&&c!==null&&(A=x(b,c));var P=w?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",ew({className:I,style:N},P),U.createElement("p",{className:k,style:T},U.isValidElement(A)?A:"".concat(A)),E())};function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function Wh(t,e,n){return e=rhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rhe(t){var e=ihe(t,"string");return Vd(e)=="symbol"?e:e+""}function ihe(t,e){if(Vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pc="recharts-tooltip-wrapper",ohe={visibility:"hidden"};function she(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Pe(pc,Wh(Wh(Wh(Wh({},"".concat(pc,"-right"),ae(n)&&e&&ae(e.x)&&n>=e.x),"".concat(pc,"-left"),ae(n)&&e&&ae(e.x)&&n<e.x),"".concat(pc,"-bottom"),ae(r)&&e&&ae(e.y)&&r>=e.y),"".concat(pc,"-top"),ae(r)&&e&&ae(e.y)&&r<e.y))}function qP(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ae(o[r]))return o[r];var c=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?c:f;if(s[r]){var h=c,y=l[r];return h<y?Math.max(f,l[r]):Math.max(c,l[r])}var v=f+a,b=l[r]+u;return v>b?Math.max(c,l[r]):Math.max(f,l[r])}function ahe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function lhe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,f;return s.height>0&&s.width>0&&n?(c=qP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=qP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=ahe({translateX:c,translateY:f,useTranslate3d:a})):u=ohe,{cssProperties:u,cssClasses:she({translateX:c,translateY:f,coordinate:n})}}function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function HP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HP(Object(n),!0).forEach(function(r){nw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function che(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q4(r.key),r)}}function dhe(t,e,n){return e&&che(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fhe(t,e,n){return e=Gm(e),hhe(t,G4()?Reflect.construct(e,n||[],Gm(t).constructor):e.apply(t,n))}function hhe(t,e){if(e&&(Ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return phe(t)}function phe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G4=function(){return!!t})()}function Gm(t){return Gm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gm(t)}function mhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tw(t,e)}function tw(t,e){return tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tw(t,e)}function nw(t,e,n){return e=q4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q4(t){var e=ghe(t,"string");return Ul(e)=="symbol"?e:e+""}function ghe(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KP=1,yhe=function(t){function e(){var n;uhe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=fhe(this,e,[].concat(i)),nw(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),nw(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return mhe(e,t),dhe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>KP||Math.abs(r.height-this.state.lastBoundingBox.height)>KP)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,y=i.offset,v=i.position,b=i.reverseDirection,x=i.useTranslate3d,_=i.viewBox,w=i.wrapperStyle,E=lhe({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:y,position:v,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:_}),N=E.cssClasses,T=E.cssProperties,C=WP(WP({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return U.createElement("div",{tabIndex:-1,className:N,style:C,ref:function(I){r.wrapperNode=I}},u)}}])}(B.PureComponent),vhe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},co={isSsr:vhe()};function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(n),!0).forEach(function(r){KE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W4(r.key),r)}}function whe(t,e,n){return e&&bhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _he(t,e,n){return e=qm(e),Ehe(t,H4()?Reflect.construct(e,n||[],qm(t).constructor):e.apply(t,n))}function Ehe(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return The(t)}function The(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H4=function(){return!!t})()}function qm(t){return qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qm(t)}function She(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rw(t,e)}function rw(t,e){return rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rw(t,e)}function KE(t,e,n){return e=W4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W4(t){var e=Ahe(t,"string");return Bl(e)=="symbol"?e:e+""}function Ahe(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ihe(t){return t.dataKey}function khe(t,e){return U.isValidElement(t)?U.cloneElement(t,e):typeof t=="function"?U.createElement(t,e):U.createElement(nhe,e)}var rn=function(t){function e(){return xhe(this,e),_he(this,e,arguments)}return She(e,t),whe(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,y=i.offset,v=i.payload,b=i.payloadUniqBy,x=i.position,_=i.reverseDirection,w=i.useTranslate3d,E=i.viewBox,N=i.wrapperStyle,T=v??[];f&&T.length&&(T=j4(v.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),b,Ihe));var C=T.length>0;return U.createElement(yhe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:C,offset:y,position:x,reverseDirection:_,useTranslate3d:w,viewBox:E,wrapperStyle:N},khe(u,JP(JP({},this.props),{},{payload:T})))}}])}(B.PureComponent);KE(rn,"displayName","Tooltip");KE(rn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!co.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Che=gi,Phe=function(){return Che.Date.now()},Nhe=Phe,Rhe=/\s/;function Ohe(t){for(var e=t.length;e--&&Rhe.test(t.charAt(e)););return e}var Mhe=Ohe,Dhe=Mhe,jhe=/^\s+/;function Lhe(t){return t&&t.slice(0,Dhe(t)+1).replace(jhe,"")}var $he=Lhe,Vhe=$he,XP=hs,Fhe=ku,QP=NaN,Uhe=/^[-+]0x[0-9a-f]+$/i,Bhe=/^0b[01]+$/i,zhe=/^0o[0-7]+$/i,Ghe=parseInt;function qhe(t){if(typeof t=="number")return t;if(Fhe(t))return QP;if(XP(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=XP(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Vhe(t);var n=Bhe.test(t);return n||zhe.test(t)?Ghe(t.slice(2),n?2:8):Uhe.test(t)?QP:+t}var K4=qhe,Hhe=hs,Tv=Nhe,ZP=K4,Whe="Expected a function",Khe=Math.max,Yhe=Math.min;function Jhe(t,e,n){var r,i,o,s,a,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Whe);e=ZP(e)||0,Hhe(n)&&(c=!!n.leading,f="maxWait"in n,o=f?Khe(ZP(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function y(C){var A=r,I=i;return r=i=void 0,u=C,s=t.apply(I,A),s}function v(C){return u=C,a=setTimeout(_,e),c?y(C):s}function b(C){var A=C-l,I=C-u,k=e-A;return f?Yhe(k,o-I):k}function x(C){var A=C-l,I=C-u;return l===void 0||A>=e||A<0||f&&I>=o}function _(){var C=Tv();if(x(C))return w(C);a=setTimeout(_,b(C))}function w(C){return a=void 0,h&&r?y(C):(r=i=void 0,s)}function E(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function N(){return a===void 0?s:w(Tv())}function T(){var C=Tv(),A=x(C);if(r=arguments,i=this,l=C,A){if(a===void 0)return v(l);if(f)return clearTimeout(a),a=setTimeout(_,e),y(l)}return a===void 0&&(a=setTimeout(_,e)),s}return T.cancel=E,T.flush=N,T}var Xhe=Jhe,Qhe=Xhe,Zhe=hs,epe="Expected a function";function tpe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(epe);return Zhe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Qhe(t,e,{leading:r,maxWait:e,trailing:i})}var npe=tpe;const Y4=Ze(npe);function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function eN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eN(Object(n),!0).forEach(function(r){rpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rpe(t,e,n){return e=ipe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ipe(t){var e=ope(t,"string");return Fd(e)=="symbol"?e:e+""}function ope(t,e){if(Fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function spe(t,e){return cpe(t)||upe(t,e)||lpe(t,e)||ape()}function ape(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lpe(t,e){if(t){if(typeof t=="string")return tN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tN(t,e)}}function tN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function upe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function cpe(t){if(Array.isArray(t))return t}var Yo=B.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,y=t.children,v=t.debounce,b=v===void 0?0:v,x=t.id,_=t.className,w=t.onResize,E=t.style,N=E===void 0?{}:E,T=B.useRef(null),C=B.useRef();C.current=w,B.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var A=B.useState({containerWidth:i.width,containerHeight:i.height}),I=spe(A,2),k=I[0],P=I[1],R=B.useCallback(function(D,q){P(function(V){var j=Math.round(D),F=Math.round(q);return V.containerWidth===j&&V.containerHeight===F?V:{containerWidth:j,containerHeight:F}})},[]);B.useEffect(function(){var D=function(z){var G,Y=z[0].contentRect,H=Y.width,J=Y.height;R(H,J),(G=C.current)===null||G===void 0||G.call(C,H,J)};b>0&&(D=Y4(D,b,{trailing:!0,leading:!1}));var q=new ResizeObserver(D),V=T.current.getBoundingClientRect(),j=V.width,F=V.height;return R(j,F),q.observe(T.current),function(){q.disconnect()}},[R,b]);var O=B.useMemo(function(){var D=k.containerWidth,q=k.containerHeight;if(D<0||q<0)return null;qr(Fs(s)||Fs(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),qr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var V=Fs(s)?D:s,j=Fs(l)?q:l;n&&n>0&&(V?j=V/n:j&&(V=j*n),h&&j>h&&(j=h)),qr(V>0||j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,j,s,l,c,f,n);var F=!Array.isArray(y)&&Fi(y.type).endsWith("Chart");return U.Children.map(y,function(L){return U.isValidElement(L)?B.cloneElement(L,Kh({width:V,height:j},F?{style:Kh({height:"100%",width:"100%",maxHeight:j,maxWidth:V},L.props.style)}:{})):L})},[n,y,l,h,f,c,k,s]);return U.createElement("div",{id:x?"".concat(x):void 0,className:Pe("recharts-responsive-container",_),style:Kh(Kh({},N),{},{width:s,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:T},O)}),Sa=function(e){return null};Sa.displayName="Cell";function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}function nN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nN(Object(n),!0).forEach(function(r){dpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dpe(t,e,n){return e=fpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fpe(t){var e=hpe(t,"string");return Ud(e)=="symbol"?e:e+""}function hpe(t,e){if(Ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ma={widthCache:{},cacheCount:0},ppe=2e3,mpe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rN="recharts_measurement_span";function gpe(t){var e=iw({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Yc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||co.isSsr)return{width:0,height:0};var r=gpe(n),i=JSON.stringify({text:e,copyStyle:r});if(Ma.widthCache[i])return Ma.widthCache[i];try{var o=document.getElementById(rN);o||(o=document.createElement("span"),o.setAttribute("id",rN),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=iw(iw({},mpe),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return Ma.widthCache[i]=l,++Ma.cacheCount>ppe&&(Ma.cacheCount=0,Ma.widthCache={}),l}catch{return{width:0,height:0}}},ype=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Bd(t){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bd(t)}function Hm(t,e){return wpe(t)||bpe(t,e)||xpe(t,e)||vpe()}function vpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xpe(t,e){if(t){if(typeof t=="string")return iN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iN(t,e)}}function iN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function wpe(t){if(Array.isArray(t))return t}function _pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tpe(r.key),r)}}function Epe(t,e,n){return e&&oN(t.prototype,e),n&&oN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tpe(t){var e=Spe(t,"string");return Bd(e)=="symbol"?e:e+""}function Spe(t,e){if(Bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ape=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ipe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,J4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},kpe=Object.keys(J4),il="NaN";function Cpe(t,e){return t*J4[e]}var Yh=function(){function t(e,n){_pe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Ape.test(n)&&(this.num=NaN,this.unit=""),kpe.includes(n)&&(this.num=Cpe(e,n),this.unit="px")}return Epe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Ipe.exec(n))!==null&&r!==void 0?r:[],o=Hm(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function X4(t){if(t.includes(il))return il;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=sN.exec(e))!==null&&n!==void 0?n:[],i=Hm(r,4),o=i[1],s=i[2],a=i[3],l=Yh.parse(o??""),u=Yh.parse(a??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return il;e=e.replace(sN,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=aN.exec(e))!==null&&f!==void 0?f:[],y=Hm(h,4),v=y[1],b=y[2],x=y[3],_=Yh.parse(v??""),w=Yh.parse(x??""),E=b==="+"?_.add(w):_.subtract(w);if(E.isNaN())return il;e=e.replace(aN,E.toString())}return e}var lN=/\(([^()]*)\)/;function Ppe(t){for(var e=t;e.includes("(");){var n=lN.exec(e),r=Hm(n,2),i=r[1];e=e.replace(lN,X4(i))}return e}function Npe(t){var e=t.replace(/\s+/g,"");return e=Ppe(e),e=X4(e),e}function Rpe(t){try{return Npe(t)}catch{return il}}function Sv(t){var e=Rpe(t.slice(5,-1));return e===il?"":e}var Ope=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Mpe=["dx","dy","angle","className","breakAll"];function ow(){return ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ow.apply(this,arguments)}function uN(t,e){if(t==null)return{};var n=Dpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cN(t,e){return Vpe(t)||$pe(t,e)||Lpe(t,e)||jpe()}function jpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lpe(t,e){if(t){if(typeof t=="string")return dN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dN(t,e)}}function dN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $pe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Vpe(t){if(Array.isArray(t))return t}var Q4=/[ \f\n\r\t\v\u2028\u2029]+/,Z4=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Ie(n)||(r?o=n.toString().split(""):o=n.toString().split(Q4));var s=o.map(function(l){return{word:l,width:Yc(l,i).width}}),a=r?0:Yc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Fpe=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=ae(s),f=a,h=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(j,F){var L=F.word,z=F.width,G=j[j.length-1];if(G&&(i==null||o||G.width+z+r<Number(i)))G.words.push(L),G.width+=z+r;else{var Y={words:[L],width:z};j.push(Y)}return j},[])},y=h(n),v=function(V){return V.reduce(function(j,F){return j.width>F.width?j:F})};if(!c)return y;for(var b="",x=function(V){var j=f.slice(0,V),F=Z4({breakAll:u,style:l,children:j+b}).wordsWithComputedWidth,L=h(F),z=L.length>s||v(L).width>Number(i);return[z,L]},_=0,w=f.length-1,E=0,N;_<=w&&E<=f.length-1;){var T=Math.floor((_+w)/2),C=T-1,A=x(C),I=cN(A,2),k=I[0],P=I[1],R=x(T),O=cN(R,1),D=O[0];if(!k&&!D&&(_=T+1),k&&D&&(w=T-1),!k&&D){N=P;break}E++}return N||y},fN=function(e){var n=Ie(e)?[]:e.toString().split(Q4);return[{words:n}]},Upe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!co.isSsr){var l,u,c=Z4({breakAll:s,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return fN(i);return Fpe({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return fN(i)},hN="#808080",pa=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,y=h===void 0?"start":h,v=e.verticalAnchor,b=v===void 0?"end":v,x=e.fill,_=x===void 0?hN:x,w=uN(e,Ope),E=B.useMemo(function(){return Upe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),N=w.dx,T=w.dy,C=w.angle,A=w.className,I=w.breakAll,k=uN(w,Mpe);if(!Ut(r)||!Ut(o))return null;var P=r+(ae(N)?N:0),R=o+(ae(T)?T:0),O;switch(b){case"start":O=Sv("calc(".concat(u,")"));break;case"middle":O=Sv("calc(".concat((E.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:O=Sv("calc(".concat(E.length-1," * -").concat(a,")"));break}var D=[];if(f){var q=E[0].width,V=w.width;D.push("scale(".concat((ae(V)?V/q:1)/q,")"))}return C&&D.push("rotate(".concat(C,", ").concat(P,", ").concat(R,")")),D.length&&(k.transform=D.join(" ")),U.createElement("text",ow({},ye(k,!0),{x:P,y:R,className:Pe("recharts-text",A),textAnchor:y,fill:_.includes("url")?hN:_}),E.map(function(j,F){var L=j.words.join(I?"":" ");return U.createElement("tspan",{x:P,dy:F===0?O:a,key:"".concat(L,"-").concat(F)},L)}))};function Jo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bpe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function YE(t){let e,n,r;t.length!==2?(e=Jo,n=(a,l)=>Jo(t(a),l),r=(a,l)=>t(a)-l):(e=t===Jo||t===Bpe?t:zpe,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function zpe(){return 0}function e3(t){return t===null?NaN:+t}function*Gpe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const qpe=YE(Jo),Wf=qpe.right;YE(e3).center;class pN extends Map{constructor(e,n=Kpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(mN(this,e))}has(e){return super.has(mN(this,e))}set(e,n){return super.set(Hpe(this,e),n)}delete(e){return super.delete(Wpe(this,e))}}function mN({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Hpe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Wpe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Kpe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ype(t=Jo){if(t===Jo)return t3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function t3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Jpe=Math.sqrt(50),Xpe=Math.sqrt(10),Qpe=Math.sqrt(2);function Wm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Jpe?10:o>=Xpe?5:o>=Qpe?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?Wm(t,e,n*2):[a,l,u]}function sw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Wm(e,t,n):Wm(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function aw(t,e,n){return e=+e,t=+t,n=+n,Wm(t,e,n)[2]}function lw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?aw(e,t,n):aw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function gN(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function yN(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function n3(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?t3:Ype(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),y=Math.max(n,Math.floor(e-u*f/l+h)),v=Math.min(r,Math.floor(e+(l-u)*f/l+h));n3(t,e,y,v,i)}const o=t[e];let s=n,a=r;for(mc(t,n,e),i(t[r],o)>0&&mc(t,n,r);s<a;){for(mc(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?mc(t,n,a):(++a,mc(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function mc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Zpe(t,e,n){if(t=Float64Array.from(Gpe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return yN(t);if(e>=1)return gN(t);var r,i=(r-1)*e,o=Math.floor(i),s=gN(n3(t,o).subarray(0,o+1)),a=yN(t.subarray(o+1));return s+(a-s)*(i-o)}}function eme(t,e,n=e3){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function tme(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function kr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function fo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const uw=Symbol("implicit");function JE(){var t=new pN,e=[],n=[],r=uw;function i(o){let s=t.get(o);if(s===void 0){if(r!==uw)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new pN;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return JE(e,n).unknown(r)},kr.apply(i,arguments),i}function zd(){var t=JE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,y=i<r,v=y?i:r,b=y?r:i;o=(b-v)/Math.max(1,h-l+u*2),a&&(o=Math.floor(o)),v+=(b-v-o*(h-l))*c,s=o*(1-l),a&&(v=Math.round(v),s=Math.round(s));var x=tme(h).map(function(_){return v+o*_});return n(y?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return zd(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},kr.apply(f(),arguments)}function r3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return r3(e())},t}function Jc(){return r3(zd.apply(null,arguments).paddingInner(1))}function XE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function i3(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Kf(){}var Gd=.7,Km=1/Gd,_l="\\s*([+-]?\\d+)\\s*",qd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ui="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nme=/^#([0-9a-f]{3,8})$/,rme=new RegExp(`^rgb\\(${_l},${_l},${_l}\\)$`),ime=new RegExp(`^rgb\\(${ui},${ui},${ui}\\)$`),ome=new RegExp(`^rgba\\(${_l},${_l},${_l},${qd}\\)$`),sme=new RegExp(`^rgba\\(${ui},${ui},${ui},${qd}\\)$`),ame=new RegExp(`^hsl\\(${qd},${ui},${ui}\\)$`),lme=new RegExp(`^hsla\\(${qd},${ui},${ui},${qd}\\)$`),vN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};XE(Kf,Hd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:xN,formatHex:xN,formatHex8:ume,formatHsl:cme,formatRgb:bN,toString:bN});function xN(){return this.rgb().formatHex()}function ume(){return this.rgb().formatHex8()}function cme(){return o3(this).formatHsl()}function bN(){return this.rgb().formatRgb()}function Hd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=nme.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?wN(e):n===3?new Un(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Jh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Jh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=rme.exec(t))?new Un(e[1],e[2],e[3],1):(e=ime.exec(t))?new Un(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ome.exec(t))?Jh(e[1],e[2],e[3],e[4]):(e=sme.exec(t))?Jh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ame.exec(t))?TN(e[1],e[2]/100,e[3]/100,1):(e=lme.exec(t))?TN(e[1],e[2]/100,e[3]/100,e[4]):vN.hasOwnProperty(t)?wN(vN[t]):t==="transparent"?new Un(NaN,NaN,NaN,0):null}function wN(t){return new Un(t>>16&255,t>>8&255,t&255,1)}function Jh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Un(t,e,n,r)}function dme(t){return t instanceof Kf||(t=Hd(t)),t?(t=t.rgb(),new Un(t.r,t.g,t.b,t.opacity)):new Un}function cw(t,e,n,r){return arguments.length===1?dme(t):new Un(t,e,n,r??1)}function Un(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}XE(Un,cw,i3(Kf,{brighter(t){return t=t==null?Km:Math.pow(Km,t),new Un(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Gd:Math.pow(Gd,t),new Un(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Un(Ys(this.r),Ys(this.g),Ys(this.b),Ym(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_N,formatHex:_N,formatHex8:fme,formatRgb:EN,toString:EN}));function _N(){return`#${Us(this.r)}${Us(this.g)}${Us(this.b)}`}function fme(){return`#${Us(this.r)}${Us(this.g)}${Us(this.b)}${Us((isNaN(this.opacity)?1:this.opacity)*255)}`}function EN(){const t=Ym(this.opacity);return`${t===1?"rgb(":"rgba("}${Ys(this.r)}, ${Ys(this.g)}, ${Ys(this.b)}${t===1?")":`, ${t})`}`}function Ym(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ys(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Us(t){return t=Ys(t),(t<16?"0":"")+t.toString(16)}function TN(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new $r(t,e,n,r)}function o3(t){if(t instanceof $r)return new $r(t.h,t.s,t.l,t.opacity);if(t instanceof Kf||(t=Hd(t)),!t)return new $r;if(t instanceof $r)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new $r(s,a,l,t.opacity)}function hme(t,e,n,r){return arguments.length===1?o3(t):new $r(t,e,n,r??1)}function $r(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}XE($r,hme,i3(Kf,{brighter(t){return t=t==null?Km:Math.pow(Km,t),new $r(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Gd:Math.pow(Gd,t),new $r(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Un(Av(t>=240?t-240:t+120,i,r),Av(t,i,r),Av(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new $r(SN(this.h),Xh(this.s),Xh(this.l),Ym(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ym(this.opacity);return`${t===1?"hsl(":"hsla("}${SN(this.h)}, ${Xh(this.s)*100}%, ${Xh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function SN(t){return t=(t||0)%360,t<0?t+360:t}function Xh(t){return Math.max(0,Math.min(1,t||0))}function Av(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const QE=t=>()=>t;function pme(t,e){return function(n){return t+n*e}}function mme(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function gme(t){return(t=+t)==1?s3:function(e,n){return n-e?mme(e,n,t):QE(isNaN(e)?n:e)}}function s3(t,e){var n=e-t;return n?pme(t,n):QE(isNaN(t)?e:t)}const AN=function t(e){var n=gme(e);function r(i,o){var s=n((i=cw(i)).r,(o=cw(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=s3(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function yme(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function vme(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function xme(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Lu(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function bme(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Jm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function wme(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Lu(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var dw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Iv=new RegExp(dw.source,"g");function _me(t){return function(){return t}}function Eme(t){return function(e){return t(e)+""}}function Tme(t,e){var n=dw.lastIndex=Iv.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=dw.exec(t))&&(i=Iv.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Jm(r,i)})),n=Iv.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Eme(l[0].x):_me(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function Lu(t,e){var n=typeof e,r;return e==null||n==="boolean"?QE(e):(n==="number"?Jm:n==="string"?(r=Hd(e))?(e=r,AN):Tme:e instanceof Hd?AN:e instanceof Date?bme:vme(e)?yme:Array.isArray(e)?xme:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?wme:Jm)(t,e)}function ZE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Sme(t,e){e===void 0&&(e=t,t=Lu);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function Ame(t){return function(){return t}}function Xm(t){return+t}var IN=[0,1];function On(t){return t}function fw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Ame(isNaN(e)?NaN:.5)}function Ime(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function kme(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=fw(i,r),o=n(s,o)):(r=fw(r,i),o=n(o,s)),function(a){return o(r(a))}}function Cme(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=fw(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=Wf(t,a,1,r)-1;return o[l](i[l](a))}}function Yf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function W0(){var t=IN,e=IN,n=Lu,r,i,o,s=On,a,l,u;function c(){var h=Math.min(t.length,e.length);return s!==On&&(s=Ime(t[0],t[h-1])),a=h>2?Cme:kme,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=a(e,t.map(r),Jm)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Xm),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=ZE,c()},f.clamp=function(h){return arguments.length?(s=h?!0:On,c()):s!==On},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,y){return r=h,i=y,c()}}function eT(){return W0()(On,On)}function Pme(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Qm(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function zl(t){return t=Qm(Math.abs(t)),t?t[1]:NaN}function Nme(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Rme(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Ome=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wd(t){if(!(e=Ome.exec(t)))throw new Error("invalid format: "+t);var e;return new tT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Wd.prototype=tT.prototype;function tT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}tT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Mme(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Zm;function Dme(t,e){var n=Qm(t,e);if(!n)return Zm=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(Zm=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Qm(t,Math.max(0,e+o-1))[0]}function kN(t,e){var n=Qm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const CN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Pme,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>kN(t*100,e),r:kN,s:Dme,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function PN(t){return t}var NN=Array.prototype.map,RN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jme(t){var e=t.grouping===void 0||t.thousands===void 0?PN:Nme(NN.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?PN:Rme(NN.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f,h){f=Wd(f);var y=f.fill,v=f.align,b=f.sign,x=f.symbol,_=f.zero,w=f.width,E=f.comma,N=f.precision,T=f.trim,C=f.type;C==="n"?(E=!0,C="g"):CN[C]||(N===void 0&&(N=12),T=!0,C="g"),(_||y==="0"&&v==="=")&&(_=!0,y="0",v="=");var A=(h&&h.prefix!==void 0?h.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():""),I=(x==="$"?r:/[%p]/.test(C)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),k=CN[C],P=/[defgprs%]/.test(C);N=N===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function R(O){var D=A,q=I,V,j,F;if(C==="c")q=k(O)+q,O="";else{O=+O;var L=O<0||1/O<0;if(O=isNaN(O)?l:k(Math.abs(O),N),T&&(O=Mme(O)),L&&+O==0&&b!=="+"&&(L=!1),D=(L?b==="("?b:a:b==="-"||b==="("?"":b)+D,q=(C==="s"&&!isNaN(O)&&Zm!==void 0?RN[8+Zm/3]:"")+q+(L&&b==="("?")":""),P){for(V=-1,j=O.length;++V<j;)if(F=O.charCodeAt(V),48>F||F>57){q=(F===46?i+O.slice(V+1):O.slice(V))+q,O=O.slice(0,V);break}}}E&&!_&&(O=e(O,1/0));var z=D.length+O.length+q.length,G=z<w?new Array(w-z+1).join(y):"";switch(E&&_&&(O=e(G+O,G.length?w-q.length:1/0),G=""),v){case"<":O=D+O+q+G;break;case"=":O=D+G+O+q;break;case"^":O=G.slice(0,z=G.length>>1)+D+O+q+G.slice(z);break;default:O=G+D+O+q;break}return o(O)}return R.toString=function(){return f+""},R}function c(f,h){var y=Math.max(-8,Math.min(8,Math.floor(zl(h)/3)))*3,v=Math.pow(10,-y),b=u((f=Wd(f),f.type="f",f),{suffix:RN[8+y/3]});return function(x){return b(v*x)}}return{format:u,formatPrefix:c}}var Qh,nT,a3;Lme({thousands:",",grouping:[3],currency:["$",""]});function Lme(t){return Qh=jme(t),nT=Qh.format,a3=Qh.formatPrefix,Qh}function $me(t){return Math.max(0,-zl(Math.abs(t)))}function Vme(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(zl(e)/3)))*3-zl(Math.abs(t)))}function Fme(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,zl(e)-zl(t))+1}function l3(t,e,n,r){var i=lw(t,e,n),o;switch(r=Wd(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Vme(i,s))&&(r.precision=o),a3(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Fme(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=$me(i))&&(r.precision=o-(r.type==="%")*2);break}}return nT(r)}function ps(t){var e=t.domain;return t.ticks=function(n){var r=e();return sw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return l3(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=aw(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function eg(){var t=eT();return t.copy=function(){return Yf(t,eg())},kr.apply(t,arguments),ps(t)}function u3(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Xm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return u3(t).unknown(e)},t=arguments.length?Array.from(t,Xm):[0,1],ps(n)}function c3(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function ON(t){return Math.log(t)}function MN(t){return Math.exp(t)}function Ume(t){return-Math.log(-t)}function Bme(t){return-Math.exp(-t)}function zme(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Gme(t){return t===10?zme:t===Math.E?Math.exp:e=>Math.pow(t,e)}function qme(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function DN(t){return(e,n)=>-t(-e,n)}function rT(t){const e=t(ON,MN),n=e.domain;let r=10,i,o;function s(){return i=qme(r),o=Gme(r),n()[0]<0?(i=DN(i),o=DN(o),t(Ume,Bme)):t(ON,MN),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),y=i(c),v,b;const x=a==null?10:+a;let _=[];if(!(r%1)&&y-h<x){if(h=Math.floor(h),y=Math.ceil(y),u>0){for(;h<=y;++h)for(v=1;v<r;++v)if(b=h<0?v/o(-h):v*o(h),!(b<u)){if(b>c)break;_.push(b)}}else for(;h<=y;++h)for(v=r-1;v>=1;--v)if(b=h>0?v/o(-h):v*o(h),!(b<u)){if(b>c)break;_.push(b)}_.length*2<x&&(_=sw(u,c,x))}else _=sw(h,y,Math.min(y-h,x)).map(o);return f?_.reverse():_},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Wd(l)).precision==null&&(l.trim=!0),l=nT(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(c3(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function d3(){const t=rT(W0()).domain([1,10]);return t.copy=()=>Yf(t,d3()).base(t.base()),kr.apply(t,arguments),t}function jN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function LN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function iT(t){var e=1,n=t(jN(e),LN(e));return n.constant=function(r){return arguments.length?t(jN(e=+r),LN(e)):e},ps(n)}function f3(){var t=iT(W0());return t.copy=function(){return Yf(t,f3()).constant(t.constant())},kr.apply(t,arguments)}function $N(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Hme(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Wme(t){return t<0?-t*t:t*t}function oT(t){var e=t(On,On),n=1;function r(){return n===1?t(On,On):n===.5?t(Hme,Wme):t($N(n),$N(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ps(e)}function sT(){var t=oT(W0());return t.copy=function(){return Yf(t,sT()).exponent(t.exponent())},kr.apply(t,arguments),t}function Kme(){return sT.apply(null,arguments).exponent(.5)}function VN(t){return Math.sign(t)*t*t}function Yme(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function h3(){var t=eT(),e=[0,1],n=!1,r;function i(o){var s=Yme(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(VN(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Xm)).map(VN)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return h3(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},kr.apply(i,arguments),ps(i)}function p3(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=eme(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Wf(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Jo),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return p3().domain(t).range(e).unknown(r)},kr.apply(o,arguments)}function m3(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Wf(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return m3().domain([t,e]).range(i).unknown(o)},kr.apply(ps(s),arguments)}function g3(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Wf(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return g3().domain(t).range(e).unknown(n)},kr.apply(i,arguments)}const kv=new Date,Cv=new Date;function zt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>zt(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(kv.setTime(+o),Cv.setTime(+s),t(kv),t(Cv),Math.floor(n(kv,Cv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const tg=zt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);tg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?zt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):tg);tg.range;const Mi=1e3,gr=Mi*60,Di=gr*60,Zi=Di*24,aT=Zi*7,FN=Zi*30,Pv=Zi*365,Bs=zt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Mi)},(t,e)=>(e-t)/Mi,t=>t.getUTCSeconds());Bs.range;const lT=zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Mi)},(t,e)=>{t.setTime(+t+e*gr)},(t,e)=>(e-t)/gr,t=>t.getMinutes());lT.range;const uT=zt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*gr)},(t,e)=>(e-t)/gr,t=>t.getUTCMinutes());uT.range;const cT=zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Mi-t.getMinutes()*gr)},(t,e)=>{t.setTime(+t+e*Di)},(t,e)=>(e-t)/Di,t=>t.getHours());cT.range;const dT=zt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Di)},(t,e)=>(e-t)/Di,t=>t.getUTCHours());dT.range;const Jf=zt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*gr)/Zi,t=>t.getDate()-1);Jf.range;const K0=zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zi,t=>t.getUTCDate()-1);K0.range;const y3=zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zi,t=>Math.floor(t/Zi));y3.range;function Aa(t){return zt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*gr)/aT)}const Y0=Aa(0),ng=Aa(1),Jme=Aa(2),Xme=Aa(3),Gl=Aa(4),Qme=Aa(5),Zme=Aa(6);Y0.range;ng.range;Jme.range;Xme.range;Gl.range;Qme.range;Zme.range;function Ia(t){return zt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/aT)}const J0=Ia(0),rg=Ia(1),ege=Ia(2),tge=Ia(3),ql=Ia(4),nge=Ia(5),rge=Ia(6);J0.range;rg.range;ege.range;tge.range;ql.range;nge.range;rge.range;const fT=zt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());fT.range;const hT=zt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());hT.range;const eo=zt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());eo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});eo.range;const to=zt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());to.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});to.range;function v3(t,e,n,r,i,o){const s=[[Bs,1,Mi],[Bs,5,5*Mi],[Bs,15,15*Mi],[Bs,30,30*Mi],[o,1,gr],[o,5,5*gr],[o,15,15*gr],[o,30,30*gr],[i,1,Di],[i,3,3*Di],[i,6,6*Di],[i,12,12*Di],[r,1,Zi],[r,2,2*Zi],[n,1,aT],[e,1,FN],[e,3,3*FN],[t,1,Pv]];function a(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const y=f&&typeof f.range=="function"?f:l(u,c,f),v=y?y.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,f){const h=Math.abs(c-u)/f,y=YE(([,,x])=>x).right(s,h);if(y===s.length)return t.every(lw(u/Pv,c/Pv,f));if(y===0)return tg.every(Math.max(lw(u,c,f),1));const[v,b]=s[h/s[y-1][2]<s[y][2]/h?y-1:y];return v.every(b)}return[a,l]}const[ige,oge]=v3(to,hT,J0,y3,dT,uT),[sge,age]=v3(eo,fT,Y0,Jf,cT,lT);function Nv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Rv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function gc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function lge(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=yc(i),c=vc(i),f=yc(o),h=vc(o),y=yc(s),v=vc(s),b=yc(a),x=vc(a),_=yc(l),w=vc(l),E={a:F,A:L,b:z,B:G,c:null,d:HN,e:HN,f:Nge,g:Uge,G:zge,H:kge,I:Cge,j:Pge,L:x3,m:Rge,M:Oge,p:Y,q:H,Q:YN,s:JN,S:Mge,u:Dge,U:jge,V:Lge,w:$ge,W:Vge,x:null,X:null,y:Fge,Y:Bge,Z:Gge,"%":KN},N={a:J,A:ce,b:W,B:oe,c:null,d:WN,e:WN,f:Kge,g:i0e,G:s0e,H:qge,I:Hge,j:Wge,L:w3,m:Yge,M:Jge,p:Q,q:be,Q:YN,s:JN,S:Xge,u:Qge,U:Zge,V:e0e,w:t0e,W:n0e,x:null,X:null,y:r0e,Y:o0e,Z:a0e,"%":KN},T={a:P,A:R,b:O,B:D,c:q,d:GN,e:GN,f:Tge,g:zN,G:BN,H:qN,I:qN,j:bge,L:Ege,m:xge,M:wge,p:k,q:vge,Q:Age,s:Ige,S:_ge,u:hge,U:pge,V:mge,w:fge,W:gge,x:V,X:j,y:zN,Y:BN,Z:yge,"%":Sge};E.x=C(n,E),E.X=C(r,E),E.c=C(e,E),N.x=C(n,N),N.X=C(r,N),N.c=C(e,N);function C(se,xe){return function(de){var te=[],Me=-1,ke=0,nt=se.length,rt,it,ar;for(de instanceof Date||(de=new Date(+de));++Me<nt;)se.charCodeAt(Me)===37&&(te.push(se.slice(ke,Me)),(it=UN[rt=se.charAt(++Me)])!=null?rt=se.charAt(++Me):it=rt==="e"?" ":"0",(ar=xe[rt])&&(rt=ar(de,it)),te.push(rt),ke=Me+1);return te.push(se.slice(ke,Me)),te.join("")}}function A(se,xe){return function(de){var te=gc(1900,void 0,1),Me=I(te,se,de+="",0),ke,nt;if(Me!=de.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(xe&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(ke=Rv(gc(te.y,0,1)),nt=ke.getUTCDay(),ke=nt>4||nt===0?rg.ceil(ke):rg(ke),ke=K0.offset(ke,(te.V-1)*7),te.y=ke.getUTCFullYear(),te.m=ke.getUTCMonth(),te.d=ke.getUTCDate()+(te.w+6)%7):(ke=Nv(gc(te.y,0,1)),nt=ke.getDay(),ke=nt>4||nt===0?ng.ceil(ke):ng(ke),ke=Jf.offset(ke,(te.V-1)*7),te.y=ke.getFullYear(),te.m=ke.getMonth(),te.d=ke.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),nt="Z"in te?Rv(gc(te.y,0,1)).getUTCDay():Nv(gc(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(nt+5)%7:te.w+te.U*7-(nt+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,Rv(te)):Nv(te)}}function I(se,xe,de,te){for(var Me=0,ke=xe.length,nt=de.length,rt,it;Me<ke;){if(te>=nt)return-1;if(rt=xe.charCodeAt(Me++),rt===37){if(rt=xe.charAt(Me++),it=T[rt in UN?xe.charAt(Me++):rt],!it||(te=it(se,de,te))<0)return-1}else if(rt!=de.charCodeAt(te++))return-1}return te}function k(se,xe,de){var te=u.exec(xe.slice(de));return te?(se.p=c.get(te[0].toLowerCase()),de+te[0].length):-1}function P(se,xe,de){var te=y.exec(xe.slice(de));return te?(se.w=v.get(te[0].toLowerCase()),de+te[0].length):-1}function R(se,xe,de){var te=f.exec(xe.slice(de));return te?(se.w=h.get(te[0].toLowerCase()),de+te[0].length):-1}function O(se,xe,de){var te=_.exec(xe.slice(de));return te?(se.m=w.get(te[0].toLowerCase()),de+te[0].length):-1}function D(se,xe,de){var te=b.exec(xe.slice(de));return te?(se.m=x.get(te[0].toLowerCase()),de+te[0].length):-1}function q(se,xe,de){return I(se,e,xe,de)}function V(se,xe,de){return I(se,n,xe,de)}function j(se,xe,de){return I(se,r,xe,de)}function F(se){return s[se.getDay()]}function L(se){return o[se.getDay()]}function z(se){return l[se.getMonth()]}function G(se){return a[se.getMonth()]}function Y(se){return i[+(se.getHours()>=12)]}function H(se){return 1+~~(se.getMonth()/3)}function J(se){return s[se.getUTCDay()]}function ce(se){return o[se.getUTCDay()]}function W(se){return l[se.getUTCMonth()]}function oe(se){return a[se.getUTCMonth()]}function Q(se){return i[+(se.getUTCHours()>=12)]}function be(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var xe=C(se+="",E);return xe.toString=function(){return se},xe},parse:function(se){var xe=A(se+="",!1);return xe.toString=function(){return se},xe},utcFormat:function(se){var xe=C(se+="",N);return xe.toString=function(){return se},xe},utcParse:function(se){var xe=A(se+="",!0);return xe.toString=function(){return se},xe}}}var UN={"-":"",_:" ",0:"0"},Xt=/^\s*\d+/,uge=/^%/,cge=/[\\^$*+?|[\]().{}]/g;function Je(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function dge(t){return t.replace(cge,"\\$&")}function yc(t){return new RegExp("^(?:"+t.map(dge).join("|")+")","i")}function vc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function fge(t,e,n){var r=Xt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function hge(t,e,n){var r=Xt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function pge(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function mge(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function gge(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function BN(t,e,n){var r=Xt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function zN(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function yge(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function vge(t,e,n){var r=Xt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function xge(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function GN(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function bge(t,e,n){var r=Xt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function qN(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function wge(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function _ge(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ege(t,e,n){var r=Xt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Tge(t,e,n){var r=Xt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Sge(t,e,n){var r=uge.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Age(t,e,n){var r=Xt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ige(t,e,n){var r=Xt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function HN(t,e){return Je(t.getDate(),e,2)}function kge(t,e){return Je(t.getHours(),e,2)}function Cge(t,e){return Je(t.getHours()%12||12,e,2)}function Pge(t,e){return Je(1+Jf.count(eo(t),t),e,3)}function x3(t,e){return Je(t.getMilliseconds(),e,3)}function Nge(t,e){return x3(t,e)+"000"}function Rge(t,e){return Je(t.getMonth()+1,e,2)}function Oge(t,e){return Je(t.getMinutes(),e,2)}function Mge(t,e){return Je(t.getSeconds(),e,2)}function Dge(t){var e=t.getDay();return e===0?7:e}function jge(t,e){return Je(Y0.count(eo(t)-1,t),e,2)}function b3(t){var e=t.getDay();return e>=4||e===0?Gl(t):Gl.ceil(t)}function Lge(t,e){return t=b3(t),Je(Gl.count(eo(t),t)+(eo(t).getDay()===4),e,2)}function $ge(t){return t.getDay()}function Vge(t,e){return Je(ng.count(eo(t)-1,t),e,2)}function Fge(t,e){return Je(t.getFullYear()%100,e,2)}function Uge(t,e){return t=b3(t),Je(t.getFullYear()%100,e,2)}function Bge(t,e){return Je(t.getFullYear()%1e4,e,4)}function zge(t,e){var n=t.getDay();return t=n>=4||n===0?Gl(t):Gl.ceil(t),Je(t.getFullYear()%1e4,e,4)}function Gge(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Je(e/60|0,"0",2)+Je(e%60,"0",2)}function WN(t,e){return Je(t.getUTCDate(),e,2)}function qge(t,e){return Je(t.getUTCHours(),e,2)}function Hge(t,e){return Je(t.getUTCHours()%12||12,e,2)}function Wge(t,e){return Je(1+K0.count(to(t),t),e,3)}function w3(t,e){return Je(t.getUTCMilliseconds(),e,3)}function Kge(t,e){return w3(t,e)+"000"}function Yge(t,e){return Je(t.getUTCMonth()+1,e,2)}function Jge(t,e){return Je(t.getUTCMinutes(),e,2)}function Xge(t,e){return Je(t.getUTCSeconds(),e,2)}function Qge(t){var e=t.getUTCDay();return e===0?7:e}function Zge(t,e){return Je(J0.count(to(t)-1,t),e,2)}function _3(t){var e=t.getUTCDay();return e>=4||e===0?ql(t):ql.ceil(t)}function e0e(t,e){return t=_3(t),Je(ql.count(to(t),t)+(to(t).getUTCDay()===4),e,2)}function t0e(t){return t.getUTCDay()}function n0e(t,e){return Je(rg.count(to(t)-1,t),e,2)}function r0e(t,e){return Je(t.getUTCFullYear()%100,e,2)}function i0e(t,e){return t=_3(t),Je(t.getUTCFullYear()%100,e,2)}function o0e(t,e){return Je(t.getUTCFullYear()%1e4,e,4)}function s0e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ql(t):ql.ceil(t),Je(t.getUTCFullYear()%1e4,e,4)}function a0e(){return"+0000"}function KN(){return"%"}function YN(t){return+t}function JN(t){return Math.floor(+t/1e3)}var Da,E3,T3;l0e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function l0e(t){return Da=lge(t),E3=Da.format,Da.parse,T3=Da.utcFormat,Da.utcParse,Da}function u0e(t){return new Date(t)}function c0e(t){return t instanceof Date?+t:+new Date(+t)}function pT(t,e,n,r,i,o,s,a,l,u){var c=eT(),f=c.invert,h=c.domain,y=u(".%L"),v=u(":%S"),b=u("%I:%M"),x=u("%I %p"),_=u("%a %d"),w=u("%b %d"),E=u("%B"),N=u("%Y");function T(C){return(l(C)<C?y:a(C)<C?v:s(C)<C?b:o(C)<C?x:r(C)<C?i(C)<C?_:w:n(C)<C?E:N)(C)}return c.invert=function(C){return new Date(f(C))},c.domain=function(C){return arguments.length?h(Array.from(C,c0e)):h().map(u0e)},c.ticks=function(C){var A=h();return t(A[0],A[A.length-1],C??10)},c.tickFormat=function(C,A){return A==null?T:u(A)},c.nice=function(C){var A=h();return(!C||typeof C.range!="function")&&(C=e(A[0],A[A.length-1],C??10)),C?h(c3(A,C)):c},c.copy=function(){return Yf(c,pT(t,e,n,r,i,o,s,a,l,u))},c}function d0e(){return kr.apply(pT(sge,age,eo,fT,Y0,Jf,cT,lT,Bs,E3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function f0e(){return kr.apply(pT(ige,oge,to,hT,J0,K0,dT,uT,Bs,T3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function X0(){var t=0,e=1,n,r,i,o,s=On,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(h){var y,v;return arguments.length?([y,v]=h,s=f(y,v),u):[s(0),s(1)]}}return u.range=c(Lu),u.rangeRound=c(ZE),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function ms(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function S3(){var t=ps(X0()(On));return t.copy=function(){return ms(t,S3())},fo.apply(t,arguments)}function A3(){var t=rT(X0()).domain([1,10]);return t.copy=function(){return ms(t,A3()).base(t.base())},fo.apply(t,arguments)}function I3(){var t=iT(X0());return t.copy=function(){return ms(t,I3()).constant(t.constant())},fo.apply(t,arguments)}function mT(){var t=oT(X0());return t.copy=function(){return ms(t,mT()).exponent(t.exponent())},fo.apply(t,arguments)}function h0e(){return mT.apply(null,arguments).exponent(.5)}function k3(){var t=[],e=On;function n(r){if(r!=null&&!isNaN(r=+r))return e((Wf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Jo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Zpe(t,o/r))},n.copy=function(){return k3(e).domain(t)},fo.apply(n,arguments)}function Q0(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=On,c,f=!1,h;function y(b){return isNaN(b=+b)?h:(b=.5+((b=+c(b))-o)*(r*b<r*o?a:l),u(f?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([t,e,n]=b,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y):[t,e,n]},y.clamp=function(b){return arguments.length?(f=!!b,y):f},y.interpolator=function(b){return arguments.length?(u=b,y):u};function v(b){return function(x){var _,w,E;return arguments.length?([_,w,E]=x,u=Sme(b,[_,w,E]),y):[u(0),u(.5),u(1)]}}return y.range=v(Lu),y.rangeRound=v(ZE),y.unknown=function(b){return arguments.length?(h=b,y):h},function(b){return c=b,i=b(t),o=b(e),s=b(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y}}function C3(){var t=ps(Q0()(On));return t.copy=function(){return ms(t,C3())},fo.apply(t,arguments)}function P3(){var t=rT(Q0()).domain([.1,1,10]);return t.copy=function(){return ms(t,P3()).base(t.base())},fo.apply(t,arguments)}function N3(){var t=iT(Q0());return t.copy=function(){return ms(t,N3()).constant(t.constant())},fo.apply(t,arguments)}function gT(){var t=oT(Q0());return t.copy=function(){return ms(t,gT()).exponent(t.exponent())},fo.apply(t,arguments)}function p0e(){return gT.apply(null,arguments).exponent(.5)}const XN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zd,scaleDiverging:C3,scaleDivergingLog:P3,scaleDivergingPow:gT,scaleDivergingSqrt:p0e,scaleDivergingSymlog:N3,scaleIdentity:u3,scaleImplicit:uw,scaleLinear:eg,scaleLog:d3,scaleOrdinal:JE,scalePoint:Jc,scalePow:sT,scaleQuantile:p3,scaleQuantize:m3,scaleRadial:h3,scaleSequential:S3,scaleSequentialLog:A3,scaleSequentialPow:mT,scaleSequentialQuantile:k3,scaleSequentialSqrt:h0e,scaleSequentialSymlog:I3,scaleSqrt:Kme,scaleSymlog:f3,scaleThreshold:g3,scaleTime:d0e,scaleUtc:f0e,tickFormat:l3},Symbol.toStringTag,{value:"Module"}));var m0e=ku;function g0e(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!m0e(s):n(s,a)))var a=s,l=o}return l}var Z0=g0e;function y0e(t,e){return t>e}var R3=y0e,v0e=Z0,x0e=R3,b0e=ju;function w0e(t){return t&&t.length?v0e(t,b0e,x0e):void 0}var _0e=w0e;const Do=Ze(_0e);function E0e(t,e){return t<e}var O3=E0e,T0e=Z0,S0e=O3,A0e=ju;function I0e(t){return t&&t.length?T0e(t,A0e,S0e):void 0}var k0e=I0e;const ey=Ze(k0e);var C0e=PE,P0e=yi,N0e=B4,R0e=qn;function O0e(t,e){var n=R0e(t)?C0e:N0e;return n(t,P0e(e))}var M0e=O0e,D0e=F4,j0e=M0e;function L0e(t,e){return D0e(j0e(t,e),1)}var $0e=L0e;const V0e=Ze($0e);var F0e=qE;function U0e(t,e){return F0e(t,e)}var B0e=U0e;const rs=Ze(B0e);var $u=1e9,z0e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vT,vt=!0,Sr="[DecimalError] ",Js=Sr+"Invalid argument: ",yT=Sr+"Exponent out of range: ",Vu=Math.floor,Rs=Math.pow,G0e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xn,qt=1e7,mt=7,M3=9007199254740991,ig=Vu(M3/mt),ge={};ge.absoluteValue=ge.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ge.comparedTo=ge.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*mt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ge.dividedBy=ge.div=function(t){return Ui(this,new this.constructor(t))};ge.dividedToIntegerBy=ge.idiv=function(t){var e=this,n=e.constructor;return lt(Ui(e,new n(t),0,1),n.precision)};ge.equals=ge.eq=function(t){return!this.cmp(t)};ge.exponent=function(){return Dt(this)};ge.greaterThan=ge.gt=function(t){return this.cmp(t)>0};ge.greaterThanOrEqualTo=ge.gte=function(t){return this.cmp(t)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(t){return this.cmp(t)<0};ge.lessThanOrEqualTo=ge.lte=function(t){return this.cmp(t)<1};ge.logarithm=ge.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Xn))throw Error(Sr+"NaN");if(n.s<1)throw Error(Sr+(n.s?"NaN":"-Infinity"));return n.eq(Xn)?new r(0):(vt=!1,e=Ui(Kd(n,o),Kd(t,o),o),vt=!0,lt(e,i))};ge.minus=ge.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?L3(e,t):D3(e,(t.s=-t.s,t))};ge.modulo=ge.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Sr+"NaN");return n.s?(vt=!1,e=Ui(n,t,0,1).times(t),vt=!0,n.minus(e)):lt(new r(n),i)};ge.naturalExponential=ge.exp=function(){return j3(this)};ge.naturalLogarithm=ge.ln=function(){return Kd(this)};ge.negated=ge.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ge.plus=ge.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?D3(e,t):L3(e,(t.s=-t.s,t))};ge.precision=ge.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Js+t);if(e=Dt(i)+1,r=i.d.length-1,n=r*mt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ge.squareRoot=ge.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Sr+"NaN")}for(t=Dt(a),vt=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=ni(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Vu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Ui(a,o,s+2)).times(.5),ni(o.d).slice(0,s)===(e=ni(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(lt(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return vt=!0,lt(r,n)};ge.times=ge.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,f=c.constructor,h=c.d,y=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=y.length,l<u&&(o=h,h=y,y=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+y[r]*h[i-r-1]+e,o[i--]=a%qt|0,e=a/qt|0;o[i]=(o[i]+e)%qt|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,vt?lt(t,f.precision):t};ge.toDecimalPlaces=ge.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(fi(t,0,$u),e===void 0?e=r.rounding:fi(e,0,8),lt(n,t+Dt(n)+1,e))};ge.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ma(r,!0):(fi(t,0,$u),e===void 0?e=i.rounding:fi(e,0,8),r=lt(new i(r),t+1,e),n=ma(r,!0,t+1)),n};ge.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?ma(i):(fi(t,0,$u),e===void 0?e=o.rounding:fi(e,0,8),r=lt(new o(i),t+Dt(i)+1,e),n=ma(r.abs(),!1,t+Dt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ge.toInteger=ge.toint=function(){var t=this,e=t.constructor;return lt(new e(t),Dt(t)+1,e.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Xn);if(a=new l(a),!a.s){if(t.s<1)throw Error(Sr+"Infinity");return a}if(a.eq(Xn))return a;if(r=l.precision,t.eq(Xn))return lt(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=M3){for(i=new l(Xn),e=Math.ceil(r/mt+4),vt=!1;n%2&&(i=i.times(a),ZN(i.d,e)),n=Vu(n/2),n!==0;)a=a.times(a),ZN(a.d,e);return vt=!0,t.s<0?new l(Xn).div(i):lt(i,r)}}else if(o<0)throw Error(Sr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,vt=!1,i=t.times(Kd(a,r+u)),vt=!0,i=j3(i),i.s=o,i};ge.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Dt(i),r=ma(i,n<=o.toExpNeg||n>=o.toExpPos)):(fi(t,1,$u),e===void 0?e=o.rounding:fi(e,0,8),i=lt(new o(i),t,e),n=Dt(i),r=ma(i,t<=n||n<=o.toExpNeg,t)),r};ge.toSignificantDigits=ge.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(fi(t,1,$u),e===void 0?e=r.rounding:fi(e,0,8)),lt(new r(n),t,e)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Dt(t),n=t.constructor;return ma(t,e<=n.toExpNeg||e>=n.toExpPos)};function D3(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),vt?lt(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(f/mt),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/qt|0,l[o]%=qt;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,vt?lt(e,f):e}function fi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Js+t)}function ni(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=mt-r.length,n&&(o+=Eo(n)),o+=r;s=t[e],r=s+"",n=mt-r.length,n&&(o+=Eo(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Ui=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%qt|0,s=o/qt|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*qt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,f,h,y,v,b,x,_,w,E,N,T,C,A,I,k=r.constructor,P=r.s==i.s?1:-1,R=r.d,O=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Sr+"Division by zero");for(l=r.e-i.e,A=O.length,T=R.length,y=new k(P),v=y.d=[],u=0;O[u]==(R[u]||0);)++u;if(O[u]>(R[u]||0)&&--l,o==null?w=o=k.precision:s?w=o+(Dt(r)-Dt(i))+1:w=o,w<0)return new k(0);if(w=w/mt+2|0,u=0,A==1)for(c=0,O=O[0],w++;(u<T||c)&&w--;u++)E=c*qt+(R[u]||0),v[u]=E/O|0,c=E%O|0;else{for(c=qt/(O[0]+1)|0,c>1&&(O=t(O,c),R=t(R,c),A=O.length,T=R.length),N=A,b=R.slice(0,A),x=b.length;x<A;)b[x++]=0;I=O.slice(),I.unshift(0),C=O[0],O[1]>=qt/2&&++C;do c=0,a=e(O,b,A,x),a<0?(_=b[0],A!=x&&(_=_*qt+(b[1]||0)),c=_/C|0,c>1?(c>=qt&&(c=qt-1),f=t(O,c),h=f.length,x=b.length,a=e(f,b,h,x),a==1&&(c--,n(f,A<h?I:O,h))):(c==0&&(a=c=1),f=O.slice()),h=f.length,h<x&&f.unshift(0),n(b,f,x),a==-1&&(x=b.length,a=e(O,b,A,x),a<1&&(c++,n(b,A<x?I:O,x))),x=b.length):a===0&&(c++,b=[0]),v[u++]=c,a&&b[0]?b[x++]=R[N]||0:(b=[R[N]],x=1);while((N++<T||b[0]!==void 0)&&w--)}return v[0]||v.shift(),y.e=l,lt(y,s?o+Dt(y)+1:o)}}();function j3(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,f=c.precision;if(Dt(t)>16)throw Error(yT+Dt(t));if(!t.s)return new c(Xn);for(vt=!1,a=f,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Rs(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(Xn),c.precision=a;;){if(i=lt(i.times(t),a),n=n.times(++l),s=o.plus(Ui(i,n,a)),ni(s.d).slice(0,a)===ni(o.d).slice(0,a)){for(;u--;)o=lt(o.times(o),a);return c.precision=f,e==null?(vt=!0,lt(o,f)):o}o=s}}function Dt(t){for(var e=t.e*mt,n=t.d[0];n>=10;n/=10)e++;return e}function Ov(t,e,n){if(e>t.LN10.sd())throw vt=!0,n&&(t.precision=n),Error(Sr+"LN10 precision limit exceeded");return lt(new t(t.LN10),e)}function Eo(t){for(var e="";t--;)e+="0";return e}function Kd(t,e){var n,r,i,o,s,a,l,u,c,f=1,h=10,y=t,v=y.d,b=y.constructor,x=b.precision;if(y.s<1)throw Error(Sr+(y.s?"NaN":"-Infinity"));if(y.eq(Xn))return new b(0);if(e==null?(vt=!1,u=x):u=e,y.eq(10))return e==null&&(vt=!0),Ov(b,u);if(u+=h,b.precision=u,n=ni(v),r=n.charAt(0),o=Dt(y),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=ni(y.d),r=n.charAt(0),f++;o=Dt(y),r>1?(y=new b("0."+n),o++):y=new b(r+"."+n.slice(1))}else return l=Ov(b,u+2,x).times(o+""),y=Kd(new b(r+"."+n.slice(1)),u-h).plus(l),b.precision=x,e==null?(vt=!0,lt(y,x)):y;for(a=s=y=Ui(y.minus(Xn),y.plus(Xn),u),c=lt(y.times(y),u),i=3;;){if(s=lt(s.times(c),u),l=a.plus(Ui(s,new b(i),u)),ni(l.d).slice(0,u)===ni(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(Ov(b,u+2,x).times(o+""))),a=Ui(a,new b(f),u),b.precision=x,e==null?(vt=!0,lt(a,x)):a;a=l,i+=2}}function QN(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Vu(n/mt),t.d=[],r=(n+1)%mt,n<0&&(r+=mt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=mt;r<i;)t.d.push(+e.slice(r,r+=mt));e=e.slice(r),r=mt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),vt&&(t.e>ig||t.e<-ig))throw Error(yT+n)}else t.s=0,t.e=0,t.d=[0];return t}function lt(t,e,n){var r,i,o,s,a,l,u,c,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=mt,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/mt),o=f.length,c>=o)return t;for(u=o=f[c],s=1;o>=10;o/=10)s++;r%=mt,i=r-mt+s}if(n!==void 0&&(o=Rs(10,s-i-1),a=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/Rs(10,s-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Dt(t),f.length=1,e=e-o-1,f[0]=Rs(10,(mt-e%mt)%mt),t.e=Vu(-e/mt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=Rs(10,mt-r),f[c]=i>0?(u/Rs(10,s-i)%Rs(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==qt&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=qt)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(vt&&(t.e>ig||t.e<-ig))throw Error(yT+Dt(t));return t}function L3(t,e){var n,r,i,o,s,a,l,u,c,f,h=t.constructor,y=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),vt?lt(e,y):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(y/mt),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=qt-1;--l[o],l[i]+=qt}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,vt?lt(e,y):e):new h(0)}function ma(t,e,n){var r,i=Dt(t),o=ni(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Eo(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Eo(-i-1)+o,n&&(r=n-s)>0&&(o+=Eo(r))):i>=s?(o+=Eo(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Eo(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Eo(r))),t.s<0?"-"+o:o}function ZN(t,e){if(t.length>e)return t.length=e,!0}function $3(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Js+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return QN(s,o.toString())}else if(typeof o!="string")throw Error(Js+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,G0e.test(o))QN(s,o);else throw Error(Js+o)}if(i.prototype=ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=$3,i.config=i.set=q0e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function q0e(t){if(!t||typeof t!="object")throw Error(Sr+"Object expected");var e,n,r,i=["precision",1,$u,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Vu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Js+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Js+n+": "+r);return this}var vT=$3(z0e);Xn=new vT(1);const ot=vT;function H0e(t){return J0e(t)||Y0e(t)||K0e(t)||W0e()}function W0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K0e(t,e){if(t){if(typeof t=="string")return hw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hw(t,e)}}function Y0e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function J0e(t){if(Array.isArray(t))return hw(t)}function hw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var X0e=function(e){return e},V3={},F3=function(e){return e===V3},eR=function(e){return function n(){return arguments.length===0||arguments.length===1&&F3(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Q0e=function t(e,n){return e===1?n:eR(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==V3}).length;return s>=e?n.apply(void 0,i):t(e-s,eR(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=i.map(function(f){return F3(f)?l.shift():f});return n.apply(void 0,H0e(c).concat(l))}))})},ty=function(e){return Q0e(e.length,e)},pw=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Z0e=ty(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),eye=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return X0e;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},mw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},U3=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function tye(t){var e;return t===0?e=1:e=Math.floor(new ot(t).abs().log(10).toNumber())+1,e}function nye(t,e,n){for(var r=new ot(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var rye=ty(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),iye=ty(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),oye=ty(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const ny={rangeStep:nye,getDigitCount:tye,interpolateNumber:rye,uninterpolateNumber:iye,uninterpolateTruncation:oye};function gw(t){return lye(t)||aye(t)||B3(t)||sye()}function sye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function lye(t){if(Array.isArray(t))return yw(t)}function Yd(t,e){return dye(t)||cye(t,e)||B3(t,e)||uye()}function uye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B3(t,e){if(t){if(typeof t=="string")return yw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yw(t,e)}}function yw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cye(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function dye(t){if(Array.isArray(t))return t}function z3(t){var e=Yd(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function G3(t,e,n){if(t.lte(0))return new ot(0);var r=ny.getDigitCount(t.toNumber()),i=new ot(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new ot(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new ot(Math.ceil(l))}function fye(t,e,n){var r=1,i=new ot(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new ot(10).pow(ny.getDigitCount(t)-1),i=new ot(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new ot(Math.floor(t)))}else t===0?i=new ot(Math.floor((e-1)/2)):n||(i=new ot(Math.floor(t)));var s=Math.floor((e-1)/2),a=eye(Z0e(function(l){return i.add(new ot(l-s).mul(r)).toNumber()}),pw);return a(0,e)}function q3(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ot(0),tickMin:new ot(0),tickMax:new ot(0)};var o=G3(new ot(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new ot(0):(s=new ot(t).add(e).div(2),s=s.sub(new ot(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new ot(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?q3(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new ot(a).mul(o)),tickMax:s.add(new ot(l).mul(o))})}function hye(t){var e=Yd(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=z3([n,r]),l=Yd(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(gw(pw(0,i-1).map(function(){return 1/0}))):[].concat(gw(pw(0,i-1).map(function(){return-1/0})),[c]);return n>r?mw(f):f}if(u===c)return fye(u,i,o);var h=q3(u,c,s,o),y=h.step,v=h.tickMin,b=h.tickMax,x=ny.rangeStep(v,b.add(new ot(.1).mul(y)),y);return n>r?mw(x):x}function pye(t,e){var n=Yd(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=z3([r,i]),a=Yd(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=G3(new ot(u).sub(l).div(c-1),o,0),h=[].concat(gw(ny.rangeStep(new ot(l),new ot(u).sub(new ot(.99).mul(f)),f)),[u]);return r>i?mw(h):h}var mye=U3(hye),gye=U3(pye),yye="Invariant failed";function ga(t,e){throw new Error(yye)}var vye=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function og(){return og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},og.apply(this,arguments)}function xye(t,e){return Eye(t)||_ye(t,e)||wye(t,e)||bye()}function bye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wye(t,e){if(t){if(typeof t=="string")return tR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tR(t,e)}}function tR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _ye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Eye(t){if(Array.isArray(t))return t}function Tye(t,e){if(t==null)return{};var n=Sye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Aye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K3(r.key),r)}}function kye(t,e,n){return e&&Iye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cye(t,e,n){return e=sg(e),Pye(t,H3()?Reflect.construct(e,n||[],sg(t).constructor):e.apply(t,n))}function Pye(t,e){if(e&&(Hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nye(t)}function Nye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H3=function(){return!!t})()}function sg(t){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sg(t)}function Rye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vw(t,e)}function vw(t,e){return vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vw(t,e)}function W3(t,e,n){return e=K3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K3(t){var e=Oye(t,"string");return Hl(e)=="symbol"?e:e+""}function Oye(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xf=function(t){function e(){return Aye(this,e),Cye(this,e,arguments)}return Rye(e,t),kye(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=Tye(r,vye),y=ye(h,!1);this.props.direction==="x"&&c.type!=="number"&&ga();var v=l.map(function(b){var x=u(b,a),_=x.x,w=x.y,E=x.value,N=x.errorVal;if(!N)return null;var T=[],C,A;if(Array.isArray(N)){var I=xye(N,2);C=I[0],A=I[1]}else C=A=N;if(o==="vertical"){var k=c.scale,P=w+i,R=P+s,O=P-s,D=k(E-C),q=k(E+A);T.push({x1:q,y1:R,x2:q,y2:O}),T.push({x1:D,y1:P,x2:q,y2:P}),T.push({x1:D,y1:R,x2:D,y2:O})}else if(o==="horizontal"){var V=f.scale,j=_+i,F=j-s,L=j+s,z=V(E-C),G=V(E+A);T.push({x1:F,y1:G,x2:L,y2:G}),T.push({x1:j,y1:z,x2:j,y2:G}),T.push({x1:F,y1:z,x2:L,y2:z})}return U.createElement(je,og({className:"recharts-errorBar",key:"bar-".concat(T.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},y),T.map(function(Y){return U.createElement("line",og({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return U.createElement(je,{className:"recharts-errorBars"},v)}}])}(U.Component);W3(Xf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});W3(Xf,"displayName","ErrorBar");function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function nR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Es(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(n),!0).forEach(function(r){Mye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mye(t,e,n){return e=Dye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dye(t){var e=jye(t,"string");return Jd(e)=="symbol"?e:e+""}function jye(t,e){if(Jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Y3=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Jn(n,li);if(!s)return null;var a=li.defaultProps,l=a!==void 0?Es(Es({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,y=f.props,v=y.sectors||y.data||[];return c.concat(v.map(function(b){return{type:s.props.iconType||h.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,y=h!==void 0?Es(Es({},h),f.props):{},v=y.dataKey,b=y.name,x=y.legendType,_=y.hide;return{inactive:_,dataKey:v,type:l.iconType||x||"square",color:xT(f),value:b||v,payload:y}}),Es(Es(Es({},l),li.getWithHeight(s,i)),{},{payload:u,item:s})};function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function rR(t){return Fye(t)||Vye(t)||$ye(t)||Lye()}function Lye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ye(t,e){if(t){if(typeof t=="string")return xw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xw(t,e)}}function Vye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fye(t){if(Array.isArray(t))return xw(t)}function xw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){El(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function El(t,e,n){return e=Uye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uye(t){var e=Bye(t,"string");return Xd(e)=="symbol"?e:e+""}function Bye(t,e){if(Xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wt(t,e,n){return Ie(t)||Ie(e)?n:Ut(e)?nr(t,e,n):_e(e)?e(t):n}function Xc(t,e,n,r){var i=V0e(t,function(a){return wt(a,e)});if(n==="number"){var o=i.filter(function(a){return ae(a)||parseFloat(a)});return o.length?[ey(o),Do(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!Ie(a)}):i;return s.map(function(a){return Ut(a)||a instanceof Date?a:""})}var zye=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var c=u>0?i[u-1].coordinate:i[a-1].coordinate,f=i[u].coordinate,h=u>=a-1?i[0].coordinate:i[u+1].coordinate,y=void 0;if(Nn(f-c)!==Nn(h-f)){var v=[];if(Nn(h-f)===Nn(l[1]-l[0])){y=h;var b=f+l[1]-l[0];v[0]=Math.min(b,(b+c)/2),v[1]=Math.max(b,(b+c)/2)}else{y=c;var x=h+l[1]-l[0];v[0]=Math.min(f,(x+f)/2),v[1]=Math.max(f,(x+f)/2)}var _=[Math.min(f,(y+f)/2),Math.max(f,(y+f)/2)];if(e>_[0]&&e<=_[1]||e>=v[0]&&e<=v[1]){s=i[u].index;break}}else{var w=Math.min(c,h),E=Math.max(c,h);if(e>(w+f)/2&&e<=(E+f)/2){s=i[u].index;break}}}else for(var N=0;N<a;N++)if(N===0&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N>0&&N<a-1&&e>(r[N].coordinate+r[N-1].coordinate)/2&&e<=(r[N].coordinate+r[N+1].coordinate)/2||N===a-1&&e>(r[N].coordinate+r[N-1].coordinate)/2){s=r[N].index;break}return s},xT=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?It(It({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},Gye=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var c=o[a[l]].stackGroups,f=Object.keys(c),h=0,y=f.length;h<y;h++){var v=c[f[h]],b=v.items,x=v.cateAxisId,_=b.filter(function(A){return Fi(A.type).indexOf("Bar")>=0});if(_&&_.length){var w=_[0].type.defaultProps,E=w!==void 0?It(It({},w),_[0].props):_[0].props,N=E.barSize,T=E[x];s[T]||(s[T]=[]);var C=Ie(N)?n:N;s[T].push({item:_[0],stackList:_.slice(1),barSize:Ie(C)?void 0:Rn(C,r,0)})}}return s},qye=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=Rn(n,i,0,!0),c,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,y=i/l,v=s.reduce(function(N,T){return N+T.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&y>0&&(h=!0,y*=.9,v=l*y);var b=(i-v)/2>>0,x={offset:b-u,size:0};c=s.reduce(function(N,T){var C={item:T.item,position:{offset:x.offset+x.size+u,size:h?y:T.barSize}},A=[].concat(rR(N),[C]);return x=A[A.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(I){A.push({item:I,position:x})}),A},f)}else{var _=Rn(r,i,0,!0);i-2*_-(l-1)*u<=0&&(u=0);var w=(i-2*_-(l-1)*u)/l;w>1&&(w>>=0);var E=a===+a?Math.min(w,a):w;c=s.reduce(function(N,T,C){var A=[].concat(rR(N),[{item:T.item,position:{offset:_+(w+u)*C+(w-E)/2,size:E}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(I){A.push({item:I,position:A[A.length-1].position})}),A},f)}return c},Hye=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=Y3({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,y=u.align,v=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&v==="middle")&&y!=="center"&&ae(e[y]))return It(It({},e),{},El({},y,e[y]+(f||0)));if((b==="horizontal"||b==="vertical"&&y==="center")&&v!=="middle"&&ae(e[v]))return It(It({},e),{},El({},v,e[v]+(h||0)))}return e},Wye=function(e,n,r){return Ie(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},J3=function(e,n,r,i,o){var s=n.props.children,a=rr(s,Xf).filter(function(u){return Wye(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=wt(c,r);if(Ie(f))return u;var h=Array.isArray(f)?[ey(f),Do(f)]:[f,f],y=l.reduce(function(v,b){var x=wt(c,b,0),_=h[0]-Math.abs(Array.isArray(x)?x[0]:x),w=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(_,v[0]),Math.max(w,v[1])]},[1/0,-1/0]);return[Math.min(y[0],u[0]),Math.max(y[1],u[1])]},[1/0,-1/0])}return null},Kye=function(e,n,r,i,o){var s=n.map(function(a){return J3(e,a,r,o,i)}).filter(function(a){return!Ie(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},X3=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&J3(e,l,u,i)||Xc(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},Q3=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Z3=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},ji=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Nn(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!Ou(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},Mv=new WeakMap,Zh=function(e,n){if(typeof n!="function")return e;Mv.has(e)||Mv.set(e,new WeakMap);var r=Mv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},e5=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:zd(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:eg(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Jc(),realScaleType:"point"}:o==="category"?{scale:zd(),realScaleType:"band"}:{scale:eg(),realScaleType:"linear"};if(fa(i)){var l="scale".concat(F0(i));return{scale:(XN[l]||Jc)(),realScaleType:XN[l]?l:"point"}}return _e(i)?{scale:i}:{scale:Jc(),realScaleType:"point"}},oR=1e-4,t5=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-oR,s=Math.max(i[0],i[1])+oR,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},Yye=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Jye=function(e,n){if(!n||n.length!==2||!ae(n[0])||!ae(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ae(e[0])||e[0]<r)&&(o[0]=r),(!ae(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},Xye=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=Ou(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},Qye=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=Ou(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},Zye={sign:Xye,expand:voe,none:$l,silhouette:xoe,wiggle:boe,positive:Qye},eve=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=Zye[r],s=yoe().keys(i).value(function(a,l){return+wt(a,l,0)}).order(Gb).offset(o);return s(e)},tve=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(f,h){var y,v=(y=h.type)!==null&&y!==void 0&&y.defaultProps?It(It({},h.type.defaultProps),h.props):h.props,b=v.stackId,x=v.hide;if(x)return f;var _=v[r],w=f[_]||{hasStack:!1,stackGroups:{}};if(Ut(b)){var E=w.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};E.items.push(h),w.hasStack=!0,w.stackGroups[b]=E}else w.stackGroups[Ta("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return It(It({},f),{},El({},_,w))},l),c={};return Object.keys(u).reduce(function(f,h){var y=u[h];if(y.hasStack){var v={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(b,x){var _=y.stackGroups[x];return It(It({},b),{},El({},x,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:eve(e,_.items,o)}))},v)}return It(It({},f),{},El({},h,y))},c)},n5=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=mye(u,o,a);return e.domain([ey(c),Do(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),h=gye(f,o,a);return{niceTicks:h}}return null};function ag(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ie(i[e.dataKey])){var a=Rm(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=wt(i,Ie(s)?e.dataKey:s);return Ie(l)?null:e.scale(l)}var sR=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=wt(s,n.dataKey,n.domain[a]);return Ie(l)?null:n.scale(l)-o/2+i},nve=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},rve=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?It(It({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Ut(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},ive=function(e){return e.reduce(function(n,r){return[ey(r.concat([n[0]]).filter(ae)),Do(r.concat([n[1]]).filter(ae))]},[1/0,-1/0])},r5=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,c){var f=ive(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},aR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bw=function(e,n,r){if(_e(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ae(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(aR.test(e[0])){var o=+aR.exec(e[0])[1];i[0]=n[0]-o}else _e(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ae(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(lR.test(e[1])){var s=+lR.exec(e[1])[1];i[1]=n[1]+s}else _e(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},lg=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=WE(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],c=o[a-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},uR=function(e,n,r){return!e||!e.length||rs(e,nr(r,"type.defaultProps.domain"))?n:e},i5=function(e,n){var r=e.type.defaultProps?It(It({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return It(It({},ye(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:xT(e),value:wt(n,i),type:l,payload:n,chartType:u,hide:c})};function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(r){o5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o5(t,e,n){return e=ove(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ove(t){var e=sve(t,"string");return Qd(e)=="symbol"?e:e+""}function sve(t,e){if(Qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ave(t,e){return dve(t)||cve(t,e)||uve(t,e)||lve()}function lve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uve(t,e){if(t){if(typeof t=="string")return dR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dR(t,e)}}function dR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function dve(t){if(Array.isArray(t))return t}var ug=Math.PI/180,fve=function(e){return e*180/Math.PI},Xe=function(e,n,r,i){return{x:e+Math.cos(-ug*i)*r,y:n+Math.sin(-ug*i)*r}},s5=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},a5=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.startAngle,u=e.endAngle,c=Rn(e.cx,s,s/2),f=Rn(e.cy,a,a/2),h=s5(s,a,r),y=Rn(e.innerRadius,h,0),v=Rn(e.outerRadius,h,h*.8),b=Object.keys(n);return b.reduce(function(x,_){var w=n[_],E=w.domain,N=w.reversed,T;if(Ie(w.range))i==="angleAxis"?T=[l,u]:i==="radiusAxis"&&(T=[y,v]),N&&(T=[T[1],T[0]]);else{T=w.range;var C=T,A=ave(C,2);l=A[0],u=A[1]}var I=e5(w,o),k=I.realScaleType,P=I.scale;P.domain(E).range(T),t5(P);var R=n5(P,Si(Si({},w),{},{realScaleType:k})),O=Si(Si(Si({},w),R),{},{range:T,radius:v,realScaleType:k,scale:P,cx:c,cy:f,innerRadius:y,outerRadius:v,startAngle:l,endAngle:u});return Si(Si({},x),{},o5({},_,O))},{})},hve=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},pve=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=hve({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:fve(u),angleInRadian:u}},mve=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},gve=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},fR=function(e,n){var r=e.x,i=e.y,o=pve({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=mve(n),f=c.startAngle,h=c.endAngle,y=a,v;if(f<=h){for(;y>h;)y-=360;for(;y<f;)y+=360;v=y>=f&&y<=h}else{for(;y>f;)y-=360;for(;y<h;)y+=360;v=y>=h&&y<=f}return v?Si(Si({},n),{},{radius:s,angle:gve(y,n)}):null},l5=function(e){return!B.isValidElement(e)&&!_e(e)&&typeof e!="boolean"?e.className:""};function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}var yve=["offset"];function vve(t){return _ve(t)||wve(t)||bve(t)||xve()}function xve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bve(t,e){if(t){if(typeof t=="string")return ww(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ww(t,e)}}function wve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _ve(t){if(Array.isArray(t))return ww(t)}function ww(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eve(t,e){if(t==null)return{};var n=Tve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(n),!0).forEach(function(r){Sve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sve(t,e,n){return e=Ave(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ave(t){var e=Ive(t,"string");return Zd(e)=="symbol"?e:e+""}function Ive(t,e){if(Zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ef(){return ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ef.apply(this,arguments)}var kve=function(e){var n=e.value,r=e.formatter,i=Ie(e.children)?n:e.children;return _e(r)?r(i):i},Cve=function(e,n){var r=Nn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Pve=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,y=l.startAngle,v=l.endAngle,b=l.clockWise,x=(f+h)/2,_=Cve(y,v),w=_>=0?1:-1,E,N;i==="insideStart"?(E=y+w*s,N=b):i==="insideEnd"?(E=v-w*s,N=!b):i==="end"&&(E=v+w*s,N=b),N=_<=0?N:!N;var T=Xe(u,c,x,E),C=Xe(u,c,x,E+(N?1:-1)*359),A="M".concat(T.x,",").concat(T.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(N?0:1,`,
    `).concat(C.x,",").concat(C.y),I=Ie(e.id)?Ta("recharts-radial-line-"):e.id;return U.createElement("text",ef({},r,{dominantBaseline:"central",className:Pe("recharts-radial-bar-label",a)}),U.createElement("defs",null,U.createElement("path",{id:I,d:A})),U.createElement("textPath",{xlinkHref:"#".concat(I)},n))},Nve=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,h=(c+f)/2;if(i==="outside"){var y=Xe(s,a,u+r,h),v=y.x,b=y.y;return{x:v,y:b,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,_=Xe(s,a,x,h),w=_.x,E=_.y;return{x:w,y:E,textAnchor:"middle",verticalAnchor:"middle"}},Rve=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,c=s.height,f=c>=0?1:-1,h=f*i,y=f>0?"end":"start",v=f>0?"start":"end",b=u>=0?1:-1,x=b*i,_=b>0?"end":"start",w=b>0?"start":"end";if(o==="top"){var E={x:a+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:y};return Lt(Lt({},E),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var N={x:a+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:v};return Lt(Lt({},N),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var T={x:a-x,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return Lt(Lt({},T),r?{width:Math.max(T.x-r.x,0),height:c}:{})}if(o==="right"){var C={x:a+u+x,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return Lt(Lt({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:c}:{})}var A=r?{width:u,height:c}:{};return o==="insideLeft"?Lt({x:a+x,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},A):o==="insideRight"?Lt({x:a+u-x,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},A):o==="insideTop"?Lt({x:a+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},A):o==="insideBottom"?Lt({x:a+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:y},A):o==="insideTopLeft"?Lt({x:a+x,y:l+h,textAnchor:w,verticalAnchor:v},A):o==="insideTopRight"?Lt({x:a+u-x,y:l+h,textAnchor:_,verticalAnchor:v},A):o==="insideBottomLeft"?Lt({x:a+x,y:l+c-h,textAnchor:w,verticalAnchor:y},A):o==="insideBottomRight"?Lt({x:a+u-x,y:l+c-h,textAnchor:_,verticalAnchor:y},A):Cu(o)&&(ae(o.x)||Fs(o.x))&&(ae(o.y)||Fs(o.y))?Lt({x:a+Rn(o.x,u),y:l+Rn(o.y,c),textAnchor:"end",verticalAnchor:"end"},A):Lt({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Ove=function(e){return"cx"in e&&ae(e.cx)};function Kt(t){var e=t.offset,n=e===void 0?5:e,r=Eve(t,yve),i=Lt({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!o||Ie(a)&&Ie(l)&&!B.isValidElement(u)&&!_e(u))return null;if(B.isValidElement(u))return B.cloneElement(u,i);var y;if(_e(u)){if(y=B.createElement(u,i),B.isValidElement(y))return y}else y=kve(i);var v=Ove(o),b=ye(i,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Pve(i,y,b);var x=v?Nve(i):Rve(i);return U.createElement(pa,ef({className:Pe("recharts-label",f)},b,x,{breakAll:h}),y)}Kt.displayName="Label";var u5=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,y=e.top,v=e.left,b=e.width,x=e.height,_=e.clockWise,w=e.labelViewBox;if(w)return w;if(ae(b)&&ae(x)){if(ae(f)&&ae(h))return{x:f,y:h,width:b,height:x};if(ae(y)&&ae(v))return{x:y,y:v,width:b,height:x}}return ae(f)&&ae(h)?{x:f,y:h,width:0,height:0}:ae(n)&&ae(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:_}:e.viewBox?e.viewBox:{}},Mve=function(e,n){return e?e===!0?U.createElement(Kt,{key:"label-implicit",viewBox:n}):Ut(e)?U.createElement(Kt,{key:"label-implicit",viewBox:n,value:e}):B.isValidElement(e)?e.type===Kt?B.cloneElement(e,{key:"label-implicit",viewBox:n}):U.createElement(Kt,{key:"label-implicit",content:e,viewBox:n}):_e(e)?U.createElement(Kt,{key:"label-implicit",content:e,viewBox:n}):Cu(e)?U.createElement(Kt,ef({viewBox:n},e,{key:"label-implicit"})):null:null},Dve=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=u5(e),s=rr(i,Kt).map(function(l,u){return B.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=Mve(e.label,n||o);return[a].concat(vve(s))};Kt.parseViewBox=u5;Kt.renderCallByParent=Dve;function jve(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Lve=jve;const c5=Ze(Lve);function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}var $ve=["valueAccessor"],Vve=["data","dataKey","clockWise","id","textBreakAll"];function Fve(t){return Gve(t)||zve(t)||Bve(t)||Uve()}function Uve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bve(t,e){if(t){if(typeof t=="string")return _w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _w(t,e)}}function zve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gve(t){if(Array.isArray(t))return _w(t)}function _w(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cg(){return cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cg.apply(this,arguments)}function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(r){qve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qve(t,e,n){return e=Hve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hve(t){var e=Wve(t,"string");return tf(e)=="symbol"?e:e+""}function Wve(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gR(t,e){if(t==null)return{};var n=Kve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Yve=function(e){return Array.isArray(e.value)?c5(e.value):e.value};function Hr(t){var e=t.valueAccessor,n=e===void 0?Yve:e,r=gR(t,$ve),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=gR(r,Vve);return!i||!i.length?null:U.createElement(je,{className:"recharts-label-list"},i.map(function(c,f){var h=Ie(o)?n(c,f):wt(c&&c.payload,o),y=Ie(a)?{}:{id:"".concat(a,"-").concat(f)};return U.createElement(Kt,cg({},ye(c,!0),u,y,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Kt.parseViewBox(Ie(s)?c:mR(mR({},c),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Hr.displayName="LabelList";function Jve(t,e){return t?t===!0?U.createElement(Hr,{key:"labelList-implicit",data:e}):U.isValidElement(t)||_e(t)?U.createElement(Hr,{key:"labelList-implicit",data:e,content:t}):Cu(t)?U.createElement(Hr,cg({data:e},t,{key:"labelList-implicit"})):null:null}function Xve(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=rr(r,Hr).map(function(s,a){return B.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=Jve(t.label,e);return[o].concat(Fve(i))}Hr.renderCallByParent=Xve;function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ew.apply(this,arguments)}function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(r){Qve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qve(t,e,n){return e=Zve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zve(t){var e=exe(t,"string");return nf(e)=="symbol"?e:e+""}function exe(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var txe=function(e,n){var r=Nn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},ep=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+i,f=Math.asin(l/c)/ug,h=u?o:o+s*f,y=Xe(n,r,c,h),v=Xe(n,r,i,h),b=u?o-s*f:o,x=Xe(n,r,c*Math.cos(f*ug),b);return{center:y,circleTangency:v,lineTangency:x,theta:f}},d5=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=txe(s,a),u=s+l,c=Xe(n,r,o,s),f=Xe(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var y=Xe(n,r,i,s),v=Xe(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},nxe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Nn(c-u),h=ep({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),y=h.circleTangency,v=h.lineTangency,b=h.theta,x=ep({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:s,cornerIsExternal:l}),_=x.circleTangency,w=x.lineTangency,E=x.theta,N=l?Math.abs(u-c):Math.abs(u-c)-b-E;if(N<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):d5({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var T="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var C=ep({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=C.circleTangency,I=C.lineTangency,k=C.theta,P=ep({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),R=P.circleTangency,O=P.lineTangency,D=P.theta,q=l?Math.abs(u-c):Math.abs(u-c)-k-D;if(q<0&&s===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(R.x,",").concat(R.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(q>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},rxe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},f5=function(e){var n=vR(vR({},rxe),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(s<o||c===f)return null;var y=Pe("recharts-sector",h),v=s-o,b=Rn(a,v,0,!0),x;return b>0&&Math.abs(c-f)<360?x=nxe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(b,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):x=d5({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:f}),U.createElement("path",Ew({},ye(n,!0),{className:y,d:x,role:"img"}))};function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function Tw(){return Tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tw.apply(this,arguments)}function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(r){ixe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ixe(t,e,n){return e=oxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oxe(t){var e=sxe(t,"string");return rf(e)=="symbol"?e:e+""}function sxe(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wR={curveBasisClosed:soe,curveBasisOpen:aoe,curveBasis:ooe,curveBumpX:qie,curveBumpY:Hie,curveLinearClosed:loe,curveLinear:B0,curveMonotoneX:uoe,curveMonotoneY:coe,curveNatural:doe,curveStep:foe,curveStepAfter:poe,curveStepBefore:hoe},tp=function(e){return e.x===+e.x&&e.y===+e.y},xc=function(e){return e.x},bc=function(e){return e.y},axe=function(e,n){if(_e(e))return e;var r="curve".concat(F0(e));return(r==="curveMonotone"||r==="curveBump")&&n?wR["".concat(r).concat(n==="vertical"?"Y":"X")]:wR[r]||B0},lxe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=axe(r,a),f=u?o.filter(function(b){return tp(b)}):o,h;if(Array.isArray(s)){var y=u?s.filter(function(b){return tp(b)}):s,v=f.map(function(b,x){return bR(bR({},b),{},{base:y[x]})});return a==="vertical"?h=qh().y(bc).x1(xc).x0(function(b){return b.base.x}):h=qh().x(xc).y1(bc).y0(function(b){return b.base.y}),h.defined(tp).curve(c),h(v)}return a==="vertical"&&ae(s)?h=qh().y(bc).x1(xc).x0(s):ae(s)?h=qh().x(xc).y1(bc).y0(s):h=o4().x(xc).y(bc),h.defined(tp).curve(c),h(f)},Xs=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?lxe(e):i;return B.createElement("path",Tw({},ye(e,!1),Om(e),{className:Pe("recharts-curve",n),d:s,ref:o}))},h5={exports:{}},uxe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",cxe=uxe,dxe=cxe;function p5(){}function m5(){}m5.resetWarningCache=p5;var fxe=function(){function t(r,i,o,s,a,l){if(l!==dxe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:m5,resetWarningCache:p5};return n.PropTypes=n,n};h5.exports=fxe();var hxe=h5.exports;const Qe=Ze(hxe),{getOwnPropertyNames:pxe,getOwnPropertySymbols:mxe}=Object,{hasOwnProperty:gxe}=Object.prototype;function Dv(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function np(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function yxe(t){return t!=null?t[Symbol.toStringTag]:void 0}function _R(t){return pxe(t).concat(mxe(t))}const vxe=Object.hasOwn||((t,e)=>gxe.call(t,e));function ka(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const xxe="__v",bxe="__o",wxe="_owner",{getOwnPropertyDescriptor:ER,keys:TR}=Object;function _xe(t,e){return t.byteLength===e.byteLength&&dg(new Uint8Array(t),new Uint8Array(e))}function Exe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Txe(t,e){return t.byteLength===e.byteLength&&dg(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Sxe(t,e){return ka(t.getTime(),e.getTime())}function Axe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Ixe(t,e){return t===e}function SR(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,a,l=0;for(;(s=o.next())&&!s.done;){const u=e.entries();let c=!1,f=0;for(;(a=u.next())&&!a.done;){if(i[f]){f++;continue}const h=s.value,y=a.value;if(n.equals(h[0],y[0],l,f,t,e,n)&&n.equals(h[1],y[1],h[0],y[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}const kxe=ka;function Cxe(t,e,n){const r=TR(t);let i=r.length;if(TR(e).length!==i)return!1;for(;i-- >0;)if(!g5(t,e,n,r[i]))return!1;return!0}function wc(t,e,n){const r=_R(t);let i=r.length;if(_R(e).length!==i)return!1;let o,s,a;for(;i-- >0;)if(o=r[i],!g5(t,e,n,o)||(s=ER(t,o),a=ER(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function Pxe(t,e){return ka(t.valueOf(),e.valueOf())}function Nxe(t,e){return t.source===e.source&&t.flags===e.flags}function AR(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,a;for(;(s=o.next())&&!s.done;){const l=e.values();let u=!1,c=0;for(;(a=l.next())&&!a.done;){if(!i[c]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function dg(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Rxe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function g5(t,e,n,r){return(r===wxe||r===bxe||r===xxe)&&(t.$$typeof||e.$$typeof)?!0:vxe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Oxe="[object ArrayBuffer]",Mxe="[object Arguments]",Dxe="[object Boolean]",jxe="[object DataView]",Lxe="[object Date]",$xe="[object Error]",Vxe="[object Map]",Fxe="[object Number]",Uxe="[object Object]",Bxe="[object RegExp]",zxe="[object Set]",Gxe="[object String]",qxe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Hxe="[object URL]",Wxe=Object.prototype.toString;function Kxe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:y,unknownTagComparators:v}){return function(x,_,w){if(x===_)return!0;if(x==null||_==null)return!1;const E=typeof x;if(E!==typeof _)return!1;if(E!=="object")return E==="number"?a(x,_,w):E==="function"?o(x,_,w):!1;const N=x.constructor;if(N!==_.constructor)return!1;if(N===Object)return l(x,_,w);if(Array.isArray(x))return e(x,_,w);if(N===Date)return r(x,_,w);if(N===RegExp)return c(x,_,w);if(N===Map)return s(x,_,w);if(N===Set)return f(x,_,w);const T=Wxe.call(x);if(T===Lxe)return r(x,_,w);if(T===Bxe)return c(x,_,w);if(T===Vxe)return s(x,_,w);if(T===zxe)return f(x,_,w);if(T===Uxe)return typeof x.then!="function"&&typeof _.then!="function"&&l(x,_,w);if(T===Hxe)return y(x,_,w);if(T===$xe)return i(x,_,w);if(T===Mxe)return l(x,_,w);if(qxe[T])return h(x,_,w);if(T===Oxe)return t(x,_,w);if(T===jxe)return n(x,_,w);if(T===Dxe||T===Fxe||T===Gxe)return u(x,_,w);if(v){let C=v[T];if(!C){const A=yxe(x);A&&(C=v[A])}if(C)return C(x,_,w)}return!1}}function Yxe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:_xe,areArraysEqual:n?wc:Exe,areDataViewsEqual:Txe,areDatesEqual:Sxe,areErrorsEqual:Axe,areFunctionsEqual:Ixe,areMapsEqual:n?Dv(SR,wc):SR,areNumbersEqual:kxe,areObjectsEqual:n?wc:Cxe,arePrimitiveWrappersEqual:Pxe,areRegExpsEqual:Nxe,areSetsEqual:n?Dv(AR,wc):AR,areTypedArraysEqual:n?Dv(dg,wc):dg,areUrlsEqual:Rxe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=np(r.areArraysEqual),o=np(r.areMapsEqual),s=np(r.areObjectsEqual),a=np(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:a})}return r}function Jxe(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function Xxe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(a,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(a,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(a,l){return e(a,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(a,l){return e(a,l,o)}}const Qxe=gs();gs({strict:!0});gs({circular:!0});gs({circular:!0,strict:!0});gs({createInternalComparator:()=>ka});gs({strict:!0,createInternalComparator:()=>ka});gs({circular:!0,createInternalComparator:()=>ka});gs({circular:!0,createInternalComparator:()=>ka,strict:!0});function gs(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=Yxe(t),s=Kxe(o),a=n?n(s):Jxe(s);return Xxe({circular:e,comparator:s,createState:r,equals:a,strict:i})}function Zxe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function IR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Zxe(i)};requestAnimationFrame(r)}function Sw(t){"@babel/helpers - typeof";return Sw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sw(t)}function ebe(t){return ibe(t)||rbe(t)||nbe(t)||tbe()}function tbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nbe(t,e){if(t){if(typeof t=="string")return kR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kR(t,e)}}function kR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ibe(t){if(Array.isArray(t))return t}function obe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=ebe(s),l=a[0],u=a.slice(1);if(typeof l=="number"){IR(i.bind(null,u),l);return}i(l),IR(i.bind(null,u));return}Sw(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){y5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y5(t,e,n){return e=sbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sbe(t){var e=abe(t,"string");return of(e)==="symbol"?e:String(e)}function abe(t,e){if(of(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(of(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lbe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},ube=function(e){return e},cbe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Qc=function(e,n){return Object.keys(n).reduce(function(r,i){return PR(PR({},r),{},y5({},i,e(i,n[i])))},{})},NR=function(e,n,r){return e.map(function(i){return"".concat(cbe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function dbe(t,e){return pbe(t)||hbe(t,e)||v5(t,e)||fbe()}function fbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function pbe(t){if(Array.isArray(t))return t}function mbe(t){return vbe(t)||ybe(t)||v5(t)||gbe()}function gbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v5(t,e){if(t){if(typeof t=="string")return Aw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Aw(t,e)}}function ybe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vbe(t){if(Array.isArray(t))return Aw(t)}function Aw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fg=1e-4,x5=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},b5=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},RR=function(e,n){return function(r){var i=x5(e,n);return b5(i,r)}},xbe=function(e,n){return function(r){var i=x5(e,n),o=[].concat(mbe(i.map(function(s,a){return s*a}).slice(1)),[0]);return b5(o,r)}},OR=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),c=dbe(u,4);i=c[0],o=c[1],s=c[2],a=c[3]}}}var f=RR(i,s),h=RR(o,a),y=xbe(i,s),v=function(_){return _>1?1:_<0?0:_},b=function(_){for(var w=_>1?1:_,E=w,N=0;N<8;++N){var T=f(E)-w,C=y(E);if(Math.abs(T-w)<fg||C<fg)return h(E);E=v(E-T/C)}return h(E)};return b.isStepper=!1,b},bbe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(c,f,h){var y=-(c-f)*r,v=h*o,b=h+(y-v)*a/1e3,x=h*a/1e3+c;return Math.abs(x-f)<fg&&Math.abs(b)<fg?[f,0]:[x,b]};return l.isStepper=!0,l.dt=a,l},wbe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return OR(i);case"spring":return bbe();default:if(i.split("(")[0]==="cubic-bezier")return OR(i)}return typeof i=="function"?i:null};function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function MR(t){return Tbe(t)||Ebe(t)||w5(t)||_be()}function _be(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ebe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tbe(t){if(Array.isArray(t))return kw(t)}function DR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(n),!0).forEach(function(r){Iw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iw(t,e,n){return e=Sbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sbe(t){var e=Abe(t,"string");return sf(e)==="symbol"?e:String(e)}function Abe(t,e){if(sf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ibe(t,e){return Pbe(t)||Cbe(t,e)||w5(t,e)||kbe()}function kbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w5(t,e){if(t){if(typeof t=="string")return kw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kw(t,e)}}function kw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Pbe(t){if(Array.isArray(t))return t}var hg=function(e,n,r){return e+(n-e)*r},Cw=function(e){var n=e.from,r=e.to;return n!==r},Nbe=function t(e,n,r){var i=Qc(function(o,s){if(Cw(s)){var a=e(s.from,s.to,s.velocity),l=Ibe(a,2),u=l[0],c=l[1];return en(en({},s),{},{from:u,velocity:c})}return s},n);return r<1?Qc(function(o,s){return Cw(s)?en(en({},s),{},{velocity:hg(s.velocity,i[o].velocity,r),from:hg(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const Rbe=function(t,e,n,r,i){var o=lbe(t,e),s=o.reduce(function(x,_){return en(en({},x),{},Iw({},_,[t[_],e[_]]))},{}),a=o.reduce(function(x,_){return en(en({},x),{},Iw({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return Qc(function(_,w){return w.from},a)},y=function(){return!Object.values(a).filter(Cw).length},v=function(_){u||(u=_);var w=_-u,E=w/n.dt;a=Nbe(n,a,E),i(en(en(en({},t),e),h())),u=_,y()||(l=requestAnimationFrame(f))},b=function(_){c||(c=_);var w=(_-c)/r,E=Qc(function(T,C){return hg.apply(void 0,MR(C).concat([n(w)]))},s);if(i(en(en(en({},t),e),E)),w<1)l=requestAnimationFrame(f);else{var N=Qc(function(T,C){return hg.apply(void 0,MR(C).concat([n(1)]))},s);i(en(en(en({},t),e),N))}};return f=n.isStepper?v:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}var Obe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Mbe(t,e){if(t==null)return{};var n=Dbe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dbe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function jv(t){return Vbe(t)||$be(t)||Lbe(t)||jbe()}function jbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lbe(t,e){if(t){if(typeof t=="string")return Pw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pw(t,e)}}function $be(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vbe(t){if(Array.isArray(t))return Pw(t)}function Pw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){Oc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oc(t,e,n){return e=_5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ube(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_5(r.key),r)}}function Bbe(t,e,n){return e&&Ube(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _5(t){var e=zbe(t,"string");return Wl(e)==="symbol"?e:String(e)}function zbe(t,e){if(Wl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Nw(t,e)}function Nw(t,e){return Nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Nw(t,e)}function qbe(t){var e=Hbe();return function(){var r=pg(t),i;if(e){var o=pg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Rw(this,i)}}function Rw(t,e){if(e&&(Wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ow(t)}function Ow(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function pg(t){return pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pg(t)}var Ar=function(t){Gbe(n,t);var e=qbe(n);function n(r,i){var o;Fbe(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,c=s.to,f=s.steps,h=s.children,y=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Ow(o)),o.changeStyle=o.changeStyle.bind(Ow(o)),!a||y<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),Rw(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},Rw(o);o.state={style:l?Oc({},l,u):u}}else o.state={style:{}};return o}return Bbe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,h=this.state.style;if(a){if(!s){var y={style:l?Oc({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(y);return}if(!(Qxe(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=v||u?f:i.to;if(this.state&&h){var x={style:l?Oc({},l,b):b};(l&&h[l]!==b||!l&&h!==b)&&this.setState(x)}this.runAnimation(Rr(Rr({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,y=Rbe(s,a,wbe(u),l,this.changeStyle),v=function(){o.stopJSAnimation=y()};this.manager.start([h,c,v,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,f=u.duration,h=f===void 0?0:f,y=function(b,x,_){if(_===0)return b;var w=x.duration,E=x.easing,N=E===void 0?"ease":E,T=x.style,C=x.properties,A=x.onAnimationEnd,I=_>0?s[_-1]:x,k=C||Object.keys(T);if(typeof N=="function"||N==="spring")return[].concat(jv(b),[o.runJSAnimation.bind(o,{from:I.style,to:T,duration:w,easing:N}),w]);var P=NR(k,w,N),R=Rr(Rr(Rr({},I.style),T),{},{transition:P});return[].concat(jv(b),[R,w,A]).filter(ube)};return this.manager.start([l].concat(jv(s.reduce(y,[c,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=obe());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,y=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof y=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var b=a?Oc({},a,l):l,x=NR(Object.keys(b),s,u);v.start([c,o,Rr(Rr({},b),{},{transition:x}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Mbe(i,Obe),u=B.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!a||u===0||s<=0)return o;var f=function(y){var v=y.props,b=v.style,x=b===void 0?{}:b,_=v.className,w=B.cloneElement(y,Rr(Rr({},l),{},{style:Rr(Rr({},x),c),className:_}));return w};return u===1?f(B.Children.only(o)):U.createElement("div",null,B.Children.map(o,function(h){return f(h)}))}}]),n}(B.PureComponent);Ar.displayName="Animate";Ar.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ar.propTypes={from:Qe.oneOfType([Qe.object,Qe.string]),to:Qe.oneOfType([Qe.object,Qe.string]),attributeName:Qe.string,duration:Qe.number,begin:Qe.number,easing:Qe.oneOfType([Qe.string,Qe.func]),steps:Qe.arrayOf(Qe.shape({duration:Qe.number.isRequired,style:Qe.object.isRequired,easing:Qe.oneOfType([Qe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Qe.func]),properties:Qe.arrayOf("string"),onAnimationEnd:Qe.func})),children:Qe.oneOfType([Qe.node,Qe.func]),isActive:Qe.bool,canBegin:Qe.bool,onAnimationEnd:Qe.func,shouldReAnimate:Qe.bool,onAnimationStart:Qe.func,onAnimationReStart:Qe.func};function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function mg(){return mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mg.apply(this,arguments)}function Wbe(t,e){return Xbe(t)||Jbe(t,e)||Ybe(t,e)||Kbe()}function Kbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ybe(t,e){if(t){if(typeof t=="string")return LR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LR(t,e)}}function LR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Xbe(t){if(Array.isArray(t))return t}function $R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(n),!0).forEach(function(r){Qbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qbe(t,e,n){return e=Zbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zbe(t){var e=ewe(t,"string");return af(e)=="symbol"?e:e+""}function ewe(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FR=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,y=4;h<y;h++)f[h]=o[h]>s?s:o[h];c="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*f[1])),c+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*f[3])),c+="Z"}else if(s>0&&o===+o&&o>0){var v=Math.min(s,o);c="M ".concat(e,",").concat(n+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*v,`
            L `).concat(e+r,",").concat(n+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*v," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},twe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),c=Math.max(o,o+a),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},nwe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bT=function(e){var n=VR(VR({},nwe),e),r=B.useRef(),i=B.useState(-1),o=Wbe(i,2),s=o[0],a=o[1];B.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&a(N)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,y=n.className,v=n.animationEasing,b=n.animationDuration,x=n.animationBegin,_=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var E=Pe("recharts-rectangle",y);return w?U.createElement(Ar,{canBegin:s>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:b,animationEasing:v,isActive:w},function(N){var T=N.width,C=N.height,A=N.x,I=N.y;return U.createElement(Ar,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,isActive:_,easing:v},U.createElement("path",mg({},ye(n,!0),{className:E,d:FR(A,I,T,C,h),ref:r})))}):U.createElement("path",mg({},ye(n,!0),{className:E,d:FR(l,u,c,f,h)}))},rwe=["points","className","baseLinePoints","connectNulls"];function ol(){return ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ol.apply(this,arguments)}function iwe(t,e){if(t==null)return{};var n=owe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function owe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function UR(t){return uwe(t)||lwe(t)||awe(t)||swe()}function swe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function awe(t,e){if(t){if(typeof t=="string")return Mw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mw(t,e)}}function lwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uwe(t){if(Array.isArray(t))return Mw(t)}function Mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var BR=function(e){return e&&e.x===+e.x&&e.y===+e.y},cwe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){BR(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),BR(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Zc=function(e,n){var r=cwe(e);n&&(r=[r.reduce(function(o,s){return[].concat(UR(o),UR(s))},[])]);var i=r.map(function(o){return o.reduce(function(s,a,l){return"".concat(s).concat(l===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},dwe=function(e,n,r){var i=Zc(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Zc(n.reverse(),r).slice(1))},E5=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,s=iwe(e,rwe);if(!n||!n.length)return null;var a=Pe("recharts-polygon",r);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",u=dwe(n,i,o);return U.createElement("g",{className:a},U.createElement("path",ol({},ye(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),l?U.createElement("path",ol({},ye(s,!0),{fill:"none",d:Zc(n,o)})):null,l?U.createElement("path",ol({},ye(s,!0),{fill:"none",d:Zc(i,o)})):null)}var c=Zc(n,o);return U.createElement("path",ol({},ye(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",className:a,d:c}))};function Dw(){return Dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dw.apply(this,arguments)}var Fu=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=Pe("recharts-dot",o);return n===+n&&r===+r&&i===+i?B.createElement("circle",Dw({},ye(e,!1),Om(e),{className:s,cx:n,cy:r,r:i})):null};function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}var fwe=["x","y","top","left","width","height","className"];function jw(){return jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jw.apply(this,arguments)}function zR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hwe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(n),!0).forEach(function(r){pwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pwe(t,e,n){return e=mwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mwe(t){var e=gwe(t,"string");return lf(e)=="symbol"?e:e+""}function gwe(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ywe(t,e){if(t==null)return{};var n=vwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var xwe=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},bwe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,y=h===void 0?0:h,v=e.className,b=ywe(e,fwe),x=hwe({x:r,y:o,top:a,left:u,width:f,height:y},b);return!ae(r)||!ae(o)||!ae(f)||!ae(y)||!ae(a)||!ae(u)?null:U.createElement("path",jw({},ye(x,!0),{className:Pe("recharts-cross",v),d:xwe(r,o,f,y,a,u)}))},wwe=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function _we(t,e){if(t==null)return{};var n=Ewe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ewe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function no(){return no=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},no.apply(this,arguments)}function GR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GR(Object(n),!0).forEach(function(r){Twe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Twe(t,e,n){return e=Swe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Swe(t){var e=Awe(t,"string");return uf(e)=="symbol"?e:e+""}function Awe(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iwe=function(e,n,r,i){var o="";return i.forEach(function(s,a){var l=Xe(n,r,e,s);a?o+="L ".concat(l.x,",").concat(l.y):o+="M ".concat(l.x,",").concat(l.y)}),o+="Z",o},kwe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.polarAngles,a=e.radialLines;if(!s||!s.length||!a)return null;var l=cf({stroke:"#ccc"},ye(e,!1));return U.createElement("g",{className:"recharts-polar-grid-angle"},s.map(function(u){var c=Xe(n,r,i,u),f=Xe(n,r,o,u);return U.createElement("line",no({},l,{key:"line-".concat(u),x1:c.x,y1:c.y,x2:f.x,y2:f.y}))}))},Cwe=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.index,s=cf(cf({stroke:"#ccc"},ye(e,!1)),{},{fill:"none"});return U.createElement("circle",no({},s,{className:Pe("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(o),cx:n,cy:r,r:i}))},Pwe=function(e){var n=e.radius,r=e.index,i=cf(cf({stroke:"#ccc"},ye(e,!1)),{},{fill:"none"});return U.createElement("path",no({},i,{className:Pe("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:Iwe(n,e.cx,e.cy,e.polarAngles)}))},Nwe=function(e){var n=e.polarRadius,r=e.gridType;return!n||!n.length?null:U.createElement("g",{className:"recharts-polar-grid-concentric"},n.map(function(i,o){var s=o;return r==="circle"?U.createElement(Cwe,no({key:s},e,{radius:i,index:o})):U.createElement(Pwe,no({key:s},e,{radius:i,index:o}))}))},T5=function(e){var n=e.cx,r=n===void 0?0:n,i=e.cy,o=i===void 0?0:i,s=e.innerRadius,a=s===void 0?0:s,l=e.outerRadius,u=l===void 0?0:l,c=e.gridType,f=c===void 0?"polygon":c,h=e.radialLines,y=h===void 0?!0:h,v=_we(e,wwe);return u<=0?null:U.createElement("g",{className:"recharts-polar-grid"},U.createElement(kwe,no({cx:r,cy:o,innerRadius:a,outerRadius:u,gridType:f,radialLines:y},v)),U.createElement(Nwe,no({cx:r,cy:o,innerRadius:a,outerRadius:u,gridType:f,radialLines:y},v)))};T5.displayName="PolarGrid";var Rwe=Z0,Owe=R3,Mwe=yi;function Dwe(t,e){return t&&t.length?Rwe(t,Mwe(e),Owe):void 0}var jwe=Dwe;const Lwe=Ze(jwe);var $we=Z0,Vwe=yi,Fwe=O3;function Uwe(t,e){return t&&t.length?$we(t,Vwe(e),Fwe):void 0}var Bwe=Uwe;const zwe=Ze(Bwe);var Gwe=["cx","cy","angle","ticks","axisLine"],qwe=["ticks","tick","angle","tickFormatter","stroke"];function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function ed(){return ed=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ed.apply(this,arguments)}function qR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ts(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(n),!0).forEach(function(r){ry(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HR(t,e){if(t==null)return{};var n=Hwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A5(r.key),r)}}function Kwe(t,e,n){return e&&WR(t.prototype,e),n&&WR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ywe(t,e,n){return e=gg(e),Jwe(t,S5()?Reflect.construct(e,n||[],gg(t).constructor):e.apply(t,n))}function Jwe(t,e){if(e&&(Kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xwe(t)}function Xwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S5=function(){return!!t})()}function gg(t){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gg(t)}function Qwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lw(t,e)}function Lw(t,e){return Lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Lw(t,e)}function ry(t,e,n){return e=A5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A5(t){var e=Zwe(t,"string");return Kl(e)=="symbol"?e:e+""}function Zwe(t,e){if(Kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Uu=function(t){function e(){return Wwe(this,e),Ywe(this,e,arguments)}return Qwe(e,t),Kwe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,s=o.angle,a=o.cx,l=o.cy;return Xe(a,l,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,l=Lwe(a,function(c){return c.coordinate||0}),u=zwe(a,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,l=r.axisLine,u=HR(r,Gwe),c=a.reduce(function(v,b){return[Math.min(v[0],b.coordinate),Math.max(v[1],b.coordinate)]},[1/0,-1/0]),f=Xe(i,o,c[0],s),h=Xe(i,o,c[1],s),y=Ts(Ts(Ts({},ye(u,!1)),{},{fill:"none"},ye(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return U.createElement("line",ed({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.angle,l=i.tickFormatter,u=i.stroke,c=HR(i,qwe),f=this.getTickTextAnchor(),h=ye(c,!1),y=ye(s,!1),v=o.map(function(b,x){var _=r.getTickValueCoord(b),w=Ts(Ts(Ts(Ts({textAnchor:f,transform:"rotate(".concat(90-a,", ").concat(_.x,", ").concat(_.y,")")},h),{},{stroke:"none",fill:u},y),{},{index:x},_),{},{payload:b});return U.createElement(je,ed({className:Pe("recharts-polar-radius-axis-tick",l5(s)),key:"tick-".concat(b.coordinate)},ha(r.props,b,x)),e.renderTickItem(s,w,l?l(b.value,x):b.value))});return U.createElement(je,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,s=r.tick;return!i||!i.length?null:U.createElement(je,{className:Pe("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),Kt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var s;return U.isValidElement(r)?s=U.cloneElement(r,i):_e(r)?s=r(i):s=U.createElement(pa,ed({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])}(B.PureComponent);ry(Uu,"displayName","PolarRadiusAxis");ry(Uu,"axisType","radiusAxis");ry(Uu,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function Os(){return Os=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Os.apply(this,arguments)}function KR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ss(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KR(Object(n),!0).forEach(function(r){iy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k5(r.key),r)}}function t_e(t,e,n){return e&&YR(t.prototype,e),n&&YR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function n_e(t,e,n){return e=yg(e),r_e(t,I5()?Reflect.construct(e,n||[],yg(t).constructor):e.apply(t,n))}function r_e(t,e){if(e&&(Yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i_e(t)}function i_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I5=function(){return!!t})()}function yg(t){return yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yg(t)}function o_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$w(t,e)}function $w(t,e){return $w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$w(t,e)}function iy(t,e,n){return e=k5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k5(t){var e=s_e(t,"string");return Yl(e)=="symbol"?e:e+""}function s_e(t,e){if(Yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var a_e=Math.PI/180,JR=1e-5,Bu=function(t){function e(){return e_e(this,e),n_e(this,e,arguments)}return o_e(e,t),t_e(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,s=i.cy,a=i.radius,l=i.orientation,u=i.tickSize,c=u||8,f=Xe(o,s,a,r.coordinate),h=Xe(o,s,a+(l==="inner"?-1:1)*c,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*a_e),s;return o>JR?s=i==="outer"?"start":"end":o<-JR?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.radius,a=r.axisLine,l=r.axisLineType,u=Ss(Ss({},ye(this.props,!1)),{},{fill:"none"},ye(a,!1));if(l==="circle")return U.createElement(Fu,Os({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:s}));var c=this.props.ticks,f=c.map(function(h){return Xe(i,o,s,h.coordinate)});return U.createElement(E5,Os({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.tickLine,l=i.tickFormatter,u=i.stroke,c=ye(this.props,!1),f=ye(s,!1),h=Ss(Ss({},c),{},{fill:"none"},ye(a,!1)),y=o.map(function(v,b){var x=r.getTickLineCoord(v),_=r.getTickTextAnchor(v),w=Ss(Ss(Ss({textAnchor:_},c),{},{stroke:"none",fill:u},f),{},{index:b,payload:v,x:x.x2,y:x.y2});return U.createElement(je,Os({className:Pe("recharts-polar-angle-axis-tick",l5(s)),key:"tick-".concat(v.coordinate)},ha(r.props,v,b)),a&&U.createElement("line",Os({className:"recharts-polar-angle-axis-tick-line"},h,x)),s&&e.renderTickItem(s,w,l?l(v.value,b):v.value))});return U.createElement(je,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,s=r.axisLine;return o<=0||!i||!i.length?null:U.createElement(je,{className:Pe("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var s;return U.isValidElement(r)?s=U.cloneElement(r,i):_e(r)?s=r(i):s=U.createElement(pa,Os({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])}(B.PureComponent);iy(Bu,"displayName","PolarAngleAxis");iy(Bu,"axisType","angleAxis");iy(Bu,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var l_e=C4,u_e=l_e(Object.getPrototypeOf,Object),c_e=u_e,d_e=lo,f_e=c_e,h_e=uo,p_e="[object Object]",m_e=Function.prototype,g_e=Object.prototype,C5=m_e.toString,y_e=g_e.hasOwnProperty,v_e=C5.call(Object);function x_e(t){if(!h_e(t)||d_e(t)!=p_e)return!1;var e=f_e(t);if(e===null)return!0;var n=y_e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&C5.call(n)==v_e}var b_e=x_e;const w_e=Ze(b_e);var __e=lo,E_e=uo,T_e="[object Boolean]";function S_e(t){return t===!0||t===!1||E_e(t)&&__e(t)==T_e}var A_e=S_e;const I_e=Ze(A_e);function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(this,arguments)}function k_e(t,e){return R_e(t)||N_e(t,e)||P_e(t,e)||C_e()}function C_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P_e(t,e){if(t){if(typeof t=="string")return XR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XR(t,e)}}function XR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function N_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function R_e(t){if(Array.isArray(t))return t}function QR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(n),!0).forEach(function(r){O_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O_e(t,e,n){return e=M_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M_e(t){var e=D_e(t,"string");return df(e)=="symbol"?e:e+""}function D_e(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e2=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},j_e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},L_e=function(e){var n=ZR(ZR({},j_e),e),r=B.useRef(),i=B.useState(-1),o=k_e(i,2),s=o[0],a=o[1];B.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&a(E)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,y=n.className,v=n.animationEasing,b=n.animationDuration,x=n.animationBegin,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var w=Pe("recharts-trapezoid",y);return _?U.createElement(Ar,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:b,animationEasing:v,isActive:_},function(E){var N=E.upperWidth,T=E.lowerWidth,C=E.height,A=E.x,I=E.y;return U.createElement(Ar,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,easing:v},U.createElement("path",vg({},ye(n,!0),{className:w,d:e2(A,I,N,T,C),ref:r})))}):U.createElement("g",null,U.createElement("path",vg({},ye(n,!0),{className:w,d:e2(l,u,c,f,h)})))},$_e=["option","shapeType","propTransformer","activeClassName","isActive"];function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function V_e(t,e){if(t==null)return{};var n=F_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function F_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function t2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t2(Object(n),!0).forEach(function(r){U_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U_e(t,e,n){return e=B_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B_e(t){var e=z_e(t,"string");return ff(e)=="symbol"?e:e+""}function z_e(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function G_e(t,e){return xg(xg({},e),t)}function q_e(t,e){return t==="symbols"}function n2(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return U.createElement(bT,n);case"trapezoid":return U.createElement(L_e,n);case"sector":return U.createElement(f5,n);case"symbols":if(q_e(e))return U.createElement(VE,n);break;default:return null}}function H_e(t){return B.isValidElement(t)?t.props:t}function P5(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?G_e:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=V_e(t,$_e),u;if(B.isValidElement(e))u=B.cloneElement(e,xg(xg({},l),H_e(e)));else if(_e(e))u=e(l);else if(w_e(e)&&!I_e(e)){var c=i(e,l);u=U.createElement(n2,{shapeType:n,elementProps:c})}else{var f=l;u=U.createElement(n2,{shapeType:n,elementProps:f})}return a?U.createElement(je,{className:s},u):u}function oy(t,e){return e!=null&&"trapezoids"in t.props}function sy(t,e){return e!=null&&"sectors"in t.props}function hf(t,e){return e!=null&&"points"in t.props}function W_e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function K_e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Y_e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function J_e(t,e){var n;return oy(t,e)?n=W_e:sy(t,e)?n=K_e:hf(t,e)&&(n=Y_e),n}function X_e(t,e){var n;return oy(t,e)?n="trapezoids":sy(t,e)?n="sectors":hf(t,e)&&(n="points"),n}function Q_e(t,e){if(oy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(sy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return hf(t,e)?e.payload:{}}function Z_e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=X_e(n,e),o=Q_e(n,e),s=r.filter(function(l,u){var c=rs(o,l),f=n.props[i].filter(function(v){var b=J_e(n,e);return b(v,e)}),h=n.props[i].indexOf(f[f.length-1]),y=u===h;return c&&y}),a=r.indexOf(s[s.length-1]);return a}var Np;function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function sl(){return sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sl.apply(this,arguments)}function r2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r2(Object(n),!0).forEach(function(r){pr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R5(r.key),r)}}function t1e(t,e,n){return e&&i2(t.prototype,e),n&&i2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function n1e(t,e,n){return e=bg(e),r1e(t,N5()?Reflect.construct(e,n||[],bg(t).constructor):e.apply(t,n))}function r1e(t,e){if(e&&(Jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i1e(t)}function i1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N5=function(){return!!t})()}function bg(t){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bg(t)}function o1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vw(t,e)}function Vw(t,e){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vw(t,e)}function pr(t,e,n){return e=R5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R5(t){var e=s1e(t,"string");return Jl(e)=="symbol"?e:e+""}function s1e(t,e){if(Jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vi=function(t){function e(n){var r;return e1e(this,e),r=n1e(this,e,[n]),pr(r,"pieRef",null),pr(r,"sectorRefs",[]),pr(r,"id",Ta("recharts-pie-")),pr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),_e(i)&&i()}),pr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),_e(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return o1e(e,t),t1e(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,a=o.labelLine,l=o.dataKey,u=o.valueKey,c=ye(this.props,!1),f=ye(s,!1),h=ye(a,!1),y=s&&s.offsetRadius||20,v=r.map(function(b,x){var _=(b.startAngle+b.endAngle)/2,w=Xe(b.cx,b.cy,b.outerRadius+y,_),E=ut(ut(ut(ut({},c),b),{},{stroke:"none"},f),{},{index:x,textAnchor:e.getTextAnchor(w.x,b.cx)},w),N=ut(ut(ut(ut({},c),b),{},{fill:"none",stroke:b.fill},h),{},{index:x,points:[Xe(b.cx,b.cy,b.outerRadius,_),w]}),T=l;return Ie(l)&&Ie(u)?T="value":Ie(l)&&(T=u),U.createElement(je,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(x)},a&&e.renderLabelLineItem(a,N,"line"),e.renderLabelItem(s,E,wt(b,T)))});return U.createElement(je,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,s=o.activeShape,a=o.blendStroke,l=o.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,y=f?s:h,v=ut(ut({},u),{},{stroke:a?u.fill:u.stroke,tabIndex:-1});return U.createElement(je,sl({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},ha(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),U.createElement(P5,sl({option:y,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,s=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state,h=f.prevSectors,y=f.prevIsAnimationActive;return U.createElement(Ar,{begin:a,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var b=v.t,x=[],_=o&&o[0],w=_.startAngle;return o.forEach(function(E,N){var T=h&&h[N],C=N>0?nr(E,"paddingAngle",0):0;if(T){var A=bt(T.endAngle-T.startAngle,E.endAngle-E.startAngle),I=ut(ut({},E),{},{startAngle:w+C,endAngle:w+A(b)+C});x.push(I),w=I.endAngle}else{var k=E.endAngle,P=E.startAngle,R=bt(0,k-P),O=R(b),D=ut(ut({},E),{},{startAngle:w+C,endAngle:w+O+C});x.push(D),w=D.endAngle}}),U.createElement(je,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,s=this.state.prevSectors;return o&&i&&i.length&&(!s||!rs(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,s=i.sectors,a=i.className,l=i.label,u=i.cx,c=i.cy,f=i.innerRadius,h=i.outerRadius,y=i.isAnimationActive,v=this.state.isAnimationFinished;if(o||!s||!s.length||!ae(u)||!ae(c)||!ae(f)||!ae(h))return null;var b=Pe("recharts-pie",a);return U.createElement(je,{tabIndex:this.props.rootTabIndex,className:b,ref:function(_){r.pieRef=_}},this.renderSectors(),l&&this.renderLabels(s),Kt.renderCallByParent(this.props,null,!1),(!y||v)&&Hr.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(U.isValidElement(r))return U.cloneElement(r,i);if(_e(r))return r(i);var s=Pe("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return U.createElement(Xs,sl({},i,{key:o,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,o){if(U.isValidElement(r))return U.cloneElement(r,i);var s=o;if(_e(r)&&(s=r(i),U.isValidElement(s)))return s;var a=Pe("recharts-pie-label-text",typeof r!="boolean"&&!_e(r)?r.className:"");return U.createElement(pa,sl({},i,{alignmentBaseline:"middle",className:a}),s)}}])}(B.PureComponent);Np=vi;pr(vi,"displayName","Pie");pr(vi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!co.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});pr(vi,"parseDeltaAngle",function(t,e){var n=Nn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});pr(vi,"getRealPieData",function(t){var e=t.data,n=t.children,r=ye(t,!1),i=rr(n,Sa);return e&&e.length?e.map(function(o,s){return ut(ut(ut({payload:o},r),o),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(o){return ut(ut({},r),o.props)}):[]});pr(vi,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,s=s5(i,o),a=r+Rn(t.cx,i,i/2),l=n+Rn(t.cy,o,o/2),u=Rn(t.innerRadius,s,0),c=Rn(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:a,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}});pr(vi,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?ut(ut({},e.type.defaultProps),e.props):e.props,i=Np.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,s=r.startAngle,a=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,f=r.valueKey,h=r.tooltipType,y=Math.abs(r.minAngle),v=Np.parseCoordinateOfPie(r,n),b=Np.parseDeltaAngle(s,a),x=Math.abs(b),_=u;Ie(u)&&Ie(f)?(qr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):Ie(u)&&(qr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=f);var w=i.filter(function(I){return wt(I,_,0)!==0}).length,E=(x>=360?w:w-1)*l,N=x-w*y-E,T=i.reduce(function(I,k){var P=wt(k,_,0);return I+(ae(P)?P:0)},0),C;if(T>0){var A;C=i.map(function(I,k){var P=wt(I,_,0),R=wt(I,c,k),O=(ae(P)?P:0)/T,D;k?D=A.endAngle+Nn(b)*l*(P!==0?1:0):D=s;var q=D+Nn(b)*((P!==0?y:0)+O*N),V=(D+q)/2,j=(v.innerRadius+v.outerRadius)/2,F=[{name:R,value:P,payload:I,dataKey:_,type:h}],L=Xe(v.cx,v.cy,j,V);return A=ut(ut(ut({percent:O,cornerRadius:o,name:R,tooltipPayload:F,midAngle:V,middleRadius:j,tooltipPosition:L},I),v),{},{value:wt(I,_),startAngle:D,endAngle:q,payload:I,paddingAngle:Nn(b)*l}),A})}return ut(ut({},v),{},{sectors:C,data:i})});function a1e(t){return t&&t.length?t[0]:void 0}var l1e=a1e,u1e=l1e;const c1e=Ze(u1e);var d1e=["key"];function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function f1e(t,e){if(t==null)return{};var n=h1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function h1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wg(){return wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wg.apply(this,arguments)}function o2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o2(Object(n),!0).forEach(function(r){ki(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M5(r.key),r)}}function m1e(t,e,n){return e&&s2(t.prototype,e),n&&s2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function g1e(t,e,n){return e=_g(e),y1e(t,O5()?Reflect.construct(e,n||[],_g(t).constructor):e.apply(t,n))}function y1e(t,e){if(e&&(Xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v1e(t)}function v1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O5=function(){return!!t})()}function _g(t){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_g(t)}function x1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fw(t,e)}function Fw(t,e){return Fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fw(t,e)}function ki(t,e,n){return e=M5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M5(t){var e=b1e(t,"string");return Xl(e)=="symbol"?e:e+""}function b1e(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ql=function(t){function e(){var n;p1e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=g1e(this,e,[].concat(i)),ki(n,"state",{isAnimationFinished:!1}),ki(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),_e(s)&&s()}),ki(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),_e(s)&&s()}),ki(n,"handleMouseEnter",function(s){var a=n.props.onMouseEnter;a&&a(n.props,s)}),ki(n,"handleMouseLeave",function(s){var a=n.props.onMouseLeave;a&&a(n.props,s)}),n}return x1e(e,t),m1e(e,[{key:"renderDots",value:function(r){var i=this.props,o=i.dot,s=i.dataKey,a=ye(this.props,!1),l=ye(o,!0),u=r.map(function(c,f){var h=kn(kn(kn({key:"dot-".concat(f),r:3},a),l),{},{dataKey:s,cx:c.x,cy:c.y,index:f,payload:c});return e.renderDotItem(o,h)});return U.createElement(je,{className:"recharts-radar-dots"},u)}},{key:"renderPolygonStatically",value:function(r){var i=this.props,o=i.shape,s=i.dot,a=i.isRange,l=i.baseLinePoints,u=i.connectNulls,c;return U.isValidElement(o)?c=U.cloneElement(o,kn(kn({},this.props),{},{points:r})):_e(o)?c=o(kn(kn({},this.props),{},{points:r})):c=U.createElement(E5,wg({},ye(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:r,baseLinePoints:a?l:null,connectNulls:u})),U.createElement(je,{className:"recharts-radar-polygon"},c,s?this.renderDots(r):null)}},{key:"renderPolygonWithAnimation",value:function(){var r=this,i=this.props,o=i.points,s=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state.prevPoints;return U.createElement(Ar,{begin:a,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"radar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var y=h.t,v=f&&f.length/o.length,b=o.map(function(x,_){var w=f&&f[Math.floor(_*v)];if(w){var E=bt(w.x,x.x),N=bt(w.y,x.y);return kn(kn({},x),{},{x:E(y),y:N(y)})}var T=bt(x.cx,x.x),C=bt(x.cy,x.y);return kn(kn({},x),{},{x:T(y),y:C(y)})});return r.renderPolygonStatically(b)})}},{key:"renderPolygon",value:function(){var r=this.props,i=r.points,o=r.isAnimationActive,s=r.isRange,a=this.state.prevPoints;return o&&i&&i.length&&!s&&(!a||!rs(a,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.className,s=r.points,a=r.isAnimationActive;if(i||!s||!s.length)return null;var l=this.state.isAnimationFinished,u=Pe("recharts-radar",o);return U.createElement(je,{className:u},this.renderPolygon(),(!a||l)&&Hr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"renderDotItem",value:function(r,i){var o;if(U.isValidElement(r))o=U.cloneElement(r,i);else if(_e(r))o=r(i);else{var s=i.key,a=f1e(i,d1e);o=U.createElement(Fu,wg({},a,{key:s,className:Pe("recharts-radar-dot",typeof r!="boolean"?r.className:"")}))}return o}}])}(B.PureComponent);ki(Ql,"displayName","Radar");ki(Ql,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!co.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ki(Ql,"getComposedData",function(t){var e=t.radiusAxis,n=t.angleAxis,r=t.displayedData,i=t.dataKey,o=t.bandSize,s=n.cx,a=n.cy,l=!1,u=[],c=n.type!=="number"?o??0:0;r.forEach(function(h,y){var v=wt(h,n.dataKey,y),b=wt(h,i),x=n.scale(v)+c,_=Array.isArray(b)?c5(b):b,w=Ie(_)?void 0:e.scale(_);Array.isArray(b)&&b.length>=2&&(l=!0),u.push(kn(kn({},Xe(s,a,w,x)),{},{name:v,value:b,cx:s,cy:a,radius:w,angle:x,payload:h}))});var f=[];return l&&u.forEach(function(h){if(Array.isArray(h.value)){var y=c1e(h.value),v=Ie(y)?void 0:e.scale(y);f.push(kn(kn({},h),{},{radius:v},Xe(s,a,v,h.angle)))}else f.push(h)}),{points:u,isRange:l,baseLinePoints:f}});var w1e=Math.ceil,_1e=Math.max;function E1e(t,e,n,r){for(var i=-1,o=_1e(w1e((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var T1e=E1e,S1e=K4,a2=1/0,A1e=17976931348623157e292;function I1e(t){if(!t)return t===0?t:0;if(t=S1e(t),t===a2||t===-a2){var e=t<0?-1:1;return e*A1e}return t===t?t:0}var D5=I1e,k1e=T1e,C1e=H0,Lv=D5;function P1e(t){return function(e,n,r){return r&&typeof r!="number"&&C1e(e,n,r)&&(n=r=void 0),e=Lv(e),n===void 0?(n=e,e=0):n=Lv(n),r=r===void 0?e<n?1:-1:Lv(r),k1e(e,n,r,t)}}var N1e=P1e,R1e=N1e,O1e=R1e(),M1e=O1e;const Eg=Ze(M1e);function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function l2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(n),!0).forEach(function(r){j5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j5(t,e,n){return e=D1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D1e(t){var e=j1e(t,"string");return pf(e)=="symbol"?e:e+""}function j1e(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L1e=["Webkit","Moz","O","ms"],$1e=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=L1e.reduce(function(o,s){return u2(u2({},o),{},j5({},s+r,n))},{});return i[e]=n,i};function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tg.apply(this,arguments)}function c2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $v(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c2(Object(n),!0).forEach(function(r){Kn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$5(r.key),r)}}function F1e(t,e,n){return e&&d2(t.prototype,e),n&&d2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function U1e(t,e,n){return e=Sg(e),B1e(t,L5()?Reflect.construct(e,n||[],Sg(t).constructor):e.apply(t,n))}function B1e(t,e){if(e&&(Zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z1e(t)}function z1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L5=function(){return!!t})()}function Sg(t){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sg(t)}function G1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uw(t,e)}function Uw(t,e){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Uw(t,e)}function Kn(t,e,n){return e=$5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $5(t){var e=q1e(t,"string");return Zl(e)=="symbol"?e:e+""}function q1e(t,e){if(Zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var H1e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Jc().domain(Eg(0,l)).range([o,o+s-a]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},f2=function(e){return e.changedTouches&&!!e.changedTouches.length},eu=function(t){function e(n){var r;return V1e(this,e),r=U1e(this,e,[n]),Kn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Kn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Kn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Kn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Kn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Kn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Kn(r,"handleSlideDragStart",function(i){var o=f2(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return G1e(e,t),F1e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,f=Math.min(i,o),h=Math.max(i,o),y=e.getIndexInRange(s,f),v=e.getIndexInRange(s,h);return{startIndex:y-y%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=wt(o[r],a,r);return _e(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,y=l.endIndex,v=l.onChange,b=r.pageX-o;b>0?b=Math.min(b,u+c-f-a,u+c-f-s):b<0&&(b=Math.max(b,u-s,u-a));var x=this.getIndex({startX:s+b,endX:a+b});(x.startIndex!==h||x.endIndex!==y)&&v&&v(x),this.setState({startX:s+b,endX:a+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=f2(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],c=this.props,f=c.x,h=c.width,y=c.travellerWidth,v=c.onChange,b=c.gap,x=c.data,_={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,f+h-y-u):w<0&&(w=Math.max(w,f-u)),_[s]=u+w;var E=this.getIndex(_),N=E.startIndex,T=E.endIndex,C=function(){var I=x.length-1;return s==="startX"&&(a>l?N%b===0:T%b===0)||a<l&&T===I||s==="endX"&&(a>l?T%b===0:N%b===0)||a>l&&T===I};this.setState(Kn(Kn({},s,u+w),"brushMoveStartX",r.pageX),function(){v&&C()&&v(E)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],f=a.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=a.length)){var y=a[h];i==="startX"&&y>=u||i==="endX"&&y<=l||this.setState(Kn({},i,y),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return U.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,f=B.Children.only(u);return f?U.cloneElement(f,{x:i,y:o,width:s,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,y=l.ariaLabel,v=l.data,b=l.startIndex,x=l.endIndex,_=Math.max(r,this.props.x),w=$v($v({},ye(this.props,!1)),{},{x:_,y:u,width:c,height:f}),E=y||"Min value: ".concat((o=v[b])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=v[x])===null||s===void 0?void 0:s.name);return U.createElement(je,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),a.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,y=5,v={pointerEvents:"none",fill:u};return U.createElement(je,{className:"recharts-brush-texts"},U.createElement(pa,Tg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-y,y:s+a/2},v),this.getTextOfTick(i)),U.createElement(pa,Tg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+y,y:s+a/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,y=h.startX,v=h.endX,b=h.isTextActive,x=h.isSlideMoving,_=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!ae(a)||!ae(l)||!ae(u)||!ae(c)||u<=0||c<=0)return null;var E=Pe("recharts-brush",o),N=U.Children.count(s)===1,T=$1e("userSelect","none");return U.createElement(je,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(y,v),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(v,"endX"),(b||x||_||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),U.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return U.isValidElement(r)?o=U.cloneElement(r,i):_e(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return $v({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?H1e({data:o,width:s,x:a,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(B.PureComponent);Kn(eu,"displayName","Brush");Kn(eu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var W1e=HE;function K1e(t,e){var n;return W1e(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var Y1e=K1e,J1e=w4,X1e=yi,Q1e=Y1e,Z1e=qn,eEe=H0;function tEe(t,e,n){var r=Z1e(t)?J1e:Q1e;return n&&eEe(t,e,n)&&(e=void 0),r(t,X1e(e))}var nEe=tEe;const rEe=Ze(nEe);var ci=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},h2=z4;function iEe(t,e,n){e=="__proto__"&&h2?h2(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var oEe=iEe,sEe=oEe,aEe=U4,lEe=yi;function uEe(t,e){var n={};return e=lEe(e),aEe(t,function(r,i,o){sEe(n,i,e(r,i,o))}),n}var cEe=uEe;const dEe=Ze(cEe);function fEe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var hEe=fEe,pEe=HE;function mEe(t,e){var n=!0;return pEe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var gEe=mEe,yEe=hEe,vEe=gEe,xEe=yi,bEe=qn,wEe=H0;function _Ee(t,e,n){var r=bEe(t)?yEe:vEe;return n&&wEe(t,e,n)&&(e=void 0),r(t,xEe(e))}var EEe=_Ee;const V5=Ze(EEe);var TEe=["x","y"];function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function Bw(){return Bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bw.apply(this,arguments)}function p2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p2(Object(n),!0).forEach(function(r){SEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SEe(t,e,n){return e=AEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AEe(t){var e=IEe(t,"string");return mf(e)=="symbol"?e:e+""}function IEe(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kEe(t,e){if(t==null)return{};var n=CEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PEe(t,e){var n=t.x,r=t.y,i=kEe(t,TEe),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return _c(_c(_c(_c(_c({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function m2(t){return U.createElement(P5,Bw({shapeType:"rectangle",propTransformer:PEe,activeClassName:"recharts-active-bar"},t))}var NEe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ae(r)||Nre(r);return o?e(r,i):(o||ga(),n)}},REe=["value","background"],F5;function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function OEe(t,e){if(t==null)return{};var n=MEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ag.apply(this,arguments)}function g2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(n),!0).forEach(function(r){jo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B5(r.key),r)}}function jEe(t,e,n){return e&&y2(t.prototype,e),n&&y2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function LEe(t,e,n){return e=Ig(e),$Ee(t,U5()?Reflect.construct(e,n||[],Ig(t).constructor):e.apply(t,n))}function $Ee(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VEe(t)}function VEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U5=function(){return!!t})()}function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ig(t)}function FEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zw(t,e)}function zw(t,e){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zw(t,e)}function jo(t,e,n){return e=B5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B5(t){var e=UEe(t,"string");return tu(e)=="symbol"?e:e+""}function UEe(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hi=function(t){function e(){var n;DEe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=LEe(this,e,[].concat(i)),jo(n,"state",{isAnimationFinished:!1}),jo(n,"id",Ta("recharts-bar-")),jo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),jo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return FEe(e,t),jEe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,c=ye(this.props,!1);return r&&r.map(function(f,h){var y=h===l,v=y?u:s,b=Rt(Rt(Rt({},c),f),{},{isActive:y,option:v,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return U.createElement(je,Ag({className:"recharts-bar-rectangle"},ha(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),U.createElement(m2,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return U.createElement(Ar,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var v=y.t,b=o.map(function(x,_){var w=h&&h[_];if(w){var E=bt(w.x,x.x),N=bt(w.y,x.y),T=bt(w.width,x.width),C=bt(w.height,x.height);return Rt(Rt({},x),{},{x:E(v),y:N(v),width:T(v),height:C(v)})}if(s==="horizontal"){var A=bt(0,x.height),I=A(v);return Rt(Rt({},x),{},{y:x.y+x.height-I,height:I})}var k=bt(0,x.width),P=k(v);return Rt(Rt({},x),{},{width:P})});return U.createElement(je,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!rs(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=ye(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,h=OEe(u,REe);if(!f)return null;var y=Rt(Rt(Rt(Rt(Rt({},h),{},{fill:"#eee"},f),l),ha(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return U.createElement(m2,Ag({key:"background-bar-".concat(c),option:r.props.background,isActive:c===a},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=rr(c,Xf);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,y=function(x,_){var w=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:w,errorVal:wt(x,_)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return U.createElement(je,v,f.map(function(b){return U.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:h,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,y=r.isAnimationActive,v=r.background,b=r.id;if(i||!o||!o.length)return null;var x=this.state.isAnimationFinished,_=Pe("recharts-bar",s),w=a&&a.allowDataOverflow,E=l&&l.allowDataOverflow,N=w||E,T=Ie(b)?this.id:b;return U.createElement(je,{className:_},w||E?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(T)},U.createElement("rect",{x:w?u:u-f/2,y:E?c:c-h/2,width:w?f:f*2,height:E?h:h*2}))):null,U.createElement(je,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(T,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,T),(!y||x)&&Hr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(B.PureComponent);F5=hi;jo(hi,"displayName","Bar");jo(hi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!co.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});jo(hi,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,y=Yye(r,n);if(!y)return null;var v=e.layout,b=n.type.defaultProps,x=b!==void 0?Rt(Rt({},b),n.props):n.props,_=x.dataKey,w=x.children,E=x.minPointSize,N=v==="horizontal"?s:o,T=u?N.scale.domain():null,C=nve({numericAxis:N}),A=rr(w,Sa),I=f.map(function(k,P){var R,O,D,q,V,j;u?R=Jye(u[c+P],T):(R=wt(k,_),Array.isArray(R)||(R=[C,R]));var F=NEe(E,F5.defaultProps.minPointSize)(R[1],P);if(v==="horizontal"){var L,z=[s.scale(R[0]),s.scale(R[1])],G=z[0],Y=z[1];O=sR({axis:o,ticks:a,bandSize:i,offset:y.offset,entry:k,index:P}),D=(L=Y??G)!==null&&L!==void 0?L:void 0,q=y.size;var H=G-Y;if(V=Number.isNaN(H)?0:H,j={x:O,y:s.y,width:q,height:s.height},Math.abs(F)>0&&Math.abs(V)<Math.abs(F)){var J=Nn(V||F)*(Math.abs(F)-Math.abs(V));D-=J,V+=J}}else{var ce=[o.scale(R[0]),o.scale(R[1])],W=ce[0],oe=ce[1];if(O=W,D=sR({axis:s,ticks:l,bandSize:i,offset:y.offset,entry:k,index:P}),q=oe-W,V=y.size,j={x:o.x,y:D,width:o.width,height:V},Math.abs(F)>0&&Math.abs(q)<Math.abs(F)){var Q=Nn(q||F)*(Math.abs(F)-Math.abs(q));q+=Q}}return Rt(Rt(Rt({},k),{},{x:O,y:D,width:q,height:V,value:u?R:R[1],payload:k,background:j},A&&A[P]&&A[P].props),{},{tooltipPayload:[i5(n,k)],tooltipPosition:{x:O+q/2,y:D+V/2}})});return Rt({data:I,layout:v},h)});function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function BEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z5(r.key),r)}}function zEe(t,e,n){return e&&v2(t.prototype,e),n&&v2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function x2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x2(Object(n),!0).forEach(function(r){ay(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ay(t,e,n){return e=z5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z5(t){var e=GEe(t,"string");return gf(e)=="symbol"?e:e+""}function GEe(t,e){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wT=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!Jn(u,hi);return c.reduce(function(y,v){var b=n[v],x=b.orientation,_=b.domain,w=b.padding,E=w===void 0?{}:w,N=b.mirror,T=b.reversed,C="".concat(x).concat(N?"Mirror":""),A,I,k,P,R;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var O=_[1]-_[0],D=1/0,q=b.categoricalDomain.sort(Mre);if(q.forEach(function(ce,W){W>0&&(D=Math.min((ce||0)-(q[W-1]||0),D))}),Number.isFinite(D)){var V=D/O,j=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(A=V*j/2),b.padding==="no-gap"){var F=Rn(e.barCategoryGap,V*j),L=V*j/2;A=L-F-(L-F)/j*F}}}i==="xAxis"?I=[r.left+(E.left||0)+(A||0),r.left+r.width-(E.right||0)-(A||0)]:i==="yAxis"?I=l==="horizontal"?[r.top+r.height-(E.bottom||0),r.top+(E.top||0)]:[r.top+(E.top||0)+(A||0),r.top+r.height-(E.bottom||0)-(A||0)]:I=b.range,T&&(I=[I[1],I[0]]);var z=e5(b,o,h),G=z.scale,Y=z.realScaleType;G.domain(_).range(I),t5(G);var H=n5(G,Dr(Dr({},b),{},{realScaleType:Y}));i==="xAxis"?(R=x==="top"&&!N||x==="bottom"&&N,k=r.left,P=f[C]-R*b.height):i==="yAxis"&&(R=x==="left"&&!N||x==="right"&&N,k=f[C]-R*b.width,P=r.top);var J=Dr(Dr(Dr({},b),H),{},{realScaleType:Y,x:k,y:P,scale:G,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return J.bandSize=lg(J,H),!b.hide&&i==="xAxis"?f[C]+=(R?-1:1)*J.height:b.hide||(f[C]+=(R?-1:1)*J.width),Dr(Dr({},y),{},ay({},v,J))},{})},G5=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},qEe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return G5({x:n,y:r},{x:i,y:o})},q5=function(){function t(e){BEe(this,t),this.scale=e}return zEe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();ay(q5,"EPS",1e-4);var _T=function(e){var n=Object.keys(e).reduce(function(r,i){return Dr(Dr({},r),{},ay({},i,q5.create(e[i])))},{});return Dr(Dr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return dEe(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return V5(i,function(o,s){return n[s].isInRange(o)})}})};function HEe(t){return(t%180+180)%180}var WEe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=HEe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},KEe=yi,YEe=Hf,JEe=G0;function XEe(t){return function(e,n,r){var i=Object(e);if(!YEe(e)){var o=KEe(n);e=JEe(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var QEe=XEe,ZEe=D5;function eTe(t){var e=ZEe(t),n=e%1;return e===e?n?e-n:e:0}var tTe=eTe,nTe=D4,rTe=yi,iTe=tTe,oTe=Math.max;function sTe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:iTe(n);return i<0&&(i=oTe(r+i,0)),nTe(t,rTe(e),i)}var aTe=sTe,lTe=QEe,uTe=aTe,cTe=lTe(uTe),dTe=cTe;const fTe=Ze(dTe);var hTe=Lne(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),ET=B.createContext(void 0),TT=B.createContext(void 0),H5=B.createContext(void 0),W5=B.createContext({}),K5=B.createContext(void 0),Y5=B.createContext(0),J5=B.createContext(0),b2=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,c=hTe(o);return U.createElement(ET.Provider,{value:r},U.createElement(TT.Provider,{value:i},U.createElement(W5.Provider,{value:o},U.createElement(H5.Provider,{value:c},U.createElement(K5.Provider,{value:s},U.createElement(Y5.Provider,{value:u},U.createElement(J5.Provider,{value:l},a)))))))},pTe=function(){return B.useContext(K5)},X5=function(e){var n=B.useContext(ET);n==null&&ga();var r=n[e];return r==null&&ga(),r},mTe=function(){var e=B.useContext(ET);return Po(e)},gTe=function(){var e=B.useContext(TT),n=fTe(e,function(r){return V5(r.domain,Number.isFinite)});return n||Po(e)},Q5=function(e){var n=B.useContext(TT);n==null&&ga();var r=n[e];return r==null&&ga(),r},yTe=function(){var e=B.useContext(H5);return e},vTe=function(){return B.useContext(W5)},ST=function(){return B.useContext(J5)},AT=function(){return B.useContext(Y5)};function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function xTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eV(r.key),r)}}function wTe(t,e,n){return e&&bTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Te(t,e,n){return e=kg(e),ETe(t,Z5()?Reflect.construct(e,n||[],kg(t).constructor):e.apply(t,n))}function ETe(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TTe(t)}function TTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z5=function(){return!!t})()}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kg(t)}function STe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gw(t,e)}function Gw(t,e){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gw(t,e)}function w2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(n),!0).forEach(function(r){IT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IT(t,e,n){return e=eV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eV(t){var e=ATe(t,"string");return nu(e)=="symbol"?e:e+""}function ATe(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ITe(t,e){return NTe(t)||PTe(t,e)||CTe(t,e)||kTe()}function kTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CTe(t,e){if(t){if(typeof t=="string")return E2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E2(t,e)}}function E2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function NTe(t){if(Array.isArray(t))return t}function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qw.apply(this,arguments)}var RTe=function(e,n){var r;return U.isValidElement(e)?r=U.cloneElement(e,n):_e(e)?r=e(n):r=U.createElement("line",qw({},n,{className:"recharts-reference-line-line"})),r},OTe=function(e,n,r,i,o,s,a,l,u){var c=o.x,f=o.y,h=o.width,y=o.height;if(r){var v=u.y,b=e.y.apply(v,{position:s});if(ci(u,"discard")&&!e.y.isInRange(b))return null;var x=[{x:c+h,y:b},{x:c,y:b}];return l==="left"?x.reverse():x}if(n){var _=u.x,w=e.x.apply(_,{position:s});if(ci(u,"discard")&&!e.x.isInRange(w))return null;var E=[{x:w,y:f+y},{x:w,y:f}];return a==="top"?E.reverse():E}if(i){var N=u.segment,T=N.map(function(C){return e.apply(C,{position:s})});return ci(u,"discard")&&rEe(T,function(C){return!e.isInRange(C)})?null:T}return null};function MTe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=pTe(),c=X5(i),f=Q5(o),h=yTe();if(!u||!h)return null;qr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=_T({x:c.scale,y:f.scale}),v=Ut(e),b=Ut(n),x=r&&r.length===2,_=OTe(y,v,b,x,h,t.position,c.orientation,f.orientation,t);if(!_)return null;var w=ITe(_,2),E=w[0],N=E.x,T=E.y,C=w[1],A=C.x,I=C.y,k=ci(t,"hidden")?"url(#".concat(u,")"):void 0,P=_2(_2({clipPath:k},ye(t,!0)),{},{x1:N,y1:T,x2:A,y2:I});return U.createElement(je,{className:Pe("recharts-reference-line",a)},RTe(s,P),Kt.renderCallByParent(t,qEe({x1:N,y1:T,x2:A,y2:I})))}var Qf=function(t){function e(){return xTe(this,e),_Te(this,e,arguments)}return STe(e,t),wTe(e,[{key:"render",value:function(){return U.createElement(MTe,this.props)}}])}(U.Component);IT(Qf,"displayName","ReferenceLine");IT(Qf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Hw(){return Hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hw.apply(this,arguments)}function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function T2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(n),!0).forEach(function(r){ly(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nV(r.key),r)}}function LTe(t,e,n){return e&&jTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $Te(t,e,n){return e=Cg(e),VTe(t,tV()?Reflect.construct(e,n||[],Cg(t).constructor):e.apply(t,n))}function VTe(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FTe(t)}function FTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tV=function(){return!!t})()}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cg(t)}function UTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ww(t,e)}function Ww(t,e){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ww(t,e)}function ly(t,e,n){return e=nV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nV(t){var e=BTe(t,"string");return ru(e)=="symbol"?e:e+""}function BTe(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zTe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=_T({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return ci(e,"discard")&&!s.isInRange(a)?null:a},uy=function(t){function e(){return DTe(this,e),$Te(this,e,arguments)}return UTe(e,t),LTe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=Ut(i),c=Ut(o);if(qr(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=zTe(this.props);if(!f)return null;var h=f.x,y=f.y,v=this.props,b=v.shape,x=v.className,_=ci(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=S2(S2({clipPath:_},ye(this.props,!0)),{},{cx:h,cy:y});return U.createElement(je,{className:Pe("recharts-reference-dot",x)},e.renderDot(b,w),Kt.renderCallByParent(this.props,{x:h-s,y:y-s,width:2*s,height:2*s}))}}])}(U.Component);ly(uy,"displayName","ReferenceDot");ly(uy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ly(uy,"renderDot",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):_e(t)?n=t(e):n=U.createElement(Fu,Hw({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kw.apply(this,arguments)}function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function A2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A2(Object(n),!0).forEach(function(r){cy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iV(r.key),r)}}function HTe(t,e,n){return e&&qTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WTe(t,e,n){return e=Pg(e),KTe(t,rV()?Reflect.construct(e,n||[],Pg(t).constructor):e.apply(t,n))}function KTe(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YTe(t)}function YTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rV=function(){return!!t})()}function Pg(t){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pg(t)}function JTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yw(t,e)}function Yw(t,e){return Yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yw(t,e)}function cy(t,e,n){return e=iV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iV(t){var e=XTe(t,"string");return iu(e)=="symbol"?e:e+""}function XTe(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var QTe=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var h=_T({x:c.scale,y:f.scale}),y={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ci(o,"discard")&&(!h.isInRange(y)||!h.isInRange(v))?null:G5(y,v)},dy=function(t){function e(){return GTe(this,e),WTe(this,e,arguments)}return JTe(e,t),HTe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;qr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ut(i),h=Ut(o),y=Ut(s),v=Ut(a),b=this.props.shape;if(!f&&!h&&!y&&!v&&!b)return null;var x=QTe(f,h,y,v,this.props);if(!x&&!b)return null;var _=ci(this.props,"hidden")?"url(#".concat(c,")"):void 0;return U.createElement(je,{className:Pe("recharts-reference-area",l)},e.renderRect(b,I2(I2({clipPath:_},ye(this.props,!0)),x)),Kt.renderCallByParent(this.props,x))}}])}(U.Component);cy(dy,"displayName","ReferenceArea");cy(dy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});cy(dy,"renderRect",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):_e(t)?n=t(e):n=U.createElement(bT,Kw({},e,{className:"recharts-reference-area-rect"})),n});function oV(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function ZTe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return WEe(r,n)}function eSe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Ng(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function tSe(t,e){return oV(t,e+1)}function nSe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,c=s,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:oV(r,u)};var b=l,x,_=function(){return x===void 0&&(x=n(v,b)),x},w=v.coordinate,E=l===0||Ng(t,w,_,c,a);E||(l=0,c=s,u+=1),E&&(c=w+t*(_()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function k2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k2(Object(n),!0).forEach(function(r){rSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rSe(t,e,n){return e=iSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iSe(t){var e=oSe(t,"string");return yf(e)=="symbol"?e:e+""}function oSe(t,e){if(yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sSe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(h){var y=o[h],v,b=function(){return v===void 0&&(v=n(y,h)),v};if(h===s-1){var x=t*(y.coordinate+t*b()/2-l);o[h]=y=mn(mn({},y),{},{tickCoord:x>0?y.coordinate-x*t:y.coordinate})}else o[h]=y=mn(mn({},y),{},{tickCoord:y.coordinate});var _=Ng(t,y.tickCoord,b,a,l);_&&(l=y.tickCoord-t*(b()/2+i),o[h]=mn(mn({},y),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function aSe(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var c=r[a-1],f=n(c,a-1),h=t*(c.coordinate+t*f/2-u);s[a-1]=c=mn(mn({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var y=Ng(t,c.tickCoord,function(){return f},l,u);y&&(u=c.tickCoord-t*(f/2+i),s[a-1]=mn(mn({},c),{},{isShow:!0}))}for(var v=o?a-1:a,b=function(w){var E=s[w],N,T=function(){return N===void 0&&(N=n(E,w)),N};if(w===0){var C=t*(E.coordinate-t*T()/2-l);s[w]=E=mn(mn({},E),{},{tickCoord:C<0?E.coordinate-C*t:E.coordinate})}else s[w]=E=mn(mn({},E),{},{tickCoord:E.coordinate});var A=Ng(t,E.tickCoord,T,l,u);A&&(l=E.tickCoord+t*(T()/2+i),s[w]=mn(mn({},E),{},{isShow:!0}))},x=0;x<v;x++)b(x);return s}function kT(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ae(l)||co.isSsr)return tSe(i,typeof l=="number"&&ae(l)?l:0);var h=[],y=a==="top"||a==="bottom"?"width":"height",v=c&&y==="width"?Yc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(E,N){var T=_e(u)?u(E.value,N):E.value;return y==="width"?ZTe(Yc(T,{fontSize:e,letterSpacing:n}),v,f):Yc(T,{fontSize:e,letterSpacing:n})[y]},x=i.length>=2?Nn(i[1].coordinate-i[0].coordinate):1,_=eSe(o,x,y);return l==="equidistantPreserveStart"?nSe(x,_,b,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=aSe(x,_,b,i,s,l==="preserveStartEnd"):h=sSe(x,_,b,i,s),h.filter(function(w){return w.isShow}))}var lSe=["viewBox"],uSe=["viewBox"],cSe=["ticks"];function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function al(){return al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},al.apply(this,arguments)}function C2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C2(Object(n),!0).forEach(function(r){CT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vv(t,e){if(t==null)return{};var n=dSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aV(r.key),r)}}function hSe(t,e,n){return e&&P2(t.prototype,e),n&&P2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pSe(t,e,n){return e=Rg(e),mSe(t,sV()?Reflect.construct(e,n||[],Rg(t).constructor):e.apply(t,n))}function mSe(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gSe(t)}function gSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sV=function(){return!!t})()}function Rg(t){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rg(t)}function ySe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jw(t,e)}function Jw(t,e){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jw(t,e)}function CT(t,e,n){return e=aV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aV(t){var e=vSe(t,"string");return ou(e)=="symbol"?e:e+""}function vSe(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zu=function(t){function e(n){var r;return fSe(this,e),r=pSe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return ySe(e,t),hSe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=Vv(r,lSe),a=this.props,l=a.viewBox,u=Vv(a,uSe);return!wl(o,l)||!wl(s,u)||!wl(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,y,v,b,x,_,w,E=f?-1:1,N=r.tickSize||c,T=ae(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":y=v=r.coordinate,x=s+ +!f*l,b=x-E*N,w=b-E*h,_=T;break;case"left":b=x=r.coordinate,v=o+ +!f*a,y=v-E*N,_=y-E*h,w=T;break;case"right":b=x=r.coordinate,v=o+ +f*a,y=v+E*N,_=y+E*h,w=T;break;default:y=v=r.coordinate,x=s+ +f*l,b=x+E*N,w=b+E*h,_=T;break}return{line:{x1:y,y1:b,x2:v,y2:x},tick:{x:_,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=jt(jt(jt({},ye(this.props,!1)),ye(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=jt(jt({},f),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var y=+(l==="left"&&!u||l==="right"&&u);f=jt(jt({},f),{},{x1:i+y*s,y1:o,x2:i+y*s,y2:o+a})}return U.createElement("line",al({},f,{className:Pe("recharts-cartesian-axis-line",nr(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,f=a.tickFormatter,h=a.unit,y=kT(jt(jt({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),x=ye(this.props,!1),_=ye(c,!1),w=jt(jt({},x),{},{fill:"none"},ye(l,!1)),E=y.map(function(N,T){var C=s.getTickLineCoord(N),A=C.line,I=C.tick,k=jt(jt(jt(jt({textAnchor:v,verticalAnchor:b},x),{},{stroke:"none",fill:u},_),I),{},{index:T,payload:N,visibleTicksCount:y.length,tickFormatter:f});return U.createElement(je,al({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},ha(s.props,N,T)),l&&U.createElement("line",al({},w,A,{className:Pe("recharts-cartesian-axis-tick-line",nr(l,"className"))})),c&&e.renderTickItem(c,k,"".concat(_e(f)?f(N.value,T):N.value).concat(h||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,y=Vv(f,cSe),v=h;return _e(l)&&(v=h&&h.length>0?l(this.props):l(y)),s<=0||a<=0||!v||!v.length?null:U.createElement(je,{className:Pe("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Kt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=Pe(i.className,"recharts-cartesian-axis-tick-value");return U.isValidElement(r)?s=U.cloneElement(r,jt(jt({},i),{},{className:a})):_e(r)?s=r(jt(jt({},i),{},{className:a})):s=U.createElement(pa,al({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(B.Component);CT(zu,"displayName","CartesianAxis");CT(zu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xSe=["x1","y1","x2","y2","key"],bSe=["offset"];function ya(t){"@babel/helpers - typeof";return ya=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ya(t)}function N2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N2(Object(n),!0).forEach(function(r){wSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wSe(t,e,n){return e=_Se(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _Se(t){var e=ESe(t,"string");return ya(e)=="symbol"?e:e+""}function ESe(t,e){if(ya(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ya(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zs(){return zs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zs.apply(this,arguments)}function R2(t,e){if(t==null)return{};var n=TSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var SSe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return U.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function lV(t,e){var n;if(U.isValidElement(t))n=U.cloneElement(t,e);else if(_e(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=R2(e,xSe),u=ye(l,!1);u.offset;var c=R2(u,bSe);n=U.createElement("line",zs({},c,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function ASe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=yn(yn({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return lV(i,u)});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function ISe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=yn(yn({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return lV(i,u)});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function kSe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=a.map(function(h){return Math.round(h+i-i)}).sort(function(h,y){return h-y});i!==c[0]&&c.unshift(0);var f=c.map(function(h,y){var v=!c[y+1],b=v?i+s-h:c[y+1]-h;if(b<=0)return null;var x=y%e.length;return U.createElement("rect",{key:"react-".concat(y),y:h,x:r,height:b,width:o,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function CSe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,y){return h-y});o!==c[0]&&c.unshift(0);var f=c.map(function(h,y){var v=!c[y+1],b=v?o+a-h:c[y+1]-h;if(b<=0)return null;var x=y%r.length;return U.createElement("rect",{key:"react-".concat(y),x:h,y:s,width:b,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var PSe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return Z3(kT(yn(yn(yn({},zu.defaultProps),r),{},{ticks:ji(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},NSe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return Z3(kT(yn(yn(yn({},zu.defaultProps),r),{},{ticks:ji(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},ja={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function su(t){var e,n,r,i,o,s,a=ST(),l=AT(),u=vTe(),c=yn(yn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ja.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:ja.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:ja.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ja.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:ja.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:ja.verticalFill,x:ae(t.x)?t.x:u.left,y:ae(t.y)?t.y:u.top,width:ae(t.width)?t.width:u.width,height:ae(t.height)?t.height:u.height}),f=c.x,h=c.y,y=c.width,v=c.height,b=c.syncWithTicks,x=c.horizontalValues,_=c.verticalValues,w=mTe(),E=gTe();if(!ae(y)||y<=0||!ae(v)||v<=0||!ae(f)||f!==+f||!ae(h)||h!==+h)return null;var N=c.verticalCoordinatesGenerator||PSe,T=c.horizontalCoordinatesGenerator||NSe,C=c.horizontalPoints,A=c.verticalPoints;if((!C||!C.length)&&_e(T)){var I=x&&x.length,k=T({yAxis:E?yn(yn({},E),{},{ticks:I?x:E.ticks}):void 0,width:a,height:l,offset:u},I?!0:b);qr(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ya(k),"]")),Array.isArray(k)&&(C=k)}if((!A||!A.length)&&_e(N)){var P=_&&_.length,R=N({xAxis:w?yn(yn({},w),{},{ticks:P?_:w.ticks}):void 0,width:a,height:l,offset:u},P?!0:b);qr(Array.isArray(R),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ya(R),"]")),Array.isArray(R)&&(A=R)}return U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement(SSe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),U.createElement(ASe,zs({},c,{offset:u,horizontalPoints:C,xAxis:w,yAxis:E})),U.createElement(ISe,zs({},c,{offset:u,verticalPoints:A,xAxis:w,yAxis:E})),U.createElement(kSe,zs({},c,{horizontalPoints:C})),U.createElement(CSe,zs({},c,{verticalPoints:A})))}su.displayName="CartesianGrid";var RSe=["type","layout","connectNulls","ref"],OSe=["key"];function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function O2(t,e){if(t==null)return{};var n=MSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function td(){return td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},td.apply(this,arguments)}function M2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M2(Object(n),!0).forEach(function(r){jr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function La(t){return $Se(t)||LSe(t)||jSe(t)||DSe()}function DSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jSe(t,e){if(t){if(typeof t=="string")return Xw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xw(t,e)}}function LSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Se(t){if(Array.isArray(t))return Xw(t)}function Xw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cV(r.key),r)}}function FSe(t,e,n){return e&&D2(t.prototype,e),n&&D2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function USe(t,e,n){return e=Og(e),BSe(t,uV()?Reflect.construct(e,n||[],Og(t).constructor):e.apply(t,n))}function BSe(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zSe(t)}function zSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uV=function(){return!!t})()}function Og(t){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Og(t)}function GSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qw(t,e)}function Qw(t,e){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qw(t,e)}function jr(t,e,n){return e=cV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cV(t){var e=qSe(t,"string");return au(e)=="symbol"?e:e+""}function qSe(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zf=function(t){function e(){var n;VSe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=USe(this,e,[].concat(i)),jr(n,"state",{isAnimationFinished:!0,totalLength:0}),jr(n,"generateSimpleStrokeDasharray",function(s,a){return"".concat(a,"px ").concat(s-a,"px")}),jr(n,"getStrokeDasharray",function(s,a,l){var u=l.reduce(function(_,w){return _+w});if(!u)return n.generateSimpleStrokeDasharray(a,s);for(var c=Math.floor(s/u),f=s%u,h=a-s,y=[],v=0,b=0;v<l.length;b+=l[v],++v)if(b+l[v]>f){y=[].concat(La(l.slice(0,v)),[f-b]);break}var x=y.length%2===0?[0,h]:[h];return[].concat(La(e.repeat(l,c)),La(y),x).map(function(_){return"".concat(_,"px")}).join(", ")}),jr(n,"id",Ta("recharts-line-")),jr(n,"pathRef",function(s){n.mainCurve=s}),jr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),jr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return GSe(e,t),FSe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=rr(c,Xf);if(!f)return null;var h=function(b,x){return{x:b.x,y:b.y,value:b.value,errorVal:wt(b.payload,x)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return U.createElement(je,y,f.map(function(v){return U.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,u=a.points,c=a.dataKey,f=ye(this.props,!1),h=ye(l,!0),y=u.map(function(b,x){var _=Wn(Wn(Wn({key:"dot-".concat(x),r:3},f),h),{},{index:x,cx:b.x,cy:b.y,value:b.value,dataKey:c,payload:b.payload,points:u});return e.renderDotItem(l,_)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return U.createElement(je,td({className:"recharts-line-dots",key:"dots"},v),y)}},{key:"renderCurveStatically",value:function(r,i,o,s){var a=this.props,l=a.type,u=a.layout,c=a.connectNulls;a.ref;var f=O2(a,RSe),h=Wn(Wn(Wn({},ye(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:l,layout:u,connectNulls:c});return U.createElement(Xs,td({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.strokeDasharray,u=s.isAnimationActive,c=s.animationBegin,f=s.animationDuration,h=s.animationEasing,y=s.animationId,v=s.animateNewValues,b=s.width,x=s.height,_=this.state,w=_.prevPoints,E=_.totalLength;return U.createElement(Ar,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var T=N.t;if(w){var C=w.length/a.length,A=a.map(function(O,D){var q=Math.floor(D*C);if(w[q]){var V=w[q],j=bt(V.x,O.x),F=bt(V.y,O.y);return Wn(Wn({},O),{},{x:j(T),y:F(T)})}if(v){var L=bt(b*2,O.x),z=bt(x/2,O.y);return Wn(Wn({},O),{},{x:L(T),y:z(T)})}return Wn(Wn({},O),{},{x:O.x,y:O.y})});return o.renderCurveStatically(A,r,i)}var I=bt(0,E),k=I(T),P;if(l){var R="".concat(l).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});P=o.getStrokeDasharray(k,E,R)}else P=o.generateSimpleStrokeDasharray(E,k);return o.renderCurveStatically(a,r,i,{strokeDasharray:P})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,a=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return a&&s&&s.length&&(!u&&c>0||!rs(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,h=i.left,y=i.width,v=i.height,b=i.isAnimationActive,x=i.id;if(o||!a||!a.length)return null;var _=this.state.isAnimationFinished,w=a.length===1,E=Pe("recharts-line",l),N=u&&u.allowDataOverflow,T=c&&c.allowDataOverflow,C=N||T,A=Ie(x)?this.id:x,I=(r=ye(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=I.r,P=k===void 0?3:k,R=I.strokeWidth,O=R===void 0?2:R,D=H$(s)?s:{},q=D.clipDot,V=q===void 0?!0:q,j=P*2+O;return U.createElement(je,{className:E},N||T?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(A)},U.createElement("rect",{x:N?h:h-y/2,y:T?f:f-v/2,width:N?y:y*2,height:T?v:v*2})),!V&&U.createElement("clipPath",{id:"clipPath-dots-".concat(A)},U.createElement("rect",{x:h-j/2,y:f-j/2,width:y+j,height:v+j}))):null,!w&&this.renderCurve(C,A),this.renderErrorBar(C,A),(w||s)&&this.renderDots(C,V,A),(!b||_)&&Hr.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(La(r),[0]):r,s=[],a=0;a<i;++a)s=[].concat(La(s),La(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if(U.isValidElement(r))o=U.cloneElement(r,i);else if(_e(r))o=r(i);else{var s=i.key,a=O2(i,OSe),l=Pe("recharts-line-dot",typeof r!="boolean"?r.className:"");o=U.createElement(Fu,td({key:s},a,{className:l}))}return o}}])}(B.PureComponent);jr(Zf,"displayName","Line");jr(Zf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!co.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});jr(Zf,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(h,y){var v=wt(h,s);return c==="horizontal"?{x:ag({axis:n,ticks:i,bandSize:a,entry:h,index:y}),y:Ie(v)?null:r.scale(v),value:v,payload:h}:{x:Ie(v)?null:n.scale(v),y:ag({axis:r,ticks:o,bandSize:a,entry:h,index:y}),value:v,payload:h}});return Wn({points:f,layout:c},u)});var HSe=["layout","type","stroke","connectNulls","isRange","ref"],WSe=["key"],dV;function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function fV(t,e){if(t==null)return{};var n=KSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function KSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gs(){return Gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gs.apply(this,arguments)}function j2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j2(Object(n),!0).forEach(function(r){ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pV(r.key),r)}}function JSe(t,e,n){return e&&L2(t.prototype,e),n&&L2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function XSe(t,e,n){return e=Mg(e),QSe(t,hV()?Reflect.construct(e,n||[],Mg(t).constructor):e.apply(t,n))}function QSe(t,e){if(e&&(lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZSe(t)}function ZSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hV=function(){return!!t})()}function Mg(t){return Mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mg(t)}function eAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zw(t,e)}function Zw(t,e){return Zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Zw(t,e)}function ri(t,e,n){return e=pV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pV(t){var e=tAe(t,"string");return lu(e)=="symbol"?e:e+""}function tAe(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ys=function(t){function e(){var n;YSe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=XSe(this,e,[].concat(i)),ri(n,"state",{isAnimationFinished:!0}),ri(n,"id",Ta("recharts-area-")),ri(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),_e(s)&&s()}),ri(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),_e(s)&&s()}),n}return eAe(e,t),JSe(e,[{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(s&&!a)return null;var l=this.props,u=l.dot,c=l.points,f=l.dataKey,h=ye(this.props,!1),y=ye(u,!0),v=c.map(function(x,_){var w=xo(xo(xo({key:"dot-".concat(_),r:3},h),y),{},{index:_,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:c});return e.renderDotItem(u,w)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return U.createElement(je,Gs({className:"recharts-area-dots"},b),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].x,u=s[s.length-1].x,c=r*Math.abs(l-u),f=Do(s.map(function(h){return h.y||0}));return ae(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Do(o.map(function(h){return h.y||0})),f)),ae(f)?U.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(f+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].y,u=s[s.length-1].y,c=r*Math.abs(l-u),f=Do(s.map(function(h){return h.x||0}));return ae(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Do(o.map(function(h){return h.x||0})),f)),ae(f)?U.createElement("rect",{x:0,y:l<u?l:l-c,width:f+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,s){var a=this.props,l=a.layout,u=a.type,c=a.stroke,f=a.connectNulls,h=a.isRange;a.ref;var y=fV(a,HSe);return U.createElement(je,{clipPath:o?"url(#clipPath-".concat(s,")"):null},U.createElement(Xs,Gs({},ye(y,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&U.createElement(Xs,Gs({},ye(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:r})),c!=="none"&&h&&U.createElement(Xs,Gs({},ye(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.baseLine,u=s.isAnimationActive,c=s.animationBegin,f=s.animationDuration,h=s.animationEasing,y=s.animationId,v=this.state,b=v.prevPoints,x=v.prevBaseLine;return U.createElement(Ar,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var w=_.t;if(b){var E=b.length/a.length,N=a.map(function(I,k){var P=Math.floor(k*E);if(b[P]){var R=b[P],O=bt(R.x,I.x),D=bt(R.y,I.y);return xo(xo({},I),{},{x:O(w),y:D(w)})}return I}),T;if(ae(l)&&typeof l=="number"){var C=bt(x,l);T=C(w)}else if(Ie(l)||Ou(l)){var A=bt(x,0);T=A(w)}else T=l.map(function(I,k){var P=Math.floor(k*E);if(x[P]){var R=x[P],O=bt(R.x,I.x),D=bt(R.y,I.y);return xo(xo({},I),{},{x:O(w),y:D(w)})}return I});return o.renderAreaStatically(N,T,r,i)}return U.createElement(je,null,U.createElement("defs",null,U.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(w))),U.createElement(je,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(a,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,s=o.points,a=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&s&&s.length&&(!c&&h>0||!rs(c,s)||!rs(f,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.top,c=i.left,f=i.xAxis,h=i.yAxis,y=i.width,v=i.height,b=i.isAnimationActive,x=i.id;if(o||!a||!a.length)return null;var _=this.state.isAnimationFinished,w=a.length===1,E=Pe("recharts-area",l),N=f&&f.allowDataOverflow,T=h&&h.allowDataOverflow,C=N||T,A=Ie(x)?this.id:x,I=(r=ye(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=I.r,P=k===void 0?3:k,R=I.strokeWidth,O=R===void 0?2:R,D=H$(s)?s:{},q=D.clipDot,V=q===void 0?!0:q,j=P*2+O;return U.createElement(je,{className:E},N||T?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(A)},U.createElement("rect",{x:N?c:c-y/2,y:T?u:u-v/2,width:N?y:y*2,height:T?v:v*2})),!V&&U.createElement("clipPath",{id:"clipPath-dots-".concat(A)},U.createElement("rect",{x:c-j/2,y:u-j/2,width:y+j,height:v+j}))):null,w?null:this.renderArea(C,A),(s||w)&&this.renderDots(C,V,A),(!b||_)&&Hr.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(B.PureComponent);dV=ys;ri(ys,"displayName","Area");ri(ys,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!co.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ri(ys,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,s=e.props.baseValue,a=s??o;if(ae(a)&&typeof a=="number")return a;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return a==="dataMin"?f:a==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]});ri(ys,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,a=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,y=e.layout,v=u&&u.length,b=dV.getBaseValue(e,n,r,i),x=y==="horizontal",_=!1,w=f.map(function(N,T){var C;v?C=u[c+T]:(C=wt(N,l),Array.isArray(C)?_=!0:C=[b,C]);var A=C[1]==null||v&&wt(N,l)==null;return x?{x:ag({axis:r,ticks:o,bandSize:a,entry:N,index:T}),y:A?null:i.scale(C[1]),value:C,payload:N}:{x:A?null:r.scale(C[1]),y:ag({axis:i,ticks:s,bandSize:a,entry:N,index:T}),value:C,payload:N}}),E;return v||_?E=w.map(function(N){var T=Array.isArray(N.value)?N.value[0]:null;return x?{x:N.x,y:T!=null&&N.y!=null?i.scale(T):null}:{x:T!=null?r.scale(T):null,y:N.y}}):E=x?i.scale(b):r.scale(b),xo({points:w,baseLine:E,layout:y,isRange:_},h)});ri(ys,"renderDotItem",function(t,e){var n;if(U.isValidElement(t))n=U.cloneElement(t,e);else if(_e(t))n=t(e);else{var r=Pe("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=fV(e,WSe);n=U.createElement(Fu,Gs({},o,{key:i,className:r}))}return n});function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function nAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yV(r.key),r)}}function iAe(t,e,n){return e&&rAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oAe(t,e,n){return e=Dg(e),sAe(t,mV()?Reflect.construct(e,n||[],Dg(t).constructor):e.apply(t,n))}function sAe(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aAe(t)}function aAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mV=function(){return!!t})()}function Dg(t){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dg(t)}function lAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e_(t,e)}function e_(t,e){return e_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},e_(t,e)}function gV(t,e,n){return e=yV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yV(t){var e=uAe(t,"string");return uu(e)=="symbol"?e:e+""}function uAe(t,e){if(uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function t_(){return t_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t_.apply(this,arguments)}function cAe(t){var e=t.xAxisId,n=ST(),r=AT(),i=X5(e);return i==null?null:B.createElement(zu,t_({},i,{className:Pe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return ji(s,!0)}}))}var pi=function(t){function e(){return nAe(this,e),oAe(this,e,arguments)}return lAe(e,t),iAe(e,[{key:"render",value:function(){return B.createElement(cAe,this.props)}}])}(B.Component);gV(pi,"displayName","XAxis");gV(pi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function dAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bV(r.key),r)}}function hAe(t,e,n){return e&&fAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pAe(t,e,n){return e=jg(e),mAe(t,vV()?Reflect.construct(e,n||[],jg(t).constructor):e.apply(t,n))}function mAe(t,e){if(e&&(cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gAe(t)}function gAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vV=function(){return!!t})()}function jg(t){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jg(t)}function yAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n_(t,e)}function n_(t,e){return n_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},n_(t,e)}function xV(t,e,n){return e=bV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bV(t){var e=vAe(t,"string");return cu(e)=="symbol"?e:e+""}function vAe(t,e){if(cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function r_(){return r_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r_.apply(this,arguments)}var xAe=function(e){var n=e.yAxisId,r=ST(),i=AT(),o=Q5(n);return o==null?null:B.createElement(zu,r_({},o,{className:Pe("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return ji(a,!0)}}))},mi=function(t){function e(){return dAe(this,e),pAe(this,e,arguments)}return yAe(e,t),hAe(e,[{key:"render",value:function(){return B.createElement(xAe,this.props)}}])}(B.Component);xV(mi,"displayName","YAxis");xV(mi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function $2(t){return EAe(t)||_Ae(t)||wAe(t)||bAe()}function bAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wAe(t,e){if(t){if(typeof t=="string")return i_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i_(t,e)}}function _Ae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function EAe(t){if(Array.isArray(t))return i_(t)}function i_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var o_=function(e,n,r,i,o){var s=rr(e,Qf),a=rr(e,uy),l=[].concat($2(s),$2(a)),u=rr(e,dy),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(b,x){if(x.props[c]===r&&ci(x.props,"extendDomain")&&ae(x.props[f])){var _=x.props[f];return[Math.min(b[0],_),Math.max(b[1],_)]}return b},h)),u.length){var y="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(b,x){if(x.props[c]===r&&ci(x.props,"extendDomain")&&ae(x.props[y])&&ae(x.props[v])){var _=x.props[y],w=x.props[v];return[Math.min(b[0],_,w),Math.max(b[1],_,w)]}return b},h)}return o&&o.length&&(h=o.reduce(function(b,x){return ae(x)?[Math.min(b[0],x),Math.max(b[1],x)]:b},h)),h},wV={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var y=new i(c,f||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],y]:l._events[v].push(y):(l._events[v]=y,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,y=f.length,v=new Array(y);h<y;h++)v[h]=f[h].fn;return v},a.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,h,y,v){var b=n?n+u:u;if(!this._events[b])return!1;var x=this._events[b],_=arguments.length,w,E;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),_){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,f),!0;case 4:return x.fn.call(x.context,c,f,h),!0;case 5:return x.fn.call(x.context,c,f,h,y),!0;case 6:return x.fn.call(x.context,c,f,h,y,v),!0}for(E=1,w=new Array(_-1);E<_;E++)w[E-1]=arguments[E];x.fn.apply(x.context,w)}else{var N=x.length,T;for(E=0;E<N;E++)switch(x[E].once&&this.removeListener(u,x[E].fn,void 0,!0),_){case 1:x[E].fn.call(x[E].context);break;case 2:x[E].fn.call(x[E].context,c);break;case 3:x[E].fn.call(x[E].context,c,f);break;case 4:x[E].fn.call(x[E].context,c,f,h);break;default:if(!w)for(T=1,w=new Array(_-1);T<_;T++)w[T-1]=arguments[T];x[E].fn.apply(x[E].context,w)}}return!0},a.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,h){var y=n?n+u:u;if(!this._events[y])return this;if(!c)return s(this,y),this;var v=this._events[y];if(v.fn)v.fn===c&&(!h||v.once)&&(!f||v.context===f)&&s(this,y);else{for(var b=0,x=[],_=v.length;b<_;b++)(v[b].fn!==c||h&&!v[b].once||f&&v[b].context!==f)&&x.push(v[b]);x.length?this._events[y]=x.length===1?x[0]:x:s(this,y)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(wV);var TAe=wV.exports;const SAe=Ze(TAe);var Fv=new SAe,Uv="recharts.syncMouseEvents";function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function AAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_V(r.key),r)}}function kAe(t,e,n){return e&&IAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bv(t,e,n){return e=_V(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _V(t){var e=CAe(t,"string");return vf(e)=="symbol"?e:e+""}function CAe(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var PAe=function(){function t(){AAe(this,t),Bv(this,"activeIndex",0),Bv(this,"coordinateList",[]),Bv(this,"layout","horizontal")}return kAe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,y=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=s+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function NAe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ae(r)&&ae(i))return!0}return!1}function RAe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function EV(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Xe(e,n,r,i),a=Xe(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function OAe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=Xe(a,l,u,f),y=Xe(a,l,c,f);r=h.x,i=h.y,o=y.x,s=y.y}else return EV(e);return[{x:r,y:i},{x:o,y:s}]}function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function V2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V2(Object(n),!0).forEach(function(r){MAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MAe(t,e,n){return e=DAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DAe(t){var e=jAe(t,"string");return xf(e)=="symbol"?e:e+""}function jAe(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LAe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,y=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!y||!o||!s||h!=="ScatterChart"&&i!=="axis")return null;var v,b=Xs;if(h==="ScatterChart")v=s,b=bwe;else if(h==="BarChart")v=RAe(f,s,l,c),b=bT;else if(f==="radial"){var x=EV(s),_=x.cx,w=x.cy,E=x.radius,N=x.startAngle,T=x.endAngle;v={cx:_,cy:w,startAngle:N,endAngle:T,innerRadius:E,outerRadius:E},b=f5}else v={points:OAe(f,s,l)},b=Xs;var C=rp(rp(rp(rp({stroke:"#ccc",pointerEvents:"none"},l),v),ye(y,!1)),{},{payload:a,payloadIndex:u,className:Pe("recharts-tooltip-cursor",y.className)});return B.isValidElement(y)?B.cloneElement(y,C):B.createElement(b,C)}var $Ae=["item"],VAe=["children","className","width","height","style","compact","title","desc"];function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function ll(){return ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ll.apply(this,arguments)}function F2(t,e){return BAe(t)||UAe(t,e)||SV(t,e)||FAe()}function FAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function BAe(t){if(Array.isArray(t))return t}function U2(t,e){if(t==null)return{};var n=zAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AV(r.key),r)}}function HAe(t,e,n){return e&&qAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function WAe(t,e,n){return e=Lg(e),KAe(t,TV()?Reflect.construct(e,n||[],Lg(t).constructor):e.apply(t,n))}function KAe(t,e){if(e&&(du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YAe(t)}function YAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TV=function(){return!!t})()}function Lg(t){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lg(t)}function JAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s_(t,e)}function s_(t,e){return s_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},s_(t,e)}function fu(t){return ZAe(t)||QAe(t)||SV(t)||XAe()}function XAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SV(t,e){if(t){if(typeof t=="string")return a_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a_(t,e)}}function QAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZAe(t){if(Array.isArray(t))return a_(t)}function a_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function B2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(n),!0).forEach(function(r){Ee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ee(t,e,n){return e=AV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AV(t){var e=eIe(t,"string");return du(e)=="symbol"?e:e+""}function eIe(t,e){if(du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tIe={xAxis:["bottom","top"],yAxis:["left","right"]},nIe={width:"100%",height:"100%"},IV={x:0,y:0};function ip(t){return t}var rIe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},iIe=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return Z(Z(Z({},i),Xe(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return Z(Z(Z({},i),Xe(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return IV},fy=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(fu(a),fu(u)):a},[]);return s.length>0?s:e&&e.length&&ae(i)&&ae(o)?e.slice(i,o+1):[]};function kV(t){return t==="number"?[0,"auto"]:void 0}var l_=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=fy(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var y=f===void 0?a:f;h=Rm(y,s.dataKey,i)}else h=f&&f[r]||a[r];return h?[].concat(fu(l),[i5(u,h)]):l},[])},z2=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=rIe(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=zye(s,a,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=l_(e,n,c,f),y=iIe(r,a,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:y}}return null},oIe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,y=Q3(c,o);return r.reduce(function(v,b){var x,_=b.type.defaultProps!==void 0?Z(Z({},b.type.defaultProps),b.props):b.props,w=_.type,E=_.dataKey,N=_.allowDataOverflow,T=_.allowDuplicatedCategory,C=_.scale,A=_.ticks,I=_.includeHidden,k=_[s];if(v[k])return v;var P=fy(e.data,{graphicalItems:i.filter(function(H){var J,ce=s in H.props?H.props[s]:(J=H.type.defaultProps)===null||J===void 0?void 0:J[s];return ce===k}),dataStartIndex:l,dataEndIndex:u}),R=P.length,O,D,q;NAe(_.domain,N,w)&&(O=bw(_.domain,null,N),y&&(w==="number"||C!=="auto")&&(q=Xc(P,E,"category")));var V=kV(w);if(!O||O.length===0){var j,F=(j=_.domain)!==null&&j!==void 0?j:V;if(E){if(O=Xc(P,E,w),w==="category"&&y){var L=Ore(O);T&&L?(D=O,O=Eg(0,R)):T||(O=uR(F,O,b).reduce(function(H,J){return H.indexOf(J)>=0?H:[].concat(fu(H),[J])},[]))}else if(w==="category")T?O=O.filter(function(H){return H!==""&&!Ie(H)}):O=uR(F,O,b).reduce(function(H,J){return H.indexOf(J)>=0||J===""||Ie(J)?H:[].concat(fu(H),[J])},[]);else if(w==="number"){var z=Kye(P,i.filter(function(H){var J,ce,W=s in H.props?H.props[s]:(J=H.type.defaultProps)===null||J===void 0?void 0:J[s],oe="hide"in H.props?H.props.hide:(ce=H.type.defaultProps)===null||ce===void 0?void 0:ce.hide;return W===k&&(I||!oe)}),E,o,c);z&&(O=z)}y&&(w==="number"||C!=="auto")&&(q=Xc(P,E,"category"))}else y?O=Eg(0,R):a&&a[k]&&a[k].hasStack&&w==="number"?O=h==="expand"?[0,1]:r5(a[k].stackGroups,l,u):O=X3(P,i.filter(function(H){var J=s in H.props?H.props[s]:H.type.defaultProps[s],ce="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return J===k&&(I||!ce)}),w,c,!0);if(w==="number")O=o_(f,O,k,o,A),F&&(O=bw(F,O,N));else if(w==="category"&&F){var G=F,Y=O.every(function(H){return G.indexOf(H)>=0});Y&&(O=G)}}return Z(Z({},v),{},Ee({},k,Z(Z({},_),{},{axisType:o,domain:O,categoricalDomain:q,duplicateDomain:D,originalDomain:(x=_.domain)!==null&&x!==void 0?x:V,isCategorical:y,layout:c})))},{})},sIe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=fy(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),y=h.length,v=Q3(c,o),b=-1;return r.reduce(function(x,_){var w=_.type.defaultProps!==void 0?Z(Z({},_.type.defaultProps),_.props):_.props,E=w[s],N=kV("number");if(!x[E]){b++;var T;return v?T=Eg(0,y):a&&a[E]&&a[E].hasStack?(T=r5(a[E].stackGroups,l,u),T=o_(f,T,E,o)):(T=bw(N,X3(h,r.filter(function(C){var A,I,k=s in C.props?C.props[s]:(A=C.type.defaultProps)===null||A===void 0?void 0:A[s],P="hide"in C.props?C.props.hide:(I=C.type.defaultProps)===null||I===void 0?void 0:I.hide;return k===E&&!P}),"number",c),i.defaultProps.allowDataOverflow),T=o_(f,T,E,o)),Z(Z({},x),{},Ee({},E,Z(Z({axisType:o},i.defaultProps),{},{hide:!0,orientation:nr(tIe,"".concat(o,".").concat(b%2),null),domain:T,originalDomain:N,isCategorical:v,layout:c})))}return x},{})},aIe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=rr(c,o),y={};return h&&h.length?y=oIe(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(y=sIe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),y},lIe=function(e){var n=Po(e),r=ji(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:WE(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:lg(n,r)}},G2=function(e){var n=e.children,r=e.defaultShowTooltip,i=Jn(n,eu),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},uIe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Fi(n&&n.type);return r&&r.indexOf("Bar")>=0})},q2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},cIe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,f=r.children,h=r.margin||{},y=Jn(f,eu),v=Jn(f,li),b=Object.keys(l).reduce(function(T,C){var A=l[C],I=A.orientation;return!A.mirror&&!A.hide?Z(Z({},T),{},Ee({},I,T[I]+A.width)):T},{left:h.left||0,right:h.right||0}),x=Object.keys(s).reduce(function(T,C){var A=s[C],I=A.orientation;return!A.mirror&&!A.hide?Z(Z({},T),{},Ee({},I,nr(T,"".concat(I))+A.height)):T},{top:h.top||0,bottom:h.bottom||0}),_=Z(Z({},x),b),w=_.bottom;y&&(_.bottom+=y.props.height||eu.defaultProps.height),v&&n&&(_=Hye(_,i,r,n));var E=u-_.left-_.right,N=c-_.top-_.bottom;return Z(Z({brushBottom:w},_),{},{width:Math.max(E,0),height:Math.max(N,0)})},dIe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},eh=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(_,w){var E=w.graphicalItems,N=w.stackGroups,T=w.offset,C=w.updateId,A=w.dataStartIndex,I=w.dataEndIndex,k=_.barSize,P=_.layout,R=_.barGap,O=_.barCategoryGap,D=_.maxBarSize,q=q2(P),V=q.numericAxisName,j=q.cateAxisName,F=uIe(E),L=[];return E.forEach(function(z,G){var Y=fy(_.data,{graphicalItems:[z],dataStartIndex:A,dataEndIndex:I}),H=z.type.defaultProps!==void 0?Z(Z({},z.type.defaultProps),z.props):z.props,J=H.dataKey,ce=H.maxBarSize,W=H["".concat(V,"Id")],oe=H["".concat(j,"Id")],Q={},be=l.reduce(function(_n,En){var xi=w["".concat(En.axisType,"Map")],ho=H["".concat(En.axisType,"Id")];xi&&xi[ho]||En.axisType==="zAxis"||ga();var ee=xi[ho];return Z(Z({},_n),{},Ee(Ee({},En.axisType,ee),"".concat(En.axisType,"Ticks"),ji(ee)))},Q),se=be[j],xe=be["".concat(j,"Ticks")],de=N&&N[W]&&N[W].hasStack&&rve(z,N[W].stackGroups),te=Fi(z.type).indexOf("Bar")>=0,Me=lg(se,xe),ke=[],nt=F&&Gye({barSize:k,stackGroups:N,totalSize:dIe(be,j)});if(te){var rt,it,ar=Ie(ce)?D:ce,Cr=(rt=(it=lg(se,xe,!0))!==null&&it!==void 0?it:ar)!==null&&rt!==void 0?rt:0;ke=qye({barGap:R,barCategoryGap:O,bandSize:Cr!==Me?Cr:Me,sizeList:nt[oe],maxBarSize:ar}),Cr!==Me&&(ke=ke.map(function(_n){return Z(Z({},_n),{},{position:Z(Z({},_n.position),{},{offset:_n.position.offset-Cr/2})})}))}var Qr=z&&z.type&&z.type.getComposedData;Qr&&L.push({props:Z(Z({},Qr(Z(Z({},be),{},{displayedData:Y,props:_,dataKey:J,item:z,bandSize:Me,barPosition:ke,offset:T,stackedData:de,layout:P,dataStartIndex:A,dataEndIndex:I}))),{},Ee(Ee(Ee({key:z.key||"item-".concat(G)},V,be[V]),j,be[j]),"animationId",C)),childIndex:qre(z,_.children),item:z})}),L},y=function(_,w){var E=_.props,N=_.dataStartIndex,T=_.dataEndIndex,C=_.updateId;if(!rP({props:E}))return null;var A=E.children,I=E.layout,k=E.stackOffset,P=E.data,R=E.reverseStackOrder,O=q2(I),D=O.numericAxisName,q=O.cateAxisName,V=rr(A,r),j=tve(P,V,"".concat(D,"Id"),"".concat(q,"Id"),k,R),F=l.reduce(function(H,J){var ce="".concat(J.axisType,"Map");return Z(Z({},H),{},Ee({},ce,aIe(E,Z(Z({},J),{},{graphicalItems:V,stackGroups:J.axisType===D&&j,dataStartIndex:N,dataEndIndex:T}))))},{}),L=cIe(Z(Z({},F),{},{props:E,graphicalItems:V}),w==null?void 0:w.legendBBox);Object.keys(F).forEach(function(H){F[H]=c(E,F[H],L,H.replace("Map",""),n)});var z=F["".concat(q,"Map")],G=lIe(z),Y=h(E,Z(Z({},F),{},{dataStartIndex:N,dataEndIndex:T,updateId:C,graphicalItems:V,stackGroups:j,offset:L}));return Z(Z({formattedGraphicalItems:Y,graphicalItems:V,offset:L,stackGroups:j},G),F)},v=function(x){function _(w){var E,N,T;return GAe(this,_),T=WAe(this,_,[w]),Ee(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ee(T,"accessibilityManager",new PAe),Ee(T,"handleLegendBBoxUpdate",function(C){if(C){var A=T.state,I=A.dataStartIndex,k=A.dataEndIndex,P=A.updateId;T.setState(Z({legendBBox:C},y({props:T.props,dataStartIndex:I,dataEndIndex:k,updateId:P},Z(Z({},T.state),{},{legendBBox:C}))))}}),Ee(T,"handleReceiveSyncEvent",function(C,A,I){if(T.props.syncId===C){if(I===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(A)}}),Ee(T,"handleBrushChange",function(C){var A=C.startIndex,I=C.endIndex;if(A!==T.state.dataStartIndex||I!==T.state.dataEndIndex){var k=T.state.updateId;T.setState(function(){return Z({dataStartIndex:A,dataEndIndex:I},y({props:T.props,dataStartIndex:A,dataEndIndex:I,updateId:k},T.state))}),T.triggerSyncEvent({dataStartIndex:A,dataEndIndex:I})}}),Ee(T,"handleMouseEnter",function(C){var A=T.getMouseInfo(C);if(A){var I=Z(Z({},A),{},{isTooltipActive:!0});T.setState(I),T.triggerSyncEvent(I);var k=T.props.onMouseEnter;_e(k)&&k(I,C)}}),Ee(T,"triggeredAfterMouseMove",function(C){var A=T.getMouseInfo(C),I=A?Z(Z({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(I),T.triggerSyncEvent(I);var k=T.props.onMouseMove;_e(k)&&k(I,C)}),Ee(T,"handleItemMouseEnter",function(C){T.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Ee(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),Ee(T,"handleMouseMove",function(C){C.persist(),T.throttleTriggeredAfterMouseMove(C)}),Ee(T,"handleMouseLeave",function(C){T.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};T.setState(A),T.triggerSyncEvent(A);var I=T.props.onMouseLeave;_e(I)&&I(A,C)}),Ee(T,"handleOuterEvent",function(C){var A=Gre(C),I=nr(T.props,"".concat(A));if(A&&_e(I)){var k,P;/.*touch.*/i.test(A)?P=T.getMouseInfo(C.changedTouches[0]):P=T.getMouseInfo(C),I((k=P)!==null&&k!==void 0?k:{},C)}}),Ee(T,"handleClick",function(C){var A=T.getMouseInfo(C);if(A){var I=Z(Z({},A),{},{isTooltipActive:!0});T.setState(I),T.triggerSyncEvent(I);var k=T.props.onClick;_e(k)&&k(I,C)}}),Ee(T,"handleMouseDown",function(C){var A=T.props.onMouseDown;if(_e(A)){var I=T.getMouseInfo(C);A(I,C)}}),Ee(T,"handleMouseUp",function(C){var A=T.props.onMouseUp;if(_e(A)){var I=T.getMouseInfo(C);A(I,C)}}),Ee(T,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Ee(T,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&T.handleMouseDown(C.changedTouches[0])}),Ee(T,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&T.handleMouseUp(C.changedTouches[0])}),Ee(T,"handleDoubleClick",function(C){var A=T.props.onDoubleClick;if(_e(A)){var I=T.getMouseInfo(C);A(I,C)}}),Ee(T,"handleContextMenu",function(C){var A=T.props.onContextMenu;if(_e(A)){var I=T.getMouseInfo(C);A(I,C)}}),Ee(T,"triggerSyncEvent",function(C){T.props.syncId!==void 0&&Fv.emit(Uv,T.props.syncId,C,T.eventEmitterSymbol)}),Ee(T,"applySyncEvent",function(C){var A=T.props,I=A.layout,k=A.syncMethod,P=T.state.updateId,R=C.dataStartIndex,O=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)T.setState(Z({dataStartIndex:R,dataEndIndex:O},y({props:T.props,dataStartIndex:R,dataEndIndex:O,updateId:P},T.state)));else if(C.activeTooltipIndex!==void 0){var D=C.chartX,q=C.chartY,V=C.activeTooltipIndex,j=T.state,F=j.offset,L=j.tooltipTicks;if(!F)return;if(typeof k=="function")V=k(L,C);else if(k==="value"){V=-1;for(var z=0;z<L.length;z++)if(L[z].value===C.activeLabel){V=z;break}}var G=Z(Z({},F),{},{x:F.left,y:F.top}),Y=Math.min(D,G.x+G.width),H=Math.min(q,G.y+G.height),J=L[V]&&L[V].value,ce=l_(T.state,T.props.data,V),W=L[V]?{x:I==="horizontal"?L[V].coordinate:Y,y:I==="horizontal"?H:L[V].coordinate}:IV;T.setState(Z(Z({},C),{},{activeLabel:J,activeCoordinate:W,activePayload:ce,activeTooltipIndex:V}))}else T.setState(C)}),Ee(T,"renderCursor",function(C){var A,I=T.state,k=I.isTooltipActive,P=I.activeCoordinate,R=I.activePayload,O=I.offset,D=I.activeTooltipIndex,q=I.tooltipAxisBandSize,V=T.getTooltipEventType(),j=(A=C.props.active)!==null&&A!==void 0?A:k,F=T.props.layout,L=C.key||"_recharts-cursor";return U.createElement(LAe,{key:L,activeCoordinate:P,activePayload:R,activeTooltipIndex:D,chartName:n,element:C,isActive:j,layout:F,offset:O,tooltipAxisBandSize:q,tooltipEventType:V})}),Ee(T,"renderPolarAxis",function(C,A,I){var k=nr(C,"type.axisType"),P=nr(T.state,"".concat(k,"Map")),R=C.type.defaultProps,O=R!==void 0?Z(Z({},R),C.props):C.props,D=P&&P[O["".concat(k,"Id")]];return B.cloneElement(C,Z(Z({},D),{},{className:Pe(k,D.className),key:C.key||"".concat(A,"-").concat(I),ticks:ji(D,!0)}))}),Ee(T,"renderPolarGrid",function(C){var A=C.props,I=A.radialLines,k=A.polarAngles,P=A.polarRadius,R=T.state,O=R.radiusAxisMap,D=R.angleAxisMap,q=Po(O),V=Po(D),j=V.cx,F=V.cy,L=V.innerRadius,z=V.outerRadius;return B.cloneElement(C,{polarAngles:Array.isArray(k)?k:ji(V,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(P)?P:ji(q,!0).map(function(G){return G.coordinate}),cx:j,cy:F,innerRadius:L,outerRadius:z,key:C.key||"polar-grid",radialLines:I})}),Ee(T,"renderLegend",function(){var C=T.state.formattedGraphicalItems,A=T.props,I=A.children,k=A.width,P=A.height,R=T.props.margin||{},O=k-(R.left||0)-(R.right||0),D=Y3({children:I,formattedGraphicalItems:C,legendWidth:O,legendContent:u});if(!D)return null;var q=D.item,V=U2(D,$Ae);return B.cloneElement(q,Z(Z({},V),{},{chartWidth:k,chartHeight:P,margin:R,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),Ee(T,"renderTooltip",function(){var C,A=T.props,I=A.children,k=A.accessibilityLayer,P=Jn(I,rn);if(!P)return null;var R=T.state,O=R.isTooltipActive,D=R.activeCoordinate,q=R.activePayload,V=R.activeLabel,j=R.offset,F=(C=P.props.active)!==null&&C!==void 0?C:O;return B.cloneElement(P,{viewBox:Z(Z({},j),{},{x:j.left,y:j.top}),active:F,label:V,payload:F?q:[],coordinate:D,accessibilityLayer:k})}),Ee(T,"renderBrush",function(C){var A=T.props,I=A.margin,k=A.data,P=T.state,R=P.offset,O=P.dataStartIndex,D=P.dataEndIndex,q=P.updateId;return B.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Zh(T.handleBrushChange,C.props.onChange),data:k,x:ae(C.props.x)?C.props.x:R.left,y:ae(C.props.y)?C.props.y:R.top+R.height+R.brushBottom-(I.bottom||0),width:ae(C.props.width)?C.props.width:R.width,startIndex:O,endIndex:D,updateId:"brush-".concat(q)})}),Ee(T,"renderReferenceElement",function(C,A,I){if(!C)return null;var k=T,P=k.clipPathId,R=T.state,O=R.xAxisMap,D=R.yAxisMap,q=R.offset,V=C.type.defaultProps||{},j=C.props,F=j.xAxisId,L=F===void 0?V.xAxisId:F,z=j.yAxisId,G=z===void 0?V.yAxisId:z;return B.cloneElement(C,{key:C.key||"".concat(A,"-").concat(I),xAxis:O[L],yAxis:D[G],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:P})}),Ee(T,"renderActivePoints",function(C){var A=C.item,I=C.activePoint,k=C.basePoint,P=C.childIndex,R=C.isRange,O=[],D=A.props.key,q=A.item.type.defaultProps!==void 0?Z(Z({},A.item.type.defaultProps),A.item.props):A.item.props,V=q.activeDot,j=q.dataKey,F=Z(Z({index:P,dataKey:j,cx:I.x,cy:I.y,r:4,fill:xT(A.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},ye(V,!1)),Om(V));return O.push(_.renderActiveDot(V,F,"".concat(D,"-activePoint-").concat(P))),k?O.push(_.renderActiveDot(V,Z(Z({},F),{},{cx:k.x,cy:k.y}),"".concat(D,"-basePoint-").concat(P))):R&&O.push(null),O}),Ee(T,"renderGraphicChild",function(C,A,I){var k=T.filterFormatItem(C,A,I);if(!k)return null;var P=T.getTooltipEventType(),R=T.state,O=R.isTooltipActive,D=R.tooltipAxis,q=R.activeTooltipIndex,V=R.activeLabel,j=T.props.children,F=Jn(j,rn),L=k.props,z=L.points,G=L.isRange,Y=L.baseLine,H=k.item.type.defaultProps!==void 0?Z(Z({},k.item.type.defaultProps),k.item.props):k.item.props,J=H.activeDot,ce=H.hide,W=H.activeBar,oe=H.activeShape,Q=!!(!ce&&O&&F&&(J||W||oe)),be={};P!=="axis"&&F&&F.props.trigger==="click"?be={onClick:Zh(T.handleItemMouseEnter,C.props.onClick)}:P!=="axis"&&(be={onMouseLeave:Zh(T.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Zh(T.handleItemMouseEnter,C.props.onMouseEnter)});var se=B.cloneElement(C,Z(Z({},k.props),be));function xe(En){return typeof D.dataKey=="function"?D.dataKey(En.payload):null}if(Q)if(q>=0){var de,te;if(D.dataKey&&!D.allowDuplicatedCategory){var Me=typeof D.dataKey=="function"?xe:"payload.".concat(D.dataKey.toString());de=Rm(z,Me,V),te=G&&Y&&Rm(Y,Me,V)}else de=z==null?void 0:z[q],te=G&&Y&&Y[q];if(oe||W){var ke=C.props.activeIndex!==void 0?C.props.activeIndex:q;return[B.cloneElement(C,Z(Z(Z({},k.props),be),{},{activeIndex:ke})),null,null]}if(!Ie(de))return[se].concat(fu(T.renderActivePoints({item:k,activePoint:de,basePoint:te,childIndex:q,isRange:G})))}else{var nt,rt=(nt=T.getItemByXY(T.state.activeCoordinate))!==null&&nt!==void 0?nt:{graphicalItem:se},it=rt.graphicalItem,ar=it.item,Cr=ar===void 0?C:ar,Qr=it.childIndex,_n=Z(Z(Z({},k.props),be),{},{activeIndex:Qr});return[B.cloneElement(Cr,_n),null,null]}return G?[se,null,null]:[se,null]}),Ee(T,"renderCustomized",function(C,A,I){return B.cloneElement(C,Z(Z({key:"recharts-customized-".concat(I)},T.props),T.state))}),Ee(T,"renderMap",{CartesianGrid:{handler:ip,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:ip},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:ip},YAxis:{handler:ip},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((E=w.id)!==null&&E!==void 0?E:Ta("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=Y4(T.triggeredAfterMouseMove,(N=w.throttleDelay)!==null&&N!==void 0?N:1e3/60),T.state={},T}return JAe(_,x),HAe(_,[{key:"componentDidMount",value:function(){var E,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,N=E.children,T=E.data,C=E.height,A=E.layout,I=Jn(N,rn);if(I){var k=I.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,R=l_(this.state,T,k,P),O=this.state.tooltipTicks[k].coordinate,D=(this.state.offset.top+C)/2,q=A==="horizontal",V=q?{x:O,y:D}:{y:O,x:D},j=this.state.formattedGraphicalItems.find(function(L){var z=L.item;return z.type.name==="Scatter"});j&&(V=Z(Z({},V),j.props.points[k].tooltipPosition),R=j.props.points[k].tooltipPayload);var F={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:P,activePayload:R,activeCoordinate:V};this.setState(F),this.renderCursor(I),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var T,C;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(E){Db([Jn(E.children,rn)],[Jn(this.props.children,rn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=Jn(this.props.children,rn);if(E&&typeof E.props.shared=="boolean"){var N=E.props.shared?"axis":"item";return a.indexOf(N)>=0?N:o}return o}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var N=this.container,T=N.getBoundingClientRect(),C=ype(T),A={chartX:Math.round(E.pageX-C.left),chartY:Math.round(E.pageY-C.top)},I=T.width/N.offsetWidth||1,k=this.inRange(A.chartX,A.chartY,I);if(!k)return null;var P=this.state,R=P.xAxisMap,O=P.yAxisMap,D=this.getTooltipEventType(),q=z2(this.state,this.props.data,this.props.layout,k);if(D!=="axis"&&R&&O){var V=Po(R).scale,j=Po(O).scale,F=V&&V.invert?V.invert(A.chartX):null,L=j&&j.invert?j.invert(A.chartY):null;return Z(Z({},A),{},{xValue:F,yValue:L},q)}return q?Z(Z({},A),q):null}},{key:"inRange",value:function(E,N){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,A=E/T,I=N/T;if(C==="horizontal"||C==="vertical"){var k=this.state.offset,P=A>=k.left&&A<=k.left+k.width&&I>=k.top&&I<=k.top+k.height;return P?{x:A,y:I}:null}var R=this.state,O=R.angleAxisMap,D=R.radiusAxisMap;if(O&&D){var q=Po(O);return fR({x:A,y:I},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,N=this.getTooltipEventType(),T=Jn(E,rn),C={};T&&N==="axis"&&(T.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=Om(this.props,this.handleOuterEvent);return Z(Z({},A),C)}},{key:"addListener",value:function(){Fv.on(Uv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Fv.removeListener(Uv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,N,T){for(var C=this.state.formattedGraphicalItems,A=0,I=C.length;A<I;A++){var k=C[A];if(k.item===E||k.props.key===E.key||N===Fi(k.item.type)&&T===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,N=this.state.offset,T=N.left,C=N.top,A=N.height,I=N.width;return U.createElement("defs",null,U.createElement("clipPath",{id:E},U.createElement("rect",{x:T,y:C,height:A,width:I})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(N,T){var C=F2(T,2),A=C[0],I=C[1];return Z(Z({},N),{},Ee({},A,I.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(N,T){var C=F2(T,2),A=C[0],I=C[1];return Z(Z({},N),{},Ee({},A,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[E])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(E){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[E])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(E){var N=this.state,T=N.formattedGraphicalItems,C=N.activeItem;if(T&&T.length)for(var A=0,I=T.length;A<I;A++){var k=T[A],P=k.props,R=k.item,O=R.type.defaultProps!==void 0?Z(Z({},R.type.defaultProps),R.props):R.props,D=Fi(R.type);if(D==="Bar"){var q=(P.data||[]).find(function(L){return twe(E,L)});if(q)return{graphicalItem:k,payload:q}}else if(D==="RadialBar"){var V=(P.data||[]).find(function(L){return fR(E,L)});if(V)return{graphicalItem:k,payload:V}}else if(oy(k,C)||sy(k,C)||hf(k,C)){var j=Z_e({graphicalItem:k,activeTooltipItem:C,itemData:O.data}),F=O.activeIndex===void 0?j:O.activeIndex;return{graphicalItem:Z(Z({},k),{},{childIndex:F}),payload:hf(k,C)?O.data[j]:k.props.data[j]}}}return null}},{key:"render",value:function(){var E=this;if(!rP(this))return null;var N=this.props,T=N.children,C=N.className,A=N.width,I=N.height,k=N.style,P=N.compact,R=N.title,O=N.desc,D=U2(N,VAe),q=ye(D,!1);if(P)return U.createElement(b2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(Lb,ll({},q,{width:A,height:I,title:R,desc:O}),this.renderClipPath(),oP(T,this.renderMap)));if(this.props.accessibilityLayer){var V,j;q.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,q.role=(j=this.props.role)!==null&&j!==void 0?j:"application",q.onKeyDown=function(L){E.accessibilityManager.keyboardEvent(L)},q.onFocus=function(){E.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return U.createElement(b2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",ll({className:Pe("recharts-wrapper",C),style:Z({position:"relative",cursor:"default",width:A,height:I},k)},F,{ref:function(z){E.container=z}}),U.createElement(Lb,ll({},q,{width:A,height:I,title:R,desc:O,style:nIe}),this.renderClipPath(),oP(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(B.Component);Ee(v,"displayName",n),Ee(v,"defaultProps",Z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ee(v,"getDerivedStateFromProps",function(x,_){var w=x.dataKey,E=x.data,N=x.children,T=x.width,C=x.height,A=x.layout,I=x.stackOffset,k=x.margin,P=_.dataStartIndex,R=_.dataEndIndex;if(_.updateId===void 0){var O=G2(x);return Z(Z(Z({},O),{},{updateId:0},y(Z(Z({props:x},O),{},{updateId:0}),_)),{},{prevDataKey:w,prevData:E,prevWidth:T,prevHeight:C,prevLayout:A,prevStackOffset:I,prevMargin:k,prevChildren:N})}if(w!==_.prevDataKey||E!==_.prevData||T!==_.prevWidth||C!==_.prevHeight||A!==_.prevLayout||I!==_.prevStackOffset||!wl(k,_.prevMargin)){var D=G2(x),q={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},V=Z(Z({},z2(_,E,A)),{},{updateId:_.updateId+1}),j=Z(Z(Z({},D),q),V);return Z(Z(Z({},j),y(Z({props:x},j),_)),{},{prevDataKey:w,prevData:E,prevWidth:T,prevHeight:C,prevLayout:A,prevStackOffset:I,prevMargin:k,prevChildren:N})}if(!Db(N,_.prevChildren)){var F,L,z,G,Y=Jn(N,eu),H=Y&&(F=(L=Y.props)===null||L===void 0?void 0:L.startIndex)!==null&&F!==void 0?F:P,J=Y&&(z=(G=Y.props)===null||G===void 0?void 0:G.endIndex)!==null&&z!==void 0?z:R,ce=H!==P||J!==R,W=!Ie(E),oe=W&&!ce?_.updateId:_.updateId+1;return Z(Z({updateId:oe},y(Z(Z({props:x},_),{},{updateId:oe,dataStartIndex:H,dataEndIndex:J}),_)),{},{prevChildren:N,dataStartIndex:H,dataEndIndex:J})}return null}),Ee(v,"renderActiveDot",function(x,_,w){var E;return B.isValidElement(x)?E=B.cloneElement(x,_):_e(x)?E=x(_):E=U.createElement(Fu,_),U.createElement(je,{className:"recharts-active-dot",key:w},E)});var b=B.forwardRef(function(_,w){return U.createElement(v,ll({},_,{ref:w}))});return b.displayName=v.displayName,b},fIe=eh({chartName:"LineChart",GraphicalChild:Zf,axisComponents:[{axisType:"xAxis",AxisComp:pi},{axisType:"yAxis",AxisComp:mi}],formatAxisMap:wT}),PT=eh({chartName:"BarChart",GraphicalChild:hi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:pi},{axisType:"yAxis",AxisComp:mi}],formatAxisMap:wT}),CV=eh({chartName:"PieChart",GraphicalChild:vi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Bu},{axisType:"radiusAxis",AxisComp:Uu}],formatAxisMap:a5,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),hIe=eh({chartName:"RadarChart",GraphicalChild:Ql,axisComponents:[{axisType:"angleAxis",AxisComp:Bu},{axisType:"radiusAxis",AxisComp:Uu}],formatAxisMap:a5,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),pIe=eh({chartName:"AreaChart",GraphicalChild:ys,axisComponents:[{axisType:"xAxis",AxisComp:pi},{axisType:"yAxis",AxisComp:mi}],formatAxisMap:wT});const H2=[{id:"first_invest",name:"Investidor Iniciante",description:"Realizou o primeiro investimento.",icon:"",condition:t=>t.investments.length>0,getProgress:t=>t.investments.length>0?100:0},{id:"controlled",name:"No Controle",description:"Tem mais receitas que despesas no ms.",icon:"",condition:t=>{const e=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="expense").reduce((r,i)=>r+i.amount,0);return e>n&&e>0},getProgress:t=>{const e=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="expense").reduce((r,i)=>r+i.amount,0);return e===0?0:e>n?100:Math.min(99,e/n*100)}},{id:"saver",name:"Poupador",description:"Acumulou mais de R$ 5.000 em investimentos.",icon:"",condition:t=>t.investments.reduce((e,n)=>e+n.amount,0)>=5e3,getProgress:t=>Math.min(100,t.investments.reduce((e,n)=>e+n.amount,0)/5e3*100)},{id:"diversified",name:"Mente Diversificada",description:"Investiu em 3 ou mais categorias diferentes.",icon:"",condition:t=>new Set(t.investments.map(n=>n.type)).size>=3,getProgress:t=>{const e=new Set(t.investments.map(n=>n.type));return Math.min(100,e.size/3*100)}},{id:"debt_free",name:"Zero Pendncias",description:"No possui nenhuma conta pendente.",icon:"",condition:t=>{const e=t.transactions.some(r=>r.type==="expense"),n=t.transactions.filter(r=>r.type==="expense"&&r.status==="pending");return e&&n.length===0},getProgress:t=>{const e=t.transactions.filter(r=>r.type==="expense");if(e.length===0)return 0;const n=e.filter(r=>r.status==="paid").length;return Math.min(100,n/e.length*100)}},{id:"goal_hitter",name:"Na Mosca",description:"Atingiu 100% da meta de um investimento.",icon:"",condition:t=>t.investments.some(e=>e.targetAmount>0&&e.amount>=e.targetAmount),getProgress:t=>{const e=t.investments.map(n=>n.targetAmount>0?n.amount/n.targetAmount*100:0);return Math.min(100,Math.max(0,...e))}},{id:"club_10k",name:"Clube dos 10k",description:"Patrimnio total superou R$ 10.000.",icon:"",condition:t=>{const e=t.investments.reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0)-t.transactions.filter(r=>r.type==="expense"&&r.status==="paid").reduce((r,i)=>r+i.amount,0);return e+n>=1e4},getProgress:t=>{const e=t.investments.reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0)-t.transactions.filter(r=>r.type==="expense"&&r.status==="paid").reduce((r,i)=>r+i.amount,0);return Math.min(100,(e+n)/1e4*100)}}],mIe=(t,e,n)=>{const r=n.toISOString().slice(0,7),i=t.find(o=>o.category===e&&o.month===r);return i||t.find(o=>o.category===e&&o.isRecurring)},W2=({data:t,privacyMode:e,onUnlockBadge:n})=>{const[r,i]=B.useState(()=>{const j=new Date;j.setMonth(j.getMonth()-5);const F=String(j.getMonth()+1).padStart(2,"0");return`${j.getFullYear()}-${F}`}),[o,s]=B.useState("flow"),a=B.useMemo(()=>{const j=new Date().getHours();return j<12?"Bom dia":j<18?"Boa tarde":"Boa noite"},[]);B.useEffect(()=>{H2.forEach(j=>{!t.unlockedBadges.includes(j.id)&&j.condition(t)&&n(j.id)})},[t,n]);const l=B.useMemo(()=>{const j=[],F=new Date,L=F.getMonth(),z=F.getFullYear(),G=Array.from(new Set(t.budgets.map(Y=>Y.category)));return F.getDate()<=25&&G.forEach(Y=>{const H=mIe(t.budgets,Y,F);if(!H)return;const J=t.transactions.filter(ce=>ce.type==="expense"&&ce.category===Y&&new Date(ce.date).getMonth()===L&&new Date(ce.date).getFullYear()===z).reduce((ce,W)=>ce+W.amount,0);J>=H.limit*.8&&J<H.limit?j.push({title:`Ateno: ${Y}`,message:`Voc j usou ${(J/H.limit*100).toFixed(0)}% do oramento e ainda  dia ${F.getDate()}. Cuidado!`,type:"warning"}):J>=H.limit&&j.push({title:`Limite Excedido: ${Y}`,message:"Voc estourou o teto definido para esta categoria.",type:"warning"})}),j},[t.budgets,t.transactions]),u=j=>e?"":`R$ ${j.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,c=t.transactions.filter(j=>j.type==="income").reduce((j,F)=>j+F.amount,0),f=t.transactions.filter(j=>j.type==="expense").reduce((j,F)=>j+F.amount,0),h=t.transactions.filter(j=>j.type==="expense"&&j.status==="pending").reduce((j,F)=>j+F.amount,0),y=t.transactions.filter(j=>j.status==="paid").reduce((j,F)=>j+(F.type==="income"?F.amount:-F.amount),0),v=t.transactions.length===0?0:t.transactions.length<300?y:t.walletBalance!==void 0?t.walletBalance:y,b=t.transactions.filter(j=>j.status==="pending"&&j.type==="income").reduce((j,F)=>j+F.amount,0),x=f-h,_=t.investments.reduce((j,F)=>j+F.amount,0),w=B.useMemo(()=>t.transactions.filter(F=>F.type==="expense"&&F.status==="pending").sort((F,L)=>new Date(F.date).getTime()-new Date(L.date).getTime()).slice(0,3),[t.transactions]),E=B.useMemo(()=>[...t.investments].sort((j,F)=>F.amount-j.amount).slice(0,3),[t.investments]),N=B.useMemo(()=>{const j=f>0?f:c*.5||1e3;return v/j},[v,f,c]),{healthScore:T,scoreLabel:C,scoreColor:A,factors:I}=B.useMemo(()=>{let j=0;const F=[],L=Q=>{const be=new Date(Q);return(new Date().getTime()-be.getTime())/(1e3*60*60*24*365.25)>=5},z=t.debts.filter(Q=>(Q.status==="open"||Q.status==="negotiating")&&!L(Q.dueDate)),G=z.length>0;G?(j+=200,F.push({text:`Negativado: ${z.length} dvidas`,type:"bad"})):(j+=350,F.push({text:"Nome Limpo",type:"good"}));const Y=f>0?f:1e3,H=_/Y;H>=6?(j+=200,F.push({text:"Reserva Robusta",type:"good"})):H>=1?(j+=100,F.push({text:"Reserva Iniciada",type:"neutral"})):F.push({text:"Sem Reserva",type:"bad"});const J=c-f,ce=c>0?J/c:0;ce>=.2?(j+=150,F.push({text:"Poupador (20%+)",type:"good"})):ce<0&&(j-=50,F.push({text:"Dficit Mensal",type:"bad"})),v>=h?j+=150:(j-=100,F.push({text:"Risco de Calote",type:"bad"})),G&&(j=Math.min(j,550)),j=Math.max(0,Math.min(1e3,Math.round(j)));let W="",oe="";return j>=850?(W="Elite",oe="text-emerald-500"):j>=700?(W="Excelente",oe="text-emerald-600"):j>=500?(W="Regular",oe="text-amber-500"):j>=300?(W="Ruim",oe="text-orange-500"):(W="Crtico",oe="text-rose-600"),{healthScore:j,scoreLabel:W,scoreColor:oe,factors:F}},[t.debts,c,f,h,v,_]),k=B.useMemo(()=>{const j=new Map,[F,L]=r.split("-").map(Number),z=new Date(F,L-1,1),G=new Date;for(;z<=G||z.getMonth()===G.getMonth()&&z.getFullYear()===G.getFullYear();){const Y=z.getFullYear(),H=String(z.getMonth()+1).padStart(2,"0");j.set(`${Y}-${H}`,0),z.setMonth(z.getMonth()+1)}return t.transactions.forEach(Y=>{if(Y.type==="expense"){const H=Y.date.slice(0,7);j.has(H)&&j.set(H,(j.get(H)||0)+Y.amount)}}),Array.from(j.entries()).map(([Y,H])=>{const[J,ce]=Y.split("-").map(Number);return{name:new Date(J,ce-1,1).toLocaleDateString("pt-BR",{month:"short",year:"2-digit"}),amount:H,fullDate:Y}})},[t.transactions,r]),P=B.useMemo(()=>{const j=new Map;for(let F=5;F>=0;F--){const L=new Date;L.setMonth(L.getMonth()-F),j.set(L.toISOString().slice(0,7),{income:0,expense:0})}return t.transactions.forEach(F=>{const L=F.date.slice(0,7);if(j.has(L)){const z=j.get(L);F.type==="income"?z.income+=F.amount:z.expense+=F.amount}}),Array.from(j.entries()).map(([F,L])=>{const[z,G]=F.split("-");return{name:new Date(parseInt(z),parseInt(G)-1,2).toLocaleDateString("pt-BR",{month:"short"}),Receitas:L.income,Despesas:L.expense}})},[t.transactions]),R=[{name:"Saldo Livre",value:Math.max(0,v),color:"#10b981"},{name:"Contas Pendentes",value:h,color:"#ef4444"},{name:"Investido",value:_,color:"#3b82f6"}].filter(j=>j.value>0),O=()=>{const j=`data:text/csv;charset=utf-8,Data,Descricao,Categoria,Tipo,Valor,Status
`+t.transactions.map(z=>`${z.date},${z.description},${z.category},${z.type},${z.amount},${z.status}`).join(`
`),F=encodeURI(j),L=document.createElement("a");L.setAttribute("href",F),L.setAttribute("download","finansmart_relatorio.csv"),document.body.appendChild(L),L.click(),document.body.removeChild(L)},D=d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 h-full",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[d.jsx(xd,{className:"w-5 h-5 text-indigo-500"}),d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Fluxo de Caixa (6 Meses)"})]}),d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(Yo,{width:"100%",height:"100%",children:d.jsxs(PT,{data:P,margin:{top:10,right:10,bottom:20,left:0},children:[d.jsx(su,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0",opacity:.5}),d.jsx(pi,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},dy:10}),d.jsx(mi,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},tickFormatter:j=>`R$${j>=1e3?(j/1e3).toFixed(0)+"k":j}`,width:60}),d.jsx(rn,{cursor:{fill:"transparent"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:j=>[e?"":`R$ ${j.toLocaleString("pt-BR")}`,""]}),d.jsx(li,{iconType:"circle"}),d.jsx(hi,{dataKey:"Receitas",fill:"#10b981",radius:[4,4,0,0]}),d.jsx(hi,{dataKey:"Despesas",fill:"#f43f5e",radius:[4,4,0,0]})]})})})]}),q=d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 h-full",children:[d.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[d.jsx(xp,{className:"w-5 h-5 text-indigo-500"}),"Distribuio de Patrimnio"]}),d.jsx("div",{className:"h-[300px]",children:d.jsx(Yo,{width:"100%",height:"100%",children:d.jsxs(CV,{children:[d.jsx(vi,{data:R,cx:"50%",cy:"50%",innerRadius:80,outerRadius:110,paddingAngle:5,dataKey:"value",children:R.map((j,F)=>d.jsx(Sa,{fill:j.color},`cell-${F}`))}),d.jsx(rn,{formatter:j=>e?"":`R$ ${j.toLocaleString("pt-BR")}`}),d.jsx(li,{verticalAlign:"bottom",height:36})]})})})]}),V=d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-4",children:[d.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(am,{className:"w-5 h-5 text-rose-500"}),"Tendncia de Despesas"]}),d.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 dark:bg-slate-700/50 p-2 rounded-lg border border-slate-100 dark:border-slate-700",children:[d.jsx(Zo,{className:"w-4 h-4 text-slate-400"}),d.jsx("span",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase",children:"Incio:"}),d.jsx("input",{type:"month",value:r,onChange:j=>i(j.target.value),className:"bg-transparent text-sm text-slate-700 dark:text-slate-200 focus:outline-none font-medium"})]})]}),d.jsx("div",{className:"h-[200px] w-full",children:d.jsx(Yo,{width:"100%",height:"100%",children:d.jsxs(fIe,{data:k,margin:{top:10,right:10,bottom:25,left:10},children:[d.jsx(su,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0",opacity:.5}),d.jsx(pi,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},dy:10,padding:{left:10,right:10}}),d.jsx(mi,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},tickFormatter:j=>`R$${j>=1e3?(j/1e3).toFixed(0)+"k":j}`,width:60}),d.jsx(rn,{cursor:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"5 5"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:j=>[e?"":`R$ ${j.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,"Despesas"],labelStyle:{color:"#64748b",marginBottom:"0.25rem"}}),d.jsx(Zf,{type:"monotone",dataKey:"amount",stroke:"#f43f5e",strokeWidth:3,dot:{r:4,fill:"#f43f5e",strokeWidth:2,stroke:"#fff"},activeDot:{r:6,stroke:"#f43f5e",strokeWidth:2,fill:"#fff"},isAnimationActive:!1})]})})})]});return d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.length>0&&d.jsx("div",{className:"space-y-2",children:l.map((j,F)=>d.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-4 rounded-xl flex items-start gap-3 animate-fade-in-down",children:[d.jsx("div",{className:"bg-amber-100 dark:bg-amber-800 p-2 rounded-full flex-shrink-0",children:d.jsx(i1,{className:"w-5 h-5 text-amber-600 dark:text-amber-300"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-amber-800 dark:text-amber-300 text-sm",children:j.title}),d.jsx("p",{className:"text-amber-700 dark:text-amber-400 text-xs mt-0.5",children:j.message})]})]},F))}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-2",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 w-full md:flex-1 min-w-0",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white whitespace-nowrap",children:[a,"!"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Viso geral das suas finanas."})]}),d.jsx("div",{className:"flex-1 flex items-center gap-2 px-4 py-2 sm:border-l sm:border-slate-300 dark:sm:border-slate-600 overflow-x-auto no-scrollbar mask-gradient w-full",children:H2.map(j=>{const F=t.unlockedBadges.includes(j.id),L=j.getProgress(t);return d.jsxs("div",{className:"group relative flex-shrink-0 cursor-help",children:[d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:`text-xl md:text-2xl transition-all duration-300 block ${F?"filter-none opacity-100 scale-100":"grayscale opacity-30 scale-90"}`,children:j.icon}),!F&&L>0&&d.jsx("div",{className:"absolute -bottom-1 left-0 w-full h-1 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${L}%`}})})]}),d.jsxs("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-3 w-max max-w-[180px] hidden group-hover:block z-50 pointer-events-none animate-fade-in",children:[d.jsxs("div",{className:"bg-slate-800 text-white text-xs px-3 py-2 rounded-lg shadow-xl text-center border border-slate-700",children:[d.jsx("p",{className:"font-bold mb-0.5",children:j.name}),d.jsx("p",{className:"opacity-80 mb-2",children:j.description}),d.jsx("div",{className:"flex items-center justify-between text-[10px] uppercase font-semibold",children:d.jsx("span",{className:F?"text-emerald-400":"text-slate-400",children:F?"Desbloqueado":`${L.toFixed(0)}% Concludo`})}),!F&&d.jsx("div",{className:"w-full h-1.5 bg-slate-700 rounded-full mt-1 overflow-hidden",children:d.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-500",style:{width:`${L}%`}})})]}),d.jsx("div",{className:"w-2 h-2 bg-slate-800 rotate-45 absolute -top-1 left-1/2 -translate-x-1/2 border-t border-l border-slate-700"})]})]},j.id)})})]}),d.jsxs("button",{onClick:O,className:"flex items-center gap-2 text-sm font-medium text-slate-500 hover:text-indigo-600 dark:text-slate-400 dark:hover:text-indigo-400 transition-colors self-end md:self-auto flex-shrink-0",children:[d.jsx(yD,{className:"w-4 h-4"})," Exportar CSV"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 relative overflow-hidden group flex flex-col justify-between hover:shadow-md transition-shadow",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:d.jsx(c6,{className:"w-20 h-20 text-slate-400"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Score Financeiro"}),d.jsx(NB,{className:`w-4 h-4 ${A}`})]}),d.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[d.jsx("span",{className:`text-3xl font-black ${A} tracking-tighter`,children:T}),d.jsx("span",{className:"text-[10px] text-slate-400 font-medium",children:"/ 1000"})]}),d.jsx("p",{className:`text-xs font-bold uppercase tracking-wide ${A}`,children:C})]}),d.jsx("div",{className:"mt-3 pt-3 border-t border-slate-100 dark:border-slate-700/50 space-y-1",children:I.slice(0,2).map((j,F)=>d.jsxs("div",{className:"flex items-center gap-1.5 text-[10px]",children:[j.type==="good"&&d.jsx(Bx,{className:"w-3 h-3 text-emerald-500"}),j.type==="bad"&&d.jsx(_d,{className:"w-3 h-3 text-rose-500"}),j.type==="neutral"&&d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300"}),d.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate",children:j.text})]},F))})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between hover:shadow-md transition-shadow",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Saldo em Caixa"}),d.jsx(l1,{className:"w-4 h-4 text-emerald-500"})]}),d.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white truncate",children:u(v)}),b>0&&d.jsxs("div",{className:"flex items-center gap-1 mt-1 bg-emerald-50 dark:bg-emerald-900/20 px-2 py-1 rounded w-fit border border-emerald-100 dark:border-emerald-800/30",children:[d.jsx(rm,{className:"w-3 h-3 text-emerald-500"}),d.jsxs("span",{className:"text-xs font-bold text-emerald-600 dark:text-emerald-400",children:["+",u(b)]}),d.jsx("span",{className:"text-[10px] text-emerald-600/70 dark:text-emerald-400/70 uppercase font-medium",children:"A Receber"})]})]}),d.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-medium uppercase",children:"Sobrevivncia"}),d.jsx("span",{className:`text-xs font-bold ${N<1?"text-rose-500":N<3?"text-amber-500":"text-emerald-500"}`,children:N<.1?"Crtico":`${N.toFixed(1)} Meses`})]}),d.jsx("div",{className:"w-full h-1.5 bg-slate-100 dark:bg-slate-700 rounded-full mt-1.5 overflow-hidden",children:d.jsx("div",{className:`h-full rounded-full ${N<1?"bg-rose-500":N<3?"bg-amber-400":"bg-emerald-500"}`,style:{width:`${Math.min(100,N/6*100)}%`}})})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between hover:shadow-md transition-shadow",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Sadas (Ms)"}),d.jsx(vp,{className:"w-4 h-4 text-rose-500"})]}),d.jsxs("p",{className:"text-2xl font-bold text-rose-600 dark:text-rose-400 truncate",children:["-",u(x)]}),h>0?d.jsxs("div",{className:"flex items-center gap-1 mt-1 bg-amber-50 dark:bg-amber-900/20 px-2 py-1 rounded w-fit border border-amber-100 dark:border-amber-800/30",children:[d.jsx(rm,{className:"w-3 h-3 text-amber-500"}),d.jsxs("span",{className:"text-xs font-bold text-amber-600 dark:text-amber-400",children:["-",u(h)]}),d.jsx("span",{className:"text-[10px] text-amber-600/70 dark:text-amber-400/70 uppercase font-medium",children:"A Pagar"})]}):d.jsxs("div",{className:"flex items-center gap-1 mt-1 px-2 py-1",children:[d.jsx(Bx,{className:"w-3 h-3 text-emerald-500"}),d.jsx("span",{className:"text-[10px] text-emerald-500 font-bold uppercase",children:"Tudo Pago"})]})]}),d.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-100 dark:border-slate-700/50 flex-1 flex flex-col justify-end space-y-2",children:[d.jsx("p",{className:"text-[10px] text-slate-400 font-semibold uppercase pb-1",children:"Prximos Vencimentos"}),w.length===0?d.jsx("div",{className:"text-xs text-slate-400 italic",children:"Nada pendente."}):w.map(j=>{const F=new Date(j.date)<new Date(new Date().setHours(0,0,0,0));return d.jsxs("div",{className:"flex justify-between items-center text-xs",children:[d.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[d.jsx("div",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${F?"bg-rose-500":"bg-amber-400"}`}),d.jsx("span",{className:"truncate text-slate-600 dark:text-slate-300 max-w-[80px]",children:j.description})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[d.jsx("span",{className:"text-slate-400 text-[10px]",children:new Date(j.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}),d.jsx("span",{className:`font-semibold ${F?"text-rose-500":"text-slate-700 dark:text-slate-200"}`,children:u(j.amount).replace("R$","")})]})]},j.id)})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Total Investido"}),d.jsx("p",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400 mt-1",children:u(_)})]}),d.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded-lg",children:d.jsx(Hi,{className:"w-5 h-5 text-indigo-500"})})]}),d.jsxs("div",{className:"flex-1 flex flex-col justify-end space-y-2",children:[d.jsxs("p",{className:"text-[10px] text-slate-400 font-semibold uppercase border-b border-slate-100 dark:border-slate-700/50 pb-1 flex justify-between",children:[d.jsx("span",{children:"Maiores Posies"}),d.jsx(xp,{className:"w-3 h-3"})]}),E.length===0?d.jsx("div",{className:"text-xs text-slate-400 italic",children:"Carteira vazia."}):E.map((j,F)=>d.jsxs("div",{className:"flex justify-between items-center text-xs",children:[d.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[d.jsxs("span",{className:"text-slate-400 font-mono text-[10px]",children:[F+1,"."]}),d.jsx("span",{className:"truncate text-slate-600 dark:text-slate-300 max-w-[90px]",title:j.name,children:j.name})]}),d.jsx("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400 flex-shrink-0",children:u(j.amount).replace("R$","")})]},j.id))]})]})]}),d.jsxs("div",{className:"hidden lg:block space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[D,q]}),V]}),d.jsxs("div",{className:"lg:hidden space-y-4",children:[d.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl gap-1 border border-slate-200 dark:border-slate-700",children:[d.jsxs("button",{onClick:()=>s("flow"),className:`flex-1 py-2 text-xs font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-1.5
                    ${o==="flow"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[d.jsx(xd,{className:"w-3.5 h-3.5"}),"Fluxo"]}),d.jsxs("button",{onClick:()=>s("allocation"),className:`flex-1 py-2 text-xs font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-1.5
                    ${o==="allocation"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[d.jsx(xp,{className:"w-3.5 h-3.5"}),"Carteira"]}),d.jsxs("button",{onClick:()=>s("history"),className:`flex-1 py-2 text-xs font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-1.5
                    ${o==="history"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[d.jsx(am,{className:"w-3.5 h-3.5"}),"Histrico"]})]}),d.jsxs("div",{className:"min-h-[350px]",children:[o==="flow"&&D,o==="allocation"&&q,o==="history"&&V]})]})]})},K2={Casa:"bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900/30 dark:text-orange-300 dark:border-orange-800",Mobilidade:"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800",Alimentos:"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800",Lazer:"bg-purple-100 text-purple-700 border-purple-200 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-800",Sade:"bg-teal-100 text-teal-700 border-teal-200 dark:bg-teal-900/30 dark:text-teal-300 dark:border-teal-800",Educao:"bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800",Pets:"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-800",Salrio:"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800",Investimentos:"bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800",Outros:"bg-slate-100 text-slate-700 border-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:border-slate-600"},zv={credit_card:"Crdito",debit_card:"Dbito",cash:"Dinheiro",pix:"PIX",direct_debit:"Db. Auto",bank_transfer:"TED/DOC",deposit:"Depsito"},Y2=(t,e,n)=>{let r=new Date(t,e,1),i=0,o=0;for(;i<n&&o<31;){const s=r.getDay();if(s!==0&&s!==6&&i++,i===n)break;r.setDate(r.getDate()+1),o++}return r.toISOString().split("T")[0]},gIe=({method:t,className:e})=>{switch(t){case"credit_card":return d.jsx(im,{className:e});case"debit_card":return d.jsx(im,{className:e});case"cash":return d.jsx(RB,{className:e});case"pix":return d.jsx(m6,{className:e});default:return d.jsx(wD,{className:e})}},Gv=["Casa","Mobilidade","Alimentos","Lazer","Sade","Educao","Pets","Outros"],qv=["Salrio","Renda Extra","Investimentos","Presente","Reembolso","Outros"],J2=["credit_card","debit_card","direct_debit","pix","cash"],X2=["pix","bank_transfer","cash","deposit"],yIe=({transactions:t,budgets:e,onAdd:n,onUpdate:r,onDelete:i,onToggleStatus:o,onNavigate:s,privacyMode:a,hasApiKey:l,quickActionSignal:u})=>{const[c,f]=B.useState(!1),[h,y]=B.useState(!1),[v,b]=B.useState(!1),[x,_]=B.useState(new Date),[w,E]=B.useState("all"),[N,T]=B.useState(""),[C,A]=B.useState("all"),[I,k]=B.useState("all"),[P,R]=B.useState(!1),[O,D]=B.useState(null),[q,V]=B.useState("monthly"),[j,F]=B.useState([]),[L,z]=B.useState(!1),[G,Y]=B.useState(""),[H,J]=B.useState(!1),[ce,W]=B.useState("5"),oe=B.useRef(null),[Q,be]=B.useState({description:"",amount:"",type:"expense",category:"Outros",date:new Date().toISOString().split("T")[0],status:"paid",paymentMethod:"credit_card",isRecurring:!1,installments:"",observation:""});B.useEffect(()=>{u&&Date.now()-u<2e3&&(f(!0),_n())},[u]),B.useEffect(()=>{c&&oe.current&&setTimeout(()=>{var ee;(ee=oe.current)==null||ee.scrollIntoView({behavior:"smooth",block:"center"})},100)},[c,O]),B.useEffect(()=>{if(H&&Q.category==="Salrio"){const[ee,ue]=Q.date.split("-").map(Number),Ce=parseInt(ce)||5,De=Y2(ee,ue-1,Ce);De!==Q.date&&be(qe=>({...qe,date:De}))}},[H,ce,Q.category]);const se=B.useMemo(()=>Q.type==="income"?qv:Gv,[Q.type]),xe=B.useMemo(()=>Q.type==="income"?X2:J2,[Q.type]),de=()=>_(ee=>new Date(ee.getFullYear(),ee.getMonth()-1,1)),te=()=>_(ee=>new Date(ee.getFullYear(),ee.getMonth()+1,1)),Me=B.useMemo(()=>{const ee=[],ue=new Date,Ce=ue.getMonth(),De=ue.getFullYear(),qe=ue.toISOString().slice(0,7);return e.forEach($e=>{if(!($e.isRecurring&&!e.some(Qt=>Qt.category===$e.category&&Qt.month===qe&&!Qt.isRecurring)||$e.month===qe))return;t.filter(Qt=>Qt.type==="expense"&&Qt.category===$e.category&&new Date(Qt.date).getMonth()===Ce&&new Date(Qt.date).getFullYear()===De).reduce((Qt,lr)=>Qt+lr.amount,0)>=$e.limit&&ee.push({title:`Limite Excedido: ${$e.category}`,message:"Voc estourou o teto definido para esta categoria.",type:"warning"})}),ee},[e,t]),ke=B.useMemo(()=>{const ee=t.filter(De=>{const[qe,$e]=De.date.split("-");return parseInt(qe)===x.getFullYear()&&parseInt($e)===x.getMonth()+1}),ue=ee.filter(De=>De.type==="income").reduce((De,qe)=>De+qe.amount,0),Ce=ee.filter(De=>De.type==="expense").reduce((De,qe)=>De+qe.amount,0);return{income:ue,expense:Ce,balance:ue-Ce}},[t,x]),nt=B.useMemo(()=>t.filter(ee=>{const[ue,Ce]=ee.date.split("-");return!(!(parseInt(ue)===x.getFullYear()&&parseInt(Ce)===x.getMonth()+1)||w!=="all"&&ee.type!==w||N&&!ee.description.toLowerCase().includes(N.toLowerCase())||C!=="all"&&ee.category!==C||I!=="all"&&ee.paymentMethod!==I)}).sort((ee,ue)=>new Date(ue.date).getTime()-new Date(ee.date).getTime()),[t,x,w,N,C,I]),rt=B.useMemo(()=>{const ee={};nt.forEach($e=>{ee[$e.date]||(ee[$e.date]={transactions:[],total:0}),ee[$e.date].transactions.push($e);const Tn=$e.type==="income"?$e.amount:-$e.amount;ee[$e.date].total+=Tn});const Ce=[...Object.entries(ee).map(([$e,Tn])=>({date:$e,...Tn})).sort(($e,Tn)=>new Date(Tn.date).getTime()-new Date($e.date).getTime())].reverse();let De=0;return Ce.map($e=>(De+=$e.total,{...$e,runningBalance:De})).reverse()},[nt]),it=ee=>a?"":`R$ ${ee.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,ar=ee=>{const ue=new Date(ee+"T12:00:00"),Ce=new Date,De=new Date;if(De.setDate(De.getDate()-1),ue.toDateString()===Ce.toDateString())return"Hoje";if(ue.toDateString()===De.toDateString())return"Ontem";const qe=ue.toLocaleDateString("pt-BR",{weekday:"long"}),$e=ue.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"});return`${qe.split("-")[0]}, ${$e}`},Cr=async()=>{if(!Q.description)return;y(!0);const ee=await JZ(Q.description),ue=se.includes(ee);be(Ce=>({...Ce,category:ue?ee:"Outros"})),y(!1)},Qr=ee=>{const ue=ee.target.value,Ce=ue==="income"?qv:Gv,De=ue==="income"?"pix":"credit_card";be(qe=>({...qe,type:ue,category:Ce[0],paymentMethod:De}))},_n=()=>{be({description:"",amount:"",type:"expense",category:"Outros",date:new Date().toISOString().split("T")[0],status:"paid",paymentMethod:"credit_card",isRecurring:!1,installments:"",observation:""}),D(null),V("monthly"),F([]),z(!1),Y(""),J(!1),W("5")},En=ee=>{be({description:ee.description||"",amount:(ee.amount||0).toString(),type:ee.type||"expense",category:ee.category||"Outros",date:ee.date||new Date().toISOString().split("T")[0],status:ee.status||"paid",paymentMethod:ee.paymentMethod||(ee.type==="income"?"pix":"credit_card"),isRecurring:ee.isRecurring||!1,installments:"",observation:ee.observation||""}),D(ee.id),f(!0)},xi=ee=>{F(ue=>ue.includes(ee)?ue.filter(Ce=>Ce!==ee):[...ue,ee])},ho=ee=>{ee.preventDefault();let ue=parseFloat(Q.amount),Ce=Q.observation;if(Q.type==="income"&&Q.category==="Salrio"&&L){const qe=parseFloat(G);if(!isNaN(qe)&&qe>0&&qe<100){const $e=ue*(qe/100),Tn=ue;ue=ue-$e;const Sn=`(Salrio Bruto: R$ ${Tn.toFixed(2)} | Desc. Penso: ${qe}%)`;Ce=Ce?`${Ce} ${Sn}`:Sn}}const De={description:Q.description,amount:ue,type:Q.type,category:Q.category,date:Q.date,status:Q.status,paymentMethod:Q.paymentMethod,isRecurring:Q.isRecurring,observation:Ce};if(Q.isRecurring)if(q==="days"&&j.length>0){const[qe,$e]=Q.date.split("-").map(Number),Tn=new Date(qe,$e,0).getDate();j.forEach(Sn=>{if(Sn<=Tn){const Qt=String(Sn).padStart(2,"0"),lr=String($e).padStart(2,"0"),bi=`${qe}-${lr}-${Qt}`;n({...De,description:`${Q.description} (Dia ${Sn})`,date:bi,isRecurring:!1})}})}else{const qe=parseInt(Q.installments);if(!isNaN(qe)&&qe>1){const[$e,Tn,Sn]=Q.date.split("-").map(Number),Qt=parseInt(ce)||5;for(let lr=0;lr<qe;lr++){let bi;H&&Q.category==="Salrio"&&Q.type==="income"?bi=Y2($e,Tn-1+lr,Qt):bi=new Date($e,Tn-1+lr,Sn).toISOString().split("T")[0];const hy=`${Q.description} (${lr+1}/${qe})`;n({...De,description:hy,date:bi,isRecurring:!1})}}else O?r(O,De):n(De)}else O?r(O,De):n(De);_n(),f(!1)};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white hidden md:block",children:"Transaes"}),d.jsxs("div",{className:"flex flex-1 w-full md:w-auto gap-3 items-center",children:[d.jsxs("div",{className:"flex-1 relative group",children:[d.jsx(LA,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2 group-focus-within:text-indigo-500 transition-colors"}),d.jsx("input",{type:"text",placeholder:"Buscar...",value:N,onChange:ee=>T(ee.target.value),className:"w-full pl-9 pr-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 text-sm transition-all shadow-sm"}),N&&d.jsx("button",{onClick:()=>T(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:d.jsx(_r,{className:"w-3 h-3"})})]}),d.jsx("button",{onClick:()=>R(!P),className:`p-2.5 rounded-xl border transition-all ${P?"bg-indigo-50 border-indigo-200 text-indigo-600 dark:bg-indigo-900/30 dark:border-indigo-800 dark:text-indigo-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-500"}`,children:d.jsx(xD,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-1 shrink-0",children:[d.jsx("button",{onClick:de,className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-600 dark:text-slate-300",children:d.jsx(o1,{className:"w-4 h-4"})}),d.jsx("span",{className:"px-2 text-xs font-bold text-slate-700 dark:text-slate-200 capitalize min-w-[80px] text-center",children:x.toLocaleDateString("pt-BR",{month:"short",year:"2-digit"})}),d.jsx("button",{onClick:te,className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-600 dark:text-slate-300",children:d.jsx(e0,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"hidden md:flex gap-2",children:[d.jsxs("button",{onClick:()=>s(Le.SUBSCRIPTIONS),className:"flex items-center gap-2 bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700 px-4 py-2.5 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors font-medium text-sm shadow-sm",children:[d.jsx(ra,{className:"w-4 h-4 text-indigo-500"}),"Assinaturas"]}),d.jsxs("button",{onClick:()=>{_n(),f(!c)},className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2.5 rounded-xl hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-500/20 font-bold text-sm",children:[d.jsx(Kr,{className:"w-4 h-4"})," Nova"]})]})]}),P&&d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 bg-slate-50 dark:bg-slate-800/50 p-3 rounded-xl border border-slate-200 dark:border-slate-700 animate-fade-in-down",children:[d.jsxs("select",{value:C,onChange:ee=>A(ee.target.value),className:"p-2 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white text-xs outline-none focus:ring-2 focus:ring-indigo-500",children:[d.jsx("option",{value:"all",children:"Todas Categorias"}),[...Gv,...qv].map(ee=>d.jsx("option",{value:ee,children:ee},ee))]}),d.jsxs("select",{value:I,onChange:ee=>k(ee.target.value),className:"p-2 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white text-xs outline-none focus:ring-2 focus:ring-indigo-500",children:[d.jsx("option",{value:"all",children:"Todos Mtodos"}),[...J2,...X2].map(ee=>d.jsx("option",{value:ee,children:zv[ee]},ee))]})]})]}),Me.length>0&&d.jsx("div",{className:"space-y-2",children:Me.map((ee,ue)=>d.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-4 rounded-xl flex items-start gap-3 animate-fade-in-down shadow-sm",children:[d.jsx("div",{className:"bg-amber-100 dark:bg-amber-800 p-2 rounded-full flex-shrink-0",children:d.jsx(i1,{className:"w-5 h-5 text-amber-600 dark:text-amber-300"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-amber-800 dark:text-amber-300 text-sm",children:ee.title}),d.jsx("p",{className:"text-amber-700 dark:text-amber-400 text-xs mt-0.5",children:ee.message})]})]},ue))}),d.jsxs("div",{className:"grid grid-cols-3 gap-3 md:gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 md:p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-[10px] md:text-xs font-bold uppercase tracking-wider",children:"Entradas"}),d.jsx("p",{className:"text-sm md:text-lg font-bold text-emerald-600 dark:text-emerald-400 truncate",children:it(ke.income)})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 md:p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-[10px] md:text-xs font-bold uppercase tracking-wider",children:"Sadas"}),d.jsx("p",{className:"text-sm md:text-lg font-bold text-rose-600 dark:text-rose-400 truncate",children:it(ke.expense)})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 md:p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-[10px] md:text-xs font-bold uppercase tracking-wider",children:"Resultado (Ms)"}),d.jsx("p",{className:`text-sm md:text-lg font-bold truncate ${ke.balance>=0?"text-indigo-600 dark:text-indigo-400":"text-rose-600"}`,children:it(ke.balance)})]})]}),d.jsx("div",{ref:oe,className:"scroll-mt-24",children:c&&d.jsxs("form",{onSubmit:ho,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[d.jsx("div",{className:"col-span-1 md:col-span-2",children:d.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:O?"Editar Transao":"Adicionar Transao"})}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{required:!0,type:"text",placeholder:"Descrio",value:Q.description,onChange:ee=>be({...Q,description:ee.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none w-full pr-10"}),d.jsx("button",{type:"button",onClick:Cr,disabled:h||!Q.description||!l,className:`absolute right-2 top-2 ${l?"text-indigo-500 hover:text-indigo-700":"text-slate-400 opacity-50 cursor-not-allowed"} disabled:opacity-30`,children:h?d.jsx(t0,{className:"w-5 h-5 animate-spin"}):d.jsx(b6,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("input",{required:!0,type:"number",placeholder:"Valor (R$)",value:Q.amount,onChange:ee=>be({...Q,amount:ee.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 outline-none"}),Q.type==="income"&&Q.category==="Salrio"&&!O&&d.jsxs("div",{className:"flex items-center gap-2 mt-1 px-1 animate-fade-in",children:[d.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group select-none",onClick:()=>z(!L),children:[d.jsx("div",{className:`w-3.5 h-3.5 rounded border flex items-center justify-center transition-colors ${L?"bg-indigo-600 border-indigo-600":"border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800"}`,children:L&&d.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),d.jsxs("span",{className:"text-[10px] font-medium text-slate-500 dark:text-slate-400 group-hover:text-indigo-500 transition-colors flex items-center gap-1",children:[d.jsx(PB,{className:"w-3 h-3"})," Descontar Penso?"]})]}),L&&d.jsxs("div",{className:"flex items-center gap-1 animate-scale-in ml-auto",children:[d.jsx("input",{autoFocus:!0,type:"number",placeholder:"%",className:"w-12 py-0.5 px-1 text-xs border border-slate-300 rounded text-center outline-none focus:border-indigo-500 dark:bg-slate-700 dark:border-slate-600 dark:text-white font-bold",value:G,onChange:ee=>Y(ee.target.value)}),d.jsx("span",{className:"text-[10px] text-slate-400 font-bold",children:"%"})]})]})]}),d.jsxs("select",{value:Q.type,onChange:Qr,className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:[d.jsx("option",{value:"expense",children:"Despesa"}),d.jsx("option",{value:"income",children:"Receita"})]}),d.jsx("select",{value:Q.category,onChange:ee=>be({...Q,category:ee.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:se.map(ee=>d.jsx("option",{value:ee,children:ee},ee))}),d.jsxs("div",{children:[d.jsx("input",{required:!0,type:"date",value:Q.date,onChange:ee=>be({...Q,date:ee.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 w-full"}),Q.category==="Salrio"&&Q.type==="income"&&d.jsxs("div",{className:"flex items-center gap-2 p-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg border border-emerald-100 dark:border-emerald-800/30 animate-fade-in mt-2",children:[d.jsx("input",{type:"checkbox",id:"useBusinessDay",checked:H,onChange:ee=>J(ee.target.checked),className:"w-3.5 h-3.5 text-emerald-600 rounded"}),d.jsxs("label",{htmlFor:"useBusinessDay",className:"text-xs font-bold text-emerald-700 dark:text-emerald-400 flex items-center gap-1 cursor-pointer flex-1",children:[d.jsx(MB,{className:"w-3 h-3"})," Considerar dia til?"]}),H&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("input",{type:"number",min:"1",max:"20",value:ce,onChange:ee=>W(ee.target.value),className:"w-10 py-0.5 px-1 text-xs border border-emerald-300 rounded text-center outline-none focus:border-emerald-500 font-bold dark:bg-slate-700 dark:text-white"}),d.jsx("span",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 font-bold",children:" dia"})]})]})]}),d.jsxs("select",{value:Q.status,onChange:ee=>be({...Q,status:ee.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:[d.jsx("option",{value:"paid",children:"Pago/Recebido"}),d.jsx("option",{value:"pending",children:"Pendente"})]}),d.jsx("select",{value:Q.paymentMethod,onChange:ee=>be({...Q,paymentMethod:ee.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:xe.map(ee=>d.jsx("option",{value:ee,children:zv[ee]},ee))}),d.jsx("div",{className:"md:col-span-2",children:d.jsx("textarea",{placeholder:"Observaes (opcional)",value:Q.observation,onChange:ee=>be({...Q,observation:ee.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 w-full outline-none resize-none h-20 text-sm"})}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsxs("div",{className:"flex items-center gap-2 p-2 border border-dashed border-slate-300 dark:border-slate-600 rounded-lg",children:[d.jsx("input",{type:"checkbox",id:"recurring",checked:Q.isRecurring,onChange:ee=>be({...Q,isRecurring:ee.target.checked}),className:"w-4 h-4 text-indigo-600 rounded"}),d.jsxs("label",{htmlFor:"recurring",className:"text-sm text-slate-700 dark:text-slate-200 font-medium flex items-center gap-1 cursor-pointer",children:[d.jsx(ra,{className:"w-4 h-4 text-indigo-500"})," Assinatura / Recorrente / Parcelado"]})]}),Q.isRecurring&&d.jsxs("div",{className:"mt-2 pl-2 md:pl-6 animate-fade-in space-y-3",children:[d.jsxs("div",{className:"flex gap-2 mb-3",children:[d.jsx("button",{type:"button",onClick:()=>V("monthly"),className:`flex-1 py-1.5 px-3 rounded-lg text-xs font-bold border transition-colors ${q==="monthly"?"bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800":"bg-slate-50 text-slate-500 border-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700"}`,children:"Mensal / Parcelado"}),d.jsx("button",{type:"button",onClick:()=>V("days"),className:`flex-1 py-1.5 px-3 rounded-lg text-xs font-bold border transition-colors ${q==="days"?"bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800":"bg-slate-50 text-slate-500 border-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700"}`,children:"Dias Especficos"})]}),q==="monthly"?d.jsx("div",{className:"space-y-3",children:d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Repetir por quantas vezes? (Opcional)"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(a1,{className:"w-4 h-4 text-slate-400"}),d.jsx("input",{type:"number",placeholder:"Ex: 12 (Deixe vazio para assinatura infinita)",value:Q.installments,onChange:ee=>be({...Q,installments:ee.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 text-sm w-full outline-none focus:ring-2 focus:ring-indigo-500"})]})]})}):d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase flex items-center gap-1",children:[d.jsx(DB,{className:"w-3 h-3"})," Selecione os dias do ms"]}),d.jsx("div",{className:"grid grid-cols-7 gap-2",children:[...Array(31)].map((ee,ue)=>{const Ce=ue+1,De=j.includes(Ce);return d.jsx("button",{type:"button",onClick:()=>xi(Ce),className:`h-8 rounded-md text-xs font-bold transition-all ${De?"bg-indigo-600 text-white shadow-md shadow-indigo-500/30 transform scale-105":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:Ce},Ce)})}),d.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"Uma transao ser criada para cada dia selecionado neste ms."})]})]})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-2 mt-2",children:[d.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:O?"Atualizar":"Salvar"})]})]})}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-1 flex",children:[d.jsxs("button",{onClick:()=>E("all"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${w==="all"?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-300":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[d.jsx(qx,{className:"w-4 h-4"})," Todas"]}),d.jsxs("button",{onClick:()=>E("income"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${w==="income"?"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-300":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[d.jsx(tv,{className:"w-4 h-4"})," Entradas"]}),d.jsxs("button",{onClick:()=>E("expense"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${w==="expense"?"bg-rose-50 text-rose-600 dark:bg-rose-900/30 dark:text-rose-300":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[d.jsx(vp,{className:"w-4 h-4"})," Sadas"]})]}),d.jsx("div",{className:"space-y-4 pb-20 md:pb-0",children:rt.length===0?d.jsxs("div",{className:"text-center py-16 text-slate-400",children:[d.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(LA,{className:"w-8 h-8 opacity-50"})}),d.jsx("p",{children:"Nenhuma transao encontrada."}),d.jsx("p",{className:"text-xs mt-1",children:"Tente mudar os filtros ou adicione uma nova."})]}):rt.map(ee=>d.jsxs("div",{className:"animate-fade-in",children:[d.jsxs("div",{className:"flex items-center justify-between px-3 py-2 mb-1 sticky top-0 z-10 bg-slate-50/95 dark:bg-slate-900/95 backdrop-blur-sm rounded-lg border-b border-slate-100 dark:border-slate-800",children:[d.jsxs("h3",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[d.jsx(Zo,{className:"w-3 h-3"}),ar(ee.date)]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:`text-xs font-bold ${ee.total>=0?"text-emerald-600 dark:text-emerald-400":"text-rose-500"}`,children:ee.total!==0&&(ee.total>0?"+":"")+it(ee.total)}),d.jsx("div",{className:"h-4 w-px bg-slate-300 dark:bg-slate-700"}),d.jsxs("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-400 flex items-center gap-1",title:"Saldo acumulado at este dia",children:[d.jsx(p6,{className:"w-3 h-3"}),it(ee.runningBalance)]})]})]}),d.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden divide-y divide-slate-100 dark:divide-slate-700",children:ee.transactions.map(ue=>{var Ce,De;return d.jsxs("div",{className:"group hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[d.jsxs("div",{className:"md:hidden p-4 flex items-center gap-3 relative",children:[d.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 ${ue.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30":"bg-rose-100 text-rose-600 dark:bg-rose-900/30"}`,children:ue.type==="income"?d.jsx(tv,{className:"w-5 h-5"}):d.jsx(vp,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>En(ue),children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("h4",{className:"font-bold text-slate-800 dark:text-white truncate pr-2 text-sm",children:ue.description}),d.jsxs("span",{className:`font-bold text-sm whitespace-nowrap ${ue.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:[ue.type==="expense"&&"- ",it(ue.amount)]})]}),d.jsx("div",{className:"flex justify-between items-center mt-1",children:d.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400",children:[d.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium border ${((Ce=K2[ue.category])==null?void 0:Ce.replace("bg-","border-").split(" ")[2])||"border-slate-200"}`,children:ue.category}),ue.isRecurring&&d.jsxs("span",{className:"flex items-center gap-0.5 text-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 px-1.5 py-0.5 rounded",title:"Recorrente Infinito",children:[d.jsx(DA,{className:"w-3 h-3"}),"Fixo"]})]})}),ue.observation&&d.jsxs("p",{className:"text-[10px] text-slate-400 mt-1 italic truncate flex items-center gap-1",children:[d.jsx(g6,{className:"w-3 h-3"})," ",ue.observation]})]}),d.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[d.jsx("button",{onClick:()=>o(ue.id),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${ue.status==="paid"?"bg-emerald-500 border-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-emerald-400"}`,children:d.jsx(zx,{className:"w-3.5 h-3.5"})}),d.jsx("button",{onClick:()=>En(ue),className:"p-1 text-slate-400",children:d.jsx(TD,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"hidden md:flex items-center gap-4 p-3 text-sm",children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 ${ue.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30":"bg-rose-100 text-rose-600 dark:bg-rose-900/30"}`,children:ue.type==="income"?d.jsx(tv,{className:"w-4 h-4"}):d.jsx(vp,{className:"w-4 h-4"})}),d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-8 text-center font-bold text-slate-400 text-xs",children:parseInt(ue.date.split("-")[2])}),d.jsx("div",{className:"w-24 shrink-0",children:d.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-medium border block text-center truncate ${((De=K2[ue.category])==null?void 0:De.replace("bg-","border-").split(" ")[2])||"border-slate-200"}`,children:ue.category})}),d.jsxs("div",{className:"flex-1 font-medium text-slate-700 dark:text-slate-200 truncate cursor-pointer hover:text-indigo-500 flex flex-col justify-center",onClick:()=>En(ue),title:"Clique para editar",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[ue.description,ue.isRecurring&&d.jsxs("span",{className:"text-[10px] text-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 px-1.5 py-0.5 rounded flex items-center gap-0.5",title:"Recorrncia Infinita",children:[d.jsx(DA,{className:"w-3 h-3"})," Recorrente"]})]}),ue.observation&&d.jsx("span",{className:"text-[10px] text-slate-400 font-normal truncate max-w-[300px]",children:ue.observation})]}),d.jsxs("div",{className:"w-24 text-xs text-slate-500 flex items-center gap-1",children:[d.jsx(gIe,{method:ue.paymentMethod||"",className:"w-3 h-3"}),d.jsx("span",{className:"truncate",children:zv[ue.paymentMethod||""]||"-"})]}),d.jsx("div",{className:`w-28 text-right font-bold cursor-pointer hover:text-indigo-500 ${ue.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-slate-700 dark:text-slate-200"}`,onClick:()=>En(ue),children:it(ue.amount)}),d.jsx("div",{className:"w-8 flex justify-center",children:d.jsx("button",{onClick:()=>o(ue.id),className:`transition-all hover:scale-110 ${ue.status==="paid"?"text-emerald-500":"text-slate-300 hover:text-emerald-400"}`,title:ue.status==="paid"?"Marcar como pendente":"Marcar como pago",children:d.jsx(zx,{className:"w-5 h-5"})})}),d.jsxs("div",{className:"w-16 flex justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>En(ue),className:"p-1.5 text-slate-400 hover:text-indigo-500 rounded hover:bg-slate-100 dark:hover:bg-slate-700",children:d.jsx(a6,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>i(ue.id),className:"p-1.5 text-slate-400 hover:text-rose-500 rounded hover:bg-slate-100 dark:hover:bg-slate-700",children:d.jsx(gu,{className:"w-4 h-4"})})]})]})]})]},ue.id)})})]},ee.date))}),d.jsx("button",{onClick:()=>{_n(),f(!0)},className:"md:hidden fixed bottom-20 right-4 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-lg shadow-indigo-600/30 flex items-center justify-center z-40 hover:scale-105 transition-transform",children:d.jsx(Kr,{className:"w-7 h-7"})})]})},Q2=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899","#6366f1"],vIe=({investments:t,onAdd:e,onUpdate:n,onDelete:r,onNavigate:i,privacyMode:o,hasApiKey:s,quickActionSignal:a})=>{const[l,u]=B.useState(!1),[c,f]=B.useState(null),[h,y]=B.useState(!1),[v,b]=B.useState(!1),[x,_]=B.useState(!1),[w,E]=B.useState(null),[N,T]=B.useState(""),[C,A]=B.useState(null),[I,k]=B.useState(""),[P,R]=B.useState({name:"",amount:"",investedAmount:"",targetAmount:"",type:"Renda Fixa",date:new Date().toISOString().split("T")[0]});B.useEffect(()=>{a&&Date.now()-a<2e3&&(u(!0),R({name:"",amount:"",investedAmount:"",targetAmount:"",type:"Renda Fixa",date:new Date().toISOString().split("T")[0]}))},[a]);const O=B.useMemo(()=>{const W=new Map;return t.forEach(oe=>{W.set(oe.type,(W.get(oe.type)||0)+oe.amount)}),Array.from(W.entries()).map(([oe,Q])=>({name:oe,value:Q})).sort((oe,Q)=>Q.value-oe.value)},[t]),D=W=>{W.preventDefault();const oe=parseFloat(P.amount),Q=P.investedAmount?parseFloat(P.investedAmount):oe;e({name:P.name,amount:oe,investedAmount:Q,targetAmount:parseFloat(P.targetAmount)||0,type:P.type,date:P.date}),R({name:"",amount:"",investedAmount:"",targetAmount:"",type:"Renda Fixa",date:new Date().toISOString().split("T")[0]}),u(!1)},q=W=>{if(W.preventDefault(),!w)return;const oe=t.find(Q=>Q.id===w);if(oe){const Q=parseFloat(N);if(!isNaN(Q)&&Q>0){const be=oe.investedAmount||oe.amount;n(w,{amount:oe.amount+Q,investedAmount:be+Q})}}E(null),T("")},V=W=>{const oe=parseFloat(I);!isNaN(oe)&&oe>=0&&n(W,{amount:oe}),A(null)},j=async()=>{if(!s)return;b(!0),y(!0),f(null),_(!1);const W=await XZ(t);f(W),y(!1)},F=()=>{if(!c)return{recommendations:"",technical:""};const W=c.text.split("---SECTION-BREAK---");return{recommendations:W[0].trim(),technical:W.length>1?W[1].trim():""}},{recommendations:L,technical:z}=F(),G=t.reduce((W,oe)=>W+oe.amount,0),Y=t.reduce((W,oe)=>W+(oe.investedAmount||oe.amount),0),H=G-Y,J=Y>0?H/Y*100:0,ce=W=>o?"":`R$ ${W.toLocaleString("pt-BR",{minimumFractionDigits:2})}`;return d.jsxs("div",{className:"space-y-6 relative",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Meus Investimentos"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Acompanhe rentabilidade e metas."})]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs("button",{onClick:()=>i(Le.BUDGETS),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-pink-50 text-pink-600 hover:bg-pink-100 dark:bg-pink-900/20 dark:text-pink-400 dark:hover:bg-pink-900/40 transition-all font-medium text-sm border border-pink-200 dark:border-pink-800",children:[d.jsx(ia,{className:"w-4 h-4"}),"Metas"]}),d.jsxs("button",{onClick:j,disabled:!s,title:s?"Consultor IA":"Configure a Chave API para usar",className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all shadow-sm text-sm font-medium
                   ${s?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white hover:from-purple-700 hover:to-indigo-700":"bg-slate-300 dark:bg-slate-700 text-slate-500 dark:text-slate-400 cursor-not-allowed opacity-60"}`,children:[d.jsx(Ws,{className:"w-4 h-4"}),"Consultor IA ",!s&&d.jsx("span",{className:"text-[10px] ml-1",children:"(Req. Chave)"})]}),d.jsxs("button",{onClick:()=>u(!l),className:"flex items-center gap-2 bg-slate-800 dark:bg-slate-700 text-white px-4 py-2 rounded-lg hover:bg-slate-900 dark:hover:bg-slate-600 transition-colors shadow-sm text-sm font-medium",children:[d.jsx(Kr,{className:"w-4 h-4"}),"Novo Ativo"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-indigo-600 text-white p-6 rounded-xl shadow-lg flex flex-col justify-between relative overflow-hidden",children:[d.jsxs("div",{className:"relative z-10",children:[d.jsx("p",{className:"text-indigo-200 text-xs font-bold uppercase tracking-wider mb-1",children:"Patrimnio Total"}),d.jsx("h3",{className:"text-3xl font-bold mb-1",children:ce(G)}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsxs("span",{className:`text-xs font-bold px-1.5 py-0.5 rounded bg-white/20 flex items-center gap-1 ${H>=0?"text-emerald-300":"text-rose-300"}`,children:[H>=0?d.jsx(Hi,{className:"w-3 h-3"}):d.jsx(am,{className:"w-3 h-3"}),J.toFixed(2),"%"]}),d.jsxs("span",{className:"text-[10px] text-indigo-200",children:["(",H>=0?"+":"",ce(H),")"]})]})]}),d.jsx(om,{className:"absolute right-4 bottom-4 w-24 h-24 text-indigo-500 opacity-20 pointer-events-none"})]}),O.length>0&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 md:col-span-2 flex items-center",children:[d.jsx("div",{className:"flex-1 h-[140px]",children:d.jsx(Yo,{width:"100%",height:"100%",children:d.jsxs(CV,{children:[d.jsx(vi,{data:O,cx:"50%",cy:"50%",innerRadius:40,outerRadius:60,paddingAngle:5,dataKey:"value",children:O.map((W,oe)=>d.jsx(Sa,{fill:Q2[oe%Q2.length]},`cell-${oe}`))}),d.jsx(rn,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"8px",border:"none",fontSize:"12px"},formatter:W=>o?"":`R$ ${W.toLocaleString("pt-BR")}`}),d.jsx(li,{layout:"vertical",verticalAlign:"middle",align:"right",wrapperStyle:{fontSize:"11px"}})]})})}),d.jsx("div",{className:"w-px h-20 bg-slate-100 dark:bg-slate-700 mx-4"}),d.jsxs("div",{className:"pr-4 min-w-[120px]",children:[d.jsxs("p",{className:"text-xs text-slate-500 uppercase font-bold mb-2 flex items-center gap-1",children:[d.jsx(xp,{className:"w-3 h-3"})," Alocao"]}),O.slice(0,3).map((W,oe)=>d.jsxs("div",{className:"flex justify-between items-center text-xs mb-1",children:[d.jsx("span",{className:"text-slate-600 dark:text-slate-300 truncate max-w-[80px]",children:W.name}),d.jsxs("span",{className:"font-bold text-slate-800 dark:text-white",children:[(W.value/G*100).toFixed(0),"%"]})]},oe))]})]})]}),v&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-purple-200 dark:border-purple-900 overflow-hidden animate-fade-in",children:[d.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-slate-800 dark:to-slate-800 p-4 border-b border-purple-100 dark:border-slate-700 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(mD,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),d.jsx("h3",{className:"font-bold text-purple-900 dark:text-purple-300",children:"Smart Advisor"})]}),d.jsx("button",{onClick:()=>b(!1),className:"text-slate-400 hover:text-slate-600",children:d.jsx(_r,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"p-6",children:h?d.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[d.jsx(t0,{className:"w-8 h-8 text-purple-600 animate-spin mb-3"}),d.jsx("p",{className:"text-slate-500 text-sm animate-pulse",children:"Buscando oportunidades em tempo real..."})]}):c?d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"prose prose-sm prose-purple dark:prose-invert max-w-none text-slate-700 dark:text-slate-300",children:d.jsx("div",{dangerouslySetInnerHTML:{__html:L.replace(/\n/g,"<br/>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/- /g," ")}})}),z&&d.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-700 pt-4",children:[d.jsxs("button",{onClick:()=>_(!x),className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-slate-50 dark:bg-slate-700/50 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-700 dark:text-slate-200 text-sm font-semibold transition-colors border border-slate-200 dark:border-slate-600",children:[d.jsx(OB,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),x?"Ocultar Detalhes Tcnicos":"Ver Anlise Tcnica Detalhada",x?d.jsx($B,{className:"w-4 h-4"}):d.jsx(LB,{className:"w-4 h-4"})]}),x&&d.jsx("div",{className:"mt-4 p-5 bg-slate-50 dark:bg-slate-900/50 rounded-lg border border-slate-200 dark:border-slate-700 animate-fade-in",children:d.jsx("div",{className:"prose prose-sm prose-slate dark:prose-invert max-w-none text-slate-600 dark:text-slate-400",children:d.jsx("div",{dangerouslySetInnerHTML:{__html:z.replace(/\n/g,"<br/>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/- /g," ")}})})})]}),c.sources.length>0&&d.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-700 pt-4",children:[d.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Fontes Consultadas"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:c.sources.map((W,oe)=>d.jsxs("a",{href:W.uri,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-2 py-1 rounded hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:[d.jsx(vD,{className:"w-3 h-3"}),W.title.length>30?W.title.substring(0,30)+"...":W.title]},oe))})]}),d.jsx("div",{className:"mt-4 flex justify-end",children:d.jsx("button",{onClick:j,className:"text-sm text-purple-600 hover:underline",children:"Atualizar Recomendao"})})]}):d.jsx("div",{className:"text-center text-slate-500",children:"Erro ao carregar recomendao."})})]}),l&&d.jsxs("form",{onSubmit:D,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[d.jsx("div",{className:"col-span-1 md:col-span-2",children:d.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Adicionar Novo Ativo"})}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Nome"}),d.jsx("input",{required:!0,type:"text",placeholder:"Ex: CDB Banco X, PETR4",value:P.name,onChange:W=>R({...P,name:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Valor Atual (Mercado)"}),d.jsx("input",{required:!0,type:"number",placeholder:"R$",value:P.amount,onChange:W=>R({...P,amount:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none font-bold"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Valor Investido (Custo)"}),d.jsx("input",{type:"number",placeholder:"Igual ao atual se vazio",value:P.investedAmount,onChange:W=>R({...P,investedAmount:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Objetivo Final (Meta)"}),d.jsx("input",{type:"number",placeholder:"R$",value:P.targetAmount,onChange:W=>R({...P,targetAmount:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Tipo"}),d.jsxs("select",{value:P.type,onChange:W=>R({...P,type:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:[d.jsx("option",{value:"Renda Fixa",children:"Renda Fixa"}),d.jsx("option",{value:"Aes",children:"Aes"}),d.jsx("option",{value:"FIIs",children:"FIIs"}),d.jsx("option",{value:"Cripto",children:"Criptomoedas"}),d.jsx("option",{value:"Reserva",children:"Reserva de Emergncia"}),d.jsx("option",{value:"Outros",children:"Outros"})]})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Data da Compra"}),d.jsx("input",{required:!0,type:"date",value:P.date,onChange:W=>R({...P,date:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2"})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-2 mt-2",children:[d.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:"Salvar"})]})]}),w&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-sm p-6 animate-fade-in",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Novo Aporte"}),d.jsx("button",{onClick:()=>E(null),className:"text-slate-400 hover:text-slate-600",children:d.jsx(_r,{className:"w-5 h-5"})})]}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Ao aportar, o valor ser somado ao Custo e ao Valor Atual."}),d.jsxs("form",{onSubmit:q,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 mb-1",children:"VALOR DO APORTE"}),d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:"absolute left-3 top-2 text-slate-400",children:"R$"}),d.jsx("input",{autoFocus:!0,required:!0,type:"number",step:"0.01",className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg py-2 pl-8 pr-3 focus:ring-2 focus:ring-indigo-500 outline-none text-lg font-medium",value:N,onChange:W=>T(W.target.value)})]})]}),d.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 rounded-lg font-medium hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2",children:[d.jsx(Wx,{className:"w-5 h-5"}),"Confirmar Aporte"]})]})]})}),d.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.length===0?d.jsx("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700 text-slate-400",children:"Voc ainda no registrou investimentos."}):t.map(W=>{const oe=W.investedAmount||W.amount,be=W.amount-oe,se=oe>0?be/oe*100:0,xe=W.targetAmount&&W.targetAmount>0?Math.min(100,W.amount/W.targetAmount*100):0;return d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-shadow relative group",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 mb-2",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 p-3 rounded-full text-indigo-600 dark:text-indigo-400",children:d.jsx(om,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white text-lg",children:W.name}),d.jsxs("div",{className:"flex flex-wrap gap-2 text-xs mt-1",children:[d.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-2 py-0.5 rounded",children:W.type}),se!==0&&d.jsxs("span",{className:`px-2 py-0.5 rounded font-bold flex items-center gap-1 ${se>0?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400"}`,children:[se>0?d.jsx(Hi,{className:"w-3 h-3"}):d.jsx(am,{className:"w-3 h-3"}),se.toFixed(2),"%"]})]})]})]}),d.jsxs("div",{className:"flex items-start justify-between md:justify-end gap-3 md:gap-6 mt-2 md:mt-0",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:"block text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Valor Atual"}),C===W.id?d.jsx("div",{className:"flex items-center justify-end gap-1 mt-1",children:d.jsx("input",{autoFocus:!0,type:"number",className:"w-24 p-1 text-sm border rounded bg-white dark:bg-slate-900 dark:text-white dark:border-slate-600 text-right",value:I,onChange:de=>k(de.target.value),onKeyDown:de=>de.key==="Enter"&&V(W.id),onBlur:()=>V(W.id)})}):d.jsxs("div",{className:"group/edit relative inline-block",children:[d.jsx("span",{className:"font-bold text-slate-800 dark:text-white text-xl cursor-pointer hover:text-indigo-500 border-b border-dashed border-transparent hover:border-indigo-400 transition-all",onClick:()=>{A(W.id),k(W.amount.toString())},title:"Clique para atualizar cotao",children:ce(W.amount)}),d.jsx(SD,{className:"w-3 h-3 text-slate-300 absolute -right-4 top-1 opacity-0 group-hover/edit:opacity-100 transition-opacity"})]}),d.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Investido: ",ce(oe)]})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("button",{onClick:()=>E(W.id),className:"p-1.5 text-indigo-600 bg-indigo-50 hover:bg-indigo-100 dark:text-indigo-400 dark:bg-indigo-900/30 dark:hover:bg-indigo-900/50 rounded-lg transition-colors",title:"Novo Aporte",children:d.jsx(Wx,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>r(W.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors",title:"Excluir",children:d.jsx(gu,{className:"w-4 h-4"})})]})]})]}),W.targetAmount>0?d.jsx("div",{className:"mt-3 bg-slate-50 dark:bg-slate-700/50 p-2 rounded-lg border border-slate-100 dark:border-slate-700 flex items-center gap-3",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex justify-between items-end mb-1",children:[d.jsxs("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase flex items-center gap-1",children:[d.jsx(ia,{className:"w-3 h-3"})," Meta: ",ce(W.targetAmount)]}),d.jsxs("span",{className:"text-[10px] font-bold text-indigo-600 dark:text-indigo-400",children:[xe.toFixed(0),"%"]})]}),d.jsx("div",{className:"w-full h-1.5 bg-slate-200 dark:bg-slate-600 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-indigo-500 rounded-full transition-all duration-1000",style:{width:`${xe}%`}})})]})}):d.jsx("div",{className:"mt-2 flex justify-end opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsxs("button",{onClick:()=>u(!0),className:"text-[10px] text-slate-400 hover:text-indigo-500 flex items-center gap-1 uppercase font-bold tracking-wider",children:[d.jsx(VB,{className:"w-3 h-3"})," Definir Meta"]})})]},W.id)})})]})},xIe=["Casa","Mobilidade","Alimentos","Lazer","Pets","Outros"],bIe=({budgets:t,transactions:e,investments:n,onAdd:r,onUpdate:i,onDelete:o,onNavigate:s,privacyMode:a,quickActionSignal:l})=>{const[u,c]=B.useState(!1),[f,h]=B.useState(!1),[y,v]=B.useState(new Date),[b,x]=B.useState(null),[_,w]=B.useState(""),[E,N]=B.useState({category:"Lazer",limit:"",isRecurring:!0,month:new Date().toISOString().slice(0,7)});B.useEffect(()=>{l&&Date.now()-l<2e3&&(c(!0),N({category:"Lazer",limit:"",isRecurring:!0,month:new Date().toISOString().slice(0,7)}))},[l]);const T=()=>{v(L=>{const z=new Date(L);return z.setMonth(L.getMonth()-1),z})},C=()=>{v(L=>{const z=new Date(L);return z.setMonth(L.getMonth()+1),z})},A=L=>L.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}),I=()=>{const L=y.getFullYear(),z=String(y.getMonth()+1).padStart(2,"0");return`${L}-${z}`},k=L=>{if(L.preventDefault(),E.isRecurring){if(t.some(G=>G.category===E.category&&G.isRecurring)){alert(`J existe um oramento recorrente para ${E.category}. Exclua o anterior para criar um novo.`);return}}else if(t.some(G=>G.category===E.category&&G.month===E.month)){alert(`J existe um oramento de ${E.category} para ${E.month}.`);return}const z={category:E.category,limit:parseFloat(E.limit),isRecurring:E.isRecurring};E.isRecurring||(z.month=E.month),r(z),N({category:"Outros",limit:"",isRecurring:!0,month:I()}),c(!1)},P=L=>{const z=parseFloat(_);!isNaN(z)&&z>0&&i(L,{limit:z}),x(null)},R=L=>{x(L.id),w(L.limit.toString())},O=L=>a?"":`R$ ${L.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,D=L=>{const z=y.getFullYear(),G=y.getMonth();return e.filter(Y=>{const H=new Date(Y.date);return Y.type==="expense"&&Y.category===L&&H.getMonth()===G&&H.getFullYear()===z}).reduce((Y,H)=>Y+H.amount,0)},q=B.useMemo(()=>{const L=I(),z=t.filter(H=>H.month===L),G=new Set(z.map(H=>H.category)),Y=t.filter(H=>H.isRecurring&&!G.has(H.category));return[...z,...Y].sort((H,J)=>H.category.localeCompare(J.category))},[t,y]),V=B.useMemo(()=>n.filter(L=>L.targetAmount>0).sort((L,z)=>{const G=L.amount/L.targetAmount;return z.amount/z.targetAmount-G}),[n]),j=L=>{const z=new Date;if(z.getMonth()!==y.getMonth()||z.getFullYear()!==y.getFullYear())return null;const G=z.getDate(),Y=new Date(z.getFullYear(),z.getMonth()+1,0).getDate();return G===1?L:L/G*Y},F=B.useMemo(()=>{const L=new Map,z=new Date;for(let Y=0;Y<6;Y++){const H=new Date(z.getFullYear(),z.getMonth()-Y,1),J=H.getFullYear(),ce=H.getMonth(),W=`${J}-${String(ce+1).padStart(2,"0")}`;new Set(e.filter(Q=>{const be=new Date(Q.date);return Q.type==="expense"&&be.getFullYear()===J&&be.getMonth()===ce}).map(Q=>Q.category)).forEach(Q=>{let be=t.find(se=>se.category===Q&&se.month===W);if(be||(be=t.find(se=>se.category===Q&&se.isRecurring)),be){const se=e.filter(de=>{const te=new Date(de.date);return de.type==="expense"&&de.category===Q&&te.getFullYear()===J&&te.getMonth()===ce}).reduce((de,te)=>de+te.amount,0),xe=L.get(Q)||{totalSpent:0,totalLimit:0,count:0};L.set(Q,{totalSpent:xe.totalSpent+se,totalLimit:xe.totalLimit+be.limit,count:xe.count+1})}})}return Array.from(L.entries()).map(([Y,H])=>{const J=H.totalSpent/H.totalLimit*100;return{name:Y,adherence:J,spent:H.totalSpent/H.count,limit:H.totalLimit/H.count}}).sort((Y,H)=>H.adherence-Y.adherence)},[t,e]);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Planejamento"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm capitalize",children:"Defina limites e acompanhe suas metas."})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsx("button",{onClick:()=>h(!f),className:`p-2.5 rounded-lg transition-colors border ${f?"bg-indigo-50 border-indigo-200 text-indigo-600 dark:bg-indigo-900/30 dark:border-indigo-800 dark:text-indigo-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300"}`,title:"Ver Anlise de Performance",children:d.jsx(xd,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-1",children:[d.jsx("button",{onClick:T,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:d.jsx(o1,{className:"w-5 h-5"})}),d.jsxs("div",{className:"px-4 font-semibold text-slate-700 dark:text-slate-200 capitalize min-w-[140px] text-center flex items-center justify-center gap-2",children:[d.jsx(Zo,{className:"w-4 h-4 text-pink-500"}),A(y)]}),d.jsx("button",{onClick:C,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:d.jsx(e0,{className:"w-5 h-5"})})]}),d.jsxs("button",{onClick:()=>{N(L=>({...L,month:I()})),c(!u)},className:"flex items-center gap-2 bg-pink-600 text-white px-4 py-2.5 rounded-lg hover:bg-pink-700 transition-colors shadow-sm text-sm font-medium",children:[d.jsx(Kr,{className:"w-4 h-4"}),"Definir Teto"]})]})]}),f&&F.length>0&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 animate-fade-in-down mb-6",children:[d.jsx("div",{className:"mb-6",children:d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Hi,{className:"w-5 h-5 text-indigo-500"}),"Performance Histrica (ltimos 6 Meses)"]})}),d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(Yo,{width:"100%",height:"100%",children:d.jsxs(PT,{data:F,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(su,{strokeDasharray:"3 3",horizontal:!1,stroke:"#e2e8f0",opacity:.5}),d.jsx(pi,{type:"number",hide:!0}),d.jsx(mi,{dataKey:"name",type:"category",width:100,tick:{fill:"#64748b",fontSize:12,fontWeight:500},axisLine:!1,tickLine:!1}),d.jsx(rn,{cursor:{fill:"transparent"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:L=>[`${L.toFixed(0)}%`,"Mdia de Uso"]}),d.jsx(Qf,{x:100,stroke:"#ef4444",strokeDasharray:"3 3"}),d.jsx(hi,{dataKey:"adherence",radius:[0,4,4,0],barSize:20,children:F.map((L,z)=>d.jsx(Sa,{fill:L.adherence>100?"#ef4444":L.adherence>85?"#f59e0b":"#10b981"},`cell-${z}`))})]})})})]}),u&&d.jsxs("form",{onSubmit:k,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[d.jsx("div",{className:"col-span-1 md:col-span-2",children:d.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Novo Limite de Gastos"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:"Categoria"}),d.jsx("select",{value:E.category,onChange:L=>N({...E,category:L.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-pink-500",children:xIe.map(L=>d.jsx("option",{value:L,children:L},L))})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:"Valor Teto (R$)"}),d.jsx("input",{required:!0,type:"number",placeholder:"Ex: 1000.00",value:E.limit,onChange:L=>N({...E,limit:L.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-pink-500"})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 bg-slate-50 dark:bg-slate-700/50 p-3 rounded-lg border border-slate-100 dark:border-slate-700",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx("input",{type:"checkbox",id:"isRecurringBudget",checked:E.isRecurring,onChange:L=>N({...E,isRecurring:L.target.checked}),className:"w-4 h-4 text-pink-600 rounded"}),d.jsxs("label",{htmlFor:"isRecurringBudget",className:"text-sm font-medium text-slate-700 dark:text-slate-200 flex items-center gap-1 cursor-pointer",children:[d.jsx(ra,{className:"w-4 h-4"})," Oramento Recorrente?"]})]}),E.isRecurring?d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[d.jsx(JB,{className:"w-3 h-3"})," Este limite ser aplicado automaticamente em todos os meses futuros."]}):d.jsxs("div",{className:"animate-fade-in",children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 block mb-1",children:"Ms de Referncia"}),d.jsx("input",{type:"month",required:!E.isRecurring,value:E.month,onChange:L=>N({...E,month:L.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 outline-none w-full max-w-[200px]"})]})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-2 mt-2",children:[d.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700 font-medium",children:"Salvar Teto"})]})]}),d.jsxs("div",{className:"mb-10",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[d.jsx(Fx,{className:"w-5 h-5 text-rose-500"})," Tetos de Gastos"]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:q.length===0?d.jsxs("div",{className:"col-span-full py-12 text-center bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[d.jsx(ia,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"Nenhum teto definido."})]}):q.map(L=>{const z=D(L.category),G=j(z),Y=Math.min(100,z/L.limit*100),H=G?Math.min(100,G/L.limit*100):0,J=z>L.limit;let ce="bg-emerald-500",W=d.jsx(zx,{className:"w-5 h-5 text-emerald-600"});return Y>100?(ce="bg-rose-500",W=d.jsx(Fx,{className:"w-5 h-5 text-rose-600"})):Y>85?(ce="bg-rose-500",W=d.jsx(nm,{className:"w-5 h-5 text-rose-500"})):Y>70&&(ce="bg-amber-500",W=d.jsx(nm,{className:"w-5 h-5 text-amber-500"})),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-all relative group",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2.5 rounded-lg bg-slate-100 dark:bg-slate-700",children:W}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:L.category}),d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[L.isRecurring?d.jsx(ra,{className:"w-3 h-3"}):d.jsx(bd,{className:"w-3 h-3"}),L.isRecurring?"Mensal":"Especfico"]})]})]}),b===L.id?d.jsxs("div",{className:"flex items-center gap-1 animate-fade-in",children:[d.jsx("input",{autoFocus:!0,type:"number",className:"w-20 p-1 text-sm border rounded bg-white dark:bg-slate-900 dark:text-white dark:border-slate-600",value:_,onChange:oe=>w(oe.target.value),onKeyDown:oe=>oe.key==="Enter"&&P(L.id)}),d.jsx("button",{onClick:()=>P(L.id),className:"p-1 bg-emerald-100 text-emerald-600 rounded hover:bg-emerald-200",children:d.jsx(u6,{className:"w-3 h-3"})}),d.jsx("button",{onClick:()=>x(null),className:"p-1 bg-slate-100 text-slate-600 rounded hover:bg-slate-200",children:d.jsx(_r,{className:"w-3 h-3"})})]}):d.jsxs("div",{className:"text-right group-hover:hidden",children:[d.jsx("p",{className:"text-xs text-slate-500",children:"Limite"}),d.jsx("p",{className:"font-bold text-slate-800 dark:text-white cursor-pointer hover:text-indigo-500",onClick:()=>R(L),children:O(L.limit)})]}),d.jsxs("div",{className:"hidden group-hover:flex gap-1 absolute top-4 right-4 bg-white dark:bg-slate-800 pl-2",children:[d.jsx("button",{onClick:()=>R(L),className:"p-1.5 text-slate-400 hover:text-indigo-500 hover:bg-indigo-50 rounded",children:d.jsx(SD,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>o(L.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded",children:d.jsx(gu,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"space-y-2 relative",children:[d.jsxs("div",{className:"flex justify-between items-end text-sm",children:[d.jsxs("span",{className:"text-slate-600 dark:text-slate-300 font-medium",children:["Gasto: ",d.jsx("span",{className:J?"text-rose-500 font-bold":"",children:O(z)})]}),d.jsxs("span",{className:"text-slate-400 text-xs",children:[Y.toFixed(0),"%"]})]}),d.jsxs("div",{className:"w-full h-3 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden relative",children:[G&&G>z&&!J&&d.jsx("div",{className:"absolute top-0 left-0 h-full bg-slate-200 dark:bg-slate-600 opacity-50 border-r-2 border-slate-400 dark:border-slate-400 transition-all duration-1000",style:{width:`${H}%`},title:`Previso de fechar o ms em ${O(G)}`}),d.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${ce} relative z-10`,style:{width:`${Y}%`}})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[G&&G>L.limit&&!J&&d.jsxs("p",{className:"text-[10px] text-amber-600 dark:text-amber-400 flex items-center gap-1 font-semibold animate-pulse",children:[d.jsx(zB,{className:"w-3 h-3"})," Previso de estouro: ",O(G)]}),d.jsx("div",{className:"flex-1"}),d.jsx("p",{className:"text-xs text-right font-medium",children:J?d.jsxs("span",{className:"text-rose-500",children:["Excedido: ",O(z-L.limit)]}):d.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400",children:["Restam: ",O(L.limit-z)]})})]})]})]},L.id)})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200 flex items-center gap-2",children:[d.jsx(jA,{className:"w-5 h-5 text-yellow-500"})," Objetivos de Conquista"]}),d.jsxs("button",{onClick:()=>s(Le.INVESTMENTS),className:"text-xs font-semibold text-indigo-600 hover:text-indigo-700 dark:text-indigo-400 flex items-center gap-1 transition-colors",children:["Gerenciar Carteira ",d.jsx(r1,{className:"w-3 h-3"})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:V.length===0?d.jsxs("div",{className:"col-span-full py-8 text-center bg-yellow-50/50 dark:bg-yellow-900/10 rounded-xl border border-dashed border-yellow-200 dark:border-yellow-800",children:[d.jsx(ia,{className:"w-10 h-10 text-yellow-400 mx-auto mb-2"}),d.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:'Defina uma "Meta Final" nos seus investimentos para v-los aqui.'}),d.jsx("button",{onClick:()=>s(Le.INVESTMENTS),className:"mt-3 text-xs bg-yellow-100 hover:bg-yellow-200 text-yellow-700 px-3 py-1.5 rounded-lg font-bold transition-colors",children:"Ir para Investimentos"})]}):V.map(L=>{const z=Math.min(100,L.amount/L.targetAmount*100);return d.jsxs("div",{onClick:()=>s(Le.INVESTMENTS),className:"bg-gradient-to-br from-white to-yellow-50 dark:from-slate-800 dark:to-slate-800/50 p-6 rounded-xl shadow-sm border border-yellow-200 dark:border-yellow-900/30 relative overflow-hidden cursor-pointer hover:shadow-md hover:scale-[1.02] transition-all group",children:[d.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(_D,{className:"w-4 h-4 text-slate-400"})}),d.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2.5 rounded-lg bg-yellow-100 text-yellow-600 dark:bg-yellow-900/30 dark:text-yellow-400",children:d.jsx(Hi,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-slate-800 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:L.name}),d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Meta: ",O(L.targetAmount)]})]})]}),d.jsx("div",{className:"text-right",children:d.jsxs("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:[z.toFixed(0),"%"]})})]}),d.jsx("div",{className:"w-full h-4 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden relative z-10",children:d.jsx("div",{className:"h-full bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full transition-all duration-1000 shadow-[0_0_10px_rgba(251,191,36,0.5)]",style:{width:`${z}%`},children:d.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/30 to-transparent -translate-x-full animate-[shimmer_2s_infinite]"})})}),d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2 text-right relative z-10",children:["Faltam ",O(L.targetAmount-L.amount)]}),d.jsx(jA,{className:"absolute -bottom-4 -right-4 w-32 h-32 text-yellow-500/5 rotate-12 pointer-events-none"})]},L.id)})})]})]})},wIe=({transactions:t,onUpdateTransaction:e,onDeleteTransaction:n,privacyMode:r})=>{const i=B.useMemo(()=>{const h=new Map;return t.filter(v=>v.type==="expense"&&v.isRecurring).forEach(v=>{const b=h.get(v.description);(!b||new Date(v.date)>new Date(b.date))&&h.set(v.description,v)}),Array.from(h.values()).sort((v,b)=>b.amount-v.amount)},[t]),o=i.reduce((h,y)=>h+y.amount,0),s=o*12,a=B.useMemo(()=>i.slice(0,10).map(h=>({name:h.description,amount:h.amount,annual:h.amount*12,color:h.amount>200?"#ef4444":h.amount>50?"#f59e0b":"#3b82f6"})),[i]),l=h=>r?"":`R$ ${h.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,u=h=>{confirm("Deseja parar de considerar este item como recorrente? Ele continuar como uma transao comum.")&&e(h,{isRecurring:!1})},c=h=>{const v=new Date(h).getDate(),b=new Date;let x=new Date(b.getFullYear(),b.getMonth(),v);x.setHours(0,0,0,0)<b.setHours(0,0,0,0)&&x.setMonth(x.getMonth()+1);const _=x.getTime()-b.getTime(),w=Math.ceil(_/(1e3*60*60*24));return w===0?{label:"Hoje",color:"text-rose-500 font-bold bg-rose-100 dark:bg-rose-900/30"}:w===1?{label:"Amanh",color:"text-amber-500 font-bold bg-amber-100 dark:bg-amber-900/30"}:{label:`em ${w} dias`,color:"text-slate-500 bg-slate-100 dark:bg-slate-700"}},f=({active:h,payload:y,label:v})=>{if(h&&y&&y.length){const b=y[0].payload;return d.jsxs("div",{className:"bg-white/95 dark:bg-slate-800/95 p-3 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 backdrop-blur-sm",children:[d.jsx("p",{className:"font-bold text-slate-800 dark:text-white mb-2 border-b border-slate-100 dark:border-slate-700 pb-1",children:b.name}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex justify-between gap-6 text-xs text-slate-500 dark:text-slate-400",children:[d.jsx("span",{children:"Mensalidade:"}),d.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:r?"":`R$ ${b.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})}`})]}),d.jsxs("div",{className:"flex justify-between gap-6 text-xs text-slate-500 dark:text-slate-400",children:[d.jsx("span",{children:"Custo Anual:"}),d.jsx("span",{className:"font-bold text-emerald-600 dark:text-emerald-400",children:r?"":`R$ ${b.annual.toLocaleString("pt-BR",{minimumFractionDigits:2})}`})]})]})]})}return null};return d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(ra,{className:"w-7 h-7 text-indigo-600"}),"Gesto de Assinaturas"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Gerencie seus gastos recorrentes e descubra o impacto anual das pequenas mensalidades."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-indigo-600 text-white p-6 rounded-xl shadow-lg relative overflow-hidden",children:[d.jsxs("div",{className:"relative z-10",children:[d.jsx("p",{className:"text-indigo-200 text-sm font-medium mb-1 uppercase tracking-wider",children:"Custo Mensal Real"}),d.jsx("h3",{className:"text-3xl font-bold",children:l(o)}),d.jsxs("p",{className:"text-indigo-200 text-xs mt-2 opacity-80",children:[i.length," assinaturas ativas"]})]}),d.jsx(bd,{className:"absolute right-4 bottom-4 w-24 h-24 text-indigo-500 opacity-20"})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 p-6 rounded-xl shadow-sm relative overflow-hidden",children:[d.jsxs("div",{className:"relative z-10",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1 uppercase tracking-wider",children:"Impacto Anual"}),d.jsx("h3",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:l(s)}),d.jsxs("p",{className:"text-emerald-500 text-xs mt-2 font-medium flex items-center gap-1",children:[d.jsx(Hi,{className:"w-3 h-3"}),"Projeo de 12 meses"]})]}),d.jsx(om,{className:"absolute right-4 bottom-4 w-24 h-24 text-slate-100 dark:text-slate-700"})]})]}),a.length>0&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 mb-4",children:[d.jsx(xd,{className:"w-5 h-5 text-indigo-500"}),"Ranking de Custos (Top 10)"]}),d.jsx("div",{className:"h-[250px] w-full",children:d.jsx(Yo,{width:"100%",height:"100%",children:d.jsxs(PT,{data:a,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(su,{strokeDasharray:"3 3",horizontal:!1,stroke:"#e2e8f0",opacity:.5}),d.jsx(pi,{type:"number",hide:!0}),d.jsx(mi,{dataKey:"name",type:"category",width:120,tick:{fill:"#64748b",fontSize:11,fontWeight:500},axisLine:!1,tickLine:!1}),d.jsx(rn,{content:d.jsx(f,{}),cursor:{fill:"transparent"}}),d.jsx(hi,{dataKey:"amount",radius:[0,4,4,0],barSize:20,children:a.map((h,y)=>d.jsx(Sa,{fill:h.color},`cell-${y}`))})]})})})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.length===0?d.jsxs("div",{className:"col-span-full py-12 text-center bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[d.jsx(ra,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"Nenhuma assinatura encontrada."}),d.jsx("p",{className:"text-slate-400 text-sm",children:'Marque a opo "Recorrente" ao adicionar uma despesa.'})]}):i.map(h=>{const y=c(h.date);return d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-all group relative",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{className:"overflow-hidden mr-2",children:[d.jsx("h4",{className:"font-bold text-slate-800 dark:text-white text-lg truncate mb-1",children:h.description}),d.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400",children:h.category})]}),d.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[d.jsx("button",{onClick:()=>u(h.id),className:"p-1.5 text-slate-400 hover:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/30 rounded-lg transition-colors",title:"Remover recorrncia",children:d.jsx(hD,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>n(h.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors",title:"Excluir assinatura",children:d.jsx(_r,{className:"w-4 h-4"})})]})]}),d.jsx("div",{className:"flex items-center justify-between mt-2 mb-4",children:d.jsxs("div",{className:`flex items-center gap-1.5 text-[10px] uppercase font-bold px-2 py-1 rounded-md ${y.color}`,children:[d.jsx(Zo,{className:"w-3 h-3"}),"Renova ",y.label]})}),d.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-xs text-slate-400 block",children:"Mensal"}),d.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:l(h.amount)})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:"text-xs text-slate-400 block",children:"Anual"}),d.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:l(h.amount*12)})]})]})]},h.id)})})]})},_Ie=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],EIe=["Casa","Mobilidade","Alimentos","Lazer","Sade","Educao","Pets","Salrio","Renda Extra","Investimentos","Outros"],TIe=[{value:"credit_card",label:"Crdito"},{value:"debit_card",label:"Dbito"},{value:"pix",label:"PIX"},{value:"cash",label:"Dinheiro"},{value:"direct_debit",label:"Dbito Auto."}],SIe=t=>{let e=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//NEXO Finance//PT-BR
`;t.forEach(i=>{const o=i.date.replace(/-/g,"");e+=`BEGIN:VEVENT
`,e+=`DTSTART;VALUE=DATE:${o}
`,e+=`DTEND;VALUE=DATE:${o}
`,e+=`SUMMARY:${i.description} (${i.type==="income"?"+":"-"} R$ ${i.amount})
`,e+=`DESCRIPTION:Categoria: ${i.category} | Status: ${i.status} ${i.observation?"| Obs: "+i.observation:""}
`,e+=`END:VEVENT
`}),e+="END:VCALENDAR";const n=new Blob([e],{type:"text/calendar;charset=utf-8"}),r=document.createElement("a");r.href=window.URL.createObjectURL(n),r.setAttribute("download","nexo_agenda.ics"),document.body.appendChild(r),r.click(),document.body.removeChild(r)},AIe=({transactions:t,budgets:e,onAddTransaction:n,privacyMode:r})=>{const[i,o]=B.useState(new Date),[s,a]=B.useState(new Date().getDate()),[l,u]=B.useState("all"),[c,f]=B.useState(!1),[h,y]=B.useState({description:"",amount:"",type:"expense",category:"Outros",paymentMethod:"credit_card",status:"pending",observation:""}),v=i.getFullYear(),b=i.getMonth(),x=(V,j)=>new Date(V,j+1,0).getDate(),_=(V,j)=>new Date(V,j,1).getDay(),w=x(v,b),E=_(v,b),N=B.useMemo(()=>{const V=[],j=new Date,F=j.getMonth(),L=j.getFullYear(),z=j.toISOString().slice(0,7);return e.forEach(G=>{if(!(G.isRecurring&&!e.some(J=>J.category===G.category&&J.month===z&&!J.isRecurring)||G.month===z))return;t.filter(J=>J.type==="expense"&&J.category===G.category&&new Date(J.date).getMonth()===F&&new Date(J.date).getFullYear()===L).reduce((J,ce)=>J+ce.amount,0)>=G.limit&&V.push({title:`Limite Excedido: ${G.category}`,message:"Voc estourou o teto definido para esta categoria.",type:"warning"})}),V},[e,t]),T=B.useMemo(()=>{const V=t.filter(G=>{const[Y,H]=G.date.split("-").map(Number);return Y===v&&H===b+1}),j=new Map;t.forEach(G=>{if(G.isRecurring){const Y=j.get(G.description);(!Y||new Date(G.date)>new Date(Y.date))&&j.set(G.description,G)}});const F=[],L=new Date;return new Date(v,b,1)>=new Date(L.getFullYear(),L.getMonth(),1)&&j.forEach(G=>{if(!V.some(H=>H.description===G.description&&H.amount===G.amount)){const H=new Date(G.date),J=H.getDate(),ce=Math.min(J,w);H<new Date(v,b+1,0)&&F.push({...G,id:`ghost-${G.id}-${v}-${b}`,date:`${v}-${String(b+1).padStart(2,"0")}-${String(ce).padStart(2,"0")}`,status:"pending",isGhost:!0})}}),[...V,...F].filter(G=>l==="all"?!0:l==="pending"?G.status==="pending":G.type===l)},[t,v,b,w,l]),C=B.useMemo(()=>s===null?[]:T.filter(V=>parseInt(V.date.split("-")[2])===s),[T,s]),A=B.useMemo(()=>{let V=0;for(let j=1;j<=w;j++){const F=T.filter(L=>parseInt(L.date.split("-")[2])===j&&L.type==="expense").reduce((L,z)=>L+z.amount,0);F>V&&(V=F)}return V||1},[T,w]),I=()=>{o(new Date(v,b-1,1)),a(null)},k=()=>{o(new Date(v,b+1,1)),a(null)},P=()=>{s&&(y({description:"",amount:"",type:"expense",category:"Outros",paymentMethod:"credit_card",status:"pending",observation:""}),f(!0))},R=V=>{if(V.preventDefault(),!s)return;const j=`${v}-${String(b+1).padStart(2,"0")}-${String(s).padStart(2,"0")}`;n({description:h.description,amount:parseFloat(h.amount),type:h.type,category:h.category,date:j,status:h.status,paymentMethod:h.paymentMethod,isRecurring:!1,observation:h.observation}),f(!1)},O=V=>r?"":V>=1e3?(V/1e3).toFixed(1)+"k":V.toFixed(0),D=V=>r?"":`R$ ${V.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,q=[];for(let V=0;V<E;V++)q.push(d.jsx("div",{className:"h-28 bg-slate-50/30 dark:bg-slate-800/30 border border-slate-100 dark:border-slate-700/50"},`empty-${V}`));for(let V=1;V<=w;V++){const j=T.filter(J=>parseInt(J.date.split("-")[2])===V),F=j.filter(J=>J.type==="income").reduce((J,ce)=>J+ce.amount,0),L=j.filter(J=>J.type==="expense").reduce((J,ce)=>J+ce.amount,0),z=Math.min(1,L/A);let G="bg-white dark:bg-slate-800";L>0&&(z>.7?G="bg-rose-100 dark:bg-rose-900/40":z>.4?G="bg-rose-50 dark:bg-rose-900/20":G="bg-slate-50 dark:bg-slate-800");const Y=new Date().getDate()===V&&new Date().getMonth()===b&&new Date().getFullYear()===v,H=s===V;q.push(d.jsxs("div",{onClick:()=>a(V),className:`h-28 p-1.5 border border-slate-100 dark:border-slate-700 relative cursor-pointer transition-all hover:brightness-95
          ${H?"ring-2 ring-inset ring-indigo-500 z-10":""}
          ${G}
        `,children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("span",{className:`text-xs font-bold inline-flex w-6 h-6 items-center justify-center rounded-full ${Y?"bg-indigo-600 text-white shadow-lg":"text-slate-500 dark:text-slate-400"}`,children:V}),j.some(J=>J.status==="pending")&&d.jsx("div",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full animate-pulse",title:"Pagamentos Pendentes"})]}),d.jsxs("div",{className:"mt-2 flex flex-col gap-0.5",children:[F>0&&d.jsxs("div",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-100/50 dark:bg-emerald-900/30 px-1 rounded truncate",children:["+",O(F)]}),L>0&&d.jsxs("div",{className:"text-[10px] font-bold text-rose-600 dark:text-rose-400 px-1 rounded truncate",children:["-",O(L)]}),j.some(J=>J.isGhost)&&d.jsx("div",{className:"absolute bottom-1 right-1 opacity-50",children:d.jsx(a1,{className:"w-3 h-3 text-slate-400"})})]})]},V))}return d.jsxs("div",{className:"space-y-6 animate-fade-in pb-20 md:pb-0 relative",children:[N.length>0&&d.jsx("div",{className:"space-y-2 mb-4",children:N.map((V,j)=>d.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-4 rounded-xl flex items-start gap-3 animate-fade-in-down shadow-sm",children:[d.jsx("div",{className:"bg-amber-100 dark:bg-amber-800 p-2 rounded-full flex-shrink-0",children:d.jsx(i1,{className:"w-5 h-5 text-amber-600 dark:text-amber-300"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-amber-800 dark:text-amber-300 text-sm",children:V.title}),d.jsx("p",{className:"text-amber-700 dark:text-amber-400 text-xs mt-0.5",children:V.message})]})]},j))}),c&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-scale-in border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Nova Transao"}),d.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-semibold flex items-center gap-1",children:[d.jsx(bd,{className:"w-3 h-3"}),s," de ",i.toLocaleDateString("pt-BR",{month:"long"})]})]}),d.jsx("button",{onClick:()=>f(!1),className:"text-slate-400 hover:text-slate-600",children:d.jsx(_r,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:R,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"O que ?"}),d.jsxs("div",{className:"relative",children:[d.jsx(kB,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"}),d.jsx("input",{autoFocus:!0,required:!0,type:"text",placeholder:"Ex: Mercado, Conta de Luz...",value:h.description,onChange:V=>y({...h,description:V.target.value}),className:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Valor (R$)"}),d.jsxs("div",{className:"relative",children:[d.jsx(om,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"}),d.jsx("input",{required:!0,type:"number",step:"0.01",placeholder:"0,00",value:h.amount,onChange:V=>y({...h,amount:V.target.value}),className:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Tipo"}),d.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 rounded-xl p-1",children:[d.jsx("button",{type:"button",onClick:()=>y({...h,type:"expense"}),className:`flex-1 py-1.5 text-xs font-bold rounded-lg transition-colors ${h.type==="expense"?"bg-white dark:bg-slate-600 text-rose-600 shadow-sm":"text-slate-500"}`,children:"Sada"}),d.jsx("button",{type:"button",onClick:()=>y({...h,type:"income"}),className:`flex-1 py-1.5 text-xs font-bold rounded-lg transition-colors ${h.type==="income"?"bg-white dark:bg-slate-600 text-emerald-600 shadow-sm":"text-slate-500"}`,children:"Entrada"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Categoria"}),d.jsxs("div",{className:"relative",children:[d.jsx(AD,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"}),d.jsx("select",{value:h.category,onChange:V=>y({...h,category:V.target.value}),className:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 appearance-none",children:EIe.map(V=>d.jsx("option",{value:V,children:V},V))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Pagamento"}),d.jsxs("div",{className:"relative",children:[d.jsx(im,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"}),d.jsx("select",{value:h.paymentMethod,onChange:V=>y({...h,paymentMethod:V.target.value}),className:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 appearance-none",children:TIe.map(V=>d.jsx("option",{value:V.value,children:V.label},V.value))})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Status"}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("label",{className:`flex-1 cursor-pointer border rounded-xl p-3 flex items-center justify-center gap-2 transition-all ${h.status==="paid"?"bg-emerald-50 border-emerald-500 text-emerald-700 dark:bg-emerald-900/20":"border-slate-200 dark:border-slate-700"}`,children:[d.jsx("input",{type:"radio",name:"status",className:"hidden",checked:h.status==="paid",onChange:()=>y({...h,status:"paid"})}),d.jsx(Gx,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm font-semibold",children:"Pago / Recebido"})]}),d.jsxs("label",{className:`flex-1 cursor-pointer border rounded-xl p-3 flex items-center justify-center gap-2 transition-all ${h.status==="pending"?"bg-amber-50 border-amber-500 text-amber-700 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700"}`,children:[d.jsx("input",{type:"radio",name:"status",className:"hidden",checked:h.status==="pending",onChange:()=>y({...h,status:"pending"})}),d.jsx(rm,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm font-semibold",children:"Pendente"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Observaes (Opcional)"}),d.jsx("input",{type:"text",placeholder:"Detalhes adicionais...",value:h.observation,onChange:V=>y({...h,observation:V.target.value}),className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500"})]}),d.jsxs("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-lg shadow-indigo-500/20 transition-all flex items-center justify-center gap-2 mt-4",children:[d.jsx(Kr,{className:"w-5 h-5"})," Adicionar Transao"]})]})]})}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Zo,{className:"w-7 h-7 text-indigo-600"}),"Agenda Financeira"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Previso de gastos e controle de vencimentos."})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full md:w-auto",children:[d.jsx("button",{onClick:()=>SIe(T),className:"p-2 text-slate-500 hover:text-indigo-600 border border-slate-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800",title:"Exportar para Google Calendar / Outlook (.ics)",children:d.jsx(yD,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-1 flex-1 md:flex-none justify-center",children:[d.jsx("button",{onClick:I,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:d.jsx(o1,{className:"w-5 h-5"})}),d.jsx("div",{className:"px-4 font-semibold text-slate-700 dark:text-slate-200 capitalize min-w-[140px] text-center",children:i.toLocaleDateString("pt-BR",{month:"long",year:"numeric"})}),d.jsx("button",{onClick:k,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:d.jsx(e0,{className:"w-5 h-5"})})]})]})]}),d.jsx("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl gap-1 overflow-x-auto",children:[{id:"all",label:"Tudo",icon:xD},{id:"expense",label:"Sadas",icon:RA},{id:"income",label:"Entradas",icon:OA},{id:"pending",label:"Pendentes",icon:rm}].map(V=>d.jsxs("button",{onClick:()=>u(V.id),className:`flex-1 min-w-[80px] py-2 text-xs font-semibold rounded-lg transition-all flex items-center justify-center gap-2
                    ${l===V.id?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[d.jsx(V.icon,{className:"w-3 h-3"})," ",V.label]},V.id))}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[d.jsx("div",{className:"grid grid-cols-7 bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:_Ie.map(V=>d.jsx("div",{className:"py-3 text-center text-xs font-bold uppercase text-slate-500 dark:text-slate-400",children:V},V))}),d.jsx("div",{className:"grid grid-cols-7",children:q})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-0 overflow-hidden flex flex-col h-full min-h-[400px]",children:[d.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-900/50",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:s?`${s} de ${i.toLocaleDateString("pt-BR",{month:"long"})}`:"Resumo do Ms"}),s&&d.jsxs("button",{onClick:P,className:"mt-3 w-full py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-colors",children:[d.jsx(Kr,{className:"w-4 h-4"})," Adicionar neste dia"]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[s&&C.length===0&&d.jsxs("div",{className:"text-center py-10",children:[d.jsx(bd,{className:"w-12 h-12 text-slate-200 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Nenhuma movimentao."})]}),!s&&d.jsxs("div",{className:"text-center py-10",children:[d.jsx("div",{className:"inline-block p-4 rounded-full bg-slate-100 dark:bg-slate-700 mb-4",children:d.jsx(Zo,{className:"w-8 h-8 text-indigo-500"})}),d.jsx("p",{className:"text-slate-500 font-medium",children:"Selecione um dia"}),d.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Clique no calendrio para ver detalhes ou adicionar contas."})]}),C.map((V,j)=>d.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${V.isGhost?"bg-slate-50 dark:bg-slate-800 border-dashed border-indigo-300 dark:border-indigo-700":"bg-white dark:bg-slate-700/50 border-slate-100 dark:border-slate-700"}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-full ${V.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100 text-rose-600 dark:bg-rose-900/30 dark:text-rose-400"}`,children:V.type==="income"?d.jsx(OA,{className:"w-4 h-4"}):d.jsx(RA,{className:"w-4 h-4"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"font-semibold text-slate-800 dark:text-white text-sm line-clamp-1",children:V.description}),V.isGhost&&d.jsx("span",{className:"text-[9px] bg-indigo-100 text-indigo-600 px-1.5 rounded uppercase font-bold",children:"Previsto"})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:V.category}),V.observation&&d.jsx("p",{className:"text-[10px] text-slate-400 italic mt-0.5",children:V.observation})]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:`font-bold text-sm ${V.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-slate-700 dark:text-slate-300"}`,children:D(V.amount)}),V.type==="expense"&&d.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${V.status==="pending"?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"}`,children:V.status==="pending"?"Pendente":"Pago"})]})]},V.id||j))]})]})]})]})},IIe=({data:t,privacyMode:e})=>{const[n,r]=B.useState([]),[i,o]=B.useState(""),[s,a]=B.useState(!1),[l,u]=B.useState(!1),c=B.useRef(null),f=B.useRef(null);B.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const x=window.SpeechRecognition||window.webkitSpeechRecognition;f.current=new x,f.current.continuous=!1,f.current.lang="pt-BR",f.current.interimResults=!1,f.current.onresult=_=>{const w=_.results[0][0].transcript;o(w),u(!1)},f.current.onerror=_=>{console.error("Speech error",_),u(!1)},f.current.onend=()=>{u(!1)}}},[]);const h=()=>{var x;(x=c.current)==null||x.scrollIntoView({behavior:"smooth"})};B.useEffect(()=>{h()},[n,s]);const y=()=>{var x;if(l)(x=f.current)==null||x.stop(),u(!1);else if(f.current)try{f.current.start(),u(!0)}catch(_){console.error(_)}else alert("Seu navegador no suporta reconhecimento de voz.")},v=async x=>{const _=i;if(!_.trim())return;const w={id:crypto.randomUUID(),role:"user",content:_,timestamp:new Date};r(T=>[...T,w]),o(""),a(!0);const E=crypto.randomUUID(),N={id:E,role:"assistant",content:"",timestamp:new Date};r(T=>[...T,N]);try{const T=ZZ(_,n,t);let C="";for await(const A of T)C+=A,r(I=>I.map(k=>k.id===E?{...k,content:C}:k))}catch{r(C=>C.map(A=>A.id===E?{...A,content:"Desculpe, tive um erro ao processar sua resposta."}:A))}finally{a(!1)}},b=x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),v())};return d.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] animate-fade-in",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"bg-gradient-to-tr from-indigo-500 to-purple-600 p-3 rounded-xl shadow-lg shadow-indigo-500/20",children:d.jsx(Ws,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Assistente Inteligente"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Pergunte sobre seus gastos, investimentos ou pea conselhos."})]})]}),d.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 dark:bg-slate-900/50",children:[n.length===0&&d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 space-y-4 opacity-60",children:[d.jsx(Ux,{className:"w-16 h-16"}),d.jsxs("p",{className:"text-sm",children:["Estou analisando seus dados em tempo real.",d.jsx("br",{}),"Como posso ajudar hoje?"]})]}),n.map(x=>d.jsx("div",{className:`flex w-full ${x.role==="user"?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`flex max-w-[85%] md:max-w-[75%] gap-3 ${x.role==="user"?"flex-row-reverse":"flex-row"}`,children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${x.role==="user"?"bg-slate-200 dark:bg-slate-700":"bg-indigo-600"}`,children:x.role==="user"?d.jsx(x6,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"}):d.jsx(Ux,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{className:`p-4 rounded-2xl shadow-sm text-sm whitespace-pre-line leading-relaxed
                      ${x.role==="user"?"bg-white dark:bg-slate-700 text-slate-800 dark:text-white rounded-tr-none":"bg-indigo-600 text-white rounded-tl-none prose prose-invert max-w-none"}`,children:[x.content,s&&x.content===""&&d.jsxs("span",{className:"inline-flex gap-1",children:[d.jsx("span",{className:"w-1.5 h-1.5 bg-white/60 rounded-full animate-bounce"}),d.jsx("span",{className:"w-1.5 h-1.5 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"100ms"}}),d.jsx("span",{className:"w-1.5 h-1.5 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"200ms"}})]})]})]})},x.id)),d.jsx("div",{ref:c})]}),d.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"relative flex items-center gap-2",children:[d.jsx("button",{onClick:y,className:`p-3 rounded-xl transition-all ${l?"bg-rose-500 text-white animate-pulse shadow-lg shadow-rose-500/30":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,title:"Falar comando",children:l?d.jsx(y6,{className:"w-5 h-5"}):d.jsx(r6,{className:"w-5 h-5"})}),d.jsx("input",{type:"text",value:i,onChange:x=>o(x.target.value),onKeyDown:b,placeholder:l?"Ouvindo...":"Digite uma mensagem...",className:"flex-1 bg-slate-100 dark:bg-slate-700 dark:text-white border-0 rounded-xl px-4 py-3 focus:ring-2 focus:ring-indigo-500 outline-none",disabled:s}),d.jsx("button",{onClick:()=>v(),disabled:!i.trim()||s,className:"p-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-lg shadow-indigo-500/20",children:d.jsx(d6,{className:"w-5 h-5"})})]}),d.jsx("p",{className:"text-center text-[10px] text-slate-400 mt-2",children:"A IA pode cometer erros. Verifique informaes importantes."})]})]})]})},kIe=["Serasa Limpa Nome","Acordo Certo","Desenrola Brasil","SPC Brasil","Boa Vista (Consumidor Positivo)","Direto com Banco/Credor","QueroQuitar","Pessoal/Famlia","Outros"],CIe=({debts:t,onAdd:e,onUpdate:n,onDelete:r,onAddTransaction:i,privacyMode:o,quickActionSignal:s})=>{const[a,l]=B.useState(!1),[u,c]=B.useState("all"),[f,h]=B.useState({isOpen:!1,debtId:""}),[y,v]=B.useState({date:new Date().toISOString().split("T")[0],amount:"",installments:1}),[b,x]=B.useState({isOpen:!1,debtId:"",currentValue:0}),[_,w]=B.useState("1"),[E,N]=B.useState({creditor:"",originalAmount:"",currentAmount:"",targetAmount:"",dueDate:"",status:"open",platform:"Serasa Limpa Nome",customPlatform:"",notes:""});B.useEffect(()=>{s&&Date.now()-s<2e3&&(l(!0),N({creditor:"",originalAmount:"",currentAmount:"",targetAmount:"",dueDate:"",status:"open",platform:"Serasa Limpa Nome",customPlatform:"",notes:""}))},[s]);const T=j=>{const F=new Date(j);return(new Date().getTime()-F.getTime())/(1e3*60*60*24*365.25)>=5},C=B.useMemo(()=>{let j=[...t];return u==="active"?j=j.filter(F=>!T(F.dueDate)):u==="prescribed"&&(j=j.filter(F=>T(F.dueDate))),j.sort((F,L)=>{const z=H=>H.status==="paid"?500:H.status==="agreement"?1:H.status==="negotiating"?2:T(H.dueDate)?4:3,G=z(F),Y=z(L);return G!==Y?G-Y:L.currentAmount-F.currentAmount})},[t,u]),A=j=>{j.preventDefault();const F=E.targetAmount?parseFloat(E.targetAmount):0,L=E.platform==="Outros"?E.customPlatform:E.platform;e({creditor:E.creditor,originalAmount:parseFloat(E.originalAmount),currentAmount:parseFloat(E.currentAmount),targetAmount:F,dueDate:E.dueDate,status:E.status,platform:L,notes:E.notes}),N({creditor:"",originalAmount:"",currentAmount:"",targetAmount:"",dueDate:"",status:"open",platform:"Serasa Limpa Nome",customPlatform:"",notes:""}),l(!1)},I=(j,F)=>{if(F==="agreement"&&j.status!=="agreement"){h({isOpen:!0,debtId:j.id});const L=j.targetAmount>0?j.targetAmount:j.currentAmount;v({date:new Date().toISOString().split("T")[0],amount:L.toString(),installments:1})}else n(j.id,{status:F})},k=j=>{j.preventDefault();const F=t.find(H=>H.id===f.debtId);if(!F)return;const L=parseFloat(y.amount),z=Math.max(1,Math.floor(y.installments)),G=L/z;n(F.id,{status:"agreement",agreedAmount:L});const Y=new Date(y.date);for(let H=0;H<z;H++){const J=new Date(Y);J.setMonth(Y.getMonth()+H);const ce=z>1?`Acordo: ${F.creditor} (${H+1}/${z})`:`Acordo: ${F.creditor}`;i({description:ce,amount:parseFloat(G.toFixed(2)),type:"expense",category:"Outros",date:J.toISOString().split("T")[0],status:"pending",paymentMethod:"pix",debtId:F.id})}alert(`Acordo registrado! ${z>1?`${z} parcelas agendadas`:"Pagamento agendado"}. A dvida ser quitada automaticamente quando todas as parcelas forem pagas.`),h({isOpen:!1,debtId:""})},P=j=>{x({isOpen:!0,debtId:j.id,currentValue:j.currentAmount}),w("1")},R=()=>{const j=t.find(F=>F.id===b.debtId);if(j){const F=parseFloat(_),L=j.currentAmount*(1+F/100);n(j.id,{currentAmount:L})}x({isOpen:!1,debtId:"",currentValue:0})},O=j=>o?"":`R$ ${j.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,D=t.filter(j=>j.status!=="paid").reduce((j,F)=>j+F.currentAmount,0),q=t.filter(j=>j.status!=="paid").reduce((j,F)=>j+F.targetAmount,0),V=t.filter(j=>j.status!=="paid"&&j.targetAmount>0).reduce((j,F)=>j+(F.currentAmount-F.targetAmount),0);return d.jsxs("div",{className:"space-y-6 animate-fade-in relative",children:[b.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-sm p-6 animate-scale-in",children:[d.jsx("div",{className:"flex justify-between items-center mb-4",children:d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Hi,{className:"w-5 h-5 text-rose-500"})," Atualizar Juros"]})}),d.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"O efeito bola de neve  real. Atualize o valor para manter o controle."}),d.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700 p-3 rounded-lg mb-4 flex justify-between items-center",children:[d.jsx("span",{className:"text-xs font-bold uppercase text-slate-500",children:"Valor Atual"}),d.jsx("span",{className:"font-mono font-bold text-slate-700 dark:text-white",children:O(b.currentValue)})]}),d.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[d.jsx("button",{onClick:()=>w("1"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-colors ${_==="1"?"bg-rose-100 text-rose-600 border border-rose-200":"bg-slate-50 dark:bg-slate-700 text-slate-500"}`,children:"+1%"}),d.jsx("button",{onClick:()=>w("2"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-colors ${_==="2"?"bg-rose-100 text-rose-600 border border-rose-200":"bg-slate-50 dark:bg-slate-700 text-slate-500"}`,children:"+2%"}),d.jsx("button",{onClick:()=>w("5"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-colors ${_==="5"?"bg-rose-100 text-rose-600 border border-rose-200":"bg-slate-50 dark:bg-slate-700 text-slate-500"}`,children:"+5%"}),d.jsxs("div",{className:"relative w-20",children:[d.jsx("input",{type:"number",value:_,onChange:j=>w(j.target.value),className:"w-full py-2 pl-2 pr-4 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 text-xs font-bold text-center outline-none focus:border-rose-500"}),d.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-slate-400",children:"%"})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>x({isOpen:!1,debtId:"",currentValue:0}),className:"flex-1 py-2.5 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg text-sm font-bold",children:"Cancelar"}),d.jsx("button",{onClick:R,className:"flex-1 py-2.5 bg-rose-600 text-white rounded-lg text-sm font-bold shadow-lg shadow-rose-500/20",children:"Aplicar"})]})]})}),f.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 border border-emerald-500/30 animate-scale-in",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4 text-emerald-600 dark:text-emerald-400",children:[d.jsx(Mh,{className:"w-8 h-8"}),d.jsx("h3",{className:"text-xl font-bold",children:"Oficializar Acordo"})]}),d.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm mb-6",children:"Qual foi o valor final negociado? Vamos atualizar o card e agendar o(s) pagamento(s)."}),d.jsxs("form",{onSubmit:k,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Valor Total Fechado (R$)"}),d.jsx("input",{type:"number",required:!0,step:"0.01",placeholder:"Valor total a pagar",value:y.amount,onChange:j=>v({...y,amount:j.target.value}),className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white font-bold text-lg outline-none focus:ring-2 focus:ring-emerald-500"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"1 Parcela"}),d.jsx("input",{type:"date",required:!0,value:y.date,onChange:j=>v({...y,date:j.target.value}),className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-emerald-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"N Parcelas"}),d.jsxs("div",{className:"relative",children:[d.jsx(a1,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx("input",{type:"number",required:!0,min:"1",max:"60",value:y.installments,onChange:j=>v({...y,installments:parseInt(j.target.value)}),className:"w-full p-3 pl-9 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-emerald-500"})]})]})]}),d.jsxs("div",{className:"flex gap-3 mt-6",children:[d.jsx("button",{type:"button",onClick:()=>h({isOpen:!1,debtId:""}),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-200 rounded-lg font-medium",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"flex-1 py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-bold shadow-lg shadow-emerald-500/30",children:"Gerar Parcelas"})]})]})]})}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(_d,{className:"w-7 h-7 text-rose-600"}),"Gesto de Dvidas (Limpa Nome)"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Controle suas pendncias e foque no que realmente importa."})]}),d.jsxs("button",{onClick:()=>l(!a),className:"flex items-center gap-2 bg-rose-600 text-white px-4 py-2 rounded-lg hover:bg-rose-700 transition-colors shadow-sm",children:[d.jsx(Kr,{className:"w-4 h-4"}),"Registrar Dvida"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-rose-100 dark:border-rose-900/30 shadow-sm",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-semibold uppercase",children:"Total da Dvida (Banco)"}),d.jsx("h3",{className:"text-2xl font-bold text-rose-600 dark:text-rose-400",children:O(D)}),d.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Valor cheio com juros"})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-emerald-100 dark:border-emerald-900/30 shadow-sm",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-semibold uppercase",children:"Valor para Quitao (Alvo)"}),d.jsx("h3",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:O(q)}),d.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Soma das metas definidas"})]}),d.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-600 text-white p-6 rounded-xl shadow-lg",children:[d.jsx("p",{className:"text-indigo-100 text-xs font-semibold uppercase",children:"Economia Potencial"}),d.jsx("h3",{className:"text-2xl font-bold",children:O(V)}),d.jsx("p",{className:"text-indigo-100 text-xs mt-1",children:"Baseado nas suas metas"})]})]}),a&&d.jsxs("form",{onSubmit:A,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-rose-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[d.jsx("div",{className:"col-span-1 md:col-span-2",children:d.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Registrar Nova Pendncia"})}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Instituio / Credor"}),d.jsx("input",{required:!0,type:"text",placeholder:"Ex: Banco X, Loja Y",value:E.creditor,onChange:j=>N({...E,creditor:j.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-rose-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Valor Original (R$)"}),d.jsx("input",{required:!0,type:"number",value:E.originalAmount,onChange:j=>N({...E,originalAmount:j.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Valor Atual c/ Juros (R$)"}),d.jsx("input",{required:!0,type:"number",value:E.currentAmount,onChange:j=>N({...E,currentAmount:j.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Data Vencimento Original"}),d.jsx("input",{required:!0,type:"date",value:E.dueDate,onChange:j=>N({...E,dueDate:j.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none"}),d.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"Importante para calcular a prescrio."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Meta de Acordo (Opcional)"}),d.jsx("input",{type:"number",placeholder:"Deixe em branco se no houver meta",value:E.targetAmount,onChange:j=>N({...E,targetAmount:j.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-emerald-500"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Plataforma de Negociao"}),d.jsx("select",{value:E.platform,onChange:j=>N({...E,platform:j.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none mb-2",children:kIe.map(j=>d.jsx("option",{value:j,children:j},j))}),E.platform==="Outros"&&d.jsx("div",{className:"animate-fade-in",children:d.jsx("input",{type:"text",placeholder:"Digite o nome da plataforma ou pessoa...",value:E.customPlatform,onChange:j=>N({...E,customPlatform:j.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-rose-500",autoFocus:!0})})]}),d.jsxs("div",{className:"md:col-span-2 flex justify-end gap-2 mt-2",children:[d.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 font-medium",children:"Salvar Dvida"})]})]}),d.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl gap-1 border border-slate-200 dark:border-slate-700",children:[d.jsxs("button",{onClick:()=>c("all"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2
               ${u==="all"?"bg-white dark:bg-slate-700 text-rose-600 dark:text-rose-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200/50 dark:hover:bg-slate-700/50"}`,children:[d.jsx(qx,{className:"w-4 h-4"}),"Todas"]}),d.jsxs("button",{onClick:()=>c("active"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2
               ${u==="active"?"bg-white dark:bg-slate-700 text-amber-600 dark:text-amber-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200/50 dark:hover:bg-slate-700/50"}`,children:[d.jsx(hD,{className:"w-4 h-4"}),"Ativas"]}),d.jsxs("button",{onClick:()=>c("prescribed"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2
               ${u==="prescribed"?"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200/50 dark:hover:bg-slate-700/50"}`,children:[d.jsx(CB,{className:"w-4 h-4"}),"Prescritas"]})]}),d.jsx("div",{className:"flex flex-col gap-4",children:t.length===0?d.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[d.jsx(Ls,{className:"w-12 h-12 text-emerald-500 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-800 dark:text-white font-medium",children:"Nome Limpo!"}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Nenhuma dvida registrada."})]}):C.length===0?d.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[d.jsx(qx,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Nenhuma dvida encontrada neste filtro."})]}):C.map(j=>{const F=T(j.dueDate),L=j.status==="paid",z=j.status==="agreement",G=j.targetAmount&&j.targetAmount>0,Y=j.agreedAmount&&j.agreedAmount>0,H=Y?j.agreedAmount:j.targetAmount,J=G||Y?(j.currentAmount-H)/j.currentAmount*100:0;return d.jsxs("div",{className:`p-6 rounded-xl border transition-all relative overflow-hidden group ${L?"bg-slate-50 border-slate-200 opacity-75 grayscale-[0.8] dark:bg-slate-900 dark:border-slate-700":z?"bg-gradient-to-r from-emerald-50 to-white border-emerald-300 dark:from-emerald-900/10 dark:to-slate-800 dark:border-emerald-800 shadow-md ring-1 ring-emerald-500/20":F?"bg-slate-50 border-slate-200 dark:bg-slate-800 dark:border-slate-700":"bg-white border-rose-100 dark:bg-slate-800 dark:border-slate-700 shadow-sm hover:shadow-md hover:border-rose-300"}`,children:[L&&d.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10 pointer-events-none opacity-80 rotate-[-15deg]",children:d.jsxs("div",{className:"border-4 border-slate-400 text-slate-400 text-6xl font-black px-4 py-1 rounded-lg uppercase tracking-widest flex items-center gap-2",children:[d.jsx(Bx,{className:"w-12 h-12"})," RESOLVIDO"]})}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-start gap-4 relative z-0",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[z?d.jsxs("span",{className:"bg-emerald-100 text-emerald-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[d.jsx(Mh,{className:"w-3 h-3"})," ACORDO FECHADO"]}):j.status==="negotiating"?d.jsxs("span",{className:"bg-amber-100 text-amber-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[d.jsx(Mh,{className:"w-3 h-3"})," EM NEGOCIAO"]}):F?d.jsxs("span",{className:"bg-slate-200 text-slate-600 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[d.jsx(MA,{className:"w-3 h-3"})," PRESCRITA"]}):L?d.jsxs("span",{className:"bg-emerald-100 text-emerald-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[d.jsx(Ls,{className:"w-3 h-3"})," QUITADA"]}):d.jsxs("span",{className:"bg-rose-100 text-rose-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[d.jsx(nm,{className:"w-3 h-3"})," ATIVA"]}),j.platform&&d.jsxs("span",{className:"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1 border border-indigo-100 dark:border-indigo-800",children:[d.jsx(qB,{className:"w-3 h-3"})," ",j.platform]}),d.jsxs("span",{className:"text-xs text-slate-400 flex items-center gap-1 ml-auto md:ml-0",children:[d.jsx(bd,{className:"w-3 h-3"}),new Date(j.dueDate).toLocaleDateString("pt-BR")]})]}),d.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:j.creditor}),d.jsxs("div",{className:"mt-3 flex flex-wrap gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-slate-500",children:"Valor Original"}),d.jsx("p",{className:"font-medium text-slate-700 dark:text-slate-300",children:O(j.originalAmount)})]}),d.jsx("div",{className:"flex items-center text-slate-400",children:d.jsx(r1,{className:"w-4 h-4"})}),d.jsxs("div",{className:"group/value cursor-pointer",onClick:()=>!L&&!z&&P(j),title:"Clique para atualizar juros",children:[d.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1",children:["Valor Atual",!L&&!z&&d.jsx(Hi,{className:"w-3 h-3 text-rose-500 opacity-50 group-hover/value:opacity-100"})]}),d.jsx("p",{className:`font-bold transition-colors ${L?"text-slate-500":F?"text-slate-600 dark:text-slate-400":"text-rose-600 group-hover/value:text-rose-700"}`,children:O(j.currentAmount)})]})]})]}),d.jsx("div",{className:`p-3 rounded-lg border min-w-[200px] flex flex-col justify-center ${z?"bg-white border-emerald-200 shadow-sm":"bg-slate-50 dark:bg-slate-700/50 border-slate-100 dark:border-slate-700"}`,children:z&&Y?d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-xs text-emerald-500 font-bold mb-1 flex items-center gap-1",children:[d.jsx(Ls,{className:"w-3 h-3"})," Valor Acordado"]}),d.jsx("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:O(j.agreedAmount)}),d.jsxs("p",{className:"text-[10px] text-emerald-600/70 mt-1",children:["Economia de ",J.toFixed(0),"%"]})]}):G?d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium mb-1 flex items-center gap-1",children:[d.jsx(ia,{className:"w-3 h-3 text-slate-400"})," Meta de Acordo"]}),d.jsx("p",{className:"text-xl font-bold text-emerald-600 dark:text-emerald-400",children:O(j.targetAmount)}),d.jsxs("p",{className:"text-[10px] text-emerald-600/70 mt-1",children:["Desconto Alvo: ",J.toFixed(0),"%"]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-xs text-slate-400 font-medium mb-1 flex items-center gap-1",children:[d.jsx(YB,{className:"w-3 h-3"})," Meta"]}),d.jsx("p",{className:"text-sm font-semibold text-slate-400 dark:text-slate-500 italic",children:"Sem meta definida"})]})}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("select",{value:j.status,onChange:ce=>I(j,ce.target.value),className:`text-xs border rounded-lg p-1.5 outline-none font-medium cursor-pointer ${z?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-200"}`,children:[d.jsx("option",{value:"open",children:"Em Aberto"}),d.jsx("option",{value:"negotiating",children:"Em Negociao"}),d.jsx("option",{value:"agreement",children:"Acordo Fechado"}),d.jsx("option",{value:"paid",children:"Quitado"})]}),d.jsx("button",{onClick:()=>r(j.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors self-end",title:"Excluir Registro",children:d.jsx(gu,{className:"w-4 h-4"})})]})]}),d.jsx("div",{className:"mt-4 pt-3 border-t border-slate-100 dark:border-slate-700/50 text-xs flex items-start gap-2",children:L?d.jsxs("p",{className:"text-emerald-600 dark:text-emerald-400 flex items-center gap-1 font-medium",children:[d.jsx(Ls,{className:"w-4 h-4"})," Dvida liquidada com sucesso. Parabns pela organizao!"]}):z?d.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-2 rounded w-full",children:[d.jsxs("p",{className:"text-emerald-700 dark:text-emerald-300 flex items-center gap-1 font-semibold",children:[d.jsx(Zo,{className:"w-4 h-4"})," Acordo Firmado: ",O(j.agreedAmount||0)]}),d.jsxs("p",{className:"text-emerald-600/80 dark:text-emerald-400/80 mt-1 pl-5",children:["No esquea de pagar na data combinada. ",j.agreedAmount&&j.agreedAmount>0?"As parcelas j foram lanadas no seu fluxo.":""]})]}):j.status==="negotiating"?d.jsxs("p",{className:"text-amber-600 dark:text-amber-400 flex items-center gap-1",children:[d.jsx(Mh,{className:"w-4 h-4"})," Voc iniciou contatos. Mantenha a presso para conseguir o melhor desconto."]}):F?d.jsxs("p",{className:"text-slate-500 flex items-center gap-1",children:[d.jsx(MA,{className:"w-4 h-4"})," Dvida antiga (+5 anos). No afeta score, negocie apenas se tiver sobra de caixa."]}):d.jsxs("p",{className:"text-rose-600 dark:text-rose-400 flex items-center gap-1 font-medium",children:[d.jsx(_d,{className:"w-4 h-4"})," Prioridade Alta! Esta dvida est ativa e impactando seu crdito. Tente negociar."]})})]},j.id)})})]})},op=["Hortifruti","Carnes","Laticnios","Mercearia","Padaria","Bebidas","Limpeza","Higiene","Outros"],PIe=({items:t,onAdd:e,onUpdate:n,onDelete:r,onClearList:i,onFinishShopping:o,shoppingBudget:s=0,onUpdateBudget:a,hasApiKey:l=!1,privacyMode:u,quickActionSignal:c})=>{const[f,h]=B.useState(""),[y,v]=B.useState("Outros"),[b,x]=B.useState(!1),[_,w]=B.useState(!1),[E,N]=B.useState(""),[T,C]=B.useState(!1),[A,I]=B.useState(!1),[k,P]=B.useState(s.toString()),[R,O]=B.useState("Alimentos"),[D,q]=B.useState("debit_card"),V=B.useMemo(()=>t.reduce((W,oe)=>W+oe.actualPrice*oe.quantity,0),[t]),j=B.useMemo(()=>{const W={};return op.forEach(oe=>W[oe]=[]),t.forEach(oe=>{const Q=oe.category||"Outros";W[Q]||(W[Q]=[]),W[Q].push(oe)}),W},[t]);B.useEffect(()=>{if(c){const W=document.getElementById("new-item-input");W&&W.focus()}},[c]);const F=W=>{W.preventDefault(),f.trim()&&(e({name:f.trim(),quantity:1,actualPrice:0,isChecked:!1,category:y}),h(""),v("Outros"))},L=async W=>{if(W.preventDefault(),!E.trim())return;C(!0),(await YZ(E)).forEach(Q=>{e({...Q,actualPrice:0,isChecked:!1})}),C(!1),w(!1),N("")},z=(W,oe,Q)=>{const be=Math.max(1,oe+Q);n(W,{quantity:be})},G=()=>{if(V===0){alert("O valor total est zerado. Adicione preos aos itens para lanar a despesa.");return}o(V,D,R),x(!1)},Y=()=>{const W=parseFloat(k);isNaN(W)||a(W),I(!1)},H=W=>u?"":`R$ ${W.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,J=s>0?V/s*100:0;let ce="bg-emerald-500";return J>100?ce="bg-rose-500":J>85&&(ce="bg-amber-500"),d.jsxs("div",{className:"space-y-6 animate-fade-in relative pb-32 md:pb-0",children:[b&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-sm p-6 border border-emerald-500/30 animate-scale-in",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(im,{className:"w-6 h-6 text-emerald-500"})," Finalizar Compra"]}),d.jsx("button",{onClick:()=>x(!1),className:"text-slate-400 hover:text-slate-600",children:d.jsx(_r,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-4 rounded-xl mb-6 text-center border border-emerald-100 dark:border-emerald-800",children:[d.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400 uppercase font-bold mb-1",children:"Valor Final a Lanar"}),d.jsx("p",{className:"text-3xl font-bold text-emerald-700 dark:text-emerald-300",children:H(V)})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Categoria da Despesa"}),d.jsxs("select",{value:R,onChange:W=>O(W.target.value),className:"w-full p-2.5 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none",children:[d.jsx("option",{value:"Alimentos",children:"Alimentos"}),d.jsx("option",{value:"Casa",children:"Casa"}),d.jsx("option",{value:"Lazer",children:"Lazer"}),d.jsx("option",{value:"Pets",children:"Pets"}),d.jsx("option",{value:"Outros",children:"Outros"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Forma de Pagamento"}),d.jsxs("select",{value:D,onChange:W=>q(W.target.value),className:"w-full p-2.5 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none",children:[d.jsx("option",{value:"credit_card",children:"Carto de Crdito"}),d.jsx("option",{value:"debit_card",children:"Carto de Dbito"}),d.jsx("option",{value:"cash",children:"Dinheiro"}),d.jsx("option",{value:"pix",children:"PIX"}),d.jsx("option",{value:"ticket",children:"Vale Alimentao/Refeio"})]})]}),d.jsxs("button",{onClick:G,className:"w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-bold shadow-lg shadow-emerald-500/30 flex items-center justify-center gap-2 mt-4",children:[d.jsx(Gx,{className:"w-5 h-5"})," Confirmar e Lanar"]})]})]})}),_&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 border border-purple-200 dark:border-purple-800 animate-scale-in",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Ws,{className:"w-5 h-5 text-purple-600"})," Assistente de Compras"]}),d.jsx("button",{onClick:()=>w(!1),className:"text-slate-400 hover:text-slate-600",children:d.jsx(_r,{className:"w-5 h-5"})})]}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:'O que vamos comprar? Digite uma receita (ex: "Strogonoff para 4") ou um evento (ex: "Churrasco fim de semana") e eu gero a lista.'}),d.jsxs("form",{onSubmit:L,children:[d.jsx("input",{autoFocus:!0,type:"text",value:E,onChange:W=>N(W.target.value),placeholder:"Ex: Ingredientes para bolo de cenoura...",className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-purple-500 mb-4"}),d.jsxs("button",{type:"submit",disabled:T||!E,className:"w-full py-2.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-bold shadow-md disabled:opacity-50 flex items-center justify-center gap-2",children:[T?d.jsx("span",{className:"animate-spin",children:""}):d.jsx(jB,{className:"w-5 h-5"}),"Gerar Lista"]})]})]})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(sm,{className:"w-7 h-7 text-indigo-600"}),"Lista de Compras"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Organize sua ida ao mercado."})]}),d.jsxs("button",{onClick:()=>w(!0),disabled:!l,className:`hidden md:flex items-center gap-2 px-4 py-2 rounded-lg font-bold text-xs uppercase tracking-wide transition-all shadow-sm ${l?"bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900/30 dark:text-purple-300":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[d.jsx(Ws,{className:"w-4 h-4"})," Gerar com IA"]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex justify-between items-end mb-2",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] font-bold uppercase text-slate-400 tracking-wider mb-1",children:"Total Calculado"}),d.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:H(V)})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"text-[10px] font-bold uppercase text-slate-400 tracking-wider mb-1 flex items-center justify-end gap-1 cursor-pointer hover:text-indigo-500",onClick:()=>{I(!0),P(s.toString())},children:["Teto de Gastos (Viagem) ",d.jsx(AD,{className:"w-3 h-3"})]}),A?d.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[d.jsx("span",{className:"text-sm font-bold text-slate-500",children:"R$"}),d.jsx("input",{autoFocus:!0,type:"number",className:"w-24 p-1 text-right font-bold border rounded dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:k,onChange:W=>P(W.target.value),onKeyDown:W=>W.key==="Enter"&&Y(),onBlur:Y})]}):d.jsx("p",{className:"text-xl font-bold text-slate-600 dark:text-slate-400 cursor-pointer hover:text-indigo-500",onClick:()=>{I(!0),P(s.toString())},children:s>0?H(s):"Definir Teto"})]})]}),s>0&&d.jsxs("div",{className:"relative w-full h-4 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:[d.jsx("div",{className:`h-full transition-all duration-500 ${ce}`,style:{width:`${Math.min(100,J)}%`}}),J>100&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("span",{className:"text-[9px] font-bold text-white drop-shadow-md animate-pulse flex items-center gap-1",children:[d.jsx(nm,{className:"w-3 h-3"})," ACIMA DO ORAMENTO"]})})]})]})]}),d.jsxs("form",{onSubmit:F,className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-1 flex gap-2",children:[d.jsx("input",{id:"new-item-input",type:"text",value:f,onChange:W=>h(W.target.value),placeholder:"Adicionar item...",className:"flex-1 p-3 pl-4 rounded-xl border border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm",autoComplete:"off"}),d.jsx("select",{value:y,onChange:W=>v(W.target.value),className:"hidden md:block w-32 p-3 rounded-xl border border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm text-sm",children:op.map(W=>d.jsx("option",{value:W,children:W},W))})]}),d.jsx("button",{type:"submit",disabled:!f.trim(),className:"px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl shadow-md disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d.jsx(Kr,{className:"w-6 h-6"})})]}),d.jsx("div",{className:"md:hidden overflow-x-auto pb-2 -mt-4",children:d.jsx("div",{className:"flex gap-2 px-1",children:op.map(W=>d.jsx("button",{type:"button",onClick:()=>v(W),className:`px-3 py-1.5 rounded-full text-xs font-bold border whitespace-nowrap ${y===W?"bg-indigo-600 text-white border-indigo-600":"bg-white dark:bg-slate-800 text-slate-500 border-slate-200 dark:border-slate-700"}`,children:W},W))})}),d.jsx("div",{className:"space-y-6",children:t.length===0?d.jsxs("div",{className:"p-12 text-center text-slate-400 flex flex-col items-center bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-200 dark:border-slate-700",children:[d.jsx(sm,{className:"w-16 h-16 mb-4 opacity-20"}),d.jsx("p",{children:"Sua lista est vazia."}),l&&d.jsx("p",{className:"text-sm mt-2 text-purple-500 cursor-pointer hover:underline",onClick:()=>w(!0),children:"Experimente usar a IA para criar uma lista!"})]}):op.map(W=>{const oe=j[W];return!oe||oe.length===0?null:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[d.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 px-4 py-2 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[d.jsxs("h3",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[d.jsx(QB,{className:"w-3 h-3"})," ",W]}),d.jsx("span",{className:"text-[10px] font-bold bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-1.5 py-0.5 rounded-full",children:oe.length})]}),d.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:oe.map(Q=>d.jsxs("div",{className:`p-4 flex flex-col sm:flex-row sm:items-center gap-4 transition-colors ${Q.isChecked?"bg-slate-50/50 dark:bg-slate-700/30":""}`,children:[d.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[d.jsx("button",{onClick:()=>n(Q.id,{isChecked:!Q.isChecked}),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all flex-shrink-0 ${Q.isChecked?"bg-emerald-500 border-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-emerald-400"}`,children:d.jsx(Gx,{className:"w-4 h-4"})}),d.jsx("span",{className:`font-medium text-lg truncate ${Q.isChecked?"text-slate-400 line-through":"text-slate-700 dark:text-slate-200"}`,children:Q.name})]}),d.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-4 w-full sm:w-auto",children:[d.jsxs("div",{className:"flex items-center bg-slate-100 dark:bg-slate-700 rounded-lg p-1",children:[d.jsx("button",{onClick:()=>z(Q.id,Q.quantity,-1),className:"p-1.5 text-slate-500 hover:text-indigo-600",children:d.jsx(o6,{className:"w-4 h-4"})}),d.jsx("span",{className:"w-8 text-center font-bold text-slate-700 dark:text-white text-sm",children:Q.quantity}),d.jsx("button",{onClick:()=>z(Q.id,Q.quantity,1),className:"p-1.5 text-slate-500 hover:text-indigo-600",children:d.jsx(Kr,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-xs font-bold",children:"R$"}),d.jsx("input",{type:"number",step:"0.01",placeholder:"0,00",value:Q.actualPrice===0?"":Q.actualPrice,onChange:be=>n(Q.id,{actualPrice:parseFloat(be.target.value)||0}),className:`w-24 pl-8 pr-2 py-2 rounded-lg border outline-none font-bold text-right transition-colors ${Q.actualPrice>0?"border-emerald-300 dark:border-emerald-700 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400":"border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:border-indigo-500"}`})]}),d.jsx("button",{onClick:()=>r(Q.id),className:"p-2 text-slate-300 hover:text-rose-500 transition-colors",children:d.jsx(gu,{className:"w-5 h-5"})})]})]},Q.id))})]},W)})}),d.jsxs("div",{className:"fixed bottom-20 left-1/2 -translate-x-1/2 md:hidden z-30 flex gap-2 w-[90%] max-w-sm",children:[d.jsx("button",{onClick:()=>w(!0),disabled:!l,className:"bg-white dark:bg-slate-800 text-purple-600 p-4 rounded-full shadow-lg border border-purple-100 dark:border-purple-900 disabled:opacity-50",children:d.jsx(Ws,{className:"w-6 h-6"})}),d.jsxs("button",{onClick:()=>x(!0),disabled:t.length===0,className:"flex-1 bg-slate-900 text-white rounded-full shadow-xl font-bold flex items-center justify-between px-6 hover:scale-105 transition-transform disabled:opacity-70 disabled:scale-100",children:[d.jsxs("div",{className:"flex flex-col items-start leading-tight",children:[d.jsx("span",{className:"text-[10px] text-emerald-400 uppercase font-bold",children:"Total"}),d.jsx("span",{className:"text-lg",children:H(V)})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm bg-white/10 px-3 py-1.5 rounded-lg",children:["Finalizar ",d.jsx(r1,{className:"w-4 h-4"})]})]})]})]})},NIe={age:30,retirementAge:60,riskProfile:"moderate"},Z2={conservative:.03,moderate:.05,aggressive:.07},RIe=({data:t,onSaveProfile:e,privacyMode:n,hasApiKey:r})=>{const[i,o]=B.useState(t.wealthProfile||NIe),[s,a]=B.useState(!t.wealthProfile),[l,u]=B.useState(null),[c,f]=B.useState(!1),h=B.useMemo(()=>t.investments.reduce((T,C)=>T+C.amount,0),[t.investments]),y=B.useMemo(()=>t.debts.filter(T=>T.status!=="paid").reduce((T,C)=>T+C.currentAmount,0),[t.debts]),v=h-y,b=B.useMemo(()=>{const T=t.transactions.filter(I=>I.type==="income").reduce((I,k)=>I+k.amount,0),C=t.transactions.filter(I=>I.type==="expense").reduce((I,k)=>I+k.amount,0);if(T===0&&C===0)return{income:5e3,expense:4e3,savings:1e3};const A=T-C;return{income:T,expense:C>0?C:T*.8,savings:A}},[t.transactions]),x=i.monthlyContributionOverride!==void 0?i.monthlyContributionOverride:Math.max(0,b.savings),_=B.useMemo(()=>{const T=[],C=new Date().getFullYear(),A=i.retirementAge-i.age+10,I=Z2[i.riskProfile],k=x*12,P=b.expense*12;let R=v,O=null;for(let D=0;D<=A;D++){const q=C+D,V=i.age+D,j=R*.04;!O&&j>=P&&(O=q),T.push({year:q,age:V,patrimonio:Math.round(R),rendaPassiva:Math.round(j/12),custoVida:Math.round(b.expense)}),V<i.retirementAge?R=R*(1+I)+k:R=R*(1+I)}return{chartData:T,freedomYear:O}},[i,v,x,b.expense]),w=()=>{e(i),a(!1)},E=async()=>{f(!0);const T=await QZ(t.investments,i.riskProfile,i.age);u(T),f(!1)},N=T=>n?"":`R$ ${T.toLocaleString("pt-BR",{maximumFractionDigits:0})}`;return d.jsxs("div",{className:"space-y-8 animate-fade-in pb-10",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 border-b border-slate-200 dark:border-slate-700 pb-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-lg shadow-lg shadow-yellow-500/20 text-white",children:d.jsx(BB,{className:"w-6 h-6"})}),"NEXO Private"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Planejamento patrimonial e alocao estratgica de ativos."})]}),!s&&d.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-sm font-semibold hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Ajustar Perfil"})]}),s&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border-l-4 border-yellow-500 animate-scale-in",children:[d.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[d.jsx(Hx,{className:"w-5 h-5 text-yellow-500"})," Parmetros da Simulao"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Idade Atual"}),d.jsx("input",{type:"number",value:i.age,onChange:T=>o({...i,age:Number(T.target.value)}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Idade Aposentadoria"}),d.jsx("input",{type:"number",value:i.retirementAge,onChange:T=>o({...i,retirementAge:Number(T.target.value)}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Perfil de Risco"}),d.jsxs("select",{value:i.riskProfile,onChange:T=>o({...i,riskProfile:T.target.value}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600",children:[d.jsx("option",{value:"conservative",children:"Conservador"}),d.jsx("option",{value:"moderate",children:"Moderado"}),d.jsx("option",{value:"aggressive",children:"Arrojado"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Aporte Mensal (Simulado)"}),d.jsx("input",{type:"number",placeholder:`Atual: R$ ${b.savings.toFixed(0)}`,value:i.monthlyContributionOverride||"",onChange:T=>o({...i,monthlyContributionOverride:Number(T.target.value)}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]})]}),d.jsx("div",{className:"mt-6 flex justify-end",children:d.jsx("button",{onClick:w,className:"bg-slate-900 dark:bg-white dark:text-slate-900 text-white px-6 py-2 rounded-lg font-bold hover:opacity-90 transition-opacity",children:"Atualizar Projeo"})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 bg-slate-900 text-white p-6 rounded-xl shadow-2xl relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl pointer-events-none"}),d.jsxs("div",{className:"relative z-10 flex justify-between items-start mb-6",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[d.jsx(Hi,{className:"w-5 h-5 text-emerald-400"}),"Liberdade Financeira"]}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Cruzamento entre Renda Passiva e Custo de Vida."})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-xs text-slate-400 uppercase font-bold",children:"Ano da Liberdade"}),d.jsx("p",{className:"text-3xl font-bold text-yellow-400",children:_.freedomYear||"Em construo..."})]})]}),d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(Yo,{width:"100%",height:"100%",children:d.jsxs(pIe,{data:_.chartData,margin:{top:10,right:10,left:0,bottom:0},children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"colorPassive",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),d.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),d.jsx(su,{strokeDasharray:"3 3",vertical:!1,stroke:"#334155"}),d.jsx(pi,{dataKey:"year",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8"}}),d.jsx(mi,{hide:!0,domain:["auto","auto"]}),d.jsx(rn,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"8px",color:"#fff"},formatter:T=>[N(T),""]}),d.jsx(Qf,{y:b.expense,stroke:"#f43f5e",strokeDasharray:"3 3",label:{value:"Custo Vida",fill:"#f43f5e",fontSize:10}}),d.jsx(ys,{type:"monotone",dataKey:"rendaPassiva",stroke:"#10b981",fillOpacity:1,fill:"url(#colorPassive)",name:"Renda Passiva"})]})})})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 flex flex-col justify-center",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Patrimnio Lquido Atual"}),d.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:N(v)})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Ativos Investidos"}),d.jsx("span",{className:"font-semibold text-emerald-600",children:N(h)})]}),d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Dvidas Totais"}),d.jsx("span",{className:"font-semibold text-rose-600",children:N(y)})]}),d.jsx("div",{className:"w-full h-px bg-slate-200 dark:bg-slate-700 my-2"}),d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Aporte Mensal"}),d.jsx("span",{className:"font-semibold text-indigo-600",children:N(x)})]}),d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Rentabilidade Real (Proj.)"}),d.jsxs("span",{className:"font-semibold text-slate-800 dark:text-white",children:[(Z2[i.riskProfile]*100).toFixed(1),"% a.a."]})]})]}),y>h&&d.jsxs("div",{className:"mt-6 bg-rose-50 dark:bg-rose-900/20 p-3 rounded-lg flex items-start gap-2",children:[d.jsx(h6,{className:"w-5 h-5 text-rose-600 shrink-0"}),d.jsx("p",{className:"text-xs text-rose-800 dark:text-rose-300",children:"Ateno: Seu patrimnio est negativo. A prioridade do planejamento deve ser a quitao de dvidas antes da acumulao."})]})]})]}),d.jsxs("div",{className:"mt-8",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(mD,{className:"w-6 h-6 text-purple-600"}),"Alocao Inteligente (IA)"]}),d.jsxs("button",{onClick:E,disabled:!r||c,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-semibold text-sm shadow-md",children:[c?d.jsx("span",{className:"animate-spin",children:""}):d.jsx(Ws,{className:"w-4 h-4"}),l?"Atualizar Anlise":"Gerar Estratgia Private"]})]}),!r&&d.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-8 rounded-xl text-center border border-dashed border-slate-300 dark:border-slate-600",children:[d.jsx(Hx,{className:"w-10 h-10 text-slate-400 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Configure sua Chave API para desbloquear a inteligncia de alocao de ativos."})]}),r&&l&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700",children:[d.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-3",children:"Diagnstico do Portflio"}),d.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm leading-relaxed mb-6",children:l.analysisText}),d.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-3",children:"Plano de Ao Ttico"}),d.jsx("div",{className:"space-y-3",children:l.actionItems.map((T,C)=>d.jsxs("div",{className:"flex gap-3 p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg border border-slate-100 dark:border-slate-700",children:[d.jsx("div",{className:`
                                      w-10 h-10 rounded-full flex items-center justify-center shrink-0 font-bold text-xs
                                      ${T.type==="buy"?"bg-emerald-100 text-emerald-700":T.type==="sell"?"bg-rose-100 text-rose-700":"bg-blue-100 text-blue-700"}
                                  `,children:T.type==="buy"?"COMPRA":T.type==="sell"?"VENDA":"MANTER"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-slate-800 dark:text-white text-sm",children:T.title}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:T.description})]})]},C))})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 flex flex-col items-center justify-center",children:[d.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-2 self-start",children:"Atual vs. Ideal (Modelo)"}),d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(Yo,{width:"100%",height:"100%",children:d.jsxs(hIe,{cx:"50%",cy:"50%",outerRadius:"80%",data:l.suggestedAllocation.map(T=>{const C=l.currentAllocation.find(A=>A.name===T.name);return{subject:T.name,A:C?C.value:0,B:T.value,fullMark:100}}),children:[d.jsx(T5,{stroke:"#94a3b8"}),d.jsx(Bu,{dataKey:"subject",tick:{fill:"#64748b",fontSize:10}}),d.jsx(Uu,{angle:30,domain:[0,100],tick:!1}),d.jsx(Ql,{name:"Sua Carteira",dataKey:"A",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.3}),d.jsx(Ql,{name:"Ideal (IA)",dataKey:"B",stroke:"#10b981",fill:"#10b981",fillOpacity:.3}),d.jsx(li,{}),d.jsx(rn,{})]})})}),d.jsx("p",{className:"text-xs text-center text-slate-400 mt-2",children:"Comparativo de % de alocao por classe de ativo."})]})]})]})]})},Hv=[{label:"Azul",value:"blue",bg:"bg-blue-100 dark:bg-blue-900/30",border:"border-blue-200 dark:border-blue-800",text:"text-blue-700 dark:text-blue-300"},{label:"Verde",value:"green",bg:"bg-emerald-100 dark:bg-emerald-900/30",border:"border-emerald-200 dark:border-emerald-800",text:"text-emerald-700 dark:text-emerald-300"},{label:"Roxo",value:"purple",bg:"bg-purple-100 dark:bg-purple-900/30",border:"border-purple-200 dark:border-purple-800",text:"text-purple-700 dark:text-purple-300"},{label:"Rosa",value:"rose",bg:"bg-rose-100 dark:bg-rose-900/30",border:"border-rose-200 dark:border-rose-800",text:"text-rose-700 dark:text-rose-300"},{label:"Amarelo",value:"yellow",bg:"bg-amber-100 dark:bg-amber-900/30",border:"border-amber-200 dark:border-amber-800",text:"text-amber-700 dark:text-amber-300"}],OIe=({columns:t,onSaveColumn:e,onDeleteColumn:n,onAddTransaction:r,privacyMode:i})=>{const[o,s]=B.useState(""),[a,l]=B.useState(null),[u,c]=B.useState(""),[f,h]=B.useState(""),[y,v]=B.useState("blue"),[b,x]=B.useState(null);B.useEffect(()=>{t.length===0&&[{id:"col-1",title:"Ideias / Sonhos",order:0,cards:[]},{id:"col-2",title:"Pesquisando Preo",order:1,cards:[]},{id:"col-3",title:"Prioridade / Prxima",order:2,cards:[]},{id:"col-4",title:"Concludo / Pago",order:3,isConclusion:!0,cards:[]}].forEach(P=>e(P))},[t.length]);const _=k=>{if(k.preventDefault(),!o.trim())return;const P={id:crypto.randomUUID(),title:o,order:t.length,cards:[]};e(P),s("")},w=k=>{const P=t.find(O=>O.id===k);if(!P)return;const R={id:crypto.randomUUID(),title:u||"Novo Item",amount:parseFloat(f)||0,color:y};e({...P,cards:[...P.cards,R]}),l(null),c(""),h(""),v("blue")},E=(k,P)=>{const R=t.find(O=>O.id===k);R&&e({...R,cards:R.cards.filter(O=>O.id!==P)})},N=(k,P,R)=>{x({cardId:P,sourceColId:R}),k.dataTransfer.effectAllowed="move"},T=k=>{k.preventDefault(),k.dataTransfer.dropEffect="move"},C=(k,P)=>{if(k.preventDefault(),!b)return;const{cardId:R,sourceColId:O}=b;if(O===P){x(null);return}const D=t.find(V=>V.id===O),q=t.find(V=>V.id===P);if(D&&q){const V=D.cards.find(j=>j.id===R);V&&(e({...D,cards:D.cards.filter(j=>j.id!==R)}),e({...q,cards:[...q.cards,V]}),q.isConclusion&&window.confirm(`Opa! Voc moveu "${V.title}" para concluso. Deseja registrar isso como uma despesa agora?`)&&r({description:V.title,amount:V.amount,type:"expense",category:"Outros",date:new Date().toISOString().split("T")[0],status:"paid",paymentMethod:"credit_card",isRecurring:!1}))}x(null)},A=k=>i?"":`R$ ${k.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,I=[...t].sort((k,P)=>k.order-P.order);return d.jsxs("div",{className:"h-[calc(100vh-140px)] flex flex-col animate-fade-in",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4 shrink-0",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(l1,{className:"w-7 h-7 text-indigo-600"}),"NEXO Flow"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Organize seus planos: Sonhe, Pesquise, Priorize e Compre."})]}),d.jsxs("form",{onSubmit:_,className:"flex gap-2",children:[d.jsx("input",{type:"text",placeholder:"Nova Coluna...",value:o,onChange:k=>s(k.target.value),className:"px-3 py-2 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 text-sm"}),d.jsx("button",{type:"submit",className:"bg-slate-800 dark:bg-slate-700 text-white px-3 py-2 rounded-lg hover:bg-slate-900 transition-colors",children:d.jsx(Kr,{className:"w-5 h-5"})})]})]}),d.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden pb-4",children:d.jsx("div",{className:"flex h-full gap-4 min-w-max px-1",children:I.map(k=>d.jsxs("div",{className:`w-80 flex flex-col rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-800/50 backdrop-blur-sm transition-colors ${b&&b.sourceColId!==k.id?"bg-indigo-50/30 border-indigo-200 border-dashed":""}`,onDragOver:T,onDrop:P=>C(P,k.id),children:[d.jsxs("div",{className:`p-3 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center ${k.isConclusion?"bg-emerald-50 dark:bg-emerald-900/10 rounded-t-xl":""}`,children:[d.jsxs("div",{className:"flex items-center gap-2",children:[k.isConclusion&&d.jsx(Ls,{className:"w-4 h-4 text-emerald-600"}),d.jsx("h3",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm uppercase tracking-wide",children:k.title}),d.jsx("span",{className:"bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-1.5 py-0.5 rounded text-[10px] font-bold",children:k.cards.length})]}),!k.isConclusion&&d.jsx("button",{onClick:()=>{confirm("Excluir coluna?")&&n(k.id)},className:"text-slate-400 hover:text-rose-500",children:d.jsx(TD,{className:"w-4 h-4"})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:k.cards.map(P=>{const R=Hv.find(O=>O.value===P.color)||Hv[0];return d.jsxs("div",{draggable:!0,onDragStart:O=>N(O,P.id,k.id),className:`bg-white dark:bg-slate-700 p-3 rounded-lg shadow-sm border border-slate-200 dark:border-slate-600 cursor-grab active:cursor-grabbing hover:shadow-md transition-all group relative border-l-4 ${R.border.replace("border","border-l")}`,style:{borderLeftColor:`var(--${P.color}-500)`},children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("p",{className:"font-semibold text-slate-800 dark:text-white text-sm",children:P.title}),d.jsx("button",{onClick:()=>E(k.id,P.id),className:"text-slate-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(_r,{className:"w-3 h-3"})})]}),d.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[d.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold uppercase ${R.bg} ${R.text}`,children:P.amount>0?A(P.amount):"R$ -"}),d.jsx(HB,{className:"w-3 h-3 text-slate-300"})]})]},P.id)})}),d.jsx("div",{className:"p-2 border-t border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-slate-800/50 rounded-b-xl",children:a===k.id?d.jsxs("div",{className:"space-y-2 p-1 animate-scale-in",children:[d.jsx("input",{autoFocus:!0,className:"w-full p-2 text-sm border rounded dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"Ttulo...",value:u,onChange:P=>c(P.target.value)}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("input",{type:"number",className:"w-20 p-2 text-sm border rounded dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"R$",value:f,onChange:P=>h(P.target.value)}),d.jsx("div",{className:"flex-1 flex justify-end gap-1",children:Hv.map(P=>d.jsx("button",{onClick:()=>v(P.value),className:`w-6 h-6 rounded-full border-2 ${y===P.value?"border-slate-500 scale-110":"border-transparent"} ${P.bg.split(" ")[0]}`},P.value))})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>l(null),className:"flex-1 py-1 text-xs text-slate-500 bg-slate-200 rounded",children:"Cancelar"}),d.jsx("button",{onClick:()=>w(k.id),className:"flex-1 py-1 text-xs text-white bg-indigo-600 rounded font-bold",children:"Adicionar"})]})]}):d.jsxs("button",{onClick:()=>l(k.id),className:"w-full py-2 flex items-center justify-center gap-1 text-slate-500 hover:text-indigo-600 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors text-sm font-medium",children:[d.jsx(Kr,{className:"w-4 h-4"})," Adicionar Card"]})})]},k.id))})})]})},MIe=({user:t,isGuest:e,mobileMenuOpen:n,setMobileMenuOpen:r,currentView:i,onNavigate:o,onLogout:s,privacyMode:a,setPrivacyMode:l,darkMode:u,setDarkMode:c,isFullscreen:f,toggleFullscreen:h,hasKey:y,onOpenKeyModal:v,onOpenDonateModal:b,onExportBackup:x,onImportBackup:_,onFactoryReset:w,canInstall:E,onInstall:N})=>{var I,k;const T=B.useRef(null),C=P=>{o(P),r(!1)},A=({view:P,icon:R,label:O,customClass:D=""})=>d.jsxs("button",{onClick:()=>C(P),className:`flex w-full items-center gap-3 px-3 py-2.5 rounded-lg transition-all text-sm font-medium ${D} ${i===P?"bg-indigo-600 text-white shadow-md shadow-indigo-900/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[d.jsx(R,{className:`w-5 h-5 ${i!==P&&D?"text-purple-400 group-hover:text-white":""}`}),d.jsx("div",{className:"flex-1 flex justify-between items-center",children:d.jsx("span",{children:O})})]});return d.jsxs("nav",{className:`
         fixed md:sticky top-0 left-0 h-screen z-50 w-72 md:w-64 bg-slate-900 border-r border-slate-800 
         transform transition-transform duration-300 ease-in-out shadow-2xl flex flex-col
         ${n?"translate-x-0":"-translate-x-full md:translate-x-0"}
       `,children:[d.jsxs("div",{className:"flex items-center justify-between p-4 md:p-4 border-b border-slate-800 shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-indigo-600 p-2 rounded-xl shadow-lg shadow-indigo-900/50",children:d.jsx(s1,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-bold text-white tracking-tight leading-none",children:"NEXO"}),d.jsx("span",{className:"text-[10px] text-slate-400 font-medium uppercase tracking-wider",children:"Financial Hub"})]})]}),d.jsx("button",{onClick:()=>r(!1),className:"md:hidden text-slate-400 hover:text-white",children:d.jsx(_r,{className:"w-6 h-6"})})]}),d.jsx("div",{className:"p-4 shrink-0",children:d.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 bg-slate-800/50 rounded-lg border border-slate-700/50 backdrop-blur-sm",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center border border-slate-600 overflow-hidden text-xs text-white",children:t!=null&&t.photoURL?d.jsx("img",{src:t.photoURL,alt:"User"}):((I=t==null?void 0:t.email)==null?void 0:I.substring(0,2).toUpperCase())||"CV"}),d.jsxs("div",{className:"overflow-hidden flex-1 min-w-0",children:[d.jsx("p",{className:"text-xs font-bold text-white truncate",title:(t==null?void 0:t.email)||"Convidado",children:((k=t==null?void 0:t.email)==null?void 0:k.split("@")[0])||"Convidado"}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${t?"bg-emerald-500":"bg-amber-500"}`}),d.jsx("p",{className:"text-[10px] text-slate-400",children:t?"Online (Cloud)":"Offline (Local)"})]})]}),d.jsx("button",{onClick:s,className:"text-slate-400 hover:text-rose-500",title:"Sair",children:d.jsx(ZB,{className:"w-4 h-4"})})]})}),d.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-2 flex flex-col no-scrollbar",children:[d.jsxs("div",{className:"mb-6 space-y-1",children:[d.jsx("p",{className:"px-2 text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2",children:"Viso Geral"}),d.jsx(A,{view:Le.DASHBOARD,icon:XB,label:"Dashboard"}),d.jsx(A,{view:Le.TRANSACTIONS,icon:l6,label:"Transaes"}),d.jsx(A,{view:Le.KANBAN,icon:l1,label:"NEXO Flow"}),d.jsx(A,{view:Le.CALENDAR,icon:Zo,label:"Agenda"})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"px-2 text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Gesto Financeira"}),d.jsx(A,{view:Le.BUDGETS,icon:ia,label:"Metas"}),d.jsx(A,{view:Le.SUBSCRIPTIONS,icon:ra,label:"Assinaturas"}),d.jsx(A,{view:Le.INVESTMENTS,icon:_D,label:"Investir"}),d.jsx(A,{view:Le.DEBTS,icon:_d,label:"Limpa Nome"}),d.jsx(A,{view:Le.SHOPPING_LIST,icon:sm,label:"Lista de Compras"}),d.jsx(A,{view:Le.WEALTH_PLANNER,icon:wD,label:"Planejamento",customClass:"text-amber-400"})]}),d.jsx("div",{className:"mt-6 pt-4 border-t border-slate-800",children:d.jsx("button",{onClick:()=>y?C(Le.AI_ASSISTANT):v(),className:`w-full relative group overflow-hidden rounded-xl p-[1px] transition-all duration-300 ${i===Le.AI_ASSISTANT?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 shadow-lg shadow-purple-500/20":"bg-slate-700/50 hover:bg-gradient-to-r hover:from-indigo-500 hover:via-purple-500 hover:to-pink-500"}`,children:d.jsxs("div",{className:"relative flex items-center gap-3 px-3 py-3 rounded-[11px] bg-slate-900 transition-colors h-full",children:[d.jsx("div",{className:`p-1.5 rounded-lg ${i===Le.AI_ASSISTANT?"bg-indigo-500/20":"bg-slate-800 group-hover:bg-slate-800"}`,children:d.jsx(n6,{className:`w-5 h-5 ${i===Le.AI_ASSISTANT?"text-indigo-400":"text-slate-400 group-hover:text-white"}`})}),d.jsxs("div",{className:"flex-1 text-left",children:[d.jsx("p",{className:`text-sm font-bold ${i===Le.AI_ASSISTANT?"text-white":"text-slate-300 group-hover:text-white"}`,children:"NEXO AI"}),d.jsx("p",{className:"text-[10px] text-slate-500 group-hover:text-slate-400",children:"Assistente Virtual"})]}),!y&&d.jsx(wd,{className:"w-3 h-3 text-rose-500 animate-pulse"})]})})})]}),d.jsxs("div",{className:"mt-auto p-4 border-t border-slate-800 bg-slate-900 shrink-0",children:[E&&d.jsxs("button",{onClick:N,className:"w-full mb-4 flex items-center justify-center gap-2 p-2 rounded-lg bg-emerald-600 text-white text-xs font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-500/20",children:[d.jsx(pD,{className:"w-3 h-3"})," Instalar App (PWA)"]}),d.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Configuraes & Dados"}),d.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[d.jsx("button",{onClick:h,className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-white transition-all border border-slate-800 hover:border-slate-700",title:f?"Sair da Tela Cheia":"Tela Cheia",children:f?d.jsx(i6,{className:"w-5 h-5"}):d.jsx(e6,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>l(!a),className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-white transition-all border border-slate-800 hover:border-slate-700",title:a?"Mostrar Valores":"Ocultar Valores",children:a?d.jsx(FB,{className:"w-5 h-5"}):d.jsx(UB,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>c(!u),className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-white transition-all border border-slate-800 hover:border-slate-700",title:u?"Modo Claro":"Modo Escuro",children:u?d.jsx(v6,{className:"w-5 h-5"}):d.jsx(s6,{className:"w-5 h-5"})}),d.jsx("button",{onClick:v,className:`flex items-center justify-center p-2 rounded-lg transition-all border border-slate-800 hover:border-slate-700 ${y?"text-emerald-400 hover:bg-slate-800":"text-rose-400 hover:bg-slate-800 animate-pulse"}`,title:"Configurar Chave API",children:d.jsx(wd,{className:"w-5 h-5"})}),d.jsx("button",{onClick:x,className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-blue-400 transition-all border border-slate-800 hover:border-slate-700",title:"Baixar Backup (Exportar)",children:d.jsx(WB,{className:"w-5 h-5"})}),d.jsxs("label",{className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-blue-400 transition-all border border-slate-800 hover:border-slate-700 cursor-pointer",title:"Restaurar Backup (Importar)",children:[d.jsx(KB,{className:"w-5 h-5"}),d.jsx("input",{type:"file",ref:T,className:"hidden",accept:".json",onChange:_})]}),d.jsx("button",{onClick:w,className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-rose-500 transition-all border border-slate-800 hover:border-slate-700",title:"Resetar App (Fbrica)",children:d.jsx(gu,{className:"w-5 h-5"})}),d.jsx("button",{onClick:b,className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-pink-500 transition-all border border-slate-800 hover:border-slate-700",title:"Apoiar Projeto",children:d.jsx(bD,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"pt-4 mt-3 border-t border-slate-800 text-center",children:[d.jsx("p",{className:"text-[10px] text-slate-500 font-mono",children:"v2.3.0 Stable"}),d.jsxs("a",{href:"https://www.linkedin.com/in/alemagnobr/",target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-slate-400 hover:text-indigo-400 transition-colors flex items-center justify-center gap-1.5 mt-1",children:[d.jsx(ED,{className:"w-3 h-3"})," Alexandre Magno S. Linhares"]})]})]})]})},DIe=({showWelcome:t,isDonateModalOpen:e,isKeyModalOpen:n,userKeyInput:r,hasKey:i,PIX_KEY:o,PIX_NAME:s,setShowWelcome:a,setIsDonateModalOpen:l,setIsKeyModalOpen:u,setUserKeyInput:c,handleSaveKey:f,handleRemoveKey:h,handleFinishWelcome:y,copyPix:v})=>d.jsxs(d.Fragment,{children:[t&&d.jsx("div",{className:"fixed inset-0 bg-slate-900/90 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in overflow-y-auto",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-4xl border border-slate-200 dark:border-slate-700 animate-scale-in my-8",children:[d.jsx("div",{className:"bg-slate-900 p-8 text-white relative overflow-hidden rounded-t-2xl",children:d.jsxs("div",{className:"relative z-10",children:[d.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Bem-vindo ao NEXO"}),d.jsx("p",{className:"text-slate-300 text-lg",children:"Seu novo comando central financeiro."})]})}),d.jsxs("div",{className:"p-8",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-3 flex items-center gap-2",children:[d.jsx(Hx,{className:"w-5 h-5 text-indigo-500"})," Privacidade Total"]}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed",children:"Seus dados financeiros no so vendidos. No modo Offline, tudo fica no seu navegador."})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-3 flex items-center gap-2",children:[d.jsx(Ux,{className:"w-5 h-5 text-purple-500"})," Inteligncia Artificial"]}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed",children:"Conecte sua chave do Gemini para ter um consultor financeiro pessoal."})]})]}),d.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-100 dark:border-indigo-800 p-4 rounded-xl mb-8",children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"J possui uma chave de API do Gemini? (Opcional)"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"password",value:r,onChange:b=>c(b.target.value),placeholder:"Cole sua chave AIza...",className:"flex-1 p-2 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 outline-none"}),d.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:["Obter Chave ",d.jsx(vD,{className:"w-3 h-3"})]})]})]}),d.jsxs("button",{onClick:y,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold text-lg shadow-xl shadow-indigo-500/30 transition-all flex items-center justify-center gap-2",children:["Comear Agora ",d.jsx(e0,{className:"w-5 h-5"})]})]})]})}),e&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-sm p-6 border border-slate-200 dark:border-slate-700 animate-scale-in text-center relative overflow-hidden",children:[d.jsx("button",{onClick:()=>l(!1),className:"absolute top-2 right-2 p-2 text-slate-400 hover:text-slate-600",children:d.jsx(_r,{className:"w-5 h-5"})}),d.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(GB,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),d.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:"Apoie o Projeto"}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-6",children:"O NEXO  desenvolvido de forma independente. Considere apoiar! "}),d.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-700 mb-6 relative group cursor-pointer",onClick:v,children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"Chave Pix (CPF)"}),d.jsx("p",{className:"text-sm font-mono font-bold text-slate-700 dark:text-slate-200 break-all select-all",children:o}),d.jsx("div",{className:"absolute inset-0 bg-black/5 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-xl",children:d.jsxs("span",{className:"bg-white dark:bg-slate-800 text-xs font-bold px-2 py-1 rounded shadow flex items-center gap-1",children:[d.jsx(gD,{className:"w-3 h-3"})," Copiar"]})})]}),d.jsxs("p",{className:"text-xs text-slate-400 mb-6",children:["Nome: ",s]})]})}),n&&d.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 border border-slate-200 dark:border-slate-700 animate-scale-in flex flex-col max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[d.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(wd,{className:"w-6 h-6 text-indigo-500"})," Configurar Chave API"]}),d.jsx("button",{onClick:()=>u(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:d.jsx(_r,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-3 rounded-lg text-sm text-indigo-800 dark:text-indigo-300 border border-indigo-100 dark:border-indigo-800",children:[d.jsxs("p",{className:"font-bold flex items-center gap-1 mb-1",children:[d.jsx(Ws,{className:"w-3 h-3"})," Por que preciso disso?"]}),d.jsx("p",{children:"O Google Gemini  o crebro por trs da IA do NEXO. Para us-lo gratuitamente, voc precisa gerar sua prpria chave de acesso."})]}),d.jsxs("ol",{className:"list-decimal list-inside text-sm text-slate-600 dark:text-slate-400 space-y-2 ml-1",children:[d.jsxs("li",{children:["Acesse o ",d.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-indigo-600 font-bold hover:underline",children:"Google AI Studio"}),"."]}),d.jsx("li",{children:"Faa login com sua conta Google."}),d.jsxs("li",{children:["Clique em ",d.jsx("strong",{children:"Create API Key"}),"."]}),d.jsx("li",{children:'Copie o cdigo gerado (comea com "AIza...") e cole abaixo.'})]}),d.jsx("input",{type:"password",value:r,onChange:b=>c(b.target.value),placeholder:"Cole sua chave aqui (AIza...)",className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:f,disabled:!r,className:"flex-1 px-4 py-2 bg-indigo-600 text-white hover:bg-indigo-700 rounded-lg text-sm font-bold shadow-lg shadow-indigo-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Salvar e Conectar"}),d.jsx("button",{onClick:h,disabled:!i,className:"px-4 py-2 bg-rose-100 text-rose-600 hover:bg-rose-200 dark:bg-rose-900/30 dark:text-rose-400 dark:hover:bg-rose-900/50 rounded-lg text-sm font-bold disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Remover"})]})]})]})})]}),jIe={transactions:[],investments:[],budgets:[],debts:[],shoppingList:[],shoppingBudget:0,kanbanColumns:[],unlockedBadges:[],walletBalance:0},LIe=(t,e)=>{const[n,r]=B.useState(jIe);return B.useEffect(()=>{if(t&&!e){const P=yH(t.uid,R=>{r(O=>({...O,...R}))});return()=>P()}},[t,e]),B.useEffect(()=>{t&&!e&&n.transactions.length>0&&n.walletBalance===void 0&&(console.log("Migrando para sistema de Saldo Otimizado..."),xH(t.uid))},[t,e,n.transactions.length,n.walletBalance]),B.useEffect(()=>{(t||e)&&(async()=>{const R=new Date,O=R.getMonth(),D=R.getFullYear(),q=new Map;n.transactions.forEach(j=>{if(j.isRecurring){const F=q.get(j.description);(!F||new Date(j.date)>new Date(F.date))&&q.set(j.description,j)}});const V=[];if(q.forEach((j,F)=>{const[L,z]=j.date.split("-").map(Number),G=new Date(D,O,1),Y=new Date(L,z-1,1);if(G<Y)return;if(!n.transactions.some(J=>{const ce=new Date(J.date);return J.description===F&&J.amount===j.amount&&ce.getMonth()===O&&ce.getFullYear()===D})){const ce=new Date(j.date+"T00:00:00").getDate(),W=new Date(D,O+1,0).getDate(),oe=Math.min(ce,W),Q=String(O+1).padStart(2,"0"),be=String(oe).padStart(2,"0"),se=`${D}-${Q}-${be}`;V.push({...j,id:crypto.randomUUID(),date:se,status:"pending",isRecurring:!0})}}),V.length>0)if(t)for(const j of V)await ik(t.uid,j);else r(j=>({...j,transactions:[...j.transactions,...V]}))})()},[t,e,n.transactions]),{data:n,setData:r,actions:{addTransaction:async P=>{const R={...P,id:crypto.randomUUID()};t?await ik(t.uid,R):r(O=>({...O,transactions:[...O.transactions,R]}))},updateTransaction:async(P,R)=>{t?await ok(t.uid,P,R):r(O=>({...O,transactions:O.transactions.map(D=>D.id===P?{...D,...R}:D)}))},deleteTransaction:async P=>{t?await vH(t.uid,P):r(R=>({...R,transactions:R.transactions.filter(O=>O.id!==P)}))},toggleTransactionStatus:async P=>{const R=n.transactions.find(D=>D.id===P);if(!R)return;const O=R.status==="paid"?"pending":"paid";if(t){if(await ok(t.uid,P,{status:O}),R.debtId){const D=n.debts.find(q=>q.id===R.debtId);if(D){const j=n.transactions.filter(F=>F.debtId===R.debtId).every(F=>F.id===P?O==="paid":F.status==="paid")?"paid":"agreement";D.status!==j&&await sk(t.uid,D.id,{status:j})}}}else r(D=>{const q=D.transactions.map(j=>j.id===P?{...j,status:O}:j);let V=D.debts;if(R.debtId){const L=q.filter(z=>z.debtId===R.debtId).every(z=>z.status==="paid")?"paid":"agreement";V=D.debts.map(z=>z.id===R.debtId?{...z,status:L}:z)}return{...D,transactions:q,debts:V}})},addInvestment:async P=>{const R={...P,id:crypto.randomUUID()};t?await bH(t.uid,R):r(O=>({...O,investments:[...O.investments,R]}))},updateInvestment:async(P,R)=>{t?await wH(t.uid,P,R):r(O=>({...O,investments:O.investments.map(D=>D.id===P?{...D,...R}:D)}))},deleteInvestment:async P=>{t?await _H(t.uid,P):r(R=>({...R,investments:R.investments.filter(O=>O.id!==P)}))},addBudget:async P=>{const R={...P,id:crypto.randomUUID()};t?await EH(t.uid,R):r(O=>({...O,budgets:[...O.budgets||[],R]}))},updateBudget:async(P,R)=>{t?await TH(t.uid,P,R):r(O=>({...O,budgets:O.budgets.map(D=>D.id===P?{...D,...R}:D)}))},deleteBudget:async P=>{t?await SH(t.uid,P):r(R=>({...R,budgets:R.budgets.filter(O=>O.id!==P)}))},addDebt:async P=>{const R={...P,id:crypto.randomUUID()};t?await AH(t.uid,R):r(O=>({...O,debts:[...O.debts||[],R]}))},updateDebt:async(P,R)=>{t?await sk(t.uid,P,R):r(O=>({...O,debts:O.debts.map(D=>D.id===P?{...D,...R}:D)}))},deleteDebt:async P=>{t?await IH(t.uid,P):r(R=>({...R,debts:R.debts.filter(O=>O.id!==P)}))},addShoppingItem:async P=>{const R={...P,id:crypto.randomUUID()};t?await kH(t.uid,R):r(O=>({...O,shoppingList:[...O.shoppingList||[],R]}))},updateShoppingItem:async(P,R)=>{t?await CH(t.uid,P,R):r(O=>({...O,shoppingList:O.shoppingList.map(D=>D.id===P?{...D,...R}:D)}))},deleteShoppingItem:async P=>{t?await PH(t.uid,P):r(R=>({...R,shoppingList:R.shoppingList.filter(O=>O.id!==P)}))},clearShoppingList:async()=>{t?await NH(t.uid):r(P=>({...P,shoppingList:[]}))},setShoppingBudget:async P=>{t?await RH(t.uid,P):r(R=>({...R,shoppingBudget:P}))},saveKanbanColumn:async P=>{t?await OH(t.uid,P):r(R=>R.kanbanColumns.some(D=>D.id===P.id)?{...R,kanbanColumns:R.kanbanColumns.map(D=>D.id===P.id?P:D)}:{...R,kanbanColumns:[...R.kanbanColumns,P]})},deleteKanbanColumn:async P=>{t?await MH(t.uid,P):r(R=>({...R,kanbanColumns:R.kanbanColumns.filter(O=>O.id!==P)}))},unlockBadge:P=>{n.unlockedBadges.includes(P)||(t?DH(t.uid,P,n.unlockedBadges):r(R=>({...R,unlockedBadges:[...R.unlockedBadges,P]})))},saveWealthProfile:async P=>{t?await jH(t.uid,P):r(R=>({...R,wealthProfile:P}))}}}},eO="028.268.001-24",$Ie="Alexandre Magno dos Santos Linhares",VIe=()=>{const[t,e]=B.useState(null),[n,r]=B.useState(!1),[i,o]=B.useState(!0),{data:s,setData:a,actions:l}=LIe(t,n),[u,c]=B.useState(Le.DASHBOARD),[f,h]=B.useState(!1),[y,v]=B.useState(!1),[b,x]=B.useState(!1),[_,w]=B.useState(!1),[E,N]=B.useState(null),[T,C]=B.useState(0),[A,I]=B.useState(!1),[k,P]=B.useState(""),[R,O]=B.useState(!1),[D,q]=B.useState(!1),[V,j]=B.useState(!1);B.useRef(null),B.useEffect(()=>{const de=te=>{te.preventDefault(),N(te)};return window.addEventListener("beforeinstallprompt",de),()=>window.removeEventListener("beforeinstallprompt",de)},[]);const F=async()=>{if(!E)return;E.prompt();const{outcome:de}=await E.userChoice;N(null)};B.useEffect(()=>{const de=n9(tl,async te=>{if(e(te),o(!1),te){r(!1);const Me=rk("guest_user");Me.transactions.length>0&&confirm("Encontramos dados no modo convidado. Deseja migrar para sua conta na nuvem?")&&(await ak(te.uid,Me),localStorage.removeItem("finansmart_data_v2_guest_user"))}});return()=>de()},[]),B.useEffect(()=>{!i&&n&&gH(s,"guest_user")},[s,n,i]);const L=()=>{r(!0);const de=rk("guest_user");a(de)},z=async()=>{n?(r(!1),a({transactions:[],investments:[],budgets:[],debts:[],shoppingList:[],unlockedBadges:[],kanbanColumns:[]})):await r9(tl)};B.useEffect(()=>{O(zC()),zC()&&P(Iu()||""),!localStorage.getItem("nexo_welcome_seen")&&(t||n)&&j(!0)},[t,n]);const G=()=>{k.trim()&&(BC(k.trim()),O(!0),I(!1),alert("Chave API salva no seu navegador com sucesso!"))},Y=()=>{KZ(),P(""),O(!1),I(!1)},H=()=>{k.trim()&&(BC(k.trim()),O(!0)),localStorage.setItem("nexo_welcome_seen","true"),j(!1)},J=()=>{navigator.clipboard.writeText(eO),alert("Chave Pix copiada!")};B.useEffect(()=>{y?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[y]);const ce=()=>{document.fullscreenElement?(document.exitFullscreen&&document.exitFullscreen(),x(!1)):(document.documentElement.requestFullscreen().catch(de=>console.error(de)),x(!0))},W=()=>{confirm(` ATENO: Isso apagar TODOS os dados, configuraes e chave API deste navegador.

Deseja realmente resetar o app para o estado de fbrica?`)&&(localStorage.clear(),window.location.reload())},oe=()=>{const de=JSON.stringify(s),te="data:application/json;charset=utf-8,"+encodeURIComponent(de),Me=document.createElement("a");Me.setAttribute("href",te),Me.setAttribute("download","nexo_backup.json"),Me.click()},Q=de=>{var ke;const te=(ke=de.target.files)==null?void 0:ke[0];if(!te)return;const Me=new FileReader;Me.onload=async nt=>{var rt;try{const it=JSON.parse((rt=nt.target)==null?void 0:rt.result);confirm("Isso substituir seus dados atuais. Tem certeza?")&&(t?await ak(t.uid,it):a(it),alert("Backup restaurado com sucesso!"))}catch{alert("Erro ao ler arquivo de backup.")}},Me.readAsText(te)},be=de=>{c(de),w(!1),setTimeout(()=>C(Date.now()),50)},se=async(de,te,Me)=>{const ke={description:`Compra de Mercado (${new Date().toLocaleDateString()})`,amount:de,type:"expense",category:Me,date:new Date().toISOString().split("T")[0],status:"paid",paymentMethod:te,isRecurring:!1};await l.addTransaction(ke),await l.clearShoppingList(),alert("Compra finalizada! Despesa registrada com sucesso."),c(Le.TRANSACTIONS)},xe=()=>{switch(u){case Le.DASHBOARD:return d.jsx(W2,{data:s,privacyMode:f,onUnlockBadge:l.unlockBadge});case Le.TRANSACTIONS:return d.jsx(yIe,{transactions:s.transactions,budgets:s.budgets,onAdd:l.addTransaction,onUpdate:l.updateTransaction,onDelete:l.deleteTransaction,onToggleStatus:l.toggleTransactionStatus,onNavigate:de=>c(de),privacyMode:f,hasApiKey:R,quickActionSignal:T});case Le.INVESTMENTS:return d.jsx(vIe,{investments:s.investments,onAdd:l.addInvestment,onUpdate:l.updateInvestment,onDelete:l.deleteInvestment,onNavigate:de=>c(de),privacyMode:f,hasApiKey:R,quickActionSignal:T});case Le.SHOPPING_LIST:return d.jsx(PIe,{items:s.shoppingList||[],onAdd:l.addShoppingItem,onUpdate:l.updateShoppingItem,onDelete:l.deleteShoppingItem,onClearList:l.clearShoppingList,onFinishShopping:se,shoppingBudget:s.shoppingBudget,onUpdateBudget:l.setShoppingBudget,hasApiKey:R,privacyMode:f,quickActionSignal:T});case Le.BUDGETS:return d.jsx(bIe,{budgets:s.budgets||[],transactions:s.transactions,investments:s.investments||[],onAdd:l.addBudget,onUpdate:l.updateBudget,onDelete:l.deleteBudget,onNavigate:de=>c(de),privacyMode:f,quickActionSignal:T});case Le.SUBSCRIPTIONS:return d.jsx(wIe,{transactions:s.transactions,onUpdateTransaction:l.updateTransaction,onDeleteTransaction:l.deleteTransaction,privacyMode:f});case Le.CALENDAR:return d.jsx(AIe,{transactions:s.transactions,budgets:s.budgets,onAddTransaction:l.addTransaction,privacyMode:f});case Le.DEBTS:return d.jsx(CIe,{debts:s.debts||[],onAdd:l.addDebt,onUpdate:l.updateDebt,onDelete:l.deleteDebt,onAddTransaction:l.addTransaction,privacyMode:f,quickActionSignal:T});case Le.AI_ASSISTANT:return d.jsx(IIe,{data:s,privacyMode:f});case Le.WEALTH_PLANNER:return d.jsx(RIe,{data:s,onSaveProfile:l.saveWealthProfile,privacyMode:f,hasApiKey:R});case Le.KANBAN:return d.jsx(OIe,{columns:s.kanbanColumns||[],onSaveColumn:l.saveKanbanColumn,onDeleteColumn:l.deleteKanbanColumn,onAddTransaction:de=>{l.addTransaction(de),alert("Transao criada a partir do card!"),c(Le.TRANSACTIONS)},privacyMode:f});default:return d.jsx(W2,{data:s,privacyMode:f,onUnlockBadge:l.unlockBadge})}};return i?d.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:d.jsx(t0,{className:"w-12 h-12 text-indigo-500 animate-spin"})}):!t&&!n?d.jsx(eee,{onGuestLogin:L}):d.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex flex-col md:flex-row font-sans text-slate-900 dark:text-slate-100 transition-colors duration-300",children:[_&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 md:hidden backdrop-blur-sm animate-fade-in",onClick:()=>w(!1)}),d.jsx(MIe,{user:t,isGuest:n,mobileMenuOpen:_,setMobileMenuOpen:w,currentView:u,onNavigate:de=>c(de),onLogout:z,privacyMode:f,setPrivacyMode:h,darkMode:y,setDarkMode:v,isFullscreen:b,toggleFullscreen:ce,hasKey:R,onOpenKeyModal:()=>I(!0),onOpenDonateModal:()=>q(!0),onExportBackup:oe,onImportBackup:Q,onFactoryReset:W,canInstall:!!E,onInstall:F}),d.jsxs("main",{className:"flex-1 p-4 md:p-8 pt-20 md:pt-8 pb-8 overflow-y-auto h-screen scroll-smooth",children:[d.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 bg-slate-900 p-4 border-b border-slate-800 z-30 flex items-center justify-between shadow-md",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>w(!0),className:"text-slate-300 hover:text-white p-1",children:d.jsx(t6,{className:"w-6 h-6"})}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"bg-indigo-600 p-1.5 rounded-lg",children:d.jsx(s1,{className:"w-4 h-4 text-white"})}),d.jsx("span",{className:"font-bold text-white tracking-tight",children:"NEXO"})]})]}),d.jsxs("div",{className:"flex gap-4 items-center",children:[E&&d.jsx("button",{onClick:F,className:"text-emerald-400 hover:text-white animate-pulse",title:"Instalar Aplicativo",children:d.jsx(pD,{className:"w-5 h-5"})}),d.jsxs("button",{onClick:()=>I(!0),className:`${R?"text-emerald-400":"text-rose-500"} hover:text-white relative`,children:[d.jsx(wd,{className:"w-5 h-5"}),!R&&d.jsxs("span",{className:"absolute -top-1 -right-1 flex h-2.5 w-2.5",children:[d.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-rose-400 opacity-75"}),d.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-rose-500"})]})]})]})]}),d.jsxs("div",{className:"max-w-7xl mx-auto animate-fade-in",children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:[d.jsxs("button",{onClick:()=>be(Le.TRANSACTIONS),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-blue-100 dark:border-blue-900/30 hover:border-blue-300 transition-all group",children:[d.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/40 p-2.5 rounded-lg group-hover:bg-blue-600 group-hover:text-white transition-colors text-blue-600 dark:text-blue-400",children:d.jsx(Wx,{className:"w-5 h-5"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Nova"}),d.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Transao"})]})]}),d.jsxs("button",{onClick:()=>be(Le.SHOPPING_LIST),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-emerald-100 dark:border-emerald-900/30 hover:border-emerald-300 transition-all group",children:[d.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/40 p-2.5 rounded-lg group-hover:bg-emerald-600 group-hover:text-white transition-colors text-emerald-600 dark:text-emerald-400",children:d.jsx(sm,{className:"w-5 h-5"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Calculadora"}),d.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Mercado"})]})]}),d.jsxs("button",{onClick:()=>be(Le.DEBTS),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-rose-100 dark:border-rose-900/30 hover:border-rose-300 transition-all group",children:[d.jsx("div",{className:"bg-rose-100 dark:bg-rose-900/40 p-2.5 rounded-lg group-hover:bg-rose-600 group-hover:text-white transition-colors text-rose-600 dark:text-rose-400",children:d.jsx(_d,{className:"w-5 h-5"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Registrar"}),d.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Dvida"})]})]}),d.jsxs("button",{onClick:()=>be(Le.BUDGETS),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-pink-100 dark:border-pink-900/30 hover:border-pink-300 transition-all group",children:[d.jsx("div",{className:"bg-pink-100 dark:bg-pink-900/40 p-2.5 rounded-lg group-hover:bg-pink-600 group-hover:text-white transition-colors text-pink-600 dark:text-pink-400",children:d.jsx(ia,{className:"w-5 h-5"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Definir"}),d.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Meta/Limite"})]})]})]}),xe()]})]}),d.jsx(DIe,{showWelcome:V,isDonateModalOpen:D,isKeyModalOpen:A,userKeyInput:k,hasKey:R,PIX_KEY:eO,PIX_NAME:$Ie,setShowWelcome:j,setIsDonateModalOpen:q,setIsKeyModalOpen:I,setUserKeyInput:P,handleSaveKey:G,handleRemoveKey:Y,handleFinishWelcome:H,copyPix:J})]})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});const PV=document.getElementById("root");if(!PV)throw new Error("Could not find root element to mount to");const FIe=Wv.createRoot(PV);FIe.render(d.jsx(U.StrictMode,{children:d.jsx(VIe,{})}));
