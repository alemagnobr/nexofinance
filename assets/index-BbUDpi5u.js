(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var W2={exports:{}},Pg={},K2={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hf=Symbol.for("react.element"),KF=Symbol.for("react.portal"),YF=Symbol.for("react.fragment"),JF=Symbol.for("react.strict_mode"),XF=Symbol.for("react.profiler"),QF=Symbol.for("react.provider"),ZF=Symbol.for("react.context"),e5=Symbol.for("react.forward_ref"),t5=Symbol.for("react.suspense"),n5=Symbol.for("react.memo"),r5=Symbol.for("react.lazy"),vS=Symbol.iterator;function i5(t){return t===null||typeof t!="object"?null:(t=vS&&t[vS]||t["@@iterator"],typeof t=="function"?t:null)}var Y2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J2=Object.assign,X2={};function ou(t,e,n){this.props=t,this.context=e,this.refs=X2,this.updater=n||Y2}ou.prototype.isReactComponent={};ou.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ou.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Q2(){}Q2.prototype=ou.prototype;function tw(t,e,n){this.props=t,this.context=e,this.refs=X2,this.updater=n||Y2}var nw=tw.prototype=new Q2;nw.constructor=tw;J2(nw,ou.prototype);nw.isPureReactComponent=!0;var xS=Array.isArray,Z2=Object.prototype.hasOwnProperty,rw={current:null},eO={key:!0,ref:!0,__self:!0,__source:!0};function tO(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Z2.call(e,r)&&!eO.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:hf,type:t,key:o,ref:s,props:i,_owner:rw.current}}function o5(t,e){return{$$typeof:hf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function iw(t){return typeof t=="object"&&t!==null&&t.$$typeof===hf}function s5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var bS=/\/+/g;function w0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?s5(""+t.key):e.toString(36)}function Zh(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case hf:case KF:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+w0(s,0):r,xS(i)?(n="",t!=null&&(n=t.replace(bS,"$&/")+"/"),Zh(i,e,n,"",function(u){return u})):i!=null&&(iw(i)&&(i=o5(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(bS,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",xS(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+w0(o,a);s+=Zh(o,e,n,l,i)}else if(l=i5(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+w0(o,a++),s+=Zh(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ch(t,e,n){if(t==null)return t;var r=[],i=0;return Zh(t,r,"","",function(o){return e.call(n,o,i++)}),r}function a5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mn={current:null},ep={transition:null},l5={ReactCurrentDispatcher:Mn,ReactCurrentBatchConfig:ep,ReactCurrentOwner:rw};function nO(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:ch,forEach:function(t,e,n){ch(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ch(t,function(){e++}),e},toArray:function(t){return ch(t,function(e){return e})||[]},only:function(t){if(!iw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Le.Component=ou;Le.Fragment=YF;Le.Profiler=XF;Le.PureComponent=tw;Le.StrictMode=JF;Le.Suspense=t5;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l5;Le.act=nO;Le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=J2({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=rw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Z2.call(e,l)&&!eO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:hf,type:t.type,key:i,ref:o,props:r,_owner:s}};Le.createContext=function(t){return t={$$typeof:ZF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QF,_context:t},t.Consumer=t};Le.createElement=tO;Le.createFactory=function(t){var e=tO.bind(null,t);return e.type=t,e};Le.createRef=function(){return{current:null}};Le.forwardRef=function(t){return{$$typeof:e5,render:t}};Le.isValidElement=iw;Le.lazy=function(t){return{$$typeof:r5,_payload:{_status:-1,_result:t},_init:a5}};Le.memo=function(t,e){return{$$typeof:n5,type:t,compare:e===void 0?null:e}};Le.startTransition=function(t){var e=ep.transition;ep.transition={};try{t()}finally{ep.transition=e}};Le.unstable_act=nO;Le.useCallback=function(t,e){return Mn.current.useCallback(t,e)};Le.useContext=function(t){return Mn.current.useContext(t)};Le.useDebugValue=function(){};Le.useDeferredValue=function(t){return Mn.current.useDeferredValue(t)};Le.useEffect=function(t,e){return Mn.current.useEffect(t,e)};Le.useId=function(){return Mn.current.useId()};Le.useImperativeHandle=function(t,e,n){return Mn.current.useImperativeHandle(t,e,n)};Le.useInsertionEffect=function(t,e){return Mn.current.useInsertionEffect(t,e)};Le.useLayoutEffect=function(t,e){return Mn.current.useLayoutEffect(t,e)};Le.useMemo=function(t,e){return Mn.current.useMemo(t,e)};Le.useReducer=function(t,e,n){return Mn.current.useReducer(t,e,n)};Le.useRef=function(t){return Mn.current.useRef(t)};Le.useState=function(t){return Mn.current.useState(t)};Le.useSyncExternalStore=function(t,e,n){return Mn.current.useSyncExternalStore(t,e,n)};Le.useTransition=function(){return Mn.current.useTransition()};Le.version="18.3.1";K2.exports=Le;var G=K2.exports;const B=Xe(G);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u5=G,c5=Symbol.for("react.element"),d5=Symbol.for("react.fragment"),f5=Object.prototype.hasOwnProperty,h5=u5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p5={key:!0,ref:!0,__self:!0,__source:!0};function rO(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)f5.call(e,r)&&!p5.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:c5,type:t,key:o,ref:s,props:i,_owner:h5.current}}Pg.Fragment=d5;Pg.jsx=rO;Pg.jsxs=rO;W2.exports=Pg;var d=W2.exports,Vv={},iO={exports:{}},rr={},oO={exports:{}},sO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,V){var z=L.length;L.push(V);e:for(;0<z;){var Y=z-1>>>1,H=L[Y];if(0<i(H,V))L[Y]=V,L[z]=H,z=Y;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var V=L[0],z=L.pop();if(z!==V){L[0]=z;e:for(var Y=0,H=L.length,J=H>>>1;Y<J;){var ce=2*(Y+1)-1,W=L[ce],ie=ce+1,fe=L[ie];if(0>i(W,z))ie<H&&0>i(fe,W)?(L[Y]=fe,L[ie]=z,Y=ie):(L[Y]=W,L[ce]=z,Y=ce);else if(ie<H&&0>i(fe,z))L[Y]=fe,L[ie]=z,Y=ie;else break e}}return V}function i(L,V){var z=L.sortIndex-V.sortIndex;return z!==0?z:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,h=3,y=!1,v=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(L){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=L)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function P(L){if(b=!1,E(L),!v)if(n(l)!==null)v=!0,j(S);else{var V=n(u);V!==null&&F(P,V.startTime-L)}}function S(L,V){v=!1,b&&(b=!1,w(T),T=-1),y=!0;var z=h;try{for(E(V),f=n(l);f!==null&&(!(f.expirationTime>V)||L&&!O());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,h=f.priorityLevel;var H=Y(f.expirationTime<=V);V=t.unstable_now(),typeof H=="function"?f.callback=H:f===n(l)&&r(l),E(V)}else r(l);f=n(l)}if(f!==null)var J=!0;else{var ce=n(u);ce!==null&&F(P,ce.startTime-V),J=!1}return J}finally{f=null,h=z,y=!1}}var C=!1,I=null,T=-1,k=5,N=-1;function O(){return!(t.unstable_now()-N<k)}function M(){if(I!==null){var L=t.unstable_now();N=L;var V=!0;try{V=I(!0,L)}finally{V?D():(C=!1,I=null)}}else C=!1}var D;if(typeof _=="function")D=function(){_(M)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,U=q.port2;q.port1.onmessage=M,D=function(){U.postMessage(null)}}else D=function(){x(M,0)};function j(L){I=L,C||(C=!0,D())}function F(L,V){T=x(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,j(S))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var V=3;break;default:V=h}var z=h;h=V;try{return L()}finally{h=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=h;h=L;try{return V()}finally{h=z}},t.unstable_scheduleCallback=function(L,V,z){var Y=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Y+z:Y):z=Y,L){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=z+H,L={id:c++,callback:V,priorityLevel:L,startTime:z,expirationTime:H,sortIndex:-1},z>Y?(L.sortIndex=z,e(u,L),n(l)===null&&L===n(u)&&(b?(w(T),T=-1):b=!0,F(P,z-Y))):(L.sortIndex=H,e(l,L),v||y||(v=!0,j(S))),L},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(L){var V=h;return function(){var z=h;h=V;try{return L.apply(this,arguments)}finally{h=z}}}})(sO);oO.exports=sO;var m5=oO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g5=G,nr=m5;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aO=new Set,Yc={};function aa(t,e){gl(t,e),gl(t+"Capture",e)}function gl(t,e){for(Yc[t]=e,t=0;t<e.length;t++)aO.add(e[t])}var Mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fv=Object.prototype.hasOwnProperty,y5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_S={},wS={};function v5(t){return Fv.call(wS,t)?!0:Fv.call(_S,t)?!1:y5.test(t)?wS[t]=!0:(_S[t]=!0,!1)}function x5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function b5(t,e,n,r){if(e===null||typeof e>"u"||x5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){un[t]=new Dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];un[e]=new Dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){un[t]=new Dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){un[t]=new Dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){un[t]=new Dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){un[t]=new Dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){un[t]=new Dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){un[t]=new Dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){un[t]=new Dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ow=/[\-:]([a-z])/g;function sw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ow,sw);un[e]=new Dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ow,sw);un[e]=new Dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ow,sw);un[e]=new Dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){un[t]=new Dn(t,1,!1,t.toLowerCase(),null,!1,!1)});un.xlinkHref=new Dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){un[t]=new Dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function aw(t,e,n,r){var i=un.hasOwnProperty(e)?un[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(b5(e,n,i,r)&&(n=null),r||i===null?v5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ji=g5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dh=Symbol.for("react.element"),Oa=Symbol.for("react.portal"),Ma=Symbol.for("react.fragment"),lw=Symbol.for("react.strict_mode"),Uv=Symbol.for("react.profiler"),lO=Symbol.for("react.provider"),uO=Symbol.for("react.context"),uw=Symbol.for("react.forward_ref"),Bv=Symbol.for("react.suspense"),Gv=Symbol.for("react.suspense_list"),cw=Symbol.for("react.memo"),fo=Symbol.for("react.lazy"),cO=Symbol.for("react.offscreen"),ES=Symbol.iterator;function Yu(t){return t===null||typeof t!="object"?null:(t=ES&&t[ES]||t["@@iterator"],typeof t=="function"?t:null)}var wt=Object.assign,E0;function gc(t){if(E0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);E0=e&&e[1]||""}return`
`+E0+t}var T0=!1;function S0(t,e){if(!t||T0)return"";T0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{T0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?gc(t):""}function _5(t){switch(t.tag){case 5:return gc(t.type);case 16:return gc("Lazy");case 13:return gc("Suspense");case 19:return gc("SuspenseList");case 0:case 2:case 15:return t=S0(t.type,!1),t;case 11:return t=S0(t.type.render,!1),t;case 1:return t=S0(t.type,!0),t;default:return""}}function zv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ma:return"Fragment";case Oa:return"Portal";case Uv:return"Profiler";case lw:return"StrictMode";case Bv:return"Suspense";case Gv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uO:return(t.displayName||"Context")+".Consumer";case lO:return(t._context.displayName||"Context")+".Provider";case uw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cw:return e=t.displayName||null,e!==null?e:zv(t.type)||"Memo";case fo:e=t._payload,t=t._init;try{return zv(t(e))}catch{}}return null}function w5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zv(e);case 8:return e===lw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Go(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function E5(t){var e=dO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fh(t){t._valueTracker||(t._valueTracker=E5(t))}function fO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=dO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Sp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qv(t,e){var n=e.checked;return wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function TS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Go(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hO(t,e){e=e.checked,e!=null&&aw(t,"checked",e,!1)}function Hv(t,e){hO(t,e);var n=Go(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Wv(t,e.type,Go(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function SS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Wv(t,e,n){(e!=="number"||Sp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var yc=Array.isArray;function tl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Go(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Kv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return wt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function AS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ae(92));if(yc(n)){if(1<n.length)throw Error(ae(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Go(n)}}function pO(t,e){var n=Go(e.value),r=Go(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function IS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hh,gO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hh=hh||document.createElement("div"),hh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Jc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ic={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},T5=["Webkit","ms","Moz","O"];Object.keys(Ic).forEach(function(t){T5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ic[e]=Ic[t]})});function yO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ic.hasOwnProperty(t)&&Ic[t]?(""+e).trim():e+"px"}function vO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=yO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var S5=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jv(t,e){if(e){if(S5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function Xv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qv=null;function dw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zv=null,nl=null,rl=null;function kS(t){if(t=gf(t)){if(typeof Zv!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=Dg(e),Zv(t.stateNode,t.type,e))}}function xO(t){nl?rl?rl.push(t):rl=[t]:nl=t}function bO(){if(nl){var t=nl,e=rl;if(rl=nl=null,kS(t),e)for(t=0;t<e.length;t++)kS(e[t])}}function _O(t,e){return t(e)}function wO(){}var A0=!1;function EO(t,e,n){if(A0)return t(e,n);A0=!0;try{return _O(t,e,n)}finally{A0=!1,(nl!==null||rl!==null)&&(wO(),bO())}}function Xc(t,e){var n=t.stateNode;if(n===null)return null;var r=Dg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ae(231,e,typeof n));return n}var ex=!1;if(Mi)try{var Ju={};Object.defineProperty(Ju,"passive",{get:function(){ex=!0}}),window.addEventListener("test",Ju,Ju),window.removeEventListener("test",Ju,Ju)}catch{ex=!1}function A5(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var kc=!1,Ap=null,Ip=!1,tx=null,I5={onError:function(t){kc=!0,Ap=t}};function k5(t,e,n,r,i,o,s,a,l){kc=!1,Ap=null,A5.apply(I5,arguments)}function C5(t,e,n,r,i,o,s,a,l){if(k5.apply(this,arguments),kc){if(kc){var u=Ap;kc=!1,Ap=null}else throw Error(ae(198));Ip||(Ip=!0,tx=u)}}function la(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function TO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function CS(t){if(la(t)!==t)throw Error(ae(188))}function P5(t){var e=t.alternate;if(!e){if(e=la(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return CS(i),t;if(o===r)return CS(i),e;o=o.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?t:e}function SO(t){return t=P5(t),t!==null?AO(t):null}function AO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=AO(t);if(e!==null)return e;t=t.sibling}return null}var IO=nr.unstable_scheduleCallback,PS=nr.unstable_cancelCallback,N5=nr.unstable_shouldYield,R5=nr.unstable_requestPaint,Ct=nr.unstable_now,O5=nr.unstable_getCurrentPriorityLevel,fw=nr.unstable_ImmediatePriority,kO=nr.unstable_UserBlockingPriority,kp=nr.unstable_NormalPriority,M5=nr.unstable_LowPriority,CO=nr.unstable_IdlePriority,Ng=null,Qr=null;function D5(t){if(Qr&&typeof Qr.onCommitFiberRoot=="function")try{Qr.onCommitFiberRoot(Ng,t,void 0,(t.current.flags&128)===128)}catch{}}var Dr=Math.clz32?Math.clz32:$5,j5=Math.log,L5=Math.LN2;function $5(t){return t>>>=0,t===0?32:31-(j5(t)/L5|0)|0}var ph=64,mh=4194304;function vc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Cp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=vc(a):(o&=s,o!==0&&(r=vc(o)))}else s=n&~i,s!==0?r=vc(s):o!==0&&(r=vc(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Dr(e),i=1<<n,r|=t[n],e&=~i;return r}function V5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Dr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=V5(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function nx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function PO(){var t=ph;return ph<<=1,!(ph&4194240)&&(ph=64),t}function I0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dr(e),t[e]=n}function U5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Dr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function hw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Dr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ze=0;function NO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var RO,pw,OO,MO,DO,rx=!1,gh=[],ko=null,Co=null,Po=null,Qc=new Map,Zc=new Map,mo=[],B5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function NS(t,e){switch(t){case"focusin":case"focusout":ko=null;break;case"dragenter":case"dragleave":Co=null;break;case"mouseover":case"mouseout":Po=null;break;case"pointerover":case"pointerout":Qc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zc.delete(e.pointerId)}}function Xu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=gf(e),e!==null&&pw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function G5(t,e,n,r,i){switch(e){case"focusin":return ko=Xu(ko,t,e,n,r,i),!0;case"dragenter":return Co=Xu(Co,t,e,n,r,i),!0;case"mouseover":return Po=Xu(Po,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Qc.set(o,Xu(Qc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Zc.set(o,Xu(Zc.get(o)||null,t,e,n,r,i)),!0}return!1}function jO(t){var e=Ss(t.target);if(e!==null){var n=la(e);if(n!==null){if(e=n.tag,e===13){if(e=TO(n),e!==null){t.blockedOn=e,DO(t.priority,function(){OO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ix(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qv=r,n.target.dispatchEvent(r),Qv=null}else return e=gf(n),e!==null&&pw(e),t.blockedOn=n,!1;e.shift()}return!0}function RS(t,e,n){tp(t)&&n.delete(e)}function z5(){rx=!1,ko!==null&&tp(ko)&&(ko=null),Co!==null&&tp(Co)&&(Co=null),Po!==null&&tp(Po)&&(Po=null),Qc.forEach(RS),Zc.forEach(RS)}function Qu(t,e){t.blockedOn===e&&(t.blockedOn=null,rx||(rx=!0,nr.unstable_scheduleCallback(nr.unstable_NormalPriority,z5)))}function ed(t){function e(i){return Qu(i,t)}if(0<gh.length){Qu(gh[0],t);for(var n=1;n<gh.length;n++){var r=gh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ko!==null&&Qu(ko,t),Co!==null&&Qu(Co,t),Po!==null&&Qu(Po,t),Qc.forEach(e),Zc.forEach(e),n=0;n<mo.length;n++)r=mo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<mo.length&&(n=mo[0],n.blockedOn===null);)jO(n),n.blockedOn===null&&mo.shift()}var il=Ji.ReactCurrentBatchConfig,Pp=!0;function q5(t,e,n,r){var i=Ze,o=il.transition;il.transition=null;try{Ze=1,mw(t,e,n,r)}finally{Ze=i,il.transition=o}}function H5(t,e,n,r){var i=Ze,o=il.transition;il.transition=null;try{Ze=4,mw(t,e,n,r)}finally{Ze=i,il.transition=o}}function mw(t,e,n,r){if(Pp){var i=ix(t,e,n,r);if(i===null)L0(t,e,r,Np,n),NS(t,r);else if(G5(i,t,e,n,r))r.stopPropagation();else if(NS(t,r),e&4&&-1<B5.indexOf(t)){for(;i!==null;){var o=gf(i);if(o!==null&&RO(o),o=ix(t,e,n,r),o===null&&L0(t,e,r,Np,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else L0(t,e,r,null,n)}}var Np=null;function ix(t,e,n,r){if(Np=null,t=dw(r),t=Ss(t),t!==null)if(e=la(t),e===null)t=null;else if(n=e.tag,n===13){if(t=TO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Np=t,null}function LO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(O5()){case fw:return 1;case kO:return 4;case kp:case M5:return 16;case CO:return 536870912;default:return 16}default:return 16}}var wo=null,gw=null,np=null;function $O(){if(np)return np;var t,e=gw,n=e.length,r,i="value"in wo?wo.value:wo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return np=i.slice(t,1<r?1-r:void 0)}function rp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yh(){return!0}function OS(){return!1}function ir(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?yh:OS,this.isPropagationStopped=OS,this}return wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yh)},persist:function(){},isPersistent:yh}),e}var su={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yw=ir(su),mf=wt({},su,{view:0,detail:0}),W5=ir(mf),k0,C0,Zu,Rg=wt({},mf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zu&&(Zu&&t.type==="mousemove"?(k0=t.screenX-Zu.screenX,C0=t.screenY-Zu.screenY):C0=k0=0,Zu=t),k0)},movementY:function(t){return"movementY"in t?t.movementY:C0}}),MS=ir(Rg),K5=wt({},Rg,{dataTransfer:0}),Y5=ir(K5),J5=wt({},mf,{relatedTarget:0}),P0=ir(J5),X5=wt({},su,{animationName:0,elapsedTime:0,pseudoElement:0}),Q5=ir(X5),Z5=wt({},su,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eU=ir(Z5),tU=wt({},su,{data:0}),DS=ir(tU),nU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=iU[t])?!!e[t]:!1}function vw(){return oU}var sU=wt({},mf,{key:function(t){if(t.key){var e=nU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vw,charCode:function(t){return t.type==="keypress"?rp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aU=ir(sU),lU=wt({},Rg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jS=ir(lU),uU=wt({},mf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vw}),cU=ir(uU),dU=wt({},su,{propertyName:0,elapsedTime:0,pseudoElement:0}),fU=ir(dU),hU=wt({},Rg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pU=ir(hU),mU=[9,13,27,32],xw=Mi&&"CompositionEvent"in window,Cc=null;Mi&&"documentMode"in document&&(Cc=document.documentMode);var gU=Mi&&"TextEvent"in window&&!Cc,VO=Mi&&(!xw||Cc&&8<Cc&&11>=Cc),LS=" ",$S=!1;function FO(t,e){switch(t){case"keyup":return mU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Da=!1;function yU(t,e){switch(t){case"compositionend":return UO(e);case"keypress":return e.which!==32?null:($S=!0,LS);case"textInput":return t=e.data,t===LS&&$S?null:t;default:return null}}function vU(t,e){if(Da)return t==="compositionend"||!xw&&FO(t,e)?(t=$O(),np=gw=wo=null,Da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return VO&&e.locale!=="ko"?null:e.data;default:return null}}var xU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xU[t.type]:e==="textarea"}function BO(t,e,n,r){xO(r),e=Rp(e,"onChange"),0<e.length&&(n=new yw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Pc=null,td=null;function bU(t){ZO(t,0)}function Og(t){var e=$a(t);if(fO(e))return t}function _U(t,e){if(t==="change")return e}var GO=!1;if(Mi){var N0;if(Mi){var R0="oninput"in document;if(!R0){var FS=document.createElement("div");FS.setAttribute("oninput","return;"),R0=typeof FS.oninput=="function"}N0=R0}else N0=!1;GO=N0&&(!document.documentMode||9<document.documentMode)}function US(){Pc&&(Pc.detachEvent("onpropertychange",zO),td=Pc=null)}function zO(t){if(t.propertyName==="value"&&Og(td)){var e=[];BO(e,td,t,dw(t)),EO(bU,e)}}function wU(t,e,n){t==="focusin"?(US(),Pc=e,td=n,Pc.attachEvent("onpropertychange",zO)):t==="focusout"&&US()}function EU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Og(td)}function TU(t,e){if(t==="click")return Og(e)}function SU(t,e){if(t==="input"||t==="change")return Og(e)}function AU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Br=typeof Object.is=="function"?Object.is:AU;function nd(t,e){if(Br(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Fv.call(e,i)||!Br(t[i],e[i]))return!1}return!0}function BS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function GS(t,e){var n=BS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=BS(n)}}function qO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function HO(){for(var t=window,e=Sp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Sp(t.document)}return e}function bw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function IU(t){var e=HO(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qO(n.ownerDocument.documentElement,n)){if(r!==null&&bw(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=GS(n,o);var s=GS(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kU=Mi&&"documentMode"in document&&11>=document.documentMode,ja=null,ox=null,Nc=null,sx=!1;function zS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sx||ja==null||ja!==Sp(r)||(r=ja,"selectionStart"in r&&bw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nc&&nd(Nc,r)||(Nc=r,r=Rp(ox,"onSelect"),0<r.length&&(e=new yw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ja)))}function vh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var La={animationend:vh("Animation","AnimationEnd"),animationiteration:vh("Animation","AnimationIteration"),animationstart:vh("Animation","AnimationStart"),transitionend:vh("Transition","TransitionEnd")},O0={},WO={};Mi&&(WO=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Mg(t){if(O0[t])return O0[t];if(!La[t])return t;var e=La[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in WO)return O0[t]=e[n];return t}var KO=Mg("animationend"),YO=Mg("animationiteration"),JO=Mg("animationstart"),XO=Mg("transitionend"),QO=new Map,qS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jo(t,e){QO.set(t,e),aa(e,[t])}for(var M0=0;M0<qS.length;M0++){var D0=qS[M0],CU=D0.toLowerCase(),PU=D0[0].toUpperCase()+D0.slice(1);Jo(CU,"on"+PU)}Jo(KO,"onAnimationEnd");Jo(YO,"onAnimationIteration");Jo(JO,"onAnimationStart");Jo("dblclick","onDoubleClick");Jo("focusin","onFocus");Jo("focusout","onBlur");Jo(XO,"onTransitionEnd");gl("onMouseEnter",["mouseout","mouseover"]);gl("onMouseLeave",["mouseout","mouseover"]);gl("onPointerEnter",["pointerout","pointerover"]);gl("onPointerLeave",["pointerout","pointerover"]);aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NU=new Set("cancel close invalid load scroll toggle".split(" ").concat(xc));function HS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,C5(r,e,void 0,t),t.currentTarget=null}function ZO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;HS(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;HS(i,a,u),o=l}}}if(Ip)throw t=tx,Ip=!1,tx=null,t}function ft(t,e){var n=e[dx];n===void 0&&(n=e[dx]=new Set);var r=t+"__bubble";n.has(r)||(eM(e,t,2,!1),n.add(r))}function j0(t,e,n){var r=0;e&&(r|=4),eM(n,t,r,e)}var xh="_reactListening"+Math.random().toString(36).slice(2);function rd(t){if(!t[xh]){t[xh]=!0,aO.forEach(function(n){n!=="selectionchange"&&(NU.has(n)||j0(n,!1,t),j0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xh]||(e[xh]=!0,j0("selectionchange",!1,e))}}function eM(t,e,n,r){switch(LO(e)){case 1:var i=q5;break;case 4:i=H5;break;default:i=mw}n=i.bind(null,e,n,t),i=void 0,!ex||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function L0(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ss(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}EO(function(){var u=o,c=dw(n),f=[];e:{var h=QO.get(t);if(h!==void 0){var y=yw,v=t;switch(t){case"keypress":if(rp(n)===0)break e;case"keydown":case"keyup":y=aU;break;case"focusin":v="focus",y=P0;break;case"focusout":v="blur",y=P0;break;case"beforeblur":case"afterblur":y=P0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=MS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Y5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=cU;break;case KO:case YO:case JO:y=Q5;break;case XO:y=fU;break;case"scroll":y=W5;break;case"wheel":y=pU;break;case"copy":case"cut":case"paste":y=eU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=jS}var b=(e&4)!==0,x=!b&&t==="scroll",w=b?h!==null?h+"Capture":null:h;b=[];for(var _=u,E;_!==null;){E=_;var P=E.stateNode;if(E.tag===5&&P!==null&&(E=P,w!==null&&(P=Xc(_,w),P!=null&&b.push(id(_,P,E)))),x)break;_=_.return}0<b.length&&(h=new y(h,v,null,n,c),f.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==Qv&&(v=n.relatedTarget||n.fromElement)&&(Ss(v)||v[Di]))break e;if((y||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?Ss(v):null,v!==null&&(x=la(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(b=MS,P="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(b=jS,P="onPointerLeave",w="onPointerEnter",_="pointer"),x=y==null?h:$a(y),E=v==null?h:$a(v),h=new b(P,_+"leave",y,n,c),h.target=x,h.relatedTarget=E,P=null,Ss(c)===u&&(b=new b(w,_+"enter",v,n,c),b.target=E,b.relatedTarget=x,P=b),x=P,y&&v)t:{for(b=y,w=v,_=0,E=b;E;E=Ea(E))_++;for(E=0,P=w;P;P=Ea(P))E++;for(;0<_-E;)b=Ea(b),_--;for(;0<E-_;)w=Ea(w),E--;for(;_--;){if(b===w||w!==null&&b===w.alternate)break t;b=Ea(b),w=Ea(w)}b=null}else b=null;y!==null&&WS(f,h,y,b,!1),v!==null&&x!==null&&WS(f,x,v,b,!0)}}e:{if(h=u?$a(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var S=_U;else if(VS(h))if(GO)S=SU;else{S=EU;var C=wU}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=TU);if(S&&(S=S(t,u))){BO(f,S,n,c);break e}C&&C(t,h,u),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Wv(h,"number",h.value)}switch(C=u?$a(u):window,t){case"focusin":(VS(C)||C.contentEditable==="true")&&(ja=C,ox=u,Nc=null);break;case"focusout":Nc=ox=ja=null;break;case"mousedown":sx=!0;break;case"contextmenu":case"mouseup":case"dragend":sx=!1,zS(f,n,c);break;case"selectionchange":if(kU)break;case"keydown":case"keyup":zS(f,n,c)}var I;if(xw)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Da?FO(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(VO&&n.locale!=="ko"&&(Da||T!=="onCompositionStart"?T==="onCompositionEnd"&&Da&&(I=$O()):(wo=c,gw="value"in wo?wo.value:wo.textContent,Da=!0)),C=Rp(u,T),0<C.length&&(T=new DS(T,t,null,n,c),f.push({event:T,listeners:C}),I?T.data=I:(I=UO(n),I!==null&&(T.data=I)))),(I=gU?yU(t,n):vU(t,n))&&(u=Rp(u,"onBeforeInput"),0<u.length&&(c=new DS("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=I))}ZO(f,e)})}function id(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Xc(t,n),o!=null&&r.unshift(id(t,o,i)),o=Xc(t,e),o!=null&&r.push(id(t,o,i))),t=t.return}return r}function Ea(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function WS(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Xc(n,o),l!=null&&s.unshift(id(n,l,a))):i||(l=Xc(n,o),l!=null&&s.push(id(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var RU=/\r\n?/g,OU=/\u0000|\uFFFD/g;function KS(t){return(typeof t=="string"?t:""+t).replace(RU,`
`).replace(OU,"")}function bh(t,e,n){if(e=KS(e),KS(t)!==e&&n)throw Error(ae(425))}function Op(){}var ax=null,lx=null;function ux(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cx=typeof setTimeout=="function"?setTimeout:void 0,MU=typeof clearTimeout=="function"?clearTimeout:void 0,YS=typeof Promise=="function"?Promise:void 0,DU=typeof queueMicrotask=="function"?queueMicrotask:typeof YS<"u"?function(t){return YS.resolve(null).then(t).catch(jU)}:cx;function jU(t){setTimeout(function(){throw t})}function $0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ed(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ed(e)}function No(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function JS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var au=Math.random().toString(36).slice(2),Yr="__reactFiber$"+au,od="__reactProps$"+au,Di="__reactContainer$"+au,dx="__reactEvents$"+au,LU="__reactListeners$"+au,$U="__reactHandles$"+au;function Ss(t){var e=t[Yr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Di]||n[Yr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=JS(t);t!==null;){if(n=t[Yr])return n;t=JS(t)}return e}t=n,n=t.parentNode}return null}function gf(t){return t=t[Yr]||t[Di],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $a(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function Dg(t){return t[od]||null}var fx=[],Va=-1;function Xo(t){return{current:t}}function mt(t){0>Va||(t.current=fx[Va],fx[Va]=null,Va--)}function ut(t,e){Va++,fx[Va]=t.current,t.current=e}var zo={},_n=Xo(zo),Fn=Xo(!1),Bs=zo;function yl(t,e){var n=t.type.contextTypes;if(!n)return zo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Un(t){return t=t.childContextTypes,t!=null}function Mp(){mt(Fn),mt(_n)}function XS(t,e,n){if(_n.current!==zo)throw Error(ae(168));ut(_n,e),ut(Fn,n)}function tM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ae(108,w5(t)||"Unknown",i));return wt({},n,r)}function Dp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zo,Bs=_n.current,ut(_n,t),ut(Fn,Fn.current),!0}function QS(t,e,n){var r=t.stateNode;if(!r)throw Error(ae(169));n?(t=tM(t,e,Bs),r.__reactInternalMemoizedMergedChildContext=t,mt(Fn),mt(_n),ut(_n,t)):mt(Fn),ut(Fn,n)}var vi=null,jg=!1,V0=!1;function nM(t){vi===null?vi=[t]:vi.push(t)}function VU(t){jg=!0,nM(t)}function Qo(){if(!V0&&vi!==null){V0=!0;var t=0,e=Ze;try{var n=vi;for(Ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vi=null,jg=!1}catch(i){throw vi!==null&&(vi=vi.slice(t+1)),IO(fw,Qo),i}finally{Ze=e,V0=!1}}return null}var Fa=[],Ua=0,jp=null,Lp=0,lr=[],ur=0,Gs=null,_i=1,wi="";function gs(t,e){Fa[Ua++]=Lp,Fa[Ua++]=jp,jp=t,Lp=e}function rM(t,e,n){lr[ur++]=_i,lr[ur++]=wi,lr[ur++]=Gs,Gs=t;var r=_i;t=wi;var i=32-Dr(r)-1;r&=~(1<<i),n+=1;var o=32-Dr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,_i=1<<32-Dr(e)+i|n<<i|r,wi=o+t}else _i=1<<o|n<<i|r,wi=t}function _w(t){t.return!==null&&(gs(t,1),rM(t,1,0))}function ww(t){for(;t===jp;)jp=Fa[--Ua],Fa[Ua]=null,Lp=Fa[--Ua],Fa[Ua]=null;for(;t===Gs;)Gs=lr[--ur],lr[ur]=null,wi=lr[--ur],lr[ur]=null,_i=lr[--ur],lr[ur]=null}var Qn=null,Jn=null,gt=!1,Rr=null;function iM(t,e){var n=dr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ZS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qn=t,Jn=No(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qn=t,Jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Gs!==null?{id:_i,overflow:wi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=dr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Qn=t,Jn=null,!0):!1;default:return!1}}function hx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function px(t){if(gt){var e=Jn;if(e){var n=e;if(!ZS(t,e)){if(hx(t))throw Error(ae(418));e=No(n.nextSibling);var r=Qn;e&&ZS(t,e)?iM(r,n):(t.flags=t.flags&-4097|2,gt=!1,Qn=t)}}else{if(hx(t))throw Error(ae(418));t.flags=t.flags&-4097|2,gt=!1,Qn=t}}}function eA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qn=t}function _h(t){if(t!==Qn)return!1;if(!gt)return eA(t),gt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ux(t.type,t.memoizedProps)),e&&(e=Jn)){if(hx(t))throw oM(),Error(ae(418));for(;e;)iM(t,e),e=No(e.nextSibling)}if(eA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jn=No(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jn=null}}else Jn=Qn?No(t.stateNode.nextSibling):null;return!0}function oM(){for(var t=Jn;t;)t=No(t.nextSibling)}function vl(){Jn=Qn=null,gt=!1}function Ew(t){Rr===null?Rr=[t]:Rr.push(t)}var FU=Ji.ReactCurrentBatchConfig;function ec(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,t))}return t}function wh(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tA(t){var e=t._init;return e(t._payload)}function sM(t){function e(w,_){if(t){var E=w.deletions;E===null?(w.deletions=[_],w.flags|=16):E.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(w,_){return w=Do(w,_),w.index=0,w.sibling=null,w}function o(w,_,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<_?(w.flags|=2,_):E):(w.flags|=2,_)):(w.flags|=1048576,_)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,_,E,P){return _===null||_.tag!==6?(_=H0(E,w.mode,P),_.return=w,_):(_=i(_,E),_.return=w,_)}function l(w,_,E,P){var S=E.type;return S===Ma?c(w,_,E.props.children,P,E.key):_!==null&&(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===fo&&tA(S)===_.type)?(P=i(_,E.props),P.ref=ec(w,_,E),P.return=w,P):(P=cp(E.type,E.key,E.props,null,w.mode,P),P.ref=ec(w,_,E),P.return=w,P)}function u(w,_,E,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=W0(E,w.mode,P),_.return=w,_):(_=i(_,E.children||[]),_.return=w,_)}function c(w,_,E,P,S){return _===null||_.tag!==7?(_=js(E,w.mode,P,S),_.return=w,_):(_=i(_,E),_.return=w,_)}function f(w,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=H0(""+_,w.mode,E),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case dh:return E=cp(_.type,_.key,_.props,null,w.mode,E),E.ref=ec(w,null,_),E.return=w,E;case Oa:return _=W0(_,w.mode,E),_.return=w,_;case fo:var P=_._init;return f(w,P(_._payload),E)}if(yc(_)||Yu(_))return _=js(_,w.mode,E,null),_.return=w,_;wh(w,_)}return null}function h(w,_,E,P){var S=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return S!==null?null:a(w,_,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case dh:return E.key===S?l(w,_,E,P):null;case Oa:return E.key===S?u(w,_,E,P):null;case fo:return S=E._init,h(w,_,S(E._payload),P)}if(yc(E)||Yu(E))return S!==null?null:c(w,_,E,P,null);wh(w,E)}return null}function y(w,_,E,P,S){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(E)||null,a(_,w,""+P,S);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case dh:return w=w.get(P.key===null?E:P.key)||null,l(_,w,P,S);case Oa:return w=w.get(P.key===null?E:P.key)||null,u(_,w,P,S);case fo:var C=P._init;return y(w,_,E,C(P._payload),S)}if(yc(P)||Yu(P))return w=w.get(E)||null,c(_,w,P,S,null);wh(_,P)}return null}function v(w,_,E,P){for(var S=null,C=null,I=_,T=_=0,k=null;I!==null&&T<E.length;T++){I.index>T?(k=I,I=null):k=I.sibling;var N=h(w,I,E[T],P);if(N===null){I===null&&(I=k);break}t&&I&&N.alternate===null&&e(w,I),_=o(N,_,T),C===null?S=N:C.sibling=N,C=N,I=k}if(T===E.length)return n(w,I),gt&&gs(w,T),S;if(I===null){for(;T<E.length;T++)I=f(w,E[T],P),I!==null&&(_=o(I,_,T),C===null?S=I:C.sibling=I,C=I);return gt&&gs(w,T),S}for(I=r(w,I);T<E.length;T++)k=y(I,w,T,E[T],P),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?T:k.key),_=o(k,_,T),C===null?S=k:C.sibling=k,C=k);return t&&I.forEach(function(O){return e(w,O)}),gt&&gs(w,T),S}function b(w,_,E,P){var S=Yu(E);if(typeof S!="function")throw Error(ae(150));if(E=S.call(E),E==null)throw Error(ae(151));for(var C=S=null,I=_,T=_=0,k=null,N=E.next();I!==null&&!N.done;T++,N=E.next()){I.index>T?(k=I,I=null):k=I.sibling;var O=h(w,I,N.value,P);if(O===null){I===null&&(I=k);break}t&&I&&O.alternate===null&&e(w,I),_=o(O,_,T),C===null?S=O:C.sibling=O,C=O,I=k}if(N.done)return n(w,I),gt&&gs(w,T),S;if(I===null){for(;!N.done;T++,N=E.next())N=f(w,N.value,P),N!==null&&(_=o(N,_,T),C===null?S=N:C.sibling=N,C=N);return gt&&gs(w,T),S}for(I=r(w,I);!N.done;T++,N=E.next())N=y(I,w,T,N.value,P),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?T:N.key),_=o(N,_,T),C===null?S=N:C.sibling=N,C=N);return t&&I.forEach(function(M){return e(w,M)}),gt&&gs(w,T),S}function x(w,_,E,P){if(typeof E=="object"&&E!==null&&E.type===Ma&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case dh:e:{for(var S=E.key,C=_;C!==null;){if(C.key===S){if(S=E.type,S===Ma){if(C.tag===7){n(w,C.sibling),_=i(C,E.props.children),_.return=w,w=_;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===fo&&tA(S)===C.type){n(w,C.sibling),_=i(C,E.props),_.ref=ec(w,C,E),_.return=w,w=_;break e}n(w,C);break}else e(w,C);C=C.sibling}E.type===Ma?(_=js(E.props.children,w.mode,P,E.key),_.return=w,w=_):(P=cp(E.type,E.key,E.props,null,w.mode,P),P.ref=ec(w,_,E),P.return=w,w=P)}return s(w);case Oa:e:{for(C=E.key;_!==null;){if(_.key===C)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(w,_.sibling),_=i(_,E.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=W0(E,w.mode,P),_.return=w,w=_}return s(w);case fo:return C=E._init,x(w,_,C(E._payload),P)}if(yc(E))return v(w,_,E,P);if(Yu(E))return b(w,_,E,P);wh(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(n(w,_.sibling),_=i(_,E),_.return=w,w=_):(n(w,_),_=H0(E,w.mode,P),_.return=w,w=_),s(w)):n(w,_)}return x}var xl=sM(!0),aM=sM(!1),$p=Xo(null),Vp=null,Ba=null,Tw=null;function Sw(){Tw=Ba=Vp=null}function Aw(t){var e=$p.current;mt($p),t._currentValue=e}function mx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ol(t,e){Vp=t,Tw=Ba=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($n=!0),t.firstContext=null)}function gr(t){var e=t._currentValue;if(Tw!==t)if(t={context:t,memoizedValue:e,next:null},Ba===null){if(Vp===null)throw Error(ae(308));Ba=t,Vp.dependencies={lanes:0,firstContext:t}}else Ba=Ba.next=t;return e}var As=null;function Iw(t){As===null?As=[t]:As.push(t)}function lM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Iw(e)):(n.next=i.next,i.next=n),e.interleaved=n,ji(t,r)}function ji(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ho=!1;function kw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ci(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ro(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ge&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ji(t,n)}return i=r.interleaved,i===null?(e.next=e,Iw(r)):(e.next=i.next,i.next=e),r.interleaved=e,ji(t,n)}function ip(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hw(t,n)}}function nA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fp(t,e,n,r){var i=t.updateQueue;ho=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,y=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,b=a;switch(h=e,y=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){f=v.call(y,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,h=typeof v=="function"?v.call(y,f,h):v,h==null)break e;f=wt({},f,h);break e;case 2:ho=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=y,l=f):c=c.next=y,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);qs|=s,t.lanes=s,t.memoizedState=f}}function rA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ae(191,i));i.call(r)}}}var yf={},Zr=Xo(yf),sd=Xo(yf),ad=Xo(yf);function Is(t){if(t===yf)throw Error(ae(174));return t}function Cw(t,e){switch(ut(ad,e),ut(sd,t),ut(Zr,yf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yv(e,t)}mt(Zr),ut(Zr,e)}function bl(){mt(Zr),mt(sd),mt(ad)}function cM(t){Is(ad.current);var e=Is(Zr.current),n=Yv(e,t.type);e!==n&&(ut(sd,t),ut(Zr,n))}function Pw(t){sd.current===t&&(mt(Zr),mt(sd))}var vt=Xo(0);function Up(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var F0=[];function Nw(){for(var t=0;t<F0.length;t++)F0[t]._workInProgressVersionPrimary=null;F0.length=0}var op=Ji.ReactCurrentDispatcher,U0=Ji.ReactCurrentBatchConfig,zs=0,_t=null,Lt=null,Kt=null,Bp=!1,Rc=!1,ld=0,UU=0;function hn(){throw Error(ae(321))}function Rw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Br(t[n],e[n]))return!1;return!0}function Ow(t,e,n,r,i,o){if(zs=o,_t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,op.current=t===null||t.memoizedState===null?qU:HU,t=n(r,i),Rc){o=0;do{if(Rc=!1,ld=0,25<=o)throw Error(ae(301));o+=1,Kt=Lt=null,e.updateQueue=null,op.current=WU,t=n(r,i)}while(Rc)}if(op.current=Gp,e=Lt!==null&&Lt.next!==null,zs=0,Kt=Lt=_t=null,Bp=!1,e)throw Error(ae(300));return t}function Mw(){var t=ld!==0;return ld=0,t}function Kr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?_t.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function yr(){if(Lt===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var e=Kt===null?_t.memoizedState:Kt.next;if(e!==null)Kt=e,Lt=t;else{if(t===null)throw Error(ae(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Kt===null?_t.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function ud(t,e){return typeof e=="function"?e(t):e}function B0(t){var e=yr(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=Lt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((zs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,_t.lanes|=c,qs|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Br(r,e.memoizedState)||($n=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,_t.lanes|=o,qs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function G0(t){var e=yr(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Br(o,e.memoizedState)||($n=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function dM(){}function fM(t,e){var n=_t,r=yr(),i=e(),o=!Br(r.memoizedState,i);if(o&&(r.memoizedState=i,$n=!0),r=r.queue,Dw(mM.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Kt!==null&&Kt.memoizedState.tag&1){if(n.flags|=2048,cd(9,pM.bind(null,n,r,i,e),void 0,null),Xt===null)throw Error(ae(349));zs&30||hM(n,e,i)}return i}function hM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pM(t,e,n,r){e.value=n,e.getSnapshot=r,gM(e)&&yM(t)}function mM(t,e,n){return n(function(){gM(e)&&yM(t)})}function gM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Br(t,n)}catch{return!0}}function yM(t){var e=ji(t,1);e!==null&&jr(e,t,1,-1)}function iA(t){var e=Kr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ud,lastRenderedState:t},e.queue=t,t=t.dispatch=zU.bind(null,_t,t),[e.memoizedState,t]}function cd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function vM(){return yr().memoizedState}function sp(t,e,n,r){var i=Kr();_t.flags|=t,i.memoizedState=cd(1|e,n,void 0,r===void 0?null:r)}function Lg(t,e,n,r){var i=yr();r=r===void 0?null:r;var o=void 0;if(Lt!==null){var s=Lt.memoizedState;if(o=s.destroy,r!==null&&Rw(r,s.deps)){i.memoizedState=cd(e,n,o,r);return}}_t.flags|=t,i.memoizedState=cd(1|e,n,o,r)}function oA(t,e){return sp(8390656,8,t,e)}function Dw(t,e){return Lg(2048,8,t,e)}function xM(t,e){return Lg(4,2,t,e)}function bM(t,e){return Lg(4,4,t,e)}function _M(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wM(t,e,n){return n=n!=null?n.concat([t]):null,Lg(4,4,_M.bind(null,e,t),n)}function jw(){}function EM(t,e){var n=yr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function TM(t,e){var n=yr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function SM(t,e,n){return zs&21?(Br(n,e)||(n=PO(),_t.lanes|=n,qs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$n=!0),t.memoizedState=n)}function BU(t,e){var n=Ze;Ze=n!==0&&4>n?n:4,t(!0);var r=U0.transition;U0.transition={};try{t(!1),e()}finally{Ze=n,U0.transition=r}}function AM(){return yr().memoizedState}function GU(t,e,n){var r=Mo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},IM(t))kM(e,n);else if(n=lM(t,e,n,r),n!==null){var i=Rn();jr(n,t,r,i),CM(n,e,r)}}function zU(t,e,n){var r=Mo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(IM(t))kM(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Br(a,s)){var l=e.interleaved;l===null?(i.next=i,Iw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=lM(t,e,i,r),n!==null&&(i=Rn(),jr(n,t,r,i),CM(n,e,r))}}function IM(t){var e=t.alternate;return t===_t||e!==null&&e===_t}function kM(t,e){Rc=Bp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function CM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hw(t,n)}}var Gp={readContext:gr,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},qU={readContext:gr,useCallback:function(t,e){return Kr().memoizedState=[t,e===void 0?null:e],t},useContext:gr,useEffect:oA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sp(4194308,4,_M.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sp(4194308,4,t,e)},useInsertionEffect:function(t,e){return sp(4,2,t,e)},useMemo:function(t,e){var n=Kr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Kr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=GU.bind(null,_t,t),[r.memoizedState,t]},useRef:function(t){var e=Kr();return t={current:t},e.memoizedState=t},useState:iA,useDebugValue:jw,useDeferredValue:function(t){return Kr().memoizedState=t},useTransition:function(){var t=iA(!1),e=t[0];return t=BU.bind(null,t[1]),Kr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_t,i=Kr();if(gt){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=e(),Xt===null)throw Error(ae(349));zs&30||hM(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,oA(mM.bind(null,r,o,t),[t]),r.flags|=2048,cd(9,pM.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Kr(),e=Xt.identifierPrefix;if(gt){var n=wi,r=_i;n=(r&~(1<<32-Dr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ld++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=UU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},HU={readContext:gr,useCallback:EM,useContext:gr,useEffect:Dw,useImperativeHandle:wM,useInsertionEffect:xM,useLayoutEffect:bM,useMemo:TM,useReducer:B0,useRef:vM,useState:function(){return B0(ud)},useDebugValue:jw,useDeferredValue:function(t){var e=yr();return SM(e,Lt.memoizedState,t)},useTransition:function(){var t=B0(ud)[0],e=yr().memoizedState;return[t,e]},useMutableSource:dM,useSyncExternalStore:fM,useId:AM,unstable_isNewReconciler:!1},WU={readContext:gr,useCallback:EM,useContext:gr,useEffect:Dw,useImperativeHandle:wM,useInsertionEffect:xM,useLayoutEffect:bM,useMemo:TM,useReducer:G0,useRef:vM,useState:function(){return G0(ud)},useDebugValue:jw,useDeferredValue:function(t){var e=yr();return Lt===null?e.memoizedState=t:SM(e,Lt.memoizedState,t)},useTransition:function(){var t=G0(ud)[0],e=yr().memoizedState;return[t,e]},useMutableSource:dM,useSyncExternalStore:fM,useId:AM,unstable_isNewReconciler:!1};function kr(t,e){if(t&&t.defaultProps){e=wt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function gx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:wt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $g={isMounted:function(t){return(t=t._reactInternals)?la(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rn(),i=Mo(t),o=Ci(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ro(t,o,i),e!==null&&(jr(e,t,i,r),ip(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rn(),i=Mo(t),o=Ci(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ro(t,o,i),e!==null&&(jr(e,t,i,r),ip(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rn(),r=Mo(t),i=Ci(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ro(t,i,r),e!==null&&(jr(e,t,r,n),ip(e,t,r))}};function sA(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!nd(n,r)||!nd(i,o):!0}function PM(t,e,n){var r=!1,i=zo,o=e.contextType;return typeof o=="object"&&o!==null?o=gr(o):(i=Un(e)?Bs:_n.current,r=e.contextTypes,o=(r=r!=null)?yl(t,i):zo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$g,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function aA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$g.enqueueReplaceState(e,e.state,null)}function yx(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},kw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=gr(o):(o=Un(e)?Bs:_n.current,i.context=yl(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(gx(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$g.enqueueReplaceState(i,i.state,null),Fp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function _l(t,e){try{var n="",r=e;do n+=_5(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function z0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function vx(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var KU=typeof WeakMap=="function"?WeakMap:Map;function NM(t,e,n){n=Ci(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qp||(qp=!0,kx=r),vx(t,e)},n}function RM(t,e,n){n=Ci(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){vx(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){vx(t,e),typeof r!="function"&&(Oo===null?Oo=new Set([this]):Oo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function lA(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new KU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=lB.bind(null,t,e,n),e.then(t,t))}function uA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cA(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ci(-1,1),e.tag=2,Ro(n,e,1))),n.lanes|=1),t)}var YU=Ji.ReactCurrentOwner,$n=!1;function In(t,e,n,r){e.child=t===null?aM(e,null,n,r):xl(e,t.child,n,r)}function dA(t,e,n,r,i){n=n.render;var o=e.ref;return ol(e,i),r=Ow(t,e,n,r,o,i),n=Mw(),t!==null&&!$n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Li(t,e,i)):(gt&&n&&_w(e),e.flags|=1,In(t,e,r,i),e.child)}function fA(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!zw(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,OM(t,e,o,r,i)):(t=cp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:nd,n(s,r)&&t.ref===e.ref)return Li(t,e,i)}return e.flags|=1,t=Do(o,r),t.ref=e.ref,t.return=e,e.child=t}function OM(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(nd(o,r)&&t.ref===e.ref)if($n=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&($n=!0);else return e.lanes=t.lanes,Li(t,e,i)}return xx(t,e,n,r,i)}function MM(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(za,Wn),Wn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ut(za,Wn),Wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ut(za,Wn),Wn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ut(za,Wn),Wn|=r;return In(t,e,i,n),e.child}function DM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xx(t,e,n,r,i){var o=Un(n)?Bs:_n.current;return o=yl(e,o),ol(e,i),n=Ow(t,e,n,r,o,i),r=Mw(),t!==null&&!$n?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Li(t,e,i)):(gt&&r&&_w(e),e.flags|=1,In(t,e,n,i),e.child)}function hA(t,e,n,r,i){if(Un(n)){var o=!0;Dp(e)}else o=!1;if(ol(e,i),e.stateNode===null)ap(t,e),PM(e,n,r),yx(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=gr(u):(u=Un(n)?Bs:_n.current,u=yl(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&aA(e,s,r,u),ho=!1;var h=e.memoizedState;s.state=h,Fp(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Fn.current||ho?(typeof c=="function"&&(gx(e,n,c,r),l=e.memoizedState),(a=ho||sA(e,n,a,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,uM(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:kr(e.type,a),s.props=u,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=gr(l):(l=Un(n)?Bs:_n.current,l=yl(e,l));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&aA(e,s,r,l),ho=!1,h=e.memoizedState,s.state=h,Fp(e,r,s,i);var v=e.memoizedState;a!==f||h!==v||Fn.current||ho?(typeof y=="function"&&(gx(e,n,y,r),v=e.memoizedState),(u=ho||sA(e,n,u,r,h,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return bx(t,e,n,r,o,i)}function bx(t,e,n,r,i,o){DM(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&QS(e,n,!1),Li(t,e,o);r=e.stateNode,YU.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=xl(e,t.child,null,o),e.child=xl(e,null,a,o)):In(t,e,a,o),e.memoizedState=r.state,i&&QS(e,n,!0),e.child}function jM(t){var e=t.stateNode;e.pendingContext?XS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&XS(t,e.context,!1),Cw(t,e.containerInfo)}function pA(t,e,n,r,i){return vl(),Ew(i),e.flags|=256,In(t,e,n,r),e.child}var _x={dehydrated:null,treeContext:null,retryLane:0};function wx(t){return{baseLanes:t,cachePool:null,transitions:null}}function LM(t,e,n){var r=e.pendingProps,i=vt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ut(vt,i&1),t===null)return px(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ug(s,r,0,null),t=js(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=wx(n),e.memoizedState=_x,t):Lw(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return JU(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Do(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Do(a,o):(o=js(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?wx(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=_x,r}return o=t.child,t=o.sibling,r=Do(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Lw(t,e){return e=Ug({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Eh(t,e,n,r){return r!==null&&Ew(r),xl(e,t.child,null,n),t=Lw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function JU(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=z0(Error(ae(422))),Eh(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Ug({mode:"visible",children:r.children},i,0,null),o=js(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&xl(e,t.child,null,s),e.child.memoizedState=wx(s),e.memoizedState=_x,o);if(!(e.mode&1))return Eh(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ae(419)),r=z0(o,r,void 0),Eh(t,e,s,r)}if(a=(s&t.childLanes)!==0,$n||a){if(r=Xt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ji(t,i),jr(r,t,i,-1))}return Gw(),r=z0(Error(ae(421))),Eh(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=uB.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Jn=No(i.nextSibling),Qn=e,gt=!0,Rr=null,t!==null&&(lr[ur++]=_i,lr[ur++]=wi,lr[ur++]=Gs,_i=t.id,wi=t.overflow,Gs=e),e=Lw(e,r.children),e.flags|=4096,e)}function mA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),mx(t.return,e,n)}function q0(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function $M(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(In(t,e,r.children,n),r=vt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mA(t,n,e);else if(t.tag===19)mA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ut(vt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Up(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),q0(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Up(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}q0(e,!0,n,null,o);break;case"together":q0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ap(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Li(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),qs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,n=Do(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Do(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function XU(t,e,n){switch(e.tag){case 3:jM(e),vl();break;case 5:cM(e);break;case 1:Un(e.type)&&Dp(e);break;case 4:Cw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ut($p,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ut(vt,vt.current&1),e.flags|=128,null):n&e.child.childLanes?LM(t,e,n):(ut(vt,vt.current&1),t=Li(t,e,n),t!==null?t.sibling:null);ut(vt,vt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $M(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ut(vt,vt.current),r)break;return null;case 22:case 23:return e.lanes=0,MM(t,e,n)}return Li(t,e,n)}var VM,Ex,FM,UM;VM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ex=function(){};FM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Is(Zr.current);var o=null;switch(n){case"input":i=qv(t,i),r=qv(t,r),o=[];break;case"select":i=wt({},i,{value:void 0}),r=wt({},r,{value:void 0}),o=[];break;case"textarea":i=Kv(t,i),r=Kv(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Op)}Jv(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ft("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};UM=function(t,e,n,r){n!==r&&(e.flags|=4)};function tc(t,e){if(!gt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function pn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function QU(t,e,n){var r=e.pendingProps;switch(ww(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(e),null;case 1:return Un(e.type)&&Mp(),pn(e),null;case 3:return r=e.stateNode,bl(),mt(Fn),mt(_n),Nw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_h(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rr!==null&&(Nx(Rr),Rr=null))),Ex(t,e),pn(e),null;case 5:Pw(e);var i=Is(ad.current);if(n=e.type,t!==null&&e.stateNode!=null)FM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ae(166));return pn(e),null}if(t=Is(Zr.current),_h(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Yr]=e,r[od]=o,t=(e.mode&1)!==0,n){case"dialog":ft("cancel",r),ft("close",r);break;case"iframe":case"object":case"embed":ft("load",r);break;case"video":case"audio":for(i=0;i<xc.length;i++)ft(xc[i],r);break;case"source":ft("error",r);break;case"img":case"image":case"link":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"input":TS(r,o),ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ft("invalid",r);break;case"textarea":AS(r,o),ft("invalid",r)}Jv(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&bh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&bh(r.textContent,a,t),i=["children",""+a]):Yc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ft("scroll",r)}switch(n){case"input":fh(r),SS(r,o,!0);break;case"textarea":fh(r),IS(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Op)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Yr]=e,t[od]=r,VM(t,e,!1,!1),e.stateNode=t;e:{switch(s=Xv(n,r),n){case"dialog":ft("cancel",t),ft("close",t),i=r;break;case"iframe":case"object":case"embed":ft("load",t),i=r;break;case"video":case"audio":for(i=0;i<xc.length;i++)ft(xc[i],t);i=r;break;case"source":ft("error",t),i=r;break;case"img":case"image":case"link":ft("error",t),ft("load",t),i=r;break;case"details":ft("toggle",t),i=r;break;case"input":TS(t,r),i=qv(t,r),ft("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=wt({},r,{value:void 0}),ft("invalid",t);break;case"textarea":AS(t,r),i=Kv(t,r),ft("invalid",t);break;default:i=r}Jv(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?vO(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gO(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Jc(t,l):typeof l=="number"&&Jc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Yc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ft("scroll",t):l!=null&&aw(t,o,l,s))}switch(n){case"input":fh(t),SS(t,r,!1);break;case"textarea":fh(t),IS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Go(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?tl(t,!!r.multiple,o,!1):r.defaultValue!=null&&tl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Op)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pn(e),null;case 6:if(t&&e.stateNode!=null)UM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ae(166));if(n=Is(ad.current),Is(Zr.current),_h(e)){if(r=e.stateNode,n=e.memoizedProps,r[Yr]=e,(o=r.nodeValue!==n)&&(t=Qn,t!==null))switch(t.tag){case 3:bh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yr]=e,e.stateNode=r}return pn(e),null;case 13:if(mt(vt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(gt&&Jn!==null&&e.mode&1&&!(e.flags&128))oM(),vl(),e.flags|=98560,o=!1;else if(o=_h(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ae(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ae(317));o[Yr]=e}else vl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pn(e),o=!1}else Rr!==null&&(Nx(Rr),Rr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||vt.current&1?Vt===0&&(Vt=3):Gw())),e.updateQueue!==null&&(e.flags|=4),pn(e),null);case 4:return bl(),Ex(t,e),t===null&&rd(e.stateNode.containerInfo),pn(e),null;case 10:return Aw(e.type._context),pn(e),null;case 17:return Un(e.type)&&Mp(),pn(e),null;case 19:if(mt(vt),o=e.memoizedState,o===null)return pn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)tc(o,!1);else{if(Vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Up(t),s!==null){for(e.flags|=128,tc(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ut(vt,vt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ct()>wl&&(e.flags|=128,r=!0,tc(o,!1),e.lanes=4194304)}else{if(!r)if(t=Up(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),tc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!gt)return pn(e),null}else 2*Ct()-o.renderingStartTime>wl&&n!==1073741824&&(e.flags|=128,r=!0,tc(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ct(),e.sibling=null,n=vt.current,ut(vt,r?n&1|2:n&1),e):(pn(e),null);case 22:case 23:return Bw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wn&1073741824&&(pn(e),e.subtreeFlags&6&&(e.flags|=8192)):pn(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function ZU(t,e){switch(ww(e),e.tag){case 1:return Un(e.type)&&Mp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bl(),mt(Fn),mt(_n),Nw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Pw(e),null;case 13:if(mt(vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));vl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mt(vt),null;case 4:return bl(),null;case 10:return Aw(e.type._context),null;case 22:case 23:return Bw(),null;case 24:return null;default:return null}}var Th=!1,yn=!1,eB=typeof WeakSet=="function"?WeakSet:Set,me=null;function Ga(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){St(t,e,r)}else n.current=null}function Tx(t,e,n){try{n()}catch(r){St(t,e,r)}}var gA=!1;function tB(t,e){if(ax=Pp,t=HO(),bw(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(lx={focusedElem:t,selectionRange:n},Pp=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,x=v.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?b:kr(e.type,b),x);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(P){St(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return v=gA,gA=!1,v}function Oc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Tx(e,n,o)}i=i.next}while(i!==r)}}function Vg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Sx(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function BM(t){var e=t.alternate;e!==null&&(t.alternate=null,BM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yr],delete e[od],delete e[dx],delete e[LU],delete e[$U])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function GM(t){return t.tag===5||t.tag===3||t.tag===4}function yA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||GM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ax(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Op));else if(r!==4&&(t=t.child,t!==null))for(Ax(t,e,n),t=t.sibling;t!==null;)Ax(t,e,n),t=t.sibling}function Ix(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ix(t,e,n),t=t.sibling;t!==null;)Ix(t,e,n),t=t.sibling}var nn=null,Cr=!1;function lo(t,e,n){for(n=n.child;n!==null;)zM(t,e,n),n=n.sibling}function zM(t,e,n){if(Qr&&typeof Qr.onCommitFiberUnmount=="function")try{Qr.onCommitFiberUnmount(Ng,n)}catch{}switch(n.tag){case 5:yn||Ga(n,e);case 6:var r=nn,i=Cr;nn=null,lo(t,e,n),nn=r,Cr=i,nn!==null&&(Cr?(t=nn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nn.removeChild(n.stateNode));break;case 18:nn!==null&&(Cr?(t=nn,n=n.stateNode,t.nodeType===8?$0(t.parentNode,n):t.nodeType===1&&$0(t,n),ed(t)):$0(nn,n.stateNode));break;case 4:r=nn,i=Cr,nn=n.stateNode.containerInfo,Cr=!0,lo(t,e,n),nn=r,Cr=i;break;case 0:case 11:case 14:case 15:if(!yn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Tx(n,e,s),i=i.next}while(i!==r)}lo(t,e,n);break;case 1:if(!yn&&(Ga(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){St(n,e,a)}lo(t,e,n);break;case 21:lo(t,e,n);break;case 22:n.mode&1?(yn=(r=yn)||n.memoizedState!==null,lo(t,e,n),yn=r):lo(t,e,n);break;default:lo(t,e,n)}}function vA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eB),e.forEach(function(r){var i=cB.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ar(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:nn=a.stateNode,Cr=!1;break e;case 3:nn=a.stateNode.containerInfo,Cr=!0;break e;case 4:nn=a.stateNode.containerInfo,Cr=!0;break e}a=a.return}if(nn===null)throw Error(ae(160));zM(o,s,i),nn=null,Cr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){St(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qM(e,t),e=e.sibling}function qM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ar(e,t),Wr(t),r&4){try{Oc(3,t,t.return),Vg(3,t)}catch(b){St(t,t.return,b)}try{Oc(5,t,t.return)}catch(b){St(t,t.return,b)}}break;case 1:Ar(e,t),Wr(t),r&512&&n!==null&&Ga(n,n.return);break;case 5:if(Ar(e,t),Wr(t),r&512&&n!==null&&Ga(n,n.return),t.flags&32){var i=t.stateNode;try{Jc(i,"")}catch(b){St(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&hO(i,o),Xv(a,s);var u=Xv(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?vO(i,f):c==="dangerouslySetInnerHTML"?gO(i,f):c==="children"?Jc(i,f):aw(i,c,f,u)}switch(a){case"input":Hv(i,o);break;case"textarea":pO(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?tl(i,!!o.multiple,y,!1):h!==!!o.multiple&&(o.defaultValue!=null?tl(i,!!o.multiple,o.defaultValue,!0):tl(i,!!o.multiple,o.multiple?[]:"",!1))}i[od]=o}catch(b){St(t,t.return,b)}}break;case 6:if(Ar(e,t),Wr(t),r&4){if(t.stateNode===null)throw Error(ae(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(b){St(t,t.return,b)}}break;case 3:if(Ar(e,t),Wr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ed(e.containerInfo)}catch(b){St(t,t.return,b)}break;case 4:Ar(e,t),Wr(t);break;case 13:Ar(e,t),Wr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Fw=Ct())),r&4&&vA(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(yn=(u=yn)||c,Ar(e,t),yn=u):Ar(e,t),Wr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(me=t,c=t.child;c!==null;){for(f=me=c;me!==null;){switch(h=me,y=h.child,h.tag){case 0:case 11:case 14:case 15:Oc(4,h,h.return);break;case 1:Ga(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){St(r,n,b)}}break;case 5:Ga(h,h.return);break;case 22:if(h.memoizedState!==null){bA(f);continue}}y!==null?(y.return=h,me=y):bA(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=yO("display",s))}catch(b){St(t,t.return,b)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){St(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ar(e,t),Wr(t),r&4&&vA(t);break;case 21:break;default:Ar(e,t),Wr(t)}}function Wr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(GM(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Jc(i,""),r.flags&=-33);var o=yA(t);Ix(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=yA(t);Ax(t,a,s);break;default:throw Error(ae(161))}}catch(l){St(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nB(t,e,n){me=t,HM(t)}function HM(t,e,n){for(var r=(t.mode&1)!==0;me!==null;){var i=me,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Th;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||yn;a=Th;var u=yn;if(Th=s,(yn=l)&&!u)for(me=i;me!==null;)s=me,l=s.child,s.tag===22&&s.memoizedState!==null?_A(i):l!==null?(l.return=s,me=l):_A(i);for(;o!==null;)me=o,HM(o),o=o.sibling;me=i,Th=a,yn=u}xA(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,me=o):xA(t)}}function xA(t){for(;me!==null;){var e=me;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yn||Vg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!yn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:kr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&rA(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rA(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ed(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}yn||e.flags&512&&Sx(e)}catch(h){St(e,e.return,h)}}if(e===t){me=null;break}if(n=e.sibling,n!==null){n.return=e.return,me=n;break}me=e.return}}function bA(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,me=n;break}me=e.return}}function _A(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vg(4,e)}catch(l){St(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){St(e,i,l)}}var o=e.return;try{Sx(e)}catch(l){St(e,o,l)}break;case 5:var s=e.return;try{Sx(e)}catch(l){St(e,s,l)}}}catch(l){St(e,e.return,l)}if(e===t){me=null;break}var a=e.sibling;if(a!==null){a.return=e.return,me=a;break}me=e.return}}var rB=Math.ceil,zp=Ji.ReactCurrentDispatcher,$w=Ji.ReactCurrentOwner,hr=Ji.ReactCurrentBatchConfig,Ge=0,Xt=null,Rt=null,an=0,Wn=0,za=Xo(0),Vt=0,dd=null,qs=0,Fg=0,Vw=0,Mc=null,Ln=null,Fw=0,wl=1/0,gi=null,qp=!1,kx=null,Oo=null,Sh=!1,Eo=null,Hp=0,Dc=0,Cx=null,lp=-1,up=0;function Rn(){return Ge&6?Ct():lp!==-1?lp:lp=Ct()}function Mo(t){return t.mode&1?Ge&2&&an!==0?an&-an:FU.transition!==null?(up===0&&(up=PO()),up):(t=Ze,t!==0||(t=window.event,t=t===void 0?16:LO(t.type)),t):1}function jr(t,e,n,r){if(50<Dc)throw Dc=0,Cx=null,Error(ae(185));pf(t,n,r),(!(Ge&2)||t!==Xt)&&(t===Xt&&(!(Ge&2)&&(Fg|=n),Vt===4&&go(t,an)),Bn(t,r),n===1&&Ge===0&&!(e.mode&1)&&(wl=Ct()+500,jg&&Qo()))}function Bn(t,e){var n=t.callbackNode;F5(t,e);var r=Cp(t,t===Xt?an:0);if(r===0)n!==null&&PS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&PS(n),e===1)t.tag===0?VU(wA.bind(null,t)):nM(wA.bind(null,t)),DU(function(){!(Ge&6)&&Qo()}),n=null;else{switch(NO(r)){case 1:n=fw;break;case 4:n=kO;break;case 16:n=kp;break;case 536870912:n=CO;break;default:n=kp}n=eD(n,WM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function WM(t,e){if(lp=-1,up=0,Ge&6)throw Error(ae(327));var n=t.callbackNode;if(sl()&&t.callbackNode!==n)return null;var r=Cp(t,t===Xt?an:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Wp(t,r);else{e=r;var i=Ge;Ge|=2;var o=YM();(Xt!==t||an!==e)&&(gi=null,wl=Ct()+500,Ds(t,e));do try{sB();break}catch(a){KM(t,a)}while(!0);Sw(),zp.current=o,Ge=i,Rt!==null?e=0:(Xt=null,an=0,e=Vt)}if(e!==0){if(e===2&&(i=nx(t),i!==0&&(r=i,e=Px(t,i))),e===1)throw n=dd,Ds(t,0),go(t,r),Bn(t,Ct()),n;if(e===6)go(t,r);else{if(i=t.current.alternate,!(r&30)&&!iB(i)&&(e=Wp(t,r),e===2&&(o=nx(t),o!==0&&(r=o,e=Px(t,o))),e===1))throw n=dd,Ds(t,0),go(t,r),Bn(t,Ct()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ae(345));case 2:ys(t,Ln,gi);break;case 3:if(go(t,r),(r&130023424)===r&&(e=Fw+500-Ct(),10<e)){if(Cp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=cx(ys.bind(null,t,Ln,gi),e);break}ys(t,Ln,gi);break;case 4:if(go(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Dr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rB(r/1960))-r,10<r){t.timeoutHandle=cx(ys.bind(null,t,Ln,gi),r);break}ys(t,Ln,gi);break;case 5:ys(t,Ln,gi);break;default:throw Error(ae(329))}}}return Bn(t,Ct()),t.callbackNode===n?WM.bind(null,t):null}function Px(t,e){var n=Mc;return t.current.memoizedState.isDehydrated&&(Ds(t,e).flags|=256),t=Wp(t,e),t!==2&&(e=Ln,Ln=n,e!==null&&Nx(e)),t}function Nx(t){Ln===null?Ln=t:Ln.push.apply(Ln,t)}function iB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Br(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function go(t,e){for(e&=~Vw,e&=~Fg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Dr(e),r=1<<n;t[n]=-1,e&=~r}}function wA(t){if(Ge&6)throw Error(ae(327));sl();var e=Cp(t,0);if(!(e&1))return Bn(t,Ct()),null;var n=Wp(t,e);if(t.tag!==0&&n===2){var r=nx(t);r!==0&&(e=r,n=Px(t,r))}if(n===1)throw n=dd,Ds(t,0),go(t,e),Bn(t,Ct()),n;if(n===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ys(t,Ln,gi),Bn(t,Ct()),null}function Uw(t,e){var n=Ge;Ge|=1;try{return t(e)}finally{Ge=n,Ge===0&&(wl=Ct()+500,jg&&Qo())}}function Hs(t){Eo!==null&&Eo.tag===0&&!(Ge&6)&&sl();var e=Ge;Ge|=1;var n=hr.transition,r=Ze;try{if(hr.transition=null,Ze=1,t)return t()}finally{Ze=r,hr.transition=n,Ge=e,!(Ge&6)&&Qo()}}function Bw(){Wn=za.current,mt(za)}function Ds(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,MU(n)),Rt!==null)for(n=Rt.return;n!==null;){var r=n;switch(ww(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Mp();break;case 3:bl(),mt(Fn),mt(_n),Nw();break;case 5:Pw(r);break;case 4:bl();break;case 13:mt(vt);break;case 19:mt(vt);break;case 10:Aw(r.type._context);break;case 22:case 23:Bw()}n=n.return}if(Xt=t,Rt=t=Do(t.current,null),an=Wn=e,Vt=0,dd=null,Vw=Fg=qs=0,Ln=Mc=null,As!==null){for(e=0;e<As.length;e++)if(n=As[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}As=null}return t}function KM(t,e){do{var n=Rt;try{if(Sw(),op.current=Gp,Bp){for(var r=_t.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Bp=!1}if(zs=0,Kt=Lt=_t=null,Rc=!1,ld=0,$w.current=null,n===null||n.return===null){Vt=1,dd=e,Rt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=an,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=uA(s);if(y!==null){y.flags&=-257,cA(y,s,a,o,e),y.mode&1&&lA(o,u,e),e=y,l=u;var v=e.updateQueue;if(v===null){var b=new Set;b.add(l),e.updateQueue=b}else v.add(l);break e}else{if(!(e&1)){lA(o,u,e),Gw();break e}l=Error(ae(426))}}else if(gt&&a.mode&1){var x=uA(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),cA(x,s,a,o,e),Ew(_l(l,a));break e}}o=l=_l(l,a),Vt!==4&&(Vt=2),Mc===null?Mc=[o]:Mc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=NM(o,l,e);nA(o,w);break e;case 1:a=l;var _=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Oo===null||!Oo.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var P=RM(o,a,e);nA(o,P);break e}}o=o.return}while(o!==null)}XM(n)}catch(S){e=S,Rt===n&&n!==null&&(Rt=n=n.return);continue}break}while(!0)}function YM(){var t=zp.current;return zp.current=Gp,t===null?Gp:t}function Gw(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Xt===null||!(qs&268435455)&&!(Fg&268435455)||go(Xt,an)}function Wp(t,e){var n=Ge;Ge|=2;var r=YM();(Xt!==t||an!==e)&&(gi=null,Ds(t,e));do try{oB();break}catch(i){KM(t,i)}while(!0);if(Sw(),Ge=n,zp.current=r,Rt!==null)throw Error(ae(261));return Xt=null,an=0,Vt}function oB(){for(;Rt!==null;)JM(Rt)}function sB(){for(;Rt!==null&&!N5();)JM(Rt)}function JM(t){var e=ZM(t.alternate,t,Wn);t.memoizedProps=t.pendingProps,e===null?XM(t):Rt=e,$w.current=null}function XM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ZU(n,e),n!==null){n.flags&=32767,Rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vt=6,Rt=null;return}}else if(n=QU(n,e,Wn),n!==null){Rt=n;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);Vt===0&&(Vt=5)}function ys(t,e,n){var r=Ze,i=hr.transition;try{hr.transition=null,Ze=1,aB(t,e,n,r)}finally{hr.transition=i,Ze=r}return null}function aB(t,e,n,r){do sl();while(Eo!==null);if(Ge&6)throw Error(ae(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(U5(t,o),t===Xt&&(Rt=Xt=null,an=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sh||(Sh=!0,eD(kp,function(){return sl(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=hr.transition,hr.transition=null;var s=Ze;Ze=1;var a=Ge;Ge|=4,$w.current=null,tB(t,n),qM(n,t),IU(lx),Pp=!!ax,lx=ax=null,t.current=n,nB(n),R5(),Ge=a,Ze=s,hr.transition=o}else t.current=n;if(Sh&&(Sh=!1,Eo=t,Hp=i),o=t.pendingLanes,o===0&&(Oo=null),D5(n.stateNode),Bn(t,Ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(qp)throw qp=!1,t=kx,kx=null,t;return Hp&1&&t.tag!==0&&sl(),o=t.pendingLanes,o&1?t===Cx?Dc++:(Dc=0,Cx=t):Dc=0,Qo(),null}function sl(){if(Eo!==null){var t=NO(Hp),e=hr.transition,n=Ze;try{if(hr.transition=null,Ze=16>t?16:t,Eo===null)var r=!1;else{if(t=Eo,Eo=null,Hp=0,Ge&6)throw Error(ae(331));var i=Ge;for(Ge|=4,me=t.current;me!==null;){var o=me,s=o.child;if(me.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(me=u;me!==null;){var c=me;switch(c.tag){case 0:case 11:case 15:Oc(8,c,o)}var f=c.child;if(f!==null)f.return=c,me=f;else for(;me!==null;){c=me;var h=c.sibling,y=c.return;if(BM(c),c===u){me=null;break}if(h!==null){h.return=y,me=h;break}me=y}}}var v=o.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}me=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,me=s;else e:for(;me!==null;){if(o=me,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Oc(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,me=w;break e}me=o.return}}var _=t.current;for(me=_;me!==null;){s=me;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,me=E;else e:for(s=_;me!==null;){if(a=me,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Vg(9,a)}}catch(S){St(a,a.return,S)}if(a===s){me=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,me=P;break e}me=a.return}}if(Ge=i,Qo(),Qr&&typeof Qr.onPostCommitFiberRoot=="function")try{Qr.onPostCommitFiberRoot(Ng,t)}catch{}r=!0}return r}finally{Ze=n,hr.transition=e}}return!1}function EA(t,e,n){e=_l(n,e),e=NM(t,e,1),t=Ro(t,e,1),e=Rn(),t!==null&&(pf(t,1,e),Bn(t,e))}function St(t,e,n){if(t.tag===3)EA(t,t,n);else for(;e!==null;){if(e.tag===3){EA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Oo===null||!Oo.has(r))){t=_l(n,t),t=RM(e,t,1),e=Ro(e,t,1),t=Rn(),e!==null&&(pf(e,1,t),Bn(e,t));break}}e=e.return}}function lB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rn(),t.pingedLanes|=t.suspendedLanes&n,Xt===t&&(an&n)===n&&(Vt===4||Vt===3&&(an&130023424)===an&&500>Ct()-Fw?Ds(t,0):Vw|=n),Bn(t,e)}function QM(t,e){e===0&&(t.mode&1?(e=mh,mh<<=1,!(mh&130023424)&&(mh=4194304)):e=1);var n=Rn();t=ji(t,e),t!==null&&(pf(t,e,n),Bn(t,n))}function uB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),QM(t,n)}function cB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(e),QM(t,n)}var ZM;ZM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fn.current)$n=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $n=!1,XU(t,e,n);$n=!!(t.flags&131072)}else $n=!1,gt&&e.flags&1048576&&rM(e,Lp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ap(t,e),t=e.pendingProps;var i=yl(e,_n.current);ol(e,n),i=Ow(null,e,r,t,i,n);var o=Mw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Un(r)?(o=!0,Dp(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kw(e),i.updater=$g,e.stateNode=i,i._reactInternals=e,yx(e,r,t,n),e=bx(null,e,r,!0,o,n)):(e.tag=0,gt&&o&&_w(e),In(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ap(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=fB(r),t=kr(r,t),i){case 0:e=xx(null,e,r,t,n);break e;case 1:e=hA(null,e,r,t,n);break e;case 11:e=dA(null,e,r,t,n);break e;case 14:e=fA(null,e,r,kr(r.type,t),n);break e}throw Error(ae(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),xx(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),hA(t,e,r,i,n);case 3:e:{if(jM(e),t===null)throw Error(ae(387));r=e.pendingProps,o=e.memoizedState,i=o.element,uM(t,e),Fp(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=_l(Error(ae(423)),e),e=pA(t,e,r,n,i);break e}else if(r!==i){i=_l(Error(ae(424)),e),e=pA(t,e,r,n,i);break e}else for(Jn=No(e.stateNode.containerInfo.firstChild),Qn=e,gt=!0,Rr=null,n=aM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vl(),r===i){e=Li(t,e,n);break e}In(t,e,r,n)}e=e.child}return e;case 5:return cM(e),t===null&&px(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,ux(r,i)?s=null:o!==null&&ux(r,o)&&(e.flags|=32),DM(t,e),In(t,e,s,n),e.child;case 6:return t===null&&px(e),null;case 13:return LM(t,e,n);case 4:return Cw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=xl(e,null,r,n):In(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),dA(t,e,r,i,n);case 7:return In(t,e,e.pendingProps,n),e.child;case 8:return In(t,e,e.pendingProps.children,n),e.child;case 12:return In(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ut($p,r._currentValue),r._currentValue=s,o!==null)if(Br(o.value,s)){if(o.children===i.children&&!Fn.current){e=Li(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ci(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),mx(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ae(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),mx(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}In(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ol(e,n),i=gr(i),r=r(i),e.flags|=1,In(t,e,r,n),e.child;case 14:return r=e.type,i=kr(r,e.pendingProps),i=kr(r.type,i),fA(t,e,r,i,n);case 15:return OM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:kr(r,i),ap(t,e),e.tag=1,Un(r)?(t=!0,Dp(e)):t=!1,ol(e,n),PM(e,r,i),yx(e,r,i,n),bx(null,e,r,!0,t,n);case 19:return $M(t,e,n);case 22:return MM(t,e,n)}throw Error(ae(156,e.tag))};function eD(t,e){return IO(t,e)}function dB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(t,e,n,r){return new dB(t,e,n,r)}function zw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fB(t){if(typeof t=="function")return zw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uw)return 11;if(t===cw)return 14}return 2}function Do(t,e){var n=t.alternate;return n===null?(n=dr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function cp(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")zw(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ma:return js(n.children,i,o,e);case lw:s=8,i|=8;break;case Uv:return t=dr(12,n,e,i|2),t.elementType=Uv,t.lanes=o,t;case Bv:return t=dr(13,n,e,i),t.elementType=Bv,t.lanes=o,t;case Gv:return t=dr(19,n,e,i),t.elementType=Gv,t.lanes=o,t;case cO:return Ug(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lO:s=10;break e;case uO:s=9;break e;case uw:s=11;break e;case cw:s=14;break e;case fo:s=16,r=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=dr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function js(t,e,n,r){return t=dr(7,t,r,e),t.lanes=n,t}function Ug(t,e,n,r){return t=dr(22,t,r,e),t.elementType=cO,t.lanes=n,t.stateNode={isHidden:!1},t}function H0(t,e,n){return t=dr(6,t,null,e),t.lanes=n,t}function W0(t,e,n){return e=dr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hB(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=I0(0),this.expirationTimes=I0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=I0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qw(t,e,n,r,i,o,s,a,l){return t=new hB(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=dr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kw(o),t}function pB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tD(t){if(!t)return zo;t=t._reactInternals;e:{if(la(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var n=t.type;if(Un(n))return tM(t,n,e)}return e}function nD(t,e,n,r,i,o,s,a,l){return t=qw(n,r,!0,t,i,o,s,a,l),t.context=tD(null),n=t.current,r=Rn(),i=Mo(n),o=Ci(r,i),o.callback=e??null,Ro(n,o,i),t.current.lanes=i,pf(t,i,r),Bn(t,r),t}function Bg(t,e,n,r){var i=e.current,o=Rn(),s=Mo(i);return n=tD(n),e.context===null?e.context=n:e.pendingContext=n,e=Ci(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ro(i,e,s),t!==null&&(jr(t,i,s,o),ip(t,i,s)),s}function Kp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function TA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hw(t,e){TA(t,e),(t=t.alternate)&&TA(t,e)}function mB(){return null}var rD=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ww(t){this._internalRoot=t}Gg.prototype.render=Ww.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));Bg(t,e,null,null)};Gg.prototype.unmount=Ww.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hs(function(){Bg(null,t,null,null)}),e[Di]=null}};function Gg(t){this._internalRoot=t}Gg.prototype.unstable_scheduleHydration=function(t){if(t){var e=MO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mo.length&&e!==0&&e<mo[n].priority;n++);mo.splice(n,0,t),n===0&&jO(t)}};function Kw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function SA(){}function gB(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Kp(s);o.call(u)}}var s=nD(e,r,t,0,null,!1,!1,"",SA);return t._reactRootContainer=s,t[Di]=s.current,rd(t.nodeType===8?t.parentNode:t),Hs(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Kp(l);a.call(u)}}var l=qw(t,0,!1,null,null,!1,!1,"",SA);return t._reactRootContainer=l,t[Di]=l.current,rd(t.nodeType===8?t.parentNode:t),Hs(function(){Bg(e,l,n,r)}),l}function qg(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Kp(s);a.call(l)}}Bg(e,s,t,i)}else s=gB(n,e,t,i,r);return Kp(s)}RO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vc(e.pendingLanes);n!==0&&(hw(e,n|1),Bn(e,Ct()),!(Ge&6)&&(wl=Ct()+500,Qo()))}break;case 13:Hs(function(){var r=ji(t,1);if(r!==null){var i=Rn();jr(r,t,1,i)}}),Hw(t,1)}};pw=function(t){if(t.tag===13){var e=ji(t,134217728);if(e!==null){var n=Rn();jr(e,t,134217728,n)}Hw(t,134217728)}};OO=function(t){if(t.tag===13){var e=Mo(t),n=ji(t,e);if(n!==null){var r=Rn();jr(n,t,e,r)}Hw(t,e)}};MO=function(){return Ze};DO=function(t,e){var n=Ze;try{return Ze=t,e()}finally{Ze=n}};Zv=function(t,e,n){switch(e){case"input":if(Hv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Dg(r);if(!i)throw Error(ae(90));fO(r),Hv(r,i)}}}break;case"textarea":pO(t,n);break;case"select":e=n.value,e!=null&&tl(t,!!n.multiple,e,!1)}};_O=Uw;wO=Hs;var yB={usingClientEntryPoint:!1,Events:[gf,$a,Dg,xO,bO,Uw]},nc={findFiberByHostInstance:Ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vB={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ji.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=SO(t),t===null?null:t.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||mB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{Ng=Ah.inject(vB),Qr=Ah}catch{}}rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yB;rr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kw(e))throw Error(ae(200));return pB(t,e,null,n)};rr.createRoot=function(t,e){if(!Kw(t))throw Error(ae(299));var n=!1,r="",i=rD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qw(t,1,!1,null,null,n,!1,r,i),t[Di]=e.current,rd(t.nodeType===8?t.parentNode:t),new Ww(e)};rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=SO(e),t=t===null?null:t.stateNode,t};rr.flushSync=function(t){return Hs(t)};rr.hydrate=function(t,e,n){if(!zg(e))throw Error(ae(200));return qg(null,t,e,!0,n)};rr.hydrateRoot=function(t,e,n){if(!Kw(t))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=rD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=nD(e,null,t,1,n??null,i,!1,o,s),t[Di]=e.current,rd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Gg(e)};rr.render=function(t,e,n){if(!zg(e))throw Error(ae(200));return qg(null,t,e,!1,n)};rr.unmountComponentAtNode=function(t){if(!zg(t))throw Error(ae(40));return t._reactRootContainer?(Hs(function(){qg(null,null,t,!1,function(){t._reactRootContainer=null,t[Di]=null})}),!0):!1};rr.unstable_batchedUpdates=Uw;rr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!zg(n))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return qg(t,e,n,!1,r)};rr.version="18.3.1-next-f1338f8080-20240426";function iD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iD)}catch(t){console.error(t)}}iD(),iO.exports=rr;var xB=iO.exports,AA=xB;Vv.createRoot=AA.createRoot,Vv.hydrateRoot=AA.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(t,e)=>{const n=G.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>G.createElement("svg",{ref:c,...bB,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${_B(t)}`,a].join(" "),...u},[...e.map(([f,h])=>G.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=ne("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=ne("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=ne("AppWindow",[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=ne("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=ne("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=ne("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=ne("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=ne("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=ne("BadgeAlert",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=ne("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=ne("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=ne("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=ne("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=ne("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=ne("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=ne("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=ne("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=ne("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=ne("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=ne("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=ne("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=ne("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=ne("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=ne("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=ne("Ghost",[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=ne("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=ne("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=ne("HardDriveDownload",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=ne("HardDriveUpload",[["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M12 2v8",key:"1q4o3n"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=ne("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=ne("Hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=ne("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=ne("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=ne("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=ne("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=ne("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=ne("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=ne("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=ne("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=ne("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=ne("MessageSquareMore",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M16 10h.01",key:"1m94wz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=ne("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=ne("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=ne("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=ne("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=ne("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=ne("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=ne("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=ne("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=ne("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=ne("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=ne("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=ne("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=ne("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=ne("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=ne("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=ne("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=ne("Sigma",[["path",{d:"M18 7V4H6l6 8-6 8h12v-3",key:"zis8ev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=ne("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=ne("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=ne("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=ne("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=ne("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=ne("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=ne("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=ne("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=ne("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var $e=(t=>(t.DASHBOARD="DASHBOARD",t.TRANSACTIONS="TRANSACTIONS",t.INVESTMENTS="INVESTMENTS",t.BUDGETS="BUDGETS",t.SUBSCRIPTIONS="SUBSCRIPTIONS",t.CALENDAR="CALENDAR",t.AI_ASSISTANT="AI_ASSISTANT",t.DEBTS="DEBTS",t.SHOPPING_LIST="SHOPPING_LIST",t.WEALTH_PLANNER="WEALTH_PLANNER",t))($e||{}),OA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},p6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},xD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,y=u&63;l||(y=64,s||(h=64)),r.push(n[c],n[f],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):p6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new m6;const h=o<<2|a>>4;if(r.push(h),u!==64){const y=a<<4&240|u>>2;if(r.push(y),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class m6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g6=function(t){const e=vD(t);return xD.encodeByteArray(e,!0)},bD=function(t){return g6(t).replace(/\./g,"")},_D=function(t){try{return xD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=()=>y6().__FIREBASE_DEFAULTS__,x6=()=>{if(typeof process>"u"||typeof OA>"u")return;const t=OA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},b6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_D(t[1]);return e&&JSON.parse(e)},Kg=()=>{try{return v6()||x6()||b6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_6=t=>{var e,n;return(n=(e=Kg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wD=()=>{var t;return(t=Kg())===null||t===void 0?void 0:t.config},ED=t=>{var e;return(e=Kg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function T6(){var t;const e=(t=Kg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function A6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function I6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function k6(){const t=wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function C6(){return!T6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function P6(){try{return typeof indexedDB=="object"}catch{return!1}}function N6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6="FirebaseError";class Xi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=R6,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vf.prototype.create)}}class vf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?O6(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Xi(i,a,r)}}function O6(t,e){return t.replace(M6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const M6=/\{\$([^}]+)}/g;function D6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(MA(o)&&MA(s)){if(!gd(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function MA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function _c(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function j6(t,e){const n=new L6(t,e);return n.subscribe.bind(n)}class L6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Y0),i.error===void 0&&(i.error=Y0),i.complete===void 0&&(i.complete=Y0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Y0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t){return t&&t._delegate?t._delegate:t}class Ks{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new w6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U6(e))try{this.getOrInitializeService({instanceIdentifier:vs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vs){return this.instances.has(e)}getOptions(e=vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:F6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vs){return this.component?this.component.multipleInstances?e:vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function F6(t){return t===vs?void 0:t}function U6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new V6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const G6={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},z6=Ue.INFO,q6={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},H6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=q6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class eE{constructor(e){this.name=e,this._logLevel=z6,this._logHandler=H6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const W6=(t,e)=>e.some(n=>t instanceof n);let DA,jA;function K6(){return DA||(DA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y6(){return jA||(jA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TD=new WeakMap,Fx=new WeakMap,SD=new WeakMap,J0=new WeakMap,tE=new WeakMap;function J6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Lo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&TD.set(n,t)}).catch(()=>{}),tE.set(e,t),e}function X6(t){if(Fx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Fx.set(t,e)}let Ux={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||SD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Q6(t){Ux=t(Ux)}function Z6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(X0(this),e,...n);return SD.set(r,e.sort?e.sort():[e]),Lo(r)}:Y6().includes(t)?function(...e){return t.apply(X0(this),e),Lo(TD.get(this))}:function(...e){return Lo(t.apply(X0(this),e))}}function e8(t){return typeof t=="function"?Z6(t):(t instanceof IDBTransaction&&X6(t),W6(t,K6())?new Proxy(t,Ux):t)}function Lo(t){if(t instanceof IDBRequest)return J6(t);if(J0.has(t))return J0.get(t);const e=e8(t);return e!==t&&(J0.set(t,e),tE.set(e,t)),e}const X0=t=>tE.get(t);function t8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Lo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Lo(s.result),l.oldVersion,l.newVersion,Lo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const n8=["get","getKey","getAll","getAllKeys","count"],r8=["put","add","delete","clear"],Q0=new Map;function LA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Q0.get(e))return Q0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=r8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||n8.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Q0.set(e,o),o}Q6(t=>({...t,get:(e,n,r)=>LA(e,n)||t.get(e,n,r),has:(e,n)=>!!LA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(o8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function o8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bx="@firebase/app",$A="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new eE("@firebase/app"),s8="@firebase/app-compat",a8="@firebase/analytics-compat",l8="@firebase/analytics",u8="@firebase/app-check-compat",c8="@firebase/app-check",d8="@firebase/auth",f8="@firebase/auth-compat",h8="@firebase/database",p8="@firebase/data-connect",m8="@firebase/database-compat",g8="@firebase/functions",y8="@firebase/functions-compat",v8="@firebase/installations",x8="@firebase/installations-compat",b8="@firebase/messaging",_8="@firebase/messaging-compat",w8="@firebase/performance",E8="@firebase/performance-compat",T8="@firebase/remote-config",S8="@firebase/remote-config-compat",A8="@firebase/storage",I8="@firebase/storage-compat",k8="@firebase/firestore",C8="@firebase/vertexai-preview",P8="@firebase/firestore-compat",N8="firebase",R8="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="[DEFAULT]",O8={[Bx]:"fire-core",[s8]:"fire-core-compat",[l8]:"fire-analytics",[a8]:"fire-analytics-compat",[c8]:"fire-app-check",[u8]:"fire-app-check-compat",[d8]:"fire-auth",[f8]:"fire-auth-compat",[h8]:"fire-rtdb",[p8]:"fire-data-connect",[m8]:"fire-rtdb-compat",[g8]:"fire-fn",[y8]:"fire-fn-compat",[v8]:"fire-iid",[x8]:"fire-iid-compat",[b8]:"fire-fcm",[_8]:"fire-fcm-compat",[w8]:"fire-perf",[E8]:"fire-perf-compat",[T8]:"fire-rc",[S8]:"fire-rc-compat",[A8]:"fire-gcs",[I8]:"fire-gcs-compat",[k8]:"fire-fst",[P8]:"fire-fst-compat",[C8]:"fire-vertex","fire-js":"fire-js",[N8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=new Map,M8=new Map,zx=new Map;function VA(t,e){try{t.container.addComponent(e)}catch(n){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function El(t){const e=t.name;if(zx.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;zx.set(e,t);for(const n of tm.values())VA(n,t);for(const n of M8.values())VA(n,t);return!0}function nE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$o=new vf("app","Firebase",D8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=R8;function AD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Gx,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw $o.create("bad-app-name",{appName:String(i)});if(n||(n=wD()),!n)throw $o.create("no-options");const o=tm.get(i);if(o){if(gd(n,o.options)&&gd(r,o.config))return o;throw $o.create("duplicate-app",{appName:i})}const s=new B6(i);for(const l of zx.values())s.addComponent(l);const a=new j8(n,r,s);return tm.set(i,a),a}function L8(t=Gx){const e=tm.get(t);if(!e&&t===Gx&&wD())return AD();if(!e)throw $o.create("no-app",{appName:t});return e}function Vo(t,e,n){var r;let i=(r=O8[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(a.join(" "));return}El(new Ks(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8="firebase-heartbeat-database",V8=1,yd="firebase-heartbeat-store";let Z0=null;function ID(){return Z0||(Z0=t8($8,V8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yd)}catch(n){console.warn(n)}}}}).catch(t=>{throw $o.create("idb-open",{originalErrorMessage:t.message})})),Z0}async function F8(t){try{const n=(await ID()).transaction(yd),r=await n.objectStore(yd).get(kD(t));return await n.done,r}catch(e){if(e instanceof Xi)Fi.warn(e.message);else{const n=$o.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fi.warn(n.message)}}}async function FA(t,e){try{const r=(await ID()).transaction(yd,"readwrite");await r.objectStore(yd).put(e,kD(t)),await r.done}catch(n){if(n instanceof Xi)Fi.warn(n.message);else{const r=$o.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fi.warn(r.message)}}}function kD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8=1024,B8=30*24*60*60*1e3;class G8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new q8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=UA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=B8}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Fi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=UA(),{heartbeatsToSend:r,unsentEntries:i}=z8(this._heartbeatsCache.heartbeats),o=bD(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Fi.warn(n),""}}}function UA(){return new Date().toISOString().substring(0,10)}function z8(t,e=U8){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),BA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),BA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class q8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return P6()?N6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await F8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return FA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return FA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function BA(t){return bD(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(t){El(new Ks("platform-logger",e=>new i8(e),"PRIVATE")),El(new Ks("heartbeat",e=>new G8(e),"PRIVATE")),Vo(Bx,$A,t),Vo(Bx,$A,"esm2017"),Vo("fire-js","")}H8("");var W8="firebase",K8="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vo(W8,K8,"app");function rE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function CD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y8=CD,PD=new vf("auth","Firebase",CD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=new eE("@firebase/auth");function J8(t,...e){nm.logLevel<=Ue.WARN&&nm.warn(`Auth (${uu}): ${t}`,...e)}function hp(t,...e){nm.logLevel<=Ue.ERROR&&nm.error(`Auth (${uu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t,...e){throw oE(t,...e)}function Lr(t,...e){return oE(t,...e)}function iE(t,e,n){const r=Object.assign(Object.assign({},Y8()),{[e]:n});return new vf("auth","Firebase",r).create(e,{appName:t.name})}function Pi(t){return iE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function X8(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&vr(t,"argument-error"),iE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function oE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return PD.create(t,...e)}function Ae(t,e,...n){if(!t)throw oE(e,...n)}function Ei(t){const e="INTERNAL ASSERTION FAILED: "+t;throw hp(e),new Error(e)}function Ui(t,e){t||Ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Q8(){return GA()==="http:"||GA()==="https:"}function GA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Q8()||A6()||"connection"in navigator)?navigator.onLine:!0}function e7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ui(n>e,"Short delay should be less than long delay!"),this.isMobile=E6()||I6()}get(){return Z8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(t,e){Ui(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7=new bf(3e4,6e4);function Zo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function es(t,e,n,r,i={}){return RD(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=xf(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return S6()||(u.referrerPolicy="no-referrer"),ND.fetch()(OD(t,t.config.apiHost,n,a),u)})}async function RD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},t7),e);try{const i=new i7(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw kh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw kh(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw kh(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw iE(t,c,u);vr(t,c)}}catch(i){if(i instanceof Xi)throw i;vr(t,"network-request-failed",{message:String(i)})}}async function _f(t,e,n,r,i={}){const o=await es(t,e,n,r,i);return"mfaPendingCredential"in o&&vr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function OD(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?sE(t.config,i):`${t.config.apiScheme}://${i}`}function r7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class i7{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lr(this.auth,"network-request-failed")),n7.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Lr(t,e,r);return i.customData._tokenResponse=n,i}function zA(t){return t!==void 0&&t.enterprise!==void 0}class o7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return r7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function s7(t,e){return es(t,"GET","/v2/recaptchaConfig",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a7(t,e){return es(t,"POST","/v1/accounts:delete",e)}async function MD(t,e){return es(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function l7(t,e=!1){const n=It(t),r=await n.getIdToken(e),i=aE(r);Ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:jc(ev(i.auth_time)),issuedAtTime:jc(ev(i.iat)),expirationTime:jc(ev(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function ev(t){return Number(t)*1e3}function aE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return hp("JWT malformed, contained fewer than 3 sections"),null;try{const i=_D(n);return i?JSON.parse(i):(hp("Failed to decode base64 JWT payload"),null)}catch(i){return hp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function qA(t){const e=aE(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xi&&u7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function u7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jc(this.lastLoginAt),this.creationTime=jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await vd(t,MD(n,{idToken:r}));Ae(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?DD(o.providerUserInfo):[],a=f7(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Hx(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function d7(t){const e=It(t);await rm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function f7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function DD(t){return t.map(e=>{var{providerId:n}=e,r=rE(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h7(t,e){const n=await RD(t,{},async()=>{const r=xf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=OD(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ND.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function p7(t,e){return es(t,"POST","/v2/accounts:revokeToken",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=qA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await h7(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new al;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ae(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ae(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new al,this.toJSON())}_performRefresh(){return Ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ti{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=rE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new c7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Hx(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await vd(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return l7(this,e)}reload(){return d7(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await rm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mr(this.auth.app))return Promise.reject(Pi(this.auth));const e=await this.getIdToken();return await vd(this,a7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:E,emailVerified:P,isAnonymous:S,providerData:C,stsTokenManager:I}=n;Ae(E&&I,e,"internal-error");const T=al.fromJSON(this.name,I);Ae(typeof E=="string",e,"internal-error"),uo(f,e.name),uo(h,e.name),Ae(typeof P=="boolean",e,"internal-error"),Ae(typeof S=="boolean",e,"internal-error"),uo(y,e.name),uo(v,e.name),uo(b,e.name),uo(x,e.name),uo(w,e.name),uo(_,e.name);const k=new Ti({uid:E,auth:e,email:h,emailVerified:P,displayName:f,isAnonymous:S,photoURL:v,phoneNumber:y,tenantId:b,stsTokenManager:T,createdAt:w,lastLoginAt:_});return C&&Array.isArray(C)&&(k.providerData=C.map(N=>Object.assign({},N))),x&&(k._redirectEventId=x),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new al;i.updateFromServerResponse(n);const o=new Ti({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await rm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ae(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?DD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new al;a.updateFromIdToken(r);const l=new Ti({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Hx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=new Map;function Si(t){Ui(t instanceof Function,"Expected a class definition");let e=HA.get(t);return e?(Ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,HA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jD.type="NONE";const WA=jD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(t,e,n){return`firebase:${t}:${e}:${n}`}class ll{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=pp(this.userKey,i.apiKey,o),this.fullPersistenceKey=pp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ti._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ll(Si(WA),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Si(WA);const s=pp(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const f=Ti._fromJSON(e,c);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new ll(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new ll(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BD(e))return"Blackberry";if(GD(e))return"Webos";if($D(e))return"Safari";if((e.includes("chrome/")||VD(e))&&!e.includes("edge/"))return"Chrome";if(UD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function LD(t=wn()){return/firefox\//i.test(t)}function $D(t=wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VD(t=wn()){return/crios\//i.test(t)}function FD(t=wn()){return/iemobile/i.test(t)}function UD(t=wn()){return/android/i.test(t)}function BD(t=wn()){return/blackberry/i.test(t)}function GD(t=wn()){return/webos/i.test(t)}function lE(t=wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function m7(t=wn()){var e;return lE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function g7(){return k6()&&document.documentMode===10}function zD(t=wn()){return lE(t)||UD(t)||GD(t)||BD(t)||/windows phone/i.test(t)||FD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(t,e=[]){let n;switch(t){case"Browser":n=KA(wn());break;case"Worker":n=`${KA(wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v7(t,e={}){return es(t,"GET","/v2/passwordPolicy",Zo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x7=6;class b7{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:x7,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new YA(this),this.idTokenSubscription=new YA(this),this.beforeStateQueue=new y7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Si(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ll.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await MD(this,{idToken:e}),r=await Ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Mr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=e7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mr(this.app))return Promise.reject(Pi(this));const n=e?It(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mr(this.app)?Promise.reject(Pi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mr(this.app)?Promise.reject(Pi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await v7(this),n=new b7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await p7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Si(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await ll.create(this,[Si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&J8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ts(t){return It(t)}class YA{constructor(e){this.auth=e,this.observer=null,this.addObserver=j6(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function w7(t){Yg=t}function HD(t){return Yg.loadJS(t)}function E7(){return Yg.recaptchaEnterpriseScript}function T7(){return Yg.gapiScript}function S7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const A7="recaptcha-enterprise",I7="NO_RECAPTCHA";class k7{constructor(e){this.type=A7,this.auth=ts(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{s7(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new o7(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;zA(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(I7)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&zA(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=E7();l.length!==0&&(l+=a),HD(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function JA(t,e,n,r=!1){const i=new k7(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Wx(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await JA(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await JA(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(t,e){const n=nE(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(gd(o,e??{}))return i;vr(i,"already-initialized")}return n.initialize({options:e})}function P7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Si);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function N7(t,e,n){const r=ts(t);Ae(r._canInitEmulator,r,"emulator-config-failed"),Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=WD(e),{host:s,port:a}=R7(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),O7()}function WD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function R7(t){const e=WD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:XA(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:XA(s)}}}function XA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function O7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,n){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}}async function M7(t,e){return es(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D7(t,e){return _f(t,"POST","/v1/accounts:signInWithPassword",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j7(t,e){return _f(t,"POST","/v1/accounts:signInWithEmailLink",Zo(t,e))}async function L7(t,e){return _f(t,"POST","/v1/accounts:signInWithEmailLink",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd extends uE{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new xd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new xd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wx(e,n,"signInWithPassword",D7);case"emailLink":return j7(e,{email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wx(e,r,"signUpPassword",M7);case"emailLink":return L7(e,{idToken:n,email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(t,e){return _f(t,"POST","/v1/accounts:signInWithIdp",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7="http://localhost";class Ys extends uE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=rE(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Ys(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ul(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ul(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ul(e,n)}buildRequest(){const e={requestUri:$7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function F7(t){const e=bc(_c(t)).link,n=e?bc(_c(e)).deep_link_id:null,r=bc(_c(t)).deep_link_id;return(r?bc(_c(r)).link:null)||r||n||e||t}class cE{constructor(e){var n,r,i,o,s,a;const l=bc(_c(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=V7((i=l.mode)!==null&&i!==void 0?i:null);Ae(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=F7(e);try{return new cE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(){this.providerId=cu.PROVIDER_ID}static credential(e,n){return xd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=cE.parseLink(n);return Ae(r,"argument-error"),xd._fromEmailAndCode(e,r.code,r.tenantId)}}cu.PROVIDER_ID="password";cu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends dE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends wf{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yo.credential(e.oauthAccessToken)}catch{return null}}}yo.FACEBOOK_SIGN_IN_METHOD="facebook.com";yo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends wf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ys._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xi.credential(n,r)}catch{return null}}}xi.GOOGLE_SIGN_IN_METHOD="google.com";xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends wf{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vo.credential(e.oauthAccessToken)}catch{return null}}}vo.GITHUB_SIGN_IN_METHOD="github.com";vo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends wf{constructor(){super("twitter.com")}static credential(e,n){return Ys._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return xo.credential(n,r)}catch{return null}}}xo.TWITTER_SIGN_IN_METHOD="twitter.com";xo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U7(t,e){return _f(t,"POST","/v1/accounts:signUp",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Ti._fromIdTokenResponse(e,r,i),s=QA(r);return new Js({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=QA(r);return new Js({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function QA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im extends Xi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,im.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new im(e,n,r,i)}}function KD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?im._fromErrorAndOperation(t,o,e,r):o})}async function B7(t,e,n=!1){const r=await vd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Js._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G7(t,e,n=!1){const{auth:r}=t;if(Mr(r.app))return Promise.reject(Pi(r));const i="reauthenticate";try{const o=await vd(t,KD(r,i,e,t),n);Ae(o.idToken,r,"internal-error");const s=aE(o.idToken);Ae(s,r,"internal-error");const{sub:a}=s;return Ae(t.uid===a,r,"user-mismatch"),Js._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&vr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(t,e,n=!1){if(Mr(t.app))return Promise.reject(Pi(t));const r="signIn",i=await KD(t,r,e),o=await Js._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function z7(t,e){return YD(ts(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(t){const e=ts(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function q7(t,e,n){if(Mr(t.app))return Promise.reject(Pi(t));const r=ts(t),s=await Wx(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",U7).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&JD(t),l}),a=await Js._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function H7(t,e,n){return Mr(t.app)?Promise.reject(Pi(t)):z7(It(t),cu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&JD(t),r})}function W7(t,e,n,r){return It(t).onIdTokenChanged(e,n,r)}function K7(t,e,n){return It(t).beforeAuthStateChanged(e,n)}function Y7(t,e,n,r){return It(t).onAuthStateChanged(e,n,r)}function J7(t){return It(t).signOut()}const om="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(om,"1"),this.storage.removeItem(om),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7=1e3,Q7=10;class QD extends XD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);g7()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Q7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},X7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}QD.type="LOCAL";const Z7=QD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD extends XD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZD.type="SESSION";const ej=ZD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Jg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await e9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=fE("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function n9(t){ei().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function r9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function i9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function o9(){return tj()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj="firebaseLocalStorageDb",s9=1,sm="firebaseLocalStorage",rj="fbase_key";class Ef{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xg(t,e){return t.transaction([sm],e?"readwrite":"readonly").objectStore(sm)}function a9(){const t=indexedDB.deleteDatabase(nj);return new Ef(t).toPromise()}function Kx(){const t=indexedDB.open(nj,s9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sm,{keyPath:rj})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sm)?e(r):(r.close(),await a9(),e(await Kx()))})})}async function ZA(t,e,n){const r=Xg(t,!0).put({[rj]:e,value:n});return new Ef(r).toPromise()}async function l9(t,e){const n=Xg(t,!1).get(e),r=await new Ef(n).toPromise();return r===void 0?null:r.value}function eI(t,e){const n=Xg(t,!0).delete(e);return new Ef(n).toPromise()}const u9=800,c9=3;class ij{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>c9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jg._getInstance(o9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await r9(),!this.activeServiceWorker)return;this.sender=new t9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||i9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kx();return await ZA(e,om,"1"),await eI(e,om),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ZA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>l9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>eI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Xg(i,!1).getAll();return new Ef(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ij.type="LOCAL";const d9=ij;new bf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(t,e){return e?Si(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE extends uE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ul(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ul(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function f9(t){return YD(t.auth,new hE(t),t.bypassAuthState)}function h9(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),G7(n,new hE(t),t.bypassAuthState)}async function p9(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),B7(n,new hE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return f9;case"linkViaPopup":case"linkViaRedirect":return p9;case"reauthViaPopup":case"reauthViaRedirect":return h9;default:vr(this.auth,"internal-error")}}resolve(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=new bf(2e3,1e4);async function g9(t,e,n){if(Mr(t.app))return Promise.reject(Lr(t,"operation-not-supported-in-this-environment"));const r=ts(t);X8(t,e,dE);const i=oj(r,n);return new ks(r,"signInViaPopup",e,i).executeNotNull()}class ks extends sj{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ks.currentPopupAction&&ks.currentPopupAction.cancel(),ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Ui(this.filter.length===1,"Popup operations only handle one event");const e=fE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,m9.get())};e()}}ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9="pendingRedirect",mp=new Map;class v9 extends sj{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mp.get(this.auth._key());if(!e){try{const r=await x9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mp.set(this.auth._key(),e)}return this.bypassAuthState||mp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function x9(t,e){const n=w9(e),r=_9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function b9(t,e){mp.set(t._key(),e)}function _9(t){return Si(t._redirectPersistence)}function w9(t){return pp(y9,t.config.apiKey,t.name)}async function E9(t,e,n=!1){if(Mr(t.app))return Promise.reject(Pi(t));const r=ts(t),i=oj(r,e),s=await new v9(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=10*60*1e3;class S9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!A9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!aj(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Lr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=T9&&this.cachedEventUids.clear(),this.cachedEventUids.has(tI(e))}saveEventToCache(e){this.cachedEventUids.add(tI(e)),this.lastProcessedEventTime=Date.now()}}function tI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aj({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function A9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aj(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I9(t,e={}){return es(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C9=/^https?/;async function P9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await I9(t);for(const n of e)try{if(N9(n))return}catch{}vr(t,"unauthorized-domain")}function N9(t){const e=qx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!C9.test(n))return!1;if(k9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=new bf(3e4,6e4);function nI(){const t=ei().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function O9(t){return new Promise((e,n)=>{var r,i,o;function s(){nI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nI(),n(Lr(t,"network-request-failed"))},timeout:R9.get()})}if(!((i=(r=ei().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ei().gapi)===null||o===void 0)&&o.load)s();else{const a=S7("iframefcb");return ei()[a]=()=>{gapi.load?s():n(Lr(t,"network-request-failed"))},HD(`${T7()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw gp=null,e})}let gp=null;function M9(t){return gp=gp||O9(t),gp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=new bf(5e3,15e3),j9="__/auth/iframe",L9="emulator/auth/iframe",$9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},V9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function F9(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?sE(e,L9):`https://${t.config.authDomain}/${j9}`,r={apiKey:e.apiKey,appName:t.name,v:uu},i=V9.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${xf(r).slice(1)}`}async function U9(t){const e=await M9(t),n=ei().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:F9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$9,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Lr(t,"network-request-failed"),a=ei().setTimeout(()=>{o(s)},D9.get());function l(){ei().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G9=500,z9=600,q9="_blank",H9="http://localhost";class rI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function W9(t,e,n,r=G9,i=z9){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},B9),{width:r.toString(),height:i.toString(),top:o,left:s}),u=wn().toLowerCase();n&&(a=VD(u)?q9:n),LD(u)&&(e=e||H9,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[y,v])=>`${h}${y}=${v},`,"");if(m7(u)&&a!=="_self")return K9(e||"",a),new rI(null);const f=window.open(e||"",a,c);Ae(f,t,"popup-blocked");try{f.focus()}catch{}return new rI(f)}function K9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9="__/auth/handler",J9="emulator/auth/handler",X9=encodeURIComponent("fac");async function iI(t,e,n,r,i,o){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:uu,eventId:i};if(e instanceof dE){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",D6(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(e instanceof wf){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${X9}=${encodeURIComponent(l)}`:"";return`${Q9(t)}?${xf(a).slice(1)}${u}`}function Q9({config:t}){return t.emulator?sE(t,J9):`https://${t.authDomain}/${Y9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="webStorageSupport";class Z9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ej,this._completeRedirectFn=E9,this._overrideRedirectResult=b9}async _openPopup(e,n,r,i){var o;Ui((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await iI(e,n,r,qx(),i);return W9(e,s,fE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await iI(e,n,r,qx(),i);return n9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ui(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await U9(e),r=new S9(e);return n.register("authEvent",i=>(Ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tv,{type:tv},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[tv];s!==void 0&&n(!!s),vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=P9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zD()||$D()||lE()}}const eG=Z9;var oI="@firebase/auth",sI="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rG(t){El(new Ks("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ae(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qD(t)},u=new _7(r,i,o,l);return P7(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),El(new Ks("auth-internal",e=>{const n=ts(e.getProvider("auth").getImmediate());return(r=>new tG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vo(oI,sI,nG(t)),Vo(oI,sI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iG=5*60,oG=ED("authIdTokenMaxAge")||iG;let aI=null;const sG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>oG)return;const i=n==null?void 0:n.token;aI!==i&&(aI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function aG(t=L8()){const e=nE(t,"auth");if(e.isInitialized())return e.getImmediate();const n=C7(t,{popupRedirectResolver:eG,persistence:[d9,Z7,ej]}),r=ED("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=sG(o.toString());K7(n,s,()=>s(n.currentUser)),W7(n,a=>s(a))}}const i=_6("auth");return i&&N7(n,`http://${i}`),n}function lG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}w7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Lr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",lG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rG("Browser");var lI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $s,lj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,T){function k(){}k.prototype=T.prototype,I.D=T.prototype,I.prototype=new k,I.prototype.constructor=I,I.C=function(N,O,M){for(var D=Array(arguments.length-2),q=2;q<arguments.length;q++)D[q-2]=arguments[q];return T.prototype[O].apply(N,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,T,k){k||(k=0);var N=Array(16);if(typeof T=="string")for(var O=0;16>O;++O)N[O]=T.charCodeAt(k++)|T.charCodeAt(k++)<<8|T.charCodeAt(k++)<<16|T.charCodeAt(k++)<<24;else for(O=0;16>O;++O)N[O]=T[k++]|T[k++]<<8|T[k++]<<16|T[k++]<<24;T=I.g[0],k=I.g[1],O=I.g[2];var M=I.g[3],D=T+(M^k&(O^M))+N[0]+3614090360&4294967295;T=k+(D<<7&4294967295|D>>>25),D=M+(O^T&(k^O))+N[1]+3905402710&4294967295,M=T+(D<<12&4294967295|D>>>20),D=O+(k^M&(T^k))+N[2]+606105819&4294967295,O=M+(D<<17&4294967295|D>>>15),D=k+(T^O&(M^T))+N[3]+3250441966&4294967295,k=O+(D<<22&4294967295|D>>>10),D=T+(M^k&(O^M))+N[4]+4118548399&4294967295,T=k+(D<<7&4294967295|D>>>25),D=M+(O^T&(k^O))+N[5]+1200080426&4294967295,M=T+(D<<12&4294967295|D>>>20),D=O+(k^M&(T^k))+N[6]+2821735955&4294967295,O=M+(D<<17&4294967295|D>>>15),D=k+(T^O&(M^T))+N[7]+4249261313&4294967295,k=O+(D<<22&4294967295|D>>>10),D=T+(M^k&(O^M))+N[8]+1770035416&4294967295,T=k+(D<<7&4294967295|D>>>25),D=M+(O^T&(k^O))+N[9]+2336552879&4294967295,M=T+(D<<12&4294967295|D>>>20),D=O+(k^M&(T^k))+N[10]+4294925233&4294967295,O=M+(D<<17&4294967295|D>>>15),D=k+(T^O&(M^T))+N[11]+2304563134&4294967295,k=O+(D<<22&4294967295|D>>>10),D=T+(M^k&(O^M))+N[12]+1804603682&4294967295,T=k+(D<<7&4294967295|D>>>25),D=M+(O^T&(k^O))+N[13]+4254626195&4294967295,M=T+(D<<12&4294967295|D>>>20),D=O+(k^M&(T^k))+N[14]+2792965006&4294967295,O=M+(D<<17&4294967295|D>>>15),D=k+(T^O&(M^T))+N[15]+1236535329&4294967295,k=O+(D<<22&4294967295|D>>>10),D=T+(O^M&(k^O))+N[1]+4129170786&4294967295,T=k+(D<<5&4294967295|D>>>27),D=M+(k^O&(T^k))+N[6]+3225465664&4294967295,M=T+(D<<9&4294967295|D>>>23),D=O+(T^k&(M^T))+N[11]+643717713&4294967295,O=M+(D<<14&4294967295|D>>>18),D=k+(M^T&(O^M))+N[0]+3921069994&4294967295,k=O+(D<<20&4294967295|D>>>12),D=T+(O^M&(k^O))+N[5]+3593408605&4294967295,T=k+(D<<5&4294967295|D>>>27),D=M+(k^O&(T^k))+N[10]+38016083&4294967295,M=T+(D<<9&4294967295|D>>>23),D=O+(T^k&(M^T))+N[15]+3634488961&4294967295,O=M+(D<<14&4294967295|D>>>18),D=k+(M^T&(O^M))+N[4]+3889429448&4294967295,k=O+(D<<20&4294967295|D>>>12),D=T+(O^M&(k^O))+N[9]+568446438&4294967295,T=k+(D<<5&4294967295|D>>>27),D=M+(k^O&(T^k))+N[14]+3275163606&4294967295,M=T+(D<<9&4294967295|D>>>23),D=O+(T^k&(M^T))+N[3]+4107603335&4294967295,O=M+(D<<14&4294967295|D>>>18),D=k+(M^T&(O^M))+N[8]+1163531501&4294967295,k=O+(D<<20&4294967295|D>>>12),D=T+(O^M&(k^O))+N[13]+2850285829&4294967295,T=k+(D<<5&4294967295|D>>>27),D=M+(k^O&(T^k))+N[2]+4243563512&4294967295,M=T+(D<<9&4294967295|D>>>23),D=O+(T^k&(M^T))+N[7]+1735328473&4294967295,O=M+(D<<14&4294967295|D>>>18),D=k+(M^T&(O^M))+N[12]+2368359562&4294967295,k=O+(D<<20&4294967295|D>>>12),D=T+(k^O^M)+N[5]+4294588738&4294967295,T=k+(D<<4&4294967295|D>>>28),D=M+(T^k^O)+N[8]+2272392833&4294967295,M=T+(D<<11&4294967295|D>>>21),D=O+(M^T^k)+N[11]+1839030562&4294967295,O=M+(D<<16&4294967295|D>>>16),D=k+(O^M^T)+N[14]+4259657740&4294967295,k=O+(D<<23&4294967295|D>>>9),D=T+(k^O^M)+N[1]+2763975236&4294967295,T=k+(D<<4&4294967295|D>>>28),D=M+(T^k^O)+N[4]+1272893353&4294967295,M=T+(D<<11&4294967295|D>>>21),D=O+(M^T^k)+N[7]+4139469664&4294967295,O=M+(D<<16&4294967295|D>>>16),D=k+(O^M^T)+N[10]+3200236656&4294967295,k=O+(D<<23&4294967295|D>>>9),D=T+(k^O^M)+N[13]+681279174&4294967295,T=k+(D<<4&4294967295|D>>>28),D=M+(T^k^O)+N[0]+3936430074&4294967295,M=T+(D<<11&4294967295|D>>>21),D=O+(M^T^k)+N[3]+3572445317&4294967295,O=M+(D<<16&4294967295|D>>>16),D=k+(O^M^T)+N[6]+76029189&4294967295,k=O+(D<<23&4294967295|D>>>9),D=T+(k^O^M)+N[9]+3654602809&4294967295,T=k+(D<<4&4294967295|D>>>28),D=M+(T^k^O)+N[12]+3873151461&4294967295,M=T+(D<<11&4294967295|D>>>21),D=O+(M^T^k)+N[15]+530742520&4294967295,O=M+(D<<16&4294967295|D>>>16),D=k+(O^M^T)+N[2]+3299628645&4294967295,k=O+(D<<23&4294967295|D>>>9),D=T+(O^(k|~M))+N[0]+4096336452&4294967295,T=k+(D<<6&4294967295|D>>>26),D=M+(k^(T|~O))+N[7]+1126891415&4294967295,M=T+(D<<10&4294967295|D>>>22),D=O+(T^(M|~k))+N[14]+2878612391&4294967295,O=M+(D<<15&4294967295|D>>>17),D=k+(M^(O|~T))+N[5]+4237533241&4294967295,k=O+(D<<21&4294967295|D>>>11),D=T+(O^(k|~M))+N[12]+1700485571&4294967295,T=k+(D<<6&4294967295|D>>>26),D=M+(k^(T|~O))+N[3]+2399980690&4294967295,M=T+(D<<10&4294967295|D>>>22),D=O+(T^(M|~k))+N[10]+4293915773&4294967295,O=M+(D<<15&4294967295|D>>>17),D=k+(M^(O|~T))+N[1]+2240044497&4294967295,k=O+(D<<21&4294967295|D>>>11),D=T+(O^(k|~M))+N[8]+1873313359&4294967295,T=k+(D<<6&4294967295|D>>>26),D=M+(k^(T|~O))+N[15]+4264355552&4294967295,M=T+(D<<10&4294967295|D>>>22),D=O+(T^(M|~k))+N[6]+2734768916&4294967295,O=M+(D<<15&4294967295|D>>>17),D=k+(M^(O|~T))+N[13]+1309151649&4294967295,k=O+(D<<21&4294967295|D>>>11),D=T+(O^(k|~M))+N[4]+4149444226&4294967295,T=k+(D<<6&4294967295|D>>>26),D=M+(k^(T|~O))+N[11]+3174756917&4294967295,M=T+(D<<10&4294967295|D>>>22),D=O+(T^(M|~k))+N[2]+718787259&4294967295,O=M+(D<<15&4294967295|D>>>17),D=k+(M^(O|~T))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+M&4294967295}r.prototype.u=function(I,T){T===void 0&&(T=I.length);for(var k=T-this.blockSize,N=this.B,O=this.h,M=0;M<T;){if(O==0)for(;M<=k;)i(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<T;)if(N[O++]=I.charCodeAt(M++),O==this.blockSize){i(this,N),O=0;break}}else for(;M<T;)if(N[O++]=I[M++],O==this.blockSize){i(this,N),O=0;break}}this.h=O,this.o+=T},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;var k=8*this.o;for(T=I.length-8;T<I.length;++T)I[T]=k&255,k/=256;for(this.u(I),I=Array(16),T=k=0;4>T;++T)for(var N=0;32>N;N+=8)I[k++]=this.g[T]>>>N&255;return I};function o(I,T){var k=a;return Object.prototype.hasOwnProperty.call(k,I)?k[I]:k[I]=T(I)}function s(I,T){this.h=T;for(var k=[],N=!0,O=I.length-1;0<=O;O--){var M=I[O]|0;N&&M==T||(k[O]=M,N=!1)}this.g=k}var a={};function l(I){return-128<=I&&128>I?o(I,function(T){return new s([T|0],0>T?-1:0)}):new s([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return x(u(-I));for(var T=[],k=1,N=0;I>=k;N++)T[N]=I/k|0,k*=4294967296;return new s(T,0)}function c(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return x(c(I.substring(1),T));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=u(Math.pow(T,8)),N=f,O=0;O<I.length;O+=8){var M=Math.min(8,I.length-O),D=parseInt(I.substring(O,O+M),T);8>M?(M=u(Math.pow(T,M)),N=N.j(M).add(u(D))):(N=N.j(k),N=N.add(u(D)))}return N}var f=l(0),h=l(1),y=l(16777216);t=s.prototype,t.m=function(){if(b(this))return-x(this).m();for(var I=0,T=1,k=0;k<this.g.length;k++){var N=this.i(k);I+=(0<=N?N:4294967296+N)*T,T*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(v(this))return"0";if(b(this))return"-"+x(this).toString(I);for(var T=u(Math.pow(I,6)),k=this,N="";;){var O=P(k,T).g;k=w(k,O.j(T));var M=((0<k.g.length?k.g[0]:k.h)>>>0).toString(I);if(k=O,v(k))return M+N;for(;6>M.length;)M="0"+M;N=M+N}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function v(I){if(I.h!=0)return!1;for(var T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function b(I){return I.h==-1}t.l=function(I){return I=w(this,I),b(I)?-1:v(I)?0:1};function x(I){for(var T=I.g.length,k=[],N=0;N<T;N++)k[N]=~I.g[N];return new s(k,~I.h).add(h)}t.abs=function(){return b(this)?x(this):this},t.add=function(I){for(var T=Math.max(this.g.length,I.g.length),k=[],N=0,O=0;O<=T;O++){var M=N+(this.i(O)&65535)+(I.i(O)&65535),D=(M>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);N=D>>>16,M&=65535,D&=65535,k[O]=D<<16|M}return new s(k,k[k.length-1]&-2147483648?-1:0)};function w(I,T){return I.add(x(T))}t.j=function(I){if(v(this)||v(I))return f;if(b(this))return b(I)?x(this).j(x(I)):x(x(this).j(I));if(b(I))return x(this.j(x(I)));if(0>this.l(y)&&0>I.l(y))return u(this.m()*I.m());for(var T=this.g.length+I.g.length,k=[],N=0;N<2*T;N++)k[N]=0;for(N=0;N<this.g.length;N++)for(var O=0;O<I.g.length;O++){var M=this.i(N)>>>16,D=this.i(N)&65535,q=I.i(O)>>>16,U=I.i(O)&65535;k[2*N+2*O]+=D*U,_(k,2*N+2*O),k[2*N+2*O+1]+=M*U,_(k,2*N+2*O+1),k[2*N+2*O+1]+=D*q,_(k,2*N+2*O+1),k[2*N+2*O+2]+=M*q,_(k,2*N+2*O+2)}for(N=0;N<T;N++)k[N]=k[2*N+1]<<16|k[2*N];for(N=T;N<2*T;N++)k[N]=0;return new s(k,0)};function _(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function E(I,T){this.g=I,this.h=T}function P(I,T){if(v(T))throw Error("division by zero");if(v(I))return new E(f,f);if(b(I))return T=P(x(I),T),new E(x(T.g),x(T.h));if(b(T))return T=P(I,x(T)),new E(x(T.g),T.h);if(30<I.g.length){if(b(I)||b(T))throw Error("slowDivide_ only works with positive integers.");for(var k=h,N=T;0>=N.l(I);)k=S(k),N=S(N);var O=C(k,1),M=C(N,1);for(N=C(N,2),k=C(k,2);!v(N);){var D=M.add(N);0>=D.l(I)&&(O=O.add(k),M=D),N=C(N,1),k=C(k,1)}return T=w(I,O.j(T)),new E(O,T)}for(O=f;0<=I.l(T);){for(k=Math.max(1,Math.floor(I.m()/T.m())),N=Math.ceil(Math.log(k)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),M=u(k),D=M.j(T);b(D)||0<D.l(I);)k-=N,M=u(k),D=M.j(T);v(M)&&(M=h),O=O.add(M),I=w(I,D)}return new E(O,I)}t.A=function(I){return P(this,I).h},t.and=function(I){for(var T=Math.max(this.g.length,I.g.length),k=[],N=0;N<T;N++)k[N]=this.i(N)&I.i(N);return new s(k,this.h&I.h)},t.or=function(I){for(var T=Math.max(this.g.length,I.g.length),k=[],N=0;N<T;N++)k[N]=this.i(N)|I.i(N);return new s(k,this.h|I.h)},t.xor=function(I){for(var T=Math.max(this.g.length,I.g.length),k=[],N=0;N<T;N++)k[N]=this.i(N)^I.i(N);return new s(k,this.h^I.h)};function S(I){for(var T=I.g.length+1,k=[],N=0;N<T;N++)k[N]=I.i(N)<<1|I.i(N-1)>>>31;return new s(k,I.h)}function C(I,T){var k=T>>5;T%=32;for(var N=I.g.length-k,O=[],M=0;M<N;M++)O[M]=0<T?I.i(M+k)>>>T|I.i(M+k+1)<<32-T:I.i(M+k);return new s(O,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lj=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,$s=s}).apply(typeof lI<"u"?lI:typeof self<"u"?self:typeof window<"u"?window:{});var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uj,wc,cj,yp,Yx,dj,fj,hj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,A,R){return m==Array.prototype||m==Object.prototype||(m[A]=R.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ch=="object"&&Ch];for(var A=0;A<m.length;++A){var R=m[A];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(m,A){if(A)e:{var R=r;m=m.split(".");for(var $=0;$<m.length-1;$++){var K=m[$];if(!(K in R))break e;R=R[K]}m=m[m.length-1],$=R[m],A=A($),A!=$&&A!=null&&e(R,m,{configurable:!0,writable:!0,value:A})}}function o(m,A){m instanceof String&&(m+="");var R=0,$=!1,K={next:function(){if(!$&&R<m.length){var X=R++;return{value:A(X,m[X]),done:!1}}return $=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(m){return m||function(){return o(this,function(A,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(m){var A=typeof m;return A=A!="object"?A:m?Array.isArray(m)?"array":A:"null",A=="array"||A=="object"&&typeof m.length=="number"}function u(m){var A=typeof m;return A=="object"&&m!=null||A=="function"}function c(m,A,R){return m.call.apply(m.bind,arguments)}function f(m,A,R){if(!m)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,$),m.apply(A,K)}}return function(){return m.apply(A,arguments)}}function h(m,A,R){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,h.apply(null,arguments)}function y(m,A){var R=Array.prototype.slice.call(arguments,1);return function(){var $=R.slice();return $.push.apply($,arguments),m.apply(this,$)}}function v(m,A){function R(){}R.prototype=A.prototype,m.aa=A.prototype,m.prototype=new R,m.prototype.constructor=m,m.Qb=function($,K,X){for(var de=Array(arguments.length-2),it=2;it<arguments.length;it++)de[it-2]=arguments[it];return A.prototype[K].apply($,de)}}function b(m){const A=m.length;if(0<A){const R=Array(A);for(let $=0;$<A;$++)R[$]=m[$];return R}return[]}function x(m,A){for(let R=1;R<arguments.length;R++){const $=arguments[R];if(l($)){const K=m.length||0,X=$.length||0;m.length=K+X;for(let de=0;de<X;de++)m[K+de]=$[de]}else m.push($)}}class w{constructor(A,R){this.i=A,this.j=R,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function _(m){return/^[\s\xa0]*$/.test(m)}function E(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function P(m){return P[" "](m),m}P[" "]=function(){};var S=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function C(m,A,R){for(const $ in m)A.call(R,m[$],$,m)}function I(m,A){for(const R in m)A.call(void 0,m[R],R,m)}function T(m){const A={};for(const R in m)A[R]=m[R];return A}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(m,A){let R,$;for(let K=1;K<arguments.length;K++){$=arguments[K];for(R in $)m[R]=$[R];for(let X=0;X<k.length;X++)R=k[X],Object.prototype.hasOwnProperty.call($,R)&&(m[R]=$[R])}}function O(m){var A=1;m=m.split(":");const R=[];for(;0<A&&m.length;)R.push(m.shift()),A--;return m.length&&R.push(m.join(":")),R}function M(m){a.setTimeout(()=>{throw m},0)}function D(){var m=V;let A=null;return m.g&&(A=m.g,m.g=m.g.next,m.g||(m.h=null),A.next=null),A}class q{constructor(){this.h=this.g=null}add(A,R){const $=U.get();$.set(A,R),this.h?this.h.next=$:this.g=$,this.h=$}}var U=new w(()=>new j,m=>m.reset());class j{constructor(){this.next=this.g=this.h=null}set(A,R){this.h=A,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let F,L=!1,V=new q,z=()=>{const m=a.Promise.resolve(void 0);F=()=>{m.then(Y)}};var Y=()=>{for(var m;m=D();){try{m.h.call(m.g)}catch(R){M(R)}var A=U;A.j(m),100>A.h&&(A.h++,m.next=A.g,A.g=m)}L=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(m,A){this.type=m,this.g=this.target=A,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,A=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const R=()=>{};a.addEventListener("test",R,A),a.removeEventListener("test",R,A)}catch{}return m}();function W(m,A){if(J.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var R=this.type=m.type,$=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=A,A=m.relatedTarget){if(S){e:{try{P(A.nodeName);var K=!0;break e}catch{}K=!1}K||(A=null)}}else R=="mouseover"?A=m.fromElement:R=="mouseout"&&(A=m.toElement);this.relatedTarget=A,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ie[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&W.aa.h.call(this)}}v(W,J);var ie={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),Re=0;function oe(m,A,R,$,K){this.listener=m,this.proxy=null,this.src=A,this.type=R,this.capture=!!$,this.ha=K,this.key=++Re,this.da=this.fa=!1}function xe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ue(m){this.src=m,this.g={},this.h=0}ue.prototype.add=function(m,A,R,$,K){var X=m.toString();m=this.g[X],m||(m=this.g[X]=[],this.h++);var de=Oe(m,A,$,K);return-1<de?(A=m[de],R||(A.fa=!1)):(A=new oe(A,this.src,X,!!$,K),A.fa=R,m.push(A)),A};function ee(m,A){var R=A.type;if(R in m.g){var $=m.g[R],K=Array.prototype.indexOf.call($,A,void 0),X;(X=0<=K)&&Array.prototype.splice.call($,K,1),X&&(xe(A),m.g[R].length==0&&(delete m.g[R],m.h--))}}function Oe(m,A,R,$){for(var K=0;K<m.length;++K){var X=m[K];if(!X.da&&X.listener==A&&X.capture==!!R&&X.ha==$)return K}return-1}var Te="closure_lm_"+(1e6*Math.random()|0),nt={};function rt(m,A,R,$,K){if(Array.isArray(A)){for(var X=0;X<A.length;X++)rt(m,A[X],R,$,K);return null}return R=zt(R),m&&m[fe]?m.K(A,R,u($)?!!$.capture:!1,K):Q(m,A,R,!1,$,K)}function Q(m,A,R,$,K,X){if(!A)throw Error("Invalid event type");var de=u(K)?!!K.capture:!!K,it=Gt(m);if(it||(m[Te]=it=new ue(m)),R=it.add(A,R,$,de,X),R.proxy)return R;if($=le(),R.proxy=$,$.src=m,$.listener=R,m.addEventListener)ce||(K=de),K===void 0&&(K=!1),m.addEventListener(A.toString(),$,K);else if(m.attachEvent)m.attachEvent(ct(A.toString()),$);else if(m.addListener&&m.removeListener)m.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return R}function le(){function m(R){return A.call(m.src,m.listener,R)}const A=Me;return m}function ke(m,A,R,$,K){if(Array.isArray(A))for(var X=0;X<A.length;X++)ke(m,A[X],R,$,K);else $=u($)?!!$.capture:!!$,R=zt(R),m&&m[fe]?(m=m.i,A=String(A).toString(),A in m.g&&(X=m.g[A],R=Oe(X,R,$,K),-1<R&&(xe(X[R]),Array.prototype.splice.call(X,R,1),X.length==0&&(delete m.g[A],m.h--)))):m&&(m=Gt(m))&&(A=m.g[A.toString()],m=-1,A&&(m=Oe(A,R,$,K)),(R=-1<m?A[m]:null)&&Fe(R))}function Fe(m){if(typeof m!="number"&&m&&!m.da){var A=m.src;if(A&&A[fe])ee(A.i,m);else{var R=m.type,$=m.proxy;A.removeEventListener?A.removeEventListener(R,$,m.capture):A.detachEvent?A.detachEvent(ct(R),$):A.addListener&&A.removeListener&&A.removeListener($),(R=Gt(A))?(ee(R,m),R.h==0&&(R.src=null,A[Te]=null)):xe(m)}}}function ct(m){return m in nt?nt[m]:nt[m]="on"+m}function Me(m,A){if(m.da)m=!0;else{A=new W(A,this);var R=m.listener,$=m.ha||m.src;m.fa&&Fe(m),m=R.call($,A)}return m}function Gt(m){return m=m[Te],m instanceof ue?m:null}var Tr="__closure_events_fn_"+(1e9*Math.random()>>>0);function zt(m){return typeof m=="function"?m:(m[Tr]||(m[Tr]=function(A){return m.handleEvent(A)}),m[Tr])}function qt(){H.call(this),this.i=new ue(this),this.M=this,this.F=null}v(qt,H),qt.prototype[fe]=!0,qt.prototype.removeEventListener=function(m,A,R,$){ke(this,m,A,R,$)};function En(m,A){var R,$=m.F;if($)for(R=[];$;$=$.F)R.push($);if(m=m.M,$=A.type||A,typeof A=="string")A=new J(A,m);else if(A instanceof J)A.target=A.target||m;else{var K=A;A=new J($,m),N(A,K)}if(K=!0,R)for(var X=R.length-1;0<=X;X--){var de=A.g=R[X];K=Wf(de,$,!0,A)&&K}if(de=A.g=m,K=Wf(de,$,!0,A)&&K,K=Wf(de,$,!1,A)&&K,R)for(X=0;X<R.length;X++)de=A.g=R[X],K=Wf(de,$,!1,A)&&K}qt.prototype.N=function(){if(qt.aa.N.call(this),this.i){var m=this.i,A;for(A in m.g){for(var R=m.g[A],$=0;$<R.length;$++)xe(R[$]);delete m.g[A],m.h--}}this.F=null},qt.prototype.K=function(m,A,R,$){return this.i.add(String(m),A,!1,R,$)},qt.prototype.L=function(m,A,R,$){return this.i.add(String(m),A,!0,R,$)};function Wf(m,A,R,$){if(A=m.i.g[String(A)],!A)return!0;A=A.concat();for(var K=!0,X=0;X<A.length;++X){var de=A[X];if(de&&!de.da&&de.capture==R){var it=de.listener,en=de.ha||de.src;de.fa&&ee(m.i,de),K=it.call(en,$)!==!1&&K}}return K&&!$.defaultPrevented}function ET(m,A,R){if(typeof m=="function")R&&(m=h(m,R));else if(m&&typeof m.handleEvent=="function")m=h(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:a.setTimeout(m,A||0)}function TT(m){m.g=ET(()=>{m.g=null,m.i&&(m.i=!1,TT(m))},m.l);const A=m.h;m.h=null,m.m.apply(null,A)}class wF extends H{constructor(A,R){super(),this.m=A,this.l=R,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:TT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ju(m){H.call(this),this.h=m,this.g={}}v(ju,H);var ST=[];function AT(m){C(m.g,function(A,R){this.g.hasOwnProperty(R)&&Fe(A)},m),m.g={}}ju.prototype.N=function(){ju.aa.N.call(this),AT(this)},ju.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var s0=a.JSON.stringify,EF=a.JSON.parse,TF=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function a0(){}a0.prototype.h=null;function IT(m){return m.h||(m.h=m.i())}function kT(){}var Lu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function l0(){J.call(this,"d")}v(l0,J);function u0(){J.call(this,"c")}v(u0,J);var us={},CT=null;function Kf(){return CT=CT||new qt}us.La="serverreachability";function PT(m){J.call(this,us.La,m)}v(PT,J);function $u(m){const A=Kf();En(A,new PT(A))}us.STAT_EVENT="statevent";function NT(m,A){J.call(this,us.STAT_EVENT,m),this.stat=A}v(NT,J);function Tn(m){const A=Kf();En(A,new NT(A,m))}us.Ma="timingevent";function RT(m,A){J.call(this,us.Ma,m),this.size=A}v(RT,J);function Vu(m,A){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},A)}function Fu(){this.g=!0}Fu.prototype.xa=function(){this.g=!1};function SF(m,A,R,$,K,X){m.info(function(){if(m.g)if(X)for(var de="",it=X.split("&"),en=0;en<it.length;en++){var qe=it[en].split("=");if(1<qe.length){var dn=qe[0];qe=qe[1];var fn=dn.split("_");de=2<=fn.length&&fn[1]=="type"?de+(dn+"="+qe+"&"):de+(dn+"=redacted&")}}else de=null;else de=X;return"XMLHTTP REQ ("+$+") [attempt "+K+"]: "+A+`
`+R+`
`+de})}function AF(m,A,R,$,K,X,de){m.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+K+"]: "+A+`
`+R+`
`+X+" "+de})}function xa(m,A,R,$){m.info(function(){return"XMLHTTP TEXT ("+A+"): "+kF(m,R)+($?" "+$:"")})}function IF(m,A){m.info(function(){return"TIMEOUT: "+A})}Fu.prototype.info=function(){};function kF(m,A){if(!m.g)return A;if(!A)return null;try{var R=JSON.parse(A);if(R){for(m=0;m<R.length;m++)if(Array.isArray(R[m])){var $=R[m];if(!(2>$.length)){var K=$[1];if(Array.isArray(K)&&!(1>K.length)){var X=K[0];if(X!="noop"&&X!="stop"&&X!="close")for(var de=1;de<K.length;de++)K[de]=""}}}}return s0(R)}catch{return A}}var Yf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},OT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},c0;function Jf(){}v(Jf,a0),Jf.prototype.g=function(){return new XMLHttpRequest},Jf.prototype.i=function(){return{}},c0=new Jf;function oo(m,A,R,$){this.j=m,this.i=A,this.l=R,this.R=$||1,this.U=new ju(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new MT}function MT(){this.i=null,this.g="",this.h=!1}var DT={},d0={};function f0(m,A,R){m.L=1,m.v=eh(hi(A)),m.m=R,m.P=!0,jT(m,null)}function jT(m,A){m.F=Date.now(),Xf(m),m.A=hi(m.v);var R=m.A,$=m.R;Array.isArray($)||($=[String($)]),JT(R.i,"t",$),m.C=0,R=m.j.J,m.h=new MT,m.g=pS(m.j,R?A:null,!m.m),0<m.O&&(m.M=new wF(h(m.Y,m,m.g),m.O)),A=m.U,R=m.g,$=m.ca;var K="readystatechange";Array.isArray(K)||(K&&(ST[0]=K.toString()),K=ST);for(var X=0;X<K.length;X++){var de=rt(R,K[X],$||A.handleEvent,!1,A.h||A);if(!de)break;A.g[de.key]=de}A=m.H?T(m.H):{},m.m?(m.u||(m.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,A)):(m.u="GET",m.g.ea(m.A,m.u,null,A)),$u(),SF(m.i,m.u,m.A,m.l,m.R,m.m)}oo.prototype.ca=function(m){m=m.target;const A=this.M;A&&pi(m)==3?A.j():this.Y(m)},oo.prototype.Y=function(m){try{if(m==this.g)e:{const fn=pi(this.g);var A=this.g.Ba();const wa=this.g.Z();if(!(3>fn)&&(fn!=3||this.g&&(this.h.h||this.g.oa()||rS(this.g)))){this.J||fn!=4||A==7||(A==8||0>=wa?$u(3):$u(2)),h0(this);var R=this.g.Z();this.X=R;t:if(LT(this)){var $=rS(this.g);m="";var K=$.length,X=pi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cs(this),Uu(this);var de="";break t}this.h.i=new a.TextDecoder}for(A=0;A<K;A++)this.h.h=!0,m+=this.h.i.decode($[A],{stream:!(X&&A==K-1)});$.length=0,this.h.g+=m,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=R==200,AF(this.i,this.u,this.A,this.l,this.R,fn,R),this.o){if(this.T&&!this.K){t:{if(this.g){var it,en=this.g;if((it=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(it)){var qe=it;break t}}qe=null}if(R=qe)xa(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,p0(this,R);else{this.o=!1,this.s=3,Tn(12),cs(this),Uu(this);break e}}if(this.P){R=!0;let Sr;for(;!this.J&&this.C<de.length;)if(Sr=CF(this,de),Sr==d0){fn==4&&(this.s=4,Tn(14),R=!1),xa(this.i,this.l,null,"[Incomplete Response]");break}else if(Sr==DT){this.s=4,Tn(15),xa(this.i,this.l,de,"[Invalid Chunk]"),R=!1;break}else xa(this.i,this.l,Sr,null),p0(this,Sr);if(LT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fn!=4||de.length!=0||this.h.h||(this.s=1,Tn(16),R=!1),this.o=this.o&&R,!R)xa(this.i,this.l,de,"[Invalid Chunked Response]"),cs(this),Uu(this);else if(0<de.length&&!this.W){this.W=!0;var dn=this.j;dn.g==this&&dn.ba&&!dn.M&&(dn.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),b0(dn),dn.M=!0,Tn(11))}}else xa(this.i,this.l,de,null),p0(this,de);fn==4&&cs(this),this.o&&!this.J&&(fn==4?cS(this.j,this):(this.o=!1,Xf(this)))}else HF(this.g),R==400&&0<de.indexOf("Unknown SID")?(this.s=3,Tn(12)):(this.s=0,Tn(13)),cs(this),Uu(this)}}}catch{}finally{}};function LT(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function CF(m,A){var R=m.C,$=A.indexOf(`
`,R);return $==-1?d0:(R=Number(A.substring(R,$)),isNaN(R)?DT:($+=1,$+R>A.length?d0:(A=A.slice($,$+R),m.C=$+R,A)))}oo.prototype.cancel=function(){this.J=!0,cs(this)};function Xf(m){m.S=Date.now()+m.I,$T(m,m.I)}function $T(m,A){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Vu(h(m.ba,m),A)}function h0(m){m.B&&(a.clearTimeout(m.B),m.B=null)}oo.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(IF(this.i,this.A),this.L!=2&&($u(),Tn(17)),cs(this),this.s=2,Uu(this)):$T(this,this.S-m)};function Uu(m){m.j.G==0||m.J||cS(m.j,m)}function cs(m){h0(m);var A=m.M;A&&typeof A.ma=="function"&&A.ma(),m.M=null,AT(m.U),m.g&&(A=m.g,m.g=null,A.abort(),A.ma())}function p0(m,A){try{var R=m.j;if(R.G!=0&&(R.g==m||m0(R.h,m))){if(!m.K&&m0(R.h,m)&&R.G==3){try{var $=R.Da.g.parse(A)}catch{$=null}if(Array.isArray($)&&$.length==3){var K=$;if(K[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<m.F)sh(R),ih(R);else break e;x0(R),Tn(18)}}else R.za=K[1],0<R.za-R.T&&37500>K[2]&&R.F&&R.v==0&&!R.C&&(R.C=Vu(h(R.Za,R),6e3));if(1>=UT(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else fs(R,11)}else if((m.K||R.g==m)&&sh(R),!_(A))for(K=R.Da.g.parse(A),A=0;A<K.length;A++){let qe=K[A];if(R.T=qe[0],qe=qe[1],R.G==2)if(qe[0]=="c"){R.K=qe[1],R.ia=qe[2];const dn=qe[3];dn!=null&&(R.la=dn,R.j.info("VER="+R.la));const fn=qe[4];fn!=null&&(R.Aa=fn,R.j.info("SVER="+R.Aa));const wa=qe[5];wa!=null&&typeof wa=="number"&&0<wa&&($=1.5*wa,R.L=$,R.j.info("backChannelRequestTimeoutMs_="+$)),$=R;const Sr=m.g;if(Sr){const lh=Sr.g?Sr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lh){var X=$.h;X.g||lh.indexOf("spdy")==-1&&lh.indexOf("quic")==-1&&lh.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(g0(X,X.h),X.h=null))}if($.D){const _0=Sr.g?Sr.g.getResponseHeader("X-HTTP-Session-Id"):null;_0&&($.ya=_0,dt($.I,$.D,_0))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-m.F,R.j.info("Handshake RTT: "+R.R+"ms")),$=R;var de=m;if($.qa=hS($,$.J?$.ia:null,$.W),de.K){BT($.h,de);var it=de,en=$.L;en&&(it.I=en),it.B&&(h0(it),Xf(it)),$.g=de}else lS($);0<R.i.length&&oh(R)}else qe[0]!="stop"&&qe[0]!="close"||fs(R,7);else R.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?fs(R,7):v0(R):qe[0]!="noop"&&R.l&&R.l.ta(qe),R.v=0)}}$u(4)}catch{}}var PF=class{constructor(m,A){this.g=m,this.map=A}};function VT(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function FT(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function UT(m){return m.h?1:m.g?m.g.size:0}function m0(m,A){return m.h?m.h==A:m.g?m.g.has(A):!1}function g0(m,A){m.g?m.g.add(A):m.h=A}function BT(m,A){m.h&&m.h==A?m.h=null:m.g&&m.g.has(A)&&m.g.delete(A)}VT.prototype.cancel=function(){if(this.i=GT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function GT(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let A=m.i;for(const R of m.g.values())A=A.concat(R.D);return A}return b(m.i)}function NF(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var A=[],R=m.length,$=0;$<R;$++)A.push(m[$]);return A}A=[],R=0;for($ in m)A[R++]=m[$];return A}function RF(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var A=[];m=m.length;for(var R=0;R<m;R++)A.push(R);return A}A=[],R=0;for(const $ in m)A[R++]=$;return A}}}function zT(m,A){if(m.forEach&&typeof m.forEach=="function")m.forEach(A,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,A,void 0);else for(var R=RF(m),$=NF(m),K=$.length,X=0;X<K;X++)A.call(void 0,$[X],R&&R[X],m)}var qT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function OF(m,A){if(m){m=m.split("&");for(var R=0;R<m.length;R++){var $=m[R].indexOf("="),K=null;if(0<=$){var X=m[R].substring(0,$);K=m[R].substring($+1)}else X=m[R];A(X,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function ds(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof ds){this.h=m.h,Qf(this,m.j),this.o=m.o,this.g=m.g,Zf(this,m.s),this.l=m.l;var A=m.i,R=new zu;R.i=A.i,A.g&&(R.g=new Map(A.g),R.h=A.h),HT(this,R),this.m=m.m}else m&&(A=String(m).match(qT))?(this.h=!1,Qf(this,A[1]||"",!0),this.o=Bu(A[2]||""),this.g=Bu(A[3]||"",!0),Zf(this,A[4]),this.l=Bu(A[5]||"",!0),HT(this,A[6]||"",!0),this.m=Bu(A[7]||"")):(this.h=!1,this.i=new zu(null,this.h))}ds.prototype.toString=function(){var m=[],A=this.j;A&&m.push(Gu(A,WT,!0),":");var R=this.g;return(R||A=="file")&&(m.push("//"),(A=this.o)&&m.push(Gu(A,WT,!0),"@"),m.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&m.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&m.push("/"),m.push(Gu(R,R.charAt(0)=="/"?jF:DF,!0))),(R=this.i.toString())&&m.push("?",R),(R=this.m)&&m.push("#",Gu(R,$F)),m.join("")};function hi(m){return new ds(m)}function Qf(m,A,R){m.j=R?Bu(A,!0):A,m.j&&(m.j=m.j.replace(/:$/,""))}function Zf(m,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);m.s=A}else m.s=null}function HT(m,A,R){A instanceof zu?(m.i=A,VF(m.i,m.h)):(R||(A=Gu(A,LF)),m.i=new zu(A,m.h))}function dt(m,A,R){m.i.set(A,R)}function eh(m){return dt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Bu(m,A){return m?A?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Gu(m,A,R){return typeof m=="string"?(m=encodeURI(m).replace(A,MF),R&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function MF(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var WT=/[#\/\?@]/g,DF=/[#\?:]/g,jF=/[#\?]/g,LF=/[#\?@]/g,$F=/#/g;function zu(m,A){this.h=this.g=null,this.i=m||null,this.j=!!A}function so(m){m.g||(m.g=new Map,m.h=0,m.i&&OF(m.i,function(A,R){m.add(decodeURIComponent(A.replace(/\+/g," ")),R)}))}t=zu.prototype,t.add=function(m,A){so(this),this.i=null,m=ba(this,m);var R=this.g.get(m);return R||this.g.set(m,R=[]),R.push(A),this.h+=1,this};function KT(m,A){so(m),A=ba(m,A),m.g.has(A)&&(m.i=null,m.h-=m.g.get(A).length,m.g.delete(A))}function YT(m,A){return so(m),A=ba(m,A),m.g.has(A)}t.forEach=function(m,A){so(this),this.g.forEach(function(R,$){R.forEach(function(K){m.call(A,K,$,this)},this)},this)},t.na=function(){so(this);const m=Array.from(this.g.values()),A=Array.from(this.g.keys()),R=[];for(let $=0;$<A.length;$++){const K=m[$];for(let X=0;X<K.length;X++)R.push(A[$])}return R},t.V=function(m){so(this);let A=[];if(typeof m=="string")YT(this,m)&&(A=A.concat(this.g.get(ba(this,m))));else{m=Array.from(this.g.values());for(let R=0;R<m.length;R++)A=A.concat(m[R])}return A},t.set=function(m,A){return so(this),this.i=null,m=ba(this,m),YT(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[A]),this.h+=1,this},t.get=function(m,A){return m?(m=this.V(m),0<m.length?String(m[0]):A):A};function JT(m,A,R){KT(m,A),0<R.length&&(m.i=null,m.g.set(ba(m,A),b(R)),m.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],A=Array.from(this.g.keys());for(var R=0;R<A.length;R++){var $=A[R];const X=encodeURIComponent(String($)),de=this.V($);for($=0;$<de.length;$++){var K=X;de[$]!==""&&(K+="="+encodeURIComponent(String(de[$]))),m.push(K)}}return this.i=m.join("&")};function ba(m,A){return A=String(A),m.j&&(A=A.toLowerCase()),A}function VF(m,A){A&&!m.j&&(so(m),m.i=null,m.g.forEach(function(R,$){var K=$.toLowerCase();$!=K&&(KT(this,$),JT(this,K,R))},m)),m.j=A}function FF(m,A){const R=new Fu;if(a.Image){const $=new Image;$.onload=y(ao,R,"TestLoadImage: loaded",!0,A,$),$.onerror=y(ao,R,"TestLoadImage: error",!1,A,$),$.onabort=y(ao,R,"TestLoadImage: abort",!1,A,$),$.ontimeout=y(ao,R,"TestLoadImage: timeout",!1,A,$),a.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=m}else A(!1)}function UF(m,A){const R=new Fu,$=new AbortController,K=setTimeout(()=>{$.abort(),ao(R,"TestPingServer: timeout",!1,A)},1e4);fetch(m,{signal:$.signal}).then(X=>{clearTimeout(K),X.ok?ao(R,"TestPingServer: ok",!0,A):ao(R,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(K),ao(R,"TestPingServer: error",!1,A)})}function ao(m,A,R,$,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),$(R)}catch{}}function BF(){this.g=new TF}function GF(m,A,R){const $=R||"";try{zT(m,function(K,X){let de=K;u(K)&&(de=s0(K)),A.push($+X+"="+encodeURIComponent(de))})}catch(K){throw A.push($+"type="+encodeURIComponent("_badmap")),K}}function th(m){this.l=m.Ub||null,this.j=m.eb||!1}v(th,a0),th.prototype.g=function(){return new nh(this.l,this.j)},th.prototype.i=function(m){return function(){return m}}({});function nh(m,A){qt.call(this),this.D=m,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(nh,qt),t=nh.prototype,t.open=function(m,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=A,this.readyState=1,Hu(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(A.body=m),(this.D||a).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qu(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Hu(this)),this.g&&(this.readyState=3,Hu(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;XT(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function XT(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var A=m.value?m.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!m.done}))&&(this.response=this.responseText+=A)}m.done?qu(this):Hu(this),this.readyState==3&&XT(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,qu(this))},t.Qa=function(m){this.g&&(this.response=m,qu(this))},t.ga=function(){this.g&&qu(this)};function qu(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Hu(m)}t.setRequestHeader=function(m,A){this.u.append(m,A)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],A=this.h.entries();for(var R=A.next();!R.done;)R=R.value,m.push(R[0]+": "+R[1]),R=A.next();return m.join(`\r
`)};function Hu(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(nh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function QT(m){let A="";return C(m,function(R,$){A+=$,A+=":",A+=R,A+=`\r
`}),A}function y0(m,A,R){e:{for($ in R){var $=!1;break e}$=!0}$||(R=QT(R),typeof m=="string"?R!=null&&encodeURIComponent(String(R)):dt(m,A,R))}function Tt(m){qt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Tt,qt);var zF=/^https?$/i,qF=["POST","PUT"];t=Tt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,A,R,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);A=A?A.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():c0.g(),this.v=this.o?IT(this.o):IT(c0),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(A,String(m),!0),this.B=!1}catch(X){ZT(this,X);return}if(m=R||"",R=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var K in $)R.set(K,$[K]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const X of $.keys())R.set(X,$.get(X));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(R.keys()).find(X=>X.toLowerCase()=="content-type"),K=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(qF,A,void 0))||$||K||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,de]of R)this.g.setRequestHeader(X,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nS(this),this.u=!0,this.g.send(m),this.u=!1}catch(X){ZT(this,X)}};function ZT(m,A){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=A,m.m=5,eS(m),rh(m)}function eS(m){m.A||(m.A=!0,En(m,"complete"),En(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,En(this,"complete"),En(this,"abort"),rh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rh(this,!0)),Tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?tS(this):this.bb())},t.bb=function(){tS(this)};function tS(m){if(m.h&&typeof s<"u"&&(!m.v[1]||pi(m)!=4||m.Z()!=2)){if(m.u&&pi(m)==4)ET(m.Ea,0,m);else if(En(m,"readystatechange"),pi(m)==4){m.h=!1;try{const de=m.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var R;if(!(R=A)){var $;if($=de===0){var K=String(m.D).match(qT)[1]||null;!K&&a.self&&a.self.location&&(K=a.self.location.protocol.slice(0,-1)),$=!zF.test(K?K.toLowerCase():"")}R=$}if(R)En(m,"complete"),En(m,"success");else{m.m=6;try{var X=2<pi(m)?m.g.statusText:""}catch{X=""}m.l=X+" ["+m.Z()+"]",eS(m)}}finally{rh(m)}}}}function rh(m,A){if(m.g){nS(m);const R=m.g,$=m.v[0]?()=>{}:null;m.g=null,m.v=null,A||En(m,"ready");try{R.onreadystatechange=$}catch{}}}function nS(m){m.I&&(a.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function pi(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<pi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var A=this.g.responseText;return m&&A.indexOf(m)==0&&(A=A.substring(m.length)),EF(A)}};function rS(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function HF(m){const A={};m=(m.g&&2<=pi(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<m.length;$++){if(_(m[$]))continue;var R=O(m[$]);const K=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const X=A[K]||[];A[K]=X,X.push(R)}I(A,function($){return $.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wu(m,A,R){return R&&R.internalChannelParams&&R.internalChannelParams[m]||A}function iS(m){this.Aa=0,this.i=[],this.j=new Fu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wu("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wu("baseRetryDelayMs",5e3,m),this.cb=Wu("retryDelaySeedMs",1e4,m),this.Wa=Wu("forwardChannelMaxRetries",2,m),this.wa=Wu("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new VT(m&&m.concurrentRequestLimit),this.Da=new BF,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=iS.prototype,t.la=8,t.G=1,t.connect=function(m,A,R,$){Tn(0),this.W=m,this.H=A||{},R&&$!==void 0&&(this.H.OSID=R,this.H.OAID=$),this.F=this.X,this.I=hS(this,null,this.W),oh(this)};function v0(m){if(oS(m),m.G==3){var A=m.U++,R=hi(m.I);if(dt(R,"SID",m.K),dt(R,"RID",A),dt(R,"TYPE","terminate"),Ku(m,R),A=new oo(m,m.j,A),A.L=2,A.v=eh(hi(R)),R=!1,a.navigator&&a.navigator.sendBeacon)try{R=a.navigator.sendBeacon(A.v.toString(),"")}catch{}!R&&a.Image&&(new Image().src=A.v,R=!0),R||(A.g=pS(A.j,null),A.g.ea(A.v)),A.F=Date.now(),Xf(A)}fS(m)}function ih(m){m.g&&(b0(m),m.g.cancel(),m.g=null)}function oS(m){ih(m),m.u&&(a.clearTimeout(m.u),m.u=null),sh(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function oh(m){if(!FT(m.h)&&!m.s){m.s=!0;var A=m.Ga;F||z(),L||(F(),L=!0),V.add(A,m),m.B=0}}function WF(m,A){return UT(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=A.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Vu(h(m.Ga,m,A),dS(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const K=new oo(this,this.j,m);let X=this.o;if(this.S&&(X?(X=T(X),N(X,this.S)):X=this.S),this.m!==null||this.O||(K.H=X,X=null),this.P)e:{for(var A=0,R=0;R<this.i.length;R++){t:{var $=this.i[R];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(A+=$,4096<A){A=R;break e}if(A===4096||R===this.i.length-1){A=R+1;break e}}A=1e3}else A=1e3;A=aS(this,K,A),R=hi(this.I),dt(R,"RID",m),dt(R,"CVER",22),this.D&&dt(R,"X-HTTP-Session-Id",this.D),Ku(this,R),X&&(this.O?A="headers="+encodeURIComponent(String(QT(X)))+"&"+A:this.m&&y0(R,this.m,X)),g0(this.h,K),this.Ua&&dt(R,"TYPE","init"),this.P?(dt(R,"$req",A),dt(R,"SID","null"),K.T=!0,f0(K,R,null)):f0(K,R,A),this.G=2}}else this.G==3&&(m?sS(this,m):this.i.length==0||FT(this.h)||sS(this))};function sS(m,A){var R;A?R=A.l:R=m.U++;const $=hi(m.I);dt($,"SID",m.K),dt($,"RID",R),dt($,"AID",m.T),Ku(m,$),m.m&&m.o&&y0($,m.m,m.o),R=new oo(m,m.j,R,m.B+1),m.m===null&&(R.H=m.o),A&&(m.i=A.D.concat(m.i)),A=aS(m,R,1e3),R.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),g0(m.h,R),f0(R,$,A)}function Ku(m,A){m.H&&C(m.H,function(R,$){dt(A,$,R)}),m.l&&zT({},function(R,$){dt(A,$,R)})}function aS(m,A,R){R=Math.min(m.i.length,R);var $=m.l?h(m.l.Na,m.l,m):null;e:{var K=m.i;let X=-1;for(;;){const de=["count="+R];X==-1?0<R?(X=K[0].g,de.push("ofs="+X)):X=0:de.push("ofs="+X);let it=!0;for(let en=0;en<R;en++){let qe=K[en].g;const dn=K[en].map;if(qe-=X,0>qe)X=Math.max(0,K[en].g-100),it=!1;else try{GF(dn,de,"req"+qe+"_")}catch{$&&$(dn)}}if(it){$=de.join("&");break e}}}return m=m.i.splice(0,R),A.D=m,$}function lS(m){if(!m.g&&!m.u){m.Y=1;var A=m.Fa;F||z(),L||(F(),L=!0),V.add(A,m),m.v=0}}function x0(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Vu(h(m.Fa,m),dS(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,uS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Vu(h(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tn(10),ih(this),uS(this))};function b0(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function uS(m){m.g=new oo(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var A=hi(m.qa);dt(A,"RID","rpc"),dt(A,"SID",m.K),dt(A,"AID",m.T),dt(A,"CI",m.F?"0":"1"),!m.F&&m.ja&&dt(A,"TO",m.ja),dt(A,"TYPE","xmlhttp"),Ku(m,A),m.m&&m.o&&y0(A,m.m,m.o),m.L&&(m.g.I=m.L);var R=m.g;m=m.ia,R.L=1,R.v=eh(hi(A)),R.m=null,R.P=!0,jT(R,m)}t.Za=function(){this.C!=null&&(this.C=null,ih(this),x0(this),Tn(19))};function sh(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function cS(m,A){var R=null;if(m.g==A){sh(m),b0(m),m.g=null;var $=2}else if(m0(m.h,A))R=A.D,BT(m.h,A),$=1;else return;if(m.G!=0){if(A.o)if($==1){R=A.m?A.m.length:0,A=Date.now()-A.F;var K=m.B;$=Kf(),En($,new RT($,R)),oh(m)}else lS(m);else if(K=A.s,K==3||K==0&&0<A.X||!($==1&&WF(m,A)||$==2&&x0(m)))switch(R&&0<R.length&&(A=m.h,A.i=A.i.concat(R)),K){case 1:fs(m,5);break;case 4:fs(m,10);break;case 3:fs(m,6);break;default:fs(m,2)}}}function dS(m,A){let R=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(R*=2),R*A}function fs(m,A){if(m.j.info("Error code "+A),A==2){var R=h(m.fb,m),$=m.Xa;const K=!$;$=new ds($||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Qf($,"https"),eh($),K?FF($.toString(),R):UF($.toString(),R)}else Tn(2);m.G=0,m.l&&m.l.sa(A),fS(m),oS(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Tn(2)):(this.j.info("Failed to ping google.com"),Tn(1))};function fS(m){if(m.G=0,m.ka=[],m.l){const A=GT(m.h);(A.length!=0||m.i.length!=0)&&(x(m.ka,A),x(m.ka,m.i),m.h.i.length=0,b(m.i),m.i.length=0),m.l.ra()}}function hS(m,A,R){var $=R instanceof ds?hi(R):new ds(R);if($.g!="")A&&($.g=A+"."+$.g),Zf($,$.s);else{var K=a.location;$=K.protocol,A=A?A+"."+K.hostname:K.hostname,K=+K.port;var X=new ds(null);$&&Qf(X,$),A&&(X.g=A),K&&Zf(X,K),R&&(X.l=R),$=X}return R=m.D,A=m.ya,R&&A&&dt($,R,A),dt($,"VER",m.la),Ku(m,$),$}function pS(m,A,R){if(A&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=m.Ca&&!m.pa?new Tt(new th({eb:R})):new Tt(m.pa),A.Ha(m.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mS(){}t=mS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ah(){}ah.prototype.g=function(m,A){return new zn(m,A)};function zn(m,A){qt.call(this),this.g=new iS(A),this.l=m,this.h=A&&A.messageUrlParams||null,m=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(m?m["X-WebChannel-Content-Type"]=A.messageContentType:m={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(m?m["X-WebChannel-Client-Profile"]=A.va:m={"X-WebChannel-Client-Profile":A.va}),this.g.S=m,(m=A&&A.Sb)&&!_(m)&&(this.g.m=m),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!_(A)&&(this.g.D=A,m=this.h,m!==null&&A in m&&(m=this.h,A in m&&delete m[A])),this.j=new _a(this)}v(zn,qt),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){v0(this.g)},zn.prototype.o=function(m){var A=this.g;if(typeof m=="string"){var R={};R.__data__=m,m=R}else this.u&&(R={},R.__data__=s0(m),m=R);A.i.push(new PF(A.Ya++,m)),A.G==3&&oh(A)},zn.prototype.N=function(){this.g.l=null,delete this.j,v0(this.g),delete this.g,zn.aa.N.call(this)};function gS(m){l0.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var A=m.__sm__;if(A){e:{for(const R in A){m=R;break e}m=void 0}(this.i=m)&&(m=this.i,A=A!==null&&m in A?A[m]:void 0),this.data=A}else this.data=m}v(gS,l0);function yS(){u0.call(this),this.status=1}v(yS,u0);function _a(m){this.g=m}v(_a,mS),_a.prototype.ua=function(){En(this.g,"a")},_a.prototype.ta=function(m){En(this.g,new gS(m))},_a.prototype.sa=function(m){En(this.g,new yS)},_a.prototype.ra=function(){En(this.g,"b")},ah.prototype.createWebChannel=ah.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,hj=function(){return new ah},fj=function(){return Kf()},dj=us,Yx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yf.NO_ERROR=0,Yf.TIMEOUT=8,Yf.HTTP_ERROR=6,yp=Yf,OT.COMPLETE="complete",cj=OT,kT.EventType=Lu,Lu.OPEN="a",Lu.CLOSE="b",Lu.ERROR="c",Lu.MESSAGE="d",qt.prototype.listen=qt.prototype.K,wc=kT,Tt.prototype.listenOnce=Tt.prototype.L,Tt.prototype.getLastError=Tt.prototype.Ka,Tt.prototype.getLastErrorCode=Tt.prototype.Ba,Tt.prototype.getStatus=Tt.prototype.Z,Tt.prototype.getResponseJson=Tt.prototype.Oa,Tt.prototype.getResponseText=Tt.prototype.oa,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Ha,uj=Tt}).apply(typeof Ch<"u"?Ch:typeof self<"u"?self:typeof window<"u"?window:{});const uI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jn.UNAUTHENTICATED=new jn(null),jn.GOOGLE_CREDENTIALS=new jn("google-credentials-uid"),jn.FIRST_PARTY=new jn("first-party-uid"),jn.MOCK_USER=new jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new eE("@firebase/firestore");function rc(){return Xs.logLevel}function ve(t,...e){if(Xs.logLevel<=Ue.DEBUG){const n=e.map(pE);Xs.debug(`Firestore (${du}): ${t}`,...n)}}function Bi(t,...e){if(Xs.logLevel<=Ue.ERROR){const n=e.map(pE);Xs.error(`Firestore (${du}): ${t}`,...n)}}function bd(t,...e){if(Xs.logLevel<=Ue.WARN){const n=e.map(pE);Xs.warn(`Firestore (${du}): ${t}`,...n)}}function pE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t="Unexpected state"){const e=`FIRESTORE (${du}) INTERNAL ASSERTION FAILED: `+t;throw Bi(e),new Error(e)}function ze(t,e){t||Ee()}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jn.UNAUTHENTICATED))}shutdown(){}}class dG{constructor(e){this.t=e,this.currentUser=jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ni,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ni)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new uG(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new jn(e)}}class fG{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=jn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hG{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new fG(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mG{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ze(this.o===void 0);const r=o=>{o.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ve("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new pG(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=gG(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function Tl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Ut(0,0))}static max(){return new Se(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(),r===void 0?r=e.length-n:r>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _d.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _d?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ot extends _d{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ot(n)}static emptyPath(){return new ot([])}}const yG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends _d{construct(e,n,r){return new sn(e,n,r)}static isValidIdentifier(e){return yG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new sn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(ot.fromString(e))}static fromName(e){return new be(ot.fromString(e).popFirst(5))}static empty(){return new be(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ot(e.slice()))}}function vG(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new Ut(n+1,0):new Ut(n,r));return new Ho(i,be.empty(),e)}function xG(t){return new Ho(t.readTime,t.key,-1)}class Ho{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ho(Se.min(),be.empty(),-1)}static max(){return new Ho(Se.max(),be.empty(),-1)}}function bG(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _G="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tf(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==_G)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,r)=>{n(e)})}static reject(e){return new re((n,r)=>{r(e)})}static waitFor(e){return new re((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next(i=>i?re.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new re((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new re((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function EG(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}mE.oe=-1;function Af(t){return t==null}function am(t){return t===0&&1/t==-1/0}function TG(t){return typeof t=="number"&&Number.isInteger(t)&&!am(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ua(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ph(this.root,e,this.comparator,!0)}}class Ph{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??rn.RED,this.left=i??rn.EMPTY,this.right=o??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new rn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,r,i,o){return this}insert(e,n,r){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dI(this.data.getIterator())}getIteratorFrom(e){return new dI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class dI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new Xn([])}unionWith(e){let n=new ln(sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Tl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new gj("Invalid base64 string: "+o):o}}(e);return new cn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const SG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wo(t){if(ze(!!t),typeof t=="string"){let e=0;const n=SG.exec(t);if(ze(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kt(t.seconds),nanos:kt(t.nanos)}}function kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Qs(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function yE(t){const e=t.mapValue.fields.__previous_value__;return gE(e)?yE(e):e}function wd(t){const e=Wo(t.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ed{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ed("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ed&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh={mapValue:{}};function Zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gE(t)?4:kG(t)?9007199254740991:IG(t)?10:11:Ee()}function oi(t,e){if(t===e)return!0;const n=Zs(t);if(n!==Zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wd(t).isEqual(wd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Wo(i.timestampValue),a=Wo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Qs(i.bytesValue).isEqual(Qs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return kt(i.geoPointValue.latitude)===kt(o.geoPointValue.latitude)&&kt(i.geoPointValue.longitude)===kt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return kt(i.integerValue)===kt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=kt(i.doubleValue),a=kt(o.doubleValue);return s===a?am(s)===am(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Tl(t.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(cI(s)!==cI(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!oi(s[l],a[l])))return!1;return!0}(t,e);default:return Ee()}}function Td(t,e){return(t.values||[]).find(n=>oi(n,e))!==void 0}function Sl(t,e){if(t===e)return 0;const n=Zs(t),r=Zs(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=kt(o.integerValue||o.doubleValue),l=kt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return fI(t.timestampValue,e.timestampValue);case 4:return fI(wd(t),wd(e));case 5:return He(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Qs(o),l=Qs(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=He(a[u],l[u]);if(c!==0)return c}return He(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=He(kt(o.latitude),kt(s.latitude));return a!==0?a:He(kt(o.longitude),kt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return hI(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const f=o.fields||{},h=s.fields||{},y=(a=f.value)===null||a===void 0?void 0:a.arrayValue,v=(l=h.value)===null||l===void 0?void 0:l.arrayValue,b=He(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0);return b!==0?b:hI(y,v)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Nh.mapValue&&s===Nh.mapValue)return 0;if(o===Nh.mapValue)return 1;if(s===Nh.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=He(l[f],c[f]);if(h!==0)return h;const y=Sl(a[l[f]],u[c[f]]);if(y!==0)return y}return He(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Ee()}}function fI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=Wo(t),r=Wo(e),i=He(n.seconds,r.seconds);return i!==0?i:He(n.nanos,r.nanos)}function hI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Sl(n[i],r[i]);if(o)return o}return He(n.length,r.length)}function Al(t){return Jx(t)}function Jx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Wo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Qs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Jx(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Jx(n.fields[s])}`;return i+"}"}(t.mapValue):Ee()}function pI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xx(t){return!!t&&"integerValue"in t}function vE(t){return!!t&&"arrayValue"in t}function mI(t){return!!t&&"nullValue"in t}function gI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vp(t){return!!t&&"mapValue"in t}function IG(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Lc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ua(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Lc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kG(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lc(n)}setAll(e){let n=sn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Lc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());vp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];vp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ua(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new kn(Lc(this.value))}}function yj(t){const e=[];return ua(t.fields,(n,r)=>{const i=new sn([n]);if(vp(r)){const o=yj(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Yt(e,0,Se.min(),Se.min(),Se.min(),kn.empty(),0)}static newFoundDocument(e,n,r,i){return new Yt(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new Yt(e,2,n,Se.min(),Se.min(),kn.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,Se.min(),Se.min(),kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n){this.position=e,this.inclusive=n}}function yI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=be.comparator(be.fromName(s.referenceValue),n.key):r=Sl(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function vI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!oi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n="asc"){this.field=e,this.dir=n}}function CG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{}class Ot extends vj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new NG(e,n,r):n==="array-contains"?new MG(e,r):n==="in"?new DG(e,r):n==="not-in"?new jG(e,r):n==="array-contains-any"?new LG(e,r):new Ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new RG(e,r):new OG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Sl(n,this.value)):n!==null&&Zs(this.value)===Zs(n)&&this.matchesComparison(Sl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zr extends vj{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new zr(e,n)}matches(e){return xj(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function xj(t){return t.op==="and"}function bj(t){return PG(t)&&xj(t)}function PG(t){for(const e of t.filters)if(e instanceof zr)return!1;return!0}function Qx(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+Al(t.value);if(bj(t))return t.filters.map(e=>Qx(e)).join(",");{const e=t.filters.map(n=>Qx(n)).join(",");return`${t.op}(${e})`}}function _j(t,e){return t instanceof Ot?function(r,i){return i instanceof Ot&&r.op===i.op&&r.field.isEqual(i.field)&&oi(r.value,i.value)}(t,e):t instanceof zr?function(r,i){return i instanceof zr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&_j(s,i.filters[a]),!0):!1}(t,e):void Ee()}function wj(t){return t instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Al(n.value)}`}(t):t instanceof zr?function(n){return n.op.toString()+" {"+n.getFilters().map(wj).join(" ,")+"}"}(t):"Filter"}class NG extends Ot{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class RG extends Ot{constructor(e,n){super(e,"in",n),this.keys=Ej("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class OG extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=Ej("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ej(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>be.fromName(r.referenceValue))}class MG extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vE(n)&&Td(n.arrayValue,this.value)}}class DG extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Td(this.value.arrayValue,n)}}class jG extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Td(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Td(this.value.arrayValue,n)}}class LG extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Td(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function xI(t,e=null,n=[],r=[],i=null,o=null,s=null){return new $G(t,e,n,r,i,o,s)}function xE(t){const e=Pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Qx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Af(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Al(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Al(r)).join(",")),e.ue=n}return e.ue}function bE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_j(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vI(t.startAt,e.startAt)&&vI(t.endAt,e.endAt)}function Zx(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function VG(t,e,n,r,i,o,s,a){return new fu(t,e,n,r,i,o,s,a)}function _E(t){return new fu(t)}function bI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Tj(t){return t.collectionGroup!==null}function $c(t){const e=Pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ln(sn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Sd(o,r))}),n.has(sn.keyField().canonicalString())||e.ce.push(new Sd(sn.keyField(),r))}return e.ce}function ti(t){const e=Pe(t);return e.le||(e.le=FG(e,$c(t))),e.le}function FG(t,e){if(t.limitType==="F")return xI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Sd(i.field,o)});const n=t.endAt?new lm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new lm(t.startAt.position,t.startAt.inclusive):null;return xI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function eb(t,e){const n=t.filters.concat([e]);return new fu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function um(t,e,n){return new fu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qg(t,e){return bE(ti(t),ti(e))&&t.limitType===e.limitType}function Sj(t){return`${xE(ti(t))}|lt:${t.limitType}`}function Ca(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>wj(i)).join(", ")}]`),Af(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Al(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Al(i)).join(",")),`Target(${r})`}(ti(t))}; limitType=${t.limitType})`}function Zg(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):be.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of $c(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=yI(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,$c(r),i)||r.endAt&&!function(s,a,l){const u=yI(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,$c(r),i))}(t,e)}function UG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Aj(t){return(e,n)=>{let r=!1;for(const i of $c(t)){const o=BG(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function BG(t,e,n){const r=t.field.isKeyField()?be.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Sl(l,u):Ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ua(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return mj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GG=new Et(be.comparator);function Gi(){return GG}const Ij=new Et(be.comparator);function Ec(...t){let e=Ij;for(const n of t)e=e.insert(n.key,n);return e}function kj(t){let e=Ij;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Cs(){return Vc()}function Cj(){return Vc()}function Vc(){return new hu(t=>t.toString(),(t,e)=>t.isEqual(e))}const zG=new Et(be.comparator),qG=new ln(be.comparator);function Ve(...t){let e=qG;for(const n of t)e=e.add(n);return e}const HG=new ln(He);function WG(){return HG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:am(e)?"-0":e}}function Pj(t){return{integerValue:""+t}}function KG(t,e){return TG(e)?Pj(e):wE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this._=void 0}}function YG(t,e,n){return t instanceof cm?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&gE(o)&&(o=yE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ad?Rj(t,e):t instanceof Id?Oj(t,e):function(i,o){const s=Nj(i,o),a=_I(s)+_I(i.Pe);return Xx(s)&&Xx(i.Pe)?Pj(a):wE(i.serializer,a)}(t,e)}function JG(t,e,n){return t instanceof Ad?Rj(t,e):t instanceof Id?Oj(t,e):n}function Nj(t,e){return t instanceof dm?function(r){return Xx(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class cm extends ey{}class Ad extends ey{constructor(e){super(),this.elements=e}}function Rj(t,e){const n=Mj(e);for(const r of t.elements)n.some(i=>oi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Id extends ey{constructor(e){super(),this.elements=e}}function Oj(t,e){let n=Mj(e);for(const r of t.elements)n=n.filter(i=>!oi(i,r));return{arrayValue:{values:n}}}class dm extends ey{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function _I(t){return kt(t.integerValue||t.doubleValue)}function Mj(t){return vE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function XG(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ad&&i instanceof Ad||r instanceof Id&&i instanceof Id?Tl(r.elements,i.elements,oi):r instanceof dm&&i instanceof dm?oi(r.Pe,i.Pe):r instanceof cm&&i instanceof cm}(t.transform,e.transform)}class QG{constructor(e,n){this.version=e,this.transformResults=n}}class $t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $t}static exists(e){return new $t(void 0,e)}static updateTime(e){return new $t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ty{}function Dj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kf(t.key,$t.none()):new If(t.key,t.data,$t.none());{const n=t.data,r=kn.empty();let i=new ln(sn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ns(t.key,r,new Xn(i.toArray()),$t.none())}}function ZG(t,e,n){t instanceof If?function(i,o,s){const a=i.value.clone(),l=EI(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ns?function(i,o,s){if(!xp(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=EI(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(jj(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Fc(t,e,n,r){return t instanceof If?function(o,s,a,l){if(!xp(o.precondition,s))return a;const u=o.value.clone(),c=TI(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ns?function(o,s,a,l){if(!xp(o.precondition,s))return a;const u=TI(o.fieldTransforms,l,s),c=s.data;return c.setAll(jj(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return xp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function ez(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=Nj(r.transform,i||null);o!=null&&(n===null&&(n=kn.empty()),n.set(r.field,o))}return n||null}function wI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Tl(r,i,(o,s)=>XG(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class If extends ty{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ns extends ty{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function jj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function EI(t,e,n){const r=new Map;ze(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,JG(s,a,n[i]))}return r}function TI(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,YG(o,s,e))}return r}class kf extends ty{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lj extends ty{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&ZG(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Cj();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=Dj(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Tl(this.mutations,e.mutations,(n,r)=>wI(n,r))&&Tl(this.baseMutations,e.baseMutations,(n,r)=>wI(n,r))}}class EE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ze(e.mutations.length===r.length);let i=function(){return zG}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new EE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Be;function $j(t){switch(t){default:return Ee();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function Vj(t){if(t===void 0)return Bi("GRPC error has no .code"),te.UNKNOWN;switch(t){case Pt.OK:return te.OK;case Pt.CANCELLED:return te.CANCELLED;case Pt.UNKNOWN:return te.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return te.INTERNAL;case Pt.UNAVAILABLE:return te.UNAVAILABLE;case Pt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Pt.NOT_FOUND:return te.NOT_FOUND;case Pt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Pt.ABORTED:return te.ABORTED;case Pt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Pt.DATA_LOSS:return te.DATA_LOSS;default:return Ee()}}(Be=Pt||(Pt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oz=new $s([4294967295,4294967295],0);function SI(t){const e=iz().encode(t),n=new lj;return n.update(e),new Uint8Array(n.digest())}function AI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new $s([n,r],0),new $s([i,o],0)]}class TE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Tc(`Invalid padding: ${n}`);if(r<0)throw new Tc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Tc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Tc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=$s.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply($s.fromNumber(r)));return i.compare(oz)===1&&(i=new $s([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=SI(e),[r,i]=AI(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new TE(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=SI(e),[r,i]=AI(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Tc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Cf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ny(Se.min(),i,new Et(He),Gi(),Ve())}}class Cf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cf(r,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Fj{constructor(e,n){this.targetId=e,this.me=n}}class Uj{constructor(e,n,r=cn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class II{constructor(){this.fe=0,this.ge=CI(),this.pe=cn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ve(),n=Ve(),r=Ve();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new Cf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=CI()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class sz{constructor(e){this.Le=e,this.Be=new Map,this.ke=Gi(),this.qe=kI(),this.Qe=new Et(He)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Zx(o))if(r===0){const s=new be(o.path);this.Ue(n,s,Yt.newNoDocument(s,Se.min()))}else ze(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Qs(r).toUint8Array()}catch(l){if(l instanceof gj)return bd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new TE(s,i,o)}catch(l){return bd(l instanceof Tc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Zx(a.target)){const l=new be(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Yt.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Ve();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new ny(e,n,this.Qe,this.ke,r);return this.ke=Gi(),this.qe=kI(),this.Qe=new Et(He),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new II,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ln(He),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new II),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function kI(){return new Et(be.comparator)}function CI(){return new Et(be.comparator)}const az={asc:"ASCENDING",desc:"DESCENDING"},lz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uz={and:"AND",or:"OR"};class cz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tb(t,e){return t.useProto3Json||Af(e)?e:{value:e}}function fm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dz(t,e){return fm(t,e.toTimestamp())}function Zn(t){return ze(!!t),Se.fromTimestamp(function(n){const r=Wo(n);return new Ut(r.seconds,r.nanos)}(t))}function SE(t,e){return nb(t,e).canonicalString()}function nb(t,e){const n=function(i){return new ot(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Gj(t){const e=ot.fromString(t);return ze(Yj(e)),e}function hm(t,e){return SE(t.databaseId,e.path)}function Uc(t,e){const n=Gj(e);if(n.get(1)!==t.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(qj(n))}function zj(t,e){return SE(t.databaseId,e)}function fz(t){const e=Gj(t);return e.length===4?ot.emptyPath():qj(e)}function rb(t){return new ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qj(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function PI(t,e,n){return{name:hm(t,e),fields:n.value.mapValue.fields}}function hz(t,e){return"found"in e?function(r,i){ze(!!i.found),i.found.name,i.found.updateTime;const o=Uc(r,i.found.name),s=Zn(i.found.updateTime),a=i.found.createTime?Zn(i.found.createTime):Se.min(),l=new kn({mapValue:{fields:i.found.fields}});return Yt.newFoundDocument(o,s,a,l)}(t,e):"missing"in e?function(r,i){ze(!!i.missing),ze(!!i.readTime);const o=Uc(r,i.missing),s=Zn(i.readTime);return Yt.newNoDocument(o,s)}(t,e):Ee()}function pz(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(ze(c===void 0||typeof c=="string"),cn.fromBase64String(c||"")):(ze(c===void 0||c instanceof Buffer||c instanceof Uint8Array),cn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?te.UNKNOWN:Vj(u.code);return new he(c,u.message||"")}(s);n=new Uj(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Uc(t,r.document.name),o=Zn(r.document.updateTime),s=r.document.createTime?Zn(r.document.createTime):Se.min(),a=new kn({mapValue:{fields:r.document.fields}}),l=Yt.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new bp(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Uc(t,r.document),o=r.readTime?Zn(r.readTime):Se.min(),s=Yt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new bp([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Uc(t,r.document),o=r.removedTargetIds||[];n=new bp([],o,i,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new rz(i,o),a=r.targetId;n=new Fj(a,s)}}return n}function Hj(t,e){let n;if(e instanceof If)n={update:PI(t,e.key,e.value)};else if(e instanceof kf)n={delete:hm(t,e.key)};else if(e instanceof ns)n={update:PI(t,e.key,e.data),updateMask:Ez(e.fieldMask)};else{if(!(e instanceof Lj))return Ee();n={verify:hm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof cm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ad)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Id)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof dm)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:dz(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ee()}(t,e.precondition)),n}function mz(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Zn(i.updateTime):Zn(o);return s.isEqual(Se.min())&&(s=Zn(o)),new QG(s,i.transformResults||[])}(n,e))):[]}function gz(t,e){return{documents:[zj(t,e.path)]}}function yz(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=zj(t,i);const o=function(u){if(u.length!==0)return Kj(zr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Pa(h.field),direction:bz(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=tb(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function vz(t){let e=fz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ze(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const h=Wj(f);return h instanceof zr&&bj(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(v){return new Sd(Na(v.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Af(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,y=f.values||[];return new lm(y,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,y=f.values||[];return new lm(y,h)}(n.endAt)),VG(e,i,s,o,a,"F",l,u)}function xz(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Wj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Na(n.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Na(n.unaryFilter.field);return Ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Na(n.unaryFilter.field);return Ot.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Na(n.unaryFilter.field);return Ot.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(t):t.fieldFilter!==void 0?function(n){return Ot.create(Na(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zr.create(n.compositeFilter.filters.map(r=>Wj(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(t):Ee()}function bz(t){return az[t]}function _z(t){return lz[t]}function wz(t){return uz[t]}function Pa(t){return{fieldPath:t.canonicalString()}}function Na(t){return sn.fromServerFormat(t.fieldPath)}function Kj(t){return t instanceof Ot?function(n){if(n.op==="=="){if(gI(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NAN"}};if(mI(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gI(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NOT_NAN"}};if(mI(n.value))return{unaryFilter:{field:Pa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pa(n.field),op:_z(n.op),value:n.value}}}(t):t instanceof zr?function(n){const r=n.getFilters().map(i=>Kj(i));return r.length===1?r[0]:{compositeFilter:{op:wz(n.op),filters:r}}}(t):Ee()}function Ez(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Yj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n,r,i,o=Se.min(),s=Se.min(),a=cn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new To(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new To(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new To(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new To(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e){this.ct=e}}function Sz(t){const e=vz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?um(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(){this.un=new Iz}addToCollectionParentIndex(e,n){return this.un.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Ho.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Ho.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class Iz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ln(ot.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ln(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Il(0)}static kn(){return new Il(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(){this.changes=new hu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fc(r.mutation,i,Xn.empty(),Ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ve()){const i=Cs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ec();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Cs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Gi();const s=Vc(),a=function(){return Vc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ns)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Fc(c.mutation,u,c.mutation.getFieldMask(),Ut.now())):s.set(u.key,Xn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new Cz(c,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Vc();let i=new Et((s,a)=>s-a),o=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Xn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Ve()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=Cj();c.forEach(h=>{if(!o.has(h)){const y=Dj(n.get(h),r.get(h));y!==null&&f.set(h,y),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return re.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Tj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):re.resolve(Cs());let a=-1,l=o;return s.next(u=>re.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?re.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ve())).next(c=>({batchId:a,changes:kj(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next(r=>{let i=Ec();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Ec();return this.indexManager.getCollectionParents(e,o).next(a=>re.forEach(a,l=>{const u=function(f,h){return new fu(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Yt.newInvalidDocument(c)))});let a=Ec();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Fc(c.mutation,u,Xn.empty(),Ut.now()),Zg(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return re.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Zn(i.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Sz(i.bundledQuery),readTime:Zn(i.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(){this.overlays=new Et(be.comparator),this.Ir=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Cs();return re.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),re.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const i=Cs(),o=n.length+1,s=new be(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return re.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Et((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Cs(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Cs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return re.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new nz(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ve(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.Tr=new ln(Ht.Er),this.dr=new ln(Ht.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ht(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ht(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new be(new ot([])),r=new Ht(n,e),i=new Ht(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new be(new ot([])),r=new Ht(n,e),i=new Ht(n,e+1);let o=Ve();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ht(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ht{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return be.comparator(e.key,n.key)||He(e.wr,n.wr)}static Ar(e,n){return He(e.wr,n.wr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ln(Ht.Er)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new tz(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Ht(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return re.resolve(s)}lookupMutationBatch(e,n){return re.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return re.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ht(n,0),i=new Ht(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),re.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ln(He);return n.forEach(i=>{const o=new Ht(i,0),s=new Ht(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),re.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;be.isDocumentKey(o)||(o=o.child(""));const s=new Ht(new be(o),0);let a=new ln(He);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),re.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ze(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return re.forEach(n.mutations,i=>{const o=new Ht(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ht(n,0),i=this.br.firstAfterOrEqual(r);return re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e){this.Mr=e,this.docs=function(){return new Et(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let r=Gi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Yt.newInvalidDocument(i))}),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Gi();const s=n.path,a=new be(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||bG(xG(c),r)<=0||(i.has(c.key)||Zg(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return re.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ee()}Or(e,n){return re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jz(this)}getSize(e){return re.resolve(this.size)}}class jz extends kz{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),re.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e){this.persistence=e,this.Nr=new hu(n=>xE(n),bE),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new AE,this.targetCount=0,this.kr=Il.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),re.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Il(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Kn(n),re.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),re.waitFor(o).next(()=>i)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),re.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e,n){this.qr={},this.overlays={},this.Qr=new mE(0),this.Kr=!1,this.Kr=!0,this.$r=new Oz,this.referenceDelegate=e(this),this.Ur=new Lz(this),this.indexManager=new Az,this.remoteDocumentCache=function(i){return new Dz(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Tz(n),this.Gr=new Nz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Rz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Mz(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const i=new Vz(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return re.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Vz extends wG{constructor(e){super(),this.currentSequenceNumber=e}}class IE{constructor(e){this.persistence=e,this.Jr=new AE,this.Yr=null}static Zr(e){return new IE(e)}get Xr(){if(this.Yr)return this.Yr;throw Ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),re.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Xr,r=>{const i=be.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return re.or([()=>re.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ve(),i=Ve();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new kE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return C6()?8:EG(wn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Fz;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(rc()<=Ue.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Ca(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),re.resolve()):(rc()<=Ue.DEBUG&&ve("QueryEngine","Query:",Ca(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(rc()<=Ue.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Ca(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(n))):re.resolve())}Yi(e,n){if(bI(n))return re.resolve(null);let r=ti(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=um(n,null,"F"),r=ti(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ve(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,um(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return bI(n)||i.isEqual(Se.min())?re.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?re.resolve(null):(rc()<=Ue.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ca(n)),this.rs(e,s,n,vG(i,-1)).next(a=>a))})}ts(e,n){let r=new ln(Aj(e));return n.forEach((i,o)=>{Zg(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return rc()<=Ue.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Ca(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ho.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Et(He),this._s=new hu(o=>xE(o),bE),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Pz(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Gz(t,e,n,r){return new Bz(t,e,n,r)}async function Jj(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ve();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function zz(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,h=f.keys();let y=re.resolve();return h.forEach(v=>{y=y.next(()=>c.getEntry(l,v)).next(b=>{const x=u.docVersions.get(v);ze(x!==null),b.version.compareTo(x)<0&&(f.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),c.addEntry(b)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ve();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Xj(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function qz(t,e){const n=Pe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;a.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,f)));let y=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(cn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):c.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(c.resumeToken,r)),i=i.insert(f,y),function(b,x,w){return b.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,y,c)&&a.push(n.Ur.updateTargetData(o,y))});let l=Gi(),u=Ve();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(Hz(o,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(Se.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return re.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function Hz(t,e,n){let r=Ve(),i=Ve();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Gi();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Se.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):ve("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function Wz(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Kz(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,re.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new To(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function ib(t,e,n){const r=Pe(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Sf(s))throw s;ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function NI(t,e,n){const r=Pe(t);let i=Se.min(),o=Ve();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=Pe(l),h=f._s.get(c);return h!==void 0?re.resolve(f.os.get(h)):f.Ur.getTargetData(u,c)}(r,s,ti(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Se.min(),n?o:Ve())).next(a=>(Yz(r,UG(e),a),{documents:a,Ts:o})))}function Yz(t,e,n){let r=t.us.get(e)||Se.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class RI{constructor(){this.activeTargetIds=WG()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Jz{constructor(){this.so=new RI,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new RI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh=null;function nv(){return Rh===null?Rh=function(){return 268435456+Math.round(2147483648*Math.random())}():Rh++,"0x"+Rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class eq extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=nv(),l=this.xo(n,r.toUriEncodedString());ve("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(c=>(ve("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw bd("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+du}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=Qz[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=nv();return new Promise((s,a)=>{const l=new uj;l.setWithCredentials(!0),l.listenOnce(cj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case yp.NO_ERROR:const c=l.getResponseJson();ve(mn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case yp.TIMEOUT:ve(mn,`RPC '${e}' ${o} timed out`),a(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case yp.HTTP_ERROR:const f=l.getStatus();if(ve(mn,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const y=h==null?void 0:h.error;if(y&&y.status&&y.message){const v=function(x){const w=x.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(w)>=0?w:te.UNKNOWN}(y.status);a(new he(v,y.message))}else a(new he(te.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new he(te.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ve(mn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);ve(mn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=nv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=hj(),a=fj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");ve(mn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);let h=!1,y=!1;const v=new Zz({Io:x=>{y?ve(mn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(ve(mn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),ve(mn,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},To:()=>f.close()}),b=(x,w,_)=>{x.listen(w,E=>{try{_(E)}catch(P){setTimeout(()=>{throw P},0)}})};return b(f,wc.EventType.OPEN,()=>{y||(ve(mn,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),b(f,wc.EventType.CLOSE,()=>{y||(y=!0,ve(mn,`RPC '${e}' stream ${i} transport closed`),v.So())}),b(f,wc.EventType.ERROR,x=>{y||(y=!0,bd(mn,`RPC '${e}' stream ${i} transport errored:`,x),v.So(new he(te.UNAVAILABLE,"The operation could not be completed")))}),b(f,wc.EventType.MESSAGE,x=>{var w;if(!y){const _=x.data[0];ze(!!_);const E=_,P=E.error||((w=E[0])===null||w===void 0?void 0:w.error);if(P){ve(mn,`RPC '${e}' stream ${i} received error:`,P);const S=P.status;let C=function(k){const N=Pt[k];if(N!==void 0)return Vj(N)}(S),I=P.message;C===void 0&&(C=te.INTERNAL,I="Unknown error status: "+S+" with message "+P.message),y=!0,v.So(new he(C,I)),f.close()}else ve(mn,`RPC '${e}' stream ${i} received:`,_),v.bo(_)}}),b(a,dj.STAT_EVENT,x=>{x.stat===Yx.PROXY?ve(mn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Yx.NOPROXY&&ve(mn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function rv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(t){return new cz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ve("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new CE(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(Bi(n.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new he(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tq extends Qj{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=pz(this.serializer,e),r=function(o){if(!("targetChange"in o))return Se.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Se.min():s.readTime?Zn(s.readTime):Se.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=rb(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Zx(l)?{documents:gz(o,l)}:{query:yz(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Bj(o,s.resumeToken);const u=tb(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Se.min())>0){a.readTime=fm(o,s.snapshotVersion.toTimestamp());const u=tb(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=xz(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=rb(this.serializer),n.removeTarget=e,this.a_(n)}}class nq extends Qj{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=mz(e.writeResults,e.commitTime),r=Zn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=rb(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Hj(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,nb(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(te.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,nb(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new he(te.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class iq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Bi(n),this.D_=!1):ve("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{ca(this)&&(ve("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Pe(l);u.L_.add(4),await Pf(u),u.q_.set("Unknown"),u.L_.delete(4),await iy(u)}(this))})}),this.q_=new iq(r,i)}}async function iy(t){if(ca(t))for(const e of t.B_)await e(!0)}async function Pf(t){for(const e of t.B_)await e(!1)}function Zj(t,e){const n=Pe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),OE(n)?RE(n):pu(n).r_()&&NE(n,e))}function PE(t,e){const n=Pe(t),r=pu(n);n.N_.delete(e),r.r_()&&eL(n,e),n.N_.size===0&&(r.r_()?r.o_():ca(n)&&n.q_.set("Unknown"))}function NE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pu(t).A_(e)}function eL(t,e){t.Q_.xe(e),pu(t).R_(e)}function RE(t){t.Q_=new sz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),pu(t).start(),t.q_.v_()}function OE(t){return ca(t)&&!pu(t).n_()&&t.N_.size>0}function ca(t){return Pe(t).L_.size===0}function tL(t){t.Q_=void 0}async function sq(t){t.q_.set("Online")}async function aq(t){t.N_.forEach((e,n)=>{NE(t,e)})}async function lq(t,e){tL(t),OE(t)?(t.q_.M_(e),RE(t)):t.q_.set("Unknown")}async function uq(t,e,n){if(t.q_.set("Online"),e instanceof Uj&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pm(t,r)}else if(e instanceof bp?t.Q_.Ke(e):e instanceof Fj?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Se.min()))try{const r=await Xj(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(cn.EMPTY_BYTE_STRING,c.snapshotVersion)),eL(o,l);const f=new To(c.target,l,u,c.sequenceNumber);NE(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ve("RemoteStore","Failed to raise snapshot:",r),await pm(t,r)}}async function pm(t,e,n){if(!Sf(e))throw e;t.L_.add(1),await Pf(t),t.q_.set("Offline"),n||(n=()=>Xj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ve("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await iy(t)})}function nL(t,e){return e().catch(n=>pm(t,n,e))}async function oy(t){const e=Pe(t),n=Ko(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;cq(e);)try{const i=await Wz(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,dq(e,i)}catch(i){await pm(e,i)}rL(e)&&iL(e)}function cq(t){return ca(t)&&t.O_.length<10}function dq(t,e){t.O_.push(e);const n=Ko(t);n.r_()&&n.V_&&n.m_(e.mutations)}function rL(t){return ca(t)&&!Ko(t).n_()&&t.O_.length>0}function iL(t){Ko(t).start()}async function fq(t){Ko(t).p_()}async function hq(t){const e=Ko(t);for(const n of t.O_)e.m_(n.mutations)}async function pq(t,e,n){const r=t.O_.shift(),i=EE.from(r,e,n);await nL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await oy(t)}async function mq(t,e){e&&Ko(t).V_&&await async function(r,i){if(function(s){return $j(s)&&s!==te.ABORTED}(i.code)){const o=r.O_.shift();Ko(r).s_(),await nL(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await oy(r)}}(t,e),rL(t)&&iL(t)}async function MI(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),ve("RemoteStore","RemoteStore received new credentials");const r=ca(n);n.L_.add(3),await Pf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await iy(n)}async function gq(t,e){const n=Pe(t);e?(n.L_.delete(2),await iy(n)):e||(n.L_.add(2),await Pf(n),n.q_.set("Unknown"))}function pu(t){return t.K_||(t.K_=function(n,r,i){const o=Pe(n);return o.w_(),new tq(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:sq.bind(null,t),Ro:aq.bind(null,t),mo:lq.bind(null,t),d_:uq.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),OE(t)?RE(t):t.q_.set("Unknown")):(await t.K_.stop(),tL(t))})),t.K_}function Ko(t){return t.U_||(t.U_=function(n,r,i){const o=Pe(n);return o.w_(),new nq(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:fq.bind(null,t),mo:mq.bind(null,t),f_:hq.bind(null,t),g_:pq.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await oy(t)):(await t.U_.stop(),t.O_.length>0&&(ve("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new ME(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function DE(t,e){if(Bi("AsyncQueue",`${e}: ${t}`),Sf(t))return new he(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=Ec(),this.sortedSet=new Et(this.comparator)}static emptySet(e){return new cl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new cl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.W_=new Et(be.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ee():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class kl{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new kl(e,n,cl.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class vq{constructor(){this.queries=jI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Pe(n),o=i.queries;i.queries=jI(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new he(te.ABORTED,"Firestore shutting down"))}}function jI(){return new hu(t=>Sj(t),Qg)}async function oL(t,e){const n=Pe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new yq,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=DE(s,`Initialization of query '${Ca(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&jE(n)}async function sL(t,e){const n=Pe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function xq(t,e){const n=Pe(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&jE(n)}function bq(t,e,n){const r=Pe(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function jE(t){t.Y_.forEach(e=>{e.next()})}var ob,LI;(LI=ob||(ob={})).ea="default",LI.Cache="cache";class aL{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new kl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=kl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ob.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.key=e}}class uL{constructor(e){this.key=e}}class _q{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ve(),this.mutatedKeys=Ve(),this.Aa=Aj(e),this.Ra=new cl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new DI,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),y=Zg(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let x=!1;h&&y?h.data.isEqual(y.data)?v!==b&&(r.track({type:3,doc:y}),x=!0):this.ga(h,y)||(r.track({type:2,doc:y}),x=!0,(l&&this.Aa(y,l)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!h&&y?(r.track({type:0,doc:y}),x=!0):h&&!y&&(r.track({type:1,doc:h}),x=!0,(l||u)&&(a=!0)),x&&(y?(s=s.add(y),o=b?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,f)=>function(y,v){const b=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return b(y)-b(v)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new kl(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new DI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ve(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new uL(r))}),this.da.forEach(r=>{e.has(r)||n.push(new lL(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ve();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return kl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class wq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Eq{constructor(e){this.key=e,this.va=!1}}class Tq{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new hu(a=>Sj(a),Qg),this.Ma=new Map,this.xa=new Set,this.Oa=new Et(be.comparator),this.Na=new Map,this.La=new AE,this.Ba={},this.ka=new Map,this.qa=Il.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Sq(t,e,n=!0){const r=mL(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await cL(r,e,n,!0),i}async function Aq(t,e){const n=mL(t);await cL(n,e,!0,!1)}async function cL(t,e,n,r){const i=await Kz(t.localStore,ti(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Iq(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&Zj(t.remoteStore,i),a}async function Iq(t,e,n,r,i){t.Ka=(f,h,y)=>async function(b,x,w,_){let E=x.view.ma(w);E.ns&&(E=await NI(b.localStore,x.query,!1).then(({documents:I})=>x.view.ma(I,E)));const P=_&&_.targetChanges.get(x.targetId),S=_&&_.targetMismatches.get(x.targetId)!=null,C=x.view.applyChanges(E,b.isPrimaryClient,P,S);return VI(b,x.targetId,C.wa),C.snapshot}(t,f,h,y);const o=await NI(t.localStore,e,!0),s=new _q(e,o.Ts),a=s.ma(o.documents),l=Cf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);VI(t,n,u.wa);const c=new wq(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function kq(t,e,n){const r=Pe(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Qg(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ib(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&PE(r.remoteStore,i.targetId),sb(r,i.targetId)}).catch(Tf)):(sb(r,i.targetId),await ib(r.localStore,i.targetId,!0))}async function Cq(t,e){const n=Pe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),PE(n.remoteStore,r.targetId))}async function Pq(t,e,n){const r=Lq(t);try{const i=await function(s,a){const l=Pe(s),u=Ut.now(),c=a.reduce((y,v)=>y.add(v.key),Ve());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let v=Gi(),b=Ve();return l.cs.getEntries(y,c).next(x=>{v=x,v.forEach((w,_)=>{_.isValidDocument()||(b=b.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,v)).next(x=>{f=x;const w=[];for(const _ of a){const E=ez(_,f.get(_.key).overlayedDocument);E!=null&&w.push(new ns(_.key,E,yj(E.value.mapValue),$t.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,w,a)}).next(x=>{h=x;const w=x.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(y,x.batchId,w)})}).then(()=>({batchId:h.batchId,changes:kj(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new Et(He)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await Nf(r,i.changes),await oy(r.remoteStore)}catch(i){const o=DE(i,"Failed to persist write");n.reject(o)}}async function dL(t,e){const n=Pe(t);try{const r=await qz(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?ze(s.va):i.removedDocuments.size>0&&(ze(s.va),s.va=!1))}),await Nf(n,r,e)}catch(r){await Tf(r)}}function $I(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Pe(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.j_)h.Z_(a)&&(u=!0)}),u&&jE(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Nq(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new Et(be.comparator);s=s.insert(o,Yt.newNoDocument(o,Se.min()));const a=Ve().add(o),l=new ny(Se.min(),new Map,new Et(He),s,a);await dL(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),LE(r)}else await ib(r.localStore,e,!1).then(()=>sb(r,e,n)).catch(Tf)}async function Rq(t,e){const n=Pe(t),r=e.batch.batchId;try{const i=await zz(n.localStore,e);hL(n,r,null),fL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nf(n,i)}catch(i){await Tf(i)}}async function Oq(t,e,n){const r=Pe(t);try{const i=await function(s,a){const l=Pe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(ze(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);hL(r,e,n),fL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nf(r,i)}catch(i){await Tf(i)}}function fL(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function hL(t,e,n){const r=Pe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function sb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||pL(t,r)})}function pL(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(PE(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),LE(t))}function VI(t,e,n){for(const r of n)r instanceof lL?(t.La.addReference(r.key,e),Mq(t,r)):r instanceof uL?(ve("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||pL(t,r.key)):Ee()}function Mq(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ve("SyncEngine","New document in limbo: "+n),t.xa.add(r),LE(t))}function LE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new be(ot.fromString(e)),r=t.qa.next();t.Na.set(r,new Eq(n)),t.Oa=t.Oa.insert(n,r),Zj(t.remoteStore,new To(ti(_E(n.path)),r,"TargetPurposeLimboResolution",mE.oe))}}async function Nf(t,e,n){const r=Pe(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=kE.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const c=Pe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>re.forEach(u,h=>re.forEach(h.$i,y=>c.persistence.referenceDelegate.addReference(f,h.targetId,y)).next(()=>re.forEach(h.Ui,y=>c.persistence.referenceDelegate.removeReference(f,h.targetId,y)))))}catch(f){if(!Sf(f))throw f;ve("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const y=c.os.get(h),v=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(v);c.os=c.os.insert(h,b)}}}(r.localStore,o))}async function Dq(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){ve("SyncEngine","User change. New user:",e.toKey());const r=await Jj(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new he(te.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nf(n,r.hs)}}function jq(t,e){const n=Pe(t),r=n.Na.get(e);if(r&&r.va)return Ve().add(r.key);{let i=Ve();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function mL(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nq.bind(null,e),e.Ca.d_=xq.bind(null,e.eventManager),e.Ca.$a=bq.bind(null,e.eventManager),e}function Lq(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Oq.bind(null,e),e}class mm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ry(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return Gz(this.persistence,new Uz,e.initialUser,this.serializer)}Ga(e){return new $z(IE.Zr,this.serializer)}Wa(e){return new Jz}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mm.provider={build:()=>new mm};class ab{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$I(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dq.bind(null,this.syncEngine),await gq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new vq}()}createDatastore(e){const n=ry(e.databaseInfo.databaseId),r=function(o){return new eq(o)}(e.databaseInfo);return function(o,s,a,l){return new rq(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new oq(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>$I(this.syncEngine,n,0),function(){return OI.D()?new OI:new Xz}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const f=new Tq(i,o,s,a,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Pe(i);ve("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Pf(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ab.provider={build:()=>new ab};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Bi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $q{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new he(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,o){const s=Pe(i),a={documents:o.map(f=>hm(s.serializer,f))},l=await s.Lo("BatchGetDocuments",s.serializer.databaseId,ot.emptyPath(),a,o.length),u=new Map;l.forEach(f=>{const h=hz(s.serializer,f);u.set(h.key.toString(),h)});const c=[];return o.forEach(f=>{const h=u.get(f.toString());ze(!!h),c.push(h)}),c}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new kf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=be.fromPath(r);this.mutations.push(new Lj(i,this.precondition(i)))}),await async function(r,i){const o=Pe(r),s={writes:i.map(a=>Hj(o.serializer,a))};await o.Mo("Commit",o.serializer.databaseId,ot.emptyPath(),s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ee();n=Se.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new he(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Se.min())?$t.exists(!1):$t.updateTime(n):$t.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Se.min()))throw new he(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $t.updateTime(n)}return $t.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this._u=r.maxAttempts,this.t_=new CE(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new $q(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!Af(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!$j(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=jn.UNAUTHENTICATED,this.clientId=pj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{ve("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(ve("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=DE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function iv(t,e){t.asyncQueue.verifyOperationInProgress(),ve("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Jj(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function FI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Uq(t);ve("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>MI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>MI(e.remoteStore,i)),t._onlineComponents=e}async function Uq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await iv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;bd("Error using user provided cache. Falling back to memory cache: "+n),await iv(t,new mm)}}else ve("FirestoreClient","Using default OfflineComponentProvider"),await iv(t,new mm);return t._offlineComponents}async function $E(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve("FirestoreClient","Using user provided OnlineComponentProvider"),await FI(t,t._uninitializedComponentsProvider._online)):(ve("FirestoreClient","Using default OnlineComponentProvider"),await FI(t,new ab))),t._onlineComponents}function Bq(t){return $E(t).then(e=>e.syncEngine)}function Gq(t){return $E(t).then(e=>e.datastore)}async function lb(t){const e=await $E(t),n=e.eventManager;return n.onListen=Sq.bind(null,e.syncEngine),n.onUnlisten=kq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Aq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Cq.bind(null,e.syncEngine),n}function zq(t,e,n={}){const r=new Ni;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new gL({next:h=>{c.Za(),s.enqueueAndForget(()=>sL(o,f)),h.fromCache&&l.source==="server"?u.reject(new he(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new aL(a,c,{includeMetadataChanges:!0,_a:!0});return oL(o,f)}(await lb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t,e,n){if(!n)throw new he(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function qq(t,e,n,r){if(e===!0&&r===!0)throw new he(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function BI(t){if(!be.isDocumentKey(t))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function GI(t){if(be.isDocumentKey(t))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee()}function pr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sy(t);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class VE{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cG;switch(r.type){case"firstParty":return new hG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=UI.get(n);r&&(ve("ComponentProvider","Removing Datastore"),UI.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qi(this.firestore,e,this._query)}}class bn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bn(this.firestore,e,this._key)}}class Fo extends Qi{constructor(e,n,r){super(e,n,_E(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bn(this.firestore,null,new be(e))}withConverter(e){return new Fo(this.firestore,e,this._path)}}function Es(t,e,...n){if(t=It(t),vL("collection","path",e),t instanceof VE){const r=ot.fromString(e,...n);return GI(r),new Fo(t,null,r)}{if(!(t instanceof bn||t instanceof Fo))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return GI(r),new Fo(t.firestore,null,r)}}function Qe(t,e,...n){if(t=It(t),arguments.length===1&&(e=pj.newId()),vL("doc","path",e),t instanceof VE){const r=ot.fromString(e,...n);return BI(r),new bn(t,null,new be(r))}{if(!(t instanceof bn||t instanceof Fo))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ot.fromString(e,...n));return BI(r),new bn(t.firestore,t instanceof Fo?t.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new CE(this,"async_queue_retry"),this.Vu=()=>{const r=rv();r&&ve("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=rv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=rv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ni;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Sf(e))throw e;ve("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Bi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=ME.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Ee()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function HI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class zi extends VE{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new qI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qI(e),this._firestoreClient=void 0,await e}}}function Hq(t,e,n){n||(n="(default)");const r=nE(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),o=r.getOptions(n);if(gd(o,e))return i;throw new he(te.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new he(te.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function Rf(t){if(t._terminated)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Wq(t),t._firestoreClient}function Wq(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new AG(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,yL(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Fq(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ea(cn.fromBase64String(e))}catch(n){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ea(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq=/^__.*__$/;class Yq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new If(e,this.data,n,this.fieldTransforms)}}class xL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ns(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class GE{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new GE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return gm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(bL(this.Cu)&&Kq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Jq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ry(e)}Qu(e,n,r,i=!1){return new GE({Cu:e,methodName:n,qu:r,path:sn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Of(t){const e=t._freezeSettings(),n=ry(t._databaseId);return new Jq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zE(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);WE("Data must be an object, but it was:",s,r);const a=_L(r,s);let l,u;if(o.merge)l=new Xn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const h=ub(e,f,n);if(!s.contains(h))throw new he(te.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);EL(c,h)||c.push(h)}l=new Xn(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new Yq(new kn(a),l,u)}class ay extends FE{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ay}}function qE(t,e,n,r){const i=t.Qu(1,e,n);WE("Data must be an object, but it was:",i,r);const o=[],s=kn.empty();ua(r,(l,u)=>{const c=KE(e,l,n);u=It(u);const f=i.Nu(c);if(u instanceof ay)o.push(c);else{const h=Mf(u,f);h!=null&&(o.push(c),s.set(c,h))}});const a=new Xn(o);return new xL(s,a,i.fieldTransforms)}function HE(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[ub(e,r,n)],l=[i];if(o.length%2!=0)throw new he(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(ub(e,o[h])),l.push(o[h+1]);const u=[],c=kn.empty();for(let h=a.length-1;h>=0;--h)if(!EL(u,a[h])){const y=a[h];let v=l[h];v=It(v);const b=s.Nu(y);if(v instanceof ay)u.push(y);else{const x=Mf(v,b);x!=null&&(u.push(y),c.set(y,x))}}const f=new Xn(u);return new xL(c,f,s.fieldTransforms)}function Xq(t,e,n,r=!1){return Mf(n,t.Qu(r?4:3,e))}function Mf(t,e){if(wL(t=It(t)))return WE("Unsupported field value:",e,t),_L(t,e);if(t instanceof FE)return function(r,i){if(!bL(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Mf(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=It(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KG(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ut.fromDate(r);return{timestampValue:fm(i.serializer,o)}}if(r instanceof Ut){const o=new Ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fm(i.serializer,o)}}if(r instanceof UE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ea)return{bytesValue:Bj(i.serializer,r._byteString)};if(r instanceof bn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:SE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof BE)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return wE(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${sy(r)}`)}(t,e)}function _L(t,e){const n={};return mj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ua(t,(r,i)=>{const o=Mf(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function wL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ut||t instanceof UE||t instanceof ea||t instanceof bn||t instanceof FE||t instanceof BE)}function WE(t,e,n){if(!wL(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=sy(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function ub(t,e,n){if((e=It(e))instanceof mu)return e._internalPath;if(typeof e=="string")return KE(t,e);throw gm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Qq=new RegExp("[~\\*/\\[\\]]");function KE(t,e,n){if(e.search(Qq)>=0)throw gm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new mu(...e.split("."))._internalPath}catch{throw gm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gm(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new he(te.INVALID_ARGUMENT,a+t+l)}function EL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Zq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(YE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Zq extends ym{data(){return super.data()}}function YE(t,e){return typeof e=="string"?KE(t,e):e instanceof mu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class JE{}class XE extends JE{}function QE(t,e,...n){let r=[];e instanceof JE&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof e1).length,a=o.filter(l=>l instanceof ZE).length;if(s>1||s>0&&a>0)throw new he(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ZE extends XE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ZE(e,n,r)}_apply(e){const n=this._parse(e);return SL(e._query,n),new Qi(e.firestore,e.converter,eb(e._query,n))}_parse(e){const n=Of(e.firestore);return function(o,s,a,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new he(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){KI(f,c);const y=[];for(const v of f)y.push(WI(l,o,v));h={arrayValue:{values:y}}}else h=WI(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||KI(f,c),h=Xq(a,s,f,c==="in"||c==="not-in");return Ot.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class e1 extends JE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new e1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:zr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)SL(s,l),s=eb(s,l)}(e._query,n),new Qi(e.firestore,e.converter,eb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class t1 extends XE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t1(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sd(o,s)}(e._query,this._field,this._direction);return new Qi(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new fu(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function eH(t,e="asc"){const n=e,r=YE("orderBy",t);return t1._create(r,n)}class n1 extends XE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new n1(e,n,r)}_apply(e){return new Qi(e.firestore,e.converter,um(e._query,this._limit,this._limitType))}}function tH(t){return n1._create("limit",t,"F")}function WI(t,e,n){if(typeof(n=It(n))=="string"){if(n==="")throw new he(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tj(e)&&n.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ot.fromString(n));if(!be.isDocumentKey(r))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pI(t,new be(r))}if(n instanceof bn)return pI(t,n._key);throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sy(n)}.`)}function KI(t,e){if(!Array.isArray(t)||t.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SL(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AL{convertValue(e,n="none"){switch(Zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ua(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>kt(s.doubleValue));return new BE(o)}convertGeoPoint(e){return new UE(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=yE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wd(e));default:return null}}convertTimestamp(e){const n=Wo(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);ze(Yj(r));const i=new Ed(r.get(1),r.get(3)),o=new be(r.popFirst(5));return i.isEqual(n)||Bi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class nH extends AL{constructor(e){super(),this.firestore=e}convertBytes(e){return new ea(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class i1 extends ym{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _p(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(YE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class _p extends i1{data(e={}){return super.data(e)}}class IL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ha(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new _p(this._firestore,this._userDataWriter,r.key,r,new Ha(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new _p(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ha(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new _p(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ha(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:rH(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function rH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}class ly extends AL{constructor(e){super(),this.firestore=e}convertBytes(e){return new ea(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bn(this.firestore,null,n)}}function kL(t){t=pr(t,Qi);const e=pr(t.firestore,zi),n=Rf(e),r=new ly(e);return TL(t._query),zq(n,t._query).then(i=>new IL(e,r,t,i))}function da(t,e,n){t=pr(t,bn);const r=pr(t.firestore,zi),i=r1(t.converter,e,n);return cy(r,[zE(Of(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$t.none())])}function Df(t,e,n,...r){t=pr(t,bn);const i=pr(t.firestore,zi),o=Of(i);let s;return s=typeof(e=It(e))=="string"||e instanceof mu?HE(o,"updateDoc",t._key,e,n,r):qE(o,"updateDoc",t._key,e),cy(i,[s.toMutation(t._key,$t.exists(!0))])}function uy(t){return cy(pr(t.firestore,zi),[new kf(t._key,$t.none())])}function Ta(t,...e){var n,r,i;t=It(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||HI(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(HI(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(t instanceof bn)u=pr(t.firestore,zi),c=_E(t._key.path),l={next:f=>{e[s]&&e[s](iH(u,t,f))},error:e[s+1],complete:e[s+2]};else{const f=pr(t,Qi);u=pr(f.firestore,zi),c=f._query;const h=new ly(u);l={next:y=>{e[s]&&e[s](new IL(u,h,f,y))},error:e[s+1],complete:e[s+2]},TL(t._query)}return function(h,y,v,b){const x=new gL(b),w=new aL(y,x,v);return h.asyncQueue.enqueueAndForget(async()=>oL(await lb(h),w)),()=>{x.Za(),h.asyncQueue.enqueueAndForget(async()=>sL(await lb(h),w))}}(Rf(u),c,a,l)}function cy(t,e){return function(r,i){const o=new Ni;return r.asyncQueue.enqueueAndForget(async()=>Pq(await Bq(r),i,o)),o.promise}(Rf(t),e)}function iH(t,e,n){const r=n.docs.get(e._key),i=new ly(t);return new i1(t,i,e._key,r,new Ha(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Of(e)}set(e,n,r){this._verifyNotCommitted();const i=bo(e,this._firestore),o=r1(i.converter,n,r),s=zE(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,$t.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=bo(e,this._firestore);let s;return s=typeof(n=It(n))=="string"||n instanceof mu?HE(this._dataReader,"WriteBatch.update",o._key,n,r,i):qE(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,$t.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=bo(e,this._firestore);return this._mutations=this._mutations.concat(new kf(n._key,$t.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function bo(t,e){if((t=It(t)).firestore!==e)throw new he(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Of(n)}get(n){const r=bo(n,this._firestore),i=new nH(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||o.length!==1)return Ee();const s=o[0];if(s.isFoundDocument())return new ym(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new ym(this._firestore,i,r._key,null,r.converter);throw Ee()})}set(n,r,i){const o=bo(n,this._firestore),s=r1(o.converter,r,i),a=zE(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){const s=bo(n,this._firestore);let a;return a=typeof(r=It(r))=="string"||r instanceof mu?HE(this._dataReader,"Transaction.update",s._key,r,i,o):qE(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){const r=bo(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=bo(e,this._firestore),r=new ly(this._firestore);return super.get(e).then(i=>new i1(this._firestore,r,n._key,i._document,new Ha(!1,!1),n.converter))}}function o1(t,e,n){t=pr(t,zi);const r=Object.assign(Object.assign({},oH),n);return function(o){if(o.maxAttempts<1)throw new he(te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const l=new Ni;return o.asyncQueue.enqueueAndForget(async()=>{const u=await Gq(o);new Vq(o.asyncQueue,u,a,s,l).au()}),l.promise}(Rf(t),i=>e(new aH(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t){return Rf(t=pr(t,zi)),new sH(t,e=>cy(t,e))}(function(e,n=!0){(function(i){du=i})(uu),El(new Ks("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new zi(new dG(r.getProvider("auth-internal")),new mG(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ed(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Vo(uI,"4.7.3",e),Vo(uI,"4.7.3","esm2017")})();const lH={apiKey:"AIzaSyAp9vMuLIhE-W8sEVpuzSWr7vvRHOu1pSc",authDomain:"nexo-bbbe5.firebaseapp.com",projectId:"nexo-bbbe5",storageBucket:"nexo-bbbe5.firebasestorage.app",messagingSenderId:"133978874707",appId:"1:133978874707:web:ba5e00d4c5e35b3c5df7a6"},PL=AD(lH),Wa=aG(PL),De=Hq(PL,{ignoreUndefinedProperties:!0}),uH="finansmart_data_v2",YI={transactions:[],investments:[],budgets:[],debts:[],shoppingList:[],shoppingBudget:0,unlockedBadges:[],walletBalance:0},NL=t=>`${uH}_${t}`,JI=t=>{try{const e=NL(t),n=localStorage.getItem(e);if(!n)return YI;const r=JSON.parse(n);return r.transactions||(r.transactions=[]),r.investments||(r.investments=[]),r.unlockedBadges||(r.unlockedBadges=[]),r.debts||(r.debts=[]),r.shoppingList||(r.shoppingList=[]),r.shoppingBudget===void 0&&(r.shoppingBudget=0),r.budgets?r.budgets=r.budgets.map(i=>({...i,isRecurring:i.isRecurring!==void 0?i.isRecurring:!0,month:i.month||void 0})):r.budgets=[],r.walletBalance===void 0&&(r.walletBalance=r.transactions.reduce((i,o)=>o.status==="paid"?i+(o.type==="income"?o.amount:-o.amount):i,0)),r}catch(e){return console.error("Failed to load data",e),YI}},cH=(t,e)=>{try{const n=NL(e),r=t.transactions.reduce((o,s)=>s.status==="paid"?o+(s.type==="income"?s.amount:-s.amount):o,0),i={...t,walletBalance:r};localStorage.setItem(n,JSON.stringify(i))}catch(n){console.error("Failed to save data",n)}},Cl=t=>t.status==="pending"?0:t.type==="income"?t.amount:-t.amount,dH=(t,e)=>{const n=QE(Es(De,"users",t,"transactions"),eH("date","desc"),tH(300)),r=Ta(n,u=>{const c=u.docs.map(f=>f.data());e({transactions:c})}),i=Ta(Es(De,"users",t,"investments"),u=>{const c=u.docs.map(f=>f.data());e({investments:c})}),o=Ta(Es(De,"users",t,"budgets"),u=>{const c=u.docs.map(f=>f.data());e({budgets:c})}),s=Ta(Es(De,"users",t,"debts"),u=>{const c=u.docs.map(f=>f.data());e({debts:c})}),a=Ta(Es(De,"users",t,"shopping_list"),u=>{const c=u.docs.map(f=>f.data());e({shoppingList:c})}),l=Ta(Qe(De,"users",t),u=>{if(u.exists()){const c=u.data(),f={};c.unlockedBadges&&(f.unlockedBadges=c.unlockedBadges),c.wealthProfile&&(f.wealthProfile=c.wealthProfile),c.shoppingBudget!==void 0&&(f.shoppingBudget=c.shoppingBudget),c.walletBalance!==void 0&&(f.walletBalance=c.walletBalance),Object.keys(f).length>0&&e(f)}});return()=>{r(),i(),o(),s(),a(),l()}},XI=async(t,e)=>{await o1(De,async n=>{var l;const r=Qe(De,"users",t),o=((l=(await n.get(r)).data())==null?void 0:l.walletBalance)||0,s=Cl(e),a=Qe(De,"users",t,"transactions",e.id);n.set(a,e),n.update(r,{walletBalance:o+s})})},QI=async(t,e,n)=>{await o1(De,async r=>{var y;const i=Qe(De,"users",t,"transactions",e),o=Qe(De,"users",t),s=await r.get(i);if(!s.exists())throw new Error("Transaction not found");const a=s.data(),u=((y=(await r.get(o)).data())==null?void 0:y.walletBalance)||0,c=Cl(a),f={...a,...n},h=Cl(f);r.update(i,n),r.update(o,{walletBalance:u-c+h})})},fH=async(t,e)=>{await o1(De,async n=>{var c;const r=Qe(De,"users",t,"transactions",e),i=Qe(De,"users",t),o=await n.get(r);if(!o.exists())throw new Error("Transaction not found");const s=o.data(),l=((c=(await n.get(i)).data())==null?void 0:c.walletBalance)||0,u=Cl(s);n.delete(r),n.update(i,{walletBalance:l-u})})},hH=async t=>{const e=QE(Es(De,"users",t,"transactions")),n=await kL(e);let r=0;return n.forEach(i=>{const o=i.data();r+=Cl(o)}),await Df(Qe(De,"users",t),{walletBalance:r}),r},pH=async(t,e)=>{await da(Qe(De,"users",t,"investments",e.id),e)},mH=async(t,e,n)=>{await Df(Qe(De,"users",t,"investments",e),n)},gH=async(t,e)=>{await uy(Qe(De,"users",t,"investments",e))},yH=async(t,e)=>{await da(Qe(De,"users",t,"budgets",e.id),e)},vH=async(t,e,n)=>{await Df(Qe(De,"users",t,"budgets",e),n)},xH=async(t,e)=>{await uy(Qe(De,"users",t,"budgets",e))},bH=async(t,e)=>{await da(Qe(De,"users",t,"debts",e.id),e)},ZI=async(t,e,n)=>{await Df(Qe(De,"users",t,"debts",e),n)},_H=async(t,e)=>{await uy(Qe(De,"users",t,"debts",e))},wH=async(t,e)=>{await da(Qe(De,"users",t,"shopping_list",e.id),e)},EH=async(t,e,n)=>{await Df(Qe(De,"users",t,"shopping_list",e),n)},TH=async(t,e)=>{await uy(Qe(De,"users",t,"shopping_list",e))},SH=async t=>{const e=QE(Es(De,"users",t,"shopping_list")),n=await kL(e),r=CL(De);n.docs.forEach(i=>{r.delete(i.ref)}),await r.commit()},AH=async(t,e)=>{await da(Qe(De,"users",t),{shoppingBudget:e},{merge:!0})},IH=async(t,e,n)=>{n.includes(e)||await da(Qe(De,"users",t),{unlockedBadges:[...n,e]},{merge:!0})},kH=async(t,e)=>{await da(Qe(De,"users",t),{wealthProfile:e},{merge:!0})},ek=async(t,e)=>{const n=CL(De);let r=0;e.transactions.forEach(s=>{const a=Qe(De,"users",t,"transactions",s.id);n.set(a,s),r+=Cl(s)}),e.investments.forEach(s=>{const a=Qe(De,"users",t,"investments",s.id);n.set(a,s)}),e.budgets.forEach(s=>{const a=Qe(De,"users",t,"budgets",s.id);n.set(a,s)}),e.debts.forEach(s=>{const a=Qe(De,"users",t,"debts",s.id);n.set(a,s)}),e.shoppingList.forEach(s=>{const a=Qe(De,"users",t,"shopping_list",s.id);n.set(a,s)});const i=Qe(De,"users",t),o={unlockedBadges:e.unlockedBadges,walletBalance:r,shoppingBudget:e.shoppingBudget||0};e.wealthProfile&&(o.wealthProfile=e.wealthProfile),n.set(i,o,{merge:!0}),await n.commit()};var CH={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let PH,NH;function RH(){return{geminiUrl:PH,vertexUrl:NH}}function OH(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=RH();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zi{}function pe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];g(c,e.slice(o+1),n[u])}else for(const u of l)g(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];g(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(a=>p(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function MH(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&o.length>a)for(let l=a;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}cb(t,i,o,0,s)}}function cb(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(const l of a[s])cb(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,a=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of a)l[u]=s[u];for(const[u,c]of Object.entries(l)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);g(s,f,c)}for(const u of a)delete s[u]}}else{const s=t;o in s&&cb(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s1(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DH(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=p(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function jH(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response","generateVideoResponse"]);return s!=null&&g(e,["response"],$H(s)),e}function LH(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],VH(s)),e}function $H(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>FH(s))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function VH(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>UH(s))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function FH(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],WH(n)),e}function UH(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],KH(n)),e}function BH(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function GH(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function zH(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],qH(s)),e}function qH(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function RL(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],HH(s)),e}function HH(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function WH(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],s1(r));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function KH(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],s1(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var tk;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(tk||(tk={}));var nk;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(nk||(nk={}));var rk;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(rk||(rk={}));var So;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(So||(So={}));var ik;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ik||(ik={}));var ok;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(ok||(ok={}));var sk;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(sk||(sk={}));var ak;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(ak||(ak={}));var lk;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(lk||(lk={}));var uk;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(uk||(uk={}));var ck;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(ck||(ck={}));var dk;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(dk||(dk={}));var fk;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(fk||(fk={}));var hk;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(hk||(hk={}));var pk;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(pk||(pk={}));var mk;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(mk||(mk={}));var gk;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(gk||(gk={}));var yk;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(yk||(yk={}));var vk;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(vk||(vk={}));var xk;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(xk||(xk={}));var bk;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(bk||(bk={}));var vm;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(vm||(vm={}));var _k;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(_k||(_k={}));var wk;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(wk||(wk={}));var Ek;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ek||(Ek={}));var db;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(db||(db={}));var Tk;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Tk||(Tk={}));var Sk;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Sk||(Sk={}));var fb;(function(t){t.COLLECTION="COLLECTION"})(fb||(fb={}));var Ak;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Ak||(Ak={}));var Ik;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Ik||(Ik={}));var kk;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(kk||(kk={}));var Ck;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Ck||(Ck={}));var Pk;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Pk||(Pk={}));var Nk;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Nk||(Nk={}));var Rk;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Rk||(Rk={}));var Ok;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Ok||(Ok={}));var Mk;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Mk||(Mk={}));var Dk;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Dk||(Dk={}));var jk;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(jk||(jk={}));var Lk;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Lk||(Lk={}));var $k;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})($k||($k={}));var Vk;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Vk||(Vk={}));var Fk;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Fk||(Fk={}));var Uk;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Uk||(Uk={}));var Bk;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(Bk||(Bk={}));var Gk;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Gk||(Gk={}));var zk;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(zk||(zk={}));var qk;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(qk||(qk={}));var Hk;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(Hk||(Hk={}));var Wk;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Wk||(Wk={}));var Kk;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Kk||(Kk={}));var Yk;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Yk||(Yk={}));var Jk;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Jk||(Jk={}));var Xk;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Xk||(Xk={}));var Qk;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Qk||(Qk={}));var Ka;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ka||(Ka={}));class hb{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ic{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const h of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[y,v]of Object.entries(h))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(v!==null||v!==void 0)&&f.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[h,y]of Object.entries(f))h!=="inlineData"&&(y!==null||y!==void 0)&&c.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class Zk{}class eC{}class YH{}class JH{}class XH{}class QH{}class tC{}class nC{}class rC{}class ZH{}class xm{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new xm;let i;const o=e;return n?i=LH(o):i=jH(o),Object.assign(r,i),r}}class iC{}class oC{}class sC{}class aC{}class eW{}class tW{}class nW{}class a1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new a1,o=zH(e);return Object.assign(r,o),r}}class rW{}class iW{}class oW{}class lC{}class sW{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class aW{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class l1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new l1,o=RL(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function We(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function OL(t,e){const n=We(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function ML(t){return Array.isArray(t)?t.map(e=>bm(e)):[bm(t)]}function bm(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function DL(t){const e=bm(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function jL(t){const e=bm(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function uC(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function LL(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>uC(e)):[uC(t)]}function pb(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function cC(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function dC(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function xn(t){if(t==null)throw new Error("ContentUnion is required");return pb(t)?t:{role:"user",parts:LL(t)}}function u1(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=xn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=xn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>xn(n)):[xn(e)]}function mr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(cC(t)||dC(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[xn(t)]}const e=[],n=[],r=pb(t[0]);for(const i of t){const o=pb(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(cC(i)||dC(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:LL(n)}),e}function lW(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(So).includes(n[0].toUpperCase())?n[0].toUpperCase():So.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(So).includes(r.toUpperCase())?r.toUpperCase():So.TYPE_UNSPECIFIED})}}function dl(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&lW(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(So).includes(a.toUpperCase())?a.toUpperCase():So.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=dl(a);else if(r.includes(s)){const l=[];for(const u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(dl(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,c]of Object.entries(a))l[u]=dl(c);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function c1(t){return dl(t)}function d1(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function f1(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function gu(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=dl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=dl(e.response));return t}function yu(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function uW(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function eo(t,e){if(typeof e!="string")throw new Error("name must be a string");return uW(t,e,"cachedContents")}function $L(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function rs(t){return s1(t)}function cW(t){return t!=null&&typeof t=="object"&&"name"in t}function dW(t){return t!=null&&typeof t=="object"&&"video"in t}function fW(t){return t!=null&&typeof t=="object"&&"uri"in t}function VL(t){var e;let n;if(cW(t)&&(n=t.name),!(fW(t)&&(n=t.uri,n===void 0))&&!(dW(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function FL(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function UL(t){for(const e of["models","tunedModels","publisherModels"])if(hW(t,e))return t[e];return[]}function hW(t,e){return t!==null&&typeof t=="object"&&e in t}function pW(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function mW(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=pW(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function BL(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function gW(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function GL(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function vu(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function zL(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yW(t){const e={},n=p(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>XW(s))),g(e,["inlinedResponses"],o)}const i=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["inlinedEmbedContentResponses"],o)}return e}function vW(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function xW(t){const e={},n=p(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function wp(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&g(e,["state"],zL(i));const o=p(t,["metadata","createTime"]);o!=null&&g(e,["createTime"],o);const s=p(t,["metadata","endTime"]);s!=null&&g(e,["endTime"],s);const a=p(t,["metadata","updateTime"]);a!=null&&g(e,["updateTime"],a);const l=p(t,["metadata","model"]);l!=null&&g(e,["model"],l);const u=p(t,["metadata","output"]);return u!=null&&g(e,["dest"],yW(GL(u))),e}function mb(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["state"]);i!=null&&g(e,["state"],zL(i));const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["createTime"]);s!=null&&g(e,["createTime"],s);const a=p(t,["startTime"]);a!=null&&g(e,["startTime"],a);const l=p(t,["endTime"]);l!=null&&g(e,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&g(e,["updateTime"],u);const c=p(t,["model"]);c!=null&&g(e,["model"],c);const f=p(t,["inputConfig"]);f!=null&&g(e,["src"],bW(f));const h=p(t,["outputConfig"]);h!=null&&g(e,["dest"],vW(GL(h)));const y=p(t,["completionStats"]);return y!=null&&g(e,["completionStats"],y),e}function bW(t){const e={},n=p(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function _W(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&g(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>JW(t,s))),g(n,["requests","requests"],o)}return n}function wW(t){const e={},n=p(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function EW(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function TW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],vu(t,r)),n}function SW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],vu(t,r)),n}function AW(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],IW(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const s=p(t,["avgLogprobs"]);s!=null&&g(e,["avgLogprobs"],s);const a=p(t,["groundingMetadata"]);a!=null&&g(e,["groundingMetadata"],a);const l=p(t,["index"]);l!=null&&g(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const c=p(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function IW(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function qL(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>iK(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function kW(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function CW(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&g(e,["outputConfig"],xW(gW(i))),n}function fC(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["src"]);i!=null&&g(n,["batch","inputConfig"],_W(t,BL(t,i)));const o=p(e,["config"]);return o!=null&&kW(o,n),n}function PW(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],We(t,r));const i=p(e,["src"]);i!=null&&g(n,["inputConfig"],wW(BL(t,i)));const o=p(e,["config"]);return o!=null&&CW(o,n),n}function NW(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function RW(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["src"]);i!=null&&g(n,["batch","inputConfig"],VW(t,i));const o=p(e,["config"]);return o!=null&&NW(o,n),n}function OW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],vu(t,r)),n}function MW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],vu(t,r)),n}function DW(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);return o!=null&&g(e,["error"],o),e}function jW(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);return o!=null&&g(e,["error"],o),e}function LW(t,e){const n={},r=p(e,["contents"]);if(r!=null){let o=u1(t,r);Array.isArray(o)&&(o=o.map(s=>s)),g(n,["requests[]","request","content"],o)}const i=p(e,["config"]);return i!=null&&(g(n,["_self"],$W(i,n)),MH(n,{"requests[].*":"requests[].request.*"})),n}function $W(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function VW(t,e){const n={},r=p(e,["fileName"]);r!=null&&g(n,["file_name"],r);const i=p(e,["inlinedRequests"]);return i!=null&&g(n,["requests"],LW(t,i)),n}function FW(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function UW(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function BW(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function GW(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],qL(xn(i)));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&g(r,["topP"],s);const a=p(e,["topK"]);a!=null&&g(r,["topK"],a);const l=p(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=p(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=p(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const v=p(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const x=p(e,["responseMimeType"]);x!=null&&g(r,["responseMimeType"],x);const w=p(e,["responseSchema"]);w!=null&&g(r,["responseSchema"],c1(w));const _=p(e,["responseJsonSchema"]);if(_!=null&&g(r,["responseJsonSchema"],_),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=p(e,["safetySettings"]);if(n!==void 0&&E!=null){let D=E;Array.isArray(D)&&(D=D.map(q=>oK(q))),g(n,["safetySettings"],D)}const P=p(e,["tools"]);if(n!==void 0&&P!=null){let D=yu(P);Array.isArray(D)&&(D=D.map(q=>aK(gu(q)))),g(n,["tools"],D)}const S=p(e,["toolConfig"]);if(n!==void 0&&S!=null&&g(n,["toolConfig"],sK(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=p(e,["cachedContent"]);n!==void 0&&C!=null&&g(n,["cachedContent"],eo(t,C));const I=p(e,["responseModalities"]);I!=null&&g(r,["responseModalities"],I);const T=p(e,["mediaResolution"]);T!=null&&g(r,["mediaResolution"],T);const k=p(e,["speechConfig"]);if(k!=null&&g(r,["speechConfig"],d1(k)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=p(e,["thinkingConfig"]);N!=null&&g(r,["thinkingConfig"],N);const O=p(e,["imageConfig"]);O!=null&&g(r,["imageConfig"],YW(O));const M=p(e,["enableEnhancedCivicAnswers"]);if(M!=null&&g(r,["enableEnhancedCivicAnswers"],M),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function zW(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>AW(u))),g(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const s=p(t,["responseId"]);s!=null&&g(e,["responseId"],s);const a=p(t,["usageMetadata"]);return a!=null&&g(e,["usageMetadata"],a),e}function qW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],vu(t,r)),n}function HW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],vu(t,r)),n}function WW(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function KW(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function YW(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function JW(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["request","model"],We(t,r));const i=p(e,["contents"]);if(i!=null){let a=mr(i);Array.isArray(a)&&(a=a.map(l=>qL(l))),g(n,["request","contents"],a)}const o=p(e,["metadata"]);o!=null&&g(n,["metadata"],o);const s=p(e,["config"]);return s!=null&&g(n,["request","generationConfig"],GW(t,s,p(n,["request"],{}))),n}function XW(t){const e={},n=p(t,["response"]);n!=null&&g(e,["response"],zW(n));const r=p(t,["error"]);return r!=null&&g(e,["error"],r),e}function QW(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function ZW(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),n}function eK(t){const e={},n=p(t,["config"]);return n!=null&&QW(n,e),e}function tK(t){const e={},n=p(t,["config"]);return n!=null&&ZW(n,e),e}function nK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>wp(s))),g(e,["batchJobs"],o)}return e}function rK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>mb(s))),g(e,["batchJobs"],o)}return e}function iK(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],FW(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],UW(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],EW(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["thought"]);c!=null&&g(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function oK(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function sK(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],BW(r)),e}function aK(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),g(e,["functionDeclarations"],c)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],WW(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],KW(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(qi||(qi={}));class fa{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lK extends Zi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new fa(qi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=fC(this.apiClient,e),r=n._url,i=pe("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(const c of l){const f=Object.assign({},c);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const y=f.request;y.systemInstruction=h,f.request=y}u.push(f)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=PW(this.apiClient,e);return a=pe("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>mb(c))}else{const u=fC(this.apiClient,e);return a=pe("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>wp(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=RW(this.apiClient,e);return o=pe("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>wp(l))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=HW(this.apiClient,e);return a=pe("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>mb(c))}else{const u=qW(this.apiClient,e);return a=pe("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>wp(c))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=SW(this.apiClient,e);s=pe("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=TW(this.apiClient,e);s=pe("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=tK(e);return a=pe("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=rK(c),h=new lC;return Object.assign(h,f),h})}else{const u=eK(e);return a=pe("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=nK(c),h=new lC;return Object.assign(h,f),h})}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=MW(this.apiClient,e);return a=pe("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>jW(c))}else{const u=OW(this.apiClient,e);return a=pe("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>DW(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uK(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function hC(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>RK(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function cK(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const s=p(t,["contents"]);if(e!==void 0&&s!=null){let c=mr(s);Array.isArray(c)&&(c=c.map(f=>hC(f))),g(e,["contents"],c)}const a=p(t,["systemInstruction"]);e!==void 0&&a!=null&&g(e,["systemInstruction"],hC(xn(a)));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>MK(f))),g(e,["tools"],c)}const u=p(t,["toolConfig"]);if(e!==void 0&&u!=null&&g(e,["toolConfig"],OK(u)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function dK(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const s=p(t,["contents"]);if(e!==void 0&&s!=null){let f=mr(s);Array.isArray(f)&&(f=f.map(h=>h)),g(e,["contents"],f)}const a=p(t,["systemInstruction"]);e!==void 0&&a!=null&&g(e,["systemInstruction"],xn(a));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>DK(h))),g(e,["tools"],f)}const u=p(t,["toolConfig"]);e!==void 0&&u!=null&&g(e,["toolConfig"],u);const c=p(t,["kmsKeyName"]);return e!==void 0&&c!=null&&g(e,["encryption_spec","kmsKeyName"],c),n}function fK(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],OL(t,r));const i=p(e,["config"]);return i!=null&&cK(i,n),n}function hK(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],OL(t,r));const i=p(e,["config"]);return i!=null&&dK(i,n),n}function pK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],eo(t,r)),n}function mK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],eo(t,r)),n}function gK(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function yK(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function vK(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function xK(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function bK(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function _K(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&g(e,["response"],s);const a=p(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function wK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],eo(t,r)),n}function EK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],eo(t,r)),n}function TK(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function SK(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function AK(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function IK(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function kK(t){const e={},n=p(t,["config"]);return n!=null&&AK(n,e),e}function CK(t){const e={},n=p(t,["config"]);return n!=null&&IK(n,e),e}function PK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["cachedContents"],o)}return e}function NK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["cachedContents"],o)}return e}function RK(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],vK(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],xK(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],uK(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["thought"]);c!=null&&g(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function OK(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],bK(r)),e}function MK(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),g(e,["functionDeclarations"],c)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],TK(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],SK(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function DK(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=p(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=p(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>_K(h))),g(e,["functionDeclarations"],f)}const a=p(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=p(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function jK(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function LK(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function $K(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],eo(t,r));const i=p(e,["config"]);return i!=null&&jK(i,n),n}function VK(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],eo(t,r));const i=p(e,["config"]);return i!=null&&LK(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FK extends Zi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new fa(qi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=hK(this.apiClient,e);return a=pe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=fK(this.apiClient,e);return a=pe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=EK(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=wK(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=mK(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=yK(c),h=new sC;return Object.assign(h,f),h})}else{const u=pK(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=gK(c),h=new sC;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=VK(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=$K(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=CK(e);return a=pe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=NK(c),h=new aC;return Object.assign(h,f),h})}else{const u=kK(e);return a=pe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=PK(c),h=new aC;return Object.assign(h,f),h})}}}function _m(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function pC(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(t){return this instanceof Ne?(this.v=t,this):new Ne(t)}function $r(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(v){return Promise.resolve(v).then(y,f)}}function a(y,v){r[y]&&(i[y]=function(b){return new Promise(function(x,w){o.push([y,b,x,w])>1||l(y,b)})},v&&(i[y]=v(i[y])))}function l(y,v){try{u(r[y](v))}catch(b){h(o[0][3],b)}}function u(y){y.value instanceof Ne?Promise.resolve(y.value.v).then(c,f):h(o[0][2],y)}function c(y){l("next",y)}function f(y){l("throw",y)}function h(y,v){y(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Vr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof pC=="function"?pC(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UK(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:HL(n)}function HL(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function BK(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function mC(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!HL(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class GK{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new zK(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class zK{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),BK(o)}async sendMessage(e){var n;await this.sendPromise;const r=xn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const l=await i,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,c=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];c!=null&&(h=(a=c.slice(f))!==null&&a!==void 0?a:[]);const y=u?[u]:[];this.recordHistory(r,y,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=xn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?mC(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return $r(this,arguments,function*(){var i,o,s,a,l,u;const c=[];try{for(var f=!0,h=Vr(e),y;y=yield Ne(h.next()),i=y.done,!i;f=!0){a=y.value,f=!1;const v=a;if(UK(v)){const b=(u=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;b!==void 0&&c.push(b)}yield yield Ne(v)}}catch(v){o={error:v}}finally{try{!f&&!i&&(s=h.return)&&(yield Ne(s.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...mC(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kd extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,kd.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qK(t){const e={},n=p(t,["file"]);return n!=null&&g(e,["file"],n),e}function HK(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function WK(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],VL(n)),e}function KK(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function YK(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],VL(n)),e}function JK(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function XK(t){const e={},n=p(t,["config"]);return n!=null&&JK(n,e),e}function QK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZK extends Zi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new fa(qi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=XK(e);return o=pe("files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=QK(l),c=new rW;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=qK(e);return o=pe("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=HK(l),c=new iW;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=YK(e);return o=pe("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=WK(e);return o=pe("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=KK(l),c=new oW;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ep(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function eY(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>gY(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function tY(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function nY(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function rY(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&g(e,["response"],s);const a=p(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function iY(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const s=p(t,["enableAffectiveDialog"]);s!=null&&g(e,["enableAffectiveDialog"],s);const a=p(t,["frequencyPenalty"]);a!=null&&g(e,["frequencyPenalty"],a);const l=p(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const c=p(t,["mediaResolution"]);c!=null&&g(e,["mediaResolution"],c);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const y=p(t,["responseMimeType"]);y!=null&&g(e,["responseMimeType"],y);const v=p(t,["responseModalities"]);v!=null&&g(e,["responseModalities"],v);const b=p(t,["responseSchema"]);b!=null&&g(e,["responseSchema"],b);const x=p(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const w=p(t,["seed"]);w!=null&&g(e,["seed"],w);const _=p(t,["speechConfig"]);_!=null&&g(e,["speechConfig"],_);const E=p(t,["stopSequences"]);E!=null&&g(e,["stopSequences"],E);const P=p(t,["temperature"]);P!=null&&g(e,["temperature"],P);const S=p(t,["thinkingConfig"]);S!=null&&g(e,["thinkingConfig"],S);const C=p(t,["topK"]);C!=null&&g(e,["topK"],C);const I=p(t,["topP"]);if(I!=null&&g(e,["topP"],I),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function oY(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function sY(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function aY(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=p(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],f1(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=p(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],eY(xn(v)));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let C=yu(b);Array.isArray(C)&&(C=C.map(I=>vY(gu(I)))),g(e,["setup","tools"],C)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],yY(x));const w=p(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","inputAudioTranscription"],w);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const E=p(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&g(e,["setup","realtimeInputConfig"],E);const P=p(t,["contextWindowCompression"]);e!==void 0&&P!=null&&g(e,["setup","contextWindowCompression"],P);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&g(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function lY(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],iY(r));const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=p(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],f1(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=p(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],xn(v));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let I=yu(b);Array.isArray(I)&&(I=I.map(T=>xY(gu(T)))),g(e,["setup","tools"],I)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],x);const w=p(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","inputAudioTranscription"],w);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const E=p(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&g(e,["setup","realtimeInputConfig"],E);const P=p(t,["contextWindowCompression"]);e!==void 0&&P!=null&&g(e,["setup","contextWindowCompression"],P);const S=p(t,["proactivity"]);e!==void 0&&S!=null&&g(e,["setup","proactivity"],S);const C=p(t,["explicitVadSignal"]);return e!==void 0&&C!=null&&g(e,["setup","explicitVadSignal"],C),n}function uY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],We(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],aY(i,n)),n}function cY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],We(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],lY(i,n)),n}function dY(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function fY(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["weightedPrompts"],r)}return e}function hY(t){const e={},n=p(t,["media"]);if(n!=null){let u=ML(n);Array.isArray(u)&&(u=u.map(c=>Ep(c))),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],Ep(jL(r)));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&g(e,["video"],Ep(DL(o)));const s=p(t,["text"]);s!=null&&g(e,["text"],s);const a=p(t,["activityStart"]);a!=null&&g(e,["activityStart"],a);const l=p(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function pY(t){const e={},n=p(t,["media"]);if(n!=null){let u=ML(n);Array.isArray(u)&&(u=u.map(c=>c)),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],jL(r));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&g(e,["video"],DL(o));const s=p(t,["text"]);s!=null&&g(e,["text"],s);const a=p(t,["activityStart"]);a!=null&&g(e,["activityStart"],a);const l=p(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function mY(t){const e={},n=p(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=p(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const i=p(t,["toolCall"]);i!=null&&g(e,["toolCall"],i);const o=p(t,["toolCallCancellation"]);o!=null&&g(e,["toolCallCancellation"],o);const s=p(t,["usageMetadata"]);s!=null&&g(e,["usageMetadata"],bY(s));const a=p(t,["goAway"]);a!=null&&g(e,["goAway"],a);const l=p(t,["sessionResumptionUpdate"]);l!=null&&g(e,["sessionResumptionUpdate"],l);const u=p(t,["voiceActivityDetectionSignal"]);u!=null&&g(e,["voiceActivityDetectionSignal"],u);const c=p(t,["voiceActivity"]);return c!=null&&g(e,["voiceActivity"],_Y(c)),e}function gY(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],tY(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],nY(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],Ep(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["thought"]);c!=null&&g(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function yY(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function vY(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),g(e,["functionDeclarations"],c)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],oY(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],sY(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function xY(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=p(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=p(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>rY(h))),g(e,["functionDeclarations"],f)}const a=p(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=p(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function bY(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&g(e,["toolUsePromptTokenCount"],o);const s=p(t,["thoughtsTokenCount"]);s!=null&&g(e,["thoughtsTokenCount"],s);const a=p(t,["totalTokenCount"]);a!=null&&g(e,["totalTokenCount"],a);const l=p(t,["promptTokensDetails"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["promptTokensDetails"],y)}const u=p(t,["cacheTokensDetails"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["cacheTokensDetails"],y)}const c=p(t,["candidatesTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["responseTokensDetails"],y)}const f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["toolUsePromptTokensDetails"],y)}const h=p(t,["trafficType"]);return h!=null&&g(e,["trafficType"],h),e}function _Y(t){const e={},n=p(t,["type"]);return n!=null&&g(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wY(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function EY(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],TY(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const s=p(t,["avgLogprobs"]);s!=null&&g(e,["avgLogprobs"],s);const a=p(t,["groundingMetadata"]);a!=null&&g(e,["groundingMetadata"],a);const l=p(t,["index"]);l!=null&&g(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const c=p(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function TY(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function SY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["contents"]);if(i!=null){let o=mr(i);Array.isArray(o)&&(o=o.map(s=>s)),g(n,["contents"],o)}return n}function AY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["tokensInfo"],i)}return e}function IY(t){const e={},n=p(t,["values"]);n!=null&&g(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&g(e,["statistics"],kY(r)),e}function kY(t){const e={},n=p(t,["truncated"]);n!=null&&g(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&g(e,["tokenCount"],r),e}function dy(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>LJ(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function CY(t){const e={},n=p(t,["controlType"]);n!=null&&g(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&g(e,["computeControl"],r),e}function PY(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function NY(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],xn(r));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>JL(a))),g(e,["tools"],s)}const o=p(t,["generationConfig"]);return e!==void 0&&o!=null&&g(e,["generationConfig"],wJ(o)),n}function RY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["contents"]);if(i!=null){let s=mr(i);Array.isArray(s)&&(s=s.map(a=>dy(a))),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&PY(o),n}function OY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["contents"]);if(i!=null){let s=mr(i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&NY(o,n),n}function MY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&g(e,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&g(e,["cachedContentTokenCount"],i),e}function DY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&g(e,["totalTokens"],r),e}function jY(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],We(t,r)),n}function LY(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],We(t,r)),n}function $Y(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function VY(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function FY(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const a=p(t,["guidanceScale"]);e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const y=p(t,["language"]);e!==void 0&&y!=null&&g(e,["parameters","language"],y);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const b=p(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","compressionQuality"],b);const x=p(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const w=p(t,["labels"]);e!==void 0&&w!=null&&g(e,["labels"],w);const _=p(t,["editMode"]);e!==void 0&&_!=null&&g(e,["parameters","editMode"],_);const E=p(t,["baseSteps"]);return e!==void 0&&E!=null&&g(e,["parameters","editConfig","baseSteps"],E),n}function UY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>GJ(l))),g(n,["instances[0]","referenceImages"],a)}const s=p(e,["config"]);return s!=null&&FY(s,n),n}function BY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>fy(o))),g(e,["generatedImages"],i)}return e}function GY(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function zY(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["instances[]","title"],i);const o=p(t,["outputDimensionality"]);e!==void 0&&o!=null&&g(e,["parameters","outputDimensionality"],o);const s=p(t,["mimeType"]);e!==void 0&&s!=null&&g(e,["instances[]","mimeType"],s);const a=p(t,["autoTruncate"]);return e!==void 0&&a!=null&&g(e,["parameters","autoTruncate"],a),n}function qY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["contents"]);if(i!=null){let a=u1(t,i);Array.isArray(a)&&(a=a.map(l=>l)),g(n,["requests[]","content"],a)}const o=p(e,["config"]);o!=null&&GY(o,n);const s=p(e,["model"]);return s!==void 0&&g(n,["requests[]","model"],We(t,s)),n}function HY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["contents"]);if(i!=null){let s=u1(t,i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["instances[]","content"],s)}const o=p(e,["config"]);return o!=null&&zY(o,n),n}function WY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function KY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>IY(s))),g(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function YY(t){const e={},n=p(t,["endpoint"]);n!=null&&g(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&g(e,["deployedModelId"],r),e}function JY(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function XY(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function QY(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ZY(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&g(e,["response"],s);const a=p(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function eJ(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],dy(xn(i)));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&g(r,["topP"],s);const a=p(e,["topK"]);a!=null&&g(r,["topK"],a);const l=p(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=p(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=p(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const v=p(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const x=p(e,["responseMimeType"]);x!=null&&g(r,["responseMimeType"],x);const w=p(e,["responseSchema"]);w!=null&&g(r,["responseSchema"],c1(w));const _=p(e,["responseJsonSchema"]);if(_!=null&&g(r,["responseJsonSchema"],_),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=p(e,["safetySettings"]);if(n!==void 0&&E!=null){let D=E;Array.isArray(D)&&(D=D.map(q=>zJ(q))),g(n,["safetySettings"],D)}const P=p(e,["tools"]);if(n!==void 0&&P!=null){let D=yu(P);Array.isArray(D)&&(D=D.map(q=>XJ(gu(q)))),g(n,["tools"],D)}const S=p(e,["toolConfig"]);if(n!==void 0&&S!=null&&g(n,["toolConfig"],JJ(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=p(e,["cachedContent"]);n!==void 0&&C!=null&&g(n,["cachedContent"],eo(t,C));const I=p(e,["responseModalities"]);I!=null&&g(r,["responseModalities"],I);const T=p(e,["mediaResolution"]);T!=null&&g(r,["mediaResolution"],T);const k=p(e,["speechConfig"]);if(k!=null&&g(r,["speechConfig"],d1(k)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=p(e,["thinkingConfig"]);N!=null&&g(r,["thinkingConfig"],N);const O=p(e,["imageConfig"]);O!=null&&g(r,["imageConfig"],IJ(O));const M=p(e,["enableEnhancedCivicAnswers"]);if(M!=null&&g(r,["enableEnhancedCivicAnswers"],M),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function tJ(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],xn(i));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&g(r,["topP"],s);const a=p(e,["topK"]);a!=null&&g(r,["topK"],a);const l=p(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=p(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=p(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const v=p(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const x=p(e,["responseMimeType"]);x!=null&&g(r,["responseMimeType"],x);const w=p(e,["responseSchema"]);w!=null&&g(r,["responseSchema"],c1(w));const _=p(e,["responseJsonSchema"]);_!=null&&g(r,["responseJsonSchema"],_);const E=p(e,["routingConfig"]);E!=null&&g(r,["routingConfig"],E);const P=p(e,["modelSelectionConfig"]);P!=null&&g(r,["modelConfig"],P);const S=p(e,["safetySettings"]);if(n!==void 0&&S!=null){let F=S;Array.isArray(F)&&(F=F.map(L=>L)),g(n,["safetySettings"],F)}const C=p(e,["tools"]);if(n!==void 0&&C!=null){let F=yu(C);Array.isArray(F)&&(F=F.map(L=>JL(gu(L)))),g(n,["tools"],F)}const I=p(e,["toolConfig"]);n!==void 0&&I!=null&&g(n,["toolConfig"],I);const T=p(e,["labels"]);n!==void 0&&T!=null&&g(n,["labels"],T);const k=p(e,["cachedContent"]);n!==void 0&&k!=null&&g(n,["cachedContent"],eo(t,k));const N=p(e,["responseModalities"]);N!=null&&g(r,["responseModalities"],N);const O=p(e,["mediaResolution"]);O!=null&&g(r,["mediaResolution"],O);const M=p(e,["speechConfig"]);M!=null&&g(r,["speechConfig"],d1(M));const D=p(e,["audioTimestamp"]);D!=null&&g(r,["audioTimestamp"],D);const q=p(e,["thinkingConfig"]);q!=null&&g(r,["thinkingConfig"],q);const U=p(e,["imageConfig"]);if(U!=null&&g(r,["imageConfig"],kJ(U)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const j=p(e,["modelArmorConfig"]);return n!==void 0&&j!=null&&g(n,["modelArmorConfig"],j),r}function gC(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["contents"]);if(i!=null){let s=mr(i);Array.isArray(s)&&(s=s.map(a=>dy(a))),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&g(n,["generationConfig"],eJ(t,o,n)),n}function yC(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["contents"]);if(i!=null){let s=mr(i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&g(n,["generationConfig"],tJ(t,o,n)),n}function vC(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>EY(u))),g(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const s=p(t,["responseId"]);s!=null&&g(e,["responseId"],s);const a=p(t,["usageMetadata"]);return a!=null&&g(e,["usageMetadata"],a),e}function xC(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),g(e,["candidates"],u)}const i=p(t,["createTime"]);i!=null&&g(e,["createTime"],i);const o=p(t,["modelVersion"]);o!=null&&g(e,["modelVersion"],o);const s=p(t,["promptFeedback"]);s!=null&&g(e,["promptFeedback"],s);const a=p(t,["responseId"]);a!=null&&g(e,["responseId"],a);const l=p(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function nJ(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const o=p(t,["guidanceScale"]);if(e!==void 0&&o!=null&&g(e,["parameters","guidanceScale"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&g(e,["parameters","safetySetting"],s);const a=p(t,["personGeneration"]);e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a);const l=p(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&g(e,["parameters","includeSafetyAttributes"],l);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const c=p(t,["language"]);e!==void 0&&c!=null&&g(e,["parameters","language"],c);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","mimeType"],f);const h=p(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&g(e,["parameters","outputOptions","compressionQuality"],h),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=p(t,["imageSize"]);if(e!==void 0&&y!=null&&g(e,["parameters","sampleImageSize"],y),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function rJ(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const a=p(t,["guidanceScale"]);e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const y=p(t,["language"]);e!==void 0&&y!=null&&g(e,["parameters","language"],y);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const b=p(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","compressionQuality"],b);const x=p(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const w=p(t,["labels"]);e!==void 0&&w!=null&&g(e,["labels"],w);const _=p(t,["imageSize"]);e!==void 0&&_!=null&&g(e,["parameters","sampleImageSize"],_);const E=p(t,["enhancePrompt"]);return e!==void 0&&E!=null&&g(e,["parameters","enhancePrompt"],E),n}function iJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&nJ(o,n),n}function oJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&rJ(o,n),n}function sJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>vJ(s))),g(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],KL(i)),e}function aJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>fy(s))),g(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],YL(i)),e}function lJ(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&g(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const s=p(t,["resolution"]);e!==void 0&&s!=null&&g(e,["parameters","resolution"],s);const a=p(t,["personGeneration"]);if(e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=p(t,["negativePrompt"]);e!==void 0&&l!=null&&g(e,["parameters","negativePrompt"],l);const u=p(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&g(e,["parameters","enhancePrompt"],u),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=p(t,["lastFrame"]);e!==void 0&&c!=null&&g(e,["instances[0]","lastFrame"],hy(c));const f=p(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>cX(y))),g(e,["instances[0]","referenceImages"],h)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function uJ(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const o=p(t,["fps"]);e!==void 0&&o!=null&&g(e,["parameters","fps"],o);const s=p(t,["durationSeconds"]);e!==void 0&&s!=null&&g(e,["parameters","durationSeconds"],s);const a=p(t,["seed"]);e!==void 0&&a!=null&&g(e,["parameters","seed"],a);const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const u=p(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const f=p(t,["pubsubTopic"]);e!==void 0&&f!=null&&g(e,["parameters","pubsubTopic"],f);const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","negativePrompt"],h);const y=p(t,["enhancePrompt"]);e!==void 0&&y!=null&&g(e,["parameters","enhancePrompt"],y);const v=p(t,["generateAudio"]);e!==void 0&&v!=null&&g(e,["parameters","generateAudio"],v);const b=p(t,["lastFrame"]);e!==void 0&&b!=null&&g(e,["instances[0]","lastFrame"],qr(b));const x=p(t,["referenceImages"]);if(e!==void 0&&x!=null){let E=x;Array.isArray(E)&&(E=E.map(P=>dX(P))),g(e,["instances[0]","referenceImages"],E)}const w=p(t,["mask"]);e!==void 0&&w!=null&&g(e,["instances[0]","mask"],uX(w));const _=p(t,["compressionQuality"]);return e!==void 0&&_!=null&&g(e,["parameters","compressionQuality"],_),n}function cJ(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response","generateVideoResponse"]);return s!=null&&g(e,["response"],pJ(s)),e}function dJ(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],mJ(s)),e}function fJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&g(n,["instances[0]","image"],hy(o));const s=p(e,["video"]);s!=null&&g(n,["instances[0]","video"],XL(s));const a=p(e,["source"]);a!=null&&gJ(a,n);const l=p(e,["config"]);return l!=null&&lJ(l,n),n}function hJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&g(n,["instances[0]","image"],qr(o));const s=p(e,["video"]);s!=null&&g(n,["instances[0]","video"],QL(s));const a=p(e,["source"]);a!=null&&yJ(a,n);const l=p(e,["config"]);return l!=null&&uJ(l,n),n}function pJ(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>bJ(s))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function mJ(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>_J(s))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function gJ(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],hy(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],XL(o)),n}function yJ(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],qr(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],QL(o)),n}function vJ(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],CJ(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&g(e,["safetyAttributes"],KL(i)),e}function fy(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],WL(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&g(e,["safetyAttributes"],YL(i));const o=p(t,["prompt"]);return o!=null&&g(e,["enhancedPrompt"],o),e}function xJ(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["mask"],WL(n));const r=p(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["labels"],i)}return e}function bJ(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],aX(n)),e}function _J(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],lX(n)),e}function wJ(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const s=p(t,["enableAffectiveDialog"]);s!=null&&g(e,["enableAffectiveDialog"],s);const a=p(t,["frequencyPenalty"]);a!=null&&g(e,["frequencyPenalty"],a);const l=p(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const c=p(t,["mediaResolution"]);c!=null&&g(e,["mediaResolution"],c);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const y=p(t,["responseMimeType"]);y!=null&&g(e,["responseMimeType"],y);const v=p(t,["responseModalities"]);v!=null&&g(e,["responseModalities"],v);const b=p(t,["responseSchema"]);b!=null&&g(e,["responseSchema"],b);const x=p(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const w=p(t,["seed"]);w!=null&&g(e,["seed"],w);const _=p(t,["speechConfig"]);_!=null&&g(e,["speechConfig"],_);const E=p(t,["stopSequences"]);E!=null&&g(e,["stopSequences"],E);const P=p(t,["temperature"]);P!=null&&g(e,["temperature"],P);const S=p(t,["thinkingConfig"]);S!=null&&g(e,["thinkingConfig"],S);const C=p(t,["topK"]);C!=null&&g(e,["topK"],C);const I=p(t,["topP"]);if(I!=null&&g(e,["topP"],I),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function EJ(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],We(t,r)),n}function TJ(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],We(t,r)),n}function SJ(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function AJ(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function IJ(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function kJ(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);r!=null&&g(e,["imageSize"],r);const i=p(t,["personGeneration"]);i!=null&&g(e,["personGeneration"],i);const o=p(t,["outputMimeType"]);o!=null&&g(e,["imageOutputOptions","mimeType"],o);const s=p(t,["outputCompressionQuality"]);return s!=null&&g(e,["imageOutputOptions","compressionQuality"],s),e}function CJ(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],rs(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function WL(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],rs(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function hy(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],rs(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function qr(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],rs(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function PJ(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const s=p(e,["filter"]);n!==void 0&&s!=null&&g(n,["_query","filter"],s);const a=p(e,["queryBase"]);return n!==void 0&&a!=null&&g(n,["_url","models_url"],FL(t,a)),r}function NJ(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const s=p(e,["filter"]);n!==void 0&&s!=null&&g(n,["_query","filter"],s);const a=p(e,["queryBase"]);return n!==void 0&&a!=null&&g(n,["_url","models_url"],FL(t,a)),r}function RJ(t,e){const n={},r=p(e,["config"]);return r!=null&&PJ(t,r,n),n}function OJ(t,e){const n={},r=p(e,["config"]);return r!=null&&NJ(t,r,n),n}function MJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=UL(i);Array.isArray(o)&&(o=o.map(s=>gb(s))),g(e,["models"],o)}return e}function DJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=UL(i);Array.isArray(o)&&(o=o.map(s=>yb(s))),g(e,["models"],o)}return e}function jJ(t){const e={},n=p(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&g(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&g(e,["dilation"],i),e}function gb(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const o=p(t,["version"]);o!=null&&g(e,["version"],o);const s=p(t,["_self"]);s!=null&&g(e,["tunedModelInfo"],QJ(s));const a=p(t,["inputTokenLimit"]);a!=null&&g(e,["inputTokenLimit"],a);const l=p(t,["outputTokenLimit"]);l!=null&&g(e,["outputTokenLimit"],l);const u=p(t,["supportedGenerationMethods"]);u!=null&&g(e,["supportedActions"],u);const c=p(t,["temperature"]);c!=null&&g(e,["temperature"],c);const f=p(t,["maxTemperature"]);f!=null&&g(e,["maxTemperature"],f);const h=p(t,["topP"]);h!=null&&g(e,["topP"],h);const y=p(t,["topK"]);y!=null&&g(e,["topK"],y);const v=p(t,["thinking"]);return v!=null&&g(e,["thinking"],v),e}function yb(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const o=p(t,["versionId"]);o!=null&&g(e,["version"],o);const s=p(t,["deployedModels"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>YY(h))),g(e,["endpoints"],f)}const a=p(t,["labels"]);a!=null&&g(e,["labels"],a);const l=p(t,["_self"]);l!=null&&g(e,["tunedModelInfo"],ZJ(l));const u=p(t,["defaultCheckpointId"]);u!=null&&g(e,["defaultCheckpointId"],u);const c=p(t,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>h)),g(e,["checkpoints"],f)}return e}function LJ(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],JY(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],XY(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],wY(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["thought"]);c!=null&&g(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function $J(t){const e={},n=p(t,["productImage"]);return n!=null&&g(e,["image"],qr(n)),e}function VJ(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&g(e,["parameters","baseSteps"],i);const o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const s=p(t,["seed"]);e!==void 0&&s!=null&&g(e,["parameters","seed"],s);const a=p(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&g(e,["parameters","safetySetting"],a);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const u=p(t,["addWatermark"]);e!==void 0&&u!=null&&g(e,["parameters","addWatermark"],u);const c=p(t,["outputMimeType"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","mimeType"],c);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","compressionQuality"],f);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","enhancePrompt"],h);const y=p(t,["labels"]);return e!==void 0&&y!=null&&g(e,["labels"],y),n}function FJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["source"]);i!=null&&BJ(i,n);const o=p(e,["config"]);return o!=null&&VJ(o,n),n}function UJ(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>fy(i))),g(e,["generatedImages"],r)}return e}function BJ(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["personImage"]);e!==void 0&&i!=null&&g(e,["instances[0]","personImage","image"],qr(i));const o=p(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>$J(a))),g(e,["instances[0]","productImages"],s)}return n}function GJ(t){const e={},n=p(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],qr(n));const r=p(t,["referenceId"]);r!=null&&g(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&g(e,["referenceType"],i);const o=p(t,["maskImageConfig"]);o!=null&&g(e,["maskImageConfig"],jJ(o));const s=p(t,["controlImageConfig"]);s!=null&&g(e,["controlImageConfig"],CY(s));const a=p(t,["styleImageConfig"]);a!=null&&g(e,["styleImageConfig"],a);const l=p(t,["subjectImageConfig"]);return l!=null&&g(e,["subjectImageConfig"],l),e}function KL(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function YL(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function zJ(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function qJ(t){const e={},n=p(t,["image"]);return n!=null&&g(e,["image"],qr(n)),e}function HJ(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&g(e,["parameters","mode"],r);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&g(e,["parameters","maxPredictions"],i);const o=p(t,["confidenceThreshold"]);e!==void 0&&o!=null&&g(e,["parameters","confidenceThreshold"],o);const s=p(t,["maskDilation"]);e!==void 0&&s!=null&&g(e,["parameters","maskDilation"],s);const a=p(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&g(e,["parameters","binaryColorThreshold"],a);const l=p(t,["labels"]);return e!==void 0&&l!=null&&g(e,["labels"],l),n}function WJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["source"]);i!=null&&YJ(i,n);const o=p(e,["config"]);return o!=null&&HJ(o,n),n}function KJ(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>xJ(i))),g(e,["generatedMasks"],r)}return e}function YJ(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],qr(i));const o=p(t,["scribbleImage"]);return e!==void 0&&o!=null&&g(e,["instances[0]","scribble"],qJ(o)),n}function JJ(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],QY(r)),e}function XJ(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),g(e,["functionDeclarations"],c)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],SJ(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],AJ(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function JL(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=p(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=p(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>ZY(h))),g(e,["functionDeclarations"],f)}const a=p(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=p(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function QJ(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function ZJ(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function eX(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function tX(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function nX(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","name"],We(t,r));const i=p(e,["config"]);return i!=null&&eX(i,n),n}function rX(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["config"]);return i!=null&&tX(i,n),n}function iX(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&g(e,["parameters","safetySetting"],i);const o=p(t,["personGeneration"]);e!==void 0&&o!=null&&g(e,["parameters","personGeneration"],o);const s=p(t,["includeRaiReason"]);e!==void 0&&s!=null&&g(e,["parameters","includeRaiReason"],s);const a=p(t,["outputMimeType"]);e!==void 0&&a!=null&&g(e,["parameters","outputOptions","mimeType"],a);const l=p(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&g(e,["parameters","outputOptions","compressionQuality"],l);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=p(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["numberOfImages"]);e!==void 0&&h!=null&&g(e,["parameters","sampleCount"],h);const y=p(t,["mode"]);return e!==void 0&&y!=null&&g(e,["parameters","mode"],y),n}function oX(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["image"]);i!=null&&g(n,["instances[0]","image"],qr(i));const o=p(e,["upscaleFactor"]);o!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=p(e,["config"]);return s!=null&&iX(s,n),n}function sX(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>fy(o))),g(e,["generatedImages"],i)}return e}function aX(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],rs(r));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function lX(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],rs(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function uX(t){const e={},n=p(t,["image"]);n!=null&&g(e,["_self"],qr(n));const r=p(t,["maskMode"]);return r!=null&&g(e,["maskMode"],r),e}function cX(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],hy(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function dX(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],qr(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function XL(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["encodedVideo"],rs(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["encoding"],i),e}function QL(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["bytesBase64Encoded"],rs(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fX(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function hX(t){const e={},n=p(t,["config"]);return n!=null&&fX(n,e),e}function pX(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function mX(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&pX(r,e),e}function gX(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function yX(t,e){const n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["customMetadata"],o)}const i=p(t,["chunkingConfig"]);return e!==void 0&&i!=null&&g(e,["chunkingConfig"],i),n}function vX(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],bX(s)),e}function xX(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["fileName"]);r!=null&&g(e,["fileName"],r);const i=p(t,["config"]);return i!=null&&yX(i,e),e}function bX(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function _X(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function wX(t){const e={},n=p(t,["config"]);return n!=null&&_X(n,e),e}function EX(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["fileSearchStores"],o)}return e}function ZL(t,e){const n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=p(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["customMetadata"],a)}const s=p(t,["chunkingConfig"]);return e!==void 0&&s!=null&&g(e,["chunkingConfig"],s),n}function TX(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["config"]);return r!=null&&ZL(r,e),e}function SX(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AX="Content-Type",IX="X-Server-Timeout",kX="User-Agent",vb="x-goog-api-client",CX="1.38.0",PX=`google-genai-sdk/${CX}`,NX="v1beta1",RX="v1beta";class OX{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const a=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!a?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:NX}else{if(!this.clientOptions.apiKey)throw new kd({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:RX,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===fb.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&MX(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await bC(i),new hb(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await bC(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return $r(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const a="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield Ne(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c,{stream:!0});try{const v=JSON.parse(f);if("error"in v){const b=JSON.parse(JSON.stringify(v.error)),x=b.status,w=b.code,_=`got status: ${x}. ${JSON.stringify(v)}`;if(w>=400&&w<600)throw new kd({message:_,status:w})}}catch(v){if(v.name==="ApiError")throw v}s+=f;let h=-1,y=0;for(;;){h=-1,y=0;for(const x of l){const w=s.indexOf(x);w!==-1&&(h===-1||w<h)&&(h=w,y=x.length)}if(h===-1)break;const v=s.substring(0,h);s=s.substring(h+y);const b=v.trim();if(b.startsWith(a)){const x=b.substring(a.length).trim();try{const w=new Response(x,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ne(new hb(w))}catch(w){throw new Error(`exception parsing stream chunk ${x}. ${w}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=PX+" "+this.clientOptions.userAgentExtra;return e[kX]=n,e[vb]=n,e[AX]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(IX,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l={file:i},u=this.getFileName(e),c=pe("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),a=String(s.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),f={};r!=null&&ZL(r,f);const h=await this.fetchUploadUrl(u,a,l,c,f,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var a;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function bC(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new kd({message:i,status:n}):new Error(i)}}function MX(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],c=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?a[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DX="mcp_used/unknown";let jX=!1;function e$(t){for(const e of t)if(LX(e)||typeof e=="object"&&"inputSchema"in e)return!0;return jX}function t$(t){var e;const n=(e=t[vb])!==null&&e!==void 0?e:"";t[vb]=(n+` ${DX}`).trimStart()}function LX(t){return t!==null&&typeof t=="object"&&t instanceof h1}function $X(t){return $r(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const s=yield Ne(n.listTools({cursor:i}));for(const a of s.tools)yield yield Ne(a),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class h1{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new h1(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const c of this.mcpClients)try{for(var a=!0,l=(n=void 0,Vr($X(c))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const f=i;s.push(f);const h=f.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(f){n={error:f}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),mW(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function VX(t,e,n){const r=new aW;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class FX{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=GX(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const c=new Promise(E=>{u=E}),f=e.callbacks,h=function(){u({})},y=this.apiClient,v={onopen:h,onmessage:E=>{VX(y,f.onmessage,E)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(E){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(E){}},b=this.webSocketFactory.create(l,BX(s),v);b.connect(),await c;const _={setup:{model:We(this.apiClient,e.model)}};return b.send(JSON.stringify(_)),new UX(b,this.apiClient)}}class UX{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=fY(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=dY(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ka.PLAY)}pause(){this.sendPlaybackControl(Ka.PAUSE)}stop(){this.sendPlaybackControl(Ka.STOP)}resetContext(){this.sendPlaybackControl(Ka.RESET_CONTEXT)}close(){this.conn.close()}}function BX(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function GX(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zX="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function qX(t,e,n){const r=new sW;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=mY(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class HX{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new FX(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&e$(e.config.tools)&&t$(f);const h=JX(f);if(this.apiClient.isVertexAI()){const k=this.apiClient.getProject(),N=this.apiClient.getLocation(),O=this.apiClient.getApiKey(),M=!!k&&!!N||!!O;this.apiClient.getCustomBaseUrl()&&!M?c=l:(c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c))}else{const k=this.apiClient.getApiKey();let N="BidiGenerateContent",O="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),N="BidiGenerateContentConstrained",O="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${N}?${O}=${k}`}let y=()=>{};const v=new Promise(k=>{y=k}),b=e.callbacks,x=function(){var k;(k=b==null?void 0:b.onopen)===null||k===void 0||k.call(b),y({})},w=this.apiClient,_={onopen:x,onmessage:k=>{qX(w,b.onmessage,k)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(k){}},E=this.webSocketFactory.create(c,YX(h),_);E.connect(),await v;let P=We(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&P.startsWith("publishers/")){const k=this.apiClient.getProject(),N=this.apiClient.getLocation();k&&N&&(P=`projects/${k}/locations/${N}/`+P)}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[vm.AUDIO]}:e.config.responseModalities=[vm.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const C=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],I=[];for(const k of C)if(this.isCallableTool(k)){const N=k;I.push(await N.tool())}else I.push(k);I.length>0&&(e.config.tools=I);const T={model:P,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=cY(this.apiClient,T):S=uY(this.apiClient,T),delete S.config,E.send(JSON.stringify(S)),new KX(E,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const WX={turnComplete:!0};class KX{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=mr(n.turns),e.isVertexAI()||(r=r.map(i=>dy(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(zX)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},WX),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:pY(e)}:n={realtimeInput:hY(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function YX(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function JX(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _C=10;function wC(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(fl(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function fl(t){return"callTool"in t&&typeof t.callTool=="function"}function XX(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>fl(i)))!==null&&r!==void 0?r:!1}function EC(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(fl(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function TC(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QX extends Zi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!XX(n)||wC(n.config))return await this.generateContentInternal(l);const u=EC(n);if(u.length>0){const b=u.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let c,f;const h=mr(l.contents),y=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:_C;let v=0;for(;v<y&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const b=c.candidates[0].content,x=[];for(const w of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(fl(w)){const E=await w.callTool(c.functionCalls);x.push(...E)}v++,f={role:"user",parts:x},l.contents=mr(l.contents),l.contents.push(b),l.contents.push(f),TC(l.config)&&(h.push(b),h.push(f))}return TC(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,s,a;if(this.maybeMoveToResponseJsonSchem(n),wC(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=EC(n);if(l.length>0){const f=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new fa(qi.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async l=>fl(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&e$(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),t$(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(fl(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:_C;let s=!1,a=0;const l=await this.initAfcToolsMap(e);return function(u,c,f){return $r(this,arguments,function*(){for(var h,y,v,b,x,w;a<o;){s&&(a++,s=!1);const S=yield Ne(u.processParamsMaybeAddMcpUsage(f)),C=yield Ne(u.generateContentStreamInternal(S)),I=[],T=[];try{for(var _=!0,E=(y=void 0,Vr(C)),P;P=yield Ne(E.next()),h=P.done,!h;_=!0){b=P.value,_=!1;const k=b;if(yield yield Ne(k),k.candidates&&(!((x=k.candidates[0])===null||x===void 0)&&x.content)){T.push(k.candidates[0].content);for(const N of(w=k.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(a<o&&N.functionCall){if(!N.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(N.functionCall.name)){const O=yield Ne(c.get(N.functionCall.name).callTool([N.functionCall]));I.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${N.functionCall.name}`)}}}}catch(k){y={error:k}}finally{try{!_&&!h&&(v=E.return)&&(yield Ne(v.call(E)))}finally{if(y)throw y.error}}if(I.length>0){s=!0;const k=new ic;k.candidates=[{content:{role:"user",parts:I}}],yield yield Ne(k);const N=[];N.push(...T),N.push({role:"user",parts:I});const O=mr(f.contents).concat(N);f.contents=O}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=yC(this.apiClient,e);return a=pe("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=xC(c),h=new ic;return Object.assign(h,f),h})}else{const u=gC(this.apiClient,e);return a=pe("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=vC(c),h=new ic;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=yC(this.apiClient,e);return a=pe("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(f){return $r(this,arguments,function*(){var h,y,v,b;try{for(var x=!0,w=Vr(f),_;_=yield Ne(w.next()),h=_.done,!h;x=!0){b=_.value,x=!1;const E=b,P=xC(yield Ne(E.json()));P.sdkHttpResponse={headers:E.headers};const S=new ic;Object.assign(S,P),yield yield Ne(S)}}catch(E){y={error:E}}finally{try{!x&&!h&&(v=w.return)&&(yield Ne(v.call(w)))}finally{if(y)throw y.error}}})})}else{const u=gC(this.apiClient,e);return a=pe("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(f){return $r(this,arguments,function*(){var h,y,v,b;try{for(var x=!0,w=Vr(f),_;_=yield Ne(w.next()),h=_.done,!h;x=!0){b=_.value,x=!1;const E=b,P=vC(yield Ne(E.json()));P.sdkHttpResponse={headers:E.headers};const S=new ic;Object.assign(S,P),yield yield Ne(S)}}catch(E){y={error:E}}finally{try{!x&&!h&&(v=w.return)&&(yield Ne(v.call(w)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=HY(this.apiClient,e);return a=pe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=KY(c),h=new Zk;return Object.assign(h,f),h})}else{const u=qY(this.apiClient,e);return a=pe("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=WY(c),h=new Zk;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=oJ(this.apiClient,e);return a=pe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=aJ(c),h=new eC;return Object.assign(h,f),h})}else{const u=iJ(this.apiClient,e);return a=pe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=sJ(c),h=new eC;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=UY(this.apiClient,e);return o=pe("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=BY(l),c=new YH;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=oX(this.apiClient,e);return o=pe("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=sX(l),c=new JH;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=FJ(this.apiClient,e);return o=pe("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=UJ(l),c=new XH;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=WJ(this.apiClient,e);return o=pe("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=KJ(l),c=new QH;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=TJ(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>yb(c))}else{const u=EJ(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>gb(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=OJ(this.apiClient,e);return a=pe("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=DJ(c),h=new tC;return Object.assign(h,f),h})}else{const u=RJ(this.apiClient,e);return a=pe("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=MJ(c),h=new tC;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=rX(this.apiClient,e);return a=pe("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>yb(c))}else{const u=nX(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>gb(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=LY(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=VY(c),h=new nC;return Object.assign(h,f),h})}else{const u=jY(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=$Y(c),h=new nC;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=OY(this.apiClient,e);return a=pe("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=DY(c),h=new rC;return Object.assign(h,f),h})}else{const u=RY(this.apiClient,e);return a=pe("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=MY(c),h=new rC;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=SY(this.apiClient,e);return o=pe("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=AY(l),c=new ZH;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=hJ(this.apiClient,e);return a=pe("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=dJ(c),h=new xm;return Object.assign(h,f),h})}else{const u=fJ(this.apiClient,e);return a=pe("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const f=cJ(c),h=new xm;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZX extends Zi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=GH(e);return a=pe("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else{const u=BH(e);return a=pe("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=DH(e);return o=pe("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eQ(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function tQ(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>cQ(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function nQ(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&g(n,["expireTime"],i);const o=p(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&g(n,["newSessionExpireTime"],o);const s=p(e,["uses"]);n!==void 0&&s!=null&&g(n,["uses"],s);const a=p(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&g(n,["bidiGenerateContentSetup"],uQ(t,a));const l=p(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&g(n,["fieldMask"],l),r}function rQ(t,e){const n={},r=p(e,["config"]);return r!=null&&g(n,["config"],nQ(t,r,n)),n}function iQ(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function oQ(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sQ(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function aQ(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function lQ(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=p(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],f1(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=p(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],tQ(xn(v)));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let C=yu(b);Array.isArray(C)&&(C=C.map(I=>fQ(gu(I)))),g(e,["setup","tools"],C)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],dQ(x));const w=p(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","inputAudioTranscription"],w);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const E=p(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&g(e,["setup","realtimeInputConfig"],E);const P=p(t,["contextWindowCompression"]);e!==void 0&&P!=null&&g(e,["setup","contextWindowCompression"],P);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&g(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function uQ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],We(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],lQ(i,n)),n}function cQ(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],iQ(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],oQ(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],eQ(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["thought"]);c!=null&&g(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function dQ(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function fQ(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),g(e,["functionDeclarations"],c)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],sQ(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],aQ(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hQ(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function pQ(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=hQ(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class mQ extends Zi{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=rQ(this.apiClient,e);o=pe("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=pQ(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gQ(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function yQ(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&gQ(r,e),e}function vQ(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function xQ(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function bQ(t){const e={},n=p(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=p(t,["config"]);return r!=null&&xQ(r,e),e}function _Q(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wQ extends Zi{constructor(e){super(),this.apiClient=e,this.list=async n=>new fa(qi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=vQ(e);return o=pe("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=yQ(e);i=pe("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=bQ(e);return o=pe("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=_Q(l),c=new eW;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EQ extends Zi{constructor(e,n=new wQ(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new fa(qi.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=hX(e);return o=pe("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=gX(e);return o=pe("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=mX(e);i=pe("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=wX(e);return o=pe("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=EX(l),c=new tW;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=TX(e);return o=pe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=SX(l),c=new nW;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=xX(e);return o=pe("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=vX(l),c=new a1;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let n$=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return n$=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const TQ=()=>n$();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xb(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const bb=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xr extends Error{}class On extends xr{constructor(e,n,r,i){super(`${On.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new py({message:r,cause:bb(n)});const o=n;return e===400?new i$(e,o,r,i):e===401?new o$(e,o,r,i):e===403?new s$(e,o,r,i):e===404?new a$(e,o,r,i):e===409?new l$(e,o,r,i):e===422?new u$(e,o,r,i):e===429?new c$(e,o,r,i):e>=500?new d$(e,o,r,i):new On(e,o,r,i)}}class _b extends On{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class py extends On{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class r$ extends py{constructor({message:e}={}){super({message:e??"Request timed out."})}}class i$ extends On{}class o$ extends On{}class s$ extends On{}class a$ extends On{}class l$ extends On{}class u$ extends On{}class c$ extends On{}class d$ extends On{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SQ=/^[a-z][a-z0-9+.-]*:/i,AQ=t=>SQ.test(t);let wb=t=>(wb=Array.isArray,wb(t));const IQ=wb;let kQ=IQ;const SC=kQ;function CQ(t){if(!t)return!0;for(const e in t)return!1;return!0}function PQ(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const NQ=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new xr(`${t} must be an integer`);if(e<0)throw new xr(`${t} must be a positive integer`);return e},RQ=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OQ=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ra="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MQ(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const DQ=()=>{var t,e,n,r,i;const o=MQ();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ra,"X-Stainless-OS":IC(Deno.build.os),"X-Stainless-Arch":AC(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ra,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ra,"X-Stainless-OS":IC((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":AC((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=jQ();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ra,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ra,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function jQ(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}const AC=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",IC=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Oh;const LQ=()=>Oh??(Oh=DQ());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $Q(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function f$(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function VQ(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return f$({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function h$(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function FQ(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UQ=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const p$=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ov(t,e,n){return p$(),new File(t,e??"unknown_file",n)}function BQ(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const GQ=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const m$=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",zQ=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&m$(t),qQ=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function HQ(t,e,n){if(p$(),t=await t,zQ(t))return t instanceof File?t:ov([await t.arrayBuffer()],t.name);if(qQ(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),ov(await Eb(i),e,n)}const r=await Eb(t);if(e||(e=BQ(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return ov(r,e,n)}async function Eb(t){var e,n,r,i,o;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(m$(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(GQ(t))try{for(var a=!0,l=Vr(t),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const c=i;s.push(...await Eb(c))}}catch(c){n={error:c}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${WQ(t)}`)}return s}function WQ(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class g${constructor(e){this._client=e}}g$._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function y$(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const kC=Object.freeze(Object.create(null)),KQ=(t=y$)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],s=n.reduce((c,f,h)=>{var y,v,b;/[?#]/.test(f)&&(i=!0);const x=r[h];let w=(i?encodeURIComponent:t)(""+x);return h!==r.length&&(x==null||typeof x=="object"&&x.toString===((b=Object.getPrototypeOf((v=Object.getPrototypeOf((y=x.hasOwnProperty)!==null&&y!==void 0?y:kC))!==null&&v!==void 0?v:kC))===null||b===void 0?void 0:b.toString))&&(w=x+"",o.push({start:c.length+f.length,length:w.length,error:`Value of type ${Object.prototype.toString.call(x).slice(8,-1)} is not a valid path parameter`})),c+f+(h===r.length?"":w)},""),a=s.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(a))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,f)=>c.start-f.start),o.length>0){let c=0;const f=o.reduce((h,y)=>{const v=" ".repeat(y.start-c),b="^".repeat(y.length);return c=y.start+y.length,h+v+b},"");throw new xr(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${s}
${f}`)}return s},Mh=KQ(y$);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class v$ extends g${create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=_m(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new xr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new xr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Mh`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Mh`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Mh`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:s=this._client.apiVersion}=o,a=_m(o,["api_version"]);return this._client.get(Mh`/${s}/interactions/${e}`,Object.assign(Object.assign({query:a},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}v$._key=Object.freeze(["interactions"]);class x$ extends v${}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YQ(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Dh;function p1(t){let e;return(Dh??(e=new globalThis.TextEncoder,Dh=e.encode.bind(e)))(t)}let jh;function CC(t){let e;return(jh??(e=new globalThis.TextDecoder,jh=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class my{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?p1(e):e;this.buffer=YQ([this.buffer,n]);const r=[];let i;for(;(i=JQ(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(CC(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=CC(this.buffer.subarray(0,o));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}my.NEWLINE_CHARS=new Set([`
`,"\r"]);my.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function JQ(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function XQ(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wm={off:0,error:200,warn:300,info:400,debug:500},PC=(t,e,n)=>{if(t){if(PQ(wm,t))return t;Sn(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(wm))}`)}};function Sc(){}function Lh(t,e,n){return!e||wm[t]>wm[n]?Sc:e[t].bind(e)}const QQ={error:Sc,warn:Sc,info:Sc,debug:Sc};let NC=new WeakMap;function Sn(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return QQ;const i=NC.get(n);if(i&&i[0]===r)return i[1];const o={error:Lh("error",n,r),warn:Lh("warn",n,r),info:Lh("info",n,r),debug:Lh("debug",n,r)};return NC.set(n,[r,o]),o}const xs=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ya{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?Sn(r):console;function s(){return $r(this,arguments,function*(){var l,u,c,f;if(i)throw new xr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,v=Vr(ZQ(e,n)),b;b=yield Ne(v.next()),l=b.done,!l;y=!0){f=b.value,y=!1;const x=f;if(!h)if(x.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield Ne(JSON.parse(x.data))}catch(w){throw o.error("Could not parse message into JSON:",x.data),o.error("From chunk:",x.raw),w}}}catch(x){u={error:x}}finally{try{!y&&!l&&(c=v.return)&&(yield Ne(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(x){if(xb(x))return yield Ne(void 0);throw x}finally{h||n.abort()}})}return new Ya(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return $r(this,arguments,function*(){var l,u,c,f;const h=new my,y=h$(e);try{for(var v=!0,b=Vr(y),x;x=yield Ne(b.next()),l=x.done,!l;v=!0){f=x.value,v=!1;const w=f;for(const _ of h.decode(w))yield yield Ne(_)}}catch(w){u={error:w}}finally{try{!v&&!l&&(c=b.return)&&(yield Ne(c.call(b)))}finally{if(u)throw u.error}}for(const w of h.flush())yield yield Ne(w)})}function s(){return $r(this,arguments,function*(){var l,u,c,f;if(i)throw new xr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,v=Vr(o()),b;b=yield Ne(v.next()),l=b.done,!l;y=!0){f=b.value,y=!1;const x=f;h||x&&(yield yield Ne(JSON.parse(x)))}}catch(x){u={error:x}}finally{try{!y&&!l&&(c=v.return)&&(yield Ne(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(x){if(xb(x))return yield Ne(void 0);throw x}finally{h||n.abort()}})}return new Ya(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();e.push(s),n.push(s)}return o.shift()}});return[new Ya(()=>i(e),this.controller,this.client),new Ya(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return f$({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const s=p1(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function ZQ(t,e){return $r(this,arguments,function*(){var r,i,o,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new xr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new xr("Attempted to iterate over a response with no body");const a=new tZ,l=new my,u=h$(t.body);try{for(var c=!0,f=Vr(eZ(u)),h;h=yield Ne(f.next()),r=h.done,!r;c=!0){s=h.value,c=!1;const y=s;for(const v of l.decode(y)){const b=a.decode(v);b&&(yield yield Ne(b))}}}catch(y){i={error:y}}finally{try{!c&&!r&&(o=f.return)&&(yield Ne(o.call(f)))}finally{if(i)throw i.error}}for(const y of l.flush()){const v=a.decode(y);v&&(yield yield Ne(v))}})}function eZ(t){return $r(this,arguments,function*(){var n,r,i,o;let s=new Uint8Array;try{for(var a=!0,l=Vr(t),u;u=yield Ne(l.next()),n=u.done,!n;a=!0){o=u.value,a=!1;const c=o;if(c==null)continue;const f=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?p1(c):c;let h=new Uint8Array(s.length+f.length);h.set(s),h.set(f,s.length),s=h;let y;for(;(y=XQ(s))!==-1;)yield yield Ne(s.slice(0,y)),s=s.slice(y)}}catch(c){r={error:c}}finally{try{!a&&!n&&(i=l.return)&&(yield Ne(i.call(l)))}finally{if(r)throw r.error}}s.length>0&&(yield yield Ne(s))})}class tZ{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=nZ(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function nZ(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function rZ(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{var a;if(e.options.stream)return Sn(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Ya.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(a=l==null?void 0:l.split(";")[0])===null||a===void 0?void 0:a.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return Sn(t).debug(`[${r}] response parsed`,xs({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-o})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m1 extends Promise{constructor(e,n,r=rZ){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new m1(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const b$=Symbol("brand.privateNullableHeaders");function*iZ(t){if(!t)return;if(b$ in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():SC(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=SC(r[1])?r[1]:[r[1]];let s=!1;for(const a of o)a!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,a])}}const oc=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,s]of iZ(r)){const a=o.toLowerCase();i.has(a)||(e.delete(o),i.add(a)),s===null?(e.delete(o),n.add(a)):(e.append(o,s),n.delete(a))}}return{[b$]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sv=t=>{var e,n,r,i,o,s;if(typeof globalThis.process<"u")return(r=(n=(e=CH)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _$;class gy{constructor(e){var n,r,i,o,s,a,l,{baseURL:u=sv("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=sv("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,h=_m(e,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:c,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(r=y.timeout)!==null&&r!==void 0?r:gy.DEFAULT_TIMEOUT,this.logger=(i=y.logger)!==null&&i!==void 0?i:console;const v="warn";this.logLevel=v,this.logLevel=(s=(o=PC(y.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:PC(sv("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:v,this.fetchOptions=y.fetchOptions,this.maxRetries=(a=y.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(l=y.fetch)!==null&&l!==void 0?l:$Q(),this.encoder=UQ,this._options=y,this.apiKey=c,this.apiVersion=f,this.clientAdapter=y.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=oc([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return oc([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return oc([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new xr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ra}`}defaultIdempotencyKey(){return`stainless-node-retry-${TQ()}`}makeStatusError(e,n,r,i){return On.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=AQ(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return CQ(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new m1(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,s;const a=await e,l=(i=a.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(a);const{req:u,url:c,timeout:f}=await this.buildRequest(a,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:a});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(Sn(this).debug(`[${h}] sending request`,xs({retryOfRequestLogID:r,method:a.method,url:c,options:a,headers:u.headers})),!((o=a.signal)===null||o===void 0)&&o.aborted)throw new _b;const b=new AbortController,x=await this.fetchWithTimeout(c,u,f,b).catch(bb),w=Date.now();if(x instanceof globalThis.Error){const E=`retrying, ${n} attempts remaining`;if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new _b;const P=xb(x)||/timed? ?out/i.test(String(x)+("cause"in x?String(x.cause):""));if(n)return Sn(this).info(`[${h}] connection ${P?"timed out":"failed"} - ${E}`),Sn(this).debug(`[${h}] connection ${P?"timed out":"failed"} (${E})`,xs({retryOfRequestLogID:r,url:c,durationMs:w-v,message:x.message})),this.retryRequest(a,n,r??h);throw Sn(this).info(`[${h}] connection ${P?"timed out":"failed"} - error; no more retries left`),Sn(this).debug(`[${h}] connection ${P?"timed out":"failed"} (error; no more retries left)`,xs({retryOfRequestLogID:r,url:c,durationMs:w-v,message:x.message})),P?new r$:new py({cause:x})}const _=`[${h}${y}] ${u.method} ${c} ${x.ok?"succeeded":"failed"} with status ${x.status} in ${w-v}ms`;if(!x.ok){const E=await this.shouldRetry(x);if(n&&E){const k=`retrying, ${n} attempts remaining`;return await FQ(x.body),Sn(this).info(`${_} - ${k}`),Sn(this).debug(`[${h}] response error (${k})`,xs({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,durationMs:w-v})),this.retryRequest(a,n,r??h,x.headers)}const P=E?"error; no more retries left":"error; not retryable";Sn(this).info(`${_} - ${P}`);const S=await x.text().catch(k=>bb(k).message),C=RQ(S),I=C?void 0:S;throw Sn(this).debug(`[${h}] response error (${P})`,xs({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,message:I,durationMs:Date.now()-v})),this.makeStatusError(x.status,C,I,x.headers)}return Sn(this).info(_),Sn(this).debug(`[${h}] response start`,xs({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,durationMs:w-v})),{response:x,options:a,controller:b,requestLogID:h,retryOfRequestLogID:r,startTime:v}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:s,method:a}=o,l=_m(o,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);a&&(f.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let s;const a=i==null?void 0:i.get("retry-after-ms");if(a){const u=parseFloat(a);Number.isNaN(u)||(s=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!s){const u=parseFloat(l);Number.isNaN(u)?s=Date.parse(l)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,u)}return await OQ(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,s=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const s=Object.assign({},e),{method:a,path:l,query:u,defaultBaseURL:c}=s,f=this.buildURL(l,u,c);"timeout"in s&&NQ("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:y}=this.buildBody({options:s}),v=await this.buildHeaders({options:e,method:a,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:v},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=s.fetchOptions)!==null&&o!==void 0?o:{}),url:f,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let a=oc([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),LQ()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=oc([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:VQ(e)}:this.encoder({body:e,headers:r})}}gy.DEFAULT_TIMEOUT=6e4;class Qt extends gy{constructor(){super(...arguments),this.interactions=new x$(this)}}_$=Qt;Qt.GeminiNextGenAPIClient=_$;Qt.GeminiNextGenAPIClientError=xr;Qt.APIError=On;Qt.APIConnectionError=py;Qt.APIConnectionTimeoutError=r$;Qt.APIUserAbortError=_b;Qt.NotFoundError=a$;Qt.ConflictError=l$;Qt.RateLimitError=c$;Qt.BadRequestError=i$;Qt.AuthenticationError=o$;Qt.InternalServerError=d$;Qt.PermissionDeniedError=s$;Qt.UnprocessableEntityError=u$;Qt.toFile=HQ;Qt.Interactions=x$;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oZ(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function sZ(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function aZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function lZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function uZ(t,e,n){const r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&g(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=p(t,["epochCount"]);e!==void 0&&o!=null&&g(e,["tuningTask","hyperparameters","epochCount"],o);const s=p(t,["learningRateMultiplier"]);if(s!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=p(t,["batchSize"]);e!==void 0&&a!=null&&g(e,["tuningTask","hyperparameters","batchSize"],a);const l=p(t,["learningRate"]);if(e!==void 0&&l!=null&&g(e,["tuningTask","hyperparameters","learningRate"],l),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function cZ(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const y=p(t,["validationDataset"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec"],RC(y))}else if(i==="PREFERENCE_TUNING"){const y=p(t,["validationDataset"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec"],RC(y))}const o=p(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&g(e,["tunedModelDisplayName"],o);const s=p(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);let a=p(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const y=p(t,["epochCount"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(a==="PREFERENCE_TUNING"){const y=p(t,["epochCount"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let l=p(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const y=p(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(l==="PREFERENCE_TUNING"){const y=p(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let u=p(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=p(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(u==="PREFERENCE_TUNING"){const y=p(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=p(t,["adapterSize"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(c==="PREFERENCE_TUNING"){const y=p(t,["adapterSize"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["beta"]);return e!==void 0&&h!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function dZ(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&wZ(o);const s=p(t,["config"]);return s!=null&&uZ(s,n),n}function fZ(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&EZ(o,n,e);const s=p(t,["config"]);return s!=null&&cZ(s,n,e),n}function hZ(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function pZ(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function mZ(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const s=p(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),r}function gZ(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const s=p(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),r}function yZ(t,e){const n={},r=p(t,["config"]);return r!=null&&mZ(r,n),n}function vZ(t,e){const n={},r=p(t,["config"]);return r!=null&&gZ(r,n),n}function xZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=p(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>w$(a))),g(n,["tuningJobs"],s)}return n}function bZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=p(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>Tb(a))),g(n,["tuningJobs"],s)}return n}function _Z(t,e){const n={},r=p(t,["name"]);r!=null&&g(n,["model"],r);const i=p(t,["name"]);return i!=null&&g(n,["endpoint"],i),n}function wZ(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=p(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(n,["examples","examples"],i)}return n}function EZ(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=p(t,["gcsUri"]);e!==void 0&&s!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=p(t,["gcsUri"]);e!==void 0&&s!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=p(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=p(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=p(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function w$(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const o=p(t,["state"]);o!=null&&g(n,["state"],$L(o));const s=p(t,["createTime"]);s!=null&&g(n,["createTime"],s);const a=p(t,["tuningTask","startTime"]);a!=null&&g(n,["startTime"],a);const l=p(t,["tuningTask","completeTime"]);l!=null&&g(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const c=p(t,["description"]);c!=null&&g(n,["description"],c);const f=p(t,["baseModel"]);f!=null&&g(n,["baseModel"],f);const h=p(t,["_self"]);return h!=null&&g(n,["tunedModel"],_Z(h)),n}function Tb(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const o=p(t,["state"]);o!=null&&g(n,["state"],$L(o));const s=p(t,["createTime"]);s!=null&&g(n,["createTime"],s);const a=p(t,["startTime"]);a!=null&&g(n,["startTime"],a);const l=p(t,["endTime"]);l!=null&&g(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const c=p(t,["error"]);c!=null&&g(n,["error"],c);const f=p(t,["description"]);f!=null&&g(n,["description"],f);const h=p(t,["baseModel"]);h!=null&&g(n,["baseModel"],h);const y=p(t,["tunedModel"]);y!=null&&g(n,["tunedModel"],y);const v=p(t,["preTunedModel"]);v!=null&&g(n,["preTunedModel"],v);const b=p(t,["supervisedTuningSpec"]);b!=null&&g(n,["supervisedTuningSpec"],b);const x=p(t,["preferenceOptimizationSpec"]);x!=null&&g(n,["preferenceOptimizationSpec"],x);const w=p(t,["tuningDataStats"]);w!=null&&g(n,["tuningDataStats"],w);const _=p(t,["encryptionSpec"]);_!=null&&g(n,["encryptionSpec"],_);const E=p(t,["partnerModelTuningSpec"]);E!=null&&g(n,["partnerModelTuningSpec"],E);const P=p(t,["customBaseModel"]);P!=null&&g(n,["customBaseModel"],P);const S=p(t,["experiment"]);S!=null&&g(n,["experiment"],S);const C=p(t,["labels"]);C!=null&&g(n,["labels"],C);const I=p(t,["outputUri"]);I!=null&&g(n,["outputUri"],I);const T=p(t,["pipelineJob"]);T!=null&&g(n,["pipelineJob"],T);const k=p(t,["serviceAccount"]);k!=null&&g(n,["serviceAccount"],k);const N=p(t,["tunedModelDisplayName"]);N!=null&&g(n,["tunedModelDisplayName"],N);const O=p(t,["veoTuningSpec"]);return O!=null&&g(n,["veoTuningSpec"],O),n}function TZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const o=p(t,["metadata"]);o!=null&&g(n,["metadata"],o);const s=p(t,["done"]);s!=null&&g(n,["done"],s);const a=p(t,["error"]);return a!=null&&g(n,["error"],a),n}function RC(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return i!=null&&g(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SZ extends Zi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new fa(qi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:db.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=pZ(e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>Tb(c))}else{const u=hZ(e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>w$(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=vZ(e);return a=pe("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=bZ(c),h=new iC;return Object.assign(h,f),h})}else{const u=yZ(e);return a=pe("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=xZ(c),h=new iC;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=sZ(e);return a=pe("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=lZ(c),h=new oC;return Object.assign(h,f),h})}else{const u=oZ(e);return a=pe("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=aZ(c),h=new oC;return Object.assign(h,f),h})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=fZ(e,e);return o=pe("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Tb(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=dZ(e);return o=pe("tunedModels",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>TZ(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AZ{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const IZ=1024*1024*8,kZ=3,CZ=1e3,PZ=2,Em="x-goog-upload-status";async function NZ(t,e,n){var r;const i=await E$(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Em])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function RZ(t,e,n){var r;const i=await E$(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Em])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=RL(o),a=new l1;return Object.assign(a,s),a}async function E$(t,e,n){var r,i;let o=0,s=0,a=new hb(new Response),l="upload";for(o=t.size;s<o;){const u=Math.min(IZ,o-s),c=t.slice(s,s+u);s+u>=o&&(l+=", finalize");let f=0,h=CZ;for(;f<kZ&&(a=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[Em]));)f++,await MZ(h),h=h*PZ;if(s+=u,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[Em])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function OZ(t){return{size:t.size,type:t.type}}function MZ(t){return new Promise(e=>setTimeout(e,t))}class DZ{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await NZ(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await RZ(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await OZ(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jZ{create(e,n,r){return new LZ(e,n,r)}}class LZ{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OC="x-goog-api-key";class $Z{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(OC)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(OC,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VZ="gl-node/";class jf{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Qt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=OH(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new $Z(this.apiKey);this.apiClient=new OX({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:VZ+"web",uploader:new DZ,downloader:new AZ}),this.models=new QX(this.apiClient),this.live=new HX(this.apiClient,i,new jZ),this.batches=new lK(this.apiClient),this.chats=new GK(this.models,this.apiClient),this.caches=new FK(this.apiClient),this.files=new ZK(this.apiClient),this.operations=new ZX(this.apiClient),this.authTokens=new mQ(this.apiClient),this.tunings=new SZ(this.apiClient),this.fileSearchStores=new EQ(this.apiClient)}}const MC=["Casa","Mobilidade","Alimentos","Lazer","Pets","Outros"],yy="nexo_user_api_key",xu=()=>{const t=localStorage.getItem(yy);return t||null},DC=t=>{localStorage.setItem(yy,t)},FZ=()=>{localStorage.removeItem(yy)},jC=()=>!!localStorage.getItem(yy),UZ=async t=>{var i;const e=xu();if(!e)return[];const n=new jf({apiKey:e}),r=`
    Voc  um assistente de compras inteligente.
    O usurio vai pedir uma receita, evento ou lista genrica.
    Gere uma lista de compras JSON com ingredientes/itens.
    
    CATEGORIAS PERMITIDAS: 'Hortifruti', 'Carnes', 'Laticnios', 'Mercearia', 'Bebidas', 'Limpeza', 'Higiene', 'Padaria', 'Outros'.

    RESPONDA APENAS JSON VLIDO neste formato:
    [
      { "name": "Nome do item", "quantity": 1, "category": "Categoria" }
    ]
  `;try{const s=((i=(await n.models.generateContent({model:"gemini-3-flash-preview",contents:`Gere a lista para: ${t}`,config:{systemInstruction:r,responseMimeType:"application/json"}})).text)==null?void 0:i.trim())||"[]";return JSON.parse(s)}catch(o){return console.error("Erro ao gerar lista:",o),[]}},BZ=async t=>{var i;const e=xu();if(!e)return"Outros";const n=new jf({apiKey:e}),r=`Classifique "${t}" em: ${MC.join(", ")}. Responda S a categoria.`;try{const s=((i=(await n.models.generateContent({model:"gemini-3-flash-preview",contents:r})).text)==null?void 0:i.trim())||"Outros";return MC.includes(s)?s:"Outros"}catch{return"Outros"}},GZ=async t=>{var s,a,l;const e=xu();if(!e)return{text:"Configure sua API Key nas preferncias para receber recomendaes de investimentos.",sources:[]};const n=new jf({apiKey:e}),r=t.map(u=>`${u.name} (${u.type}): R$ ${u.amount}`).join(", "),o=`
    Voc  um consultor de investimentos snior especialista no mercado brasileiro.
    Carteira Atual: R$ ${t.reduce((u,c)=>u+c.amount,0)} (${r||"Vazia"}).

    TAREFA:
    Encontre oportunidades REAIS e ATUAIS para diversificao.
    
    FORMATO OBRIGATRIO (Siga estritamente):
    
    ###  Baixo Risco
    1. **[Nome]** - [Taxa/Preo] - [Motivo curto]
    2. **[Nome]** - [Taxa/Preo] - [Motivo curto]
    3. **[Nome]** - [Taxa/Preo] - [Motivo curto]

    ###  Mdio Risco
    (3 opes no mesmo formato)

    ###  Alto Risco
    (3 opes no mesmo formato)

    ---SECTION-BREAK---

    ###  Anlise Tcnica
    (Sua anlise detalhada aqui sobre cenrio macro, inflao e porqus)
  `;try{const u=await n.models.generateContent({model:"gemini-3-flash-preview",contents:o,config:{tools:[{googleSearch:{}}]}}),c=[],f=(l=(a=(s=u.candidates)==null?void 0:s[0])==null?void 0:a.groundingMetadata)==null?void 0:l.groundingChunks;f&&f.forEach(y=>{y.web&&c.push({title:y.web.title||"Fonte Web",uri:y.web.uri||"#"})});const h=c.filter((y,v,b)=>b.findIndex(x=>x.uri===y.uri)===v);return{text:u.text||"No foi possvel gerar recomendaes no momento.",sources:h}}catch(u){console.warn("Google Search Grounding failed, retrying without search...",u);try{return{text:((await n.models.generateContent({model:"gemini-3-flash-preview",contents:o+`

(Nota: A pesquisa em tempo real falhou. Use seu conhecimento geral.)`})).text||"Sem resposta.")+`

 *Nota: O acesso  pesquisa em tempo real falhou. As taxas mencionadas podem ser estimativas baseadas no conhecimento geral do modelo.*`,sources:[]}}catch(c){return console.error("Investment Advice Error (Fallback):",c),{text:`Erro ao consultar IA: ${c.message||"Erro desconhecido"}. Verifique sua chave API ou tente novamente mais tarde.`,sources:[]}}}},zZ=async(t,e,n)=>{var l;const r=xu();if(!r)return null;const i=new jf({apiKey:r}),o=new Map;t.forEach(u=>{o.set(u.type,(o.get(u.type)||0)+u.amount)});const s=Array.from(o.entries()).map(([u,c])=>`${u}: R$ ${c.toFixed(2)}`).join(", "),a=`
      Atue como um Gestor de Private Banking. O cliente tem ${n} anos e perfil de risco: ${e.toUpperCase()}.
      
      Carteira Atual Agregada: ${s||"R$ 0,00 (Vazia)"}

      Sua tarefa  analisar a alocao de ativos e sugerir o rebalanceamento ideal baseado nas melhores prticas de Wealth Management (como Bridgewater/Arta) adaptado ao Brasil.
      
      RETORNE APENAS JSON VLIDO. NO USE MARKDOWN. Siga este esquema:
      {
        "analysisText": "Pargrafo curto (max 300 chars) com sua viso macro sobre a carteira do cliente.",
        "currentAllocation": [ {"name": "Categoria", "value": %_atual (0-100)} ],
        "suggestedAllocation": [ {"name": "Categoria", "value": %_ideal (0-100)} ],
        "actionItems": [
           {"title": "Ao Ttica", "type": "buy" | "sell" | "hold", "description": "Explicao curta"}
        ]
      }
      
      Regras:
      1. 'suggestedAllocation' deve somar 100.
      2. Categorias sugeridas podem ser: 'Renda Fixa Ps', 'Renda Fixa Pr/IPCA', 'Aes Brasil', 'Aes Global', 'FIIs', 'Cripto/Alternativos', 'Reserva'.
      3. Se a carteira estiver vazia, sugira a alocao ideal do zero.
    `;try{const c=((l=(await i.models.generateContent({model:"gemini-3-flash-preview",contents:a,config:{responseMimeType:"application/json"}})).text)==null?void 0:l.trim())||"{}";return JSON.parse(c)}catch(u){return console.error("Wealth Analysis Error:",u),null}};async function*qZ(t,e,n){const r=xu();if(!r){yield"Por favor, configure sua API Key nas preferncias do menu.";return}const i=new jf({apiKey:r}),o=n.transactions.filter(_=>_.type==="income").reduce((_,E)=>_+E.amount,0),s=n.transactions.filter(_=>_.type==="expense").reduce((_,E)=>_+E.amount,0),a=n.investments.reduce((_,E)=>_+E.amount,0),l=n.debts.reduce((_,E)=>_+E.currentAmount,0),u=n.transactions.sort((_,E)=>new Date(E.date).getTime()-new Date(_.date).getTime()).slice(0,30).map(_=>`- ${_.date}: ${_.description} (${_.type}) R$ ${_.amount} [${_.category}] Status: ${_.status}`).join(`
`),c=n.investments.map(_=>`- ${_.name} (${_.type}): R$ ${_.amount} (Meta: R$ ${_.targetAmount})`).join(`
`),f=n.debts.map(_=>`- ${_.creditor}: R$ ${_.currentAmount} (Status: ${_.status}, Vence: ${_.dueDate})`).join(`
`);let h="Neutro";l>a*2?h="Endividado (Foco em quitao)":a>s*6?h="Investidor (Foco em otimizao)":o<s&&(h="Dficit (Foco em corte de gastos)");const y=`
    RELATRIO FINANCEIRO DO USURIO (Contexto Interno):
    
    1. PERFIL IDENTIFICADO: ${h}
    2. RESUMO:
       - Renda Total: R$ ${o.toFixed(2)}
       - Despesas Totais: R$ ${s.toFixed(2)}
       - Saldo: R$ ${(o-s).toFixed(2)}
       - Total Investido: R$ ${a.toFixed(2)}
       - Dvidas Ativas: R$ ${l.toFixed(2)}
    3. LTIMAS TRANSAES:
    ${u}
    4. INVESTIMENTOS:
    ${c}
    5. DVIDAS:
    ${f}
  `,v=`
    Voc  o NEXO AI, um assistente financeiro pessoal de elite.
    OBJETIVO: Ajudar o usurio a gerenciar suas finanas com base no perfil identificado: ${h}.
    CONTEXTO: ${y}
    DIRETRIZES:
    - Responda de forma concisa e amigvel.
    - Se o usurio perguntar sobre o saldo, gastos especficos ou investimentos, consulte o relatrio acima.
    - Seja proativo: se vir uma dvida vencendo ou gasto alto, pode alertar sutilmente.
    - Use Markdown para formatar valores e listas.
  `,b=i.chats.create({model:"gemini-3-flash-preview",config:{systemInstruction:v}}),w=`
    [Histrico Recente]:
    ${e.slice(-6).map(_=>`${_.role==="user"?"Usurio":"Modelo"}: ${_.content}`).join(`
`)}
    
    [Nova Mensagem]: ${t}
  `;try{const _=await b.sendMessageStream({message:w});for await(const E of _)E.text&&(yield E.text)}catch(_){console.error(_),yield"Erro de conexo com o crebro digital. Verifique sua Chave de API."}}const HZ=({onGuestLogin:t})=>{const[e,n]=G.useState(!1),[r,i]=G.useState(""),[o,s]=G.useState(""),[a,l]=G.useState(""),[u,c]=G.useState(""),[f,h]=G.useState(!1),[y,v]=G.useState(!1),[b,x]=G.useState(!1),w="028.268.001-24",_="Alexandre Magno S. Linhares";G.useEffect(()=>{const T=Wa.app.options.apiKey;(!T||T==="SUA_API_KEY_AQUI"||T.includes("SUA_API_KEY"))&&v(!0)},[]);const E=T=>{console.error(T);let k="Erro ao autenticar. Verifique suas credenciais.";T.code==="auth/email-already-in-use"&&(k="Este e-mail j est em uso."),T.code==="auth/invalid-email"&&(k="E-mail invlido."),T.code==="auth/weak-password"&&(k="A senha deve ter pelo menos 6 caracteres."),(T.code==="auth/user-not-found"||T.code==="auth/wrong-password")&&(k="E-mail ou senha incorretos."),T.code==="auth/invalid-credential"&&(k="Credenciais invlidas."),T.code==="auth/invalid-api-key"&&(k="Chave de API invlida.",v(!0)),T.code==="auth/unauthorized-domain"?(k="Domnio no autorizado pelo Firebase.",c(window.location.hostname)):c(""),l(k)},P=async T=>{T.preventDefault(),l(""),c(""),h(!0);try{e?await q7(Wa,r,o):await H7(Wa,r,o)}catch(k){E(k)}finally{h(!1)}},S=async()=>{l(""),c(""),h(!0);const T=new xi;try{await g9(Wa,T)}catch(k){E(k)}finally{h(!1)}},C=()=>{navigator.clipboard.writeText(u),alert("Domnio copiado!")},I=()=>{navigator.clipboard.writeText(w),x(!0),setTimeout(()=>x(!1),2e3)};return y?d.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden border border-slate-700 animate-scale-in flex flex-col md:flex-row",children:[d.jsxs("div",{className:"bg-indigo-600 p-8 text-white md:w-1/3 flex flex-col items-center justify-center text-center",children:[d.jsx(i6,{className:"w-16 h-16 mb-4 opacity-80"}),d.jsx("h2",{className:"text-xl font-bold",children:"Configurao Necessria"}),d.jsx("p",{className:"text-indigo-100 text-sm mt-2",children:"Para usar o modo online, voc precisa conectar seu Firebase."})]}),d.jsxs("div",{className:"p-8 md:w-2/3",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-4",children:"Siga estes passos:"}),d.jsxs("div",{className:"space-y-4 text-sm text-slate-600 dark:text-slate-300",children:[d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-2 rounded h-fit font-bold",children:"1"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:"Crie o Banco de Dados"}),d.jsxs("p",{children:["No Console do Firebase, v em ",d.jsx("strong",{children:"Firestore Database"}),', clique em "Criar banco de dados", escolha a regio (nam5) e clique em "Iniciar no modo de produo".']})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-2 rounded h-fit font-bold",children:"2"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:"Ative o Login"}),d.jsxs("p",{children:["V em ",d.jsx("strong",{children:"Authentication"}),' > Sign-in method e ative "E-mail/senha".']})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-2 rounded h-fit font-bold",children:"3"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:"Copie as Chaves"}),d.jsxs("p",{children:['V nas Configuraes do Projeto (), role at "Seus aplicativos" e copie o objeto ',d.jsx("code",{children:"firebaseConfig"}),"."]})]})]}),d.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-3 rounded-lg text-xs",children:[d.jsxs("p",{className:"font-bold text-amber-700 dark:text-amber-400 flex items-center gap-1",children:[d.jsx(pd,{className:"w-3 h-3"})," Ao Necessria no Cdigo"]}),d.jsxs("p",{className:"mt-1",children:["Abra o arquivo ",d.jsx("code",{children:"services/firebase.ts"})," e substitua ",d.jsx("code",{children:'"SUA_API_KEY_AQUI"'})," pelos dados reais que voc copiou."]})]})]}),d.jsxs("button",{onClick:t,className:"w-full mt-6 py-3 bg-slate-200 hover:bg-slate-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-xl font-bold transition-colors flex items-center justify-center gap-2",children:[d.jsx(RA,{className:"w-4 h-4"}),"Pular e Usar Modo Offline (Convidado)"]})]})]})}):d.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-900 flex font-sans",children:[d.jsxs("div",{className:"w-full md:w-[45%] lg:w-[40%] flex flex-col justify-center p-8 md:p-12 lg:p-16 relative overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-10",children:[d.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg shadow-lg shadow-indigo-500/30",children:d.jsx(Qw,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{className:"leading-tight",children:[d.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white tracking-tight",children:"NEXO"}),d.jsx("p",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-widest",children:"Financial Hub"})]})]}),d.jsxs("div",{className:"max-w-sm w-full mx-auto",children:[d.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:e?"Criar Conta":"Acesse sua Conta"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:e?"Comece a controlar suas finanas hoje.":"Bem-vindo de volta! Por favor, insira seus dados."}),a&&d.jsxs("div",{className:"mb-6 p-4 bg-rose-50 dark:bg-rose-900/20 border-l-4 border-rose-500 rounded-r-lg flex flex-col gap-1 animate-fade-in",children:[d.jsxs("div",{className:"flex items-center gap-2 text-rose-700 dark:text-rose-400 font-semibold text-sm",children:[d.jsx(Rx,{className:"w-4 h-4"}),d.jsx("span",{children:a})]}),u&&d.jsxs("div",{className:"mt-2 pl-6",children:[d.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"Domnio no autorizado:"}),d.jsx("code",{className:"text-xs bg-white px-1 py-0.5 rounded border border-rose-200 block mb-2",children:u}),d.jsx("button",{onClick:C,className:"text-xs underline text-rose-600",children:"Copiar Domnio"})]})]}),d.jsxs("form",{onSubmit:P,className:"space-y-5",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-1.5",children:"E-mail"}),d.jsx("input",{type:"email",required:!0,value:r,onChange:T=>i(T.target.value),className:"w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-800 dark:text-white outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all placeholder:text-slate-400",placeholder:"nome@exemplo.com"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-1.5",children:"Senha"}),d.jsx("input",{type:"password",required:!0,minLength:6,value:o,onChange:T=>s(T.target.value),className:"w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-800 dark:text-white outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all placeholder:text-slate-400",placeholder:""}),!e&&d.jsx("div",{className:"flex justify-end mt-1",children:d.jsx("button",{type:"button",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-700 dark:text-indigo-400",children:"Esqueceu a senha?"})})]}),d.jsx("button",{type:"submit",disabled:f,className:"w-full py-3.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-bold shadow-lg shadow-indigo-500/20 transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed mt-2",children:f?d.jsx(Wg,{className:"w-5 h-5 animate-spin"}):e?"Cadastrar":"Entrar"})]}),d.jsxs("div",{className:"relative my-8",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-700"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-4 bg-white dark:bg-slate-900 text-slate-400 font-medium",children:"ou continue com"})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{type:"button",onClick:S,disabled:f,className:"flex items-center justify-center gap-2 px-4 py-2.5 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors font-medium text-slate-700 dark:text-slate-300 text-sm",children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",color:"#4285F4"}),d.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",color:"#34A853"}),d.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",color:"#FBBC05"}),d.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",color:"#EA4335"})]}),"Google"]}),d.jsxs("button",{type:"button",onClick:t,className:"flex items-center justify-center gap-2 px-4 py-2.5 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors font-medium text-slate-700 dark:text-slate-300 text-sm",children:[d.jsx(RA,{className:"w-5 h-5 text-slate-500"}),"Convidado"]})]}),d.jsx("div",{className:"mt-8 text-center",children:d.jsxs("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:[e?"J  cliente?":"Ainda no tem conta?",d.jsx("button",{onClick:()=>n(!e),className:"ml-1 text-indigo-600 dark:text-indigo-400 font-bold hover:underline",children:e?"Fazer Login":"Cadastre-se grtis"})]})}),d.jsx("div",{className:"mt-10 mb-4",children:d.jsxs("div",{onClick:I,className:"group relative overflow-hidden bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-slate-800 dark:to-indigo-900/20 border-2 border-dashed border-indigo-200 dark:border-indigo-700/50 hover:border-indigo-400 dark:hover:border-indigo-500 rounded-xl p-4 cursor-pointer hover:shadow-xl hover:shadow-indigo-500/10 transition-all transform hover:-translate-y-1",children:[d.jsx("div",{className:"absolute top-0 right-0 bg-indigo-600 text-white text-[10px] font-bold px-3 py-1 rounded-bl-xl shadow-sm z-10",children:"Apoie o Dev "}),d.jsxs("div",{className:"flex items-center gap-4 relative z-0",children:[d.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/50 p-3 rounded-full group-hover:scale-110 transition-transform shadow-inner",children:d.jsx(fD,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400 fill-indigo-200 dark:fill-indigo-900"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-xs font-bold text-indigo-800 dark:text-indigo-300 uppercase tracking-wide mb-1",children:"Gostou? Mande um Pix!"}),d.jsxs("div",{className:"flex items-center gap-2 bg-white/50 dark:bg-black/20 p-1.5 rounded-lg border border-indigo-100 dark:border-indigo-800/50",children:[d.jsx("p",{className:"text-sm font-mono font-bold text-slate-700 dark:text-slate-200 truncate select-all",children:w}),d.jsx("span",{className:"text-[9px] bg-indigo-200 dark:bg-indigo-800 text-indigo-800 dark:text-indigo-200 px-1.5 rounded font-sans font-bold",children:"Chave CPF"})]})]}),d.jsx("div",{className:"text-indigo-300 group-hover:text-indigo-600 transition-colors",children:b?d.jsx(qa,{className:"w-6 h-6 text-emerald-500"}):d.jsx(lD,{className:"w-6 h-6"})})]}),b&&d.jsx("div",{className:"absolute inset-0 bg-indigo-900/90 backdrop-blur-sm flex items-center justify-center text-white font-bold rounded-xl animate-fade-in z-20",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(qa,{className:"w-5 h-5 text-emerald-400"}),"Chave Pix Copiada!"]})}),d.jsx("p",{className:"text-[10px] text-slate-400 mt-2 text-center opacity-60 group-hover:opacity-100 transition-opacity",children:_})]})}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("a",{href:"https://www.linkedin.com/in/alemagnobr/",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-slate-400 hover:text-indigo-500 transition-colors inline-flex items-center gap-1",children:[d.jsx(mD,{className:"w-3 h-3"})," Alexandre Magno"]})})]})]}),d.jsxs("div",{className:"hidden md:flex flex-1 relative bg-[#4c35de] overflow-hidden items-center justify-center p-8",children:[d.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-white opacity-5 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/3"}),d.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-purple-400 opacity-10 rounded-full blur-[80px] translate-y-1/3 -translate-x-1/4"}),d.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(#fff 1px, transparent 1px), linear-gradient(90deg, #fff 1px, transparent 1px)",backgroundSize:"40px 40px"}}),d.jsxs("div",{className:"relative z-10 w-full max-w-lg",children:[d.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6 shadow-2xl mb-12 transform hover:scale-[1.02] transition-transform duration-500",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-white/10 pb-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-white/60 text-xs font-semibold uppercase",children:"Performance Visualisation"}),d.jsx("p",{className:"text-white text-lg font-bold mt-1",children:"Crescimento Patrimonial"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("div",{className:"px-2 py-1 bg-emerald-500/20 text-emerald-300 rounded text-xs font-bold",children:"+6.9%"}),d.jsx("div",{className:"p-1 bg-white/10 rounded text-white/70",children:d.jsx(fd,{className:"w-4 h-4"})})]})]}),d.jsx("div",{className:"h-48 flex items-end justify-between gap-3 px-2",children:[35,55,45,70,60,85,75].map((T,k)=>d.jsxs("div",{className:"w-full bg-white/10 rounded-t-lg relative group overflow-hidden",style:{height:"100%"},children:[d.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-indigo-400 to-purple-300 rounded-t-lg transition-all duration-1000 group-hover:opacity-90",style:{height:`${T}%`}}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] bg-white/30",style:{bottom:`${T}%`}})]},k))}),d.jsxs("div",{className:"flex justify-between mt-3 text-xs text-white/40 font-medium px-2",children:[d.jsx("span",{children:"Jan"}),d.jsx("span",{children:"Fev"}),d.jsx("span",{children:"Mar"}),d.jsx("span",{children:"Abr"}),d.jsx("span",{children:"Mai"}),d.jsx("span",{children:"Jun"}),d.jsx("span",{children:"Jul"})]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-3",children:"Bem-vindo de volta"}),d.jsxs("p",{className:"text-indigo-200 text-lg leading-relaxed",children:["Gerencie suas finanas com inteligncia, ",d.jsx("br",{}),"segurana e clareza total."]})]})]}),d.jsx("div",{className:"absolute top-8 right-8",children:d.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 backdrop-blur flex items-center justify-center border border-white/20 text-xl shadow-lg cursor-default",children:""})})]})]})};function T$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=T$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ce(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=T$(t))&&(r&&(r+=" "),r+=e);return r}var WZ=Array.isArray,Gn=WZ,KZ=typeof uh=="object"&&uh&&uh.Object===Object&&uh,S$=KZ,YZ=S$,JZ=typeof self=="object"&&self&&self.Object===Object&&self,XZ=YZ||JZ||Function("return this")(),ci=XZ,QZ=ci,ZZ=QZ.Symbol,Lf=ZZ,LC=Lf,A$=Object.prototype,eee=A$.hasOwnProperty,tee=A$.toString,sc=LC?LC.toStringTag:void 0;function nee(t){var e=eee.call(t,sc),n=t[sc];try{t[sc]=void 0;var r=!0}catch{}var i=tee.call(t);return r&&(e?t[sc]=n:delete t[sc]),i}var ree=nee,iee=Object.prototype,oee=iee.toString;function see(t){return oee.call(t)}var aee=see,$C=Lf,lee=ree,uee=aee,cee="[object Null]",dee="[object Undefined]",VC=$C?$C.toStringTag:void 0;function fee(t){return t==null?t===void 0?dee:cee:VC&&VC in Object(t)?lee(t):uee(t)}var to=fee;function hee(t){return t!=null&&typeof t=="object"}var no=hee,pee=to,mee=no,gee="[object Symbol]";function yee(t){return typeof t=="symbol"||mee(t)&&pee(t)==gee}var bu=yee,vee=Gn,xee=bu,bee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_ee=/^\w*$/;function wee(t,e){if(vee(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||xee(t)?!0:_ee.test(t)||!bee.test(t)||e!=null&&t in Object(e)}var g1=wee;function Eee(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var is=Eee;const _u=Xe(is);var Tee=to,See=is,Aee="[object AsyncFunction]",Iee="[object Function]",kee="[object GeneratorFunction]",Cee="[object Proxy]";function Pee(t){if(!See(t))return!1;var e=Tee(t);return e==Iee||e==kee||e==Aee||e==Cee}var y1=Pee;const _e=Xe(y1);var Nee=ci,Ree=Nee["__core-js_shared__"],Oee=Ree,av=Oee,FC=function(){var t=/[^.]+$/.exec(av&&av.keys&&av.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Mee(t){return!!FC&&FC in t}var Dee=Mee,jee=Function.prototype,Lee=jee.toString;function $ee(t){if(t!=null){try{return Lee.call(t)}catch{}try{return t+""}catch{}}return""}var I$=$ee,Vee=y1,Fee=Dee,Uee=is,Bee=I$,Gee=/[\\^$.*+?()[\]{}|]/g,zee=/^\[object .+?Constructor\]$/,qee=Function.prototype,Hee=Object.prototype,Wee=qee.toString,Kee=Hee.hasOwnProperty,Yee=RegExp("^"+Wee.call(Kee).replace(Gee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Jee(t){if(!Uee(t)||Fee(t))return!1;var e=Vee(t)?Yee:zee;return e.test(Bee(t))}var Xee=Jee;function Qee(t,e){return t==null?void 0:t[e]}var Zee=Qee,ete=Xee,tte=Zee;function nte(t,e){var n=tte(t,e);return ete(n)?n:void 0}var ha=nte,rte=ha,ite=rte(Object,"create"),vy=ite,UC=vy;function ote(){this.__data__=UC?UC(null):{},this.size=0}var ste=ote;function ate(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var lte=ate,ute=vy,cte="__lodash_hash_undefined__",dte=Object.prototype,fte=dte.hasOwnProperty;function hte(t){var e=this.__data__;if(ute){var n=e[t];return n===cte?void 0:n}return fte.call(e,t)?e[t]:void 0}var pte=hte,mte=vy,gte=Object.prototype,yte=gte.hasOwnProperty;function vte(t){var e=this.__data__;return mte?e[t]!==void 0:yte.call(e,t)}var xte=vte,bte=vy,_te="__lodash_hash_undefined__";function wte(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=bte&&e===void 0?_te:e,this}var Ete=wte,Tte=ste,Ste=lte,Ate=pte,Ite=xte,kte=Ete;function wu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wu.prototype.clear=Tte;wu.prototype.delete=Ste;wu.prototype.get=Ate;wu.prototype.has=Ite;wu.prototype.set=kte;var Cte=wu;function Pte(){this.__data__=[],this.size=0}var Nte=Pte;function Rte(t,e){return t===e||t!==t&&e!==e}var v1=Rte,Ote=v1;function Mte(t,e){for(var n=t.length;n--;)if(Ote(t[n][0],e))return n;return-1}var xy=Mte,Dte=xy,jte=Array.prototype,Lte=jte.splice;function $te(t){var e=this.__data__,n=Dte(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Lte.call(e,n,1),--this.size,!0}var Vte=$te,Fte=xy;function Ute(t){var e=this.__data__,n=Fte(e,t);return n<0?void 0:e[n][1]}var Bte=Ute,Gte=xy;function zte(t){return Gte(this.__data__,t)>-1}var qte=zte,Hte=xy;function Wte(t,e){var n=this.__data__,r=Hte(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Kte=Wte,Yte=Nte,Jte=Vte,Xte=Bte,Qte=qte,Zte=Kte;function Eu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Eu.prototype.clear=Yte;Eu.prototype.delete=Jte;Eu.prototype.get=Xte;Eu.prototype.has=Qte;Eu.prototype.set=Zte;var by=Eu,ene=ha,tne=ci,nne=ene(tne,"Map"),x1=nne,BC=Cte,rne=by,ine=x1;function one(){this.size=0,this.__data__={hash:new BC,map:new(ine||rne),string:new BC}}var sne=one;function ane(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var lne=ane,une=lne;function cne(t,e){var n=t.__data__;return une(e)?n[typeof e=="string"?"string":"hash"]:n.map}var _y=cne,dne=_y;function fne(t){var e=dne(this,t).delete(t);return this.size-=e?1:0,e}var hne=fne,pne=_y;function mne(t){return pne(this,t).get(t)}var gne=mne,yne=_y;function vne(t){return yne(this,t).has(t)}var xne=vne,bne=_y;function _ne(t,e){var n=bne(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var wne=_ne,Ene=sne,Tne=hne,Sne=gne,Ane=xne,Ine=wne;function Tu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Tu.prototype.clear=Ene;Tu.prototype.delete=Tne;Tu.prototype.get=Sne;Tu.prototype.has=Ane;Tu.prototype.set=Ine;var b1=Tu,k$=b1,kne="Expected a function";function _1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(kne);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(_1.Cache||k$),n}_1.Cache=k$;var C$=_1;const Cne=Xe(C$);var Pne=C$,Nne=500;function Rne(t){var e=Pne(t,function(r){return n.size===Nne&&n.clear(),r}),n=e.cache;return e}var One=Rne,Mne=One,Dne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jne=/\\(\\)?/g,Lne=Mne(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Dne,function(n,r,i,o){e.push(i?o.replace(jne,"$1"):r||n)}),e}),$ne=Lne;function Vne(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var w1=Vne,GC=Lf,Fne=w1,Une=Gn,Bne=bu,zC=GC?GC.prototype:void 0,qC=zC?zC.toString:void 0;function P$(t){if(typeof t=="string")return t;if(Une(t))return Fne(t,P$)+"";if(Bne(t))return qC?qC.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Gne=P$,zne=Gne;function qne(t){return t==null?"":zne(t)}var N$=qne,Hne=Gn,Wne=g1,Kne=$ne,Yne=N$;function Jne(t,e){return Hne(t)?t:Wne(t,e)?[t]:Kne(Yne(t))}var R$=Jne,Xne=bu;function Qne(t){if(typeof t=="string"||Xne(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var wy=Qne,Zne=R$,ere=wy;function tre(t,e){e=Zne(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[ere(e[n++])];return n&&n==r?t:void 0}var E1=tre,nre=E1;function rre(t,e,n){var r=t==null?void 0:nre(t,e);return r===void 0?n:r}var O$=rre;const er=Xe(O$);function ire(t){return t==null}var ore=ire;const Ie=Xe(ore);var sre=to,are=Gn,lre=no,ure="[object String]";function cre(t){return typeof t=="string"||!are(t)&&lre(t)&&sre(t)==ure}var dre=cre;const ta=Xe(dre);var M$={exports:{}},et={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T1=Symbol.for("react.element"),S1=Symbol.for("react.portal"),Ey=Symbol.for("react.fragment"),Ty=Symbol.for("react.strict_mode"),Sy=Symbol.for("react.profiler"),Ay=Symbol.for("react.provider"),Iy=Symbol.for("react.context"),fre=Symbol.for("react.server_context"),ky=Symbol.for("react.forward_ref"),Cy=Symbol.for("react.suspense"),Py=Symbol.for("react.suspense_list"),Ny=Symbol.for("react.memo"),Ry=Symbol.for("react.lazy"),hre=Symbol.for("react.offscreen"),D$;D$=Symbol.for("react.module.reference");function wr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case T1:switch(t=t.type,t){case Ey:case Sy:case Ty:case Cy:case Py:return t;default:switch(t=t&&t.$$typeof,t){case fre:case Iy:case ky:case Ry:case Ny:case Ay:return t;default:return e}}case S1:return e}}}et.ContextConsumer=Iy;et.ContextProvider=Ay;et.Element=T1;et.ForwardRef=ky;et.Fragment=Ey;et.Lazy=Ry;et.Memo=Ny;et.Portal=S1;et.Profiler=Sy;et.StrictMode=Ty;et.Suspense=Cy;et.SuspenseList=Py;et.isAsyncMode=function(){return!1};et.isConcurrentMode=function(){return!1};et.isContextConsumer=function(t){return wr(t)===Iy};et.isContextProvider=function(t){return wr(t)===Ay};et.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===T1};et.isForwardRef=function(t){return wr(t)===ky};et.isFragment=function(t){return wr(t)===Ey};et.isLazy=function(t){return wr(t)===Ry};et.isMemo=function(t){return wr(t)===Ny};et.isPortal=function(t){return wr(t)===S1};et.isProfiler=function(t){return wr(t)===Sy};et.isStrictMode=function(t){return wr(t)===Ty};et.isSuspense=function(t){return wr(t)===Cy};et.isSuspenseList=function(t){return wr(t)===Py};et.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ey||t===Sy||t===Ty||t===Cy||t===Py||t===hre||typeof t=="object"&&t!==null&&(t.$$typeof===Ry||t.$$typeof===Ny||t.$$typeof===Ay||t.$$typeof===Iy||t.$$typeof===ky||t.$$typeof===D$||t.getModuleId!==void 0)};et.typeOf=wr;M$.exports=et;var pre=M$.exports,mre=to,gre=no,yre="[object Number]";function vre(t){return typeof t=="number"||gre(t)&&mre(t)==yre}var j$=vre;const xre=Xe(j$);var bre=j$;function _re(t){return bre(t)&&t!=+t}var wre=_re;const Su=Xe(wre);var Cn=function(e){return e===0?0:e>0?1:-1},Ps=function(e){return ta(e)&&e.indexOf("%")===e.length-1},se=function(e){return xre(e)&&!Su(e)},Ere=function(e){return Ie(e)},Ft=function(e){return se(e)||ta(e)},Tre=0,pa=function(e){var n=++Tre;return"".concat(e||"").concat(n)},Pn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!se(e)&&!ta(e))return r;var o;if(Ps(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Su(o)&&(o=r),i&&o>n&&(o=n),o},_o=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Sre=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},xt=function(e,n){return se(e)&&se(n)?function(r){return e+r*(n-e)}:function(){return n}};function Tm(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):er(r,e))===n})}var Are=function(e,n){return se(e)&&se(n)?e-n:ta(e)&&ta(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function hl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Sb(t){"@babel/helpers - typeof";return Sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sb(t)}var Ire=["viewBox","children"],kre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],HC=["points","pathLength"],lv={svg:Ire,polygon:HC,polyline:HC},A1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Sm=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(G.isValidElement(e)&&(r=e.props),!_u(r))return null;var i={};return Object.keys(r).forEach(function(o){A1.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},Cre=function(e,n,r){return function(i){return e(n,r,i),null}},na=function(e,n,r){if(!_u(e)||Sb(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];A1.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=Cre(s,n,r))}),i},Pre=["children"],Nre=["children"];function WC(t,e){if(t==null)return{};var n=Rre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ab(t){"@babel/helpers - typeof";return Ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ab(t)}var KC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ri=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},YC=null,uv=null,I1=function t(e){if(e===YC&&Array.isArray(uv))return uv;var n=[];return G.Children.forEach(e,function(r){Ie(r)||(pre.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),uv=n,YC=e,n};function tr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ri(i)}):r=[Ri(e)],I1(t).forEach(function(i){var o=er(i,"type.displayName")||er(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Kn(t,e){var n=tr(t,e);return n&&n[0]}var JC=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!se(r)||r<=0||!se(i)||i<=0)},Ore=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Mre=function(e){return e&&e.type&&ta(e.type)&&Ore.indexOf(e.type)>=0},L$=function(e){return e&&Ab(e)==="object"&&"clipDot"in e},Dre=function(e,n,r,i){var o,s=(o=lv==null?void 0:lv[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!_e(e)&&(i&&s.includes(n)||kre.includes(n))||r&&A1.includes(n)},ye=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(G.isValidElement(e)&&(i=e.props),!_u(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;Dre((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},Ib=function t(e,n){if(e===n)return!0;var r=G.Children.count(e);if(r!==G.Children.count(n))return!1;if(r===0)return!0;if(r===1)return XC(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!XC(o,s))return!1}return!0},XC=function(e,n){if(Ie(e)&&Ie(n))return!0;if(!Ie(e)&&!Ie(n)){var r=e.props||{},i=r.children,o=WC(r,Pre),s=n.props||{},a=s.children,l=WC(s,Nre);return i&&a?hl(o,l)&&Ib(i,a):!i&&!a?hl(o,l):!1}return!1},QC=function(e,n){var r=[],i={};return I1(e).forEach(function(o,s){if(Mre(o))r.push(o);else if(o){var a=Ri(o.type),l=n[a]||{},u=l.handler,c=l.once;if(u&&(!c||!i[a])){var f=u(o,a,s);r.push(f),i[a]=!0}}}),r},jre=function(e){var n=e&&e.type;return n&&KC[n]?KC[n]:null},Lre=function(e,n){return I1(n).indexOf(e)},$re=["children","width","height","viewBox","className","style","title","desc"];function kb(){return kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kb.apply(this,arguments)}function Vre(t,e){if(t==null)return{};var n=Fre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cb(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=Vre(t,$re),c=i||{width:n,height:r,x:0,y:0},f=Ce("recharts-surface",o);return B.createElement("svg",kb({},ye(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),B.createElement("title",null,a),B.createElement("desc",null,l),e)}var Ure=["children","className"];function Pb(){return Pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pb.apply(this,arguments)}function Bre(t,e){if(t==null)return{};var n=Gre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var je=B.forwardRef(function(t,e){var n=t.children,r=t.className,i=Bre(t,Ure),o=Ce("recharts-layer",r);return B.createElement("g",Pb({className:o},ye(i,!0),{ref:e}),n)}),Fr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function zre(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var qre=zre,Hre=qre;function Wre(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Hre(t,e,n)}var Kre=Wre,Yre="\\ud800-\\udfff",Jre="\\u0300-\\u036f",Xre="\\ufe20-\\ufe2f",Qre="\\u20d0-\\u20ff",Zre=Jre+Xre+Qre,eie="\\ufe0e\\ufe0f",tie="\\u200d",nie=RegExp("["+tie+Yre+Zre+eie+"]");function rie(t){return nie.test(t)}var $$=rie;function iie(t){return t.split("")}var oie=iie,V$="\\ud800-\\udfff",sie="\\u0300-\\u036f",aie="\\ufe20-\\ufe2f",lie="\\u20d0-\\u20ff",uie=sie+aie+lie,cie="\\ufe0e\\ufe0f",die="["+V$+"]",Nb="["+uie+"]",Rb="\\ud83c[\\udffb-\\udfff]",fie="(?:"+Nb+"|"+Rb+")",F$="[^"+V$+"]",U$="(?:\\ud83c[\\udde6-\\uddff]){2}",B$="[\\ud800-\\udbff][\\udc00-\\udfff]",hie="\\u200d",G$=fie+"?",z$="["+cie+"]?",pie="(?:"+hie+"(?:"+[F$,U$,B$].join("|")+")"+z$+G$+")*",mie=z$+G$+pie,gie="(?:"+[F$+Nb+"?",Nb,U$,B$,die].join("|")+")",yie=RegExp(Rb+"(?="+Rb+")|"+gie+mie,"g");function vie(t){return t.match(yie)||[]}var xie=vie,bie=oie,_ie=$$,wie=xie;function Eie(t){return _ie(t)?wie(t):bie(t)}var Tie=Eie,Sie=Kre,Aie=$$,Iie=Tie,kie=N$;function Cie(t){return function(e){e=kie(e);var n=Aie(e)?Iie(e):void 0,r=n?n[0]:e.charAt(0),i=n?Sie(n,1).join(""):e.slice(1);return r[t]()+i}}var Pie=Cie,Nie=Pie,Rie=Nie("toUpperCase"),Oie=Rie;const Oy=Xe(Oie);function lt(t){return function(){return t}}const q$=Math.cos,Am=Math.sin,Hr=Math.sqrt,Im=Math.PI,My=2*Im,Ob=Math.PI,Mb=2*Ob,bs=1e-6,Mie=Mb-bs;function H$(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Die(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return H$;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class jie{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?H$:Die(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,f=a-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>bs)if(!(Math.abs(f*l-u*c)>bs)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-s,v=i-a,b=l*l+u*u,x=y*y+v*v,w=Math.sqrt(b),_=Math.sqrt(h),E=o*Math.tan((Ob-Math.acos((b+h-x)/(2*w*_)))/2),P=E/_,S=E/w;Math.abs(P-1)>bs&&this._append`L${e+P*c},${n+P*f}`,this._append`A${o},${o},0,0,${+(f*y>c*v)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>bs||Math.abs(this._y1-c)>bs)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%Mb+Mb),h>Mie?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>bs&&this._append`A${r},${r},0,${+(h>=Ob)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function k1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new jie(e)}function C1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function W$(t){this._context=t}W$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Dy(t){return new W$(t)}function K$(t){return t[0]}function Y$(t){return t[1]}function J$(t,e){var n=lt(!0),r=null,i=Dy,o=null,s=k1(a);t=typeof t=="function"?t:t===void 0?K$:lt(t),e=typeof e=="function"?e:e===void 0?Y$:lt(e);function a(l){var u,c=(l=C1(l)).length,f,h=!1,y;for(r==null&&(o=i(y=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(y)return o=null,y+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:lt(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:lt(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:lt(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function $h(t,e,n){var r=null,i=lt(!0),o=null,s=Dy,a=null,l=k1(u);t=typeof t=="function"?t:t===void 0?K$:lt(+t),e=typeof e=="function"?e:lt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Y$:lt(+n);function u(f){var h,y,v,b=(f=C1(f)).length,x,w=!1,_,E=new Array(b),P=new Array(b);for(o==null&&(a=s(_=l())),h=0;h<=b;++h){if(!(h<b&&i(x=f[h],h,f))===w)if(w=!w)y=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=h-1;v>=y;--v)a.point(E[v],P[v]);a.lineEnd(),a.areaEnd()}w&&(E[h]=+t(x,h,f),P[h]=+e(x,h,f),a.point(r?+r(x,h,f):E[h],n?+n(x,h,f):P[h]))}if(_)return a=null,_+""||null}function c(){return J$().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:lt(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:lt(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:lt(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:lt(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:lt(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:lt(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:lt(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}class X${constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Lie(t){return new X$(t,!0)}function $ie(t){return new X$(t,!1)}const P1={draw(t,e){const n=Hr(e/Im);t.moveTo(n,0),t.arc(0,0,n,0,My)}},Vie={draw(t,e){const n=Hr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Q$=Hr(1/3),Fie=Q$*2,Uie={draw(t,e){const n=Hr(e/Fie),r=n*Q$;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Bie={draw(t,e){const n=Hr(e),r=-n/2;t.rect(r,r,n,n)}},Gie=.8908130915292852,Z$=Am(Im/10)/Am(7*Im/10),zie=Am(My/10)*Z$,qie=-q$(My/10)*Z$,Hie={draw(t,e){const n=Hr(e*Gie),r=zie*n,i=qie*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=My*o/5,a=q$(s),l=Am(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},cv=Hr(3),Wie={draw(t,e){const n=-Hr(e/(cv*3));t.moveTo(0,n*2),t.lineTo(-cv*n,-n),t.lineTo(cv*n,-n),t.closePath()}},or=-.5,sr=Hr(3)/2,Db=1/Hr(12),Kie=(Db/2+1)*3,Yie={draw(t,e){const n=Hr(e/Kie),r=n/2,i=n*Db,o=r,s=n*Db+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(or*r-sr*i,sr*r+or*i),t.lineTo(or*o-sr*s,sr*o+or*s),t.lineTo(or*a-sr*l,sr*a+or*l),t.lineTo(or*r+sr*i,or*i-sr*r),t.lineTo(or*o+sr*s,or*s-sr*o),t.lineTo(or*a+sr*l,or*l-sr*a),t.closePath()}};function Jie(t,e){let n=null,r=k1(i);t=typeof t=="function"?t:lt(t||P1),e=typeof e=="function"?e:lt(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:lt(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:lt(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function km(){}function Cm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function e4(t){this._context=t}e4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Xie(t){return new e4(t)}function t4(t){this._context=t}t4.prototype={areaStart:km,areaEnd:km,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Cm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Qie(t){return new t4(t)}function n4(t){this._context=t}n4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Cm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Zie(t){return new n4(t)}function r4(t){this._context=t}r4.prototype={areaStart:km,areaEnd:km,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function eoe(t){return new r4(t)}function ZC(t){return t<0?-1:1}function eP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(ZC(o)+ZC(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function tP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function dv(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function Pm(t){this._context=t}Pm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dv(this,this._t0,tP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,dv(this,tP(this,n=eP(this,t,e)),n);break;default:dv(this,this._t0,n=eP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function i4(t){this._context=new o4(t)}(i4.prototype=Object.create(Pm.prototype)).point=function(t,e){Pm.prototype.point.call(this,e,t)};function o4(t){this._context=t}o4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function toe(t){return new Pm(t)}function noe(t){return new i4(t)}function s4(t){this._context=t}s4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=nP(t),i=nP(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function nP(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function roe(t){return new s4(t)}function jy(t,e){this._context=t,this._t=e}jy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function ioe(t){return new jy(t,.5)}function ooe(t){return new jy(t,0)}function soe(t){return new jy(t,1)}function Pl(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function jb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function aoe(t,e){return t[e]}function loe(t){const e=[];return e.key=t,e}function uoe(){var t=lt([]),e=jb,n=Pl,r=aoe;function i(o){var s=Array.from(t.apply(this,arguments),loe),a,l=s.length,u=-1,c;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,c=C1(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:lt(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:lt(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?jb:typeof o=="function"?o:lt(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Pl,i):n},i}function coe(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Pl(t,e)}}function doe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}Pl(t,e)}}function foe(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],f=c[r][1]||0,h=c[r-1][1]||0,y=(f-h)/2,v=0;v<a;++v){var b=t[e[v]],x=b[r][1]||0,w=b[r-1][1]||0;y+=x-w}l+=f,u+=y*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Pl(t,e)}}function Cd(t){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cd(t)}var hoe=["type","size","sizeType"];function Lb(){return Lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lb.apply(this,arguments)}function rP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(n),!0).forEach(function(r){poe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function poe(t,e,n){return e=moe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function moe(t){var e=goe(t,"string");return Cd(e)=="symbol"?e:e+""}function goe(t,e){if(Cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yoe(t,e){if(t==null)return{};var n=voe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function voe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var a4={symbolCircle:P1,symbolCross:Vie,symbolDiamond:Uie,symbolSquare:Bie,symbolStar:Hie,symbolTriangle:Wie,symbolWye:Yie},xoe=Math.PI/180,boe=function(e){var n="symbol".concat(Oy(e));return a4[n]||P1},_oe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*xoe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},woe=function(e,n){a4["symbol".concat(Oy(e))]=n},N1=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=yoe(e,hoe),u=iP(iP({},l),{},{type:r,size:o,sizeType:a}),c=function(){var x=boe(r),w=Jie().type(x).size(_oe(o,a,r));return w()},f=u.className,h=u.cx,y=u.cy,v=ye(u,!0);return h===+h&&y===+y&&o===+o?B.createElement("path",Lb({},v,{className:Ce("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(y,")"),d:c()})):null};N1.registerSymbol=woe;function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function $b(){return $b=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$b.apply(this,arguments)}function oP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eoe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oP(Object(n),!0).forEach(function(r){Pd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Toe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Soe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u4(r.key),r)}}function Aoe(t,e,n){return e&&Soe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ioe(t,e,n){return e=Nm(e),koe(t,l4()?Reflect.construct(e,n||[],Nm(t).constructor):e.apply(t,n))}function koe(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Coe(t)}function Coe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l4=function(){return!!t})()}function Nm(t){return Nm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nm(t)}function Poe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vb(t,e)}function Vb(t,e){return Vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Vb(t,e)}function Pd(t,e,n){return e=u4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u4(t){var e=Noe(t,"string");return Nl(e)=="symbol"?e:e+""}function Noe(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ar=32,R1=function(t){function e(){return Toe(this,e),Ioe(this,e,arguments)}return Poe(e,t),Aoe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=ar/2,s=ar/6,a=ar/3,l=r.inactive?i:r.color;if(r.type==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:ar,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(ar,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return B.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ar/8,"h").concat(ar,"v").concat(ar*3/4,"h").concat(-ar,"z"),className:"recharts-legend-icon"});if(B.isValidElement(r.legendIcon)){var u=Eoe({},r);return delete u.legendIcon,B.cloneElement(r.legendIcon,u)}return B.createElement(N1,{fill:l,cx:o,cy:o,size:ar,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:ar,height:ar},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(y,v){var b=y.formatter||l,x=Ce(Pd(Pd({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",y.inactive));if(y.type==="none")return null;var w=_e(y.value)?null:y.value;Fr(!_e(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=y.inactive?u:y.color;return B.createElement("li",$b({className:x,style:f,key:"legend-item-".concat(v)},na(r.props,y,v)),B.createElement(Cb,{width:s,height:s,viewBox:c,style:h},r.renderIcon(y)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},b?b(w,y,v):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(G.PureComponent);Pd(R1,"displayName","Legend");Pd(R1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Roe=by;function Ooe(){this.__data__=new Roe,this.size=0}var Moe=Ooe;function Doe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var joe=Doe;function Loe(t){return this.__data__.get(t)}var $oe=Loe;function Voe(t){return this.__data__.has(t)}var Foe=Voe,Uoe=by,Boe=x1,Goe=b1,zoe=200;function qoe(t,e){var n=this.__data__;if(n instanceof Uoe){var r=n.__data__;if(!Boe||r.length<zoe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Goe(r)}return n.set(t,e),this.size=n.size,this}var Hoe=qoe,Woe=by,Koe=Moe,Yoe=joe,Joe=$oe,Xoe=Foe,Qoe=Hoe;function Au(t){var e=this.__data__=new Woe(t);this.size=e.size}Au.prototype.clear=Koe;Au.prototype.delete=Yoe;Au.prototype.get=Joe;Au.prototype.has=Xoe;Au.prototype.set=Qoe;var c4=Au,Zoe="__lodash_hash_undefined__";function ese(t){return this.__data__.set(t,Zoe),this}var tse=ese;function nse(t){return this.__data__.has(t)}var rse=nse,ise=b1,ose=tse,sse=rse;function Rm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ise;++e<n;)this.add(t[e])}Rm.prototype.add=Rm.prototype.push=ose;Rm.prototype.has=sse;var d4=Rm;function ase(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var f4=ase;function lse(t,e){return t.has(e)}var h4=lse,use=d4,cse=f4,dse=h4,fse=1,hse=2;function pse(t,e,n,r,i,o){var s=n&fse,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,y=n&hse?new use:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var v=t[f],b=e[f];if(r)var x=s?r(b,v,f,e,t,o):r(v,b,f,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(y){if(!cse(e,function(w,_){if(!dse(y,_)&&(v===w||i(v,w,n,r,o)))return y.push(_)})){h=!1;break}}else if(!(v===b||i(v,b,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var p4=pse,mse=ci,gse=mse.Uint8Array,yse=gse;function vse(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var xse=vse;function bse(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var O1=bse,sP=Lf,aP=yse,_se=v1,wse=p4,Ese=xse,Tse=O1,Sse=1,Ase=2,Ise="[object Boolean]",kse="[object Date]",Cse="[object Error]",Pse="[object Map]",Nse="[object Number]",Rse="[object RegExp]",Ose="[object Set]",Mse="[object String]",Dse="[object Symbol]",jse="[object ArrayBuffer]",Lse="[object DataView]",lP=sP?sP.prototype:void 0,fv=lP?lP.valueOf:void 0;function $se(t,e,n,r,i,o,s){switch(n){case Lse:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case jse:return!(t.byteLength!=e.byteLength||!o(new aP(t),new aP(e)));case Ise:case kse:case Nse:return _se(+t,+e);case Cse:return t.name==e.name&&t.message==e.message;case Rse:case Mse:return t==e+"";case Pse:var a=Ese;case Ose:var l=r&Sse;if(a||(a=Tse),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=Ase,s.set(t,e);var c=wse(a(t),a(e),r,i,o,s);return s.delete(t),c;case Dse:if(fv)return fv.call(t)==fv.call(e)}return!1}var Vse=$se;function Fse(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var m4=Fse,Use=m4,Bse=Gn;function Gse(t,e,n){var r=e(t);return Bse(t)?r:Use(r,n(t))}var zse=Gse;function qse(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var Hse=qse;function Wse(){return[]}var Kse=Wse,Yse=Hse,Jse=Kse,Xse=Object.prototype,Qse=Xse.propertyIsEnumerable,uP=Object.getOwnPropertySymbols,Zse=uP?function(t){return t==null?[]:(t=Object(t),Yse(uP(t),function(e){return Qse.call(t,e)}))}:Jse,eae=Zse;function tae(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var nae=tae,rae=to,iae=no,oae="[object Arguments]";function sae(t){return iae(t)&&rae(t)==oae}var aae=sae,cP=aae,lae=no,g4=Object.prototype,uae=g4.hasOwnProperty,cae=g4.propertyIsEnumerable,dae=cP(function(){return arguments}())?cP:function(t){return lae(t)&&uae.call(t,"callee")&&!cae.call(t,"callee")},M1=dae,Om={exports:{}};function fae(){return!1}var hae=fae;Om.exports;(function(t,e){var n=ci,r=hae,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Om,Om.exports);var y4=Om.exports,pae=9007199254740991,mae=/^(?:0|[1-9]\d*)$/;function gae(t,e){var n=typeof t;return e=e??pae,!!e&&(n=="number"||n!="symbol"&&mae.test(t))&&t>-1&&t%1==0&&t<e}var D1=gae,yae=9007199254740991;function vae(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=yae}var j1=vae,xae=to,bae=j1,_ae=no,wae="[object Arguments]",Eae="[object Array]",Tae="[object Boolean]",Sae="[object Date]",Aae="[object Error]",Iae="[object Function]",kae="[object Map]",Cae="[object Number]",Pae="[object Object]",Nae="[object RegExp]",Rae="[object Set]",Oae="[object String]",Mae="[object WeakMap]",Dae="[object ArrayBuffer]",jae="[object DataView]",Lae="[object Float32Array]",$ae="[object Float64Array]",Vae="[object Int8Array]",Fae="[object Int16Array]",Uae="[object Int32Array]",Bae="[object Uint8Array]",Gae="[object Uint8ClampedArray]",zae="[object Uint16Array]",qae="[object Uint32Array]",ht={};ht[Lae]=ht[$ae]=ht[Vae]=ht[Fae]=ht[Uae]=ht[Bae]=ht[Gae]=ht[zae]=ht[qae]=!0;ht[wae]=ht[Eae]=ht[Dae]=ht[Tae]=ht[jae]=ht[Sae]=ht[Aae]=ht[Iae]=ht[kae]=ht[Cae]=ht[Pae]=ht[Nae]=ht[Rae]=ht[Oae]=ht[Mae]=!1;function Hae(t){return _ae(t)&&bae(t.length)&&!!ht[xae(t)]}var Wae=Hae;function Kae(t){return function(e){return t(e)}}var v4=Kae,Mm={exports:{}};Mm.exports;(function(t,e){var n=S$,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Mm,Mm.exports);var Yae=Mm.exports,Jae=Wae,Xae=v4,dP=Yae,fP=dP&&dP.isTypedArray,Qae=fP?Xae(fP):Jae,x4=Qae,Zae=nae,ele=M1,tle=Gn,nle=y4,rle=D1,ile=x4,ole=Object.prototype,sle=ole.hasOwnProperty;function ale(t,e){var n=tle(t),r=!n&&ele(t),i=!n&&!r&&nle(t),o=!n&&!r&&!i&&ile(t),s=n||r||i||o,a=s?Zae(t.length,String):[],l=a.length;for(var u in t)(e||sle.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||rle(u,l)))&&a.push(u);return a}var lle=ale,ule=Object.prototype;function cle(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ule;return t===n}var dle=cle;function fle(t,e){return function(n){return t(e(n))}}var b4=fle,hle=b4,ple=hle(Object.keys,Object),mle=ple,gle=dle,yle=mle,vle=Object.prototype,xle=vle.hasOwnProperty;function ble(t){if(!gle(t))return yle(t);var e=[];for(var n in Object(t))xle.call(t,n)&&n!="constructor"&&e.push(n);return e}var _le=ble,wle=y1,Ele=j1;function Tle(t){return t!=null&&Ele(t.length)&&!wle(t)}var $f=Tle,Sle=lle,Ale=_le,Ile=$f;function kle(t){return Ile(t)?Sle(t):Ale(t)}var Ly=kle,Cle=zse,Ple=eae,Nle=Ly;function Rle(t){return Cle(t,Nle,Ple)}var Ole=Rle,hP=Ole,Mle=1,Dle=Object.prototype,jle=Dle.hasOwnProperty;function Lle(t,e,n,r,i,o){var s=n&Mle,a=hP(t),l=a.length,u=hP(e),c=u.length;if(l!=c&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:jle.call(e,h)))return!1}var y=o.get(t),v=o.get(e);if(y&&v)return y==e&&v==t;var b=!0;o.set(t,e),o.set(e,t);for(var x=s;++f<l;){h=a[f];var w=t[h],_=e[h];if(r)var E=s?r(_,w,h,e,t,o):r(w,_,h,t,e,o);if(!(E===void 0?w===_||i(w,_,n,r,o):E)){b=!1;break}x||(x=h=="constructor")}if(b&&!x){var P=t.constructor,S=e.constructor;P!=S&&"constructor"in t&&"constructor"in e&&!(typeof P=="function"&&P instanceof P&&typeof S=="function"&&S instanceof S)&&(b=!1)}return o.delete(t),o.delete(e),b}var $le=Lle,Vle=ha,Fle=ci,Ule=Vle(Fle,"DataView"),Ble=Ule,Gle=ha,zle=ci,qle=Gle(zle,"Promise"),Hle=qle,Wle=ha,Kle=ci,Yle=Wle(Kle,"Set"),_4=Yle,Jle=ha,Xle=ci,Qle=Jle(Xle,"WeakMap"),Zle=Qle,Fb=Ble,Ub=x1,Bb=Hle,Gb=_4,zb=Zle,w4=to,Iu=I$,pP="[object Map]",eue="[object Object]",mP="[object Promise]",gP="[object Set]",yP="[object WeakMap]",vP="[object DataView]",tue=Iu(Fb),nue=Iu(Ub),rue=Iu(Bb),iue=Iu(Gb),oue=Iu(zb),_s=w4;(Fb&&_s(new Fb(new ArrayBuffer(1)))!=vP||Ub&&_s(new Ub)!=pP||Bb&&_s(Bb.resolve())!=mP||Gb&&_s(new Gb)!=gP||zb&&_s(new zb)!=yP)&&(_s=function(t){var e=w4(t),n=e==eue?t.constructor:void 0,r=n?Iu(n):"";if(r)switch(r){case tue:return vP;case nue:return pP;case rue:return mP;case iue:return gP;case oue:return yP}return e});var sue=_s,hv=c4,aue=p4,lue=Vse,uue=$le,xP=sue,bP=Gn,_P=y4,cue=x4,due=1,wP="[object Arguments]",EP="[object Array]",Vh="[object Object]",fue=Object.prototype,TP=fue.hasOwnProperty;function hue(t,e,n,r,i,o){var s=bP(t),a=bP(e),l=s?EP:xP(t),u=a?EP:xP(e);l=l==wP?Vh:l,u=u==wP?Vh:u;var c=l==Vh,f=u==Vh,h=l==u;if(h&&_P(t)){if(!_P(e))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new hv),s||cue(t)?aue(t,e,n,r,i,o):lue(t,e,l,n,r,i,o);if(!(n&due)){var y=c&&TP.call(t,"__wrapped__"),v=f&&TP.call(e,"__wrapped__");if(y||v){var b=y?t.value():t,x=v?e.value():e;return o||(o=new hv),i(b,x,n,r,o)}}return h?(o||(o=new hv),uue(t,e,n,r,i,o)):!1}var pue=hue,mue=pue,SP=no;function E4(t,e,n,r,i){return t===e?!0:t==null||e==null||!SP(t)&&!SP(e)?t!==t&&e!==e:mue(t,e,n,r,E4,i)}var L1=E4,gue=c4,yue=L1,vue=1,xue=2;function bue(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new gue;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?yue(c,u,vue|xue,r,f):h))return!1}}return!0}var _ue=bue,wue=is;function Eue(t){return t===t&&!wue(t)}var T4=Eue,Tue=T4,Sue=Ly;function Aue(t){for(var e=Sue(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Tue(i)]}return e}var Iue=Aue;function kue(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var S4=kue,Cue=_ue,Pue=Iue,Nue=S4;function Rue(t){var e=Pue(t);return e.length==1&&e[0][2]?Nue(e[0][0],e[0][1]):function(n){return n===t||Cue(n,t,e)}}var Oue=Rue;function Mue(t,e){return t!=null&&e in Object(t)}var Due=Mue,jue=R$,Lue=M1,$ue=Gn,Vue=D1,Fue=j1,Uue=wy;function Bue(t,e,n){e=jue(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=Uue(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Fue(i)&&Vue(s,i)&&($ue(t)||Lue(t)))}var Gue=Bue,zue=Due,que=Gue;function Hue(t,e){return t!=null&&que(t,e,zue)}var Wue=Hue,Kue=L1,Yue=O$,Jue=Wue,Xue=g1,Que=T4,Zue=S4,ece=wy,tce=1,nce=2;function rce(t,e){return Xue(t)&&Que(e)?Zue(ece(t),e):function(n){var r=Yue(n,t);return r===void 0&&r===e?Jue(n,t):Kue(e,r,tce|nce)}}var ice=rce;function oce(t){return t}var ku=oce;function sce(t){return function(e){return e==null?void 0:e[t]}}var ace=sce,lce=E1;function uce(t){return function(e){return lce(e,t)}}var cce=uce,dce=ace,fce=cce,hce=g1,pce=wy;function mce(t){return hce(t)?dce(pce(t)):fce(t)}var gce=mce,yce=Oue,vce=ice,xce=ku,bce=Gn,_ce=gce;function wce(t){return typeof t=="function"?t:t==null?xce:typeof t=="object"?bce(t)?vce(t[0],t[1]):yce(t):_ce(t)}var di=wce;function Ece(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var A4=Ece;function Tce(t){return t!==t}var Sce=Tce;function Ace(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Ice=Ace,kce=A4,Cce=Sce,Pce=Ice;function Nce(t,e,n){return e===e?Pce(t,e,n):kce(t,Cce,n)}var Rce=Nce,Oce=Rce;function Mce(t,e){var n=t==null?0:t.length;return!!n&&Oce(t,e,0)>-1}var Dce=Mce;function jce(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Lce=jce;function $ce(){}var Vce=$ce,pv=_4,Fce=Vce,Uce=O1,Bce=1/0,Gce=pv&&1/Uce(new pv([,-0]))[1]==Bce?function(t){return new pv(t)}:Fce,zce=Gce,qce=d4,Hce=Dce,Wce=Lce,Kce=h4,Yce=zce,Jce=O1,Xce=200;function Qce(t,e,n){var r=-1,i=Hce,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=Wce;else if(o>=Xce){var u=e?null:Yce(t);if(u)return Jce(u);s=!1,i=Kce,l=new qce}else l=e?[]:a;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(c)}else i(l,f,n)||(l!==a&&l.push(f),a.push(c))}return a}var Zce=Qce,ede=di,tde=Zce;function nde(t,e){return t&&t.length?tde(t,ede(e)):[]}var rde=nde;const AP=Xe(rde);function I4(t,e,n){return e===!0?AP(t,n):_e(e)?AP(t,e):t}function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}var ide=["ref"];function IP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IP(Object(n),!0).forEach(function(r){$y(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ode(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C4(r.key),r)}}function sde(t,e,n){return e&&kP(t.prototype,e),n&&kP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ade(t,e,n){return e=Dm(e),lde(t,k4()?Reflect.construct(e,n||[],Dm(t).constructor):e.apply(t,n))}function lde(t,e){if(e&&(Rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ude(t)}function ude(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k4=function(){return!!t})()}function Dm(t){return Dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dm(t)}function cde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qb(t,e)}function qb(t,e){return qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qb(t,e)}function $y(t,e,n){return e=C4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C4(t){var e=dde(t,"string");return Rl(e)=="symbol"?e:e+""}function dde(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fde(t,e){if(t==null)return{};var n=hde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pde(t){return t.value}function mde(t,e){if(B.isValidElement(t))return B.cloneElement(t,e);if(typeof t=="function")return B.createElement(t,e);e.ref;var n=fde(e,ide);return B.createElement(R1,n)}var CP=1,ni=function(t){function e(){var n;ode(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ade(this,e,[].concat(i)),$y(n,"lastBoundingBox",{width:-1,height:-1}),n}return cde(e,t),sde(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>CP||Math.abs(i.height-this.lastBoundingBox.height)>CP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?mi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var y=this.getBBoxSnapshot();f={left:((u||0)-y.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var v=this.getBBoxSnapshot();h={top:((c||0)-v.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return mi(mi({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=mi(mi({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return B.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(y){r.wrapperNode=y}},mde(o,mi(mi({},this.props),{},{payload:I4(c,u,pde)})))}}],[{key:"getWithHeight",value:function(r,i){var o=mi(mi({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&se(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(G.PureComponent);$y(ni,"displayName","Legend");$y(ni,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var PP=Lf,gde=M1,yde=Gn,NP=PP?PP.isConcatSpreadable:void 0;function vde(t){return yde(t)||gde(t)||!!(NP&&t&&t[NP])}var xde=vde,bde=m4,_de=xde;function P4(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=_de),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?P4(a,e-1,n,r,i):bde(i,a):r||(i[i.length]=a)}return i}var N4=P4;function wde(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var Ede=wde,Tde=Ede,Sde=Tde(),Ade=Sde,Ide=Ade,kde=Ly;function Cde(t,e){return t&&Ide(t,e,kde)}var R4=Cde,Pde=$f;function Nde(t,e){return function(n,r){if(n==null)return n;if(!Pde(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Rde=Nde,Ode=R4,Mde=Rde,Dde=Mde(Ode),$1=Dde,jde=$1,Lde=$f;function $de(t,e){var n=-1,r=Lde(t)?Array(t.length):[];return jde(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var O4=$de;function Vde(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Fde=Vde,RP=bu;function Ude(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=RP(t),s=e!==void 0,a=e===null,l=e===e,u=RP(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var Bde=Ude,Gde=Bde;function zde(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=Gde(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var qde=zde,mv=w1,Hde=E1,Wde=di,Kde=O4,Yde=Fde,Jde=v4,Xde=qde,Qde=ku,Zde=Gn;function efe(t,e,n){e.length?e=mv(e,function(o){return Zde(o)?function(s){return Hde(s,o.length===1?o[0]:o)}:o}):e=[Qde];var r=-1;e=mv(e,Jde(Wde));var i=Kde(t,function(o,s,a){var l=mv(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return Yde(i,function(o,s){return Xde(o,s,n)})}var tfe=efe;function nfe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var rfe=nfe,ife=rfe,OP=Math.max;function ofe(t,e,n){return e=OP(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=OP(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),ife(t,this,a)}}var sfe=ofe;function afe(t){return function(){return t}}var lfe=afe,ufe=ha,cfe=function(){try{var t=ufe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),M4=cfe,dfe=lfe,MP=M4,ffe=ku,hfe=MP?function(t,e){return MP(t,"toString",{configurable:!0,enumerable:!1,value:dfe(e),writable:!0})}:ffe,pfe=hfe,mfe=800,gfe=16,yfe=Date.now;function vfe(t){var e=0,n=0;return function(){var r=yfe(),i=gfe-(r-n);if(n=r,i>0){if(++e>=mfe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var xfe=vfe,bfe=pfe,_fe=xfe,wfe=_fe(bfe),Efe=wfe,Tfe=ku,Sfe=sfe,Afe=Efe;function Ife(t,e){return Afe(Sfe(t,e,Tfe),t+"")}var kfe=Ife,Cfe=v1,Pfe=$f,Nfe=D1,Rfe=is;function Ofe(t,e,n){if(!Rfe(n))return!1;var r=typeof e;return(r=="number"?Pfe(n)&&Nfe(e,n.length):r=="string"&&e in n)?Cfe(n[e],t):!1}var Vy=Ofe,Mfe=N4,Dfe=tfe,jfe=kfe,DP=Vy,Lfe=jfe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&DP(t,e[0],e[1])?e=[]:n>2&&DP(e[0],e[1],e[2])&&(e=[e[0]]),Dfe(t,Mfe(e,1),[])}),$fe=Lfe;const V1=Xe($fe);function Nd(t){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nd(t)}function Hb(){return Hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hb.apply(this,arguments)}function Vfe(t,e){return Gfe(t)||Bfe(t,e)||Ufe(t,e)||Ffe()}function Ffe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ufe(t,e){if(t){if(typeof t=="string")return jP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jP(t,e)}}function jP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Gfe(t){if(Array.isArray(t))return t}function LP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LP(Object(n),!0).forEach(function(r){zfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zfe(t,e,n){return e=qfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qfe(t){var e=Hfe(t,"string");return Nd(e)=="symbol"?e:e+""}function Hfe(t,e){if(Nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wfe(t){return Array.isArray(t)&&Ft(t[0])&&Ft(t[1])?t.join(" ~ "):t}var Kfe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,y=e.wrapperClassName,v=e.labelClassName,b=e.label,x=e.labelFormatter,w=e.accessibilityLayer,_=w===void 0?!1:w,E=function(){if(c&&c.length){var M={padding:0,margin:0},D=(h?V1(c,h):c).map(function(q,U){if(q.type==="none")return null;var j=gv({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},a),F=q.formatter||f||Wfe,L=q.value,V=q.name,z=L,Y=V;if(F&&z!=null&&Y!=null){var H=F(L,V,q,U,c);if(Array.isArray(H)){var J=Vfe(H,2);z=J[0],Y=J[1]}else z=H}return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:j},Ft(Y)?B.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Ft(Y)?B.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,B.createElement("span",{className:"recharts-tooltip-item-value"},z),B.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:M},D)}return null},P=gv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=gv({margin:0},u),C=!Ie(b),I=C?b:"",T=Ce("recharts-default-tooltip",y),k=Ce("recharts-tooltip-label",v);C&&x&&c!==void 0&&c!==null&&(I=x(b,c));var N=_?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",Hb({className:T,style:P},N),B.createElement("p",{className:k,style:S},B.isValidElement(I)?I:"".concat(I)),E())};function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}function Fh(t,e,n){return e=Yfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yfe(t){var e=Jfe(t,"string");return Rd(e)=="symbol"?e:e+""}function Jfe(t,e){if(Rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ac="recharts-tooltip-wrapper",Xfe={visibility:"hidden"};function Qfe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ce(ac,Fh(Fh(Fh(Fh({},"".concat(ac,"-right"),se(n)&&e&&se(e.x)&&n>=e.x),"".concat(ac,"-left"),se(n)&&e&&se(e.x)&&n<e.x),"".concat(ac,"-bottom"),se(r)&&e&&se(e.y)&&r>=e.y),"".concat(ac,"-top"),se(r)&&e&&se(e.y)&&r<e.y))}function $P(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&se(o[r]))return o[r];var c=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?c:f;if(s[r]){var h=c,y=l[r];return h<y?Math.max(f,l[r]):Math.max(c,l[r])}var v=f+a,b=l[r]+u;return v>b?Math.max(c,l[r]):Math.max(f,l[r])}function Zfe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function ehe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,f;return s.height>0&&s.width>0&&n?(c=$P({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=$P({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=Zfe({translateX:c,translateY:f,useTranslate3d:a})):u=Xfe,{cssProperties:u,cssClasses:Qfe({translateX:c,translateY:f,coordinate:n})}}function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function VP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VP(Object(n),!0).forEach(function(r){Kb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function the(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j4(r.key),r)}}function rhe(t,e,n){return e&&nhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ihe(t,e,n){return e=jm(e),ohe(t,D4()?Reflect.construct(e,n||[],jm(t).constructor):e.apply(t,n))}function ohe(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return she(t)}function she(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D4=function(){return!!t})()}function jm(t){return jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jm(t)}function ahe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wb(t,e)}function Wb(t,e){return Wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Wb(t,e)}function Kb(t,e,n){return e=j4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j4(t){var e=lhe(t,"string");return Ol(e)=="symbol"?e:e+""}function lhe(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UP=1,uhe=function(t){function e(){var n;the(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ihe(this,e,[].concat(i)),Kb(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Kb(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return ahe(e,t),rhe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>UP||Math.abs(r.height-this.state.lastBoundingBox.height)>UP)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,y=i.offset,v=i.position,b=i.reverseDirection,x=i.useTranslate3d,w=i.viewBox,_=i.wrapperStyle,E=ehe({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:y,position:v,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:w}),P=E.cssClasses,S=E.cssProperties,C=FP(FP({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return B.createElement("div",{tabIndex:-1,className:P,style:C,ref:function(T){r.wrapperNode=T}},u)}}])}(G.PureComponent),che=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ro={isSsr:che()};function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){F1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$4(r.key),r)}}function hhe(t,e,n){return e&&fhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function phe(t,e,n){return e=Lm(e),mhe(t,L4()?Reflect.construct(e,n||[],Lm(t).constructor):e.apply(t,n))}function mhe(t,e){if(e&&(Ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ghe(t)}function ghe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L4=function(){return!!t})()}function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lm(t)}function yhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yb(t,e)}function Yb(t,e){return Yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yb(t,e)}function F1(t,e,n){return e=$4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $4(t){var e=vhe(t,"string");return Ml(e)=="symbol"?e:e+""}function vhe(t,e){if(Ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function xhe(t){return t.dataKey}function bhe(t,e){return B.isValidElement(t)?B.cloneElement(t,e):typeof t=="function"?B.createElement(t,e):B.createElement(Kfe,e)}var on=function(t){function e(){return dhe(this,e),phe(this,e,arguments)}return yhe(e,t),hhe(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,y=i.offset,v=i.payload,b=i.payloadUniqBy,x=i.position,w=i.reverseDirection,_=i.useTranslate3d,E=i.viewBox,P=i.wrapperStyle,S=v??[];f&&S.length&&(S=I4(v.filter(function(I){return I.value!=null&&(I.hide!==!0||r.props.includeHidden)}),b,xhe));var C=S.length>0;return B.createElement(uhe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:C,offset:y,position:x,reverseDirection:w,useTranslate3d:_,viewBox:E,wrapperStyle:P},bhe(u,GP(GP({},this.props),{},{payload:S})))}}])}(G.PureComponent);F1(on,"displayName","Tooltip");F1(on,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ro.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var _he=ci,whe=function(){return _he.Date.now()},Ehe=whe,The=/\s/;function She(t){for(var e=t.length;e--&&The.test(t.charAt(e)););return e}var Ahe=She,Ihe=Ahe,khe=/^\s+/;function Che(t){return t&&t.slice(0,Ihe(t)+1).replace(khe,"")}var Phe=Che,Nhe=Phe,zP=is,Rhe=bu,qP=NaN,Ohe=/^[-+]0x[0-9a-f]+$/i,Mhe=/^0b[01]+$/i,Dhe=/^0o[0-7]+$/i,jhe=parseInt;function Lhe(t){if(typeof t=="number")return t;if(Rhe(t))return qP;if(zP(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=zP(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Nhe(t);var n=Mhe.test(t);return n||Dhe.test(t)?jhe(t.slice(2),n?2:8):Ohe.test(t)?qP:+t}var V4=Lhe,$he=is,yv=Ehe,HP=V4,Vhe="Expected a function",Fhe=Math.max,Uhe=Math.min;function Bhe(t,e,n){var r,i,o,s,a,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Vhe);e=HP(e)||0,$he(n)&&(c=!!n.leading,f="maxWait"in n,o=f?Fhe(HP(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function y(C){var I=r,T=i;return r=i=void 0,u=C,s=t.apply(T,I),s}function v(C){return u=C,a=setTimeout(w,e),c?y(C):s}function b(C){var I=C-l,T=C-u,k=e-I;return f?Uhe(k,o-T):k}function x(C){var I=C-l,T=C-u;return l===void 0||I>=e||I<0||f&&T>=o}function w(){var C=yv();if(x(C))return _(C);a=setTimeout(w,b(C))}function _(C){return a=void 0,h&&r?y(C):(r=i=void 0,s)}function E(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function P(){return a===void 0?s:_(yv())}function S(){var C=yv(),I=x(C);if(r=arguments,i=this,l=C,I){if(a===void 0)return v(l);if(f)return clearTimeout(a),a=setTimeout(w,e),y(l)}return a===void 0&&(a=setTimeout(w,e)),s}return S.cancel=E,S.flush=P,S}var Ghe=Bhe,zhe=Ghe,qhe=is,Hhe="Expected a function";function Whe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Hhe);return qhe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),zhe(t,e,{leading:r,maxWait:e,trailing:i})}var Khe=Whe;const F4=Xe(Khe);function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){Yhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yhe(t,e,n){return e=Jhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jhe(t){var e=Xhe(t,"string");return Od(e)=="symbol"?e:e+""}function Xhe(t,e){if(Od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qhe(t,e){return npe(t)||tpe(t,e)||epe(t,e)||Zhe()}function Zhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function epe(t,e){if(t){if(typeof t=="string")return KP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KP(t,e)}}function KP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function npe(t){if(Array.isArray(t))return t}var Uo=G.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,y=t.children,v=t.debounce,b=v===void 0?0:v,x=t.id,w=t.className,_=t.onResize,E=t.style,P=E===void 0?{}:E,S=G.useRef(null),C=G.useRef();C.current=_,G.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var I=G.useState({containerWidth:i.width,containerHeight:i.height}),T=Qhe(I,2),k=T[0],N=T[1],O=G.useCallback(function(D,q){N(function(U){var j=Math.round(D),F=Math.round(q);return U.containerWidth===j&&U.containerHeight===F?U:{containerWidth:j,containerHeight:F}})},[]);G.useEffect(function(){var D=function(V){var z,Y=V[0].contentRect,H=Y.width,J=Y.height;O(H,J),(z=C.current)===null||z===void 0||z.call(C,H,J)};b>0&&(D=F4(D,b,{trailing:!0,leading:!1}));var q=new ResizeObserver(D),U=S.current.getBoundingClientRect(),j=U.width,F=U.height;return O(j,F),q.observe(S.current),function(){q.disconnect()}},[O,b]);var M=G.useMemo(function(){var D=k.containerWidth,q=k.containerHeight;if(D<0||q<0)return null;Fr(Ps(s)||Ps(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Fr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var U=Ps(s)?D:s,j=Ps(l)?q:l;n&&n>0&&(U?j=U/n:j&&(U=j*n),h&&j>h&&(j=h)),Fr(U>0||j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,j,s,l,c,f,n);var F=!Array.isArray(y)&&Ri(y.type).endsWith("Chart");return B.Children.map(y,function(L){return B.isValidElement(L)?G.cloneElement(L,Uh({width:U,height:j},F?{style:Uh({height:"100%",width:"100%",maxHeight:j,maxWidth:U},L.props.style)}:{})):L})},[n,y,l,h,f,c,k,s]);return B.createElement("div",{id:x?"".concat(x):void 0,className:Ce("recharts-responsive-container",w),style:Uh(Uh({},P),{},{width:s,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:S},M)}),ma=function(e){return null};ma.displayName="Cell";function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function YP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YP(Object(n),!0).forEach(function(r){rpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rpe(t,e,n){return e=ipe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ipe(t){var e=ope(t,"string");return Md(e)=="symbol"?e:e+""}function ope(t,e){if(Md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sa={widthCache:{},cacheCount:0},spe=2e3,ape={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},JP="recharts_measurement_span";function lpe(t){var e=Jb({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Bc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ro.isSsr)return{width:0,height:0};var r=lpe(n),i=JSON.stringify({text:e,copyStyle:r});if(Sa.widthCache[i])return Sa.widthCache[i];try{var o=document.getElementById(JP);o||(o=document.createElement("span"),o.setAttribute("id",JP),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=Jb(Jb({},ape),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return Sa.widthCache[i]=l,++Sa.cacheCount>spe&&(Sa.cacheCount=0,Sa.widthCache={}),l}catch{return{width:0,height:0}}},upe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function $m(t,e){return hpe(t)||fpe(t,e)||dpe(t,e)||cpe()}function cpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dpe(t,e){if(t){if(typeof t=="string")return XP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XP(t,e)}}function XP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function hpe(t){if(Array.isArray(t))return t}function ppe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gpe(r.key),r)}}function mpe(t,e,n){return e&&QP(t.prototype,e),n&&QP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gpe(t){var e=ype(t,"string");return Dd(e)=="symbol"?e:e+""}function ype(t,e){if(Dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ZP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vpe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xpe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,U4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},bpe=Object.keys(U4),Ja="NaN";function _pe(t,e){return t*U4[e]}var Bh=function(){function t(e,n){ppe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!vpe.test(n)&&(this.num=NaN,this.unit=""),bpe.includes(n)&&(this.num=_pe(e,n),this.unit="px")}return mpe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=xpe.exec(n))!==null&&r!==void 0?r:[],o=$m(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function B4(t){if(t.includes(Ja))return Ja;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=ZP.exec(e))!==null&&n!==void 0?n:[],i=$m(r,4),o=i[1],s=i[2],a=i[3],l=Bh.parse(o??""),u=Bh.parse(a??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Ja;e=e.replace(ZP,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=eN.exec(e))!==null&&f!==void 0?f:[],y=$m(h,4),v=y[1],b=y[2],x=y[3],w=Bh.parse(v??""),_=Bh.parse(x??""),E=b==="+"?w.add(_):w.subtract(_);if(E.isNaN())return Ja;e=e.replace(eN,E.toString())}return e}var tN=/\(([^()]*)\)/;function wpe(t){for(var e=t;e.includes("(");){var n=tN.exec(e),r=$m(n,2),i=r[1];e=e.replace(tN,B4(i))}return e}function Epe(t){var e=t.replace(/\s+/g,"");return e=wpe(e),e=B4(e),e}function Tpe(t){try{return Epe(t)}catch{return Ja}}function vv(t){var e=Tpe(t.slice(5,-1));return e===Ja?"":e}var Spe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ape=["dx","dy","angle","className","breakAll"];function Xb(){return Xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xb.apply(this,arguments)}function nN(t,e){if(t==null)return{};var n=Ipe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ipe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rN(t,e){return Npe(t)||Ppe(t,e)||Cpe(t,e)||kpe()}function kpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cpe(t,e){if(t){if(typeof t=="string")return iN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iN(t,e)}}function iN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ppe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Npe(t){if(Array.isArray(t))return t}var G4=/[ \f\n\r\t\v\u2028\u2029]+/,z4=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Ie(n)||(r?o=n.toString().split(""):o=n.toString().split(G4));var s=o.map(function(l){return{word:l,width:Bc(l,i).width}}),a=r?0:Bc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Rpe=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=se(s),f=a,h=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(j,F){var L=F.word,V=F.width,z=j[j.length-1];if(z&&(i==null||o||z.width+V+r<Number(i)))z.words.push(L),z.width+=V+r;else{var Y={words:[L],width:V};j.push(Y)}return j},[])},y=h(n),v=function(U){return U.reduce(function(j,F){return j.width>F.width?j:F})};if(!c)return y;for(var b="",x=function(U){var j=f.slice(0,U),F=z4({breakAll:u,style:l,children:j+b}).wordsWithComputedWidth,L=h(F),V=L.length>s||v(L).width>Number(i);return[V,L]},w=0,_=f.length-1,E=0,P;w<=_&&E<=f.length-1;){var S=Math.floor((w+_)/2),C=S-1,I=x(C),T=rN(I,2),k=T[0],N=T[1],O=x(S),M=rN(O,1),D=M[0];if(!k&&!D&&(w=S+1),k&&D&&(_=S-1),!k&&D){P=N;break}E++}return P||y},oN=function(e){var n=Ie(e)?[]:e.toString().split(G4);return[{words:n}]},Ope=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!ro.isSsr){var l,u,c=z4({breakAll:s,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return oN(i);return Rpe({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return oN(i)},sN="#808080",ra=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,y=h===void 0?"start":h,v=e.verticalAnchor,b=v===void 0?"end":v,x=e.fill,w=x===void 0?sN:x,_=nN(e,Spe),E=G.useMemo(function(){return Ope({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),P=_.dx,S=_.dy,C=_.angle,I=_.className,T=_.breakAll,k=nN(_,Ape);if(!Ft(r)||!Ft(o))return null;var N=r+(se(P)?P:0),O=o+(se(S)?S:0),M;switch(b){case"start":M=vv("calc(".concat(u,")"));break;case"middle":M=vv("calc(".concat((E.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:M=vv("calc(".concat(E.length-1," * -").concat(a,")"));break}var D=[];if(f){var q=E[0].width,U=_.width;D.push("scale(".concat((se(U)?U/q:1)/q,")"))}return C&&D.push("rotate(".concat(C,", ").concat(N,", ").concat(O,")")),D.length&&(k.transform=D.join(" ")),B.createElement("text",Xb({},ye(k,!0),{x:N,y:O,className:Ce("recharts-text",I),textAnchor:y,fill:w.includes("url")?sN:w}),E.map(function(j,F){var L=j.words.join(T?"":" ");return B.createElement("tspan",{x:N,dy:F===0?M:a,key:"".concat(L,"-").concat(F)},L)}))};function Bo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Mpe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function U1(t){let e,n,r;t.length!==2?(e=Bo,n=(a,l)=>Bo(t(a),l),r=(a,l)=>t(a)-l):(e=t===Bo||t===Mpe?t:Dpe,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function Dpe(){return 0}function q4(t){return t===null?NaN:+t}function*jpe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Lpe=U1(Bo),Vf=Lpe.right;U1(q4).center;class aN extends Map{constructor(e,n=Fpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(lN(this,e))}has(e){return super.has(lN(this,e))}set(e,n){return super.set($pe(this,e),n)}delete(e){return super.delete(Vpe(this,e))}}function lN({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function $pe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Vpe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Fpe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Upe(t=Bo){if(t===Bo)return H4;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function H4(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Bpe=Math.sqrt(50),Gpe=Math.sqrt(10),zpe=Math.sqrt(2);function Vm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Bpe?10:o>=Gpe?5:o>=zpe?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?Vm(t,e,n*2):[a,l,u]}function Qb(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Vm(e,t,n):Vm(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function Zb(t,e,n){return e=+e,t=+t,n=+n,Vm(t,e,n)[2]}function e_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Zb(e,t,n):Zb(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function uN(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function cN(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function W4(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?H4:Upe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),y=Math.max(n,Math.floor(e-u*f/l+h)),v=Math.min(r,Math.floor(e+(l-u)*f/l+h));W4(t,e,y,v,i)}const o=t[e];let s=n,a=r;for(lc(t,n,e),i(t[r],o)>0&&lc(t,n,r);s<a;){for(lc(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?lc(t,n,a):(++a,lc(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function lc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function qpe(t,e,n){if(t=Float64Array.from(jpe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return cN(t);if(e>=1)return uN(t);var r,i=(r-1)*e,o=Math.floor(i),s=uN(W4(t,o).subarray(0,o+1)),a=cN(t.subarray(o+1));return s+(a-s)*(i-o)}}function Hpe(t,e,n=q4){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function Wpe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Er(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function io(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const t_=Symbol("implicit");function B1(){var t=new aN,e=[],n=[],r=t_;function i(o){let s=t.get(o);if(s===void 0){if(r!==t_)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new aN;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return B1(e,n).unknown(r)},Er.apply(i,arguments),i}function jd(){var t=B1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,y=i<r,v=y?i:r,b=y?r:i;o=(b-v)/Math.max(1,h-l+u*2),a&&(o=Math.floor(o)),v+=(b-v-o*(h-l))*c,s=o*(1-l),a&&(v=Math.round(v),s=Math.round(s));var x=Wpe(h).map(function(w){return v+o*w});return n(y?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return jd(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},Er.apply(f(),arguments)}function K4(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return K4(e())},t}function Gc(){return K4(jd.apply(null,arguments).paddingInner(1))}function G1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Y4(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ff(){}var Ld=.7,Fm=1/Ld,pl="\\s*([+-]?\\d+)\\s*",$d="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ri="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kpe=/^#([0-9a-f]{3,8})$/,Ype=new RegExp(`^rgb\\(${pl},${pl},${pl}\\)$`),Jpe=new RegExp(`^rgb\\(${ri},${ri},${ri}\\)$`),Xpe=new RegExp(`^rgba\\(${pl},${pl},${pl},${$d}\\)$`),Qpe=new RegExp(`^rgba\\(${ri},${ri},${ri},${$d}\\)$`),Zpe=new RegExp(`^hsl\\(${$d},${ri},${ri}\\)$`),eme=new RegExp(`^hsla\\(${$d},${ri},${ri},${$d}\\)$`),dN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};G1(Ff,Vd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:fN,formatHex:fN,formatHex8:tme,formatHsl:nme,formatRgb:hN,toString:hN});function fN(){return this.rgb().formatHex()}function tme(){return this.rgb().formatHex8()}function nme(){return J4(this).formatHsl()}function hN(){return this.rgb().formatRgb()}function Vd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Kpe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?pN(e):n===3?new Vn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Gh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Gh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ype.exec(t))?new Vn(e[1],e[2],e[3],1):(e=Jpe.exec(t))?new Vn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Xpe.exec(t))?Gh(e[1],e[2],e[3],e[4]):(e=Qpe.exec(t))?Gh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Zpe.exec(t))?yN(e[1],e[2]/100,e[3]/100,1):(e=eme.exec(t))?yN(e[1],e[2]/100,e[3]/100,e[4]):dN.hasOwnProperty(t)?pN(dN[t]):t==="transparent"?new Vn(NaN,NaN,NaN,0):null}function pN(t){return new Vn(t>>16&255,t>>8&255,t&255,1)}function Gh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Vn(t,e,n,r)}function rme(t){return t instanceof Ff||(t=Vd(t)),t?(t=t.rgb(),new Vn(t.r,t.g,t.b,t.opacity)):new Vn}function n_(t,e,n,r){return arguments.length===1?rme(t):new Vn(t,e,n,r??1)}function Vn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}G1(Vn,n_,Y4(Ff,{brighter(t){return t=t==null?Fm:Math.pow(Fm,t),new Vn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ld:Math.pow(Ld,t),new Vn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Vn(Vs(this.r),Vs(this.g),Vs(this.b),Um(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mN,formatHex:mN,formatHex8:ime,formatRgb:gN,toString:gN}));function mN(){return`#${Ns(this.r)}${Ns(this.g)}${Ns(this.b)}`}function ime(){return`#${Ns(this.r)}${Ns(this.g)}${Ns(this.b)}${Ns((isNaN(this.opacity)?1:this.opacity)*255)}`}function gN(){const t=Um(this.opacity);return`${t===1?"rgb(":"rgba("}${Vs(this.r)}, ${Vs(this.g)}, ${Vs(this.b)}${t===1?")":`, ${t})`}`}function Um(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ns(t){return t=Vs(t),(t<16?"0":"")+t.toString(16)}function yN(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Or(t,e,n,r)}function J4(t){if(t instanceof Or)return new Or(t.h,t.s,t.l,t.opacity);if(t instanceof Ff||(t=Vd(t)),!t)return new Or;if(t instanceof Or)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Or(s,a,l,t.opacity)}function ome(t,e,n,r){return arguments.length===1?J4(t):new Or(t,e,n,r??1)}function Or(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}G1(Or,ome,Y4(Ff,{brighter(t){return t=t==null?Fm:Math.pow(Fm,t),new Or(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ld:Math.pow(Ld,t),new Or(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Vn(xv(t>=240?t-240:t+120,i,r),xv(t,i,r),xv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Or(vN(this.h),zh(this.s),zh(this.l),Um(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Um(this.opacity);return`${t===1?"hsl(":"hsla("}${vN(this.h)}, ${zh(this.s)*100}%, ${zh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function vN(t){return t=(t||0)%360,t<0?t+360:t}function zh(t){return Math.max(0,Math.min(1,t||0))}function xv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const z1=t=>()=>t;function sme(t,e){return function(n){return t+n*e}}function ame(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function lme(t){return(t=+t)==1?X4:function(e,n){return n-e?ame(e,n,t):z1(isNaN(e)?n:e)}}function X4(t,e){var n=e-t;return n?sme(t,n):z1(isNaN(t)?e:t)}const xN=function t(e){var n=lme(e);function r(i,o){var s=n((i=n_(i)).r,(o=n_(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=X4(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function ume(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function cme(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function dme(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Cu(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function fme(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Bm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function hme(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Cu(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var r_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bv=new RegExp(r_.source,"g");function pme(t){return function(){return t}}function mme(t){return function(e){return t(e)+""}}function gme(t,e){var n=r_.lastIndex=bv.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=r_.exec(t))&&(i=bv.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Bm(r,i)})),n=bv.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?mme(l[0].x):pme(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function Cu(t,e){var n=typeof e,r;return e==null||n==="boolean"?z1(e):(n==="number"?Bm:n==="string"?(r=Vd(e))?(e=r,xN):gme:e instanceof Vd?xN:e instanceof Date?fme:cme(e)?ume:Array.isArray(e)?dme:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?hme:Bm)(t,e)}function q1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function yme(t,e){e===void 0&&(e=t,t=Cu);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function vme(t){return function(){return t}}function Gm(t){return+t}var bN=[0,1];function Nn(t){return t}function i_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:vme(isNaN(e)?NaN:.5)}function xme(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function bme(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=i_(i,r),o=n(s,o)):(r=i_(r,i),o=n(o,s)),function(a){return o(r(a))}}function _me(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=i_(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=Vf(t,a,1,r)-1;return o[l](i[l](a))}}function Uf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Fy(){var t=bN,e=bN,n=Cu,r,i,o,s=Nn,a,l,u;function c(){var h=Math.min(t.length,e.length);return s!==Nn&&(s=xme(t[0],t[h-1])),a=h>2?_me:bme,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=a(e,t.map(r),Bm)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,Gm),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=q1,c()},f.clamp=function(h){return arguments.length?(s=h?!0:Nn,c()):s!==Nn},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,y){return r=h,i=y,c()}}function H1(){return Fy()(Nn,Nn)}function wme(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function zm(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Dl(t){return t=zm(Math.abs(t)),t?t[1]:NaN}function Eme(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Tme(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Sme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Fd(t){if(!(e=Sme.exec(t)))throw new Error("invalid format: "+t);var e;return new W1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Fd.prototype=W1.prototype;function W1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}W1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ame(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var qm;function Ime(t,e){var n=zm(t,e);if(!n)return qm=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(qm=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+zm(t,Math.max(0,e+o-1))[0]}function _N(t,e){var n=zm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const wN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:wme,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>_N(t*100,e),r:_N,s:Ime,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function EN(t){return t}var TN=Array.prototype.map,SN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function kme(t){var e=t.grouping===void 0||t.thousands===void 0?EN:Eme(TN.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?EN:Tme(TN.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f,h){f=Fd(f);var y=f.fill,v=f.align,b=f.sign,x=f.symbol,w=f.zero,_=f.width,E=f.comma,P=f.precision,S=f.trim,C=f.type;C==="n"?(E=!0,C="g"):wN[C]||(P===void 0&&(P=12),S=!0,C="g"),(w||y==="0"&&v==="=")&&(w=!0,y="0",v="=");var I=(h&&h.prefix!==void 0?h.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():""),T=(x==="$"?r:/[%p]/.test(C)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),k=wN[C],N=/[defgprs%]/.test(C);P=P===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function O(M){var D=I,q=T,U,j,F;if(C==="c")q=k(M)+q,M="";else{M=+M;var L=M<0||1/M<0;if(M=isNaN(M)?l:k(Math.abs(M),P),S&&(M=Ame(M)),L&&+M==0&&b!=="+"&&(L=!1),D=(L?b==="("?b:a:b==="-"||b==="("?"":b)+D,q=(C==="s"&&!isNaN(M)&&qm!==void 0?SN[8+qm/3]:"")+q+(L&&b==="("?")":""),N){for(U=-1,j=M.length;++U<j;)if(F=M.charCodeAt(U),48>F||F>57){q=(F===46?i+M.slice(U+1):M.slice(U))+q,M=M.slice(0,U);break}}}E&&!w&&(M=e(M,1/0));var V=D.length+M.length+q.length,z=V<_?new Array(_-V+1).join(y):"";switch(E&&w&&(M=e(z+M,z.length?_-q.length:1/0),z=""),v){case"<":M=D+M+q+z;break;case"=":M=D+z+M+q;break;case"^":M=z.slice(0,V=z.length>>1)+D+M+q+z.slice(V);break;default:M=z+D+M+q;break}return o(M)}return O.toString=function(){return f+""},O}function c(f,h){var y=Math.max(-8,Math.min(8,Math.floor(Dl(h)/3)))*3,v=Math.pow(10,-y),b=u((f=Fd(f),f.type="f",f),{suffix:SN[8+y/3]});return function(x){return b(v*x)}}return{format:u,formatPrefix:c}}var qh,K1,Q4;Cme({thousands:",",grouping:[3],currency:["$",""]});function Cme(t){return qh=kme(t),K1=qh.format,Q4=qh.formatPrefix,qh}function Pme(t){return Math.max(0,-Dl(Math.abs(t)))}function Nme(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Dl(e)/3)))*3-Dl(Math.abs(t)))}function Rme(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Dl(e)-Dl(t))+1}function Z4(t,e,n,r){var i=e_(t,e,n),o;switch(r=Fd(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Nme(i,s))&&(r.precision=o),Q4(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Rme(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Pme(i))&&(r.precision=o-(r.type==="%")*2);break}}return K1(r)}function os(t){var e=t.domain;return t.ticks=function(n){var r=e();return Qb(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Z4(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=Zb(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function Hm(){var t=H1();return t.copy=function(){return Uf(t,Hm())},Er.apply(t,arguments),os(t)}function e3(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Gm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return e3(t).unknown(e)},t=arguments.length?Array.from(t,Gm):[0,1],os(n)}function t3(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function AN(t){return Math.log(t)}function IN(t){return Math.exp(t)}function Ome(t){return-Math.log(-t)}function Mme(t){return-Math.exp(-t)}function Dme(t){return isFinite(t)?+("1e"+t):t<0?0:t}function jme(t){return t===10?Dme:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Lme(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function kN(t){return(e,n)=>-t(-e,n)}function Y1(t){const e=t(AN,IN),n=e.domain;let r=10,i,o;function s(){return i=Lme(r),o=jme(r),n()[0]<0?(i=kN(i),o=kN(o),t(Ome,Mme)):t(AN,IN),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),y=i(c),v,b;const x=a==null?10:+a;let w=[];if(!(r%1)&&y-h<x){if(h=Math.floor(h),y=Math.ceil(y),u>0){for(;h<=y;++h)for(v=1;v<r;++v)if(b=h<0?v/o(-h):v*o(h),!(b<u)){if(b>c)break;w.push(b)}}else for(;h<=y;++h)for(v=r-1;v>=1;--v)if(b=h>0?v/o(-h):v*o(h),!(b<u)){if(b>c)break;w.push(b)}w.length*2<x&&(w=Qb(u,c,x))}else w=Qb(h,y,Math.min(y-h,x)).map(o);return f?w.reverse():w},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Fd(l)).precision==null&&(l.trim=!0),l=K1(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(t3(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function n3(){const t=Y1(Fy()).domain([1,10]);return t.copy=()=>Uf(t,n3()).base(t.base()),Er.apply(t,arguments),t}function CN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function PN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function J1(t){var e=1,n=t(CN(e),PN(e));return n.constant=function(r){return arguments.length?t(CN(e=+r),PN(e)):e},os(n)}function r3(){var t=J1(Fy());return t.copy=function(){return Uf(t,r3()).constant(t.constant())},Er.apply(t,arguments)}function NN(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function $me(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Vme(t){return t<0?-t*t:t*t}function X1(t){var e=t(Nn,Nn),n=1;function r(){return n===1?t(Nn,Nn):n===.5?t($me,Vme):t(NN(n),NN(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},os(e)}function Q1(){var t=X1(Fy());return t.copy=function(){return Uf(t,Q1()).exponent(t.exponent())},Er.apply(t,arguments),t}function Fme(){return Q1.apply(null,arguments).exponent(.5)}function RN(t){return Math.sign(t)*t*t}function Ume(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function i3(){var t=H1(),e=[0,1],n=!1,r;function i(o){var s=Ume(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(RN(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Gm)).map(RN)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return i3(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Er.apply(i,arguments),os(i)}function o3(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=Hpe(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Vf(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Bo),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return o3().domain(t).range(e).unknown(r)},Er.apply(o,arguments)}function s3(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Vf(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return s3().domain([t,e]).range(i).unknown(o)},Er.apply(os(s),arguments)}function a3(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Vf(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return a3().domain(t).range(e).unknown(n)},Er.apply(i,arguments)}const _v=new Date,wv=new Date;function Bt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>Bt(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(_v.setTime(+o),wv.setTime(+s),t(_v),t(wv),Math.floor(n(_v,wv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Wm=Bt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Wm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Bt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Wm);Wm.range;const Ai=1e3,fr=Ai*60,Ii=fr*60,Hi=Ii*24,Z1=Hi*7,ON=Hi*30,Ev=Hi*365,Rs=Bt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ai)},(t,e)=>(e-t)/Ai,t=>t.getUTCSeconds());Rs.range;const eT=Bt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ai)},(t,e)=>{t.setTime(+t+e*fr)},(t,e)=>(e-t)/fr,t=>t.getMinutes());eT.range;const tT=Bt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*fr)},(t,e)=>(e-t)/fr,t=>t.getUTCMinutes());tT.range;const nT=Bt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ai-t.getMinutes()*fr)},(t,e)=>{t.setTime(+t+e*Ii)},(t,e)=>(e-t)/Ii,t=>t.getHours());nT.range;const rT=Bt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ii)},(t,e)=>(e-t)/Ii,t=>t.getUTCHours());rT.range;const Bf=Bt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fr)/Hi,t=>t.getDate()-1);Bf.range;const Uy=Bt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Hi,t=>t.getUTCDate()-1);Uy.range;const l3=Bt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Hi,t=>Math.floor(t/Hi));l3.range;function ga(t){return Bt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*fr)/Z1)}const By=ga(0),Km=ga(1),Bme=ga(2),Gme=ga(3),jl=ga(4),zme=ga(5),qme=ga(6);By.range;Km.range;Bme.range;Gme.range;jl.range;zme.range;qme.range;function ya(t){return Bt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Z1)}const Gy=ya(0),Ym=ya(1),Hme=ya(2),Wme=ya(3),Ll=ya(4),Kme=ya(5),Yme=ya(6);Gy.range;Ym.range;Hme.range;Wme.range;Ll.range;Kme.range;Yme.range;const iT=Bt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());iT.range;const oT=Bt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());oT.range;const Wi=Bt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Wi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Wi.range;const Ki=Bt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ki.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ki.range;function u3(t,e,n,r,i,o){const s=[[Rs,1,Ai],[Rs,5,5*Ai],[Rs,15,15*Ai],[Rs,30,30*Ai],[o,1,fr],[o,5,5*fr],[o,15,15*fr],[o,30,30*fr],[i,1,Ii],[i,3,3*Ii],[i,6,6*Ii],[i,12,12*Ii],[r,1,Hi],[r,2,2*Hi],[n,1,Z1],[e,1,ON],[e,3,3*ON],[t,1,Ev]];function a(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const y=f&&typeof f.range=="function"?f:l(u,c,f),v=y?y.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,f){const h=Math.abs(c-u)/f,y=U1(([,,x])=>x).right(s,h);if(y===s.length)return t.every(e_(u/Ev,c/Ev,f));if(y===0)return Wm.every(Math.max(e_(u,c,f),1));const[v,b]=s[h/s[y-1][2]<s[y][2]/h?y-1:y];return v.every(b)}return[a,l]}const[Jme,Xme]=u3(Ki,oT,Gy,l3,rT,tT),[Qme,Zme]=u3(Wi,iT,By,Bf,nT,eT);function Tv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Sv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function uc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function ege(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=cc(i),c=dc(i),f=cc(o),h=dc(o),y=cc(s),v=dc(s),b=cc(a),x=dc(a),w=cc(l),_=dc(l),E={a:F,A:L,b:V,B:z,c:null,d:VN,e:VN,f:Ege,g:Oge,G:Dge,H:bge,I:_ge,j:wge,L:c3,m:Tge,M:Sge,p:Y,q:H,Q:BN,s:GN,S:Age,u:Ige,U:kge,V:Cge,w:Pge,W:Nge,x:null,X:null,y:Rge,Y:Mge,Z:jge,"%":UN},P={a:J,A:ce,b:W,B:ie,c:null,d:FN,e:FN,f:Fge,g:Jge,G:Qge,H:Lge,I:$ge,j:Vge,L:f3,m:Uge,M:Bge,p:fe,q:Re,Q:BN,s:GN,S:Gge,u:zge,U:qge,V:Hge,w:Wge,W:Kge,x:null,X:null,y:Yge,Y:Xge,Z:Zge,"%":UN},S={a:N,A:O,b:M,B:D,c:q,d:LN,e:LN,f:gge,g:jN,G:DN,H:$N,I:$N,j:fge,L:mge,m:dge,M:hge,p:k,q:cge,Q:vge,s:xge,S:pge,u:oge,U:sge,V:age,w:ige,W:lge,x:U,X:j,y:jN,Y:DN,Z:uge,"%":yge};E.x=C(n,E),E.X=C(r,E),E.c=C(e,E),P.x=C(n,P),P.X=C(r,P),P.c=C(e,P);function C(oe,xe){return function(ue){var ee=[],Oe=-1,Te=0,nt=oe.length,rt,Q,le;for(ue instanceof Date||(ue=new Date(+ue));++Oe<nt;)oe.charCodeAt(Oe)===37&&(ee.push(oe.slice(Te,Oe)),(Q=MN[rt=oe.charAt(++Oe)])!=null?rt=oe.charAt(++Oe):Q=rt==="e"?" ":"0",(le=xe[rt])&&(rt=le(ue,Q)),ee.push(rt),Te=Oe+1);return ee.push(oe.slice(Te,Oe)),ee.join("")}}function I(oe,xe){return function(ue){var ee=uc(1900,void 0,1),Oe=T(ee,oe,ue+="",0),Te,nt;if(Oe!=ue.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(xe&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(Te=Sv(uc(ee.y,0,1)),nt=Te.getUTCDay(),Te=nt>4||nt===0?Ym.ceil(Te):Ym(Te),Te=Uy.offset(Te,(ee.V-1)*7),ee.y=Te.getUTCFullYear(),ee.m=Te.getUTCMonth(),ee.d=Te.getUTCDate()+(ee.w+6)%7):(Te=Tv(uc(ee.y,0,1)),nt=Te.getDay(),Te=nt>4||nt===0?Km.ceil(Te):Km(Te),Te=Bf.offset(Te,(ee.V-1)*7),ee.y=Te.getFullYear(),ee.m=Te.getMonth(),ee.d=Te.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),nt="Z"in ee?Sv(uc(ee.y,0,1)).getUTCDay():Tv(uc(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(nt+5)%7:ee.w+ee.U*7-(nt+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,Sv(ee)):Tv(ee)}}function T(oe,xe,ue,ee){for(var Oe=0,Te=xe.length,nt=ue.length,rt,Q;Oe<Te;){if(ee>=nt)return-1;if(rt=xe.charCodeAt(Oe++),rt===37){if(rt=xe.charAt(Oe++),Q=S[rt in MN?xe.charAt(Oe++):rt],!Q||(ee=Q(oe,ue,ee))<0)return-1}else if(rt!=ue.charCodeAt(ee++))return-1}return ee}function k(oe,xe,ue){var ee=u.exec(xe.slice(ue));return ee?(oe.p=c.get(ee[0].toLowerCase()),ue+ee[0].length):-1}function N(oe,xe,ue){var ee=y.exec(xe.slice(ue));return ee?(oe.w=v.get(ee[0].toLowerCase()),ue+ee[0].length):-1}function O(oe,xe,ue){var ee=f.exec(xe.slice(ue));return ee?(oe.w=h.get(ee[0].toLowerCase()),ue+ee[0].length):-1}function M(oe,xe,ue){var ee=w.exec(xe.slice(ue));return ee?(oe.m=_.get(ee[0].toLowerCase()),ue+ee[0].length):-1}function D(oe,xe,ue){var ee=b.exec(xe.slice(ue));return ee?(oe.m=x.get(ee[0].toLowerCase()),ue+ee[0].length):-1}function q(oe,xe,ue){return T(oe,e,xe,ue)}function U(oe,xe,ue){return T(oe,n,xe,ue)}function j(oe,xe,ue){return T(oe,r,xe,ue)}function F(oe){return s[oe.getDay()]}function L(oe){return o[oe.getDay()]}function V(oe){return l[oe.getMonth()]}function z(oe){return a[oe.getMonth()]}function Y(oe){return i[+(oe.getHours()>=12)]}function H(oe){return 1+~~(oe.getMonth()/3)}function J(oe){return s[oe.getUTCDay()]}function ce(oe){return o[oe.getUTCDay()]}function W(oe){return l[oe.getUTCMonth()]}function ie(oe){return a[oe.getUTCMonth()]}function fe(oe){return i[+(oe.getUTCHours()>=12)]}function Re(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var xe=C(oe+="",E);return xe.toString=function(){return oe},xe},parse:function(oe){var xe=I(oe+="",!1);return xe.toString=function(){return oe},xe},utcFormat:function(oe){var xe=C(oe+="",P);return xe.toString=function(){return oe},xe},utcParse:function(oe){var xe=I(oe+="",!0);return xe.toString=function(){return oe},xe}}}var MN={"-":"",_:" ",0:"0"},Zt=/^\s*\d+/,tge=/^%/,nge=/[\\^$*+?|[\]().{}]/g;function Ke(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function rge(t){return t.replace(nge,"\\$&")}function cc(t){return new RegExp("^(?:"+t.map(rge).join("|")+")","i")}function dc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function ige(t,e,n){var r=Zt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function oge(t,e,n){var r=Zt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function sge(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function age(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function lge(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function DN(t,e,n){var r=Zt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function jN(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function uge(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function cge(t,e,n){var r=Zt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function dge(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function LN(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function fge(t,e,n){var r=Zt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function $N(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function hge(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function pge(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function mge(t,e,n){var r=Zt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function gge(t,e,n){var r=Zt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yge(t,e,n){var r=tge.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function vge(t,e,n){var r=Zt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function xge(t,e,n){var r=Zt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function VN(t,e){return Ke(t.getDate(),e,2)}function bge(t,e){return Ke(t.getHours(),e,2)}function _ge(t,e){return Ke(t.getHours()%12||12,e,2)}function wge(t,e){return Ke(1+Bf.count(Wi(t),t),e,3)}function c3(t,e){return Ke(t.getMilliseconds(),e,3)}function Ege(t,e){return c3(t,e)+"000"}function Tge(t,e){return Ke(t.getMonth()+1,e,2)}function Sge(t,e){return Ke(t.getMinutes(),e,2)}function Age(t,e){return Ke(t.getSeconds(),e,2)}function Ige(t){var e=t.getDay();return e===0?7:e}function kge(t,e){return Ke(By.count(Wi(t)-1,t),e,2)}function d3(t){var e=t.getDay();return e>=4||e===0?jl(t):jl.ceil(t)}function Cge(t,e){return t=d3(t),Ke(jl.count(Wi(t),t)+(Wi(t).getDay()===4),e,2)}function Pge(t){return t.getDay()}function Nge(t,e){return Ke(Km.count(Wi(t)-1,t),e,2)}function Rge(t,e){return Ke(t.getFullYear()%100,e,2)}function Oge(t,e){return t=d3(t),Ke(t.getFullYear()%100,e,2)}function Mge(t,e){return Ke(t.getFullYear()%1e4,e,4)}function Dge(t,e){var n=t.getDay();return t=n>=4||n===0?jl(t):jl.ceil(t),Ke(t.getFullYear()%1e4,e,4)}function jge(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ke(e/60|0,"0",2)+Ke(e%60,"0",2)}function FN(t,e){return Ke(t.getUTCDate(),e,2)}function Lge(t,e){return Ke(t.getUTCHours(),e,2)}function $ge(t,e){return Ke(t.getUTCHours()%12||12,e,2)}function Vge(t,e){return Ke(1+Uy.count(Ki(t),t),e,3)}function f3(t,e){return Ke(t.getUTCMilliseconds(),e,3)}function Fge(t,e){return f3(t,e)+"000"}function Uge(t,e){return Ke(t.getUTCMonth()+1,e,2)}function Bge(t,e){return Ke(t.getUTCMinutes(),e,2)}function Gge(t,e){return Ke(t.getUTCSeconds(),e,2)}function zge(t){var e=t.getUTCDay();return e===0?7:e}function qge(t,e){return Ke(Gy.count(Ki(t)-1,t),e,2)}function h3(t){var e=t.getUTCDay();return e>=4||e===0?Ll(t):Ll.ceil(t)}function Hge(t,e){return t=h3(t),Ke(Ll.count(Ki(t),t)+(Ki(t).getUTCDay()===4),e,2)}function Wge(t){return t.getUTCDay()}function Kge(t,e){return Ke(Ym.count(Ki(t)-1,t),e,2)}function Yge(t,e){return Ke(t.getUTCFullYear()%100,e,2)}function Jge(t,e){return t=h3(t),Ke(t.getUTCFullYear()%100,e,2)}function Xge(t,e){return Ke(t.getUTCFullYear()%1e4,e,4)}function Qge(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ll(t):Ll.ceil(t),Ke(t.getUTCFullYear()%1e4,e,4)}function Zge(){return"+0000"}function UN(){return"%"}function BN(t){return+t}function GN(t){return Math.floor(+t/1e3)}var Aa,p3,m3;eye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function eye(t){return Aa=ege(t),p3=Aa.format,Aa.parse,m3=Aa.utcFormat,Aa.utcParse,Aa}function tye(t){return new Date(t)}function nye(t){return t instanceof Date?+t:+new Date(+t)}function sT(t,e,n,r,i,o,s,a,l,u){var c=H1(),f=c.invert,h=c.domain,y=u(".%L"),v=u(":%S"),b=u("%I:%M"),x=u("%I %p"),w=u("%a %d"),_=u("%b %d"),E=u("%B"),P=u("%Y");function S(C){return(l(C)<C?y:a(C)<C?v:s(C)<C?b:o(C)<C?x:r(C)<C?i(C)<C?w:_:n(C)<C?E:P)(C)}return c.invert=function(C){return new Date(f(C))},c.domain=function(C){return arguments.length?h(Array.from(C,nye)):h().map(tye)},c.ticks=function(C){var I=h();return t(I[0],I[I.length-1],C??10)},c.tickFormat=function(C,I){return I==null?S:u(I)},c.nice=function(C){var I=h();return(!C||typeof C.range!="function")&&(C=e(I[0],I[I.length-1],C??10)),C?h(t3(I,C)):c},c.copy=function(){return Uf(c,sT(t,e,n,r,i,o,s,a,l,u))},c}function rye(){return Er.apply(sT(Qme,Zme,Wi,iT,By,Bf,nT,eT,Rs,p3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function iye(){return Er.apply(sT(Jme,Xme,Ki,oT,Gy,Uy,rT,tT,Rs,m3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function zy(){var t=0,e=1,n,r,i,o,s=Nn,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(h){var y,v;return arguments.length?([y,v]=h,s=f(y,v),u):[s(0),s(1)]}}return u.range=c(Cu),u.rangeRound=c(q1),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function ss(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function g3(){var t=os(zy()(Nn));return t.copy=function(){return ss(t,g3())},io.apply(t,arguments)}function y3(){var t=Y1(zy()).domain([1,10]);return t.copy=function(){return ss(t,y3()).base(t.base())},io.apply(t,arguments)}function v3(){var t=J1(zy());return t.copy=function(){return ss(t,v3()).constant(t.constant())},io.apply(t,arguments)}function aT(){var t=X1(zy());return t.copy=function(){return ss(t,aT()).exponent(t.exponent())},io.apply(t,arguments)}function oye(){return aT.apply(null,arguments).exponent(.5)}function x3(){var t=[],e=Nn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Vf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Bo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>qpe(t,o/r))},n.copy=function(){return x3(e).domain(t)},io.apply(n,arguments)}function qy(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=Nn,c,f=!1,h;function y(b){return isNaN(b=+b)?h:(b=.5+((b=+c(b))-o)*(r*b<r*o?a:l),u(f?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([t,e,n]=b,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y):[t,e,n]},y.clamp=function(b){return arguments.length?(f=!!b,y):f},y.interpolator=function(b){return arguments.length?(u=b,y):u};function v(b){return function(x){var w,_,E;return arguments.length?([w,_,E]=x,u=yme(b,[w,_,E]),y):[u(0),u(.5),u(1)]}}return y.range=v(Cu),y.rangeRound=v(q1),y.unknown=function(b){return arguments.length?(h=b,y):h},function(b){return c=b,i=b(t),o=b(e),s=b(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y}}function b3(){var t=os(qy()(Nn));return t.copy=function(){return ss(t,b3())},io.apply(t,arguments)}function _3(){var t=Y1(qy()).domain([.1,1,10]);return t.copy=function(){return ss(t,_3()).base(t.base())},io.apply(t,arguments)}function w3(){var t=J1(qy());return t.copy=function(){return ss(t,w3()).constant(t.constant())},io.apply(t,arguments)}function lT(){var t=X1(qy());return t.copy=function(){return ss(t,lT()).exponent(t.exponent())},io.apply(t,arguments)}function sye(){return lT.apply(null,arguments).exponent(.5)}const zN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:jd,scaleDiverging:b3,scaleDivergingLog:_3,scaleDivergingPow:lT,scaleDivergingSqrt:sye,scaleDivergingSymlog:w3,scaleIdentity:e3,scaleImplicit:t_,scaleLinear:Hm,scaleLog:n3,scaleOrdinal:B1,scalePoint:Gc,scalePow:Q1,scaleQuantile:o3,scaleQuantize:s3,scaleRadial:i3,scaleSequential:g3,scaleSequentialLog:y3,scaleSequentialPow:aT,scaleSequentialQuantile:x3,scaleSequentialSqrt:oye,scaleSequentialSymlog:v3,scaleSqrt:Fme,scaleSymlog:r3,scaleThreshold:a3,scaleTime:rye,scaleUtc:iye,tickFormat:Z4},Symbol.toStringTag,{value:"Module"}));var aye=bu;function lye(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!aye(s):n(s,a)))var a=s,l=o}return l}var Hy=lye;function uye(t,e){return t>e}var E3=uye,cye=Hy,dye=E3,fye=ku;function hye(t){return t&&t.length?cye(t,fye,dye):void 0}var pye=hye;const Ao=Xe(pye);function mye(t,e){return t<e}var T3=mye,gye=Hy,yye=T3,vye=ku;function xye(t){return t&&t.length?gye(t,vye,yye):void 0}var bye=xye;const Wy=Xe(bye);var _ye=w1,wye=di,Eye=O4,Tye=Gn;function Sye(t,e){var n=Tye(t)?_ye:Eye;return n(t,wye(e))}var Aye=Sye,Iye=N4,kye=Aye;function Cye(t,e){return Iye(kye(t,e),1)}var Pye=Cye;const Nye=Xe(Pye);var Rye=L1;function Oye(t,e){return Rye(t,e)}var Mye=Oye;const Yo=Xe(Mye);var Pu=1e9,Dye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cT,yt=!0,br="[DecimalError] ",Fs=br+"Invalid argument: ",uT=br+"Exponent out of range: ",Nu=Math.floor,ws=Math.pow,jye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yn,Wt=1e7,pt=7,S3=9007199254740991,Jm=Nu(S3/pt),ge={};ge.absoluteValue=ge.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ge.comparedTo=ge.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*pt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ge.dividedBy=ge.div=function(t){return Oi(this,new this.constructor(t))};ge.dividedToIntegerBy=ge.idiv=function(t){var e=this,n=e.constructor;return st(Oi(e,new n(t),0,1),n.precision)};ge.equals=ge.eq=function(t){return!this.cmp(t)};ge.exponent=function(){return Mt(this)};ge.greaterThan=ge.gt=function(t){return this.cmp(t)>0};ge.greaterThanOrEqualTo=ge.gte=function(t){return this.cmp(t)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(t){return this.cmp(t)<0};ge.lessThanOrEqualTo=ge.lte=function(t){return this.cmp(t)<1};ge.logarithm=ge.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Yn))throw Error(br+"NaN");if(n.s<1)throw Error(br+(n.s?"NaN":"-Infinity"));return n.eq(Yn)?new r(0):(yt=!1,e=Oi(Ud(n,o),Ud(t,o),o),yt=!0,st(e,i))};ge.minus=ge.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?k3(e,t):A3(e,(t.s=-t.s,t))};ge.modulo=ge.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(br+"NaN");return n.s?(yt=!1,e=Oi(n,t,0,1).times(t),yt=!0,n.minus(e)):st(new r(n),i)};ge.naturalExponential=ge.exp=function(){return I3(this)};ge.naturalLogarithm=ge.ln=function(){return Ud(this)};ge.negated=ge.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ge.plus=ge.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?A3(e,t):k3(e,(t.s=-t.s,t))};ge.precision=ge.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Fs+t);if(e=Mt(i)+1,r=i.d.length-1,n=r*pt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ge.squareRoot=ge.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(br+"NaN")}for(t=Mt(a),yt=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Jr(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Nu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Oi(a,o,s+2)).times(.5),Jr(o.d).slice(0,s)===(e=Jr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(st(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return yt=!0,st(r,n)};ge.times=ge.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,f=c.constructor,h=c.d,y=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=y.length,l<u&&(o=h,h=y,y=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+y[r]*h[i-r-1]+e,o[i--]=a%Wt|0,e=a/Wt|0;o[i]=(o[i]+e)%Wt|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,yt?st(t,f.precision):t};ge.toDecimalPlaces=ge.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(si(t,0,Pu),e===void 0?e=r.rounding:si(e,0,8),st(n,t+Mt(n)+1,e))};ge.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ia(r,!0):(si(t,0,Pu),e===void 0?e=i.rounding:si(e,0,8),r=st(new i(r),t+1,e),n=ia(r,!0,t+1)),n};ge.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?ia(i):(si(t,0,Pu),e===void 0?e=o.rounding:si(e,0,8),r=st(new o(i),t+Mt(i)+1,e),n=ia(r.abs(),!1,t+Mt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ge.toInteger=ge.toint=function(){var t=this,e=t.constructor;return st(new e(t),Mt(t)+1,e.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Yn);if(a=new l(a),!a.s){if(t.s<1)throw Error(br+"Infinity");return a}if(a.eq(Yn))return a;if(r=l.precision,t.eq(Yn))return st(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=S3){for(i=new l(Yn),e=Math.ceil(r/pt+4),yt=!1;n%2&&(i=i.times(a),HN(i.d,e)),n=Nu(n/2),n!==0;)a=a.times(a),HN(a.d,e);return yt=!0,t.s<0?new l(Yn).div(i):st(i,r)}}else if(o<0)throw Error(br+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,yt=!1,i=t.times(Ud(a,r+u)),yt=!0,i=I3(i),i.s=o,i};ge.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Mt(i),r=ia(i,n<=o.toExpNeg||n>=o.toExpPos)):(si(t,1,Pu),e===void 0?e=o.rounding:si(e,0,8),i=st(new o(i),t,e),n=Mt(i),r=ia(i,t<=n||n<=o.toExpNeg,t)),r};ge.toSignificantDigits=ge.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(si(t,1,Pu),e===void 0?e=r.rounding:si(e,0,8)),st(new r(n),t,e)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Mt(t),n=t.constructor;return ia(t,e<=n.toExpNeg||e>=n.toExpPos)};function A3(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),yt?st(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(f/pt),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Wt|0,l[o]%=Wt;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,yt?st(e,f):e}function si(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Fs+t)}function Jr(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=pt-r.length,n&&(o+=po(n)),o+=r;s=t[e],r=s+"",n=pt-r.length,n&&(o+=po(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Oi=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Wt|0,s=o/Wt|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Wt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,f,h,y,v,b,x,w,_,E,P,S,C,I,T,k=r.constructor,N=r.s==i.s?1:-1,O=r.d,M=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(br+"Division by zero");for(l=r.e-i.e,I=M.length,S=O.length,y=new k(N),v=y.d=[],u=0;M[u]==(O[u]||0);)++u;if(M[u]>(O[u]||0)&&--l,o==null?_=o=k.precision:s?_=o+(Mt(r)-Mt(i))+1:_=o,_<0)return new k(0);if(_=_/pt+2|0,u=0,I==1)for(c=0,M=M[0],_++;(u<S||c)&&_--;u++)E=c*Wt+(O[u]||0),v[u]=E/M|0,c=E%M|0;else{for(c=Wt/(M[0]+1)|0,c>1&&(M=t(M,c),O=t(O,c),I=M.length,S=O.length),P=I,b=O.slice(0,I),x=b.length;x<I;)b[x++]=0;T=M.slice(),T.unshift(0),C=M[0],M[1]>=Wt/2&&++C;do c=0,a=e(M,b,I,x),a<0?(w=b[0],I!=x&&(w=w*Wt+(b[1]||0)),c=w/C|0,c>1?(c>=Wt&&(c=Wt-1),f=t(M,c),h=f.length,x=b.length,a=e(f,b,h,x),a==1&&(c--,n(f,I<h?T:M,h))):(c==0&&(a=c=1),f=M.slice()),h=f.length,h<x&&f.unshift(0),n(b,f,x),a==-1&&(x=b.length,a=e(M,b,I,x),a<1&&(c++,n(b,I<x?T:M,x))),x=b.length):a===0&&(c++,b=[0]),v[u++]=c,a&&b[0]?b[x++]=O[P]||0:(b=[O[P]],x=1);while((P++<S||b[0]!==void 0)&&_--)}return v[0]||v.shift(),y.e=l,st(y,s?o+Mt(y)+1:o)}}();function I3(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,f=c.precision;if(Mt(t)>16)throw Error(uT+Mt(t));if(!t.s)return new c(Yn);for(yt=!1,a=f,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(ws(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(Yn),c.precision=a;;){if(i=st(i.times(t),a),n=n.times(++l),s=o.plus(Oi(i,n,a)),Jr(s.d).slice(0,a)===Jr(o.d).slice(0,a)){for(;u--;)o=st(o.times(o),a);return c.precision=f,e==null?(yt=!0,st(o,f)):o}o=s}}function Mt(t){for(var e=t.e*pt,n=t.d[0];n>=10;n/=10)e++;return e}function Av(t,e,n){if(e>t.LN10.sd())throw yt=!0,n&&(t.precision=n),Error(br+"LN10 precision limit exceeded");return st(new t(t.LN10),e)}function po(t){for(var e="";t--;)e+="0";return e}function Ud(t,e){var n,r,i,o,s,a,l,u,c,f=1,h=10,y=t,v=y.d,b=y.constructor,x=b.precision;if(y.s<1)throw Error(br+(y.s?"NaN":"-Infinity"));if(y.eq(Yn))return new b(0);if(e==null?(yt=!1,u=x):u=e,y.eq(10))return e==null&&(yt=!0),Av(b,u);if(u+=h,b.precision=u,n=Jr(v),r=n.charAt(0),o=Mt(y),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=Jr(y.d),r=n.charAt(0),f++;o=Mt(y),r>1?(y=new b("0."+n),o++):y=new b(r+"."+n.slice(1))}else return l=Av(b,u+2,x).times(o+""),y=Ud(new b(r+"."+n.slice(1)),u-h).plus(l),b.precision=x,e==null?(yt=!0,st(y,x)):y;for(a=s=y=Oi(y.minus(Yn),y.plus(Yn),u),c=st(y.times(y),u),i=3;;){if(s=st(s.times(c),u),l=a.plus(Oi(s,new b(i),u)),Jr(l.d).slice(0,u)===Jr(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(Av(b,u+2,x).times(o+""))),a=Oi(a,new b(f),u),b.precision=x,e==null?(yt=!0,st(a,x)):a;a=l,i+=2}}function qN(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Nu(n/pt),t.d=[],r=(n+1)%pt,n<0&&(r+=pt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=pt;r<i;)t.d.push(+e.slice(r,r+=pt));e=e.slice(r),r=pt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),yt&&(t.e>Jm||t.e<-Jm))throw Error(uT+n)}else t.s=0,t.e=0,t.d=[0];return t}function st(t,e,n){var r,i,o,s,a,l,u,c,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=pt,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/pt),o=f.length,c>=o)return t;for(u=o=f[c],s=1;o>=10;o/=10)s++;r%=pt,i=r-pt+s}if(n!==void 0&&(o=ws(10,s-i-1),a=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/ws(10,s-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Mt(t),f.length=1,e=e-o-1,f[0]=ws(10,(pt-e%pt)%pt),t.e=Nu(-e/pt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=ws(10,pt-r),f[c]=i>0?(u/ws(10,s-i)%ws(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==Wt&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=Wt)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(yt&&(t.e>Jm||t.e<-Jm))throw Error(uT+Mt(t));return t}function k3(t,e){var n,r,i,o,s,a,l,u,c,f,h=t.constructor,y=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),yt?st(e,y):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(y/pt),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Wt-1;--l[o],l[i]+=Wt}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,yt?st(e,y):e):new h(0)}function ia(t,e,n){var r,i=Mt(t),o=Jr(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+po(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+po(-i-1)+o,n&&(r=n-s)>0&&(o+=po(r))):i>=s?(o+=po(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+po(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=po(r))),t.s<0?"-"+o:o}function HN(t,e){if(t.length>e)return t.length=e,!0}function C3(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Fs+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return qN(s,o.toString())}else if(typeof o!="string")throw Error(Fs+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,jye.test(o))qN(s,o);else throw Error(Fs+o)}if(i.prototype=ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=C3,i.config=i.set=Lye,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Lye(t){if(!t||typeof t!="object")throw Error(br+"Object expected");var e,n,r,i=["precision",1,Pu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Nu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Fs+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Fs+n+": "+r);return this}var cT=C3(Dye);Yn=new cT(1);const tt=cT;function $ye(t){return Bye(t)||Uye(t)||Fye(t)||Vye()}function Vye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fye(t,e){if(t){if(typeof t=="string")return o_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o_(t,e)}}function Uye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Bye(t){if(Array.isArray(t))return o_(t)}function o_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Gye=function(e){return e},P3={},N3=function(e){return e===P3},WN=function(e){return function n(){return arguments.length===0||arguments.length===1&&N3(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},zye=function t(e,n){return e===1?n:WN(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==P3}).length;return s>=e?n.apply(void 0,i):t(e-s,WN(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=i.map(function(f){return N3(f)?l.shift():f});return n.apply(void 0,$ye(c).concat(l))}))})},Ky=function(e){return zye(e.length,e)},s_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},qye=Ky(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Hye=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Gye;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},a_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},R3=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Wye(t){var e;return t===0?e=1:e=Math.floor(new tt(t).abs().log(10).toNumber())+1,e}function Kye(t,e,n){for(var r=new tt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Yye=Ky(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Jye=Ky(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Xye=Ky(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Yy={rangeStep:Kye,getDigitCount:Wye,interpolateNumber:Yye,uninterpolateNumber:Jye,uninterpolateTruncation:Xye};function l_(t){return e0e(t)||Zye(t)||O3(t)||Qye()}function Qye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function e0e(t){if(Array.isArray(t))return u_(t)}function Bd(t,e){return r0e(t)||n0e(t,e)||O3(t,e)||t0e()}function t0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O3(t,e){if(t){if(typeof t=="string")return u_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u_(t,e)}}function u_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n0e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function r0e(t){if(Array.isArray(t))return t}function M3(t){var e=Bd(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function D3(t,e,n){if(t.lte(0))return new tt(0);var r=Yy.getDigitCount(t.toNumber()),i=new tt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new tt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new tt(Math.ceil(l))}function i0e(t,e,n){var r=1,i=new tt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new tt(10).pow(Yy.getDigitCount(t)-1),i=new tt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new tt(Math.floor(t)))}else t===0?i=new tt(Math.floor((e-1)/2)):n||(i=new tt(Math.floor(t)));var s=Math.floor((e-1)/2),a=Hye(qye(function(l){return i.add(new tt(l-s).mul(r)).toNumber()}),s_);return a(0,e)}function j3(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new tt(0),tickMin:new tt(0),tickMax:new tt(0)};var o=D3(new tt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new tt(0):(s=new tt(t).add(e).div(2),s=s.sub(new tt(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new tt(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?j3(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new tt(a).mul(o)),tickMax:s.add(new tt(l).mul(o))})}function o0e(t){var e=Bd(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=M3([n,r]),l=Bd(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(l_(s_(0,i-1).map(function(){return 1/0}))):[].concat(l_(s_(0,i-1).map(function(){return-1/0})),[c]);return n>r?a_(f):f}if(u===c)return i0e(u,i,o);var h=j3(u,c,s,o),y=h.step,v=h.tickMin,b=h.tickMax,x=Yy.rangeStep(v,b.add(new tt(.1).mul(y)),y);return n>r?a_(x):x}function s0e(t,e){var n=Bd(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=M3([r,i]),a=Bd(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=D3(new tt(u).sub(l).div(c-1),o,0),h=[].concat(l_(Yy.rangeStep(new tt(l),new tt(u).sub(new tt(.99).mul(f)),f)),[u]);return r>i?a_(h):h}var a0e=R3(o0e),l0e=R3(s0e),u0e="Invariant failed";function oa(t,e){throw new Error(u0e)}var c0e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function Xm(){return Xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xm.apply(this,arguments)}function d0e(t,e){return m0e(t)||p0e(t,e)||h0e(t,e)||f0e()}function f0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h0e(t,e){if(t){if(typeof t=="string")return KN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KN(t,e)}}function KN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function m0e(t){if(Array.isArray(t))return t}function g0e(t,e){if(t==null)return{};var n=y0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function y0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function v0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V3(r.key),r)}}function b0e(t,e,n){return e&&x0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _0e(t,e,n){return e=Qm(e),w0e(t,L3()?Reflect.construct(e,n||[],Qm(t).constructor):e.apply(t,n))}function w0e(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E0e(t)}function E0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L3=function(){return!!t})()}function Qm(t){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qm(t)}function T0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c_(t,e)}function c_(t,e){return c_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},c_(t,e)}function $3(t,e,n){return e=V3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V3(t){var e=S0e(t,"string");return $l(e)=="symbol"?e:e+""}function S0e(t,e){if($l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gf=function(t){function e(){return v0e(this,e),_0e(this,e,arguments)}return T0e(e,t),b0e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=g0e(r,c0e),y=ye(h,!1);this.props.direction==="x"&&c.type!=="number"&&oa();var v=l.map(function(b){var x=u(b,a),w=x.x,_=x.y,E=x.value,P=x.errorVal;if(!P)return null;var S=[],C,I;if(Array.isArray(P)){var T=d0e(P,2);C=T[0],I=T[1]}else C=I=P;if(o==="vertical"){var k=c.scale,N=_+i,O=N+s,M=N-s,D=k(E-C),q=k(E+I);S.push({x1:q,y1:O,x2:q,y2:M}),S.push({x1:D,y1:N,x2:q,y2:N}),S.push({x1:D,y1:O,x2:D,y2:M})}else if(o==="horizontal"){var U=f.scale,j=w+i,F=j-s,L=j+s,V=U(E-C),z=U(E+I);S.push({x1:F,y1:z,x2:L,y2:z}),S.push({x1:j,y1:V,x2:j,y2:z}),S.push({x1:F,y1:V,x2:L,y2:V})}return B.createElement(je,Xm({className:"recharts-errorBar",key:"bar-".concat(S.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},y),S.map(function(Y){return B.createElement("line",Xm({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return B.createElement(je,{className:"recharts-errorBars"},v)}}])}(B.Component);$3(Gf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});$3(Gf,"displayName","ErrorBar");function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function YN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YN(Object(n),!0).forEach(function(r){A0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A0e(t,e,n){return e=I0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I0e(t){var e=k0e(t,"string");return Gd(e)=="symbol"?e:e+""}function k0e(t,e){if(Gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F3=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Kn(n,ni);if(!s)return null;var a=ni.defaultProps,l=a!==void 0?hs(hs({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,y=f.props,v=y.sectors||y.data||[];return c.concat(v.map(function(b){return{type:s.props.iconType||h.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,y=h!==void 0?hs(hs({},h),f.props):{},v=y.dataKey,b=y.name,x=y.legendType,w=y.hide;return{inactive:w,dataKey:v,type:l.iconType||x||"square",color:dT(f),value:b||v,payload:y}}),hs(hs(hs({},l),ni.getWithHeight(s,i)),{},{payload:u,item:s})};function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function JN(t){return R0e(t)||N0e(t)||P0e(t)||C0e()}function C0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P0e(t,e){if(t){if(typeof t=="string")return d_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d_(t,e)}}function N0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function R0e(t){if(Array.isArray(t))return d_(t)}function d_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XN(Object(n),!0).forEach(function(r){ml(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ml(t,e,n){return e=O0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O0e(t){var e=M0e(t,"string");return zd(e)=="symbol"?e:e+""}function M0e(t,e){if(zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bt(t,e,n){return Ie(t)||Ie(e)?n:Ft(e)?er(t,e,n):_e(e)?e(t):n}function zc(t,e,n,r){var i=Nye(t,function(a){return bt(a,e)});if(n==="number"){var o=i.filter(function(a){return se(a)||parseFloat(a)});return o.length?[Wy(o),Ao(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!Ie(a)}):i;return s.map(function(a){return Ft(a)||a instanceof Date?a:""})}var D0e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var c=u>0?i[u-1].coordinate:i[a-1].coordinate,f=i[u].coordinate,h=u>=a-1?i[0].coordinate:i[u+1].coordinate,y=void 0;if(Cn(f-c)!==Cn(h-f)){var v=[];if(Cn(h-f)===Cn(l[1]-l[0])){y=h;var b=f+l[1]-l[0];v[0]=Math.min(b,(b+c)/2),v[1]=Math.max(b,(b+c)/2)}else{y=c;var x=h+l[1]-l[0];v[0]=Math.min(f,(x+f)/2),v[1]=Math.max(f,(x+f)/2)}var w=[Math.min(f,(y+f)/2),Math.max(f,(y+f)/2)];if(e>w[0]&&e<=w[1]||e>=v[0]&&e<=v[1]){s=i[u].index;break}}else{var _=Math.min(c,h),E=Math.max(c,h);if(e>(_+f)/2&&e<=(E+f)/2){s=i[u].index;break}}}else for(var P=0;P<a;P++)if(P===0&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P>0&&P<a-1&&e>(r[P].coordinate+r[P-1].coordinate)/2&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P===a-1&&e>(r[P].coordinate+r[P-1].coordinate)/2){s=r[P].index;break}return s},dT=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?At(At({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},j0e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var c=o[a[l]].stackGroups,f=Object.keys(c),h=0,y=f.length;h<y;h++){var v=c[f[h]],b=v.items,x=v.cateAxisId,w=b.filter(function(I){return Ri(I.type).indexOf("Bar")>=0});if(w&&w.length){var _=w[0].type.defaultProps,E=_!==void 0?At(At({},_),w[0].props):w[0].props,P=E.barSize,S=E[x];s[S]||(s[S]=[]);var C=Ie(P)?n:P;s[S].push({item:w[0],stackList:w.slice(1),barSize:Ie(C)?void 0:Pn(C,r,0)})}}return s},L0e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=Pn(n,i,0,!0),c,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,y=i/l,v=s.reduce(function(P,S){return P+S.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&y>0&&(h=!0,y*=.9,v=l*y);var b=(i-v)/2>>0,x={offset:b-u,size:0};c=s.reduce(function(P,S){var C={item:S.item,position:{offset:x.offset+x.size+u,size:h?y:S.barSize}},I=[].concat(JN(P),[C]);return x=I[I.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){I.push({item:T,position:x})}),I},f)}else{var w=Pn(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var _=(i-2*w-(l-1)*u)/l;_>1&&(_>>=0);var E=a===+a?Math.min(_,a):_;c=s.reduce(function(P,S,C){var I=[].concat(JN(P),[{item:S.item,position:{offset:w+(_+u)*C+(_-E)/2,size:E}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){I.push({item:T,position:I[I.length-1].position})}),I},f)}return c},$0e=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=F3({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,y=u.align,v=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&v==="middle")&&y!=="center"&&se(e[y]))return At(At({},e),{},ml({},y,e[y]+(f||0)));if((b==="horizontal"||b==="vertical"&&y==="center")&&v!=="middle"&&se(e[v]))return At(At({},e),{},ml({},v,e[v]+(h||0)))}return e},V0e=function(e,n,r){return Ie(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},U3=function(e,n,r,i,o){var s=n.props.children,a=tr(s,Gf).filter(function(u){return V0e(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=bt(c,r);if(Ie(f))return u;var h=Array.isArray(f)?[Wy(f),Ao(f)]:[f,f],y=l.reduce(function(v,b){var x=bt(c,b,0),w=h[0]-Math.abs(Array.isArray(x)?x[0]:x),_=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(w,v[0]),Math.max(_,v[1])]},[1/0,-1/0]);return[Math.min(y[0],u[0]),Math.max(y[1],u[1])]},[1/0,-1/0])}return null},F0e=function(e,n,r,i,o){var s=n.map(function(a){return U3(e,a,r,o,i)}).filter(function(a){return!Ie(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},B3=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&U3(e,l,u,i)||zc(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},G3=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},z3=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},ki=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Cn(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!Su(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},Iv=new WeakMap,Hh=function(e,n){if(typeof n!="function")return e;Iv.has(e)||Iv.set(e,new WeakMap);var r=Iv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},q3=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:jd(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:Hm(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Gc(),realScaleType:"point"}:o==="category"?{scale:jd(),realScaleType:"band"}:{scale:Hm(),realScaleType:"linear"};if(ta(i)){var l="scale".concat(Oy(i));return{scale:(zN[l]||Gc)(),realScaleType:zN[l]?l:"point"}}return _e(i)?{scale:i}:{scale:Gc(),realScaleType:"point"}},QN=1e-4,H3=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-QN,s=Math.max(i[0],i[1])+QN,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},U0e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},B0e=function(e,n){if(!n||n.length!==2||!se(n[0])||!se(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!se(e[0])||e[0]<r)&&(o[0]=r),(!se(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},G0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=Su(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},z0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=Su(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},q0e={sign:G0e,expand:coe,none:Pl,silhouette:doe,wiggle:foe,positive:z0e},H0e=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=q0e[r],s=uoe().keys(i).value(function(a,l){return+bt(a,l,0)}).order(jb).offset(o);return s(e)},W0e=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(f,h){var y,v=(y=h.type)!==null&&y!==void 0&&y.defaultProps?At(At({},h.type.defaultProps),h.props):h.props,b=v.stackId,x=v.hide;if(x)return f;var w=v[r],_=f[w]||{hasStack:!1,stackGroups:{}};if(Ft(b)){var E=_.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};E.items.push(h),_.hasStack=!0,_.stackGroups[b]=E}else _.stackGroups[pa("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return At(At({},f),{},ml({},w,_))},l),c={};return Object.keys(u).reduce(function(f,h){var y=u[h];if(y.hasStack){var v={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(b,x){var w=y.stackGroups[x];return At(At({},b),{},ml({},x,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:H0e(e,w.items,o)}))},v)}return At(At({},f),{},ml({},h,y))},c)},W3=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=a0e(u,o,a);return e.domain([Wy(c),Ao(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),h=l0e(f,o,a);return{niceTicks:h}}return null};function Zm(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ie(i[e.dataKey])){var a=Tm(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=bt(i,Ie(s)?e.dataKey:s);return Ie(l)?null:e.scale(l)}var ZN=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=bt(s,n.dataKey,n.domain[a]);return Ie(l)?null:n.scale(l)-o/2+i},K0e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},Y0e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?At(At({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Ft(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},J0e=function(e){return e.reduce(function(n,r){return[Wy(r.concat([n[0]]).filter(se)),Ao(r.concat([n[1]]).filter(se))]},[1/0,-1/0])},K3=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,c){var f=J0e(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},eR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,f_=function(e,n,r){if(_e(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(se(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(eR.test(e[0])){var o=+eR.exec(e[0])[1];i[0]=n[0]-o}else _e(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(se(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(tR.test(e[1])){var s=+tR.exec(e[1])[1];i[1]=n[1]+s}else _e(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},eg=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=V1(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],c=o[a-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},nR=function(e,n,r){return!e||!e.length||Yo(e,er(r,"type.defaultProps.domain"))?n:e},Y3=function(e,n){var r=e.type.defaultProps?At(At({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return At(At({},ye(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:dT(e),value:bt(n,i),type:l,payload:n,chartType:u,hide:c})};function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function rR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(n),!0).forEach(function(r){J3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J3(t,e,n){return e=X0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X0e(t){var e=Q0e(t,"string");return qd(e)=="symbol"?e:e+""}function Q0e(t,e){if(qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z0e(t,e){return rve(t)||nve(t,e)||tve(t,e)||eve()}function eve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tve(t,e){if(t){if(typeof t=="string")return iR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iR(t,e)}}function iR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function rve(t){if(Array.isArray(t))return t}var tg=Math.PI/180,ive=function(e){return e*180/Math.PI},Ye=function(e,n,r,i){return{x:e+Math.cos(-tg*i)*r,y:n+Math.sin(-tg*i)*r}},X3=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Q3=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.startAngle,u=e.endAngle,c=Pn(e.cx,s,s/2),f=Pn(e.cy,a,a/2),h=X3(s,a,r),y=Pn(e.innerRadius,h,0),v=Pn(e.outerRadius,h,h*.8),b=Object.keys(n);return b.reduce(function(x,w){var _=n[w],E=_.domain,P=_.reversed,S;if(Ie(_.range))i==="angleAxis"?S=[l,u]:i==="radiusAxis"&&(S=[y,v]),P&&(S=[S[1],S[0]]);else{S=_.range;var C=S,I=Z0e(C,2);l=I[0],u=I[1]}var T=q3(_,o),k=T.realScaleType,N=T.scale;N.domain(E).range(S),H3(N);var O=W3(N,yi(yi({},_),{},{realScaleType:k})),M=yi(yi(yi({},_),O),{},{range:S,radius:v,realScaleType:k,scale:N,cx:c,cy:f,innerRadius:y,outerRadius:v,startAngle:l,endAngle:u});return yi(yi({},x),{},J3({},w,M))},{})},ove=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},sve=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=ove({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:ive(u),angleInRadian:u}},ave=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},lve=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},oR=function(e,n){var r=e.x,i=e.y,o=sve({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=ave(n),f=c.startAngle,h=c.endAngle,y=a,v;if(f<=h){for(;y>h;)y-=360;for(;y<f;)y+=360;v=y>=f&&y<=h}else{for(;y>f;)y-=360;for(;y<h;)y+=360;v=y>=h&&y<=f}return v?yi(yi({},n),{},{radius:s,angle:lve(y,n)}):null},Z3=function(e){return!G.isValidElement(e)&&!_e(e)&&typeof e!="boolean"?e.className:""};function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}var uve=["offset"];function cve(t){return pve(t)||hve(t)||fve(t)||dve()}function dve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fve(t,e){if(t){if(typeof t=="string")return h_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h_(t,e)}}function hve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pve(t){if(Array.isArray(t))return h_(t)}function h_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mve(t,e){if(t==null)return{};var n=gve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){yve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yve(t,e,n){return e=vve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vve(t){var e=xve(t,"string");return Hd(e)=="symbol"?e:e+""}function xve(t,e){if(Hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wd(){return Wd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wd.apply(this,arguments)}var bve=function(e){var n=e.value,r=e.formatter,i=Ie(e.children)?n:e.children;return _e(r)?r(i):i},_ve=function(e,n){var r=Cn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},wve=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,y=l.startAngle,v=l.endAngle,b=l.clockWise,x=(f+h)/2,w=_ve(y,v),_=w>=0?1:-1,E,P;i==="insideStart"?(E=y+_*s,P=b):i==="insideEnd"?(E=v-_*s,P=!b):i==="end"&&(E=v+_*s,P=b),P=w<=0?P:!P;var S=Ye(u,c,x,E),C=Ye(u,c,x,E+(P?1:-1)*359),I="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(P?0:1,`,
    `).concat(C.x,",").concat(C.y),T=Ie(e.id)?pa("recharts-radial-line-"):e.id;return B.createElement("text",Wd({},r,{dominantBaseline:"central",className:Ce("recharts-radial-bar-label",a)}),B.createElement("defs",null,B.createElement("path",{id:T,d:I})),B.createElement("textPath",{xlinkHref:"#".concat(T)},n))},Eve=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,h=(c+f)/2;if(i==="outside"){var y=Ye(s,a,u+r,h),v=y.x,b=y.y;return{x:v,y:b,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,w=Ye(s,a,x,h),_=w.x,E=w.y;return{x:_,y:E,textAnchor:"middle",verticalAnchor:"middle"}},Tve=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,c=s.height,f=c>=0?1:-1,h=f*i,y=f>0?"end":"start",v=f>0?"start":"end",b=u>=0?1:-1,x=b*i,w=b>0?"end":"start",_=b>0?"start":"end";if(o==="top"){var E={x:a+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:y};return jt(jt({},E),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var P={x:a+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:v};return jt(jt({},P),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var S={x:a-x,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return jt(jt({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(o==="right"){var C={x:a+u+x,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return jt(jt({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:c}:{})}var I=r?{width:u,height:c}:{};return o==="insideLeft"?jt({x:a+x,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},I):o==="insideRight"?jt({x:a+u-x,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},I):o==="insideTop"?jt({x:a+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},I):o==="insideBottom"?jt({x:a+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:y},I):o==="insideTopLeft"?jt({x:a+x,y:l+h,textAnchor:_,verticalAnchor:v},I):o==="insideTopRight"?jt({x:a+u-x,y:l+h,textAnchor:w,verticalAnchor:v},I):o==="insideBottomLeft"?jt({x:a+x,y:l+c-h,textAnchor:_,verticalAnchor:y},I):o==="insideBottomRight"?jt({x:a+u-x,y:l+c-h,textAnchor:w,verticalAnchor:y},I):_u(o)&&(se(o.x)||Ps(o.x))&&(se(o.y)||Ps(o.y))?jt({x:a+Pn(o.x,u),y:l+Pn(o.y,c),textAnchor:"end",verticalAnchor:"end"},I):jt({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},I)},Sve=function(e){return"cx"in e&&se(e.cx)};function Jt(t){var e=t.offset,n=e===void 0?5:e,r=mve(t,uve),i=jt({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!o||Ie(a)&&Ie(l)&&!G.isValidElement(u)&&!_e(u))return null;if(G.isValidElement(u))return G.cloneElement(u,i);var y;if(_e(u)){if(y=G.createElement(u,i),G.isValidElement(y))return y}else y=bve(i);var v=Sve(o),b=ye(i,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return wve(i,y,b);var x=v?Eve(i):Tve(i);return B.createElement(ra,Wd({className:Ce("recharts-label",f)},b,x,{breakAll:h}),y)}Jt.displayName="Label";var eV=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,y=e.top,v=e.left,b=e.width,x=e.height,w=e.clockWise,_=e.labelViewBox;if(_)return _;if(se(b)&&se(x)){if(se(f)&&se(h))return{x:f,y:h,width:b,height:x};if(se(y)&&se(v))return{x:y,y:v,width:b,height:x}}return se(f)&&se(h)?{x:f,y:h,width:0,height:0}:se(n)&&se(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:w}:e.viewBox?e.viewBox:{}},Ave=function(e,n){return e?e===!0?B.createElement(Jt,{key:"label-implicit",viewBox:n}):Ft(e)?B.createElement(Jt,{key:"label-implicit",viewBox:n,value:e}):G.isValidElement(e)?e.type===Jt?G.cloneElement(e,{key:"label-implicit",viewBox:n}):B.createElement(Jt,{key:"label-implicit",content:e,viewBox:n}):_e(e)?B.createElement(Jt,{key:"label-implicit",content:e,viewBox:n}):_u(e)?B.createElement(Jt,Wd({viewBox:n},e,{key:"label-implicit"})):null:null},Ive=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=eV(e),s=tr(i,Jt).map(function(l,u){return G.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=Ave(e.label,n||o);return[a].concat(cve(s))};Jt.parseViewBox=eV;Jt.renderCallByParent=Ive;function kve(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Cve=kve;const tV=Xe(Cve);function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}var Pve=["valueAccessor"],Nve=["data","dataKey","clockWise","id","textBreakAll"];function Rve(t){return jve(t)||Dve(t)||Mve(t)||Ove()}function Ove(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mve(t,e){if(t){if(typeof t=="string")return p_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p_(t,e)}}function Dve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jve(t){if(Array.isArray(t))return p_(t)}function p_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ng(){return ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ng.apply(this,arguments)}function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){Lve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lve(t,e,n){return e=$ve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ve(t){var e=Vve(t,"string");return Kd(e)=="symbol"?e:e+""}function Vve(t,e){if(Kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uR(t,e){if(t==null)return{};var n=Fve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Uve=function(e){return Array.isArray(e.value)?tV(e.value):e.value};function Ur(t){var e=t.valueAccessor,n=e===void 0?Uve:e,r=uR(t,Pve),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=uR(r,Nve);return!i||!i.length?null:B.createElement(je,{className:"recharts-label-list"},i.map(function(c,f){var h=Ie(o)?n(c,f):bt(c&&c.payload,o),y=Ie(a)?{}:{id:"".concat(a,"-").concat(f)};return B.createElement(Jt,ng({},ye(c,!0),u,y,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Jt.parseViewBox(Ie(s)?c:lR(lR({},c),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Ur.displayName="LabelList";function Bve(t,e){return t?t===!0?B.createElement(Ur,{key:"labelList-implicit",data:e}):B.isValidElement(t)||_e(t)?B.createElement(Ur,{key:"labelList-implicit",data:e,content:t}):_u(t)?B.createElement(Ur,ng({data:e},t,{key:"labelList-implicit"})):null:null}function Gve(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=tr(r,Ur).map(function(s,a){return G.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=Bve(t.label,e);return[o].concat(Rve(i))}Ur.renderCallByParent=Gve;function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function m_(){return m_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m_.apply(this,arguments)}function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(r){zve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zve(t,e,n){return e=qve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qve(t){var e=Hve(t,"string");return Yd(e)=="symbol"?e:e+""}function Hve(t,e){if(Yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wve=function(e,n){var r=Cn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Wh=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+i,f=Math.asin(l/c)/tg,h=u?o:o+s*f,y=Ye(n,r,c,h),v=Ye(n,r,i,h),b=u?o-s*f:o,x=Ye(n,r,c*Math.cos(f*tg),b);return{center:y,circleTangency:v,lineTangency:x,theta:f}},nV=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=Wve(s,a),u=s+l,c=Ye(n,r,o,s),f=Ye(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var y=Ye(n,r,i,s),v=Ye(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},Kve=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Cn(c-u),h=Wh({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),y=h.circleTangency,v=h.lineTangency,b=h.theta,x=Wh({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:s,cornerIsExternal:l}),w=x.circleTangency,_=x.lineTangency,E=x.theta,P=l?Math.abs(u-c):Math.abs(u-c)-b-E;if(P<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):nV({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(P>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var C=Wh({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),I=C.circleTangency,T=C.lineTangency,k=C.theta,N=Wh({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),O=N.circleTangency,M=N.lineTangency,D=N.theta,q=l?Math.abs(u-c):Math.abs(u-c)-k-D;if(q<0&&s===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(q>180),",").concat(+(f>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},Yve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},rV=function(e){var n=dR(dR({},Yve),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(s<o||c===f)return null;var y=Ce("recharts-sector",h),v=s-o,b=Pn(a,v,0,!0),x;return b>0&&Math.abs(c-f)<360?x=Kve({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(b,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):x=nV({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:f}),B.createElement("path",m_({},ye(n,!0),{className:y,d:x,role:"img"}))};function Jd(t){"@babel/helpers - typeof";return Jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jd(t)}function g_(){return g_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g_.apply(this,arguments)}function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){Jve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jve(t,e,n){return e=Xve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xve(t){var e=Qve(t,"string");return Jd(e)=="symbol"?e:e+""}function Qve(t,e){if(Jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pR={curveBasisClosed:Qie,curveBasisOpen:Zie,curveBasis:Xie,curveBumpX:Lie,curveBumpY:$ie,curveLinearClosed:eoe,curveLinear:Dy,curveMonotoneX:toe,curveMonotoneY:noe,curveNatural:roe,curveStep:ioe,curveStepAfter:soe,curveStepBefore:ooe},Kh=function(e){return e.x===+e.x&&e.y===+e.y},fc=function(e){return e.x},hc=function(e){return e.y},Zve=function(e,n){if(_e(e))return e;var r="curve".concat(Oy(e));return(r==="curveMonotone"||r==="curveBump")&&n?pR["".concat(r).concat(n==="vertical"?"Y":"X")]:pR[r]||Dy},exe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Zve(r,a),f=u?o.filter(function(b){return Kh(b)}):o,h;if(Array.isArray(s)){var y=u?s.filter(function(b){return Kh(b)}):s,v=f.map(function(b,x){return hR(hR({},b),{},{base:y[x]})});return a==="vertical"?h=$h().y(hc).x1(fc).x0(function(b){return b.base.x}):h=$h().x(fc).y1(hc).y0(function(b){return b.base.y}),h.defined(Kh).curve(c),h(v)}return a==="vertical"&&se(s)?h=$h().y(hc).x1(fc).x0(s):se(s)?h=$h().x(fc).y1(hc).y0(s):h=J$().x(fc).y(hc),h.defined(Kh).curve(c),h(f)},Us=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?exe(e):i;return G.createElement("path",g_({},ye(e,!1),Sm(e),{className:Ce("recharts-curve",n),d:s,ref:o}))},iV={exports:{}},txe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nxe=txe,rxe=nxe;function oV(){}function sV(){}sV.resetWarningCache=oV;var ixe=function(){function t(r,i,o,s,a,l){if(l!==rxe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:sV,resetWarningCache:oV};return n.PropTypes=n,n};iV.exports=ixe();var oxe=iV.exports;const Je=Xe(oxe),{getOwnPropertyNames:sxe,getOwnPropertySymbols:axe}=Object,{hasOwnProperty:lxe}=Object.prototype;function kv(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Yh(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function uxe(t){return t!=null?t[Symbol.toStringTag]:void 0}function mR(t){return sxe(t).concat(axe(t))}const cxe=Object.hasOwn||((t,e)=>lxe.call(t,e));function va(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const dxe="__v",fxe="__o",hxe="_owner",{getOwnPropertyDescriptor:gR,keys:yR}=Object;function pxe(t,e){return t.byteLength===e.byteLength&&rg(new Uint8Array(t),new Uint8Array(e))}function mxe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function gxe(t,e){return t.byteLength===e.byteLength&&rg(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function yxe(t,e){return va(t.getTime(),e.getTime())}function vxe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function xxe(t,e){return t===e}function vR(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,a,l=0;for(;(s=o.next())&&!s.done;){const u=e.entries();let c=!1,f=0;for(;(a=u.next())&&!a.done;){if(i[f]){f++;continue}const h=s.value,y=a.value;if(n.equals(h[0],y[0],l,f,t,e,n)&&n.equals(h[1],y[1],h[0],y[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}const bxe=va;function _xe(t,e,n){const r=yR(t);let i=r.length;if(yR(e).length!==i)return!1;for(;i-- >0;)if(!aV(t,e,n,r[i]))return!1;return!0}function pc(t,e,n){const r=mR(t);let i=r.length;if(mR(e).length!==i)return!1;let o,s,a;for(;i-- >0;)if(o=r[i],!aV(t,e,n,o)||(s=gR(t,o),a=gR(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function wxe(t,e){return va(t.valueOf(),e.valueOf())}function Exe(t,e){return t.source===e.source&&t.flags===e.flags}function xR(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,a;for(;(s=o.next())&&!s.done;){const l=e.values();let u=!1,c=0;for(;(a=l.next())&&!a.done;){if(!i[c]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function rg(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Txe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function aV(t,e,n,r){return(r===hxe||r===fxe||r===dxe)&&(t.$$typeof||e.$$typeof)?!0:cxe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Sxe="[object ArrayBuffer]",Axe="[object Arguments]",Ixe="[object Boolean]",kxe="[object DataView]",Cxe="[object Date]",Pxe="[object Error]",Nxe="[object Map]",Rxe="[object Number]",Oxe="[object Object]",Mxe="[object RegExp]",Dxe="[object Set]",jxe="[object String]",Lxe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},$xe="[object URL]",Vxe=Object.prototype.toString;function Fxe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:y,unknownTagComparators:v}){return function(x,w,_){if(x===w)return!0;if(x==null||w==null)return!1;const E=typeof x;if(E!==typeof w)return!1;if(E!=="object")return E==="number"?a(x,w,_):E==="function"?o(x,w,_):!1;const P=x.constructor;if(P!==w.constructor)return!1;if(P===Object)return l(x,w,_);if(Array.isArray(x))return e(x,w,_);if(P===Date)return r(x,w,_);if(P===RegExp)return c(x,w,_);if(P===Map)return s(x,w,_);if(P===Set)return f(x,w,_);const S=Vxe.call(x);if(S===Cxe)return r(x,w,_);if(S===Mxe)return c(x,w,_);if(S===Nxe)return s(x,w,_);if(S===Dxe)return f(x,w,_);if(S===Oxe)return typeof x.then!="function"&&typeof w.then!="function"&&l(x,w,_);if(S===$xe)return y(x,w,_);if(S===Pxe)return i(x,w,_);if(S===Axe)return l(x,w,_);if(Lxe[S])return h(x,w,_);if(S===Sxe)return t(x,w,_);if(S===kxe)return n(x,w,_);if(S===Ixe||S===Rxe||S===jxe)return u(x,w,_);if(v){let C=v[S];if(!C){const I=uxe(x);I&&(C=v[I])}if(C)return C(x,w,_)}return!1}}function Uxe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:pxe,areArraysEqual:n?pc:mxe,areDataViewsEqual:gxe,areDatesEqual:yxe,areErrorsEqual:vxe,areFunctionsEqual:xxe,areMapsEqual:n?kv(vR,pc):vR,areNumbersEqual:bxe,areObjectsEqual:n?pc:_xe,arePrimitiveWrappersEqual:wxe,areRegExpsEqual:Exe,areSetsEqual:n?kv(xR,pc):xR,areTypedArraysEqual:n?kv(rg,pc):rg,areUrlsEqual:Txe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Yh(r.areArraysEqual),o=Yh(r.areMapsEqual),s=Yh(r.areObjectsEqual),a=Yh(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:a})}return r}function Bxe(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function Gxe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(a,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(a,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(a,l){return e(a,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(a,l){return e(a,l,o)}}const zxe=as();as({strict:!0});as({circular:!0});as({circular:!0,strict:!0});as({createInternalComparator:()=>va});as({strict:!0,createInternalComparator:()=>va});as({circular:!0,createInternalComparator:()=>va});as({circular:!0,createInternalComparator:()=>va,strict:!0});function as(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=Uxe(t),s=Fxe(o),a=n?n(s):Bxe(s);return Gxe({circular:e,comparator:s,createState:r,equals:a,strict:i})}function qxe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function bR(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):qxe(i)};requestAnimationFrame(r)}function y_(t){"@babel/helpers - typeof";return y_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y_(t)}function Hxe(t){return Jxe(t)||Yxe(t)||Kxe(t)||Wxe()}function Wxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kxe(t,e){if(t){if(typeof t=="string")return _R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _R(t,e)}}function _R(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jxe(t){if(Array.isArray(t))return t}function Xxe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=Hxe(s),l=a[0],u=a.slice(1);if(typeof l=="number"){bR(i.bind(null,u),l);return}i(l),bR(i.bind(null,u));return}y_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ER(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){lV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lV(t,e,n){return e=Qxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qxe(t){var e=Zxe(t,"string");return Xd(e)==="symbol"?e:String(e)}function Zxe(t,e){if(Xd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ebe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},tbe=function(e){return e},nbe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},qc=function(e,n){return Object.keys(n).reduce(function(r,i){return ER(ER({},r),{},lV({},i,e(i,n[i])))},{})},TR=function(e,n,r){return e.map(function(i){return"".concat(nbe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function rbe(t,e){return sbe(t)||obe(t,e)||uV(t,e)||ibe()}function ibe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function obe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function sbe(t){if(Array.isArray(t))return t}function abe(t){return cbe(t)||ube(t)||uV(t)||lbe()}function lbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uV(t,e){if(t){if(typeof t=="string")return v_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v_(t,e)}}function ube(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cbe(t){if(Array.isArray(t))return v_(t)}function v_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ig=1e-4,cV=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},dV=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},SR=function(e,n){return function(r){var i=cV(e,n);return dV(i,r)}},dbe=function(e,n){return function(r){var i=cV(e,n),o=[].concat(abe(i.map(function(s,a){return s*a}).slice(1)),[0]);return dV(o,r)}},AR=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),c=rbe(u,4);i=c[0],o=c[1],s=c[2],a=c[3]}}}var f=SR(i,s),h=SR(o,a),y=dbe(i,s),v=function(w){return w>1?1:w<0?0:w},b=function(w){for(var _=w>1?1:w,E=_,P=0;P<8;++P){var S=f(E)-_,C=y(E);if(Math.abs(S-_)<ig||C<ig)return h(E);E=v(E-S/C)}return h(E)};return b.isStepper=!1,b},fbe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(c,f,h){var y=-(c-f)*r,v=h*o,b=h+(y-v)*a/1e3,x=h*a/1e3+c;return Math.abs(x-f)<ig&&Math.abs(b)<ig?[f,0]:[x,b]};return l.isStepper=!0,l.dt=a,l},hbe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return AR(i);case"spring":return fbe();default:if(i.split("(")[0]==="cubic-bezier")return AR(i)}return typeof i=="function"?i:null};function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function IR(t){return gbe(t)||mbe(t)||fV(t)||pbe()}function pbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gbe(t){if(Array.isArray(t))return b_(t)}function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){x_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x_(t,e,n){return e=ybe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ybe(t){var e=vbe(t,"string");return Qd(e)==="symbol"?e:String(e)}function vbe(t,e){if(Qd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xbe(t,e){return wbe(t)||_be(t,e)||fV(t,e)||bbe()}function bbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fV(t,e){if(t){if(typeof t=="string")return b_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b_(t,e)}}function b_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _be(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function wbe(t){if(Array.isArray(t))return t}var og=function(e,n,r){return e+(n-e)*r},__=function(e){var n=e.from,r=e.to;return n!==r},Ebe=function t(e,n,r){var i=qc(function(o,s){if(__(s)){var a=e(s.from,s.to,s.velocity),l=xbe(a,2),u=l[0],c=l[1];return tn(tn({},s),{},{from:u,velocity:c})}return s},n);return r<1?qc(function(o,s){return __(s)?tn(tn({},s),{},{velocity:og(s.velocity,i[o].velocity,r),from:og(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const Tbe=function(t,e,n,r,i){var o=ebe(t,e),s=o.reduce(function(x,w){return tn(tn({},x),{},x_({},w,[t[w],e[w]]))},{}),a=o.reduce(function(x,w){return tn(tn({},x),{},x_({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return qc(function(w,_){return _.from},a)},y=function(){return!Object.values(a).filter(__).length},v=function(w){u||(u=w);var _=w-u,E=_/n.dt;a=Ebe(n,a,E),i(tn(tn(tn({},t),e),h())),u=w,y()||(l=requestAnimationFrame(f))},b=function(w){c||(c=w);var _=(w-c)/r,E=qc(function(S,C){return og.apply(void 0,IR(C).concat([n(_)]))},s);if(i(tn(tn(tn({},t),e),E)),_<1)l=requestAnimationFrame(f);else{var P=qc(function(S,C){return og.apply(void 0,IR(C).concat([n(1)]))},s);i(tn(tn(tn({},t),e),P))}};return f=n.isStepper?v:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}var Sbe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Abe(t,e){if(t==null)return{};var n=Ibe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ibe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Cv(t){return Nbe(t)||Pbe(t)||Cbe(t)||kbe()}function kbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cbe(t,e){if(t){if(typeof t=="string")return w_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w_(t,e)}}function Pbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nbe(t){if(Array.isArray(t))return w_(t)}function w_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){Ac(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ac(t,e,n){return e=hV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Obe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hV(r.key),r)}}function Mbe(t,e,n){return e&&Obe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hV(t){var e=Dbe(t,"string");return Vl(e)==="symbol"?e:String(e)}function Dbe(t,e){if(Vl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E_(t,e)}function E_(t,e){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},E_(t,e)}function Lbe(t){var e=$be();return function(){var r=sg(t),i;if(e){var o=sg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return T_(this,i)}}function T_(t,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S_(t)}function S_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $be(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sg(t){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sg(t)}var _r=function(t){jbe(n,t);var e=Lbe(n);function n(r,i){var o;Rbe(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,c=s.to,f=s.steps,h=s.children,y=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(S_(o)),o.changeStyle=o.changeStyle.bind(S_(o)),!a||y<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),T_(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},T_(o);o.state={style:l?Ac({},l,u):u}}else o.state={style:{}};return o}return Mbe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,h=this.state.style;if(a){if(!s){var y={style:l?Ac({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(y);return}if(!(zxe(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=v||u?f:i.to;if(this.state&&h){var x={style:l?Ac({},l,b):b};(l&&h[l]!==b||!l&&h!==b)&&this.setState(x)}this.runAnimation(Ir(Ir({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,y=Tbe(s,a,hbe(u),l,this.changeStyle),v=function(){o.stopJSAnimation=y()};this.manager.start([h,c,v,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,f=u.duration,h=f===void 0?0:f,y=function(b,x,w){if(w===0)return b;var _=x.duration,E=x.easing,P=E===void 0?"ease":E,S=x.style,C=x.properties,I=x.onAnimationEnd,T=w>0?s[w-1]:x,k=C||Object.keys(S);if(typeof P=="function"||P==="spring")return[].concat(Cv(b),[o.runJSAnimation.bind(o,{from:T.style,to:S,duration:_,easing:P}),_]);var N=TR(k,_,P),O=Ir(Ir(Ir({},T.style),S),{},{transition:N});return[].concat(Cv(b),[O,_,I]).filter(tbe)};return this.manager.start([l].concat(Cv(s.reduce(y,[c,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Xxe());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,y=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof y=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var b=a?Ac({},a,l):l,x=TR(Object.keys(b),s,u);v.start([c,o,Ir(Ir({},b),{},{transition:x}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Abe(i,Sbe),u=G.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!a||u===0||s<=0)return o;var f=function(y){var v=y.props,b=v.style,x=b===void 0?{}:b,w=v.className,_=G.cloneElement(y,Ir(Ir({},l),{},{style:Ir(Ir({},x),c),className:w}));return _};return u===1?f(G.Children.only(o)):B.createElement("div",null,G.Children.map(o,function(h){return f(h)}))}}]),n}(G.PureComponent);_r.displayName="Animate";_r.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};_r.propTypes={from:Je.oneOfType([Je.object,Je.string]),to:Je.oneOfType([Je.object,Je.string]),attributeName:Je.string,duration:Je.number,begin:Je.number,easing:Je.oneOfType([Je.string,Je.func]),steps:Je.arrayOf(Je.shape({duration:Je.number.isRequired,style:Je.object.isRequired,easing:Je.oneOfType([Je.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Je.func]),properties:Je.arrayOf("string"),onAnimationEnd:Je.func})),children:Je.oneOfType([Je.node,Je.func]),isActive:Je.bool,canBegin:Je.bool,onAnimationEnd:Je.func,shouldReAnimate:Je.bool,onAnimationStart:Je.func,onAnimationReStart:Je.func};function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function ag(){return ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ag.apply(this,arguments)}function Vbe(t,e){return Gbe(t)||Bbe(t,e)||Ube(t,e)||Fbe()}function Fbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ube(t,e){if(t){if(typeof t=="string")return PR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PR(t,e)}}function PR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Gbe(t){if(Array.isArray(t))return t}function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){zbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zbe(t,e,n){return e=qbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qbe(t){var e=Hbe(t,"string");return Zd(e)=="symbol"?e:e+""}function Hbe(t,e){if(Zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OR=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,y=4;h<y;h++)f[h]=o[h]>s?s:o[h];c="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*f[1])),c+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*f[3])),c+="Z"}else if(s>0&&o===+o&&o>0){var v=Math.min(s,o);c="M ".concat(e,",").concat(n+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*v,`
            L `).concat(e+r,",").concat(n+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*v," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Wbe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),c=Math.max(o,o+a),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},Kbe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fT=function(e){var n=RR(RR({},Kbe),e),r=G.useRef(),i=G.useState(-1),o=Vbe(i,2),s=o[0],a=o[1];G.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&a(P)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,y=n.className,v=n.animationEasing,b=n.animationDuration,x=n.animationBegin,w=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var E=Ce("recharts-rectangle",y);return _?B.createElement(_r,{canBegin:s>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:b,animationEasing:v,isActive:_},function(P){var S=P.width,C=P.height,I=P.x,T=P.y;return B.createElement(_r,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,isActive:w,easing:v},B.createElement("path",ag({},ye(n,!0),{className:E,d:OR(I,T,S,C,h),ref:r})))}):B.createElement("path",ag({},ye(n,!0),{className:E,d:OR(l,u,c,f,h)}))},Ybe=["points","className","baseLinePoints","connectNulls"];function Xa(){return Xa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xa.apply(this,arguments)}function Jbe(t,e){if(t==null)return{};var n=Xbe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function MR(t){return t_e(t)||e_e(t)||Zbe(t)||Qbe()}function Qbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zbe(t,e){if(t){if(typeof t=="string")return A_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A_(t,e)}}function e_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function t_e(t){if(Array.isArray(t))return A_(t)}function A_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var DR=function(e){return e&&e.x===+e.x&&e.y===+e.y},n_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){DR(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),DR(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Hc=function(e,n){var r=n_e(e);n&&(r=[r.reduce(function(o,s){return[].concat(MR(o),MR(s))},[])]);var i=r.map(function(o){return o.reduce(function(s,a,l){return"".concat(s).concat(l===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},r_e=function(e,n,r){var i=Hc(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Hc(n.reverse(),r).slice(1))},pV=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,s=Jbe(e,Ybe);if(!n||!n.length)return null;var a=Ce("recharts-polygon",r);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",u=r_e(n,i,o);return B.createElement("g",{className:a},B.createElement("path",Xa({},ye(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),l?B.createElement("path",Xa({},ye(s,!0),{fill:"none",d:Hc(n,o)})):null,l?B.createElement("path",Xa({},ye(s,!0),{fill:"none",d:Hc(i,o)})):null)}var c=Hc(n,o);return B.createElement("path",Xa({},ye(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",className:a,d:c}))};function I_(){return I_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I_.apply(this,arguments)}var Ru=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=Ce("recharts-dot",o);return n===+n&&r===+r&&i===+i?G.createElement("circle",I_({},ye(e,!1),Sm(e),{className:s,cx:n,cy:r,r:i})):null};function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}var i_e=["x","y","top","left","width","height","className"];function k_(){return k_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k_.apply(this,arguments)}function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){s_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s_e(t,e,n){return e=a_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a_e(t){var e=l_e(t,"string");return ef(e)=="symbol"?e:e+""}function l_e(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u_e(t,e){if(t==null)return{};var n=c_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function c_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var d_e=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},f_e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,y=h===void 0?0:h,v=e.className,b=u_e(e,i_e),x=o_e({x:r,y:o,top:a,left:u,width:f,height:y},b);return!se(r)||!se(o)||!se(f)||!se(y)||!se(a)||!se(u)?null:B.createElement("path",k_({},ye(x,!0),{className:Ce("recharts-cross",v),d:d_e(r,o,f,y,a,u)}))},h_e=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function p_e(t,e){if(t==null)return{};var n=m_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function m_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Yi(){return Yi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yi.apply(this,arguments)}function LR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(n),!0).forEach(function(r){g_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g_e(t,e,n){return e=y_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y_e(t){var e=v_e(t,"string");return tf(e)=="symbol"?e:e+""}function v_e(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x_e=function(e,n,r,i){var o="";return i.forEach(function(s,a){var l=Ye(n,r,e,s);a?o+="L ".concat(l.x,",").concat(l.y):o+="M ".concat(l.x,",").concat(l.y)}),o+="Z",o},b_e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.polarAngles,a=e.radialLines;if(!s||!s.length||!a)return null;var l=nf({stroke:"#ccc"},ye(e,!1));return B.createElement("g",{className:"recharts-polar-grid-angle"},s.map(function(u){var c=Ye(n,r,i,u),f=Ye(n,r,o,u);return B.createElement("line",Yi({},l,{key:"line-".concat(u),x1:c.x,y1:c.y,x2:f.x,y2:f.y}))}))},__e=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.index,s=nf(nf({stroke:"#ccc"},ye(e,!1)),{},{fill:"none"});return B.createElement("circle",Yi({},s,{className:Ce("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(o),cx:n,cy:r,r:i}))},w_e=function(e){var n=e.radius,r=e.index,i=nf(nf({stroke:"#ccc"},ye(e,!1)),{},{fill:"none"});return B.createElement("path",Yi({},i,{className:Ce("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:x_e(n,e.cx,e.cy,e.polarAngles)}))},E_e=function(e){var n=e.polarRadius,r=e.gridType;return!n||!n.length?null:B.createElement("g",{className:"recharts-polar-grid-concentric"},n.map(function(i,o){var s=o;return r==="circle"?B.createElement(__e,Yi({key:s},e,{radius:i,index:o})):B.createElement(w_e,Yi({key:s},e,{radius:i,index:o}))}))},mV=function(e){var n=e.cx,r=n===void 0?0:n,i=e.cy,o=i===void 0?0:i,s=e.innerRadius,a=s===void 0?0:s,l=e.outerRadius,u=l===void 0?0:l,c=e.gridType,f=c===void 0?"polygon":c,h=e.radialLines,y=h===void 0?!0:h,v=p_e(e,h_e);return u<=0?null:B.createElement("g",{className:"recharts-polar-grid"},B.createElement(b_e,Yi({cx:r,cy:o,innerRadius:a,outerRadius:u,gridType:f,radialLines:y},v)),B.createElement(E_e,Yi({cx:r,cy:o,innerRadius:a,outerRadius:u,gridType:f,radialLines:y},v)))};mV.displayName="PolarGrid";var T_e=Hy,S_e=E3,A_e=di;function I_e(t,e){return t&&t.length?T_e(t,A_e(e),S_e):void 0}var k_e=I_e;const C_e=Xe(k_e);var P_e=Hy,N_e=di,R_e=T3;function O_e(t,e){return t&&t.length?P_e(t,N_e(e),R_e):void 0}var M_e=O_e;const D_e=Xe(M_e);var j_e=["cx","cy","angle","ticks","axisLine"],L_e=["ticks","tick","angle","tickFormatter","stroke"];function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function Wc(){return Wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wc.apply(this,arguments)}function $R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ps(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(n),!0).forEach(function(r){Jy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VR(t,e){if(t==null)return{};var n=$_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function V_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yV(r.key),r)}}function F_e(t,e,n){return e&&FR(t.prototype,e),n&&FR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function U_e(t,e,n){return e=lg(e),B_e(t,gV()?Reflect.construct(e,n||[],lg(t).constructor):e.apply(t,n))}function B_e(t,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G_e(t)}function G_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gV=function(){return!!t})()}function lg(t){return lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lg(t)}function z_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C_(t,e)}function C_(t,e){return C_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},C_(t,e)}function Jy(t,e,n){return e=yV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yV(t){var e=q_e(t,"string");return Fl(e)=="symbol"?e:e+""}function q_e(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ou=function(t){function e(){return V_e(this,e),U_e(this,e,arguments)}return z_e(e,t),F_e(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,s=o.angle,a=o.cx,l=o.cy;return Ye(a,l,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,l=C_e(a,function(c){return c.coordinate||0}),u=D_e(a,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,l=r.axisLine,u=VR(r,j_e),c=a.reduce(function(v,b){return[Math.min(v[0],b.coordinate),Math.max(v[1],b.coordinate)]},[1/0,-1/0]),f=Ye(i,o,c[0],s),h=Ye(i,o,c[1],s),y=ps(ps(ps({},ye(u,!1)),{},{fill:"none"},ye(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return B.createElement("line",Wc({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.angle,l=i.tickFormatter,u=i.stroke,c=VR(i,L_e),f=this.getTickTextAnchor(),h=ye(c,!1),y=ye(s,!1),v=o.map(function(b,x){var w=r.getTickValueCoord(b),_=ps(ps(ps(ps({textAnchor:f,transform:"rotate(".concat(90-a,", ").concat(w.x,", ").concat(w.y,")")},h),{},{stroke:"none",fill:u},y),{},{index:x},w),{},{payload:b});return B.createElement(je,Wc({className:Ce("recharts-polar-radius-axis-tick",Z3(s)),key:"tick-".concat(b.coordinate)},na(r.props,b,x)),e.renderTickItem(s,_,l?l(b.value,x):b.value))});return B.createElement(je,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,s=r.tick;return!i||!i.length?null:B.createElement(je,{className:Ce("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),Jt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var s;return B.isValidElement(r)?s=B.cloneElement(r,i):_e(r)?s=r(i):s=B.createElement(ra,Wc({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])}(G.PureComponent);Jy(Ou,"displayName","PolarRadiusAxis");Jy(Ou,"axisType","radiusAxis");Jy(Ou,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function Ts(){return Ts=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ts.apply(this,arguments)}function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){Xy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xV(r.key),r)}}function W_e(t,e,n){return e&&BR(t.prototype,e),n&&BR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function K_e(t,e,n){return e=ug(e),Y_e(t,vV()?Reflect.construct(e,n||[],ug(t).constructor):e.apply(t,n))}function Y_e(t,e){if(e&&(Ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J_e(t)}function J_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vV=function(){return!!t})()}function ug(t){return ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ug(t)}function X_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P_(t,e)}function P_(t,e){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P_(t,e)}function Xy(t,e,n){return e=xV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xV(t){var e=Q_e(t,"string");return Ul(e)=="symbol"?e:e+""}function Q_e(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Z_e=Math.PI/180,GR=1e-5,Mu=function(t){function e(){return H_e(this,e),K_e(this,e,arguments)}return X_e(e,t),W_e(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,s=i.cy,a=i.radius,l=i.orientation,u=i.tickSize,c=u||8,f=Ye(o,s,a,r.coordinate),h=Ye(o,s,a+(l==="inner"?-1:1)*c,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*Z_e),s;return o>GR?s=i==="outer"?"start":"end":o<-GR?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.radius,a=r.axisLine,l=r.axisLineType,u=ms(ms({},ye(this.props,!1)),{},{fill:"none"},ye(a,!1));if(l==="circle")return B.createElement(Ru,Ts({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:s}));var c=this.props.ticks,f=c.map(function(h){return Ye(i,o,s,h.coordinate)});return B.createElement(pV,Ts({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.tickLine,l=i.tickFormatter,u=i.stroke,c=ye(this.props,!1),f=ye(s,!1),h=ms(ms({},c),{},{fill:"none"},ye(a,!1)),y=o.map(function(v,b){var x=r.getTickLineCoord(v),w=r.getTickTextAnchor(v),_=ms(ms(ms({textAnchor:w},c),{},{stroke:"none",fill:u},f),{},{index:b,payload:v,x:x.x2,y:x.y2});return B.createElement(je,Ts({className:Ce("recharts-polar-angle-axis-tick",Z3(s)),key:"tick-".concat(v.coordinate)},na(r.props,v,b)),a&&B.createElement("line",Ts({className:"recharts-polar-angle-axis-tick-line"},h,x)),s&&e.renderTickItem(s,_,l?l(v.value,b):v.value))});return B.createElement(je,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,s=r.axisLine;return o<=0||!i||!i.length?null:B.createElement(je,{className:Ce("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var s;return B.isValidElement(r)?s=B.cloneElement(r,i):_e(r)?s=r(i):s=B.createElement(ra,Ts({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])}(G.PureComponent);Xy(Mu,"displayName","PolarAngleAxis");Xy(Mu,"axisType","angleAxis");Xy(Mu,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ewe=b4,twe=ewe(Object.getPrototypeOf,Object),nwe=twe,rwe=to,iwe=nwe,owe=no,swe="[object Object]",awe=Function.prototype,lwe=Object.prototype,bV=awe.toString,uwe=lwe.hasOwnProperty,cwe=bV.call(Object);function dwe(t){if(!owe(t)||rwe(t)!=swe)return!1;var e=iwe(t);if(e===null)return!0;var n=uwe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&bV.call(n)==cwe}var fwe=dwe;const hwe=Xe(fwe);var pwe=to,mwe=no,gwe="[object Boolean]";function ywe(t){return t===!0||t===!1||mwe(t)&&pwe(t)==gwe}var vwe=ywe;const xwe=Xe(vwe);function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function cg(){return cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cg.apply(this,arguments)}function bwe(t,e){return Twe(t)||Ewe(t,e)||wwe(t,e)||_we()}function _we(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wwe(t,e){if(t){if(typeof t=="string")return zR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zR(t,e)}}function zR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ewe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Twe(t){if(Array.isArray(t))return t}function qR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(n),!0).forEach(function(r){Swe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Swe(t,e,n){return e=Awe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Awe(t){var e=Iwe(t,"string");return rf(e)=="symbol"?e:e+""}function Iwe(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WR=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},kwe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cwe=function(e){var n=HR(HR({},kwe),e),r=G.useRef(),i=G.useState(-1),o=bwe(i,2),s=o[0],a=o[1];G.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&a(E)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,y=n.className,v=n.animationEasing,b=n.animationDuration,x=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var _=Ce("recharts-trapezoid",y);return w?B.createElement(_r,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:b,animationEasing:v,isActive:w},function(E){var P=E.upperWidth,S=E.lowerWidth,C=E.height,I=E.x,T=E.y;return B.createElement(_r,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,easing:v},B.createElement("path",cg({},ye(n,!0),{className:_,d:WR(I,T,P,S,C),ref:r})))}):B.createElement("g",null,B.createElement("path",cg({},ye(n,!0),{className:_,d:WR(l,u,c,f,h)})))},Pwe=["option","shapeType","propTransformer","activeClassName","isActive"];function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function Nwe(t,e){if(t==null)return{};var n=Rwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KR(Object(n),!0).forEach(function(r){Owe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Owe(t,e,n){return e=Mwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mwe(t){var e=Dwe(t,"string");return of(e)=="symbol"?e:e+""}function Dwe(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jwe(t,e){return dg(dg({},e),t)}function Lwe(t,e){return t==="symbols"}function YR(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return B.createElement(fT,n);case"trapezoid":return B.createElement(Cwe,n);case"sector":return B.createElement(rV,n);case"symbols":if(Lwe(e))return B.createElement(N1,n);break;default:return null}}function $we(t){return G.isValidElement(t)?t.props:t}function _V(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?jwe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=Nwe(t,Pwe),u;if(G.isValidElement(e))u=G.cloneElement(e,dg(dg({},l),$we(e)));else if(_e(e))u=e(l);else if(hwe(e)&&!xwe(e)){var c=i(e,l);u=B.createElement(YR,{shapeType:n,elementProps:c})}else{var f=l;u=B.createElement(YR,{shapeType:n,elementProps:f})}return a?B.createElement(je,{className:s},u):u}function Qy(t,e){return e!=null&&"trapezoids"in t.props}function Zy(t,e){return e!=null&&"sectors"in t.props}function sf(t,e){return e!=null&&"points"in t.props}function Vwe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Fwe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Uwe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Bwe(t,e){var n;return Qy(t,e)?n=Vwe:Zy(t,e)?n=Fwe:sf(t,e)&&(n=Uwe),n}function Gwe(t,e){var n;return Qy(t,e)?n="trapezoids":Zy(t,e)?n="sectors":sf(t,e)&&(n="points"),n}function zwe(t,e){if(Qy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Zy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return sf(t,e)?e.payload:{}}function qwe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Gwe(n,e),o=zwe(n,e),s=r.filter(function(l,u){var c=Yo(o,l),f=n.props[i].filter(function(v){var b=Bwe(n,e);return b(v,e)}),h=n.props[i].indexOf(f[f.length-1]),y=u===h;return c&&y}),a=r.indexOf(s[s.length-1]);return a}var Tp;function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function Qa(){return Qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qa.apply(this,arguments)}function JR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JR(Object(n),!0).forEach(function(r){cr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EV(r.key),r)}}function Wwe(t,e,n){return e&&XR(t.prototype,e),n&&XR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kwe(t,e,n){return e=fg(e),Ywe(t,wV()?Reflect.construct(e,n||[],fg(t).constructor):e.apply(t,n))}function Ywe(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jwe(t)}function Jwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wV=function(){return!!t})()}function fg(t){return fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fg(t)}function Xwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N_(t,e)}function N_(t,e){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(t,e)}function cr(t,e,n){return e=EV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EV(t){var e=Qwe(t,"string");return Bl(e)=="symbol"?e:e+""}function Qwe(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fi=function(t){function e(n){var r;return Hwe(this,e),r=Kwe(this,e,[n]),cr(r,"pieRef",null),cr(r,"sectorRefs",[]),cr(r,"id",pa("recharts-pie-")),cr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),_e(i)&&i()}),cr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),_e(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Xwe(e,t),Wwe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,a=o.labelLine,l=o.dataKey,u=o.valueKey,c=ye(this.props,!1),f=ye(s,!1),h=ye(a,!1),y=s&&s.offsetRadius||20,v=r.map(function(b,x){var w=(b.startAngle+b.endAngle)/2,_=Ye(b.cx,b.cy,b.outerRadius+y,w),E=at(at(at(at({},c),b),{},{stroke:"none"},f),{},{index:x,textAnchor:e.getTextAnchor(_.x,b.cx)},_),P=at(at(at(at({},c),b),{},{fill:"none",stroke:b.fill},h),{},{index:x,points:[Ye(b.cx,b.cy,b.outerRadius,w),_]}),S=l;return Ie(l)&&Ie(u)?S="value":Ie(l)&&(S=u),B.createElement(je,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(x)},a&&e.renderLabelLineItem(a,P,"line"),e.renderLabelItem(s,E,bt(b,S)))});return B.createElement(je,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,s=o.activeShape,a=o.blendStroke,l=o.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,y=f?s:h,v=at(at({},u),{},{stroke:a?u.fill:u.stroke,tabIndex:-1});return B.createElement(je,Qa({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},na(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),B.createElement(_V,Qa({option:y,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,s=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state,h=f.prevSectors,y=f.prevIsAnimationActive;return B.createElement(_r,{begin:a,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var b=v.t,x=[],w=o&&o[0],_=w.startAngle;return o.forEach(function(E,P){var S=h&&h[P],C=P>0?er(E,"paddingAngle",0):0;if(S){var I=xt(S.endAngle-S.startAngle,E.endAngle-E.startAngle),T=at(at({},E),{},{startAngle:_+C,endAngle:_+I(b)+C});x.push(T),_=T.endAngle}else{var k=E.endAngle,N=E.startAngle,O=xt(0,k-N),M=O(b),D=at(at({},E),{},{startAngle:_+C,endAngle:_+M+C});x.push(D),_=D.endAngle}}),B.createElement(je,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,s=this.state.prevSectors;return o&&i&&i.length&&(!s||!Yo(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,s=i.sectors,a=i.className,l=i.label,u=i.cx,c=i.cy,f=i.innerRadius,h=i.outerRadius,y=i.isAnimationActive,v=this.state.isAnimationFinished;if(o||!s||!s.length||!se(u)||!se(c)||!se(f)||!se(h))return null;var b=Ce("recharts-pie",a);return B.createElement(je,{tabIndex:this.props.rootTabIndex,className:b,ref:function(w){r.pieRef=w}},this.renderSectors(),l&&this.renderLabels(s),Jt.renderCallByParent(this.props,null,!1),(!y||v)&&Ur.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(B.isValidElement(r))return B.cloneElement(r,i);if(_e(r))return r(i);var s=Ce("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return B.createElement(Us,Qa({},i,{key:o,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,o){if(B.isValidElement(r))return B.cloneElement(r,i);var s=o;if(_e(r)&&(s=r(i),B.isValidElement(s)))return s;var a=Ce("recharts-pie-label-text",typeof r!="boolean"&&!_e(r)?r.className:"");return B.createElement(ra,Qa({},i,{alignmentBaseline:"middle",className:a}),s)}}])}(G.PureComponent);Tp=fi;cr(fi,"displayName","Pie");cr(fi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ro.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});cr(fi,"parseDeltaAngle",function(t,e){var n=Cn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});cr(fi,"getRealPieData",function(t){var e=t.data,n=t.children,r=ye(t,!1),i=tr(n,ma);return e&&e.length?e.map(function(o,s){return at(at(at({payload:o},r),o),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(o){return at(at({},r),o.props)}):[]});cr(fi,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,s=X3(i,o),a=r+Pn(t.cx,i,i/2),l=n+Pn(t.cy,o,o/2),u=Pn(t.innerRadius,s,0),c=Pn(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:a,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}});cr(fi,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?at(at({},e.type.defaultProps),e.props):e.props,i=Tp.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,s=r.startAngle,a=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,f=r.valueKey,h=r.tooltipType,y=Math.abs(r.minAngle),v=Tp.parseCoordinateOfPie(r,n),b=Tp.parseDeltaAngle(s,a),x=Math.abs(b),w=u;Ie(u)&&Ie(f)?(Fr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):Ie(u)&&(Fr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=f);var _=i.filter(function(T){return bt(T,w,0)!==0}).length,E=(x>=360?_:_-1)*l,P=x-_*y-E,S=i.reduce(function(T,k){var N=bt(k,w,0);return T+(se(N)?N:0)},0),C;if(S>0){var I;C=i.map(function(T,k){var N=bt(T,w,0),O=bt(T,c,k),M=(se(N)?N:0)/S,D;k?D=I.endAngle+Cn(b)*l*(N!==0?1:0):D=s;var q=D+Cn(b)*((N!==0?y:0)+M*P),U=(D+q)/2,j=(v.innerRadius+v.outerRadius)/2,F=[{name:O,value:N,payload:T,dataKey:w,type:h}],L=Ye(v.cx,v.cy,j,U);return I=at(at(at({percent:M,cornerRadius:o,name:O,tooltipPayload:F,midAngle:U,middleRadius:j,tooltipPosition:L},T),v),{},{value:bt(T,w),startAngle:D,endAngle:q,payload:T,paddingAngle:Cn(b)*l}),I})}return at(at({},v),{},{sectors:C,data:i})});function Zwe(t){return t&&t.length?t[0]:void 0}var eEe=Zwe,tEe=eEe;const nEe=Xe(tEe);var rEe=["key"];function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function iEe(t,e){if(t==null)return{};var n=oEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hg(){return hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hg.apply(this,arguments)}function QR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function An(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QR(Object(n),!0).forEach(function(r){bi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SV(r.key),r)}}function aEe(t,e,n){return e&&ZR(t.prototype,e),n&&ZR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lEe(t,e,n){return e=pg(e),uEe(t,TV()?Reflect.construct(e,n||[],pg(t).constructor):e.apply(t,n))}function uEe(t,e){if(e&&(Gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cEe(t)}function cEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TV=function(){return!!t})()}function pg(t){return pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pg(t)}function dEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R_(t,e)}function R_(t,e){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R_(t,e)}function bi(t,e,n){return e=SV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SV(t){var e=fEe(t,"string");return Gl(e)=="symbol"?e:e+""}function fEe(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zl=function(t){function e(){var n;sEe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=lEe(this,e,[].concat(i)),bi(n,"state",{isAnimationFinished:!1}),bi(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),_e(s)&&s()}),bi(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),_e(s)&&s()}),bi(n,"handleMouseEnter",function(s){var a=n.props.onMouseEnter;a&&a(n.props,s)}),bi(n,"handleMouseLeave",function(s){var a=n.props.onMouseLeave;a&&a(n.props,s)}),n}return dEe(e,t),aEe(e,[{key:"renderDots",value:function(r){var i=this.props,o=i.dot,s=i.dataKey,a=ye(this.props,!1),l=ye(o,!0),u=r.map(function(c,f){var h=An(An(An({key:"dot-".concat(f),r:3},a),l),{},{dataKey:s,cx:c.x,cy:c.y,index:f,payload:c});return e.renderDotItem(o,h)});return B.createElement(je,{className:"recharts-radar-dots"},u)}},{key:"renderPolygonStatically",value:function(r){var i=this.props,o=i.shape,s=i.dot,a=i.isRange,l=i.baseLinePoints,u=i.connectNulls,c;return B.isValidElement(o)?c=B.cloneElement(o,An(An({},this.props),{},{points:r})):_e(o)?c=o(An(An({},this.props),{},{points:r})):c=B.createElement(pV,hg({},ye(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:r,baseLinePoints:a?l:null,connectNulls:u})),B.createElement(je,{className:"recharts-radar-polygon"},c,s?this.renderDots(r):null)}},{key:"renderPolygonWithAnimation",value:function(){var r=this,i=this.props,o=i.points,s=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state.prevPoints;return B.createElement(_r,{begin:a,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"radar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var y=h.t,v=f&&f.length/o.length,b=o.map(function(x,w){var _=f&&f[Math.floor(w*v)];if(_){var E=xt(_.x,x.x),P=xt(_.y,x.y);return An(An({},x),{},{x:E(y),y:P(y)})}var S=xt(x.cx,x.x),C=xt(x.cy,x.y);return An(An({},x),{},{x:S(y),y:C(y)})});return r.renderPolygonStatically(b)})}},{key:"renderPolygon",value:function(){var r=this.props,i=r.points,o=r.isAnimationActive,s=r.isRange,a=this.state.prevPoints;return o&&i&&i.length&&!s&&(!a||!Yo(a,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.className,s=r.points,a=r.isAnimationActive;if(i||!s||!s.length)return null;var l=this.state.isAnimationFinished,u=Ce("recharts-radar",o);return B.createElement(je,{className:u},this.renderPolygon(),(!a||l)&&Ur.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"renderDotItem",value:function(r,i){var o;if(B.isValidElement(r))o=B.cloneElement(r,i);else if(_e(r))o=r(i);else{var s=i.key,a=iEe(i,rEe);o=B.createElement(Ru,hg({},a,{key:s,className:Ce("recharts-radar-dot",typeof r!="boolean"?r.className:"")}))}return o}}])}(G.PureComponent);bi(zl,"displayName","Radar");bi(zl,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!ro.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});bi(zl,"getComposedData",function(t){var e=t.radiusAxis,n=t.angleAxis,r=t.displayedData,i=t.dataKey,o=t.bandSize,s=n.cx,a=n.cy,l=!1,u=[],c=n.type!=="number"?o??0:0;r.forEach(function(h,y){var v=bt(h,n.dataKey,y),b=bt(h,i),x=n.scale(v)+c,w=Array.isArray(b)?tV(b):b,_=Ie(w)?void 0:e.scale(w);Array.isArray(b)&&b.length>=2&&(l=!0),u.push(An(An({},Ye(s,a,_,x)),{},{name:v,value:b,cx:s,cy:a,radius:_,angle:x,payload:h}))});var f=[];return l&&u.forEach(function(h){if(Array.isArray(h.value)){var y=nEe(h.value),v=Ie(y)?void 0:e.scale(y);f.push(An(An({},h),{},{radius:v},Ye(s,a,v,h.angle)))}else f.push(h)}),{points:u,isRange:l,baseLinePoints:f}});var hEe=Math.ceil,pEe=Math.max;function mEe(t,e,n,r){for(var i=-1,o=pEe(hEe((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var gEe=mEe,yEe=V4,e2=1/0,vEe=17976931348623157e292;function xEe(t){if(!t)return t===0?t:0;if(t=yEe(t),t===e2||t===-e2){var e=t<0?-1:1;return e*vEe}return t===t?t:0}var AV=xEe,bEe=gEe,_Ee=Vy,Pv=AV;function wEe(t){return function(e,n,r){return r&&typeof r!="number"&&_Ee(e,n,r)&&(n=r=void 0),e=Pv(e),n===void 0?(n=e,e=0):n=Pv(n),r=r===void 0?e<n?1:-1:Pv(r),bEe(e,n,r,t)}}var EEe=wEe,TEe=EEe,SEe=TEe(),AEe=SEe;const mg=Xe(AEe);function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function t2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t2(Object(n),!0).forEach(function(r){IV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IV(t,e,n){return e=IEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IEe(t){var e=kEe(t,"string");return af(e)=="symbol"?e:e+""}function kEe(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CEe=["Webkit","Moz","O","ms"],PEe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=CEe.reduce(function(o,s){return n2(n2({},o),{},IV({},s+r,n))},{});return i[e]=n,i};function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function gg(){return gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gg.apply(this,arguments)}function r2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r2(Object(n),!0).forEach(function(r){Hn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CV(r.key),r)}}function REe(t,e,n){return e&&i2(t.prototype,e),n&&i2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function OEe(t,e,n){return e=yg(e),MEe(t,kV()?Reflect.construct(e,n||[],yg(t).constructor):e.apply(t,n))}function MEe(t,e){if(e&&(ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DEe(t)}function DEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kV=function(){return!!t})()}function yg(t){return yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yg(t)}function jEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O_(t,e)}function O_(t,e){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O_(t,e)}function Hn(t,e,n){return e=CV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CV(t){var e=LEe(t,"string");return ql(e)=="symbol"?e:e+""}function LEe(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $Ee=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Gc().domain(mg(0,l)).range([o,o+s-a]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},o2=function(e){return e.changedTouches&&!!e.changedTouches.length},Hl=function(t){function e(n){var r;return NEe(this,e),r=OEe(this,e,[n]),Hn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Hn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Hn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Hn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Hn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Hn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Hn(r,"handleSlideDragStart",function(i){var o=o2(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return jEe(e,t),REe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,f=Math.min(i,o),h=Math.max(i,o),y=e.getIndexInRange(s,f),v=e.getIndexInRange(s,h);return{startIndex:y-y%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=bt(o[r],a,r);return _e(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,y=l.endIndex,v=l.onChange,b=r.pageX-o;b>0?b=Math.min(b,u+c-f-a,u+c-f-s):b<0&&(b=Math.max(b,u-s,u-a));var x=this.getIndex({startX:s+b,endX:a+b});(x.startIndex!==h||x.endIndex!==y)&&v&&v(x),this.setState({startX:s+b,endX:a+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=o2(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],c=this.props,f=c.x,h=c.width,y=c.travellerWidth,v=c.onChange,b=c.gap,x=c.data,w={startX:this.state.startX,endX:this.state.endX},_=r.pageX-o;_>0?_=Math.min(_,f+h-y-u):_<0&&(_=Math.max(_,f-u)),w[s]=u+_;var E=this.getIndex(w),P=E.startIndex,S=E.endIndex,C=function(){var T=x.length-1;return s==="startX"&&(a>l?P%b===0:S%b===0)||a<l&&S===T||s==="endX"&&(a>l?S%b===0:P%b===0)||a>l&&S===T};this.setState(Hn(Hn({},s,u+_),"brushMoveStartX",r.pageX),function(){v&&C()&&v(E)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],f=a.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=a.length)){var y=a[h];i==="startX"&&y>=u||i==="endX"&&y<=l||this.setState(Hn({},i,y),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return B.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,f=G.Children.only(u);return f?B.cloneElement(f,{x:i,y:o,width:s,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,y=l.ariaLabel,v=l.data,b=l.startIndex,x=l.endIndex,w=Math.max(r,this.props.x),_=Nv(Nv({},ye(this.props,!1)),{},{x:w,y:u,width:c,height:f}),E=y||"Min value: ".concat((o=v[b])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=v[x])===null||s===void 0?void 0:s.name);return B.createElement(je,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),a.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return B.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,y=5,v={pointerEvents:"none",fill:u};return B.createElement(je,{className:"recharts-brush-texts"},B.createElement(ra,gg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-y,y:s+a/2},v),this.getTextOfTick(i)),B.createElement(ra,gg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+y,y:s+a/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,y=h.startX,v=h.endX,b=h.isTextActive,x=h.isSlideMoving,w=h.isTravellerMoving,_=h.isTravellerFocused;if(!i||!i.length||!se(a)||!se(l)||!se(u)||!se(c)||u<=0||c<=0)return null;var E=Ce("recharts-brush",o),P=B.Children.count(s)===1,S=PEe("userSelect","none");return B.createElement(je,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(y,v),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(v,"endX"),(b||x||w||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return B.createElement(B.Fragment,null,B.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),B.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),B.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return B.isValidElement(r)?o=B.cloneElement(r,i):_e(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Nv({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?$Ee({data:o,width:s,x:a,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(G.PureComponent);Hn(Hl,"displayName","Brush");Hn(Hl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var VEe=$1;function FEe(t,e){var n;return VEe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var UEe=FEe,BEe=f4,GEe=di,zEe=UEe,qEe=Gn,HEe=Vy;function WEe(t,e,n){var r=qEe(t)?BEe:zEe;return n&&HEe(t,e,n)&&(e=void 0),r(t,GEe(e))}var KEe=WEe;const YEe=Xe(KEe);var ii=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},s2=M4;function JEe(t,e,n){e=="__proto__"&&s2?s2(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var XEe=JEe,QEe=XEe,ZEe=R4,e1e=di;function t1e(t,e){var n={};return e=e1e(e),ZEe(t,function(r,i,o){QEe(n,i,e(r,i,o))}),n}var n1e=t1e;const r1e=Xe(n1e);function i1e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var o1e=i1e,s1e=$1;function a1e(t,e){var n=!0;return s1e(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var l1e=a1e,u1e=o1e,c1e=l1e,d1e=di,f1e=Gn,h1e=Vy;function p1e(t,e,n){var r=f1e(t)?u1e:c1e;return n&&h1e(t,e,n)&&(e=void 0),r(t,d1e(e))}var m1e=p1e;const PV=Xe(m1e);var g1e=["x","y"];function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function M_(){return M_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M_.apply(this,arguments)}function a2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a2(Object(n),!0).forEach(function(r){y1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y1e(t,e,n){return e=v1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v1e(t){var e=x1e(t,"string");return lf(e)=="symbol"?e:e+""}function x1e(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b1e(t,e){if(t==null)return{};var n=_1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function w1e(t,e){var n=t.x,r=t.y,i=b1e(t,g1e),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return mc(mc(mc(mc(mc({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function l2(t){return B.createElement(_V,M_({shapeType:"rectangle",propTransformer:w1e,activeClassName:"recharts-active-bar"},t))}var E1e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=se(r)||Ere(r);return o?e(r,i):(o||oa(),n)}},T1e=["value","background"],NV;function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function S1e(t,e){if(t==null)return{};var n=A1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(this,arguments)}function u2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u2(Object(n),!0).forEach(function(r){Io(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OV(r.key),r)}}function k1e(t,e,n){return e&&c2(t.prototype,e),n&&c2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function C1e(t,e,n){return e=xg(e),P1e(t,RV()?Reflect.construct(e,n||[],xg(t).constructor):e.apply(t,n))}function P1e(t,e){if(e&&(Wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N1e(t)}function N1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RV=function(){return!!t})()}function xg(t){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xg(t)}function R1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D_(t,e)}function D_(t,e){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D_(t,e)}function Io(t,e,n){return e=OV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OV(t){var e=O1e(t,"string");return Wl(e)=="symbol"?e:e+""}function O1e(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ai=function(t){function e(){var n;I1e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=C1e(this,e,[].concat(i)),Io(n,"state",{isAnimationFinished:!1}),Io(n,"id",pa("recharts-bar-")),Io(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Io(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return R1e(e,t),k1e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,c=ye(this.props,!1);return r&&r.map(function(f,h){var y=h===l,v=y?u:s,b=Nt(Nt(Nt({},c),f),{},{isActive:y,option:v,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return B.createElement(je,vg({className:"recharts-bar-rectangle"},na(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),B.createElement(l2,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return B.createElement(_r,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var v=y.t,b=o.map(function(x,w){var _=h&&h[w];if(_){var E=xt(_.x,x.x),P=xt(_.y,x.y),S=xt(_.width,x.width),C=xt(_.height,x.height);return Nt(Nt({},x),{},{x:E(v),y:P(v),width:S(v),height:C(v)})}if(s==="horizontal"){var I=xt(0,x.height),T=I(v);return Nt(Nt({},x),{},{y:x.y+x.height-T,height:T})}var k=xt(0,x.width),N=k(v);return Nt(Nt({},x),{},{width:N})});return B.createElement(je,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!Yo(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=ye(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,h=S1e(u,T1e);if(!f)return null;var y=Nt(Nt(Nt(Nt(Nt({},h),{},{fill:"#eee"},f),l),na(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return B.createElement(l2,vg({key:"background-bar-".concat(c),option:r.props.background,isActive:c===a},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=tr(c,Gf);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,y=function(x,w){var _=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:_,errorVal:bt(x,w)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return B.createElement(je,v,f.map(function(b){return B.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:h,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,y=r.isAnimationActive,v=r.background,b=r.id;if(i||!o||!o.length)return null;var x=this.state.isAnimationFinished,w=Ce("recharts-bar",s),_=a&&a.allowDataOverflow,E=l&&l.allowDataOverflow,P=_||E,S=Ie(b)?this.id:b;return B.createElement(je,{className:w},_||E?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(S)},B.createElement("rect",{x:_?u:u-f/2,y:E?c:c-h/2,width:_?f:f*2,height:E?h:h*2}))):null,B.createElement(je,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,S),(!y||x)&&Ur.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(G.PureComponent);NV=ai;Io(ai,"displayName","Bar");Io(ai,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ro.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Io(ai,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,y=U0e(r,n);if(!y)return null;var v=e.layout,b=n.type.defaultProps,x=b!==void 0?Nt(Nt({},b),n.props):n.props,w=x.dataKey,_=x.children,E=x.minPointSize,P=v==="horizontal"?s:o,S=u?P.scale.domain():null,C=K0e({numericAxis:P}),I=tr(_,ma),T=f.map(function(k,N){var O,M,D,q,U,j;u?O=B0e(u[c+N],S):(O=bt(k,w),Array.isArray(O)||(O=[C,O]));var F=E1e(E,NV.defaultProps.minPointSize)(O[1],N);if(v==="horizontal"){var L,V=[s.scale(O[0]),s.scale(O[1])],z=V[0],Y=V[1];M=ZN({axis:o,ticks:a,bandSize:i,offset:y.offset,entry:k,index:N}),D=(L=Y??z)!==null&&L!==void 0?L:void 0,q=y.size;var H=z-Y;if(U=Number.isNaN(H)?0:H,j={x:M,y:s.y,width:q,height:s.height},Math.abs(F)>0&&Math.abs(U)<Math.abs(F)){var J=Cn(U||F)*(Math.abs(F)-Math.abs(U));D-=J,U+=J}}else{var ce=[o.scale(O[0]),o.scale(O[1])],W=ce[0],ie=ce[1];if(M=W,D=ZN({axis:s,ticks:l,bandSize:i,offset:y.offset,entry:k,index:N}),q=ie-W,U=y.size,j={x:o.x,y:D,width:o.width,height:U},Math.abs(F)>0&&Math.abs(q)<Math.abs(F)){var fe=Cn(q||F)*(Math.abs(F)-Math.abs(q));q+=fe}}return Nt(Nt(Nt({},k),{},{x:M,y:D,width:q,height:U,value:u?O:O[1],payload:k,background:j},I&&I[N]&&I[N].props),{},{tooltipPayload:[Y3(n,k)],tooltipPosition:{x:M+q/2,y:D+U/2}})});return Nt({data:T,layout:v},h)});function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function M1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MV(r.key),r)}}function D1e(t,e,n){return e&&d2(t.prototype,e),n&&d2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function f2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(n),!0).forEach(function(r){e0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e0(t,e,n){return e=MV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MV(t){var e=j1e(t,"string");return uf(e)=="symbol"?e:e+""}function j1e(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hT=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!Kn(u,ai);return c.reduce(function(y,v){var b=n[v],x=b.orientation,w=b.domain,_=b.padding,E=_===void 0?{}:_,P=b.mirror,S=b.reversed,C="".concat(x).concat(P?"Mirror":""),I,T,k,N,O;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var M=w[1]-w[0],D=1/0,q=b.categoricalDomain.sort(Are);if(q.forEach(function(ce,W){W>0&&(D=Math.min((ce||0)-(q[W-1]||0),D))}),Number.isFinite(D)){var U=D/M,j=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(I=U*j/2),b.padding==="no-gap"){var F=Pn(e.barCategoryGap,U*j),L=U*j/2;I=L-F-(L-F)/j*F}}}i==="xAxis"?T=[r.left+(E.left||0)+(I||0),r.left+r.width-(E.right||0)-(I||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(E.bottom||0),r.top+(E.top||0)]:[r.top+(E.top||0)+(I||0),r.top+r.height-(E.bottom||0)-(I||0)]:T=b.range,S&&(T=[T[1],T[0]]);var V=q3(b,o,h),z=V.scale,Y=V.realScaleType;z.domain(w).range(T),H3(z);var H=W3(z,Pr(Pr({},b),{},{realScaleType:Y}));i==="xAxis"?(O=x==="top"&&!P||x==="bottom"&&P,k=r.left,N=f[C]-O*b.height):i==="yAxis"&&(O=x==="left"&&!P||x==="right"&&P,k=f[C]-O*b.width,N=r.top);var J=Pr(Pr(Pr({},b),H),{},{realScaleType:Y,x:k,y:N,scale:z,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return J.bandSize=eg(J,H),!b.hide&&i==="xAxis"?f[C]+=(O?-1:1)*J.height:b.hide||(f[C]+=(O?-1:1)*J.width),Pr(Pr({},y),{},e0({},v,J))},{})},DV=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},L1e=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return DV({x:n,y:r},{x:i,y:o})},jV=function(){function t(e){M1e(this,t),this.scale=e}return D1e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();e0(jV,"EPS",1e-4);var pT=function(e){var n=Object.keys(e).reduce(function(r,i){return Pr(Pr({},r),{},e0({},i,jV.create(e[i])))},{});return Pr(Pr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return r1e(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return PV(i,function(o,s){return n[s].isInRange(o)})}})};function $1e(t){return(t%180+180)%180}var V1e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=$1e(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},F1e=di,U1e=$f,B1e=Ly;function G1e(t){return function(e,n,r){var i=Object(e);if(!U1e(e)){var o=F1e(n);e=B1e(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var z1e=G1e,q1e=AV;function H1e(t){var e=q1e(t),n=e%1;return e===e?n?e-n:e:0}var W1e=H1e,K1e=A4,Y1e=di,J1e=W1e,X1e=Math.max;function Q1e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:J1e(n);return i<0&&(i=X1e(r+i,0)),K1e(t,Y1e(e),i)}var Z1e=Q1e,eTe=z1e,tTe=Z1e,nTe=eTe(tTe),rTe=nTe;const iTe=Xe(rTe);var oTe=Cne(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),mT=G.createContext(void 0),gT=G.createContext(void 0),LV=G.createContext(void 0),$V=G.createContext({}),VV=G.createContext(void 0),FV=G.createContext(0),UV=G.createContext(0),h2=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,c=oTe(o);return B.createElement(mT.Provider,{value:r},B.createElement(gT.Provider,{value:i},B.createElement($V.Provider,{value:o},B.createElement(LV.Provider,{value:c},B.createElement(VV.Provider,{value:s},B.createElement(FV.Provider,{value:u},B.createElement(UV.Provider,{value:l},a)))))))},sTe=function(){return G.useContext(VV)},BV=function(e){var n=G.useContext(mT);n==null&&oa();var r=n[e];return r==null&&oa(),r},aTe=function(){var e=G.useContext(mT);return _o(e)},lTe=function(){var e=G.useContext(gT),n=iTe(e,function(r){return PV(r.domain,Number.isFinite)});return n||_o(e)},GV=function(e){var n=G.useContext(gT);n==null&&oa();var r=n[e];return r==null&&oa(),r},uTe=function(){var e=G.useContext(LV);return e},cTe=function(){return G.useContext($V)},yT=function(){return G.useContext(UV)},vT=function(){return G.useContext(FV)};function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function dTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qV(r.key),r)}}function hTe(t,e,n){return e&&fTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pTe(t,e,n){return e=bg(e),mTe(t,zV()?Reflect.construct(e,n||[],bg(t).constructor):e.apply(t,n))}function mTe(t,e){if(e&&(Kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gTe(t)}function gTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zV=function(){return!!t})()}function bg(t){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bg(t)}function yTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j_(t,e)}function j_(t,e){return j_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j_(t,e)}function p2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p2(Object(n),!0).forEach(function(r){xT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xT(t,e,n){return e=qV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qV(t){var e=vTe(t,"string");return Kl(e)=="symbol"?e:e+""}function vTe(t,e){if(Kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function xTe(t,e){return ETe(t)||wTe(t,e)||_Te(t,e)||bTe()}function bTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Te(t,e){if(t){if(typeof t=="string")return g2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g2(t,e)}}function g2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function ETe(t){if(Array.isArray(t))return t}function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L_.apply(this,arguments)}var TTe=function(e,n){var r;return B.isValidElement(e)?r=B.cloneElement(e,n):_e(e)?r=e(n):r=B.createElement("line",L_({},n,{className:"recharts-reference-line-line"})),r},STe=function(e,n,r,i,o,s,a,l,u){var c=o.x,f=o.y,h=o.width,y=o.height;if(r){var v=u.y,b=e.y.apply(v,{position:s});if(ii(u,"discard")&&!e.y.isInRange(b))return null;var x=[{x:c+h,y:b},{x:c,y:b}];return l==="left"?x.reverse():x}if(n){var w=u.x,_=e.x.apply(w,{position:s});if(ii(u,"discard")&&!e.x.isInRange(_))return null;var E=[{x:_,y:f+y},{x:_,y:f}];return a==="top"?E.reverse():E}if(i){var P=u.segment,S=P.map(function(C){return e.apply(C,{position:s})});return ii(u,"discard")&&YEe(S,function(C){return!e.isInRange(C)})?null:S}return null};function ATe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=sTe(),c=BV(i),f=GV(o),h=uTe();if(!u||!h)return null;Fr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=pT({x:c.scale,y:f.scale}),v=Ft(e),b=Ft(n),x=r&&r.length===2,w=STe(y,v,b,x,h,t.position,c.orientation,f.orientation,t);if(!w)return null;var _=xTe(w,2),E=_[0],P=E.x,S=E.y,C=_[1],I=C.x,T=C.y,k=ii(t,"hidden")?"url(#".concat(u,")"):void 0,N=m2(m2({clipPath:k},ye(t,!0)),{},{x1:P,y1:S,x2:I,y2:T});return B.createElement(je,{className:Ce("recharts-reference-line",a)},TTe(s,N),Jt.renderCallByParent(t,L1e({x1:P,y1:S,x2:I,y2:T})))}var zf=function(t){function e(){return dTe(this,e),pTe(this,e,arguments)}return yTe(e,t),hTe(e,[{key:"render",value:function(){return B.createElement(ATe,this.props)}}])}(B.Component);xT(zf,"displayName","ReferenceLine");xT(zf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function $_(){return $_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$_.apply(this,arguments)}function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}function y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y2(Object(n),!0).forEach(function(r){t0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ITe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WV(r.key),r)}}function CTe(t,e,n){return e&&kTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function PTe(t,e,n){return e=_g(e),NTe(t,HV()?Reflect.construct(e,n||[],_g(t).constructor):e.apply(t,n))}function NTe(t,e){if(e&&(Yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RTe(t)}function RTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HV=function(){return!!t})()}function _g(t){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_g(t)}function OTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V_(t,e)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V_(t,e)}function t0(t,e,n){return e=WV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WV(t){var e=MTe(t,"string");return Yl(e)=="symbol"?e:e+""}function MTe(t,e){if(Yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var DTe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=pT({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return ii(e,"discard")&&!s.isInRange(a)?null:a},n0=function(t){function e(){return ITe(this,e),PTe(this,e,arguments)}return OTe(e,t),CTe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=Ft(i),c=Ft(o);if(Fr(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=DTe(this.props);if(!f)return null;var h=f.x,y=f.y,v=this.props,b=v.shape,x=v.className,w=ii(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=v2(v2({clipPath:w},ye(this.props,!0)),{},{cx:h,cy:y});return B.createElement(je,{className:Ce("recharts-reference-dot",x)},e.renderDot(b,_),Jt.renderCallByParent(this.props,{x:h-s,y:y-s,width:2*s,height:2*s}))}}])}(B.Component);t0(n0,"displayName","ReferenceDot");t0(n0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});t0(n0,"renderDot",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):_e(t)?n=t(e):n=B.createElement(Ru,$_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function F_(){return F_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F_.apply(this,arguments)}function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function x2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x2(Object(n),!0).forEach(function(r){r0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YV(r.key),r)}}function $Te(t,e,n){return e&&LTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VTe(t,e,n){return e=wg(e),FTe(t,KV()?Reflect.construct(e,n||[],wg(t).constructor):e.apply(t,n))}function FTe(t,e){if(e&&(Jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UTe(t)}function UTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KV=function(){return!!t})()}function wg(t){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wg(t)}function BTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U_(t,e)}function U_(t,e){return U_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},U_(t,e)}function r0(t,e,n){return e=YV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YV(t){var e=GTe(t,"string");return Jl(e)=="symbol"?e:e+""}function GTe(t,e){if(Jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zTe=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var h=pT({x:c.scale,y:f.scale}),y={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ii(o,"discard")&&(!h.isInRange(y)||!h.isInRange(v))?null:DV(y,v)},i0=function(t){function e(){return jTe(this,e),VTe(this,e,arguments)}return BTe(e,t),$Te(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Fr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ft(i),h=Ft(o),y=Ft(s),v=Ft(a),b=this.props.shape;if(!f&&!h&&!y&&!v&&!b)return null;var x=zTe(f,h,y,v,this.props);if(!x&&!b)return null;var w=ii(this.props,"hidden")?"url(#".concat(c,")"):void 0;return B.createElement(je,{className:Ce("recharts-reference-area",l)},e.renderRect(b,b2(b2({clipPath:w},ye(this.props,!0)),x)),Jt.renderCallByParent(this.props,x))}}])}(B.Component);r0(i0,"displayName","ReferenceArea");r0(i0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});r0(i0,"renderRect",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):_e(t)?n=t(e):n=B.createElement(fT,F_({},e,{className:"recharts-reference-area-rect"})),n});function JV(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function qTe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return V1e(r,n)}function HTe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Eg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function WTe(t,e){return JV(t,e+1)}function KTe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,c=s,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:JV(r,u)};var b=l,x,w=function(){return x===void 0&&(x=n(v,b)),x},_=v.coordinate,E=l===0||Eg(t,_,w,c,a);E||(l=0,c=s,u+=1),E&&(c=_+t*(w()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function _2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(n),!0).forEach(function(r){YTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YTe(t,e,n){return e=JTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JTe(t){var e=XTe(t,"string");return cf(e)=="symbol"?e:e+""}function XTe(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QTe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(h){var y=o[h],v,b=function(){return v===void 0&&(v=n(y,h)),v};if(h===s-1){var x=t*(y.coordinate+t*b()/2-l);o[h]=y=gn(gn({},y),{},{tickCoord:x>0?y.coordinate-x*t:y.coordinate})}else o[h]=y=gn(gn({},y),{},{tickCoord:y.coordinate});var w=Eg(t,y.tickCoord,b,a,l);w&&(l=y.tickCoord-t*(b()/2+i),o[h]=gn(gn({},y),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function ZTe(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var c=r[a-1],f=n(c,a-1),h=t*(c.coordinate+t*f/2-u);s[a-1]=c=gn(gn({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var y=Eg(t,c.tickCoord,function(){return f},l,u);y&&(u=c.tickCoord-t*(f/2+i),s[a-1]=gn(gn({},c),{},{isShow:!0}))}for(var v=o?a-1:a,b=function(_){var E=s[_],P,S=function(){return P===void 0&&(P=n(E,_)),P};if(_===0){var C=t*(E.coordinate-t*S()/2-l);s[_]=E=gn(gn({},E),{},{tickCoord:C<0?E.coordinate-C*t:E.coordinate})}else s[_]=E=gn(gn({},E),{},{tickCoord:E.coordinate});var I=Eg(t,E.tickCoord,S,l,u);I&&(l=E.tickCoord+t*(S()/2+i),s[_]=gn(gn({},E),{},{isShow:!0}))},x=0;x<v;x++)b(x);return s}function bT(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(se(l)||ro.isSsr)return WTe(i,typeof l=="number"&&se(l)?l:0);var h=[],y=a==="top"||a==="bottom"?"width":"height",v=c&&y==="width"?Bc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(E,P){var S=_e(u)?u(E.value,P):E.value;return y==="width"?qTe(Bc(S,{fontSize:e,letterSpacing:n}),v,f):Bc(S,{fontSize:e,letterSpacing:n})[y]},x=i.length>=2?Cn(i[1].coordinate-i[0].coordinate):1,w=HTe(o,x,y);return l==="equidistantPreserveStart"?KTe(x,w,b,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=ZTe(x,w,b,i,s,l==="preserveStartEnd"):h=QTe(x,w,b,i,s),h.filter(function(_){return _.isShow}))}var eSe=["viewBox"],tSe=["viewBox"],nSe=["ticks"];function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function Za(){return Za=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Za.apply(this,arguments)}function w2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(n),!0).forEach(function(r){_T(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rv(t,e){if(t==null)return{};var n=rSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function iSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QV(r.key),r)}}function oSe(t,e,n){return e&&E2(t.prototype,e),n&&E2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sSe(t,e,n){return e=Tg(e),aSe(t,XV()?Reflect.construct(e,n||[],Tg(t).constructor):e.apply(t,n))}function aSe(t,e){if(e&&(Xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lSe(t)}function lSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XV=function(){return!!t})()}function Tg(t){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tg(t)}function uSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B_(t,e)}function B_(t,e){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B_(t,e)}function _T(t,e,n){return e=QV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QV(t){var e=cSe(t,"string");return Xl(e)=="symbol"?e:e+""}function cSe(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Du=function(t){function e(n){var r;return iSe(this,e),r=sSe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return uSe(e,t),oSe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=Rv(r,eSe),a=this.props,l=a.viewBox,u=Rv(a,tSe);return!hl(o,l)||!hl(s,u)||!hl(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,y,v,b,x,w,_,E=f?-1:1,P=r.tickSize||c,S=se(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":y=v=r.coordinate,x=s+ +!f*l,b=x-E*P,_=b-E*h,w=S;break;case"left":b=x=r.coordinate,v=o+ +!f*a,y=v-E*P,w=y-E*h,_=S;break;case"right":b=x=r.coordinate,v=o+ +f*a,y=v+E*P,w=y+E*h,_=S;break;default:y=v=r.coordinate,x=s+ +f*l,b=x+E*P,_=b+E*h,w=S;break}return{line:{x1:y,y1:b,x2:v,y2:x},tick:{x:w,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=Dt(Dt(Dt({},ye(this.props,!1)),ye(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Dt(Dt({},f),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var y=+(l==="left"&&!u||l==="right"&&u);f=Dt(Dt({},f),{},{x1:i+y*s,y1:o,x2:i+y*s,y2:o+a})}return B.createElement("line",Za({},f,{className:Ce("recharts-cartesian-axis-line",er(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,f=a.tickFormatter,h=a.unit,y=bT(Dt(Dt({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),x=ye(this.props,!1),w=ye(c,!1),_=Dt(Dt({},x),{},{fill:"none"},ye(l,!1)),E=y.map(function(P,S){var C=s.getTickLineCoord(P),I=C.line,T=C.tick,k=Dt(Dt(Dt(Dt({textAnchor:v,verticalAnchor:b},x),{},{stroke:"none",fill:u},w),T),{},{index:S,payload:P,visibleTicksCount:y.length,tickFormatter:f});return B.createElement(je,Za({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},na(s.props,P,S)),l&&B.createElement("line",Za({},_,I,{className:Ce("recharts-cartesian-axis-tick-line",er(l,"className"))})),c&&e.renderTickItem(c,k,"".concat(_e(f)?f(P.value,S):P.value).concat(h||"")))});return B.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,y=Rv(f,nSe),v=h;return _e(l)&&(v=h&&h.length>0?l(this.props):l(y)),s<=0||a<=0||!v||!v.length?null:B.createElement(je,{className:Ce("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Jt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=Ce(i.className,"recharts-cartesian-axis-tick-value");return B.isValidElement(r)?s=B.cloneElement(r,Dt(Dt({},i),{},{className:a})):_e(r)?s=r(Dt(Dt({},i),{},{className:a})):s=B.createElement(ra,Za({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(G.Component);_T(Du,"displayName","CartesianAxis");_T(Du,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var dSe=["x1","y1","x2","y2","key"],fSe=["offset"];function sa(t){"@babel/helpers - typeof";return sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sa(t)}function T2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(n),!0).forEach(function(r){hSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hSe(t,e,n){return e=pSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pSe(t){var e=mSe(t,"string");return sa(e)=="symbol"?e:e+""}function mSe(t,e){if(sa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Os(){return Os=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Os.apply(this,arguments)}function S2(t,e){if(t==null)return{};var n=gSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ySe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return B.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function ZV(t,e){var n;if(B.isValidElement(t))n=B.cloneElement(t,e);else if(_e(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=S2(e,dSe),u=ye(l,!1);u.offset;var c=S2(u,fSe);n=B.createElement("line",Os({},c,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function vSe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=vn(vn({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return ZV(i,u)});return B.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function xSe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=vn(vn({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return ZV(i,u)});return B.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function bSe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=a.map(function(h){return Math.round(h+i-i)}).sort(function(h,y){return h-y});i!==c[0]&&c.unshift(0);var f=c.map(function(h,y){var v=!c[y+1],b=v?i+s-h:c[y+1]-h;if(b<=0)return null;var x=y%e.length;return B.createElement("rect",{key:"react-".concat(y),y:h,x:r,height:b,width:o,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function _Se(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,y){return h-y});o!==c[0]&&c.unshift(0);var f=c.map(function(h,y){var v=!c[y+1],b=v?o+a-h:c[y+1]-h;if(b<=0)return null;var x=y%r.length;return B.createElement("rect",{key:"react-".concat(y),x:h,y:s,width:b,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var wSe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return z3(bT(vn(vn(vn({},Du.defaultProps),r),{},{ticks:ki(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},ESe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return z3(bT(vn(vn(vn({},Du.defaultProps),r),{},{ticks:ki(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},Ia={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ql(t){var e,n,r,i,o,s,a=yT(),l=vT(),u=cTe(),c=vn(vn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ia.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ia.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ia.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ia.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Ia.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Ia.verticalFill,x:se(t.x)?t.x:u.left,y:se(t.y)?t.y:u.top,width:se(t.width)?t.width:u.width,height:se(t.height)?t.height:u.height}),f=c.x,h=c.y,y=c.width,v=c.height,b=c.syncWithTicks,x=c.horizontalValues,w=c.verticalValues,_=aTe(),E=lTe();if(!se(y)||y<=0||!se(v)||v<=0||!se(f)||f!==+f||!se(h)||h!==+h)return null;var P=c.verticalCoordinatesGenerator||wSe,S=c.horizontalCoordinatesGenerator||ESe,C=c.horizontalPoints,I=c.verticalPoints;if((!C||!C.length)&&_e(S)){var T=x&&x.length,k=S({yAxis:E?vn(vn({},E),{},{ticks:T?x:E.ticks}):void 0,width:a,height:l,offset:u},T?!0:b);Fr(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(sa(k),"]")),Array.isArray(k)&&(C=k)}if((!I||!I.length)&&_e(P)){var N=w&&w.length,O=P({xAxis:_?vn(vn({},_),{},{ticks:N?w:_.ticks}):void 0,width:a,height:l,offset:u},N?!0:b);Fr(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(sa(O),"]")),Array.isArray(O)&&(I=O)}return B.createElement("g",{className:"recharts-cartesian-grid"},B.createElement(ySe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),B.createElement(vSe,Os({},c,{offset:u,horizontalPoints:C,xAxis:_,yAxis:E})),B.createElement(xSe,Os({},c,{offset:u,verticalPoints:I,xAxis:_,yAxis:E})),B.createElement(bSe,Os({},c,{horizontalPoints:C})),B.createElement(_Se,Os({},c,{verticalPoints:I})))}Ql.displayName="CartesianGrid";var TSe=["type","layout","connectNulls","ref"],SSe=["key"];function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function A2(t,e){if(t==null)return{};var n=ASe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ASe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Kc(){return Kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kc.apply(this,arguments)}function I2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I2(Object(n),!0).forEach(function(r){Nr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ka(t){return PSe(t)||CSe(t)||kSe(t)||ISe()}function ISe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kSe(t,e){if(t){if(typeof t=="string")return G_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G_(t,e)}}function CSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function PSe(t){if(Array.isArray(t))return G_(t)}function G_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tF(r.key),r)}}function RSe(t,e,n){return e&&k2(t.prototype,e),n&&k2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function OSe(t,e,n){return e=Sg(e),MSe(t,eF()?Reflect.construct(e,n||[],Sg(t).constructor):e.apply(t,n))}function MSe(t,e){if(e&&(Zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DSe(t)}function DSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eF=function(){return!!t})()}function Sg(t){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sg(t)}function jSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z_(t,e)}function z_(t,e){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z_(t,e)}function Nr(t,e,n){return e=tF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tF(t){var e=LSe(t,"string");return Zl(e)=="symbol"?e:e+""}function LSe(t,e){if(Zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qf=function(t){function e(){var n;NSe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=OSe(this,e,[].concat(i)),Nr(n,"state",{isAnimationFinished:!0,totalLength:0}),Nr(n,"generateSimpleStrokeDasharray",function(s,a){return"".concat(a,"px ").concat(s-a,"px")}),Nr(n,"getStrokeDasharray",function(s,a,l){var u=l.reduce(function(w,_){return w+_});if(!u)return n.generateSimpleStrokeDasharray(a,s);for(var c=Math.floor(s/u),f=s%u,h=a-s,y=[],v=0,b=0;v<l.length;b+=l[v],++v)if(b+l[v]>f){y=[].concat(ka(l.slice(0,v)),[f-b]);break}var x=y.length%2===0?[0,h]:[h];return[].concat(ka(e.repeat(l,c)),ka(y),x).map(function(w){return"".concat(w,"px")}).join(", ")}),Nr(n,"id",pa("recharts-line-")),Nr(n,"pathRef",function(s){n.mainCurve=s}),Nr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Nr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return jSe(e,t),RSe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=tr(c,Gf);if(!f)return null;var h=function(b,x){return{x:b.x,y:b.y,value:b.value,errorVal:bt(b.payload,x)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return B.createElement(je,y,f.map(function(v){return B.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,u=a.points,c=a.dataKey,f=ye(this.props,!1),h=ye(l,!0),y=u.map(function(b,x){var w=qn(qn(qn({key:"dot-".concat(x),r:3},f),h),{},{index:x,cx:b.x,cy:b.y,value:b.value,dataKey:c,payload:b.payload,points:u});return e.renderDotItem(l,w)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return B.createElement(je,Kc({className:"recharts-line-dots",key:"dots"},v),y)}},{key:"renderCurveStatically",value:function(r,i,o,s){var a=this.props,l=a.type,u=a.layout,c=a.connectNulls;a.ref;var f=A2(a,TSe),h=qn(qn(qn({},ye(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:l,layout:u,connectNulls:c});return B.createElement(Us,Kc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.strokeDasharray,u=s.isAnimationActive,c=s.animationBegin,f=s.animationDuration,h=s.animationEasing,y=s.animationId,v=s.animateNewValues,b=s.width,x=s.height,w=this.state,_=w.prevPoints,E=w.totalLength;return B.createElement(_r,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var S=P.t;if(_){var C=_.length/a.length,I=a.map(function(M,D){var q=Math.floor(D*C);if(_[q]){var U=_[q],j=xt(U.x,M.x),F=xt(U.y,M.y);return qn(qn({},M),{},{x:j(S),y:F(S)})}if(v){var L=xt(b*2,M.x),V=xt(x/2,M.y);return qn(qn({},M),{},{x:L(S),y:V(S)})}return qn(qn({},M),{},{x:M.x,y:M.y})});return o.renderCurveStatically(I,r,i)}var T=xt(0,E),k=T(S),N;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});N=o.getStrokeDasharray(k,E,O)}else N=o.generateSimpleStrokeDasharray(E,k);return o.renderCurveStatically(a,r,i,{strokeDasharray:N})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,a=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return a&&s&&s.length&&(!u&&c>0||!Yo(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,h=i.left,y=i.width,v=i.height,b=i.isAnimationActive,x=i.id;if(o||!a||!a.length)return null;var w=this.state.isAnimationFinished,_=a.length===1,E=Ce("recharts-line",l),P=u&&u.allowDataOverflow,S=c&&c.allowDataOverflow,C=P||S,I=Ie(x)?this.id:x,T=(r=ye(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=T.r,N=k===void 0?3:k,O=T.strokeWidth,M=O===void 0?2:O,D=L$(s)?s:{},q=D.clipDot,U=q===void 0?!0:q,j=N*2+M;return B.createElement(je,{className:E},P||S?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(I)},B.createElement("rect",{x:P?h:h-y/2,y:S?f:f-v/2,width:P?y:y*2,height:S?v:v*2})),!U&&B.createElement("clipPath",{id:"clipPath-dots-".concat(I)},B.createElement("rect",{x:h-j/2,y:f-j/2,width:y+j,height:v+j}))):null,!_&&this.renderCurve(C,I),this.renderErrorBar(C,I),(_||s)&&this.renderDots(C,U,I),(!b||w)&&Ur.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(ka(r),[0]):r,s=[],a=0;a<i;++a)s=[].concat(ka(s),ka(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if(B.isValidElement(r))o=B.cloneElement(r,i);else if(_e(r))o=r(i);else{var s=i.key,a=A2(i,SSe),l=Ce("recharts-line-dot",typeof r!="boolean"?r.className:"");o=B.createElement(Ru,Kc({key:s},a,{className:l}))}return o}}])}(G.PureComponent);Nr(qf,"displayName","Line");Nr(qf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ro.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Nr(qf,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(h,y){var v=bt(h,s);return c==="horizontal"?{x:Zm({axis:n,ticks:i,bandSize:a,entry:h,index:y}),y:Ie(v)?null:r.scale(v),value:v,payload:h}:{x:Ie(v)?null:n.scale(v),y:Zm({axis:r,ticks:o,bandSize:a,entry:h,index:y}),value:v,payload:h}});return qn({points:f,layout:c},u)});var $Se=["layout","type","stroke","connectNulls","isRange","ref"],VSe=["key"],nF;function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function rF(t,e){if(t==null)return{};var n=FSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ms(){return Ms=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ms.apply(this,arguments)}function C2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function co(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C2(Object(n),!0).forEach(function(r){Xr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function USe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oF(r.key),r)}}function BSe(t,e,n){return e&&P2(t.prototype,e),n&&P2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GSe(t,e,n){return e=Ag(e),zSe(t,iF()?Reflect.construct(e,n||[],Ag(t).constructor):e.apply(t,n))}function zSe(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qSe(t)}function qSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iF=function(){return!!t})()}function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ag(t)}function HSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q_(t,e)}function q_(t,e){return q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},q_(t,e)}function Xr(t,e,n){return e=oF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oF(t){var e=WSe(t,"string");return eu(e)=="symbol"?e:e+""}function WSe(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ls=function(t){function e(){var n;USe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=GSe(this,e,[].concat(i)),Xr(n,"state",{isAnimationFinished:!0}),Xr(n,"id",pa("recharts-area-")),Xr(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),_e(s)&&s()}),Xr(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),_e(s)&&s()}),n}return HSe(e,t),BSe(e,[{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(s&&!a)return null;var l=this.props,u=l.dot,c=l.points,f=l.dataKey,h=ye(this.props,!1),y=ye(u,!0),v=c.map(function(x,w){var _=co(co(co({key:"dot-".concat(w),r:3},h),y),{},{index:w,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:c});return e.renderDotItem(u,_)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return B.createElement(je,Ms({className:"recharts-area-dots"},b),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].x,u=s[s.length-1].x,c=r*Math.abs(l-u),f=Ao(s.map(function(h){return h.y||0}));return se(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Ao(o.map(function(h){return h.y||0})),f)),se(f)?B.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(f+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].y,u=s[s.length-1].y,c=r*Math.abs(l-u),f=Ao(s.map(function(h){return h.x||0}));return se(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Ao(o.map(function(h){return h.x||0})),f)),se(f)?B.createElement("rect",{x:0,y:l<u?l:l-c,width:f+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,s){var a=this.props,l=a.layout,u=a.type,c=a.stroke,f=a.connectNulls,h=a.isRange;a.ref;var y=rF(a,$Se);return B.createElement(je,{clipPath:o?"url(#clipPath-".concat(s,")"):null},B.createElement(Us,Ms({},ye(y,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&B.createElement(Us,Ms({},ye(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:r})),c!=="none"&&h&&B.createElement(Us,Ms({},ye(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.baseLine,u=s.isAnimationActive,c=s.animationBegin,f=s.animationDuration,h=s.animationEasing,y=s.animationId,v=this.state,b=v.prevPoints,x=v.prevBaseLine;return B.createElement(_r,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var _=w.t;if(b){var E=b.length/a.length,P=a.map(function(T,k){var N=Math.floor(k*E);if(b[N]){var O=b[N],M=xt(O.x,T.x),D=xt(O.y,T.y);return co(co({},T),{},{x:M(_),y:D(_)})}return T}),S;if(se(l)&&typeof l=="number"){var C=xt(x,l);S=C(_)}else if(Ie(l)||Su(l)){var I=xt(x,0);S=I(_)}else S=l.map(function(T,k){var N=Math.floor(k*E);if(x[N]){var O=x[N],M=xt(O.x,T.x),D=xt(O.y,T.y);return co(co({},T),{},{x:M(_),y:D(_)})}return T});return o.renderAreaStatically(P,S,r,i)}return B.createElement(je,null,B.createElement("defs",null,B.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(_))),B.createElement(je,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(a,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,s=o.points,a=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&s&&s.length&&(!c&&h>0||!Yo(c,s)||!Yo(f,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.top,c=i.left,f=i.xAxis,h=i.yAxis,y=i.width,v=i.height,b=i.isAnimationActive,x=i.id;if(o||!a||!a.length)return null;var w=this.state.isAnimationFinished,_=a.length===1,E=Ce("recharts-area",l),P=f&&f.allowDataOverflow,S=h&&h.allowDataOverflow,C=P||S,I=Ie(x)?this.id:x,T=(r=ye(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=T.r,N=k===void 0?3:k,O=T.strokeWidth,M=O===void 0?2:O,D=L$(s)?s:{},q=D.clipDot,U=q===void 0?!0:q,j=N*2+M;return B.createElement(je,{className:E},P||S?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(I)},B.createElement("rect",{x:P?c:c-y/2,y:S?u:u-v/2,width:P?y:y*2,height:S?v:v*2})),!U&&B.createElement("clipPath",{id:"clipPath-dots-".concat(I)},B.createElement("rect",{x:c-j/2,y:u-j/2,width:y+j,height:v+j}))):null,_?null:this.renderArea(C,I),(s||_)&&this.renderDots(C,U,I),(!b||w)&&Ur.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(G.PureComponent);nF=ls;Xr(ls,"displayName","Area");Xr(ls,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ro.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Xr(ls,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,s=e.props.baseValue,a=s??o;if(se(a)&&typeof a=="number")return a;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return a==="dataMin"?f:a==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]});Xr(ls,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,a=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,y=e.layout,v=u&&u.length,b=nF.getBaseValue(e,n,r,i),x=y==="horizontal",w=!1,_=f.map(function(P,S){var C;v?C=u[c+S]:(C=bt(P,l),Array.isArray(C)?w=!0:C=[b,C]);var I=C[1]==null||v&&bt(P,l)==null;return x?{x:Zm({axis:r,ticks:o,bandSize:a,entry:P,index:S}),y:I?null:i.scale(C[1]),value:C,payload:P}:{x:I?null:r.scale(C[1]),y:Zm({axis:i,ticks:s,bandSize:a,entry:P,index:S}),value:C,payload:P}}),E;return v||w?E=_.map(function(P){var S=Array.isArray(P.value)?P.value[0]:null;return x?{x:P.x,y:S!=null&&P.y!=null?i.scale(S):null}:{x:S!=null?r.scale(S):null,y:P.y}}):E=x?i.scale(b):r.scale(b),co({points:_,baseLine:E,layout:y,isRange:w},h)});Xr(ls,"renderDotItem",function(t,e){var n;if(B.isValidElement(t))n=B.cloneElement(t,e);else if(_e(t))n=t(e);else{var r=Ce("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=rF(e,VSe);n=B.createElement(Ru,Ms({},o,{key:i,className:r}))}return n});function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function KSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lF(r.key),r)}}function JSe(t,e,n){return e&&YSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XSe(t,e,n){return e=Ig(e),QSe(t,sF()?Reflect.construct(e,n||[],Ig(t).constructor):e.apply(t,n))}function QSe(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZSe(t)}function ZSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sF=function(){return!!t})()}function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ig(t)}function eAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H_(t,e)}function H_(t,e){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},H_(t,e)}function aF(t,e,n){return e=lF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lF(t){var e=tAe(t,"string");return tu(e)=="symbol"?e:e+""}function tAe(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W_.apply(this,arguments)}function nAe(t){var e=t.xAxisId,n=yT(),r=vT(),i=BV(e);return i==null?null:G.createElement(Du,W_({},i,{className:Ce("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return ki(s,!0)}}))}var li=function(t){function e(){return KSe(this,e),XSe(this,e,arguments)}return eAe(e,t),JSe(e,[{key:"render",value:function(){return G.createElement(nAe,this.props)}}])}(G.Component);aF(li,"displayName","XAxis");aF(li,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function rAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dF(r.key),r)}}function oAe(t,e,n){return e&&iAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sAe(t,e,n){return e=kg(e),aAe(t,uF()?Reflect.construct(e,n||[],kg(t).constructor):e.apply(t,n))}function aAe(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lAe(t)}function lAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uF=function(){return!!t})()}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kg(t)}function uAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K_(t,e)}function K_(t,e){return K_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K_(t,e)}function cF(t,e,n){return e=dF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dF(t){var e=cAe(t,"string");return nu(e)=="symbol"?e:e+""}function cAe(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y_.apply(this,arguments)}var dAe=function(e){var n=e.yAxisId,r=yT(),i=vT(),o=GV(n);return o==null?null:G.createElement(Du,Y_({},o,{className:Ce("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return ki(a,!0)}}))},ui=function(t){function e(){return rAe(this,e),sAe(this,e,arguments)}return uAe(e,t),oAe(e,[{key:"render",value:function(){return G.createElement(dAe,this.props)}}])}(G.Component);cF(ui,"displayName","YAxis");cF(ui,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function N2(t){return mAe(t)||pAe(t)||hAe(t)||fAe()}function fAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hAe(t,e){if(t){if(typeof t=="string")return J_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J_(t,e)}}function pAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mAe(t){if(Array.isArray(t))return J_(t)}function J_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var X_=function(e,n,r,i,o){var s=tr(e,zf),a=tr(e,n0),l=[].concat(N2(s),N2(a)),u=tr(e,i0),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(b,x){if(x.props[c]===r&&ii(x.props,"extendDomain")&&se(x.props[f])){var w=x.props[f];return[Math.min(b[0],w),Math.max(b[1],w)]}return b},h)),u.length){var y="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(b,x){if(x.props[c]===r&&ii(x.props,"extendDomain")&&se(x.props[y])&&se(x.props[v])){var w=x.props[y],_=x.props[v];return[Math.min(b[0],w,_),Math.max(b[1],w,_)]}return b},h)}return o&&o.length&&(h=o.reduce(function(b,x){return se(x)?[Math.min(b[0],x),Math.max(b[1],x)]:b},h)),h},fF={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var y=new i(c,f||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],y]:l._events[v].push(y):(l._events[v]=y,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,y=f.length,v=new Array(y);h<y;h++)v[h]=f[h].fn;return v},a.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,h,y,v){var b=n?n+u:u;if(!this._events[b])return!1;var x=this._events[b],w=arguments.length,_,E;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,f),!0;case 4:return x.fn.call(x.context,c,f,h),!0;case 5:return x.fn.call(x.context,c,f,h,y),!0;case 6:return x.fn.call(x.context,c,f,h,y,v),!0}for(E=1,_=new Array(w-1);E<w;E++)_[E-1]=arguments[E];x.fn.apply(x.context,_)}else{var P=x.length,S;for(E=0;E<P;E++)switch(x[E].once&&this.removeListener(u,x[E].fn,void 0,!0),w){case 1:x[E].fn.call(x[E].context);break;case 2:x[E].fn.call(x[E].context,c);break;case 3:x[E].fn.call(x[E].context,c,f);break;case 4:x[E].fn.call(x[E].context,c,f,h);break;default:if(!_)for(S=1,_=new Array(w-1);S<w;S++)_[S-1]=arguments[S];x[E].fn.apply(x[E].context,_)}}return!0},a.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,h){var y=n?n+u:u;if(!this._events[y])return this;if(!c)return s(this,y),this;var v=this._events[y];if(v.fn)v.fn===c&&(!h||v.once)&&(!f||v.context===f)&&s(this,y);else{for(var b=0,x=[],w=v.length;b<w;b++)(v[b].fn!==c||h&&!v[b].once||f&&v[b].context!==f)&&x.push(v[b]);x.length?this._events[y]=x.length===1?x[0]:x:s(this,y)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(fF);var gAe=fF.exports;const yAe=Xe(gAe);var Ov=new yAe,Mv="recharts.syncMouseEvents";function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function vAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hF(r.key),r)}}function bAe(t,e,n){return e&&xAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dv(t,e,n){return e=hF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hF(t){var e=_Ae(t,"string");return df(e)=="symbol"?e:e+""}function _Ae(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wAe=function(){function t(){vAe(this,t),Dv(this,"activeIndex",0),Dv(this,"coordinateList",[]),Dv(this,"layout","horizontal")}return bAe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,y=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=s+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function EAe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&se(r)&&se(i))return!0}return!1}function TAe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function pF(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Ye(e,n,r,i),a=Ye(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function SAe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=Ye(a,l,u,f),y=Ye(a,l,c,f);r=h.x,i=h.y,o=y.x,s=y.y}else return pF(e);return[{x:r,y:i},{x:o,y:s}]}function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function R2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R2(Object(n),!0).forEach(function(r){AAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AAe(t,e,n){return e=IAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IAe(t){var e=kAe(t,"string");return ff(e)=="symbol"?e:e+""}function kAe(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CAe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,y=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!y||!o||!s||h!=="ScatterChart"&&i!=="axis")return null;var v,b=Us;if(h==="ScatterChart")v=s,b=f_e;else if(h==="BarChart")v=TAe(f,s,l,c),b=fT;else if(f==="radial"){var x=pF(s),w=x.cx,_=x.cy,E=x.radius,P=x.startAngle,S=x.endAngle;v={cx:w,cy:_,startAngle:P,endAngle:S,innerRadius:E,outerRadius:E},b=rV}else v={points:SAe(f,s,l)},b=Us;var C=Jh(Jh(Jh(Jh({stroke:"#ccc",pointerEvents:"none"},l),v),ye(y,!1)),{},{payload:a,payloadIndex:u,className:Ce("recharts-tooltip-cursor",y.className)});return G.isValidElement(y)?G.cloneElement(y,C):G.createElement(b,C)}var PAe=["item"],NAe=["children","className","width","height","style","compact","title","desc"];function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function el(){return el=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},el.apply(this,arguments)}function O2(t,e){return MAe(t)||OAe(t,e)||gF(t,e)||RAe()}function RAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function MAe(t){if(Array.isArray(t))return t}function M2(t,e){if(t==null)return{};var n=DAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yF(r.key),r)}}function $Ae(t,e,n){return e&&LAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VAe(t,e,n){return e=Cg(e),FAe(t,mF()?Reflect.construct(e,n||[],Cg(t).constructor):e.apply(t,n))}function FAe(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UAe(t)}function UAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mF=function(){return!!t})()}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cg(t)}function BAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q_(t,e)}function Q_(t,e){return Q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Q_(t,e)}function iu(t){return qAe(t)||zAe(t)||gF(t)||GAe()}function GAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gF(t,e){if(t){if(typeof t=="string")return Z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z_(t,e)}}function zAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qAe(t){if(Array.isArray(t))return Z_(t)}function Z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function D2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D2(Object(n),!0).forEach(function(r){we(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function we(t,e,n){return e=yF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yF(t){var e=HAe(t,"string");return ru(e)=="symbol"?e:e+""}function HAe(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WAe={xAxis:["bottom","top"],yAxis:["left","right"]},KAe={width:"100%",height:"100%"},vF={x:0,y:0};function Xh(t){return t}var YAe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},JAe=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return Z(Z(Z({},i),Ye(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return Z(Z(Z({},i),Ye(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return vF},o0=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(iu(a),iu(u)):a},[]);return s.length>0?s:e&&e.length&&se(i)&&se(o)?e.slice(i,o+1):[]};function xF(t){return t==="number"?[0,"auto"]:void 0}var ew=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=o0(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var y=f===void 0?a:f;h=Tm(y,s.dataKey,i)}else h=f&&f[r]||a[r];return h?[].concat(iu(l),[Y3(u,h)]):l},[])},j2=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=YAe(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=D0e(s,a,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=ew(e,n,c,f),y=JAe(r,a,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:y}}return null},XAe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,y=G3(c,o);return r.reduce(function(v,b){var x,w=b.type.defaultProps!==void 0?Z(Z({},b.type.defaultProps),b.props):b.props,_=w.type,E=w.dataKey,P=w.allowDataOverflow,S=w.allowDuplicatedCategory,C=w.scale,I=w.ticks,T=w.includeHidden,k=w[s];if(v[k])return v;var N=o0(e.data,{graphicalItems:i.filter(function(H){var J,ce=s in H.props?H.props[s]:(J=H.type.defaultProps)===null||J===void 0?void 0:J[s];return ce===k}),dataStartIndex:l,dataEndIndex:u}),O=N.length,M,D,q;EAe(w.domain,P,_)&&(M=f_(w.domain,null,P),y&&(_==="number"||C!=="auto")&&(q=zc(N,E,"category")));var U=xF(_);if(!M||M.length===0){var j,F=(j=w.domain)!==null&&j!==void 0?j:U;if(E){if(M=zc(N,E,_),_==="category"&&y){var L=Sre(M);S&&L?(D=M,M=mg(0,O)):S||(M=nR(F,M,b).reduce(function(H,J){return H.indexOf(J)>=0?H:[].concat(iu(H),[J])},[]))}else if(_==="category")S?M=M.filter(function(H){return H!==""&&!Ie(H)}):M=nR(F,M,b).reduce(function(H,J){return H.indexOf(J)>=0||J===""||Ie(J)?H:[].concat(iu(H),[J])},[]);else if(_==="number"){var V=F0e(N,i.filter(function(H){var J,ce,W=s in H.props?H.props[s]:(J=H.type.defaultProps)===null||J===void 0?void 0:J[s],ie="hide"in H.props?H.props.hide:(ce=H.type.defaultProps)===null||ce===void 0?void 0:ce.hide;return W===k&&(T||!ie)}),E,o,c);V&&(M=V)}y&&(_==="number"||C!=="auto")&&(q=zc(N,E,"category"))}else y?M=mg(0,O):a&&a[k]&&a[k].hasStack&&_==="number"?M=h==="expand"?[0,1]:K3(a[k].stackGroups,l,u):M=B3(N,i.filter(function(H){var J=s in H.props?H.props[s]:H.type.defaultProps[s],ce="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return J===k&&(T||!ce)}),_,c,!0);if(_==="number")M=X_(f,M,k,o,I),F&&(M=f_(F,M,P));else if(_==="category"&&F){var z=F,Y=M.every(function(H){return z.indexOf(H)>=0});Y&&(M=z)}}return Z(Z({},v),{},we({},k,Z(Z({},w),{},{axisType:o,domain:M,categoricalDomain:q,duplicateDomain:D,originalDomain:(x=w.domain)!==null&&x!==void 0?x:U,isCategorical:y,layout:c})))},{})},QAe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=o0(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),y=h.length,v=G3(c,o),b=-1;return r.reduce(function(x,w){var _=w.type.defaultProps!==void 0?Z(Z({},w.type.defaultProps),w.props):w.props,E=_[s],P=xF("number");if(!x[E]){b++;var S;return v?S=mg(0,y):a&&a[E]&&a[E].hasStack?(S=K3(a[E].stackGroups,l,u),S=X_(f,S,E,o)):(S=f_(P,B3(h,r.filter(function(C){var I,T,k=s in C.props?C.props[s]:(I=C.type.defaultProps)===null||I===void 0?void 0:I[s],N="hide"in C.props?C.props.hide:(T=C.type.defaultProps)===null||T===void 0?void 0:T.hide;return k===E&&!N}),"number",c),i.defaultProps.allowDataOverflow),S=X_(f,S,E,o)),Z(Z({},x),{},we({},E,Z(Z({axisType:o},i.defaultProps),{},{hide:!0,orientation:er(WAe,"".concat(o,".").concat(b%2),null),domain:S,originalDomain:P,isCategorical:v,layout:c})))}return x},{})},ZAe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=tr(c,o),y={};return h&&h.length?y=XAe(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(y=QAe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),y},eIe=function(e){var n=_o(e),r=ki(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:V1(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:eg(n,r)}},L2=function(e){var n=e.children,r=e.defaultShowTooltip,i=Kn(n,Hl),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},tIe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ri(n&&n.type);return r&&r.indexOf("Bar")>=0})},$2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},nIe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,f=r.children,h=r.margin||{},y=Kn(f,Hl),v=Kn(f,ni),b=Object.keys(l).reduce(function(S,C){var I=l[C],T=I.orientation;return!I.mirror&&!I.hide?Z(Z({},S),{},we({},T,S[T]+I.width)):S},{left:h.left||0,right:h.right||0}),x=Object.keys(s).reduce(function(S,C){var I=s[C],T=I.orientation;return!I.mirror&&!I.hide?Z(Z({},S),{},we({},T,er(S,"".concat(T))+I.height)):S},{top:h.top||0,bottom:h.bottom||0}),w=Z(Z({},x),b),_=w.bottom;y&&(w.bottom+=y.props.height||Hl.defaultProps.height),v&&n&&(w=$0e(w,i,r,n));var E=u-w.left-w.right,P=c-w.top-w.bottom;return Z(Z({brushBottom:_},w),{},{width:Math.max(E,0),height:Math.max(P,0)})},rIe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Hf=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(w,_){var E=_.graphicalItems,P=_.stackGroups,S=_.offset,C=_.updateId,I=_.dataStartIndex,T=_.dataEndIndex,k=w.barSize,N=w.layout,O=w.barGap,M=w.barCategoryGap,D=w.maxBarSize,q=$2(N),U=q.numericAxisName,j=q.cateAxisName,F=tIe(E),L=[];return E.forEach(function(V,z){var Y=o0(w.data,{graphicalItems:[V],dataStartIndex:I,dataEndIndex:T}),H=V.type.defaultProps!==void 0?Z(Z({},V.type.defaultProps),V.props):V.props,J=H.dataKey,ce=H.maxBarSize,W=H["".concat(U,"Id")],ie=H["".concat(j,"Id")],fe={},Re=l.reduce(function(ct,Me){var Gt=_["".concat(Me.axisType,"Map")],Tr=H["".concat(Me.axisType,"Id")];Gt&&Gt[Tr]||Me.axisType==="zAxis"||oa();var zt=Gt[Tr];return Z(Z({},ct),{},we(we({},Me.axisType,zt),"".concat(Me.axisType,"Ticks"),ki(zt)))},fe),oe=Re[j],xe=Re["".concat(j,"Ticks")],ue=P&&P[W]&&P[W].hasStack&&Y0e(V,P[W].stackGroups),ee=Ri(V.type).indexOf("Bar")>=0,Oe=eg(oe,xe),Te=[],nt=F&&j0e({barSize:k,stackGroups:P,totalSize:rIe(Re,j)});if(ee){var rt,Q,le=Ie(ce)?D:ce,ke=(rt=(Q=eg(oe,xe,!0))!==null&&Q!==void 0?Q:le)!==null&&rt!==void 0?rt:0;Te=L0e({barGap:O,barCategoryGap:M,bandSize:ke!==Oe?ke:Oe,sizeList:nt[ie],maxBarSize:le}),ke!==Oe&&(Te=Te.map(function(ct){return Z(Z({},ct),{},{position:Z(Z({},ct.position),{},{offset:ct.position.offset-ke/2})})}))}var Fe=V&&V.type&&V.type.getComposedData;Fe&&L.push({props:Z(Z({},Fe(Z(Z({},Re),{},{displayedData:Y,props:w,dataKey:J,item:V,bandSize:Oe,barPosition:Te,offset:S,stackedData:ue,layout:N,dataStartIndex:I,dataEndIndex:T}))),{},we(we(we({key:V.key||"item-".concat(z)},U,Re[U]),j,Re[j]),"animationId",C)),childIndex:Lre(V,w.children),item:V})}),L},y=function(w,_){var E=w.props,P=w.dataStartIndex,S=w.dataEndIndex,C=w.updateId;if(!JC({props:E}))return null;var I=E.children,T=E.layout,k=E.stackOffset,N=E.data,O=E.reverseStackOrder,M=$2(T),D=M.numericAxisName,q=M.cateAxisName,U=tr(I,r),j=W0e(N,U,"".concat(D,"Id"),"".concat(q,"Id"),k,O),F=l.reduce(function(H,J){var ce="".concat(J.axisType,"Map");return Z(Z({},H),{},we({},ce,ZAe(E,Z(Z({},J),{},{graphicalItems:U,stackGroups:J.axisType===D&&j,dataStartIndex:P,dataEndIndex:S}))))},{}),L=nIe(Z(Z({},F),{},{props:E,graphicalItems:U}),_==null?void 0:_.legendBBox);Object.keys(F).forEach(function(H){F[H]=c(E,F[H],L,H.replace("Map",""),n)});var V=F["".concat(q,"Map")],z=eIe(V),Y=h(E,Z(Z({},F),{},{dataStartIndex:P,dataEndIndex:S,updateId:C,graphicalItems:U,stackGroups:j,offset:L}));return Z(Z({formattedGraphicalItems:Y,graphicalItems:U,offset:L,stackGroups:j},z),F)},v=function(x){function w(_){var E,P,S;return jAe(this,w),S=VAe(this,w,[_]),we(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),we(S,"accessibilityManager",new wAe),we(S,"handleLegendBBoxUpdate",function(C){if(C){var I=S.state,T=I.dataStartIndex,k=I.dataEndIndex,N=I.updateId;S.setState(Z({legendBBox:C},y({props:S.props,dataStartIndex:T,dataEndIndex:k,updateId:N},Z(Z({},S.state),{},{legendBBox:C}))))}}),we(S,"handleReceiveSyncEvent",function(C,I,T){if(S.props.syncId===C){if(T===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(I)}}),we(S,"handleBrushChange",function(C){var I=C.startIndex,T=C.endIndex;if(I!==S.state.dataStartIndex||T!==S.state.dataEndIndex){var k=S.state.updateId;S.setState(function(){return Z({dataStartIndex:I,dataEndIndex:T},y({props:S.props,dataStartIndex:I,dataEndIndex:T,updateId:k},S.state))}),S.triggerSyncEvent({dataStartIndex:I,dataEndIndex:T})}}),we(S,"handleMouseEnter",function(C){var I=S.getMouseInfo(C);if(I){var T=Z(Z({},I),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var k=S.props.onMouseEnter;_e(k)&&k(T,C)}}),we(S,"triggeredAfterMouseMove",function(C){var I=S.getMouseInfo(C),T=I?Z(Z({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(T),S.triggerSyncEvent(T);var k=S.props.onMouseMove;_e(k)&&k(T,C)}),we(S,"handleItemMouseEnter",function(C){S.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),we(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),we(S,"handleMouseMove",function(C){C.persist(),S.throttleTriggeredAfterMouseMove(C)}),we(S,"handleMouseLeave",function(C){S.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};S.setState(I),S.triggerSyncEvent(I);var T=S.props.onMouseLeave;_e(T)&&T(I,C)}),we(S,"handleOuterEvent",function(C){var I=jre(C),T=er(S.props,"".concat(I));if(I&&_e(T)){var k,N;/.*touch.*/i.test(I)?N=S.getMouseInfo(C.changedTouches[0]):N=S.getMouseInfo(C),T((k=N)!==null&&k!==void 0?k:{},C)}}),we(S,"handleClick",function(C){var I=S.getMouseInfo(C);if(I){var T=Z(Z({},I),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var k=S.props.onClick;_e(k)&&k(T,C)}}),we(S,"handleMouseDown",function(C){var I=S.props.onMouseDown;if(_e(I)){var T=S.getMouseInfo(C);I(T,C)}}),we(S,"handleMouseUp",function(C){var I=S.props.onMouseUp;if(_e(I)){var T=S.getMouseInfo(C);I(T,C)}}),we(S,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),we(S,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseDown(C.changedTouches[0])}),we(S,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseUp(C.changedTouches[0])}),we(S,"handleDoubleClick",function(C){var I=S.props.onDoubleClick;if(_e(I)){var T=S.getMouseInfo(C);I(T,C)}}),we(S,"handleContextMenu",function(C){var I=S.props.onContextMenu;if(_e(I)){var T=S.getMouseInfo(C);I(T,C)}}),we(S,"triggerSyncEvent",function(C){S.props.syncId!==void 0&&Ov.emit(Mv,S.props.syncId,C,S.eventEmitterSymbol)}),we(S,"applySyncEvent",function(C){var I=S.props,T=I.layout,k=I.syncMethod,N=S.state.updateId,O=C.dataStartIndex,M=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)S.setState(Z({dataStartIndex:O,dataEndIndex:M},y({props:S.props,dataStartIndex:O,dataEndIndex:M,updateId:N},S.state)));else if(C.activeTooltipIndex!==void 0){var D=C.chartX,q=C.chartY,U=C.activeTooltipIndex,j=S.state,F=j.offset,L=j.tooltipTicks;if(!F)return;if(typeof k=="function")U=k(L,C);else if(k==="value"){U=-1;for(var V=0;V<L.length;V++)if(L[V].value===C.activeLabel){U=V;break}}var z=Z(Z({},F),{},{x:F.left,y:F.top}),Y=Math.min(D,z.x+z.width),H=Math.min(q,z.y+z.height),J=L[U]&&L[U].value,ce=ew(S.state,S.props.data,U),W=L[U]?{x:T==="horizontal"?L[U].coordinate:Y,y:T==="horizontal"?H:L[U].coordinate}:vF;S.setState(Z(Z({},C),{},{activeLabel:J,activeCoordinate:W,activePayload:ce,activeTooltipIndex:U}))}else S.setState(C)}),we(S,"renderCursor",function(C){var I,T=S.state,k=T.isTooltipActive,N=T.activeCoordinate,O=T.activePayload,M=T.offset,D=T.activeTooltipIndex,q=T.tooltipAxisBandSize,U=S.getTooltipEventType(),j=(I=C.props.active)!==null&&I!==void 0?I:k,F=S.props.layout,L=C.key||"_recharts-cursor";return B.createElement(CAe,{key:L,activeCoordinate:N,activePayload:O,activeTooltipIndex:D,chartName:n,element:C,isActive:j,layout:F,offset:M,tooltipAxisBandSize:q,tooltipEventType:U})}),we(S,"renderPolarAxis",function(C,I,T){var k=er(C,"type.axisType"),N=er(S.state,"".concat(k,"Map")),O=C.type.defaultProps,M=O!==void 0?Z(Z({},O),C.props):C.props,D=N&&N[M["".concat(k,"Id")]];return G.cloneElement(C,Z(Z({},D),{},{className:Ce(k,D.className),key:C.key||"".concat(I,"-").concat(T),ticks:ki(D,!0)}))}),we(S,"renderPolarGrid",function(C){var I=C.props,T=I.radialLines,k=I.polarAngles,N=I.polarRadius,O=S.state,M=O.radiusAxisMap,D=O.angleAxisMap,q=_o(M),U=_o(D),j=U.cx,F=U.cy,L=U.innerRadius,V=U.outerRadius;return G.cloneElement(C,{polarAngles:Array.isArray(k)?k:ki(U,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(N)?N:ki(q,!0).map(function(z){return z.coordinate}),cx:j,cy:F,innerRadius:L,outerRadius:V,key:C.key||"polar-grid",radialLines:T})}),we(S,"renderLegend",function(){var C=S.state.formattedGraphicalItems,I=S.props,T=I.children,k=I.width,N=I.height,O=S.props.margin||{},M=k-(O.left||0)-(O.right||0),D=F3({children:T,formattedGraphicalItems:C,legendWidth:M,legendContent:u});if(!D)return null;var q=D.item,U=M2(D,PAe);return G.cloneElement(q,Z(Z({},U),{},{chartWidth:k,chartHeight:N,margin:O,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),we(S,"renderTooltip",function(){var C,I=S.props,T=I.children,k=I.accessibilityLayer,N=Kn(T,on);if(!N)return null;var O=S.state,M=O.isTooltipActive,D=O.activeCoordinate,q=O.activePayload,U=O.activeLabel,j=O.offset,F=(C=N.props.active)!==null&&C!==void 0?C:M;return G.cloneElement(N,{viewBox:Z(Z({},j),{},{x:j.left,y:j.top}),active:F,label:U,payload:F?q:[],coordinate:D,accessibilityLayer:k})}),we(S,"renderBrush",function(C){var I=S.props,T=I.margin,k=I.data,N=S.state,O=N.offset,M=N.dataStartIndex,D=N.dataEndIndex,q=N.updateId;return G.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Hh(S.handleBrushChange,C.props.onChange),data:k,x:se(C.props.x)?C.props.x:O.left,y:se(C.props.y)?C.props.y:O.top+O.height+O.brushBottom-(T.bottom||0),width:se(C.props.width)?C.props.width:O.width,startIndex:M,endIndex:D,updateId:"brush-".concat(q)})}),we(S,"renderReferenceElement",function(C,I,T){if(!C)return null;var k=S,N=k.clipPathId,O=S.state,M=O.xAxisMap,D=O.yAxisMap,q=O.offset,U=C.type.defaultProps||{},j=C.props,F=j.xAxisId,L=F===void 0?U.xAxisId:F,V=j.yAxisId,z=V===void 0?U.yAxisId:V;return G.cloneElement(C,{key:C.key||"".concat(I,"-").concat(T),xAxis:M[L],yAxis:D[z],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:N})}),we(S,"renderActivePoints",function(C){var I=C.item,T=C.activePoint,k=C.basePoint,N=C.childIndex,O=C.isRange,M=[],D=I.props.key,q=I.item.type.defaultProps!==void 0?Z(Z({},I.item.type.defaultProps),I.item.props):I.item.props,U=q.activeDot,j=q.dataKey,F=Z(Z({index:N,dataKey:j,cx:T.x,cy:T.y,r:4,fill:dT(I.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},ye(U,!1)),Sm(U));return M.push(w.renderActiveDot(U,F,"".concat(D,"-activePoint-").concat(N))),k?M.push(w.renderActiveDot(U,Z(Z({},F),{},{cx:k.x,cy:k.y}),"".concat(D,"-basePoint-").concat(N))):O&&M.push(null),M}),we(S,"renderGraphicChild",function(C,I,T){var k=S.filterFormatItem(C,I,T);if(!k)return null;var N=S.getTooltipEventType(),O=S.state,M=O.isTooltipActive,D=O.tooltipAxis,q=O.activeTooltipIndex,U=O.activeLabel,j=S.props.children,F=Kn(j,on),L=k.props,V=L.points,z=L.isRange,Y=L.baseLine,H=k.item.type.defaultProps!==void 0?Z(Z({},k.item.type.defaultProps),k.item.props):k.item.props,J=H.activeDot,ce=H.hide,W=H.activeBar,ie=H.activeShape,fe=!!(!ce&&M&&F&&(J||W||ie)),Re={};N!=="axis"&&F&&F.props.trigger==="click"?Re={onClick:Hh(S.handleItemMouseEnter,C.props.onClick)}:N!=="axis"&&(Re={onMouseLeave:Hh(S.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Hh(S.handleItemMouseEnter,C.props.onMouseEnter)});var oe=G.cloneElement(C,Z(Z({},k.props),Re));function xe(Me){return typeof D.dataKey=="function"?D.dataKey(Me.payload):null}if(fe)if(q>=0){var ue,ee;if(D.dataKey&&!D.allowDuplicatedCategory){var Oe=typeof D.dataKey=="function"?xe:"payload.".concat(D.dataKey.toString());ue=Tm(V,Oe,U),ee=z&&Y&&Tm(Y,Oe,U)}else ue=V==null?void 0:V[q],ee=z&&Y&&Y[q];if(ie||W){var Te=C.props.activeIndex!==void 0?C.props.activeIndex:q;return[G.cloneElement(C,Z(Z(Z({},k.props),Re),{},{activeIndex:Te})),null,null]}if(!Ie(ue))return[oe].concat(iu(S.renderActivePoints({item:k,activePoint:ue,basePoint:ee,childIndex:q,isRange:z})))}else{var nt,rt=(nt=S.getItemByXY(S.state.activeCoordinate))!==null&&nt!==void 0?nt:{graphicalItem:oe},Q=rt.graphicalItem,le=Q.item,ke=le===void 0?C:le,Fe=Q.childIndex,ct=Z(Z(Z({},k.props),Re),{},{activeIndex:Fe});return[G.cloneElement(ke,ct),null,null]}return z?[oe,null,null]:[oe,null]}),we(S,"renderCustomized",function(C,I,T){return G.cloneElement(C,Z(Z({key:"recharts-customized-".concat(T)},S.props),S.state))}),we(S,"renderMap",{CartesianGrid:{handler:Xh,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Xh},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Xh},YAxis:{handler:Xh},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((E=_.id)!==null&&E!==void 0?E:pa("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=F4(S.triggeredAfterMouseMove,(P=_.throttleDelay)!==null&&P!==void 0?P:1e3/60),S.state={},S}return BAe(w,x),$Ae(w,[{key:"componentDidMount",value:function(){var E,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,P=E.children,S=E.data,C=E.height,I=E.layout,T=Kn(P,on);if(T){var k=T.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,O=ew(this.state,S,k,N),M=this.state.tooltipTicks[k].coordinate,D=(this.state.offset.top+C)/2,q=I==="horizontal",U=q?{x:M,y:D}:{y:M,x:D},j=this.state.formattedGraphicalItems.find(function(L){var V=L.item;return V.type.name==="Scatter"});j&&(U=Z(Z({},U),j.props.points[k].tooltipPosition),O=j.props.points[k].tooltipPayload);var F={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:N,activePayload:O,activeCoordinate:U};this.setState(F),this.renderCursor(T),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var S,C;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(E){Ib([Kn(E.children,on)],[Kn(this.props.children,on)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=Kn(this.props.children,on);if(E&&typeof E.props.shared=="boolean"){var P=E.props.shared?"axis":"item";return a.indexOf(P)>=0?P:o}return o}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var P=this.container,S=P.getBoundingClientRect(),C=upe(S),I={chartX:Math.round(E.pageX-C.left),chartY:Math.round(E.pageY-C.top)},T=S.width/P.offsetWidth||1,k=this.inRange(I.chartX,I.chartY,T);if(!k)return null;var N=this.state,O=N.xAxisMap,M=N.yAxisMap,D=this.getTooltipEventType(),q=j2(this.state,this.props.data,this.props.layout,k);if(D!=="axis"&&O&&M){var U=_o(O).scale,j=_o(M).scale,F=U&&U.invert?U.invert(I.chartX):null,L=j&&j.invert?j.invert(I.chartY):null;return Z(Z({},I),{},{xValue:F,yValue:L},q)}return q?Z(Z({},I),q):null}},{key:"inRange",value:function(E,P){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,I=E/S,T=P/S;if(C==="horizontal"||C==="vertical"){var k=this.state.offset,N=I>=k.left&&I<=k.left+k.width&&T>=k.top&&T<=k.top+k.height;return N?{x:I,y:T}:null}var O=this.state,M=O.angleAxisMap,D=O.radiusAxisMap;if(M&&D){var q=_o(M);return oR({x:I,y:T},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,P=this.getTooltipEventType(),S=Kn(E,on),C={};S&&P==="axis"&&(S.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=Sm(this.props,this.handleOuterEvent);return Z(Z({},I),C)}},{key:"addListener",value:function(){Ov.on(Mv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ov.removeListener(Mv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,P,S){for(var C=this.state.formattedGraphicalItems,I=0,T=C.length;I<T;I++){var k=C[I];if(k.item===E||k.props.key===E.key||P===Ri(k.item.type)&&S===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,P=this.state.offset,S=P.left,C=P.top,I=P.height,T=P.width;return B.createElement("defs",null,B.createElement("clipPath",{id:E},B.createElement("rect",{x:S,y:C,height:I,width:T})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(P,S){var C=O2(S,2),I=C[0],T=C[1];return Z(Z({},P),{},we({},I,T.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(P,S){var C=O2(S,2),I=C[0],T=C[1];return Z(Z({},P),{},we({},I,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[E])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(E){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[E])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(E){var P=this.state,S=P.formattedGraphicalItems,C=P.activeItem;if(S&&S.length)for(var I=0,T=S.length;I<T;I++){var k=S[I],N=k.props,O=k.item,M=O.type.defaultProps!==void 0?Z(Z({},O.type.defaultProps),O.props):O.props,D=Ri(O.type);if(D==="Bar"){var q=(N.data||[]).find(function(L){return Wbe(E,L)});if(q)return{graphicalItem:k,payload:q}}else if(D==="RadialBar"){var U=(N.data||[]).find(function(L){return oR(E,L)});if(U)return{graphicalItem:k,payload:U}}else if(Qy(k,C)||Zy(k,C)||sf(k,C)){var j=qwe({graphicalItem:k,activeTooltipItem:C,itemData:M.data}),F=M.activeIndex===void 0?j:M.activeIndex;return{graphicalItem:Z(Z({},k),{},{childIndex:F}),payload:sf(k,C)?M.data[j]:k.props.data[j]}}}return null}},{key:"render",value:function(){var E=this;if(!JC(this))return null;var P=this.props,S=P.children,C=P.className,I=P.width,T=P.height,k=P.style,N=P.compact,O=P.title,M=P.desc,D=M2(P,NAe),q=ye(D,!1);if(N)return B.createElement(h2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement(Cb,el({},q,{width:I,height:T,title:O,desc:M}),this.renderClipPath(),QC(S,this.renderMap)));if(this.props.accessibilityLayer){var U,j;q.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,q.role=(j=this.props.role)!==null&&j!==void 0?j:"application",q.onKeyDown=function(L){E.accessibilityManager.keyboardEvent(L)},q.onFocus=function(){E.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return B.createElement(h2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement("div",el({className:Ce("recharts-wrapper",C),style:Z({position:"relative",cursor:"default",width:I,height:T},k)},F,{ref:function(V){E.container=V}}),B.createElement(Cb,el({},q,{width:I,height:T,title:O,desc:M,style:KAe}),this.renderClipPath(),QC(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(G.Component);we(v,"displayName",n),we(v,"defaultProps",Z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),we(v,"getDerivedStateFromProps",function(x,w){var _=x.dataKey,E=x.data,P=x.children,S=x.width,C=x.height,I=x.layout,T=x.stackOffset,k=x.margin,N=w.dataStartIndex,O=w.dataEndIndex;if(w.updateId===void 0){var M=L2(x);return Z(Z(Z({},M),{},{updateId:0},y(Z(Z({props:x},M),{},{updateId:0}),w)),{},{prevDataKey:_,prevData:E,prevWidth:S,prevHeight:C,prevLayout:I,prevStackOffset:T,prevMargin:k,prevChildren:P})}if(_!==w.prevDataKey||E!==w.prevData||S!==w.prevWidth||C!==w.prevHeight||I!==w.prevLayout||T!==w.prevStackOffset||!hl(k,w.prevMargin)){var D=L2(x),q={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},U=Z(Z({},j2(w,E,I)),{},{updateId:w.updateId+1}),j=Z(Z(Z({},D),q),U);return Z(Z(Z({},j),y(Z({props:x},j),w)),{},{prevDataKey:_,prevData:E,prevWidth:S,prevHeight:C,prevLayout:I,prevStackOffset:T,prevMargin:k,prevChildren:P})}if(!Ib(P,w.prevChildren)){var F,L,V,z,Y=Kn(P,Hl),H=Y&&(F=(L=Y.props)===null||L===void 0?void 0:L.startIndex)!==null&&F!==void 0?F:N,J=Y&&(V=(z=Y.props)===null||z===void 0?void 0:z.endIndex)!==null&&V!==void 0?V:O,ce=H!==N||J!==O,W=!Ie(E),ie=W&&!ce?w.updateId:w.updateId+1;return Z(Z({updateId:ie},y(Z(Z({props:x},w),{},{updateId:ie,dataStartIndex:H,dataEndIndex:J}),w)),{},{prevChildren:P,dataStartIndex:H,dataEndIndex:J})}return null}),we(v,"renderActiveDot",function(x,w,_){var E;return G.isValidElement(x)?E=G.cloneElement(x,w):_e(x)?E=x(w):E=B.createElement(Ru,w),B.createElement(je,{className:"recharts-active-dot",key:_},E)});var b=G.forwardRef(function(w,_){return B.createElement(v,el({},w,{ref:_}))});return b.displayName=v.displayName,b},iIe=Hf({chartName:"LineChart",GraphicalChild:qf,axisComponents:[{axisType:"xAxis",AxisComp:li},{axisType:"yAxis",AxisComp:ui}],formatAxisMap:hT}),wT=Hf({chartName:"BarChart",GraphicalChild:ai,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:li},{axisType:"yAxis",AxisComp:ui}],formatAxisMap:hT}),bF=Hf({chartName:"PieChart",GraphicalChild:fi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Mu},{axisType:"radiusAxis",AxisComp:Ou}],formatAxisMap:Q3,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),oIe=Hf({chartName:"RadarChart",GraphicalChild:zl,axisComponents:[{axisType:"angleAxis",AxisComp:Mu},{axisType:"radiusAxis",AxisComp:Ou}],formatAxisMap:Q3,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),sIe=Hf({chartName:"AreaChart",GraphicalChild:ls,axisComponents:[{axisType:"xAxis",AxisComp:li},{axisType:"yAxis",AxisComp:ui}],formatAxisMap:hT});const V2=[{id:"first_invest",name:"Investidor Iniciante",description:"Realizou o primeiro investimento.",icon:"",condition:t=>t.investments.length>0,getProgress:t=>t.investments.length>0?100:0},{id:"controlled",name:"No Controle",description:"Tem mais receitas que despesas no ms.",icon:"",condition:t=>{const e=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="expense").reduce((r,i)=>r+i.amount,0);return e>n&&e>0},getProgress:t=>{const e=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="expense").reduce((r,i)=>r+i.amount,0);return e===0?0:e>n?100:Math.min(99,e/n*100)}},{id:"saver",name:"Poupador",description:"Acumulou mais de R$ 5.000 em investimentos.",icon:"",condition:t=>t.investments.reduce((e,n)=>e+n.amount,0)>=5e3,getProgress:t=>Math.min(100,t.investments.reduce((e,n)=>e+n.amount,0)/5e3*100)},{id:"diversified",name:"Mente Diversificada",description:"Investiu em 3 ou mais categorias diferentes.",icon:"",condition:t=>new Set(t.investments.map(n=>n.type)).size>=3,getProgress:t=>{const e=new Set(t.investments.map(n=>n.type));return Math.min(100,e.size/3*100)}},{id:"debt_free",name:"Zero Pendncias",description:"No possui nenhuma conta pendente.",icon:"",condition:t=>{const e=t.transactions.some(r=>r.type==="expense"),n=t.transactions.filter(r=>r.type==="expense"&&r.status==="pending");return e&&n.length===0},getProgress:t=>{const e=t.transactions.filter(r=>r.type==="expense");if(e.length===0)return 0;const n=e.filter(r=>r.status==="paid").length;return Math.min(100,n/e.length*100)}},{id:"goal_hitter",name:"Na Mosca",description:"Atingiu 100% da meta de um investimento.",icon:"",condition:t=>t.investments.some(e=>e.targetAmount>0&&e.amount>=e.targetAmount),getProgress:t=>{const e=t.investments.map(n=>n.targetAmount>0?n.amount/n.targetAmount*100:0);return Math.min(100,Math.max(0,...e))}},{id:"club_10k",name:"Clube dos 10k",description:"Patrimnio total superou R$ 10.000.",icon:"",condition:t=>{const e=t.investments.reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0)-t.transactions.filter(r=>r.type==="expense"&&r.status==="paid").reduce((r,i)=>r+i.amount,0);return e+n>=1e4},getProgress:t=>{const e=t.investments.reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0)-t.transactions.filter(r=>r.type==="expense"&&r.status==="paid").reduce((r,i)=>r+i.amount,0);return Math.min(100,(e+n)/1e4*100)}}],aIe=(t,e,n)=>{const r=n.toISOString().slice(0,7),i=t.find(o=>o.category===e&&o.month===r);return i||t.find(o=>o.category===e&&o.isRecurring)},F2=({data:t,privacyMode:e,onUnlockBadge:n})=>{const[r,i]=G.useState(()=>{const j=new Date;j.setMonth(j.getMonth()-5);const F=String(j.getMonth()+1).padStart(2,"0");return`${j.getFullYear()}-${F}`}),[o,s]=G.useState("flow"),a=G.useMemo(()=>{const j=new Date().getHours();return j<12?"Bom dia":j<18?"Boa tarde":"Boa noite"},[]);G.useEffect(()=>{V2.forEach(j=>{!t.unlockedBadges.includes(j.id)&&j.condition(t)&&n(j.id)})},[t,n]);const l=G.useMemo(()=>{const j=[],F=new Date,L=F.getMonth(),V=F.getFullYear(),z=Array.from(new Set(t.budgets.map(Y=>Y.category)));return F.getDate()<=25&&z.forEach(Y=>{const H=aIe(t.budgets,Y,F);if(!H)return;const J=t.transactions.filter(ce=>ce.type==="expense"&&ce.category===Y&&new Date(ce.date).getMonth()===L&&new Date(ce.date).getFullYear()===V).reduce((ce,W)=>ce+W.amount,0);J>=H.limit*.8&&J<H.limit?j.push({title:`Ateno: ${Y}`,message:`Voc j usou ${(J/H.limit*100).toFixed(0)}% do oramento e ainda  dia ${F.getDate()}. Cuidado!`,type:"warning"}):J>=H.limit&&j.push({title:`Limite Excedido: ${Y}`,message:"Voc estourou o teto definido para esta categoria.",type:"warning"})}),j},[t.budgets,t.transactions]),u=j=>e?"":`R$ ${j.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,c=t.transactions.filter(j=>j.type==="income").reduce((j,F)=>j+F.amount,0),f=t.transactions.filter(j=>j.type==="expense").reduce((j,F)=>j+F.amount,0),h=t.transactions.filter(j=>j.type==="expense"&&j.status==="pending").reduce((j,F)=>j+F.amount,0),y=t.transactions.filter(j=>j.status==="paid").reduce((j,F)=>j+(F.type==="income"?F.amount:-F.amount),0),v=t.transactions.length===0?0:t.transactions.length<300?y:t.walletBalance!==void 0?t.walletBalance:y,b=t.transactions.filter(j=>j.status==="pending"&&j.type==="income").reduce((j,F)=>j+F.amount,0),x=f-h,w=t.investments.reduce((j,F)=>j+F.amount,0),_=G.useMemo(()=>t.transactions.filter(F=>F.type==="expense"&&F.status==="pending").sort((F,L)=>new Date(F.date).getTime()-new Date(L.date).getTime()).slice(0,3),[t.transactions]),E=G.useMemo(()=>[...t.investments].sort((j,F)=>F.amount-j.amount).slice(0,3),[t.investments]),P=G.useMemo(()=>{const j=f>0?f:c*.5||1e3;return v/j},[v,f,c]),{healthScore:S,scoreLabel:C,scoreColor:I,factors:T}=G.useMemo(()=>{let j=0;const F=[],L=fe=>{const Re=new Date(fe);return(new Date().getTime()-Re.getTime())/(1e3*60*60*24*365.25)>=5},V=t.debts.filter(fe=>(fe.status==="open"||fe.status==="negotiating")&&!L(fe.dueDate)),z=V.length>0;z?(j+=200,F.push({text:`Negativado: ${V.length} dvidas`,type:"bad"})):(j+=350,F.push({text:"Nome Limpo",type:"good"}));const Y=f>0?f:1e3,H=w/Y;H>=6?(j+=200,F.push({text:"Reserva Robusta",type:"good"})):H>=1?(j+=100,F.push({text:"Reserva Iniciada",type:"neutral"})):F.push({text:"Sem Reserva",type:"bad"});const J=c-f,ce=c>0?J/c:0;ce>=.2?(j+=150,F.push({text:"Poupador (20%+)",type:"good"})):ce<0&&(j-=50,F.push({text:"Dficit Mensal",type:"bad"})),v>=h?j+=150:(j-=100,F.push({text:"Risco de Calote",type:"bad"})),z&&(j=Math.min(j,550)),j=Math.max(0,Math.min(1e3,Math.round(j)));let W="",ie="";return j>=850?(W="Elite",ie="text-emerald-500"):j>=700?(W="Excelente",ie="text-emerald-600"):j>=500?(W="Regular",ie="text-amber-500"):j>=300?(W="Ruim",ie="text-orange-500"):(W="Crtico",ie="text-rose-600"),{healthScore:j,scoreLabel:W,scoreColor:ie,factors:F}},[t.debts,c,f,h,v,w]),k=G.useMemo(()=>{const j=new Map,[F,L]=r.split("-").map(Number),V=new Date(F,L-1,1),z=new Date;for(;V<=z||V.getMonth()===z.getMonth()&&V.getFullYear()===z.getFullYear();){const Y=V.getFullYear(),H=String(V.getMonth()+1).padStart(2,"0");j.set(`${Y}-${H}`,0),V.setMonth(V.getMonth()+1)}return t.transactions.forEach(Y=>{if(Y.type==="expense"){const H=Y.date.slice(0,7);j.has(H)&&j.set(H,(j.get(H)||0)+Y.amount)}}),Array.from(j.entries()).map(([Y,H])=>{const[J,ce]=Y.split("-").map(Number);return{name:new Date(J,ce-1,1).toLocaleDateString("pt-BR",{month:"short",year:"2-digit"}),amount:H,fullDate:Y}})},[t.transactions,r]),N=G.useMemo(()=>{const j=new Map;for(let F=5;F>=0;F--){const L=new Date;L.setMonth(L.getMonth()-F),j.set(L.toISOString().slice(0,7),{income:0,expense:0})}return t.transactions.forEach(F=>{const L=F.date.slice(0,7);if(j.has(L)){const V=j.get(L);F.type==="income"?V.income+=F.amount:V.expense+=F.amount}}),Array.from(j.entries()).map(([F,L])=>{const[V,z]=F.split("-");return{name:new Date(parseInt(V),parseInt(z)-1,2).toLocaleDateString("pt-BR",{month:"short"}),Receitas:L.income,Despesas:L.expense}})},[t.transactions]),O=[{name:"Saldo Livre",value:Math.max(0,v),color:"#10b981"},{name:"Contas Pendentes",value:h,color:"#ef4444"},{name:"Investido",value:w,color:"#3b82f6"}].filter(j=>j.value>0),M=()=>{const j=`data:text/csv;charset=utf-8,Data,Descricao,Categoria,Tipo,Valor,Status
`+t.transactions.map(V=>`${V.date},${V.description},${V.category},${V.type},${V.amount},${V.status}`).join(`
`),F=encodeURI(j),L=document.createElement("a");L.setAttribute("href",F),L.setAttribute("download","finansmart_relatorio.csv"),document.body.appendChild(L),L.click(),document.body.removeChild(L)},D=d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 h-full",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[d.jsx(fd,{className:"w-5 h-5 text-indigo-500"}),d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Fluxo de Caixa (6 Meses)"})]}),d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(Uo,{width:"100%",height:"100%",children:d.jsxs(wT,{data:N,margin:{top:10,right:10,bottom:20,left:0},children:[d.jsx(Ql,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0",opacity:.5}),d.jsx(li,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},dy:10}),d.jsx(ui,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},tickFormatter:j=>`R$${j>=1e3?(j/1e3).toFixed(0)+"k":j}`,width:60}),d.jsx(on,{cursor:{fill:"transparent"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:j=>[e?"":`R$ ${j.toLocaleString("pt-BR")}`,""]}),d.jsx(ni,{iconType:"circle"}),d.jsx(ai,{dataKey:"Receitas",fill:"#10b981",radius:[4,4,0,0]}),d.jsx(ai,{dataKey:"Despesas",fill:"#f43f5e",radius:[4,4,0,0]})]})})})]}),q=d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 h-full",children:[d.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[d.jsx(fp,{className:"w-5 h-5 text-indigo-500"}),"Distribuio de Patrimnio"]}),d.jsx("div",{className:"h-[300px]",children:d.jsx(Uo,{width:"100%",height:"100%",children:d.jsxs(bF,{children:[d.jsx(fi,{data:O,cx:"50%",cy:"50%",innerRadius:80,outerRadius:110,paddingAngle:5,dataKey:"value",children:O.map((j,F)=>d.jsx(ma,{fill:j.color},`cell-${F}`))}),d.jsx(on,{formatter:j=>e?"":`R$ ${j.toLocaleString("pt-BR")}`}),d.jsx(ni,{verticalAlign:"bottom",height:36})]})})})]}),U=d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-4",children:[d.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(em,{className:"w-5 h-5 text-rose-500"}),"Tendncia de Despesas"]}),d.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 dark:bg-slate-700/50 p-2 rounded-lg border border-slate-100 dark:border-slate-700",children:[d.jsx(qo,{className:"w-4 h-4 text-slate-400"}),d.jsx("span",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase",children:"Incio:"}),d.jsx("input",{type:"month",value:r,onChange:j=>i(j.target.value),className:"bg-transparent text-sm text-slate-700 dark:text-slate-200 focus:outline-none font-medium"})]})]}),d.jsx("div",{className:"h-[200px] w-full",children:d.jsx(Uo,{width:"100%",height:"100%",children:d.jsxs(iIe,{data:k,margin:{top:10,right:10,bottom:25,left:10},children:[d.jsx(Ql,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0",opacity:.5}),d.jsx(li,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},dy:10,padding:{left:10,right:10}}),d.jsx(ui,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},tickFormatter:j=>`R$${j>=1e3?(j/1e3).toFixed(0)+"k":j}`,width:60}),d.jsx(on,{cursor:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"5 5"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:j=>[e?"":`R$ ${j.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,"Despesas"],labelStyle:{color:"#64748b",marginBottom:"0.25rem"}}),d.jsx(qf,{type:"monotone",dataKey:"amount",stroke:"#f43f5e",strokeWidth:3,dot:{r:4,fill:"#f43f5e",strokeWidth:2,stroke:"#fff"},activeDot:{r:6,stroke:"#f43f5e",strokeWidth:2,fill:"#fff"},isAnimationActive:!1})]})})})]});return d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.length>0&&d.jsx("div",{className:"space-y-2",children:l.map((j,F)=>d.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-4 rounded-xl flex items-start gap-3 animate-fade-in-down",children:[d.jsx("div",{className:"bg-amber-100 dark:bg-amber-800 p-2 rounded-full flex-shrink-0",children:d.jsx(Jw,{className:"w-5 h-5 text-amber-600 dark:text-amber-300"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-amber-800 dark:text-amber-300 text-sm",children:j.title}),d.jsx("p",{className:"text-amber-700 dark:text-amber-400 text-xs mt-0.5",children:j.message})]})]},F))}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-2",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 w-full md:flex-1 min-w-0",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white whitespace-nowrap",children:[a,"!"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Viso geral das suas finanas."})]}),d.jsx("div",{className:"flex-1 flex items-center gap-2 px-4 py-2 sm:border-l sm:border-slate-300 dark:sm:border-slate-600 overflow-x-auto no-scrollbar mask-gradient w-full",children:V2.map(j=>{const F=t.unlockedBadges.includes(j.id),L=j.getProgress(t);return d.jsxs("div",{className:"group relative flex-shrink-0 cursor-help",children:[d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:`text-xl md:text-2xl transition-all duration-300 block ${F?"filter-none opacity-100 scale-100":"grayscale opacity-30 scale-90"}`,children:j.icon}),!F&&L>0&&d.jsx("div",{className:"absolute -bottom-1 left-0 w-full h-1 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${L}%`}})})]}),d.jsxs("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-3 w-max max-w-[180px] hidden group-hover:block z-50 pointer-events-none animate-fade-in",children:[d.jsxs("div",{className:"bg-slate-800 text-white text-xs px-3 py-2 rounded-lg shadow-xl text-center border border-slate-700",children:[d.jsx("p",{className:"font-bold mb-0.5",children:j.name}),d.jsx("p",{className:"opacity-80 mb-2",children:j.description}),d.jsx("div",{className:"flex items-center justify-between text-[10px] uppercase font-semibold",children:d.jsx("span",{className:F?"text-emerald-400":"text-slate-400",children:F?"Desbloqueado":`${L.toFixed(0)}% Concludo`})}),!F&&d.jsx("div",{className:"w-full h-1.5 bg-slate-700 rounded-full mt-1 overflow-hidden",children:d.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-500",style:{width:`${L}%`}})})]}),d.jsx("div",{className:"w-2 h-2 bg-slate-800 rotate-45 absolute -top-1 left-1/2 -translate-x-1/2 border-t border-l border-slate-700"})]})]},j.id)})})]}),d.jsxs("button",{onClick:M,className:"flex items-center gap-2 text-sm font-medium text-slate-500 hover:text-indigo-600 dark:text-slate-400 dark:hover:text-indigo-400 transition-colors self-end md:self-auto flex-shrink-0",children:[d.jsx(uD,{className:"w-4 h-4"})," Exportar CSV"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 relative overflow-hidden group flex flex-col justify-between hover:shadow-md transition-shadow",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:d.jsx(n6,{className:"w-20 h-20 text-slate-400"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Score Financeiro"}),d.jsx(TB,{className:`w-4 h-4 ${I}`})]}),d.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[d.jsx("span",{className:`text-3xl font-black ${I} tracking-tighter`,children:S}),d.jsx("span",{className:"text-[10px] text-slate-400 font-medium",children:"/ 1000"})]}),d.jsx("p",{className:`text-xs font-bold uppercase tracking-wide ${I}`,children:C})]}),d.jsx("div",{className:"mt-3 pt-3 border-t border-slate-100 dark:border-slate-700/50 space-y-1",children:T.slice(0,2).map((j,F)=>d.jsxs("div",{className:"flex items-center gap-1.5 text-[10px]",children:[j.type==="good"&&d.jsx(Mx,{className:"w-3 h-3 text-emerald-500"}),j.type==="bad"&&d.jsx(md,{className:"w-3 h-3 text-rose-500"}),j.type==="neutral"&&d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300"}),d.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate",children:j.text})]},F))})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between hover:shadow-md transition-shadow",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Saldo em Caixa"}),d.jsx(f6,{className:"w-4 h-4 text-emerald-500"})]}),d.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white truncate",children:u(v)}),b>0&&d.jsxs("div",{className:"flex items-center gap-1 mt-1 bg-emerald-50 dark:bg-emerald-900/20 px-2 py-1 rounded w-fit border border-emerald-100 dark:border-emerald-800/30",children:[d.jsx(Jp,{className:"w-3 h-3 text-emerald-500"}),d.jsxs("span",{className:"text-xs font-bold text-emerald-600 dark:text-emerald-400",children:["+",u(b)]}),d.jsx("span",{className:"text-[10px] text-emerald-600/70 dark:text-emerald-400/70 uppercase font-medium",children:"A Receber"})]})]}),d.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-medium uppercase",children:"Sobrevivncia"}),d.jsx("span",{className:`text-xs font-bold ${P<1?"text-rose-500":P<3?"text-amber-500":"text-emerald-500"}`,children:P<.1?"Crtico":`${P.toFixed(1)} Meses`})]}),d.jsx("div",{className:"w-full h-1.5 bg-slate-100 dark:bg-slate-700 rounded-full mt-1.5 overflow-hidden",children:d.jsx("div",{className:`h-full rounded-full ${P<1?"bg-rose-500":P<3?"bg-amber-400":"bg-emerald-500"}`,style:{width:`${Math.min(100,P/6*100)}%`}})})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between hover:shadow-md transition-shadow",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Sadas (Ms)"}),d.jsx(dp,{className:"w-4 h-4 text-rose-500"})]}),d.jsxs("p",{className:"text-2xl font-bold text-rose-600 dark:text-rose-400 truncate",children:["-",u(x)]}),h>0?d.jsxs("div",{className:"flex items-center gap-1 mt-1 bg-amber-50 dark:bg-amber-900/20 px-2 py-1 rounded w-fit border border-amber-100 dark:border-amber-800/30",children:[d.jsx(Jp,{className:"w-3 h-3 text-amber-500"}),d.jsxs("span",{className:"text-xs font-bold text-amber-600 dark:text-amber-400",children:["-",u(h)]}),d.jsx("span",{className:"text-[10px] text-amber-600/70 dark:text-amber-400/70 uppercase font-medium",children:"A Pagar"})]}):d.jsxs("div",{className:"flex items-center gap-1 mt-1 px-2 py-1",children:[d.jsx(Mx,{className:"w-3 h-3 text-emerald-500"}),d.jsx("span",{className:"text-[10px] text-emerald-500 font-bold uppercase",children:"Tudo Pago"})]})]}),d.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-100 dark:border-slate-700/50 flex-1 flex flex-col justify-end space-y-2",children:[d.jsx("p",{className:"text-[10px] text-slate-400 font-semibold uppercase pb-1",children:"Prximos Vencimentos"}),_.length===0?d.jsx("div",{className:"text-xs text-slate-400 italic",children:"Nada pendente."}):_.map(j=>{const F=new Date(j.date)<new Date(new Date().setHours(0,0,0,0));return d.jsxs("div",{className:"flex justify-between items-center text-xs",children:[d.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[d.jsx("div",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${F?"bg-rose-500":"bg-amber-400"}`}),d.jsx("span",{className:"truncate text-slate-600 dark:text-slate-300 max-w-[80px]",children:j.description})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[d.jsx("span",{className:"text-slate-400 text-[10px]",children:new Date(j.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}),d.jsx("span",{className:`font-semibold ${F?"text-rose-500":"text-slate-700 dark:text-slate-200"}`,children:u(j.amount).replace("R$","")})]})]},j.id)})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Total Investido"}),d.jsx("p",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400 mt-1",children:u(w)})]}),d.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded-lg",children:d.jsx(Vi,{className:"w-5 h-5 text-indigo-500"})})]}),d.jsxs("div",{className:"flex-1 flex flex-col justify-end space-y-2",children:[d.jsxs("p",{className:"text-[10px] text-slate-400 font-semibold uppercase border-b border-slate-100 dark:border-slate-700/50 pb-1 flex justify-between",children:[d.jsx("span",{children:"Maiores Posies"}),d.jsx(fp,{className:"w-3 h-3"})]}),E.length===0?d.jsx("div",{className:"text-xs text-slate-400 italic",children:"Carteira vazia."}):E.map((j,F)=>d.jsxs("div",{className:"flex justify-between items-center text-xs",children:[d.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[d.jsxs("span",{className:"text-slate-400 font-mono text-[10px]",children:[F+1,"."]}),d.jsx("span",{className:"truncate text-slate-600 dark:text-slate-300 max-w-[90px]",title:j.name,children:j.name})]}),d.jsx("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400 flex-shrink-0",children:u(j.amount).replace("R$","")})]},j.id))]})]})]}),d.jsxs("div",{className:"hidden lg:block space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[D,q]}),U]}),d.jsxs("div",{className:"lg:hidden space-y-4",children:[d.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl gap-1 border border-slate-200 dark:border-slate-700",children:[d.jsxs("button",{onClick:()=>s("flow"),className:`flex-1 py-2 text-xs font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-1.5
                    ${o==="flow"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[d.jsx(fd,{className:"w-3.5 h-3.5"}),"Fluxo"]}),d.jsxs("button",{onClick:()=>s("allocation"),className:`flex-1 py-2 text-xs font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-1.5
                    ${o==="allocation"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[d.jsx(fp,{className:"w-3.5 h-3.5"}),"Carteira"]}),d.jsxs("button",{onClick:()=>s("history"),className:`flex-1 py-2 text-xs font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-1.5
                    ${o==="history"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[d.jsx(em,{className:"w-3.5 h-3.5"}),"Histrico"]})]}),d.jsxs("div",{className:"min-h-[350px]",children:[o==="flow"&&D,o==="allocation"&&q,o==="history"&&U]})]})]})},U2={Casa:"bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900/30 dark:text-orange-300 dark:border-orange-800",Mobilidade:"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800",Alimentos:"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800",Lazer:"bg-purple-100 text-purple-700 border-purple-200 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-800",Sade:"bg-teal-100 text-teal-700 border-teal-200 dark:bg-teal-900/30 dark:text-teal-300 dark:border-teal-800",Educao:"bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800",Pets:"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-800",Salrio:"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800",Investimentos:"bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800",Outros:"bg-slate-100 text-slate-700 border-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:border-slate-600"},jv={credit_card:"Crdito",debit_card:"Dbito",cash:"Dinheiro",pix:"PIX",direct_debit:"Db. Auto",bank_transfer:"TED/DOC",deposit:"Depsito"},lIe=({method:t,className:e})=>{switch(t){case"credit_card":return d.jsx(Xp,{className:e});case"debit_card":return d.jsx(Xp,{className:e});case"cash":return d.jsx(SB,{className:e});case"pix":return d.jsx(a6,{className:e});default:return d.jsx(hD,{className:e})}},Lv=["Casa","Mobilidade","Alimentos","Lazer","Sade","Educao","Pets","Outros"],$v=["Salrio","Renda Extra","Investimentos","Presente","Reembolso","Outros"],B2=["credit_card","debit_card","direct_debit","pix","cash"],G2=["pix","bank_transfer","cash","deposit"],uIe=({transactions:t,budgets:e,onAdd:n,onUpdate:r,onDelete:i,onToggleStatus:o,onNavigate:s,privacyMode:a,hasApiKey:l,quickActionSignal:u})=>{const[c,f]=G.useState(!1),[h,y]=G.useState(!1),[v,b]=G.useState(!1),[x,w]=G.useState(new Date),[_,E]=G.useState("all"),[P,S]=G.useState(""),[C,I]=G.useState("all"),[T,k]=G.useState("all"),[N,O]=G.useState(!1),[M,D]=G.useState(null),[q,U]=G.useState("monthly"),[j,F]=G.useState([]),L=G.useRef(null),[V,z]=G.useState({description:"",amount:"",type:"expense",category:"Outros",date:new Date().toISOString().split("T")[0],status:"paid",paymentMethod:"credit_card",isRecurring:!1,installments:"",observation:""});G.useEffect(()=>{u&&Date.now()-u<2e3&&(f(!0),Oe())},[u]),G.useEffect(()=>{c&&L.current&&setTimeout(()=>{var Q;(Q=L.current)==null||Q.scrollIntoView({behavior:"smooth",block:"center"})},100)},[c,M]);const Y=G.useMemo(()=>V.type==="income"?$v:Lv,[V.type]),H=G.useMemo(()=>V.type==="income"?G2:B2,[V.type]),J=()=>w(Q=>new Date(Q.getFullYear(),Q.getMonth()-1,1)),ce=()=>w(Q=>new Date(Q.getFullYear(),Q.getMonth()+1,1)),W=G.useMemo(()=>{const Q=[],le=new Date,ke=le.getMonth(),Fe=le.getFullYear(),ct=le.toISOString().slice(0,7);return e.forEach(Me=>{if(!(Me.isRecurring&&!e.some(zt=>zt.category===Me.category&&zt.month===ct&&!zt.isRecurring)||Me.month===ct))return;t.filter(zt=>zt.type==="expense"&&zt.category===Me.category&&new Date(zt.date).getMonth()===ke&&new Date(zt.date).getFullYear()===Fe).reduce((zt,qt)=>zt+qt.amount,0)>=Me.limit&&Q.push({title:`Limite Excedido: ${Me.category}`,message:"Voc estourou o teto definido para esta categoria.",type:"warning"})}),Q},[e,t]),ie=G.useMemo(()=>t.filter(Q=>{const[le,ke]=Q.date.split("-");return!(!(parseInt(le)===x.getFullYear()&&parseInt(ke)===x.getMonth()+1)||_!=="all"&&Q.type!==_||P&&!Q.description.toLowerCase().includes(P.toLowerCase())||C!=="all"&&Q.category!==C||T!=="all"&&Q.paymentMethod!==T)}).sort((Q,le)=>new Date(le.date).getTime()-new Date(Q.date).getTime()),[t,x,_,P,C,T]),fe=G.useMemo(()=>{const Q={};ie.forEach(Me=>{Q[Me.date]||(Q[Me.date]={transactions:[],total:0}),Q[Me.date].transactions.push(Me);const Gt=Me.type==="income"?Me.amount:-Me.amount;Q[Me.date].total+=Gt});const ke=[...Object.entries(Q).map(([Me,Gt])=>({date:Me,...Gt})).sort((Me,Gt)=>new Date(Gt.date).getTime()-new Date(Me.date).getTime())].reverse();let Fe=0;return ke.map(Me=>(Fe+=Me.total,{...Me,runningBalance:Fe})).reverse()},[ie]),Re=G.useMemo(()=>{const Q=ie.filter(ke=>ke.type==="income").reduce((ke,Fe)=>ke+Fe.amount,0),le=ie.filter(ke=>ke.type==="expense").reduce((ke,Fe)=>ke+Fe.amount,0);return{income:Q,expense:le,balance:Q-le}},[ie]),oe=Q=>a?"":`R$ ${Q.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,xe=Q=>{const le=new Date(Q+"T12:00:00"),ke=new Date,Fe=new Date;if(Fe.setDate(Fe.getDate()-1),le.toDateString()===ke.toDateString())return"Hoje";if(le.toDateString()===Fe.toDateString())return"Ontem";const ct=le.toLocaleDateString("pt-BR",{weekday:"long"}),Me=le.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"});return`${ct.split("-")[0]}, ${Me}`},ue=async()=>{if(!V.description)return;y(!0);const Q=await BZ(V.description),le=Y.includes(Q);z(ke=>({...ke,category:le?Q:"Outros"})),y(!1)},ee=Q=>{const le=Q.target.value,ke=le==="income"?$v:Lv,Fe=le==="income"?"pix":"credit_card";z(ct=>({...ct,type:le,category:ke[0],paymentMethod:Fe}))},Oe=()=>{z({description:"",amount:"",type:"expense",category:"Outros",date:new Date().toISOString().split("T")[0],status:"paid",paymentMethod:"credit_card",isRecurring:!1,installments:"",observation:""}),D(null),U("monthly"),F([])},Te=Q=>{z({description:Q.description||"",amount:(Q.amount||0).toString(),type:Q.type||"expense",category:Q.category||"Outros",date:Q.date||new Date().toISOString().split("T")[0],status:Q.status||"paid",paymentMethod:Q.paymentMethod||(Q.type==="income"?"pix":"credit_card"),isRecurring:Q.isRecurring||!1,installments:"",observation:Q.observation||""}),D(Q.id),f(!0)},nt=Q=>{F(le=>le.includes(Q)?le.filter(ke=>ke!==Q):[...le,Q])},rt=Q=>{Q.preventDefault();const le={description:V.description,amount:parseFloat(V.amount),type:V.type,category:V.category,date:V.date,status:V.status,paymentMethod:V.paymentMethod,isRecurring:V.isRecurring,observation:V.observation};if(V.isRecurring)if(q==="days"&&j.length>0){const[ke,Fe]=V.date.split("-").map(Number),ct=new Date(ke,Fe,0).getDate();j.forEach(Me=>{if(Me<=ct){const Gt=String(Me).padStart(2,"0"),Tr=String(Fe).padStart(2,"0"),zt=`${ke}-${Tr}-${Gt}`;n({...le,description:`${V.description} (Dia ${Me})`,date:zt,isRecurring:!1})}})}else{const ke=parseInt(V.installments);if(!isNaN(ke)&&ke>1){const Fe=new Date(V.date+"T12:00:00");for(let ct=0;ct<ke;ct++){const Me=new Date(Fe);Me.setMonth(Fe.getMonth()+ct);const Gt=Me.toISOString().split("T")[0],Tr=`${V.description} (${ct+1}/${ke})`;n({...le,description:Tr,date:Gt,isRecurring:!1})}}else M?r(M,le):n(le)}else M?r(M,le):n(le);Oe(),f(!1)};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white hidden md:block",children:"Transaes"}),d.jsxs("div",{className:"flex flex-1 w-full md:w-auto gap-3 items-center",children:[d.jsxs("div",{className:"flex-1 relative group",children:[d.jsx(NA,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2 group-focus-within:text-indigo-500 transition-colors"}),d.jsx("input",{type:"text",placeholder:"Buscar...",value:P,onChange:Q=>S(Q.target.value),className:"w-full pl-9 pr-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 text-sm transition-all shadow-sm"}),P&&d.jsx("button",{onClick:()=>S(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:d.jsx(Gr,{className:"w-3 h-3"})})]}),d.jsx("button",{onClick:()=>O(!N),className:`p-2.5 rounded-xl border transition-all ${N?"bg-indigo-50 border-indigo-200 text-indigo-600 dark:bg-indigo-900/30 dark:border-indigo-800 dark:text-indigo-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-500"}`,children:d.jsx(dD,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-1 shrink-0",children:[d.jsx("button",{onClick:J,className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-600 dark:text-slate-300",children:d.jsx(Xw,{className:"w-4 h-4"})}),d.jsx("span",{className:"px-2 text-xs font-bold text-slate-700 dark:text-slate-200 capitalize min-w-[80px] text-center",children:x.toLocaleDateString("pt-BR",{month:"short",year:"2-digit"})}),d.jsx("button",{onClick:ce,className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-600 dark:text-slate-300",children:d.jsx(Hg,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"hidden md:flex gap-2",children:[d.jsxs("button",{onClick:()=>s($e.SUBSCRIPTIONS),className:"flex items-center gap-2 bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700 px-4 py-2.5 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors font-medium text-sm shadow-sm",children:[d.jsx(jo,{className:"w-4 h-4 text-indigo-500"}),"Assinaturas"]}),d.jsxs("button",{onClick:()=>{Oe(),f(!c)},className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2.5 rounded-xl hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-500/20 font-bold text-sm",children:[d.jsx($i,{className:"w-4 h-4"})," Nova"]})]})]}),N&&d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 bg-slate-50 dark:bg-slate-800/50 p-3 rounded-xl border border-slate-200 dark:border-slate-700 animate-fade-in-down",children:[d.jsxs("select",{value:C,onChange:Q=>I(Q.target.value),className:"p-2 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white text-xs outline-none focus:ring-2 focus:ring-indigo-500",children:[d.jsx("option",{value:"all",children:"Todas Categorias"}),[...Lv,...$v].map(Q=>d.jsx("option",{value:Q,children:Q},Q))]}),d.jsxs("select",{value:T,onChange:Q=>k(Q.target.value),className:"p-2 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white text-xs outline-none focus:ring-2 focus:ring-indigo-500",children:[d.jsx("option",{value:"all",children:"Todos Mtodos"}),[...B2,...G2].map(Q=>d.jsx("option",{value:Q,children:jv[Q]},Q))]})]})]}),W.length>0&&d.jsx("div",{className:"space-y-2",children:W.map((Q,le)=>d.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-4 rounded-xl flex items-start gap-3 animate-fade-in-down shadow-sm",children:[d.jsx("div",{className:"bg-amber-100 dark:bg-amber-800 p-2 rounded-full flex-shrink-0",children:d.jsx(Jw,{className:"w-5 h-5 text-amber-600 dark:text-amber-300"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-amber-800 dark:text-amber-300 text-sm",children:Q.title}),d.jsx("p",{className:"text-amber-700 dark:text-amber-400 text-xs mt-0.5",children:Q.message})]})]},le))}),d.jsxs("div",{className:"grid grid-cols-3 gap-3 md:gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 md:p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-[10px] md:text-xs font-bold uppercase tracking-wider",children:"Entradas"}),d.jsx("p",{className:"text-sm md:text-lg font-bold text-emerald-600 dark:text-emerald-400 truncate",children:oe(Re.income)})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 md:p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-[10px] md:text-xs font-bold uppercase tracking-wider",children:"Sadas"}),d.jsx("p",{className:"text-sm md:text-lg font-bold text-rose-600 dark:text-rose-400 truncate",children:oe(Re.expense)})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 md:p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-[10px] md:text-xs font-bold uppercase tracking-wider",children:"Resultado (Proj.)"}),d.jsx("p",{className:`text-sm md:text-lg font-bold truncate ${Re.balance>=0?"text-indigo-600 dark:text-indigo-400":"text-rose-600"}`,children:oe(Re.balance)})]})]}),d.jsx("div",{ref:L,className:"scroll-mt-24",children:c&&d.jsxs("form",{onSubmit:rt,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[d.jsx("div",{className:"col-span-1 md:col-span-2",children:d.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:M?"Editar Transao":"Adicionar Transao"})}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{required:!0,type:"text",placeholder:"Descrio",value:V.description,onChange:Q=>z({...V,description:Q.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none w-full pr-10"}),d.jsx("button",{type:"button",onClick:ue,disabled:h||!V.description||!l,className:`absolute right-2 top-2 ${l?"text-indigo-500 hover:text-indigo-700":"text-slate-400 opacity-50 cursor-not-allowed"} disabled:opacity-30`,children:h?d.jsx(Wg,{className:"w-5 h-5 animate-spin"}):d.jsx(h6,{className:"w-5 h-5"})})]}),d.jsx("input",{required:!0,type:"number",placeholder:"Valor (R$)",value:V.amount,onChange:Q=>z({...V,amount:Q.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 outline-none"}),d.jsxs("select",{value:V.type,onChange:ee,className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:[d.jsx("option",{value:"expense",children:"Despesa"}),d.jsx("option",{value:"income",children:"Receita"})]}),d.jsx("select",{value:V.category,onChange:Q=>z({...V,category:Q.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:Y.map(Q=>d.jsx("option",{value:Q,children:Q},Q))}),d.jsx("input",{required:!0,type:"date",value:V.date,onChange:Q=>z({...V,date:Q.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2"}),d.jsxs("select",{value:V.status,onChange:Q=>z({...V,status:Q.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:[d.jsx("option",{value:"paid",children:"Pago/Recebido"}),d.jsx("option",{value:"pending",children:"Pendente"})]}),d.jsx("select",{value:V.paymentMethod,onChange:Q=>z({...V,paymentMethod:Q.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:H.map(Q=>d.jsx("option",{value:Q,children:jv[Q]},Q))}),d.jsx("div",{className:"md:col-span-2",children:d.jsx("textarea",{placeholder:"Observaes (opcional)",value:V.observation,onChange:Q=>z({...V,observation:Q.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 w-full outline-none resize-none h-20 text-sm"})}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsxs("div",{className:"flex items-center gap-2 p-2 border border-dashed border-slate-300 dark:border-slate-600 rounded-lg",children:[d.jsx("input",{type:"checkbox",id:"recurring",checked:V.isRecurring,onChange:Q=>z({...V,isRecurring:Q.target.checked}),className:"w-4 h-4 text-indigo-600 rounded"}),d.jsxs("label",{htmlFor:"recurring",className:"text-sm text-slate-700 dark:text-slate-200 font-medium flex items-center gap-1 cursor-pointer",children:[d.jsx(jo,{className:"w-4 h-4 text-indigo-500"})," Assinatura / Recorrente / Parcelado"]})]}),V.isRecurring&&d.jsxs("div",{className:"mt-2 pl-2 md:pl-6 animate-fade-in space-y-3",children:[d.jsxs("div",{className:"flex gap-2 mb-3",children:[d.jsx("button",{type:"button",onClick:()=>U("monthly"),className:`flex-1 py-1.5 px-3 rounded-lg text-xs font-bold border transition-colors ${q==="monthly"?"bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800":"bg-slate-50 text-slate-500 border-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700"}`,children:"Mensal / Parcelado"}),d.jsx("button",{type:"button",onClick:()=>U("days"),className:`flex-1 py-1.5 px-3 rounded-lg text-xs font-bold border transition-colors ${q==="days"?"bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800":"bg-slate-50 text-slate-500 border-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700"}`,children:"Dias Especficos"})]}),q==="monthly"?d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Repetir por quantas vezes? (Opcional)"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Zw,{className:"w-4 h-4 text-slate-400"}),d.jsx("input",{type:"number",placeholder:"Ex: 12 (Deixe vazio para assinatura infinita)",value:V.installments,onChange:Q=>z({...V,installments:Q.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 text-sm w-full outline-none focus:ring-2 focus:ring-indigo-500"})]})]}):d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase flex items-center gap-1",children:[d.jsx(IB,{className:"w-3 h-3"})," Selecione os dias do ms"]}),d.jsx("div",{className:"grid grid-cols-7 gap-2",children:[...Array(31)].map((Q,le)=>{const ke=le+1,Fe=j.includes(ke);return d.jsx("button",{type:"button",onClick:()=>nt(ke),className:`h-8 rounded-md text-xs font-bold transition-all ${Fe?"bg-indigo-600 text-white shadow-md shadow-indigo-500/30 transform scale-105":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:ke},ke)})}),d.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"Uma transao ser criada para cada dia selecionado neste ms."})]})]})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-2 mt-2",children:[d.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:M?"Atualizar":"Salvar"})]})]})}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-1 flex",children:[d.jsxs("button",{onClick:()=>E("all"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${_==="all"?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-300":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[d.jsx(Lx,{className:"w-4 h-4"})," Todas"]}),d.jsxs("button",{onClick:()=>E("income"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${_==="income"?"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-300":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[d.jsx(K0,{className:"w-4 h-4"})," Entradas"]}),d.jsxs("button",{onClick:()=>E("expense"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${_==="expense"?"bg-rose-50 text-rose-600 dark:bg-rose-900/30 dark:text-rose-300":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[d.jsx(dp,{className:"w-4 h-4"})," Sadas"]})]}),d.jsx("div",{className:"space-y-4 pb-20 md:pb-0",children:fe.length===0?d.jsxs("div",{className:"text-center py-16 text-slate-400",children:[d.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(NA,{className:"w-8 h-8 opacity-50"})}),d.jsx("p",{children:"Nenhuma transao encontrada."}),d.jsx("p",{className:"text-xs mt-1",children:"Tente mudar os filtros ou adicione uma nova."})]}):fe.map(Q=>d.jsxs("div",{className:"animate-fade-in",children:[d.jsxs("div",{className:"flex items-center justify-between px-3 py-2 mb-1 sticky top-0 z-10 bg-slate-50/95 dark:bg-slate-900/95 backdrop-blur-sm rounded-lg border-b border-slate-100 dark:border-slate-800",children:[d.jsxs("h3",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[d.jsx(qo,{className:"w-3 h-3"}),xe(Q.date)]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:`text-xs font-bold ${Q.total>=0?"text-emerald-600 dark:text-emerald-400":"text-rose-500"}`,children:Q.total!==0&&(Q.total>0?"+":"")+oe(Q.total)}),d.jsx("div",{className:"h-4 w-px bg-slate-300 dark:bg-slate-700"}),d.jsxs("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-400 flex items-center gap-1",title:"Saldo acumulado at este dia",children:[d.jsx(s6,{className:"w-3 h-3"}),oe(Q.runningBalance)]})]})]}),d.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden divide-y divide-slate-100 dark:divide-slate-700",children:Q.transactions.map(le=>{var ke,Fe;return d.jsxs("div",{className:"group hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[d.jsxs("div",{className:"md:hidden p-4 flex items-center gap-3 relative",children:[d.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 ${le.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30":"bg-rose-100 text-rose-600 dark:bg-rose-900/30"}`,children:le.type==="income"?d.jsx(K0,{className:"w-5 h-5"}):d.jsx(dp,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>Te(le),children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("h4",{className:"font-bold text-slate-800 dark:text-white truncate pr-2 text-sm",children:le.description}),d.jsxs("span",{className:`font-bold text-sm whitespace-nowrap ${le.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:[le.type==="expense"&&"- ",oe(le.amount)]})]}),d.jsx("div",{className:"flex justify-between items-center mt-1",children:d.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400",children:[d.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium border ${((ke=U2[le.category])==null?void 0:ke.replace("bg-","border-").split(" ")[2])||"border-slate-200"}`,children:le.category}),le.isRecurring&&d.jsxs("span",{className:"flex items-center gap-0.5 text-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 px-1.5 py-0.5 rounded",children:[d.jsx(jo,{className:"w-3 h-3"}),le.description.match(/\(\d+\/\d+\)/)?"Parcela":"Fixo"]})]})}),le.observation&&d.jsxs("p",{className:"text-[10px] text-slate-400 mt-1 italic truncate flex items-center gap-1",children:[d.jsx(l6,{className:"w-3 h-3"})," ",le.observation]})]}),d.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[d.jsx("button",{onClick:()=>o(le.id),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${le.status==="paid"?"bg-emerald-500 border-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-emerald-400"}`,children:d.jsx(Dx,{className:"w-3.5 h-3.5"})}),d.jsx("button",{onClick:()=>Te(le),className:"p-1 text-slate-400",children:d.jsx(QB,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"hidden md:flex items-center gap-4 p-3 text-sm",children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 ${le.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30":"bg-rose-100 text-rose-600 dark:bg-rose-900/30"}`,children:le.type==="income"?d.jsx(K0,{className:"w-4 h-4"}):d.jsx(dp,{className:"w-4 h-4"})}),d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-8 text-center font-bold text-slate-400 text-xs",children:parseInt(le.date.split("-")[2])}),d.jsx("div",{className:"w-24 shrink-0",children:d.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-medium border block text-center truncate ${((Fe=U2[le.category])==null?void 0:Fe.replace("bg-","border-").split(" ")[2])||"border-slate-200"}`,children:le.category})}),d.jsxs("div",{className:"flex-1 font-medium text-slate-700 dark:text-slate-200 truncate cursor-pointer hover:text-indigo-500 flex flex-col justify-center",onClick:()=>Te(le),title:"Clique para editar",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[le.description,le.isRecurring&&d.jsxs("span",{className:"text-[10px] text-slate-400 italic",children:["(",le.description.match(/\(\d+\/\d+\)/)?"Parcela":"Recorrente",")"]})]}),le.observation&&d.jsx("span",{className:"text-[10px] text-slate-400 font-normal truncate max-w-[300px]",children:le.observation})]}),d.jsxs("div",{className:"w-24 text-xs text-slate-500 flex items-center gap-1",children:[d.jsx(lIe,{method:le.paymentMethod||"",className:"w-3 h-3"}),d.jsx("span",{className:"truncate",children:jv[le.paymentMethod||""]||"-"})]}),d.jsx("div",{className:`w-28 text-right font-bold cursor-pointer hover:text-indigo-500 ${le.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-slate-700 dark:text-slate-200"}`,onClick:()=>Te(le),children:oe(le.amount)}),d.jsx("div",{className:"w-8 flex justify-center",children:d.jsx("button",{onClick:()=>o(le.id),className:`transition-all hover:scale-110 ${le.status==="paid"?"text-emerald-500":"text-slate-300 hover:text-emerald-400"}`,title:le.status==="paid"?"Marcar como pendente":"Marcar como pago",children:d.jsx(Dx,{className:"w-5 h-5"})})}),d.jsxs("div",{className:"w-16 flex justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>Te(le),className:"p-1.5 text-slate-400 hover:text-indigo-500 rounded hover:bg-slate-100 dark:hover:bg-slate-700",children:d.jsx(ZB,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>i(le.id),className:"p-1.5 text-slate-400 hover:text-rose-500 rounded hover:bg-slate-100 dark:hover:bg-slate-700",children:d.jsx(lu,{className:"w-4 h-4"})})]})]})]})]},le.id)})})]},Q.date))}),d.jsx("button",{onClick:()=>{Oe(),f(!0)},className:"md:hidden fixed bottom-20 right-4 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-lg shadow-indigo-600/30 flex items-center justify-center z-40 hover:scale-105 transition-transform",children:d.jsx($i,{className:"w-7 h-7"})})]})},z2=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899","#6366f1"],cIe=({investments:t,onAdd:e,onUpdate:n,onDelete:r,onNavigate:i,privacyMode:o,hasApiKey:s,quickActionSignal:a})=>{const[l,u]=G.useState(!1),[c,f]=G.useState(null),[h,y]=G.useState(!1),[v,b]=G.useState(!1),[x,w]=G.useState(!1),[_,E]=G.useState(null),[P,S]=G.useState(""),[C,I]=G.useState(null),[T,k]=G.useState(""),[N,O]=G.useState({name:"",amount:"",investedAmount:"",targetAmount:"",type:"Renda Fixa",date:new Date().toISOString().split("T")[0]});G.useEffect(()=>{a&&Date.now()-a<2e3&&(u(!0),O({name:"",amount:"",investedAmount:"",targetAmount:"",type:"Renda Fixa",date:new Date().toISOString().split("T")[0]}))},[a]);const M=G.useMemo(()=>{const W=new Map;return t.forEach(ie=>{W.set(ie.type,(W.get(ie.type)||0)+ie.amount)}),Array.from(W.entries()).map(([ie,fe])=>({name:ie,value:fe})).sort((ie,fe)=>fe.value-ie.value)},[t]),D=W=>{W.preventDefault();const ie=parseFloat(N.amount),fe=N.investedAmount?parseFloat(N.investedAmount):ie;e({name:N.name,amount:ie,investedAmount:fe,targetAmount:parseFloat(N.targetAmount)||0,type:N.type,date:N.date}),O({name:"",amount:"",investedAmount:"",targetAmount:"",type:"Renda Fixa",date:new Date().toISOString().split("T")[0]}),u(!1)},q=W=>{if(W.preventDefault(),!_)return;const ie=t.find(fe=>fe.id===_);if(ie){const fe=parseFloat(P);if(!isNaN(fe)&&fe>0){const Re=ie.investedAmount||ie.amount;n(_,{amount:ie.amount+fe,investedAmount:Re+fe})}}E(null),S("")},U=W=>{const ie=parseFloat(T);!isNaN(ie)&&ie>=0&&n(W,{amount:ie}),I(null)},j=async()=>{if(!s)return;b(!0),y(!0),f(null),w(!1);const W=await GZ(t);f(W),y(!1)},F=()=>{if(!c)return{recommendations:"",technical:""};const W=c.text.split("---SECTION-BREAK---");return{recommendations:W[0].trim(),technical:W.length>1?W[1].trim():""}},{recommendations:L,technical:V}=F(),z=t.reduce((W,ie)=>W+ie.amount,0),Y=t.reduce((W,ie)=>W+(ie.investedAmount||ie.amount),0),H=z-Y,J=Y>0?H/Y*100:0,ce=W=>o?"":`R$ ${W.toLocaleString("pt-BR",{minimumFractionDigits:2})}`;return d.jsxs("div",{className:"space-y-6 relative",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Meus Investimentos"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Acompanhe rentabilidade e metas."})]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs("button",{onClick:()=>i($e.BUDGETS),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-pink-50 text-pink-600 hover:bg-pink-100 dark:bg-pink-900/20 dark:text-pink-400 dark:hover:bg-pink-900/40 transition-all font-medium text-sm border border-pink-200 dark:border-pink-800",children:[d.jsx(Ws,{className:"w-4 h-4"}),"Metas"]}),d.jsxs("button",{onClick:j,disabled:!s,title:s?"Consultor IA":"Configure a Chave API para usar",className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all shadow-sm text-sm font-medium
                   ${s?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white hover:from-purple-700 hover:to-indigo-700":"bg-slate-300 dark:bg-slate-700 text-slate-500 dark:text-slate-400 cursor-not-allowed opacity-60"}`,children:[d.jsx(Ls,{className:"w-4 h-4"}),"Consultor IA ",!s&&d.jsx("span",{className:"text-[10px] ml-1",children:"(Req. Chave)"})]}),d.jsxs("button",{onClick:()=>u(!l),className:"flex items-center gap-2 bg-slate-800 dark:bg-slate-700 text-white px-4 py-2 rounded-lg hover:bg-slate-900 dark:hover:bg-slate-600 transition-colors shadow-sm text-sm font-medium",children:[d.jsx($i,{className:"w-4 h-4"}),"Novo Ativo"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-indigo-600 text-white p-6 rounded-xl shadow-lg flex flex-col justify-between relative overflow-hidden",children:[d.jsxs("div",{className:"relative z-10",children:[d.jsx("p",{className:"text-indigo-200 text-xs font-bold uppercase tracking-wider mb-1",children:"Patrimnio Total"}),d.jsx("h3",{className:"text-3xl font-bold mb-1",children:ce(z)}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsxs("span",{className:`text-xs font-bold px-1.5 py-0.5 rounded bg-white/20 flex items-center gap-1 ${H>=0?"text-emerald-300":"text-rose-300"}`,children:[H>=0?d.jsx(Vi,{className:"w-3 h-3"}):d.jsx(em,{className:"w-3 h-3"}),J.toFixed(2),"%"]}),d.jsxs("span",{className:"text-[10px] text-indigo-200",children:["(",H>=0?"+":"",ce(H),")"]})]})]}),d.jsx(Qp,{className:"absolute right-4 bottom-4 w-24 h-24 text-indigo-500 opacity-20 pointer-events-none"})]}),M.length>0&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 md:col-span-2 flex items-center",children:[d.jsx("div",{className:"flex-1 h-[140px]",children:d.jsx(Uo,{width:"100%",height:"100%",children:d.jsxs(bF,{children:[d.jsx(fi,{data:M,cx:"50%",cy:"50%",innerRadius:40,outerRadius:60,paddingAngle:5,dataKey:"value",children:M.map((W,ie)=>d.jsx(ma,{fill:z2[ie%z2.length]},`cell-${ie}`))}),d.jsx(on,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"8px",border:"none",fontSize:"12px"},formatter:W=>o?"":`R$ ${W.toLocaleString("pt-BR")}`}),d.jsx(ni,{layout:"vertical",verticalAlign:"middle",align:"right",wrapperStyle:{fontSize:"11px"}})]})})}),d.jsx("div",{className:"w-px h-20 bg-slate-100 dark:bg-slate-700 mx-4"}),d.jsxs("div",{className:"pr-4 min-w-[120px]",children:[d.jsxs("p",{className:"text-xs text-slate-500 uppercase font-bold mb-2 flex items-center gap-1",children:[d.jsx(fp,{className:"w-3 h-3"})," Alocao"]}),M.slice(0,3).map((W,ie)=>d.jsxs("div",{className:"flex justify-between items-center text-xs mb-1",children:[d.jsx("span",{className:"text-slate-600 dark:text-slate-300 truncate max-w-[80px]",children:W.name}),d.jsxs("span",{className:"font-bold text-slate-800 dark:text-white",children:[(W.value/z*100).toFixed(0),"%"]})]},ie))]})]})]}),v&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-purple-200 dark:border-purple-900 overflow-hidden animate-fade-in",children:[d.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-slate-800 dark:to-slate-800 p-4 border-b border-purple-100 dark:border-slate-700 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(aD,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),d.jsx("h3",{className:"font-bold text-purple-900 dark:text-purple-300",children:"Smart Advisor"})]}),d.jsx("button",{onClick:()=>b(!1),className:"text-slate-400 hover:text-slate-600",children:d.jsx(Gr,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"p-6",children:h?d.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[d.jsx(Wg,{className:"w-8 h-8 text-purple-600 animate-spin mb-3"}),d.jsx("p",{className:"text-slate-500 text-sm animate-pulse",children:"Buscando oportunidades em tempo real..."})]}):c?d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"prose prose-sm prose-purple dark:prose-invert max-w-none text-slate-700 dark:text-slate-300",children:d.jsx("div",{dangerouslySetInnerHTML:{__html:L.replace(/\n/g,"<br/>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/- /g," ")}})}),V&&d.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-700 pt-4",children:[d.jsxs("button",{onClick:()=>w(!x),className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-slate-50 dark:bg-slate-700/50 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-700 dark:text-slate-200 text-sm font-semibold transition-colors border border-slate-200 dark:border-slate-600",children:[d.jsx(AB,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),x?"Ocultar Detalhes Tcnicos":"Ver Anlise Tcnica Detalhada",x?d.jsx(PB,{className:"w-4 h-4"}):d.jsx(CB,{className:"w-4 h-4"})]}),x&&d.jsx("div",{className:"mt-4 p-5 bg-slate-50 dark:bg-slate-900/50 rounded-lg border border-slate-200 dark:border-slate-700 animate-fade-in",children:d.jsx("div",{className:"prose prose-sm prose-slate dark:prose-invert max-w-none text-slate-600 dark:text-slate-400",children:d.jsx("div",{dangerouslySetInnerHTML:{__html:V.replace(/\n/g,"<br/>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/- /g," ")}})})})]}),c.sources.length>0&&d.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-700 pt-4",children:[d.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Fontes Consultadas"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:c.sources.map((W,ie)=>d.jsxs("a",{href:W.uri,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-2 py-1 rounded hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:[d.jsx(cD,{className:"w-3 h-3"}),W.title.length>30?W.title.substring(0,30)+"...":W.title]},ie))})]}),d.jsx("div",{className:"mt-4 flex justify-end",children:d.jsx("button",{onClick:j,className:"text-sm text-purple-600 hover:underline",children:"Atualizar Recomendao"})})]}):d.jsx("div",{className:"text-center text-slate-500",children:"Erro ao carregar recomendao."})})]}),l&&d.jsxs("form",{onSubmit:D,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[d.jsx("div",{className:"col-span-1 md:col-span-2",children:d.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Adicionar Novo Ativo"})}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Nome"}),d.jsx("input",{required:!0,type:"text",placeholder:"Ex: CDB Banco X, PETR4",value:N.name,onChange:W=>O({...N,name:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Valor Atual (Mercado)"}),d.jsx("input",{required:!0,type:"number",placeholder:"R$",value:N.amount,onChange:W=>O({...N,amount:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none font-bold"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Valor Investido (Custo)"}),d.jsx("input",{type:"number",placeholder:"Igual ao atual se vazio",value:N.investedAmount,onChange:W=>O({...N,investedAmount:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Objetivo Final (Meta)"}),d.jsx("input",{type:"number",placeholder:"R$",value:N.targetAmount,onChange:W=>O({...N,targetAmount:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Tipo"}),d.jsxs("select",{value:N.type,onChange:W=>O({...N,type:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:[d.jsx("option",{value:"Renda Fixa",children:"Renda Fixa"}),d.jsx("option",{value:"Aes",children:"Aes"}),d.jsx("option",{value:"FIIs",children:"FIIs"}),d.jsx("option",{value:"Cripto",children:"Criptomoedas"}),d.jsx("option",{value:"Reserva",children:"Reserva de Emergncia"}),d.jsx("option",{value:"Outros",children:"Outros"})]})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Data da Compra"}),d.jsx("input",{required:!0,type:"date",value:N.date,onChange:W=>O({...N,date:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2"})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-2 mt-2",children:[d.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:"Salvar"})]})]}),_&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-sm p-6 animate-fade-in",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Novo Aporte"}),d.jsx("button",{onClick:()=>E(null),className:"text-slate-400 hover:text-slate-600",children:d.jsx(Gr,{className:"w-5 h-5"})})]}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Ao aportar, o valor ser somado ao Custo e ao Valor Atual."}),d.jsxs("form",{onSubmit:q,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 mb-1",children:"VALOR DO APORTE"}),d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:"absolute left-3 top-2 text-slate-400",children:"R$"}),d.jsx("input",{autoFocus:!0,required:!0,type:"number",step:"0.01",className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg py-2 pl-8 pr-3 focus:ring-2 focus:ring-indigo-500 outline-none text-lg font-medium",value:P,onChange:W=>S(W.target.value)})]})]}),d.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 rounded-lg font-medium hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2",children:[d.jsx(Vx,{className:"w-5 h-5"}),"Confirmar Aporte"]})]})]})}),d.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.length===0?d.jsx("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700 text-slate-400",children:"Voc ainda no registrou investimentos."}):t.map(W=>{const ie=W.investedAmount||W.amount,Re=W.amount-ie,oe=ie>0?Re/ie*100:0,xe=W.targetAmount&&W.targetAmount>0?Math.min(100,W.amount/W.targetAmount*100):0;return d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-shadow relative group",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 mb-2",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 p-3 rounded-full text-indigo-600 dark:text-indigo-400",children:d.jsx(Qp,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white text-lg",children:W.name}),d.jsxs("div",{className:"flex flex-wrap gap-2 text-xs mt-1",children:[d.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-2 py-0.5 rounded",children:W.type}),oe!==0&&d.jsxs("span",{className:`px-2 py-0.5 rounded font-bold flex items-center gap-1 ${oe>0?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400"}`,children:[oe>0?d.jsx(Vi,{className:"w-3 h-3"}):d.jsx(em,{className:"w-3 h-3"}),oe.toFixed(2),"%"]})]})]})]}),d.jsxs("div",{className:"flex items-start justify-between md:justify-end gap-3 md:gap-6 mt-2 md:mt-0",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:"block text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Valor Atual"}),C===W.id?d.jsx("div",{className:"flex items-center justify-end gap-1 mt-1",children:d.jsx("input",{autoFocus:!0,type:"number",className:"w-24 p-1 text-sm border rounded bg-white dark:bg-slate-900 dark:text-white dark:border-slate-600 text-right",value:T,onChange:ue=>k(ue.target.value),onKeyDown:ue=>ue.key==="Enter"&&U(W.id),onBlur:()=>U(W.id)})}):d.jsxs("div",{className:"group/edit relative inline-block",children:[d.jsx("span",{className:"font-bold text-slate-800 dark:text-white text-xl cursor-pointer hover:text-indigo-500 border-b border-dashed border-transparent hover:border-indigo-400 transition-all",onClick:()=>{I(W.id),k(W.amount.toString())},title:"Clique para atualizar cotao",children:ce(W.amount)}),d.jsx(gD,{className:"w-3 h-3 text-slate-300 absolute -right-4 top-1 opacity-0 group-hover/edit:opacity-100 transition-opacity"})]}),d.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Investido: ",ce(ie)]})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("button",{onClick:()=>E(W.id),className:"p-1.5 text-indigo-600 bg-indigo-50 hover:bg-indigo-100 dark:text-indigo-400 dark:bg-indigo-900/30 dark:hover:bg-indigo-900/50 rounded-lg transition-colors",title:"Novo Aporte",children:d.jsx(Vx,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>r(W.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors",title:"Excluir",children:d.jsx(lu,{className:"w-4 h-4"})})]})]})]}),W.targetAmount>0?d.jsx("div",{className:"mt-3 bg-slate-50 dark:bg-slate-700/50 p-2 rounded-lg border border-slate-100 dark:border-slate-700 flex items-center gap-3",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex justify-between items-end mb-1",children:[d.jsxs("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase flex items-center gap-1",children:[d.jsx(Ws,{className:"w-3 h-3"})," Meta: ",ce(W.targetAmount)]}),d.jsxs("span",{className:"text-[10px] font-bold text-indigo-600 dark:text-indigo-400",children:[xe.toFixed(0),"%"]})]}),d.jsx("div",{className:"w-full h-1.5 bg-slate-200 dark:bg-slate-600 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-indigo-500 rounded-full transition-all duration-1000",style:{width:`${xe}%`}})})]})}):d.jsx("div",{className:"mt-2 flex justify-end opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsxs("button",{onClick:()=>u(!0),className:"text-[10px] text-slate-400 hover:text-indigo-500 flex items-center gap-1 uppercase font-bold tracking-wider",children:[d.jsx(NB,{className:"w-3 h-3"})," Definir Meta"]})})]},W.id)})})]})},dIe=["Casa","Mobilidade","Alimentos","Lazer","Pets","Outros"],fIe=({budgets:t,transactions:e,investments:n,onAdd:r,onUpdate:i,onDelete:o,onNavigate:s,privacyMode:a,quickActionSignal:l})=>{const[u,c]=G.useState(!1),[f,h]=G.useState(!1),[y,v]=G.useState(new Date),[b,x]=G.useState(null),[w,_]=G.useState(""),[E,P]=G.useState({category:"Lazer",limit:"",isRecurring:!0,month:new Date().toISOString().slice(0,7)});G.useEffect(()=>{l&&Date.now()-l<2e3&&(c(!0),P({category:"Lazer",limit:"",isRecurring:!0,month:new Date().toISOString().slice(0,7)}))},[l]);const S=()=>{v(L=>{const V=new Date(L);return V.setMonth(L.getMonth()-1),V})},C=()=>{v(L=>{const V=new Date(L);return V.setMonth(L.getMonth()+1),V})},I=L=>L.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}),T=()=>{const L=y.getFullYear(),V=String(y.getMonth()+1).padStart(2,"0");return`${L}-${V}`},k=L=>{if(L.preventDefault(),E.isRecurring){if(t.some(z=>z.category===E.category&&z.isRecurring)){alert(`J existe um oramento recorrente para ${E.category}. Exclua o anterior para criar um novo.`);return}}else if(t.some(z=>z.category===E.category&&z.month===E.month)){alert(`J existe um oramento de ${E.category} para ${E.month}.`);return}const V={category:E.category,limit:parseFloat(E.limit),isRecurring:E.isRecurring};E.isRecurring||(V.month=E.month),r(V),P({category:"Outros",limit:"",isRecurring:!0,month:T()}),c(!1)},N=L=>{const V=parseFloat(w);!isNaN(V)&&V>0&&i(L,{limit:V}),x(null)},O=L=>{x(L.id),_(L.limit.toString())},M=L=>a?"":`R$ ${L.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,D=L=>{const V=y.getFullYear(),z=y.getMonth();return e.filter(Y=>{const H=new Date(Y.date);return Y.type==="expense"&&Y.category===L&&H.getMonth()===z&&H.getFullYear()===V}).reduce((Y,H)=>Y+H.amount,0)},q=G.useMemo(()=>{const L=T(),V=t.filter(H=>H.month===L),z=new Set(V.map(H=>H.category)),Y=t.filter(H=>H.isRecurring&&!z.has(H.category));return[...V,...Y].sort((H,J)=>H.category.localeCompare(J.category))},[t,y]),U=G.useMemo(()=>n.filter(L=>L.targetAmount>0).sort((L,V)=>{const z=L.amount/L.targetAmount;return V.amount/V.targetAmount-z}),[n]),j=L=>{const V=new Date;if(V.getMonth()!==y.getMonth()||V.getFullYear()!==y.getFullYear())return null;const z=V.getDate(),Y=new Date(V.getFullYear(),V.getMonth()+1,0).getDate();return z===1?L:L/z*Y},F=G.useMemo(()=>{const L=new Map,V=new Date;for(let Y=0;Y<6;Y++){const H=new Date(V.getFullYear(),V.getMonth()-Y,1),J=H.getFullYear(),ce=H.getMonth(),W=`${J}-${String(ce+1).padStart(2,"0")}`;new Set(e.filter(fe=>{const Re=new Date(fe.date);return fe.type==="expense"&&Re.getFullYear()===J&&Re.getMonth()===ce}).map(fe=>fe.category)).forEach(fe=>{let Re=t.find(oe=>oe.category===fe&&oe.month===W);if(Re||(Re=t.find(oe=>oe.category===fe&&oe.isRecurring)),Re){const oe=e.filter(ue=>{const ee=new Date(ue.date);return ue.type==="expense"&&ue.category===fe&&ee.getFullYear()===J&&ee.getMonth()===ce}).reduce((ue,ee)=>ue+ee.amount,0),xe=L.get(fe)||{totalSpent:0,totalLimit:0,count:0};L.set(fe,{totalSpent:xe.totalSpent+oe,totalLimit:xe.totalLimit+Re.limit,count:xe.count+1})}})}return Array.from(L.entries()).map(([Y,H])=>{const J=H.totalSpent/H.totalLimit*100;return{name:Y,adherence:J,spent:H.totalSpent/H.count,limit:H.totalLimit/H.count}}).sort((Y,H)=>H.adherence-Y.adherence)},[t,e]);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Planejamento"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm capitalize",children:"Defina limites e acompanhe suas metas."})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsx("button",{onClick:()=>h(!f),className:`p-2.5 rounded-lg transition-colors border ${f?"bg-indigo-50 border-indigo-200 text-indigo-600 dark:bg-indigo-900/30 dark:border-indigo-800 dark:text-indigo-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300"}`,title:"Ver Anlise de Performance",children:d.jsx(fd,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-1",children:[d.jsx("button",{onClick:S,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:d.jsx(Xw,{className:"w-5 h-5"})}),d.jsxs("div",{className:"px-4 font-semibold text-slate-700 dark:text-slate-200 capitalize min-w-[140px] text-center flex items-center justify-center gap-2",children:[d.jsx(qo,{className:"w-4 h-4 text-pink-500"}),I(y)]}),d.jsx("button",{onClick:C,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:d.jsx(Hg,{className:"w-5 h-5"})})]}),d.jsxs("button",{onClick:()=>{P(L=>({...L,month:T()})),c(!u)},className:"flex items-center gap-2 bg-pink-600 text-white px-4 py-2.5 rounded-lg hover:bg-pink-700 transition-colors shadow-sm text-sm font-medium",children:[d.jsx($i,{className:"w-4 h-4"}),"Definir Teto"]})]})]}),f&&F.length>0&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 animate-fade-in-down mb-6",children:[d.jsx("div",{className:"mb-6",children:d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Vi,{className:"w-5 h-5 text-indigo-500"}),"Performance Histrica (ltimos 6 Meses)"]})}),d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(Uo,{width:"100%",height:"100%",children:d.jsxs(wT,{data:F,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(Ql,{strokeDasharray:"3 3",horizontal:!1,stroke:"#e2e8f0",opacity:.5}),d.jsx(li,{type:"number",hide:!0}),d.jsx(ui,{dataKey:"name",type:"category",width:100,tick:{fill:"#64748b",fontSize:12,fontWeight:500},axisLine:!1,tickLine:!1}),d.jsx(on,{cursor:{fill:"transparent"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:L=>[`${L.toFixed(0)}%`,"Mdia de Uso"]}),d.jsx(zf,{x:100,stroke:"#ef4444",strokeDasharray:"3 3"}),d.jsx(ai,{dataKey:"adherence",radius:[0,4,4,0],barSize:20,children:F.map((L,V)=>d.jsx(ma,{fill:L.adherence>100?"#ef4444":L.adherence>85?"#f59e0b":"#10b981"},`cell-${V}`))})]})})})]}),u&&d.jsxs("form",{onSubmit:k,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[d.jsx("div",{className:"col-span-1 md:col-span-2",children:d.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Novo Limite de Gastos"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:"Categoria"}),d.jsx("select",{value:E.category,onChange:L=>P({...E,category:L.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-pink-500",children:dIe.map(L=>d.jsx("option",{value:L,children:L},L))})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:"Valor Teto (R$)"}),d.jsx("input",{required:!0,type:"number",placeholder:"Ex: 1000.00",value:E.limit,onChange:L=>P({...E,limit:L.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-pink-500"})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 bg-slate-50 dark:bg-slate-700/50 p-3 rounded-lg border border-slate-100 dark:border-slate-700",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx("input",{type:"checkbox",id:"isRecurringBudget",checked:E.isRecurring,onChange:L=>P({...E,isRecurring:L.target.checked}),className:"w-4 h-4 text-pink-600 rounded"}),d.jsxs("label",{htmlFor:"isRecurringBudget",className:"text-sm font-medium text-slate-700 dark:text-slate-200 flex items-center gap-1 cursor-pointer",children:[d.jsx(jo,{className:"w-4 h-4"})," Oramento Recorrente?"]})]}),E.isRecurring?d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[d.jsx(UB,{className:"w-3 h-3"})," Este limite ser aplicado automaticamente em todos os meses futuros."]}):d.jsxs("div",{className:"animate-fade-in",children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 block mb-1",children:"Ms de Referncia"}),d.jsx("input",{type:"month",required:!E.isRecurring,value:E.month,onChange:L=>P({...E,month:L.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 outline-none w-full max-w-[200px]"})]})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-2 mt-2",children:[d.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700 font-medium",children:"Salvar Teto"})]})]}),d.jsxs("div",{className:"mb-10",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[d.jsx(Rx,{className:"w-5 h-5 text-rose-500"})," Tetos de Gastos"]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:q.length===0?d.jsxs("div",{className:"col-span-full py-12 text-center bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[d.jsx(Ws,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"Nenhum teto definido."})]}):q.map(L=>{const V=D(L.category),z=j(V),Y=Math.min(100,V/L.limit*100),H=z?Math.min(100,z/L.limit*100):0,J=V>L.limit;let ce="bg-emerald-500",W=d.jsx(Dx,{className:"w-5 h-5 text-emerald-600"});return Y>100?(ce="bg-rose-500",W=d.jsx(Rx,{className:"w-5 h-5 text-rose-600"})):Y>85?(ce="bg-rose-500",W=d.jsx(Yp,{className:"w-5 h-5 text-rose-500"})):Y>70&&(ce="bg-amber-500",W=d.jsx(Yp,{className:"w-5 h-5 text-amber-500"})),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-all relative group",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2.5 rounded-lg bg-slate-100 dark:bg-slate-700",children:W}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:L.category}),d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[L.isRecurring?d.jsx(jo,{className:"w-3 h-3"}):d.jsx(hd,{className:"w-3 h-3"}),L.isRecurring?"Mensal":"Especfico"]})]})]}),b===L.id?d.jsxs("div",{className:"flex items-center gap-1 animate-fade-in",children:[d.jsx("input",{autoFocus:!0,type:"number",className:"w-20 p-1 text-sm border rounded bg-white dark:bg-slate-900 dark:text-white dark:border-slate-600",value:w,onChange:ie=>_(ie.target.value),onKeyDown:ie=>ie.key==="Enter"&&N(L.id)}),d.jsx("button",{onClick:()=>N(L.id),className:"p-1 bg-emerald-100 text-emerald-600 rounded hover:bg-emerald-200",children:d.jsx(t6,{className:"w-3 h-3"})}),d.jsx("button",{onClick:()=>x(null),className:"p-1 bg-slate-100 text-slate-600 rounded hover:bg-slate-200",children:d.jsx(Gr,{className:"w-3 h-3"})})]}):d.jsxs("div",{className:"text-right group-hover:hidden",children:[d.jsx("p",{className:"text-xs text-slate-500",children:"Limite"}),d.jsx("p",{className:"font-bold text-slate-800 dark:text-white cursor-pointer hover:text-indigo-500",onClick:()=>O(L),children:M(L.limit)})]}),d.jsxs("div",{className:"hidden group-hover:flex gap-1 absolute top-4 right-4 bg-white dark:bg-slate-800 pl-2",children:[d.jsx("button",{onClick:()=>O(L),className:"p-1.5 text-slate-400 hover:text-indigo-500 hover:bg-indigo-50 rounded",children:d.jsx(gD,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>o(L.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded",children:d.jsx(lu,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"space-y-2 relative",children:[d.jsxs("div",{className:"flex justify-between items-end text-sm",children:[d.jsxs("span",{className:"text-slate-600 dark:text-slate-300 font-medium",children:["Gasto: ",d.jsx("span",{className:J?"text-rose-500 font-bold":"",children:M(V)})]}),d.jsxs("span",{className:"text-slate-400 text-xs",children:[Y.toFixed(0),"%"]})]}),d.jsxs("div",{className:"w-full h-3 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden relative",children:[z&&z>V&&!J&&d.jsx("div",{className:"absolute top-0 left-0 h-full bg-slate-200 dark:bg-slate-600 opacity-50 border-r-2 border-slate-400 dark:border-slate-400 transition-all duration-1000",style:{width:`${H}%`},title:`Previso de fechar o ms em ${M(z)}`}),d.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${ce} relative z-10`,style:{width:`${Y}%`}})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[z&&z>L.limit&&!J&&d.jsxs("p",{className:"text-[10px] text-amber-600 dark:text-amber-400 flex items-center gap-1 font-semibold animate-pulse",children:[d.jsx(DB,{className:"w-3 h-3"})," Previso de estouro: ",M(z)]}),d.jsx("div",{className:"flex-1"}),d.jsx("p",{className:"text-xs text-right font-medium",children:J?d.jsxs("span",{className:"text-rose-500",children:["Excedido: ",M(V-L.limit)]}):d.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400",children:["Restam: ",M(L.limit-V)]})})]})]})]},L.id)})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200 flex items-center gap-2",children:[d.jsx(PA,{className:"w-5 h-5 text-yellow-500"})," Objetivos de Conquista"]}),d.jsxs("button",{onClick:()=>s($e.INVESTMENTS),className:"text-xs font-semibold text-indigo-600 hover:text-indigo-700 dark:text-indigo-400 flex items-center gap-1 transition-colors",children:["Gerenciar Carteira ",d.jsx(Yw,{className:"w-3 h-3"})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:U.length===0?d.jsxs("div",{className:"col-span-full py-8 text-center bg-yellow-50/50 dark:bg-yellow-900/10 rounded-xl border border-dashed border-yellow-200 dark:border-yellow-800",children:[d.jsx(Ws,{className:"w-10 h-10 text-yellow-400 mx-auto mb-2"}),d.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:'Defina uma "Meta Final" nos seus investimentos para v-los aqui.'}),d.jsx("button",{onClick:()=>s($e.INVESTMENTS),className:"mt-3 text-xs bg-yellow-100 hover:bg-yellow-200 text-yellow-700 px-3 py-1.5 rounded-lg font-bold transition-colors",children:"Ir para Investimentos"})]}):U.map(L=>{const V=Math.min(100,L.amount/L.targetAmount*100);return d.jsxs("div",{onClick:()=>s($e.INVESTMENTS),className:"bg-gradient-to-br from-white to-yellow-50 dark:from-slate-800 dark:to-slate-800/50 p-6 rounded-xl shadow-sm border border-yellow-200 dark:border-yellow-900/30 relative overflow-hidden cursor-pointer hover:shadow-md hover:scale-[1.02] transition-all group",children:[d.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(pD,{className:"w-4 h-4 text-slate-400"})}),d.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2.5 rounded-lg bg-yellow-100 text-yellow-600 dark:bg-yellow-900/30 dark:text-yellow-400",children:d.jsx(Vi,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-slate-800 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:L.name}),d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Meta: ",M(L.targetAmount)]})]})]}),d.jsx("div",{className:"text-right",children:d.jsxs("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:[V.toFixed(0),"%"]})})]}),d.jsx("div",{className:"w-full h-4 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden relative z-10",children:d.jsx("div",{className:"h-full bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full transition-all duration-1000 shadow-[0_0_10px_rgba(251,191,36,0.5)]",style:{width:`${V}%`},children:d.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/30 to-transparent -translate-x-full animate-[shimmer_2s_infinite]"})})}),d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2 text-right relative z-10",children:["Faltam ",M(L.targetAmount-L.amount)]}),d.jsx(PA,{className:"absolute -bottom-4 -right-4 w-32 h-32 text-yellow-500/5 rotate-12 pointer-events-none"})]},L.id)})})]})]})},hIe=({transactions:t,onUpdateTransaction:e,onDeleteTransaction:n,privacyMode:r})=>{const i=G.useMemo(()=>{const h=new Map;return t.filter(v=>v.type==="expense"&&v.isRecurring).forEach(v=>{const b=h.get(v.description);(!b||new Date(v.date)>new Date(b.date))&&h.set(v.description,v)}),Array.from(h.values()).sort((v,b)=>b.amount-v.amount)},[t]),o=i.reduce((h,y)=>h+y.amount,0),s=o*12,a=G.useMemo(()=>i.slice(0,10).map(h=>({name:h.description,amount:h.amount,annual:h.amount*12,color:h.amount>200?"#ef4444":h.amount>50?"#f59e0b":"#3b82f6"})),[i]),l=h=>r?"":`R$ ${h.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,u=h=>{confirm("Deseja parar de considerar este item como recorrente? Ele continuar como uma transao comum.")&&e(h,{isRecurring:!1})},c=h=>{const v=new Date(h).getDate(),b=new Date;let x=new Date(b.getFullYear(),b.getMonth(),v);x.setHours(0,0,0,0)<b.setHours(0,0,0,0)&&x.setMonth(x.getMonth()+1);const w=x.getTime()-b.getTime(),_=Math.ceil(w/(1e3*60*60*24));return _===0?{label:"Hoje",color:"text-rose-500 font-bold bg-rose-100 dark:bg-rose-900/30"}:_===1?{label:"Amanh",color:"text-amber-500 font-bold bg-amber-100 dark:bg-amber-900/30"}:{label:`em ${_} dias`,color:"text-slate-500 bg-slate-100 dark:bg-slate-700"}},f=({active:h,payload:y,label:v})=>{if(h&&y&&y.length){const b=y[0].payload;return d.jsxs("div",{className:"bg-white/95 dark:bg-slate-800/95 p-3 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 backdrop-blur-sm",children:[d.jsx("p",{className:"font-bold text-slate-800 dark:text-white mb-2 border-b border-slate-100 dark:border-slate-700 pb-1",children:b.name}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex justify-between gap-6 text-xs text-slate-500 dark:text-slate-400",children:[d.jsx("span",{children:"Mensalidade:"}),d.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:r?"":`R$ ${b.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})}`})]}),d.jsxs("div",{className:"flex justify-between gap-6 text-xs text-slate-500 dark:text-slate-400",children:[d.jsx("span",{children:"Custo Anual:"}),d.jsx("span",{className:"font-bold text-emerald-600 dark:text-emerald-400",children:r?"":`R$ ${b.annual.toLocaleString("pt-BR",{minimumFractionDigits:2})}`})]})]})]})}return null};return d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(jo,{className:"w-7 h-7 text-indigo-600"}),"Gesto de Assinaturas"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Gerencie seus gastos recorrentes e descubra o impacto anual das pequenas mensalidades."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-indigo-600 text-white p-6 rounded-xl shadow-lg relative overflow-hidden",children:[d.jsxs("div",{className:"relative z-10",children:[d.jsx("p",{className:"text-indigo-200 text-sm font-medium mb-1 uppercase tracking-wider",children:"Custo Mensal Real"}),d.jsx("h3",{className:"text-3xl font-bold",children:l(o)}),d.jsxs("p",{className:"text-indigo-200 text-xs mt-2 opacity-80",children:[i.length," assinaturas ativas"]})]}),d.jsx(hd,{className:"absolute right-4 bottom-4 w-24 h-24 text-indigo-500 opacity-20"})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 p-6 rounded-xl shadow-sm relative overflow-hidden",children:[d.jsxs("div",{className:"relative z-10",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1 uppercase tracking-wider",children:"Impacto Anual"}),d.jsx("h3",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:l(s)}),d.jsxs("p",{className:"text-emerald-500 text-xs mt-2 font-medium flex items-center gap-1",children:[d.jsx(Vi,{className:"w-3 h-3"}),"Projeo de 12 meses"]})]}),d.jsx(Qp,{className:"absolute right-4 bottom-4 w-24 h-24 text-slate-100 dark:text-slate-700"})]})]}),a.length>0&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 mb-4",children:[d.jsx(fd,{className:"w-5 h-5 text-indigo-500"}),"Ranking de Custos (Top 10)"]}),d.jsx("div",{className:"h-[250px] w-full",children:d.jsx(Uo,{width:"100%",height:"100%",children:d.jsxs(wT,{data:a,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(Ql,{strokeDasharray:"3 3",horizontal:!1,stroke:"#e2e8f0",opacity:.5}),d.jsx(li,{type:"number",hide:!0}),d.jsx(ui,{dataKey:"name",type:"category",width:120,tick:{fill:"#64748b",fontSize:11,fontWeight:500},axisLine:!1,tickLine:!1}),d.jsx(on,{content:d.jsx(f,{}),cursor:{fill:"transparent"}}),d.jsx(ai,{dataKey:"amount",radius:[0,4,4,0],barSize:20,children:a.map((h,y)=>d.jsx(ma,{fill:h.color},`cell-${y}`))})]})})})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.length===0?d.jsxs("div",{className:"col-span-full py-12 text-center bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[d.jsx(jo,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"Nenhuma assinatura encontrada."}),d.jsx("p",{className:"text-slate-400 text-sm",children:'Marque a opo "Recorrente" ao adicionar uma despesa.'})]}):i.map(h=>{const y=c(h.date);return d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-all group relative",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{className:"overflow-hidden mr-2",children:[d.jsx("h4",{className:"font-bold text-slate-800 dark:text-white text-lg truncate mb-1",children:h.description}),d.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400",children:h.category})]}),d.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[d.jsx("button",{onClick:()=>u(h.id),className:"p-1.5 text-slate-400 hover:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/30 rounded-lg transition-colors",title:"Remover recorrncia",children:d.jsx(oD,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>n(h.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors",title:"Excluir assinatura",children:d.jsx(Gr,{className:"w-4 h-4"})})]})]}),d.jsx("div",{className:"flex items-center justify-between mt-2 mb-4",children:d.jsxs("div",{className:`flex items-center gap-1.5 text-[10px] uppercase font-bold px-2 py-1 rounded-md ${y.color}`,children:[d.jsx(qo,{className:"w-3 h-3"}),"Renova ",y.label]})}),d.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-xs text-slate-400 block",children:"Mensal"}),d.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:l(h.amount)})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:"text-xs text-slate-400 block",children:"Anual"}),d.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:l(h.amount*12)})]})]})]},h.id)})})]})},pIe=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],mIe=["Casa","Mobilidade","Alimentos","Lazer","Sade","Educao","Pets","Salrio","Renda Extra","Investimentos","Outros"],gIe=[{value:"credit_card",label:"Crdito"},{value:"debit_card",label:"Dbito"},{value:"pix",label:"PIX"},{value:"cash",label:"Dinheiro"},{value:"direct_debit",label:"Dbito Auto."}],yIe=t=>{let e=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//NEXO Finance//PT-BR
`;t.forEach(i=>{const o=i.date.replace(/-/g,"");e+=`BEGIN:VEVENT
`,e+=`DTSTART;VALUE=DATE:${o}
`,e+=`DTEND;VALUE=DATE:${o}
`,e+=`SUMMARY:${i.description} (${i.type==="income"?"+":"-"} R$ ${i.amount})
`,e+=`DESCRIPTION:Categoria: ${i.category} | Status: ${i.status} ${i.observation?"| Obs: "+i.observation:""}
`,e+=`END:VEVENT
`}),e+="END:VCALENDAR";const n=new Blob([e],{type:"text/calendar;charset=utf-8"}),r=document.createElement("a");r.href=window.URL.createObjectURL(n),r.setAttribute("download","nexo_agenda.ics"),document.body.appendChild(r),r.click(),document.body.removeChild(r)},vIe=({transactions:t,budgets:e,onAddTransaction:n,privacyMode:r})=>{const[i,o]=G.useState(new Date),[s,a]=G.useState(new Date().getDate()),[l,u]=G.useState("all"),[c,f]=G.useState(!1),[h,y]=G.useState({description:"",amount:"",type:"expense",category:"Outros",paymentMethod:"credit_card",status:"pending",observation:""}),v=i.getFullYear(),b=i.getMonth(),x=(U,j)=>new Date(U,j+1,0).getDate(),w=(U,j)=>new Date(U,j,1).getDay(),_=x(v,b),E=w(v,b),P=G.useMemo(()=>{const U=[],j=new Date,F=j.getMonth(),L=j.getFullYear(),V=j.toISOString().slice(0,7);return e.forEach(z=>{if(!(z.isRecurring&&!e.some(J=>J.category===z.category&&J.month===V&&!J.isRecurring)||z.month===V))return;t.filter(J=>J.type==="expense"&&J.category===z.category&&new Date(J.date).getMonth()===F&&new Date(J.date).getFullYear()===L).reduce((J,ce)=>J+ce.amount,0)>=z.limit&&U.push({title:`Limite Excedido: ${z.category}`,message:"Voc estourou o teto definido para esta categoria.",type:"warning"})}),U},[e,t]),S=G.useMemo(()=>{const U=t.filter(z=>{const[Y,H]=z.date.split("-").map(Number);return Y===v&&H===b+1}),j=new Map;t.forEach(z=>{if(z.isRecurring){const Y=j.get(z.description);(!Y||new Date(z.date)>new Date(Y.date))&&j.set(z.description,z)}});const F=[],L=new Date;return new Date(v,b,1)>=new Date(L.getFullYear(),L.getMonth(),1)&&j.forEach(z=>{if(!U.some(H=>H.description===z.description&&H.amount===z.amount)){const H=new Date(z.date),J=H.getDate(),ce=Math.min(J,_);H<new Date(v,b+1,0)&&F.push({...z,id:`ghost-${z.id}-${v}-${b}`,date:`${v}-${String(b+1).padStart(2,"0")}-${String(ce).padStart(2,"0")}`,status:"pending",isGhost:!0})}}),[...U,...F].filter(z=>l==="all"?!0:l==="pending"?z.status==="pending":z.type===l)},[t,v,b,_,l]),C=G.useMemo(()=>s===null?[]:S.filter(U=>parseInt(U.date.split("-")[2])===s),[S,s]),I=G.useMemo(()=>{let U=0;for(let j=1;j<=_;j++){const F=S.filter(L=>parseInt(L.date.split("-")[2])===j&&L.type==="expense").reduce((L,V)=>L+V.amount,0);F>U&&(U=F)}return U||1},[S,_]),T=()=>{o(new Date(v,b-1,1)),a(null)},k=()=>{o(new Date(v,b+1,1)),a(null)},N=()=>{s&&(y({description:"",amount:"",type:"expense",category:"Outros",paymentMethod:"credit_card",status:"pending",observation:""}),f(!0))},O=U=>{if(U.preventDefault(),!s)return;const j=`${v}-${String(b+1).padStart(2,"0")}-${String(s).padStart(2,"0")}`;n({description:h.description,amount:parseFloat(h.amount),type:h.type,category:h.category,date:j,status:h.status,paymentMethod:h.paymentMethod,isRecurring:!1,observation:h.observation}),f(!1)},M=U=>r?"":U>=1e3?(U/1e3).toFixed(1)+"k":U.toFixed(0),D=U=>r?"":`R$ ${U.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,q=[];for(let U=0;U<E;U++)q.push(d.jsx("div",{className:"h-28 bg-slate-50/30 dark:bg-slate-800/30 border border-slate-100 dark:border-slate-700/50"},`empty-${U}`));for(let U=1;U<=_;U++){const j=S.filter(J=>parseInt(J.date.split("-")[2])===U),F=j.filter(J=>J.type==="income").reduce((J,ce)=>J+ce.amount,0),L=j.filter(J=>J.type==="expense").reduce((J,ce)=>J+ce.amount,0),V=Math.min(1,L/I);let z="bg-white dark:bg-slate-800";L>0&&(V>.7?z="bg-rose-100 dark:bg-rose-900/40":V>.4?z="bg-rose-50 dark:bg-rose-900/20":z="bg-slate-50 dark:bg-slate-800");const Y=new Date().getDate()===U&&new Date().getMonth()===b&&new Date().getFullYear()===v,H=s===U;q.push(d.jsxs("div",{onClick:()=>a(U),className:`h-28 p-1.5 border border-slate-100 dark:border-slate-700 relative cursor-pointer transition-all hover:brightness-95
          ${H?"ring-2 ring-inset ring-indigo-500 z-10":""}
          ${z}
        `,children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("span",{className:`text-xs font-bold inline-flex w-6 h-6 items-center justify-center rounded-full ${Y?"bg-indigo-600 text-white shadow-lg":"text-slate-500 dark:text-slate-400"}`,children:U}),j.some(J=>J.status==="pending")&&d.jsx("div",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full animate-pulse",title:"Pagamentos Pendentes"})]}),d.jsxs("div",{className:"mt-2 flex flex-col gap-0.5",children:[F>0&&d.jsxs("div",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-100/50 dark:bg-emerald-900/30 px-1 rounded truncate",children:["+",M(F)]}),L>0&&d.jsxs("div",{className:"text-[10px] font-bold text-rose-600 dark:text-rose-400 px-1 rounded truncate",children:["-",M(L)]}),j.some(J=>J.isGhost)&&d.jsx("div",{className:"absolute bottom-1 right-1 opacity-50",children:d.jsx(Zw,{className:"w-3 h-3 text-slate-400"})})]})]},U))}return d.jsxs("div",{className:"space-y-6 animate-fade-in pb-20 md:pb-0 relative",children:[P.length>0&&d.jsx("div",{className:"space-y-2 mb-4",children:P.map((U,j)=>d.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-4 rounded-xl flex items-start gap-3 animate-fade-in-down shadow-sm",children:[d.jsx("div",{className:"bg-amber-100 dark:bg-amber-800 p-2 rounded-full flex-shrink-0",children:d.jsx(Jw,{className:"w-5 h-5 text-amber-600 dark:text-amber-300"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-amber-800 dark:text-amber-300 text-sm",children:U.title}),d.jsx("p",{className:"text-amber-700 dark:text-amber-400 text-xs mt-0.5",children:U.message})]})]},j))}),c&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-scale-in border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Nova Transao"}),d.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-semibold flex items-center gap-1",children:[d.jsx(hd,{className:"w-3 h-3"}),s," de ",i.toLocaleDateString("pt-BR",{month:"long"})]})]}),d.jsx("button",{onClick:()=>f(!1),className:"text-slate-400 hover:text-slate-600",children:d.jsx(Gr,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:O,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"O que ?"}),d.jsxs("div",{className:"relative",children:[d.jsx(wB,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"}),d.jsx("input",{autoFocus:!0,required:!0,type:"text",placeholder:"Ex: Mercado, Conta de Luz...",value:h.description,onChange:U=>y({...h,description:U.target.value}),className:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Valor (R$)"}),d.jsxs("div",{className:"relative",children:[d.jsx(Qp,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"}),d.jsx("input",{required:!0,type:"number",step:"0.01",placeholder:"0,00",value:h.amount,onChange:U=>y({...h,amount:U.target.value}),className:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Tipo"}),d.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 rounded-xl p-1",children:[d.jsx("button",{type:"button",onClick:()=>y({...h,type:"expense"}),className:`flex-1 py-1.5 text-xs font-bold rounded-lg transition-colors ${h.type==="expense"?"bg-white dark:bg-slate-600 text-rose-600 shadow-sm":"text-slate-500"}`,children:"Sada"}),d.jsx("button",{type:"button",onClick:()=>y({...h,type:"income"}),className:`flex-1 py-1.5 text-xs font-bold rounded-lg transition-colors ${h.type==="income"?"bg-white dark:bg-slate-600 text-emerald-600 shadow-sm":"text-slate-500"}`,children:"Entrada"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Categoria"}),d.jsxs("div",{className:"relative",children:[d.jsx(yD,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"}),d.jsx("select",{value:h.category,onChange:U=>y({...h,category:U.target.value}),className:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 appearance-none",children:mIe.map(U=>d.jsx("option",{value:U,children:U},U))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Pagamento"}),d.jsxs("div",{className:"relative",children:[d.jsx(Xp,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"}),d.jsx("select",{value:h.paymentMethod,onChange:U=>y({...h,paymentMethod:U.target.value}),className:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 appearance-none",children:gIe.map(U=>d.jsx("option",{value:U.value,children:U.label},U.value))})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Status"}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("label",{className:`flex-1 cursor-pointer border rounded-xl p-3 flex items-center justify-center gap-2 transition-all ${h.status==="paid"?"bg-emerald-50 border-emerald-500 text-emerald-700 dark:bg-emerald-900/20":"border-slate-200 dark:border-slate-700"}`,children:[d.jsx("input",{type:"radio",name:"status",className:"hidden",checked:h.status==="paid",onChange:()=>y({...h,status:"paid"})}),d.jsx(jx,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm font-semibold",children:"Pago / Recebido"})]}),d.jsxs("label",{className:`flex-1 cursor-pointer border rounded-xl p-3 flex items-center justify-center gap-2 transition-all ${h.status==="pending"?"bg-amber-50 border-amber-500 text-amber-700 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700"}`,children:[d.jsx("input",{type:"radio",name:"status",className:"hidden",checked:h.status==="pending",onChange:()=>y({...h,status:"pending"})}),d.jsx(Jp,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm font-semibold",children:"Pendente"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Observaes (Opcional)"}),d.jsx("input",{type:"text",placeholder:"Detalhes adicionais...",value:h.observation,onChange:U=>y({...h,observation:U.target.value}),className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500"})]}),d.jsxs("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-lg shadow-indigo-500/20 transition-all flex items-center justify-center gap-2 mt-4",children:[d.jsx($i,{className:"w-5 h-5"})," Adicionar Transao"]})]})]})}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(qo,{className:"w-7 h-7 text-indigo-600"}),"Agenda Financeira"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Previso de gastos e controle de vencimentos."})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full md:w-auto",children:[d.jsx("button",{onClick:()=>yIe(S),className:"p-2 text-slate-500 hover:text-indigo-600 border border-slate-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800",title:"Exportar para Google Calendar / Outlook (.ics)",children:d.jsx(uD,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-1 flex-1 md:flex-none justify-center",children:[d.jsx("button",{onClick:T,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:d.jsx(Xw,{className:"w-5 h-5"})}),d.jsx("div",{className:"px-4 font-semibold text-slate-700 dark:text-slate-200 capitalize min-w-[140px] text-center",children:i.toLocaleDateString("pt-BR",{month:"long",year:"numeric"})}),d.jsx("button",{onClick:k,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:d.jsx(Hg,{className:"w-5 h-5"})})]})]})]}),d.jsx("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl gap-1 overflow-x-auto",children:[{id:"all",label:"Tudo",icon:dD},{id:"expense",label:"Sadas",icon:IA},{id:"income",label:"Entradas",icon:kA},{id:"pending",label:"Pendentes",icon:Jp}].map(U=>d.jsxs("button",{onClick:()=>u(U.id),className:`flex-1 min-w-[80px] py-2 text-xs font-semibold rounded-lg transition-all flex items-center justify-center gap-2
                    ${l===U.id?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[d.jsx(U.icon,{className:"w-3 h-3"})," ",U.label]},U.id))}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[d.jsx("div",{className:"grid grid-cols-7 bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:pIe.map(U=>d.jsx("div",{className:"py-3 text-center text-xs font-bold uppercase text-slate-500 dark:text-slate-400",children:U},U))}),d.jsx("div",{className:"grid grid-cols-7",children:q})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-0 overflow-hidden flex flex-col h-full min-h-[400px]",children:[d.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-900/50",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:s?`${s} de ${i.toLocaleDateString("pt-BR",{month:"long"})}`:"Resumo do Ms"}),s&&d.jsxs("button",{onClick:N,className:"mt-3 w-full py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-colors",children:[d.jsx($i,{className:"w-4 h-4"})," Adicionar neste dia"]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[s&&C.length===0&&d.jsxs("div",{className:"text-center py-10",children:[d.jsx(hd,{className:"w-12 h-12 text-slate-200 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Nenhuma movimentao."})]}),!s&&d.jsxs("div",{className:"text-center py-10",children:[d.jsx("div",{className:"inline-block p-4 rounded-full bg-slate-100 dark:bg-slate-700 mb-4",children:d.jsx(qo,{className:"w-8 h-8 text-indigo-500"})}),d.jsx("p",{className:"text-slate-500 font-medium",children:"Selecione um dia"}),d.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Clique no calendrio para ver detalhes ou adicionar contas."})]}),C.map((U,j)=>d.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${U.isGhost?"bg-slate-50 dark:bg-slate-800 border-dashed border-indigo-300 dark:border-indigo-700":"bg-white dark:bg-slate-700/50 border-slate-100 dark:border-slate-700"}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-full ${U.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100 text-rose-600 dark:bg-rose-900/30 dark:text-rose-400"}`,children:U.type==="income"?d.jsx(kA,{className:"w-4 h-4"}):d.jsx(IA,{className:"w-4 h-4"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"font-semibold text-slate-800 dark:text-white text-sm line-clamp-1",children:U.description}),U.isGhost&&d.jsx("span",{className:"text-[9px] bg-indigo-100 text-indigo-600 px-1.5 rounded uppercase font-bold",children:"Previsto"})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:U.category}),U.observation&&d.jsx("p",{className:"text-[10px] text-slate-400 italic mt-0.5",children:U.observation})]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:`font-bold text-sm ${U.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-slate-700 dark:text-slate-300"}`,children:D(U.amount)}),U.type==="expense"&&d.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${U.status==="pending"?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"}`,children:U.status==="pending"?"Pendente":"Pago"})]})]},U.id||j))]})]})]})]})},xIe=({data:t,privacyMode:e})=>{const[n,r]=G.useState([]),[i,o]=G.useState(""),[s,a]=G.useState(!1),[l,u]=G.useState(!1),c=G.useRef(null),f=G.useRef(null);G.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const x=window.SpeechRecognition||window.webkitSpeechRecognition;f.current=new x,f.current.continuous=!1,f.current.lang="pt-BR",f.current.interimResults=!1,f.current.onresult=w=>{const _=w.results[0][0].transcript;o(_),u(!1)},f.current.onerror=w=>{console.error("Speech error",w),u(!1)},f.current.onend=()=>{u(!1)}}},[]);const h=()=>{var x;(x=c.current)==null||x.scrollIntoView({behavior:"smooth"})};G.useEffect(()=>{h()},[n,s]);const y=()=>{var x;if(l)(x=f.current)==null||x.stop(),u(!1);else if(f.current)try{f.current.start(),u(!0)}catch(w){console.error(w)}else alert("Seu navegador no suporta reconhecimento de voz.")},v=async x=>{const w=i;if(!w.trim())return;const _={id:crypto.randomUUID(),role:"user",content:w,timestamp:new Date};r(S=>[...S,_]),o(""),a(!0);const E=crypto.randomUUID(),P={id:E,role:"assistant",content:"",timestamp:new Date};r(S=>[...S,P]);try{const S=qZ(w,n,t);let C="";for await(const I of S)C+=I,r(T=>T.map(k=>k.id===E?{...k,content:C}:k))}catch{r(C=>C.map(I=>I.id===E?{...I,content:"Desculpe, tive um erro ao processar sua resposta."}:I))}finally{a(!1)}},b=x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),v())};return d.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] animate-fade-in",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"bg-gradient-to-tr from-indigo-500 to-purple-600 p-3 rounded-xl shadow-lg shadow-indigo-500/20",children:d.jsx(Ls,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Assistente Inteligente"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Pergunte sobre seus gastos, investimentos ou pea conselhos."})]})]}),d.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 dark:bg-slate-900/50",children:[n.length===0&&d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 space-y-4 opacity-60",children:[d.jsx(Ox,{className:"w-16 h-16"}),d.jsxs("p",{className:"text-sm",children:["Estou analisando seus dados em tempo real.",d.jsx("br",{}),"Como posso ajudar hoje?"]})]}),n.map(x=>d.jsx("div",{className:`flex w-full ${x.role==="user"?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`flex max-w-[85%] md:max-w-[75%] gap-3 ${x.role==="user"?"flex-row-reverse":"flex-row"}`,children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${x.role==="user"?"bg-slate-200 dark:bg-slate-700":"bg-indigo-600"}`,children:x.role==="user"?d.jsx(d6,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"}):d.jsx(Ox,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{className:`p-4 rounded-2xl shadow-sm text-sm whitespace-pre-line leading-relaxed
                      ${x.role==="user"?"bg-white dark:bg-slate-700 text-slate-800 dark:text-white rounded-tr-none":"bg-indigo-600 text-white rounded-tl-none prose prose-invert max-w-none"}`,children:[x.content,s&&x.content===""&&d.jsxs("span",{className:"inline-flex gap-1",children:[d.jsx("span",{className:"w-1.5 h-1.5 bg-white/60 rounded-full animate-bounce"}),d.jsx("span",{className:"w-1.5 h-1.5 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"100ms"}}),d.jsx("span",{className:"w-1.5 h-1.5 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"200ms"}})]})]})]})},x.id)),d.jsx("div",{ref:c})]}),d.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"relative flex items-center gap-2",children:[d.jsx("button",{onClick:y,className:`p-3 rounded-xl transition-all ${l?"bg-rose-500 text-white animate-pulse shadow-lg shadow-rose-500/30":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,title:"Falar comando",children:l?d.jsx(u6,{className:"w-5 h-5"}):d.jsx(KB,{className:"w-5 h-5"})}),d.jsx("input",{type:"text",value:i,onChange:x=>o(x.target.value),onKeyDown:b,placeholder:l?"Ouvindo...":"Digite uma mensagem...",className:"flex-1 bg-slate-100 dark:bg-slate-700 dark:text-white border-0 rounded-xl px-4 py-3 focus:ring-2 focus:ring-indigo-500 outline-none",disabled:s}),d.jsx("button",{onClick:()=>v(),disabled:!i.trim()||s,className:"p-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-lg shadow-indigo-500/20",children:d.jsx(r6,{className:"w-5 h-5"})})]}),d.jsx("p",{className:"text-center text-[10px] text-slate-400 mt-2",children:"A IA pode cometer erros. Verifique informaes importantes."})]})]})]})},bIe=["Serasa Limpa Nome","Acordo Certo","Desenrola Brasil","SPC Brasil","Boa Vista (Consumidor Positivo)","Direto com Banco/Credor","QueroQuitar","Pessoal/Famlia","Outros"],_Ie=({debts:t,onAdd:e,onUpdate:n,onDelete:r,onAddTransaction:i,privacyMode:o,quickActionSignal:s})=>{const[a,l]=G.useState(!1),[u,c]=G.useState("all"),[f,h]=G.useState({isOpen:!1,debtId:""}),[y,v]=G.useState({date:new Date().toISOString().split("T")[0],amount:"",installments:1}),[b,x]=G.useState({isOpen:!1,debtId:"",currentValue:0}),[w,_]=G.useState("1"),[E,P]=G.useState({creditor:"",originalAmount:"",currentAmount:"",targetAmount:"",dueDate:"",status:"open",platform:"Serasa Limpa Nome",customPlatform:"",notes:""});G.useEffect(()=>{s&&Date.now()-s<2e3&&(l(!0),P({creditor:"",originalAmount:"",currentAmount:"",targetAmount:"",dueDate:"",status:"open",platform:"Serasa Limpa Nome",customPlatform:"",notes:""}))},[s]);const S=j=>{const F=new Date(j);return(new Date().getTime()-F.getTime())/(1e3*60*60*24*365.25)>=5},C=G.useMemo(()=>{let j=[...t];return u==="active"?j=j.filter(F=>!S(F.dueDate)):u==="prescribed"&&(j=j.filter(F=>S(F.dueDate))),j.sort((F,L)=>{const V=H=>H.status==="paid"?500:H.status==="agreement"?1:H.status==="negotiating"?2:S(H.dueDate)?4:3,z=V(F),Y=V(L);return z!==Y?z-Y:L.currentAmount-F.currentAmount})},[t,u]),I=j=>{j.preventDefault();const F=E.targetAmount?parseFloat(E.targetAmount):0,L=E.platform==="Outros"?E.customPlatform:E.platform;e({creditor:E.creditor,originalAmount:parseFloat(E.originalAmount),currentAmount:parseFloat(E.currentAmount),targetAmount:F,dueDate:E.dueDate,status:E.status,platform:L,notes:E.notes}),P({creditor:"",originalAmount:"",currentAmount:"",targetAmount:"",dueDate:"",status:"open",platform:"Serasa Limpa Nome",customPlatform:"",notes:""}),l(!1)},T=(j,F)=>{if(F==="agreement"&&j.status!=="agreement"){h({isOpen:!0,debtId:j.id});const L=j.targetAmount>0?j.targetAmount:j.currentAmount;v({date:new Date().toISOString().split("T")[0],amount:L.toString(),installments:1})}else n(j.id,{status:F})},k=j=>{j.preventDefault();const F=t.find(H=>H.id===f.debtId);if(!F)return;const L=parseFloat(y.amount),V=Math.max(1,Math.floor(y.installments)),z=L/V;n(F.id,{status:"agreement",agreedAmount:L});const Y=new Date(y.date);for(let H=0;H<V;H++){const J=new Date(Y);J.setMonth(Y.getMonth()+H);const ce=V>1?`Acordo: ${F.creditor} (${H+1}/${V})`:`Acordo: ${F.creditor}`;i({description:ce,amount:parseFloat(z.toFixed(2)),type:"expense",category:"Outros",date:J.toISOString().split("T")[0],status:"pending",paymentMethod:"pix",debtId:F.id})}alert(`Acordo registrado! ${V>1?`${V} parcelas agendadas`:"Pagamento agendado"}. A dvida ser quitada automaticamente quando todas as parcelas forem pagas.`),h({isOpen:!1,debtId:""})},N=j=>{x({isOpen:!0,debtId:j.id,currentValue:j.currentAmount}),_("1")},O=()=>{const j=t.find(F=>F.id===b.debtId);if(j){const F=parseFloat(w),L=j.currentAmount*(1+F/100);n(j.id,{currentAmount:L})}x({isOpen:!1,debtId:"",currentValue:0})},M=j=>o?"":`R$ ${j.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,D=t.filter(j=>j.status!=="paid").reduce((j,F)=>j+F.currentAmount,0),q=t.filter(j=>j.status!=="paid").reduce((j,F)=>j+F.targetAmount,0),U=t.filter(j=>j.status!=="paid"&&j.targetAmount>0).reduce((j,F)=>j+(F.currentAmount-F.targetAmount),0);return d.jsxs("div",{className:"space-y-6 animate-fade-in relative",children:[b.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-sm p-6 animate-scale-in",children:[d.jsx("div",{className:"flex justify-between items-center mb-4",children:d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Vi,{className:"w-5 h-5 text-rose-500"})," Atualizar Juros"]})}),d.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"O efeito bola de neve  real. Atualize o valor para manter o controle."}),d.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700 p-3 rounded-lg mb-4 flex justify-between items-center",children:[d.jsx("span",{className:"text-xs font-bold uppercase text-slate-500",children:"Valor Atual"}),d.jsx("span",{className:"font-mono font-bold text-slate-700 dark:text-white",children:M(b.currentValue)})]}),d.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[d.jsx("button",{onClick:()=>_("1"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-colors ${w==="1"?"bg-rose-100 text-rose-600 border border-rose-200":"bg-slate-50 dark:bg-slate-700 text-slate-500"}`,children:"+1%"}),d.jsx("button",{onClick:()=>_("2"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-colors ${w==="2"?"bg-rose-100 text-rose-600 border border-rose-200":"bg-slate-50 dark:bg-slate-700 text-slate-500"}`,children:"+2%"}),d.jsx("button",{onClick:()=>_("5"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-colors ${w==="5"?"bg-rose-100 text-rose-600 border border-rose-200":"bg-slate-50 dark:bg-slate-700 text-slate-500"}`,children:"+5%"}),d.jsxs("div",{className:"relative w-20",children:[d.jsx("input",{type:"number",value:w,onChange:j=>_(j.target.value),className:"w-full py-2 pl-2 pr-4 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 text-xs font-bold text-center outline-none focus:border-rose-500"}),d.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-slate-400",children:"%"})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>x({isOpen:!1,debtId:"",currentValue:0}),className:"flex-1 py-2.5 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg text-sm font-bold",children:"Cancelar"}),d.jsx("button",{onClick:O,className:"flex-1 py-2.5 bg-rose-600 text-white rounded-lg text-sm font-bold shadow-lg shadow-rose-500/20",children:"Aplicar"})]})]})}),f.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 border border-emerald-500/30 animate-scale-in",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4 text-emerald-600 dark:text-emerald-400",children:[d.jsx(Ih,{className:"w-8 h-8"}),d.jsx("h3",{className:"text-xl font-bold",children:"Oficializar Acordo"})]}),d.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm mb-6",children:"Qual foi o valor final negociado? Vamos atualizar o card e agendar o(s) pagamento(s)."}),d.jsxs("form",{onSubmit:k,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Valor Total Fechado (R$)"}),d.jsx("input",{type:"number",required:!0,step:"0.01",placeholder:"Valor total a pagar",value:y.amount,onChange:j=>v({...y,amount:j.target.value}),className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white font-bold text-lg outline-none focus:ring-2 focus:ring-emerald-500"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"1 Parcela"}),d.jsx("input",{type:"date",required:!0,value:y.date,onChange:j=>v({...y,date:j.target.value}),className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-emerald-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"N Parcelas"}),d.jsxs("div",{className:"relative",children:[d.jsx(Zw,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx("input",{type:"number",required:!0,min:"1",max:"60",value:y.installments,onChange:j=>v({...y,installments:parseInt(j.target.value)}),className:"w-full p-3 pl-9 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-emerald-500"})]})]})]}),d.jsxs("div",{className:"flex gap-3 mt-6",children:[d.jsx("button",{type:"button",onClick:()=>h({isOpen:!1,debtId:""}),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-200 rounded-lg font-medium",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"flex-1 py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-bold shadow-lg shadow-emerald-500/30",children:"Gerar Parcelas"})]})]})]})}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(md,{className:"w-7 h-7 text-rose-600"}),"Gesto de Dvidas (Limpa Nome)"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Controle suas pendncias e foque no que realmente importa."})]}),d.jsxs("button",{onClick:()=>l(!a),className:"flex items-center gap-2 bg-rose-600 text-white px-4 py-2 rounded-lg hover:bg-rose-700 transition-colors shadow-sm",children:[d.jsx($i,{className:"w-4 h-4"}),"Registrar Dvida"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-rose-100 dark:border-rose-900/30 shadow-sm",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-semibold uppercase",children:"Total da Dvida (Banco)"}),d.jsx("h3",{className:"text-2xl font-bold text-rose-600 dark:text-rose-400",children:M(D)}),d.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Valor cheio com juros"})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-emerald-100 dark:border-emerald-900/30 shadow-sm",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-semibold uppercase",children:"Valor para Quitao (Alvo)"}),d.jsx("h3",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:M(q)}),d.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Soma das metas definidas"})]}),d.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-600 text-white p-6 rounded-xl shadow-lg",children:[d.jsx("p",{className:"text-indigo-100 text-xs font-semibold uppercase",children:"Economia Potencial"}),d.jsx("h3",{className:"text-2xl font-bold",children:M(U)}),d.jsx("p",{className:"text-indigo-100 text-xs mt-1",children:"Baseado nas suas metas"})]})]}),a&&d.jsxs("form",{onSubmit:I,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-rose-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[d.jsx("div",{className:"col-span-1 md:col-span-2",children:d.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Registrar Nova Pendncia"})}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Instituio / Credor"}),d.jsx("input",{required:!0,type:"text",placeholder:"Ex: Banco X, Loja Y",value:E.creditor,onChange:j=>P({...E,creditor:j.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-rose-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Valor Original (R$)"}),d.jsx("input",{required:!0,type:"number",value:E.originalAmount,onChange:j=>P({...E,originalAmount:j.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Valor Atual c/ Juros (R$)"}),d.jsx("input",{required:!0,type:"number",value:E.currentAmount,onChange:j=>P({...E,currentAmount:j.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Data Vencimento Original"}),d.jsx("input",{required:!0,type:"date",value:E.dueDate,onChange:j=>P({...E,dueDate:j.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none"}),d.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"Importante para calcular a prescrio."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Meta de Acordo (Opcional)"}),d.jsx("input",{type:"number",placeholder:"Deixe em branco se no houver meta",value:E.targetAmount,onChange:j=>P({...E,targetAmount:j.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-emerald-500"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Plataforma de Negociao"}),d.jsx("select",{value:E.platform,onChange:j=>P({...E,platform:j.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none mb-2",children:bIe.map(j=>d.jsx("option",{value:j,children:j},j))}),E.platform==="Outros"&&d.jsx("div",{className:"animate-fade-in",children:d.jsx("input",{type:"text",placeholder:"Digite o nome da plataforma ou pessoa...",value:E.customPlatform,onChange:j=>P({...E,customPlatform:j.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-rose-500",autoFocus:!0})})]}),d.jsxs("div",{className:"md:col-span-2 flex justify-end gap-2 mt-2",children:[d.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 font-medium",children:"Salvar Dvida"})]})]}),d.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl gap-1 border border-slate-200 dark:border-slate-700",children:[d.jsxs("button",{onClick:()=>c("all"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2
               ${u==="all"?"bg-white dark:bg-slate-700 text-rose-600 dark:text-rose-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200/50 dark:hover:bg-slate-700/50"}`,children:[d.jsx(Lx,{className:"w-4 h-4"}),"Todas"]}),d.jsxs("button",{onClick:()=>c("active"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2
               ${u==="active"?"bg-white dark:bg-slate-700 text-amber-600 dark:text-amber-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200/50 dark:hover:bg-slate-700/50"}`,children:[d.jsx(oD,{className:"w-4 h-4"}),"Ativas"]}),d.jsxs("button",{onClick:()=>c("prescribed"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2
               ${u==="prescribed"?"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200/50 dark:hover:bg-slate-700/50"}`,children:[d.jsx(EB,{className:"w-4 h-4"}),"Prescritas"]})]}),d.jsx("div",{className:"flex flex-col gap-4",children:t.length===0?d.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[d.jsx(qa,{className:"w-12 h-12 text-emerald-500 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-800 dark:text-white font-medium",children:"Nome Limpo!"}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Nenhuma dvida registrada."})]}):C.length===0?d.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[d.jsx(Lx,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Nenhuma dvida encontrada neste filtro."})]}):C.map(j=>{const F=S(j.dueDate),L=j.status==="paid",V=j.status==="agreement",z=j.targetAmount&&j.targetAmount>0,Y=j.agreedAmount&&j.agreedAmount>0,H=Y?j.agreedAmount:j.targetAmount,J=z||Y?(j.currentAmount-H)/j.currentAmount*100:0;return d.jsxs("div",{className:`p-6 rounded-xl border transition-all relative overflow-hidden group ${L?"bg-slate-50 border-slate-200 opacity-75 grayscale-[0.8] dark:bg-slate-900 dark:border-slate-700":V?"bg-gradient-to-r from-emerald-50 to-white border-emerald-300 dark:from-emerald-900/10 dark:to-slate-800 dark:border-emerald-800 shadow-md ring-1 ring-emerald-500/20":F?"bg-slate-50 border-slate-200 dark:bg-slate-800 dark:border-slate-700":"bg-white border-rose-100 dark:bg-slate-800 dark:border-slate-700 shadow-sm hover:shadow-md hover:border-rose-300"}`,children:[L&&d.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10 pointer-events-none opacity-80 rotate-[-15deg]",children:d.jsxs("div",{className:"border-4 border-slate-400 text-slate-400 text-6xl font-black px-4 py-1 rounded-lg uppercase tracking-widest flex items-center gap-2",children:[d.jsx(Mx,{className:"w-12 h-12"})," RESOLVIDO"]})}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-start gap-4 relative z-0",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[V?d.jsxs("span",{className:"bg-emerald-100 text-emerald-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[d.jsx(Ih,{className:"w-3 h-3"})," ACORDO FECHADO"]}):j.status==="negotiating"?d.jsxs("span",{className:"bg-amber-100 text-amber-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[d.jsx(Ih,{className:"w-3 h-3"})," EM NEGOCIAO"]}):F?d.jsxs("span",{className:"bg-slate-200 text-slate-600 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[d.jsx(CA,{className:"w-3 h-3"})," PRESCRITA"]}):L?d.jsxs("span",{className:"bg-emerald-100 text-emerald-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[d.jsx(qa,{className:"w-3 h-3"})," QUITADA"]}):d.jsxs("span",{className:"bg-rose-100 text-rose-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[d.jsx(Yp,{className:"w-3 h-3"})," ATIVA"]}),j.platform&&d.jsxs("span",{className:"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1 border border-indigo-100 dark:border-indigo-800",children:[d.jsx(LB,{className:"w-3 h-3"})," ",j.platform]}),d.jsxs("span",{className:"text-xs text-slate-400 flex items-center gap-1 ml-auto md:ml-0",children:[d.jsx(hd,{className:"w-3 h-3"}),new Date(j.dueDate).toLocaleDateString("pt-BR")]})]}),d.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:j.creditor}),d.jsxs("div",{className:"mt-3 flex flex-wrap gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-slate-500",children:"Valor Original"}),d.jsx("p",{className:"font-medium text-slate-700 dark:text-slate-300",children:M(j.originalAmount)})]}),d.jsx("div",{className:"flex items-center text-slate-400",children:d.jsx(Yw,{className:"w-4 h-4"})}),d.jsxs("div",{className:"group/value cursor-pointer",onClick:()=>!L&&!V&&N(j),title:"Clique para atualizar juros",children:[d.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1",children:["Valor Atual",!L&&!V&&d.jsx(Vi,{className:"w-3 h-3 text-rose-500 opacity-50 group-hover/value:opacity-100"})]}),d.jsx("p",{className:`font-bold transition-colors ${L?"text-slate-500":F?"text-slate-600 dark:text-slate-400":"text-rose-600 group-hover/value:text-rose-700"}`,children:M(j.currentAmount)})]})]})]}),d.jsx("div",{className:`p-3 rounded-lg border min-w-[200px] flex flex-col justify-center ${V?"bg-white border-emerald-200 shadow-sm":"bg-slate-50 dark:bg-slate-700/50 border-slate-100 dark:border-slate-700"}`,children:V&&Y?d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-xs text-emerald-500 font-bold mb-1 flex items-center gap-1",children:[d.jsx(qa,{className:"w-3 h-3"})," Valor Acordado"]}),d.jsx("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:M(j.agreedAmount)}),d.jsxs("p",{className:"text-[10px] text-emerald-600/70 mt-1",children:["Economia de ",J.toFixed(0),"%"]})]}):z?d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium mb-1 flex items-center gap-1",children:[d.jsx(Ws,{className:"w-3 h-3 text-slate-400"})," Meta de Acordo"]}),d.jsx("p",{className:"text-xl font-bold text-emerald-600 dark:text-emerald-400",children:M(j.targetAmount)}),d.jsxs("p",{className:"text-[10px] text-emerald-600/70 mt-1",children:["Desconto Alvo: ",J.toFixed(0),"%"]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-xs text-slate-400 font-medium mb-1 flex items-center gap-1",children:[d.jsx(FB,{className:"w-3 h-3"})," Meta"]}),d.jsx("p",{className:"text-sm font-semibold text-slate-400 dark:text-slate-500 italic",children:"Sem meta definida"})]})}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("select",{value:j.status,onChange:ce=>T(j,ce.target.value),className:`text-xs border rounded-lg p-1.5 outline-none font-medium cursor-pointer ${V?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-200"}`,children:[d.jsx("option",{value:"open",children:"Em Aberto"}),d.jsx("option",{value:"negotiating",children:"Em Negociao"}),d.jsx("option",{value:"agreement",children:"Acordo Fechado"}),d.jsx("option",{value:"paid",children:"Quitado"})]}),d.jsx("button",{onClick:()=>r(j.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors self-end",title:"Excluir Registro",children:d.jsx(lu,{className:"w-4 h-4"})})]})]}),d.jsx("div",{className:"mt-4 pt-3 border-t border-slate-100 dark:border-slate-700/50 text-xs flex items-start gap-2",children:L?d.jsxs("p",{className:"text-emerald-600 dark:text-emerald-400 flex items-center gap-1 font-medium",children:[d.jsx(qa,{className:"w-4 h-4"})," Dvida liquidada com sucesso. Parabns pela organizao!"]}):V?d.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-2 rounded w-full",children:[d.jsxs("p",{className:"text-emerald-700 dark:text-emerald-300 flex items-center gap-1 font-semibold",children:[d.jsx(qo,{className:"w-4 h-4"})," Acordo Firmado: ",M(j.agreedAmount||0)]}),d.jsxs("p",{className:"text-emerald-600/80 dark:text-emerald-400/80 mt-1 pl-5",children:["No esquea de pagar na data combinada. ",j.agreedAmount&&j.agreedAmount>0?"As parcelas j foram lanadas no seu fluxo.":""]})]}):j.status==="negotiating"?d.jsxs("p",{className:"text-amber-600 dark:text-amber-400 flex items-center gap-1",children:[d.jsx(Ih,{className:"w-4 h-4"})," Voc iniciou contatos. Mantenha a presso para conseguir o melhor desconto."]}):F?d.jsxs("p",{className:"text-slate-500 flex items-center gap-1",children:[d.jsx(CA,{className:"w-4 h-4"})," Dvida antiga (+5 anos). No afeta score, negocie apenas se tiver sobra de caixa."]}):d.jsxs("p",{className:"text-rose-600 dark:text-rose-400 flex items-center gap-1 font-medium",children:[d.jsx(md,{className:"w-4 h-4"})," Prioridade Alta! Esta dvida est ativa e impactando seu crdito. Tente negociar."]})})]},j.id)})})]})},Qh=["Hortifruti","Carnes","Laticnios","Mercearia","Padaria","Bebidas","Limpeza","Higiene","Outros"],wIe=({items:t,onAdd:e,onUpdate:n,onDelete:r,onClearList:i,onFinishShopping:o,shoppingBudget:s=0,onUpdateBudget:a,hasApiKey:l=!1,privacyMode:u,quickActionSignal:c})=>{const[f,h]=G.useState(""),[y,v]=G.useState("Outros"),[b,x]=G.useState(!1),[w,_]=G.useState(!1),[E,P]=G.useState(""),[S,C]=G.useState(!1),[I,T]=G.useState(!1),[k,N]=G.useState(s.toString()),[O,M]=G.useState("Alimentos"),[D,q]=G.useState("debit_card"),U=G.useMemo(()=>t.reduce((W,ie)=>W+ie.actualPrice*ie.quantity,0),[t]),j=G.useMemo(()=>{const W={};return Qh.forEach(ie=>W[ie]=[]),t.forEach(ie=>{const fe=ie.category||"Outros";W[fe]||(W[fe]=[]),W[fe].push(ie)}),W},[t]);G.useEffect(()=>{if(c){const W=document.getElementById("new-item-input");W&&W.focus()}},[c]);const F=W=>{W.preventDefault(),f.trim()&&(e({name:f.trim(),quantity:1,actualPrice:0,isChecked:!1,category:y}),h(""),v("Outros"))},L=async W=>{if(W.preventDefault(),!E.trim())return;C(!0),(await UZ(E)).forEach(fe=>{e({...fe,actualPrice:0,isChecked:!1})}),C(!1),_(!1),P("")},V=(W,ie,fe)=>{const Re=Math.max(1,ie+fe);n(W,{quantity:Re})},z=()=>{if(U===0){alert("O valor total est zerado. Adicione preos aos itens para lanar a despesa.");return}o(U,D,O),x(!1)},Y=()=>{const W=parseFloat(k);isNaN(W)||a(W),T(!1)},H=W=>u?"":`R$ ${W.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,J=s>0?U/s*100:0;let ce="bg-emerald-500";return J>100?ce="bg-rose-500":J>85&&(ce="bg-amber-500"),d.jsxs("div",{className:"space-y-6 animate-fade-in relative pb-32 md:pb-0",children:[b&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-sm p-6 border border-emerald-500/30 animate-scale-in",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Xp,{className:"w-6 h-6 text-emerald-500"})," Finalizar Compra"]}),d.jsx("button",{onClick:()=>x(!1),className:"text-slate-400 hover:text-slate-600",children:d.jsx(Gr,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-4 rounded-xl mb-6 text-center border border-emerald-100 dark:border-emerald-800",children:[d.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400 uppercase font-bold mb-1",children:"Valor Final a Lanar"}),d.jsx("p",{className:"text-3xl font-bold text-emerald-700 dark:text-emerald-300",children:H(U)})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Categoria da Despesa"}),d.jsxs("select",{value:O,onChange:W=>M(W.target.value),className:"w-full p-2.5 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none",children:[d.jsx("option",{value:"Alimentos",children:"Alimentos"}),d.jsx("option",{value:"Casa",children:"Casa"}),d.jsx("option",{value:"Lazer",children:"Lazer"}),d.jsx("option",{value:"Pets",children:"Pets"}),d.jsx("option",{value:"Outros",children:"Outros"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Forma de Pagamento"}),d.jsxs("select",{value:D,onChange:W=>q(W.target.value),className:"w-full p-2.5 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none",children:[d.jsx("option",{value:"credit_card",children:"Carto de Crdito"}),d.jsx("option",{value:"debit_card",children:"Carto de Dbito"}),d.jsx("option",{value:"cash",children:"Dinheiro"}),d.jsx("option",{value:"pix",children:"PIX"}),d.jsx("option",{value:"ticket",children:"Vale Alimentao/Refeio"})]})]}),d.jsxs("button",{onClick:z,className:"w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-bold shadow-lg shadow-emerald-500/30 flex items-center justify-center gap-2 mt-4",children:[d.jsx(jx,{className:"w-5 h-5"})," Confirmar e Lanar"]})]})]})}),w&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 border border-purple-200 dark:border-purple-800 animate-scale-in",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Ls,{className:"w-5 h-5 text-purple-600"})," Assistente de Compras"]}),d.jsx("button",{onClick:()=>_(!1),className:"text-slate-400 hover:text-slate-600",children:d.jsx(Gr,{className:"w-5 h-5"})})]}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:'O que vamos comprar? Digite uma receita (ex: "Strogonoff para 4") ou um evento (ex: "Churrasco fim de semana") e eu gero a lista.'}),d.jsxs("form",{onSubmit:L,children:[d.jsx("input",{autoFocus:!0,type:"text",value:E,onChange:W=>P(W.target.value),placeholder:"Ex: Ingredientes para bolo de cenoura...",className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-purple-500 mb-4"}),d.jsxs("button",{type:"submit",disabled:S||!E,className:"w-full py-2.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-bold shadow-md disabled:opacity-50 flex items-center justify-center gap-2",children:[S?d.jsx("span",{className:"animate-spin",children:""}):d.jsx(kB,{className:"w-5 h-5"}),"Gerar Lista"]})]})]})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Zp,{className:"w-7 h-7 text-indigo-600"}),"Lista de Compras"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Organize sua ida ao mercado."})]}),d.jsxs("button",{onClick:()=>_(!0),disabled:!l,className:`hidden md:flex items-center gap-2 px-4 py-2 rounded-lg font-bold text-xs uppercase tracking-wide transition-all shadow-sm ${l?"bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900/30 dark:text-purple-300":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[d.jsx(Ls,{className:"w-4 h-4"})," Gerar com IA"]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex justify-between items-end mb-2",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] font-bold uppercase text-slate-400 tracking-wider mb-1",children:"Total Calculado"}),d.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:H(U)})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"text-[10px] font-bold uppercase text-slate-400 tracking-wider mb-1 flex items-center justify-end gap-1 cursor-pointer hover:text-indigo-500",onClick:()=>{T(!0),N(s.toString())},children:["Teto de Gastos (Viagem) ",d.jsx(yD,{className:"w-3 h-3"})]}),I?d.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[d.jsx("span",{className:"text-sm font-bold text-slate-500",children:"R$"}),d.jsx("input",{autoFocus:!0,type:"number",className:"w-24 p-1 text-right font-bold border rounded dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:k,onChange:W=>N(W.target.value),onKeyDown:W=>W.key==="Enter"&&Y(),onBlur:Y})]}):d.jsx("p",{className:"text-xl font-bold text-slate-600 dark:text-slate-400 cursor-pointer hover:text-indigo-500",onClick:()=>{T(!0),N(s.toString())},children:s>0?H(s):"Definir Teto"})]})]}),s>0&&d.jsxs("div",{className:"relative w-full h-4 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:[d.jsx("div",{className:`h-full transition-all duration-500 ${ce}`,style:{width:`${Math.min(100,J)}%`}}),J>100&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("span",{className:"text-[9px] font-bold text-white drop-shadow-md animate-pulse flex items-center gap-1",children:[d.jsx(Yp,{className:"w-3 h-3"})," ACIMA DO ORAMENTO"]})})]})]})]}),d.jsxs("form",{onSubmit:F,className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-1 flex gap-2",children:[d.jsx("input",{id:"new-item-input",type:"text",value:f,onChange:W=>h(W.target.value),placeholder:"Adicionar item...",className:"flex-1 p-3 pl-4 rounded-xl border border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm",autoComplete:"off"}),d.jsx("select",{value:y,onChange:W=>v(W.target.value),className:"hidden md:block w-32 p-3 rounded-xl border border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm text-sm",children:Qh.map(W=>d.jsx("option",{value:W,children:W},W))})]}),d.jsx("button",{type:"submit",disabled:!f.trim(),className:"px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl shadow-md disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d.jsx($i,{className:"w-6 h-6"})})]}),d.jsx("div",{className:"md:hidden overflow-x-auto pb-2 -mt-4",children:d.jsx("div",{className:"flex gap-2 px-1",children:Qh.map(W=>d.jsx("button",{type:"button",onClick:()=>v(W),className:`px-3 py-1.5 rounded-full text-xs font-bold border whitespace-nowrap ${y===W?"bg-indigo-600 text-white border-indigo-600":"bg-white dark:bg-slate-800 text-slate-500 border-slate-200 dark:border-slate-700"}`,children:W},W))})}),d.jsx("div",{className:"space-y-6",children:t.length===0?d.jsxs("div",{className:"p-12 text-center text-slate-400 flex flex-col items-center bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-200 dark:border-slate-700",children:[d.jsx(Zp,{className:"w-16 h-16 mb-4 opacity-20"}),d.jsx("p",{children:"Sua lista est vazia."}),l&&d.jsx("p",{className:"text-sm mt-2 text-purple-500 cursor-pointer hover:underline",onClick:()=>_(!0),children:"Experimente usar a IA para criar uma lista!"})]}):Qh.map(W=>{const ie=j[W];return!ie||ie.length===0?null:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[d.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 px-4 py-2 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[d.jsxs("h3",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[d.jsx(GB,{className:"w-3 h-3"})," ",W]}),d.jsx("span",{className:"text-[10px] font-bold bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-1.5 py-0.5 rounded-full",children:ie.length})]}),d.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:ie.map(fe=>d.jsxs("div",{className:`p-4 flex flex-col sm:flex-row sm:items-center gap-4 transition-colors ${fe.isChecked?"bg-slate-50/50 dark:bg-slate-700/30":""}`,children:[d.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[d.jsx("button",{onClick:()=>n(fe.id,{isChecked:!fe.isChecked}),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all flex-shrink-0 ${fe.isChecked?"bg-emerald-500 border-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-emerald-400"}`,children:d.jsx(jx,{className:"w-4 h-4"})}),d.jsx("span",{className:`font-medium text-lg truncate ${fe.isChecked?"text-slate-400 line-through":"text-slate-700 dark:text-slate-200"}`,children:fe.name})]}),d.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-4 w-full sm:w-auto",children:[d.jsxs("div",{className:"flex items-center bg-slate-100 dark:bg-slate-700 rounded-lg p-1",children:[d.jsx("button",{onClick:()=>V(fe.id,fe.quantity,-1),className:"p-1.5 text-slate-500 hover:text-indigo-600",children:d.jsx(JB,{className:"w-4 h-4"})}),d.jsx("span",{className:"w-8 text-center font-bold text-slate-700 dark:text-white text-sm",children:fe.quantity}),d.jsx("button",{onClick:()=>V(fe.id,fe.quantity,1),className:"p-1.5 text-slate-500 hover:text-indigo-600",children:d.jsx($i,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-xs font-bold",children:"R$"}),d.jsx("input",{type:"number",step:"0.01",placeholder:"0,00",value:fe.actualPrice===0?"":fe.actualPrice,onChange:Re=>n(fe.id,{actualPrice:parseFloat(Re.target.value)||0}),className:`w-24 pl-8 pr-2 py-2 rounded-lg border outline-none font-bold text-right transition-colors ${fe.actualPrice>0?"border-emerald-300 dark:border-emerald-700 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400":"border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:border-indigo-500"}`})]}),d.jsx("button",{onClick:()=>r(fe.id),className:"p-2 text-slate-300 hover:text-rose-500 transition-colors",children:d.jsx(lu,{className:"w-5 h-5"})})]})]},fe.id))})]},W)})}),d.jsxs("div",{className:"fixed bottom-20 left-1/2 -translate-x-1/2 md:hidden z-30 flex gap-2 w-[90%] max-w-sm",children:[d.jsx("button",{onClick:()=>_(!0),disabled:!l,className:"bg-white dark:bg-slate-800 text-purple-600 p-4 rounded-full shadow-lg border border-purple-100 dark:border-purple-900 disabled:opacity-50",children:d.jsx(Ls,{className:"w-6 h-6"})}),d.jsxs("button",{onClick:()=>x(!0),disabled:t.length===0,className:"flex-1 bg-slate-900 text-white rounded-full shadow-xl font-bold flex items-center justify-between px-6 hover:scale-105 transition-transform disabled:opacity-70 disabled:scale-100",children:[d.jsxs("div",{className:"flex flex-col items-start leading-tight",children:[d.jsx("span",{className:"text-[10px] text-emerald-400 uppercase font-bold",children:"Total"}),d.jsx("span",{className:"text-lg",children:H(U)})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm bg-white/10 px-3 py-1.5 rounded-lg",children:["Finalizar ",d.jsx(Yw,{className:"w-4 h-4"})]})]})]})]})},EIe={age:30,retirementAge:60,riskProfile:"moderate"},q2={conservative:.03,moderate:.05,aggressive:.07},TIe=({data:t,onSaveProfile:e,privacyMode:n,hasApiKey:r})=>{const[i,o]=G.useState(t.wealthProfile||EIe),[s,a]=G.useState(!t.wealthProfile),[l,u]=G.useState(null),[c,f]=G.useState(!1),h=G.useMemo(()=>t.investments.reduce((S,C)=>S+C.amount,0),[t.investments]),y=G.useMemo(()=>t.debts.filter(S=>S.status!=="paid").reduce((S,C)=>S+C.currentAmount,0),[t.debts]),v=h-y,b=G.useMemo(()=>{const S=t.transactions.filter(T=>T.type==="income").reduce((T,k)=>T+k.amount,0),C=t.transactions.filter(T=>T.type==="expense").reduce((T,k)=>T+k.amount,0);if(S===0&&C===0)return{income:5e3,expense:4e3,savings:1e3};const I=S-C;return{income:S,expense:C>0?C:S*.8,savings:I}},[t.transactions]),x=i.monthlyContributionOverride!==void 0?i.monthlyContributionOverride:Math.max(0,b.savings),w=G.useMemo(()=>{const S=[],C=new Date().getFullYear(),I=i.retirementAge-i.age+10,T=q2[i.riskProfile],k=x*12,N=b.expense*12;let O=v,M=null;for(let D=0;D<=I;D++){const q=C+D,U=i.age+D,j=O*.04;!M&&j>=N&&(M=q),S.push({year:q,age:U,patrimonio:Math.round(O),rendaPassiva:Math.round(j/12),custoVida:Math.round(b.expense)}),U<i.retirementAge?O=O*(1+T)+k:O=O*(1+T)}return{chartData:S,freedomYear:M}},[i,v,x,b.expense]),_=()=>{e(i),a(!1)},E=async()=>{f(!0);const S=await zZ(t.investments,i.riskProfile,i.age);u(S),f(!1)},P=S=>n?"":`R$ ${S.toLocaleString("pt-BR",{maximumFractionDigits:0})}`;return d.jsxs("div",{className:"space-y-8 animate-fade-in pb-10",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 border-b border-slate-200 dark:border-slate-700 pb-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-lg shadow-lg shadow-yellow-500/20 text-white",children:d.jsx(MB,{className:"w-6 h-6"})}),"NEXO Private"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Planejamento patrimonial e alocao estratgica de ativos."})]}),!s&&d.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-sm font-semibold hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Ajustar Perfil"})]}),s&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border-l-4 border-yellow-500 animate-scale-in",children:[d.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[d.jsx($x,{className:"w-5 h-5 text-yellow-500"})," Parmetros da Simulao"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Idade Atual"}),d.jsx("input",{type:"number",value:i.age,onChange:S=>o({...i,age:Number(S.target.value)}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Idade Aposentadoria"}),d.jsx("input",{type:"number",value:i.retirementAge,onChange:S=>o({...i,retirementAge:Number(S.target.value)}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Perfil de Risco"}),d.jsxs("select",{value:i.riskProfile,onChange:S=>o({...i,riskProfile:S.target.value}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600",children:[d.jsx("option",{value:"conservative",children:"Conservador"}),d.jsx("option",{value:"moderate",children:"Moderado"}),d.jsx("option",{value:"aggressive",children:"Arrojado"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Aporte Mensal (Simulado)"}),d.jsx("input",{type:"number",placeholder:`Atual: R$ ${b.savings.toFixed(0)}`,value:i.monthlyContributionOverride||"",onChange:S=>o({...i,monthlyContributionOverride:Number(S.target.value)}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]})]}),d.jsx("div",{className:"mt-6 flex justify-end",children:d.jsx("button",{onClick:_,className:"bg-slate-900 dark:bg-white dark:text-slate-900 text-white px-6 py-2 rounded-lg font-bold hover:opacity-90 transition-opacity",children:"Atualizar Projeo"})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 bg-slate-900 text-white p-6 rounded-xl shadow-2xl relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl pointer-events-none"}),d.jsxs("div",{className:"relative z-10 flex justify-between items-start mb-6",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[d.jsx(Vi,{className:"w-5 h-5 text-emerald-400"}),"Liberdade Financeira"]}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Cruzamento entre Renda Passiva e Custo de Vida."})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-xs text-slate-400 uppercase font-bold",children:"Ano da Liberdade"}),d.jsx("p",{className:"text-3xl font-bold text-yellow-400",children:w.freedomYear||"Em construo..."})]})]}),d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(Uo,{width:"100%",height:"100%",children:d.jsxs(sIe,{data:w.chartData,margin:{top:10,right:10,left:0,bottom:0},children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"colorPassive",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),d.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),d.jsx(Ql,{strokeDasharray:"3 3",vertical:!1,stroke:"#334155"}),d.jsx(li,{dataKey:"year",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8"}}),d.jsx(ui,{hide:!0,domain:["auto","auto"]}),d.jsx(on,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"8px",color:"#fff"},formatter:S=>[P(S),""]}),d.jsx(zf,{y:b.expense,stroke:"#f43f5e",strokeDasharray:"3 3",label:{value:"Custo Vida",fill:"#f43f5e",fontSize:10}}),d.jsx(ls,{type:"monotone",dataKey:"rendaPassiva",stroke:"#10b981",fillOpacity:1,fill:"url(#colorPassive)",name:"Renda Passiva"})]})})})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 flex flex-col justify-center",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Patrimnio Lquido Atual"}),d.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:P(v)})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Ativos Investidos"}),d.jsx("span",{className:"font-semibold text-emerald-600",children:P(h)})]}),d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Dvidas Totais"}),d.jsx("span",{className:"font-semibold text-rose-600",children:P(y)})]}),d.jsx("div",{className:"w-full h-px bg-slate-200 dark:bg-slate-700 my-2"}),d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Aporte Mensal"}),d.jsx("span",{className:"font-semibold text-indigo-600",children:P(x)})]}),d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Rentabilidade Real (Proj.)"}),d.jsxs("span",{className:"font-semibold text-slate-800 dark:text-white",children:[(q2[i.riskProfile]*100).toFixed(1),"% a.a."]})]})]}),y>h&&d.jsxs("div",{className:"mt-6 bg-rose-50 dark:bg-rose-900/20 p-3 rounded-lg flex items-start gap-2",children:[d.jsx(o6,{className:"w-5 h-5 text-rose-600 shrink-0"}),d.jsx("p",{className:"text-xs text-rose-800 dark:text-rose-300",children:"Ateno: Seu patrimnio est negativo. A prioridade do planejamento deve ser a quitao de dvidas antes da acumulao."})]})]})]}),d.jsxs("div",{className:"mt-8",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(aD,{className:"w-6 h-6 text-purple-600"}),"Alocao Inteligente (IA)"]}),d.jsxs("button",{onClick:E,disabled:!r||c,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-semibold text-sm shadow-md",children:[c?d.jsx("span",{className:"animate-spin",children:""}):d.jsx(Ls,{className:"w-4 h-4"}),l?"Atualizar Anlise":"Gerar Estratgia Private"]})]}),!r&&d.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-8 rounded-xl text-center border border-dashed border-slate-300 dark:border-slate-600",children:[d.jsx($x,{className:"w-10 h-10 text-slate-400 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Configure sua Chave API para desbloquear a inteligncia de alocao de ativos."})]}),r&&l&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700",children:[d.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-3",children:"Diagnstico do Portflio"}),d.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm leading-relaxed mb-6",children:l.analysisText}),d.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-3",children:"Plano de Ao Ttico"}),d.jsx("div",{className:"space-y-3",children:l.actionItems.map((S,C)=>d.jsxs("div",{className:"flex gap-3 p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg border border-slate-100 dark:border-slate-700",children:[d.jsx("div",{className:`
                                      w-10 h-10 rounded-full flex items-center justify-center shrink-0 font-bold text-xs
                                      ${S.type==="buy"?"bg-emerald-100 text-emerald-700":S.type==="sell"?"bg-rose-100 text-rose-700":"bg-blue-100 text-blue-700"}
                                  `,children:S.type==="buy"?"COMPRA":S.type==="sell"?"VENDA":"MANTER"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-slate-800 dark:text-white text-sm",children:S.title}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:S.description})]})]},C))})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 flex flex-col items-center justify-center",children:[d.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-2 self-start",children:"Atual vs. Ideal (Modelo)"}),d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(Uo,{width:"100%",height:"100%",children:d.jsxs(oIe,{cx:"50%",cy:"50%",outerRadius:"80%",data:l.suggestedAllocation.map(S=>{const C=l.currentAllocation.find(I=>I.name===S.name);return{subject:S.name,A:C?C.value:0,B:S.value,fullMark:100}}),children:[d.jsx(mV,{stroke:"#94a3b8"}),d.jsx(Mu,{dataKey:"subject",tick:{fill:"#64748b",fontSize:10}}),d.jsx(Ou,{angle:30,domain:[0,100],tick:!1}),d.jsx(zl,{name:"Sua Carteira",dataKey:"A",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.3}),d.jsx(zl,{name:"Ideal (IA)",dataKey:"B",stroke:"#10b981",fill:"#10b981",fillOpacity:.3}),d.jsx(ni,{}),d.jsx(on,{})]})})}),d.jsx("p",{className:"text-xs text-center text-slate-400 mt-2",children:"Comparativo de % de alocao por classe de ativo."})]})]})]})]})},SIe=({user:t,isGuest:e,mobileMenuOpen:n,setMobileMenuOpen:r,currentView:i,onNavigate:o,onLogout:s,privacyMode:a,setPrivacyMode:l,darkMode:u,setDarkMode:c,isFullscreen:f,toggleFullscreen:h,hasKey:y,onOpenKeyModal:v,onOpenDonateModal:b,onExportBackup:x,onImportBackup:w,onFactoryReset:_,canInstall:E,onInstall:P})=>{var T,k;const S=G.useRef(null),C=N=>{o(N),r(!1)},I=({view:N,icon:O,label:M,customClass:D=""})=>d.jsxs("button",{onClick:()=>C(N),className:`flex w-full items-center gap-3 px-3 py-2.5 rounded-lg transition-all text-sm font-medium ${D} ${i===N?"bg-indigo-600 text-white shadow-md shadow-indigo-900/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[d.jsx(O,{className:`w-5 h-5 ${i!==N&&D?"text-purple-400 group-hover:text-white":""}`}),d.jsx("div",{className:"flex-1 flex justify-between items-center",children:d.jsx("span",{children:M})})]});return d.jsxs("nav",{className:`
         fixed md:sticky top-0 left-0 h-screen z-50 w-72 md:w-64 bg-slate-900 border-r border-slate-800 
         transform transition-transform duration-300 ease-in-out shadow-2xl flex flex-col
         ${n?"translate-x-0":"-translate-x-full md:translate-x-0"}
       `,children:[d.jsxs("div",{className:"flex items-center justify-between p-4 md:p-4 border-b border-slate-800 shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-indigo-600 p-2 rounded-xl shadow-lg shadow-indigo-900/50",children:d.jsx(Qw,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-bold text-white tracking-tight leading-none",children:"NEXO"}),d.jsx("span",{className:"text-[10px] text-slate-400 font-medium uppercase tracking-wider",children:"Financial Hub"})]})]}),d.jsx("button",{onClick:()=>r(!1),className:"md:hidden text-slate-400 hover:text-white",children:d.jsx(Gr,{className:"w-6 h-6"})})]}),d.jsx("div",{className:"p-4 shrink-0",children:d.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 bg-slate-800/50 rounded-lg border border-slate-700/50 backdrop-blur-sm",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center border border-slate-600 overflow-hidden text-xs text-white",children:t!=null&&t.photoURL?d.jsx("img",{src:t.photoURL,alt:"User"}):((T=t==null?void 0:t.email)==null?void 0:T.substring(0,2).toUpperCase())||"CV"}),d.jsxs("div",{className:"overflow-hidden flex-1 min-w-0",children:[d.jsx("p",{className:"text-xs font-bold text-white truncate",title:(t==null?void 0:t.email)||"Convidado",children:((k=t==null?void 0:t.email)==null?void 0:k.split("@")[0])||"Convidado"}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${t?"bg-emerald-500":"bg-amber-500"}`}),d.jsx("p",{className:"text-[10px] text-slate-400",children:t?"Online (Cloud)":"Offline (Local)"})]})]}),d.jsx("button",{onClick:s,className:"text-slate-400 hover:text-rose-500",title:"Sair",children:d.jsx(zB,{className:"w-4 h-4"})})]})}),d.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-2 flex flex-col no-scrollbar",children:[d.jsxs("div",{className:"mb-6 space-y-1",children:[d.jsx("p",{className:"px-2 text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2",children:"Viso Geral"}),d.jsx(I,{view:$e.DASHBOARD,icon:BB,label:"Dashboard"}),d.jsx(I,{view:$e.TRANSACTIONS,icon:e6,label:"Transaes"}),d.jsx(I,{view:$e.CALENDAR,icon:qo,label:"Agenda"})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"px-2 text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Gesto Financeira"}),d.jsx(I,{view:$e.BUDGETS,icon:Ws,label:"Metas"}),d.jsx(I,{view:$e.SUBSCRIPTIONS,icon:jo,label:"Assinaturas"}),d.jsx(I,{view:$e.INVESTMENTS,icon:pD,label:"Investir"}),d.jsx(I,{view:$e.DEBTS,icon:md,label:"Limpa Nome"}),d.jsx(I,{view:$e.SHOPPING_LIST,icon:Zp,label:"Lista de Compras"}),d.jsx(I,{view:$e.WEALTH_PLANNER,icon:hD,label:"Planejamento",customClass:"text-amber-400"})]}),d.jsx("div",{className:"mt-6 pt-4 border-t border-slate-800",children:d.jsx("button",{onClick:()=>y?C($e.AI_ASSISTANT):v(),className:`w-full relative group overflow-hidden rounded-xl p-[1px] transition-all duration-300 ${i===$e.AI_ASSISTANT?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 shadow-lg shadow-purple-500/20":"bg-slate-700/50 hover:bg-gradient-to-r hover:from-indigo-500 hover:via-purple-500 hover:to-pink-500"}`,children:d.jsxs("div",{className:"relative flex items-center gap-3 px-3 py-3 rounded-[11px] bg-slate-900 transition-colors h-full",children:[d.jsx("div",{className:`p-1.5 rounded-lg ${i===$e.AI_ASSISTANT?"bg-indigo-500/20":"bg-slate-800 group-hover:bg-slate-800"}`,children:d.jsx(WB,{className:`w-5 h-5 ${i===$e.AI_ASSISTANT?"text-indigo-400":"text-slate-400 group-hover:text-white"}`})}),d.jsxs("div",{className:"flex-1 text-left",children:[d.jsx("p",{className:`text-sm font-bold ${i===$e.AI_ASSISTANT?"text-white":"text-slate-300 group-hover:text-white"}`,children:"NEXO AI"}),d.jsx("p",{className:"text-[10px] text-slate-500 group-hover:text-slate-400",children:"Assistente Virtual"})]}),!y&&d.jsx(pd,{className:"w-3 h-3 text-rose-500 animate-pulse"})]})})})]}),d.jsxs("div",{className:"mt-auto p-4 border-t border-slate-800 bg-slate-900 shrink-0",children:[E&&d.jsxs("button",{onClick:P,className:"w-full mb-4 flex items-center justify-center gap-2 p-2 rounded-lg bg-emerald-600 text-white text-xs font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-500/20",children:[d.jsx(sD,{className:"w-3 h-3"})," Instalar App (PWA)"]}),d.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Configuraes & Dados"}),d.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[d.jsx("button",{onClick:h,className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-white transition-all border border-slate-800 hover:border-slate-700",title:f?"Sair da Tela Cheia":"Tela Cheia",children:f?d.jsx(YB,{className:"w-5 h-5"}):d.jsx(qB,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>l(!a),className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-white transition-all border border-slate-800 hover:border-slate-700",title:a?"Mostrar Valores":"Ocultar Valores",children:a?d.jsx(RB,{className:"w-5 h-5"}):d.jsx(OB,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>c(!u),className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-white transition-all border border-slate-800 hover:border-slate-700",title:u?"Modo Claro":"Modo Escuro",children:u?d.jsx(c6,{className:"w-5 h-5"}):d.jsx(XB,{className:"w-5 h-5"})}),d.jsx("button",{onClick:v,className:`flex items-center justify-center p-2 rounded-lg transition-all border border-slate-800 hover:border-slate-700 ${y?"text-emerald-400 hover:bg-slate-800":"text-rose-400 hover:bg-slate-800 animate-pulse"}`,title:"Configurar Chave API",children:d.jsx(pd,{className:"w-5 h-5"})}),d.jsx("button",{onClick:x,className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-blue-400 transition-all border border-slate-800 hover:border-slate-700",title:"Baixar Backup (Exportar)",children:d.jsx($B,{className:"w-5 h-5"})}),d.jsxs("label",{className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-blue-400 transition-all border border-slate-800 hover:border-slate-700 cursor-pointer",title:"Restaurar Backup (Importar)",children:[d.jsx(VB,{className:"w-5 h-5"}),d.jsx("input",{type:"file",ref:S,className:"hidden",accept:".json",onChange:w})]}),d.jsx("button",{onClick:_,className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-rose-500 transition-all border border-slate-800 hover:border-slate-700",title:"Resetar App (Fbrica)",children:d.jsx(lu,{className:"w-5 h-5"})}),d.jsx("button",{onClick:b,className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-pink-500 transition-all border border-slate-800 hover:border-slate-700",title:"Apoiar Projeto",children:d.jsx(fD,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"pt-4 mt-3 border-t border-slate-800 text-center",children:[d.jsx("p",{className:"text-[10px] text-slate-500 font-mono",children:"v2.2.0 Stable"}),d.jsxs("a",{href:"https://www.linkedin.com/in/alemagnobr/",target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-slate-400 hover:text-indigo-400 transition-colors flex items-center justify-center gap-1.5 mt-1",children:[d.jsx(mD,{className:"w-3 h-3"})," Alexandre Magno S. Linhares"]})]})]})]})},AIe=({showWelcome:t,isDonateModalOpen:e,isKeyModalOpen:n,userKeyInput:r,hasKey:i,PIX_KEY:o,PIX_NAME:s,setShowWelcome:a,setIsDonateModalOpen:l,setIsKeyModalOpen:u,setUserKeyInput:c,handleSaveKey:f,handleRemoveKey:h,handleFinishWelcome:y,copyPix:v})=>d.jsxs(d.Fragment,{children:[t&&d.jsx("div",{className:"fixed inset-0 bg-slate-900/90 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in overflow-y-auto",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-4xl border border-slate-200 dark:border-slate-700 animate-scale-in my-8",children:[d.jsx("div",{className:"bg-slate-900 p-8 text-white relative overflow-hidden rounded-t-2xl",children:d.jsxs("div",{className:"relative z-10",children:[d.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Bem-vindo ao NEXO"}),d.jsx("p",{className:"text-slate-300 text-lg",children:"Seu novo comando central financeiro."})]})}),d.jsxs("div",{className:"p-8",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-3 flex items-center gap-2",children:[d.jsx($x,{className:"w-5 h-5 text-indigo-500"})," Privacidade Total"]}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed",children:"Seus dados financeiros no so vendidos. No modo Offline, tudo fica no seu navegador."})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-3 flex items-center gap-2",children:[d.jsx(Ox,{className:"w-5 h-5 text-purple-500"})," Inteligncia Artificial"]}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed",children:"Conecte sua chave do Gemini para ter um consultor financeiro pessoal."})]})]}),d.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-100 dark:border-indigo-800 p-4 rounded-xl mb-8",children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"J possui uma chave de API do Gemini? (Opcional)"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"password",value:r,onChange:b=>c(b.target.value),placeholder:"Cole sua chave AIza...",className:"flex-1 p-2 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 outline-none"}),d.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:["Obter Chave ",d.jsx(cD,{className:"w-3 h-3"})]})]})]}),d.jsxs("button",{onClick:y,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold text-lg shadow-xl shadow-indigo-500/30 transition-all flex items-center justify-center gap-2",children:["Comear Agora ",d.jsx(Hg,{className:"w-5 h-5"})]})]})]})}),e&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-sm p-6 border border-slate-200 dark:border-slate-700 animate-scale-in text-center relative overflow-hidden",children:[d.jsx("button",{onClick:()=>l(!1),className:"absolute top-2 right-2 p-2 text-slate-400 hover:text-slate-600",children:d.jsx(Gr,{className:"w-5 h-5"})}),d.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(jB,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),d.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:"Apoie o Projeto"}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-6",children:"O NEXO  desenvolvido de forma independente. Considere apoiar! "}),d.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-700 mb-6 relative group cursor-pointer",onClick:v,children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"Chave Pix (CPF)"}),d.jsx("p",{className:"text-sm font-mono font-bold text-slate-700 dark:text-slate-200 break-all select-all",children:o}),d.jsx("div",{className:"absolute inset-0 bg-black/5 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-xl",children:d.jsxs("span",{className:"bg-white dark:bg-slate-800 text-xs font-bold px-2 py-1 rounded shadow flex items-center gap-1",children:[d.jsx(lD,{className:"w-3 h-3"})," Copiar"]})})]}),d.jsxs("p",{className:"text-xs text-slate-400 mb-6",children:["Nome: ",s]})]})}),n&&d.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 border border-slate-200 dark:border-slate-700 animate-scale-in flex flex-col max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[d.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(pd,{className:"w-6 h-6 text-indigo-500"})," Configurar Chave API"]}),d.jsx("button",{onClick:()=>u(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:d.jsx(Gr,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-3 rounded-lg text-sm text-indigo-800 dark:text-indigo-300 border border-indigo-100 dark:border-indigo-800",children:[d.jsxs("p",{className:"font-bold flex items-center gap-1 mb-1",children:[d.jsx(Ls,{className:"w-3 h-3"})," Por que preciso disso?"]}),d.jsx("p",{children:"O Google Gemini  o crebro por trs da IA do NEXO. Para us-lo gratuitamente, voc precisa gerar sua prpria chave de acesso."})]}),d.jsxs("ol",{className:"list-decimal list-inside text-sm text-slate-600 dark:text-slate-400 space-y-2 ml-1",children:[d.jsxs("li",{children:["Acesse o ",d.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-indigo-600 font-bold hover:underline",children:"Google AI Studio"}),"."]}),d.jsx("li",{children:"Faa login com sua conta Google."}),d.jsxs("li",{children:["Clique em ",d.jsx("strong",{children:"Create API Key"}),"."]}),d.jsx("li",{children:'Copie o cdigo gerado (comea com "AIza...") e cole abaixo.'})]}),d.jsx("input",{type:"password",value:r,onChange:b=>c(b.target.value),placeholder:"Cole sua chave aqui (AIza...)",className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:f,disabled:!r,className:"flex-1 px-4 py-2 bg-indigo-600 text-white hover:bg-indigo-700 rounded-lg text-sm font-bold shadow-lg shadow-indigo-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Salvar e Conectar"}),d.jsx("button",{onClick:h,disabled:!i,className:"px-4 py-2 bg-rose-100 text-rose-600 hover:bg-rose-200 dark:bg-rose-900/30 dark:text-rose-400 dark:hover:bg-rose-900/50 rounded-lg text-sm font-bold disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Remover"})]})]})]})})]}),IIe={transactions:[],investments:[],budgets:[],debts:[],shoppingList:[],shoppingBudget:0,unlockedBadges:[],walletBalance:0},kIe=(t,e)=>{const[n,r]=G.useState(IIe);return G.useEffect(()=>{if(t&&!e){const T=dH(t.uid,k=>{r(N=>({...N,...k}))});return()=>T()}},[t,e]),G.useEffect(()=>{t&&!e&&n.transactions.length>0&&n.walletBalance===void 0&&(console.log("Migrando para sistema de Saldo Otimizado..."),hH(t.uid))},[t,e,n.transactions.length,n.walletBalance]),G.useEffect(()=>{(t||e)&&(async()=>{const k=new Date,N=k.getMonth(),O=k.getFullYear(),M=new Map;n.transactions.forEach(q=>{if(q.isRecurring){const U=M.get(q.description);(!U||new Date(q.date)>new Date(U.date))&&M.set(q.description,q)}});const D=[];if(M.forEach((q,U)=>{if(!n.transactions.some(F=>{const L=new Date(F.date);return F.description===U&&F.amount===q.amount&&L.getMonth()===N&&L.getFullYear()===O})){const L=new Date(q.date).getDate(),V=new Date(O,N+1,0).getDate(),z=Math.min(L,V),Y=new Date(O,N,z);D.push({...q,id:crypto.randomUUID(),date:Y.toISOString().split("T")[0],status:"pending",isRecurring:!0})}}),D.length>0)if(t)for(const q of D)await XI(t.uid,q);else r(q=>({...q,transactions:[...q.transactions,...D]}))})()},[t,e,n.transactions]),{data:n,setData:r,actions:{addTransaction:async T=>{const k={...T,id:crypto.randomUUID()};t?await XI(t.uid,k):r(N=>({...N,transactions:[...N.transactions,k]}))},updateTransaction:async(T,k)=>{t?await QI(t.uid,T,k):r(N=>({...N,transactions:N.transactions.map(O=>O.id===T?{...O,...k}:O)}))},deleteTransaction:async T=>{t?await fH(t.uid,T):r(k=>({...k,transactions:k.transactions.filter(N=>N.id!==T)}))},toggleTransactionStatus:async T=>{const k=n.transactions.find(O=>O.id===T);if(!k)return;const N=k.status==="paid"?"pending":"paid";if(t){if(await QI(t.uid,T,{status:N}),k.debtId){const O=n.debts.find(M=>M.id===k.debtId);if(O){const q=n.transactions.filter(U=>U.debtId===k.debtId).every(U=>U.id===T?N==="paid":U.status==="paid")?"paid":"agreement";O.status!==q&&await ZI(t.uid,O.id,{status:q})}}}else r(O=>{const M=O.transactions.map(q=>q.id===T?{...q,status:N}:q);let D=O.debts;if(k.debtId){const j=M.filter(F=>F.debtId===k.debtId).every(F=>F.status==="paid")?"paid":"agreement";D=O.debts.map(F=>F.id===k.debtId?{...F,status:j}:F)}return{...O,transactions:M,debts:D}})},addInvestment:async T=>{const k={...T,id:crypto.randomUUID()};t?await pH(t.uid,k):r(N=>({...N,investments:[...N.investments,k]}))},updateInvestment:async(T,k)=>{t?await mH(t.uid,T,k):r(N=>({...N,investments:N.investments.map(O=>O.id===T?{...O,...k}:O)}))},deleteInvestment:async T=>{t?await gH(t.uid,T):r(k=>({...k,investments:k.investments.filter(N=>N.id!==T)}))},addBudget:async T=>{const k={...T,id:crypto.randomUUID()};t?await yH(t.uid,k):r(N=>({...N,budgets:[...N.budgets||[],k]}))},updateBudget:async(T,k)=>{t?await vH(t.uid,T,k):r(N=>({...N,budgets:N.budgets.map(O=>O.id===T?{...O,...k}:O)}))},deleteBudget:async T=>{t?await xH(t.uid,T):r(k=>({...k,budgets:k.budgets.filter(N=>N.id!==T)}))},addDebt:async T=>{const k={...T,id:crypto.randomUUID()};t?await bH(t.uid,k):r(N=>({...N,debts:[...N.debts||[],k]}))},updateDebt:async(T,k)=>{t?await ZI(t.uid,T,k):r(N=>({...N,debts:N.debts.map(O=>O.id===T?{...O,...k}:O)}))},deleteDebt:async T=>{t?await _H(t.uid,T):r(k=>({...k,debts:k.debts.filter(N=>N.id!==T)}))},addShoppingItem:async T=>{const k={...T,id:crypto.randomUUID()};t?await wH(t.uid,k):r(N=>({...N,shoppingList:[...N.shoppingList||[],k]}))},updateShoppingItem:async(T,k)=>{t?await EH(t.uid,T,k):r(N=>({...N,shoppingList:N.shoppingList.map(O=>O.id===T?{...O,...k}:O)}))},deleteShoppingItem:async T=>{t?await TH(t.uid,T):r(k=>({...k,shoppingList:k.shoppingList.filter(N=>N.id!==T)}))},clearShoppingList:async()=>{t?await SH(t.uid):r(T=>({...T,shoppingList:[]}))},setShoppingBudget:async T=>{t?await AH(t.uid,T):r(k=>({...k,shoppingBudget:T}))},unlockBadge:T=>{n.unlockedBadges.includes(T)||(t?IH(t.uid,T,n.unlockedBadges):r(k=>({...k,unlockedBadges:[...k.unlockedBadges,T]})))},saveWealthProfile:async T=>{t?await kH(t.uid,T):r(k=>({...k,wealthProfile:T}))}}}},H2="028.268.001-24",CIe="Alexandre Magno dos Santos Linhares",PIe=()=>{const[t,e]=G.useState(null),[n,r]=G.useState(!1),[i,o]=G.useState(!0),{data:s,setData:a,actions:l}=kIe(t,n),[u,c]=G.useState($e.DASHBOARD),[f,h]=G.useState(!1),[y,v]=G.useState(!1),[b,x]=G.useState(!1),[w,_]=G.useState(!1),[E,P]=G.useState(null),[S,C]=G.useState(0),[I,T]=G.useState(!1),[k,N]=G.useState(""),[O,M]=G.useState(!1),[D,q]=G.useState(!1),[U,j]=G.useState(!1);G.useRef(null),G.useEffect(()=>{const ue=ee=>{ee.preventDefault(),P(ee)};return window.addEventListener("beforeinstallprompt",ue),()=>window.removeEventListener("beforeinstallprompt",ue)},[]);const F=async()=>{if(!E)return;E.prompt();const{outcome:ue}=await E.userChoice;P(null)};G.useEffect(()=>{const ue=Y7(Wa,async ee=>{if(e(ee),o(!1),ee){r(!1);const Oe=JI("guest_user");Oe.transactions.length>0&&confirm("Encontramos dados no modo convidado. Deseja migrar para sua conta na nuvem?")&&(await ek(ee.uid,Oe),localStorage.removeItem("finansmart_data_v2_guest_user"))}});return()=>ue()},[]),G.useEffect(()=>{!i&&n&&cH(s,"guest_user")},[s,n,i]);const L=()=>{r(!0);const ue=JI("guest_user");a(ue)},V=async()=>{n?(r(!1),a({transactions:[],investments:[],budgets:[],debts:[],shoppingList:[],unlockedBadges:[]})):await J7(Wa)};G.useEffect(()=>{M(jC()),jC()&&N(xu()||""),!localStorage.getItem("nexo_welcome_seen")&&(t||n)&&j(!0)},[t,n]);const z=()=>{k.trim()&&(DC(k.trim()),M(!0),T(!1),alert("Chave API salva no seu navegador com sucesso!"))},Y=()=>{FZ(),N(""),M(!1),T(!1)},H=()=>{k.trim()&&(DC(k.trim()),M(!0)),localStorage.setItem("nexo_welcome_seen","true"),j(!1)},J=()=>{navigator.clipboard.writeText(H2),alert("Chave Pix copiada!")};G.useEffect(()=>{y?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[y]);const ce=()=>{document.fullscreenElement?(document.exitFullscreen&&document.exitFullscreen(),x(!1)):(document.documentElement.requestFullscreen().catch(ue=>console.error(ue)),x(!0))},W=()=>{confirm(` ATENO: Isso apagar TODOS os dados, configuraes e chave API deste navegador.

Deseja realmente resetar o app para o estado de fbrica?`)&&(localStorage.clear(),window.location.reload())},ie=()=>{const ue=JSON.stringify(s),ee="data:application/json;charset=utf-8,"+encodeURIComponent(ue),Oe=document.createElement("a");Oe.setAttribute("href",ee),Oe.setAttribute("download","nexo_backup.json"),Oe.click()},fe=ue=>{var Te;const ee=(Te=ue.target.files)==null?void 0:Te[0];if(!ee)return;const Oe=new FileReader;Oe.onload=async nt=>{var rt;try{const Q=JSON.parse((rt=nt.target)==null?void 0:rt.result);confirm("Isso substituir seus dados atuais. Tem certeza?")&&(t?await ek(t.uid,Q):a(Q),alert("Backup restaurado com sucesso!"))}catch{alert("Erro ao ler arquivo de backup.")}},Oe.readAsText(ee)},Re=ue=>{c(ue),_(!1),setTimeout(()=>C(Date.now()),50)},oe=async(ue,ee,Oe)=>{const Te={description:`Compra de Mercado (${new Date().toLocaleDateString()})`,amount:ue,type:"expense",category:Oe,date:new Date().toISOString().split("T")[0],status:"paid",paymentMethod:ee,isRecurring:!1};await l.addTransaction(Te),await l.clearShoppingList(),alert("Compra finalizada! Despesa registrada com sucesso."),c($e.TRANSACTIONS)},xe=()=>{switch(u){case $e.DASHBOARD:return d.jsx(F2,{data:s,privacyMode:f,onUnlockBadge:l.unlockBadge});case $e.TRANSACTIONS:return d.jsx(uIe,{transactions:s.transactions,budgets:s.budgets,onAdd:l.addTransaction,onUpdate:l.updateTransaction,onDelete:l.deleteTransaction,onToggleStatus:l.toggleTransactionStatus,onNavigate:ue=>c(ue),privacyMode:f,hasApiKey:O,quickActionSignal:S});case $e.INVESTMENTS:return d.jsx(cIe,{investments:s.investments,onAdd:l.addInvestment,onUpdate:l.updateInvestment,onDelete:l.deleteInvestment,onNavigate:ue=>c(ue),privacyMode:f,hasApiKey:O,quickActionSignal:S});case $e.SHOPPING_LIST:return d.jsx(wIe,{items:s.shoppingList||[],onAdd:l.addShoppingItem,onUpdate:l.updateShoppingItem,onDelete:l.deleteShoppingItem,onClearList:l.clearShoppingList,onFinishShopping:oe,shoppingBudget:s.shoppingBudget,onUpdateBudget:l.setShoppingBudget,hasApiKey:O,privacyMode:f,quickActionSignal:S});case $e.BUDGETS:return d.jsx(fIe,{budgets:s.budgets||[],transactions:s.transactions,investments:s.investments||[],onAdd:l.addBudget,onUpdate:l.updateBudget,onDelete:l.deleteBudget,onNavigate:ue=>c(ue),privacyMode:f,quickActionSignal:S});case $e.SUBSCRIPTIONS:return d.jsx(hIe,{transactions:s.transactions,onUpdateTransaction:l.updateTransaction,onDeleteTransaction:l.deleteTransaction,privacyMode:f});case $e.CALENDAR:return d.jsx(vIe,{transactions:s.transactions,budgets:s.budgets,onAddTransaction:l.addTransaction,privacyMode:f});case $e.DEBTS:return d.jsx(_Ie,{debts:s.debts||[],onAdd:l.addDebt,onUpdate:l.updateDebt,onDelete:l.deleteDebt,onAddTransaction:l.addTransaction,privacyMode:f,quickActionSignal:S});case $e.AI_ASSISTANT:return d.jsx(xIe,{data:s,privacyMode:f});case $e.WEALTH_PLANNER:return d.jsx(TIe,{data:s,onSaveProfile:l.saveWealthProfile,privacyMode:f,hasApiKey:O});default:return d.jsx(F2,{data:s,privacyMode:f,onUnlockBadge:l.unlockBadge})}};return i?d.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:d.jsx(Wg,{className:"w-12 h-12 text-indigo-500 animate-spin"})}):!t&&!n?d.jsx(HZ,{onGuestLogin:L}):d.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex flex-col md:flex-row font-sans text-slate-900 dark:text-slate-100 transition-colors duration-300",children:[w&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 md:hidden backdrop-blur-sm animate-fade-in",onClick:()=>_(!1)}),d.jsx(SIe,{user:t,isGuest:n,mobileMenuOpen:w,setMobileMenuOpen:_,currentView:u,onNavigate:ue=>c(ue),onLogout:V,privacyMode:f,setPrivacyMode:h,darkMode:y,setDarkMode:v,isFullscreen:b,toggleFullscreen:ce,hasKey:O,onOpenKeyModal:()=>T(!0),onOpenDonateModal:()=>q(!0),onExportBackup:ie,onImportBackup:fe,onFactoryReset:W,canInstall:!!E,onInstall:F}),d.jsxs("main",{className:"flex-1 p-4 md:p-8 pt-20 md:pt-8 pb-8 overflow-y-auto h-screen scroll-smooth",children:[d.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 bg-slate-900 p-4 border-b border-slate-800 z-30 flex items-center justify-between shadow-md",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>_(!0),className:"text-slate-300 hover:text-white p-1",children:d.jsx(HB,{className:"w-6 h-6"})}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"bg-indigo-600 p-1.5 rounded-lg",children:d.jsx(Qw,{className:"w-4 h-4 text-white"})}),d.jsx("span",{className:"font-bold text-white tracking-tight",children:"NEXO"})]})]}),d.jsxs("div",{className:"flex gap-4 items-center",children:[E&&d.jsx("button",{onClick:F,className:"text-emerald-400 hover:text-white animate-pulse",title:"Instalar Aplicativo",children:d.jsx(sD,{className:"w-5 h-5"})}),d.jsxs("button",{onClick:()=>T(!0),className:`${O?"text-emerald-400":"text-rose-500"} hover:text-white relative`,children:[d.jsx(pd,{className:"w-5 h-5"}),!O&&d.jsxs("span",{className:"absolute -top-1 -right-1 flex h-2.5 w-2.5",children:[d.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-rose-400 opacity-75"}),d.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-rose-500"})]})]})]})]}),d.jsxs("div",{className:"max-w-7xl mx-auto animate-fade-in",children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:[d.jsxs("button",{onClick:()=>Re($e.TRANSACTIONS),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-blue-100 dark:border-blue-900/30 hover:border-blue-300 transition-all group",children:[d.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/40 p-2.5 rounded-lg group-hover:bg-blue-600 group-hover:text-white transition-colors text-blue-600 dark:text-blue-400",children:d.jsx(Vx,{className:"w-5 h-5"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Nova"}),d.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Transao"})]})]}),d.jsxs("button",{onClick:()=>Re($e.SHOPPING_LIST),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-emerald-100 dark:border-emerald-900/30 hover:border-emerald-300 transition-all group",children:[d.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/40 p-2.5 rounded-lg group-hover:bg-emerald-600 group-hover:text-white transition-colors text-emerald-600 dark:text-emerald-400",children:d.jsx(Zp,{className:"w-5 h-5"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Calculadora"}),d.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Mercado"})]})]}),d.jsxs("button",{onClick:()=>Re($e.DEBTS),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-rose-100 dark:border-rose-900/30 hover:border-rose-300 transition-all group",children:[d.jsx("div",{className:"bg-rose-100 dark:bg-rose-900/40 p-2.5 rounded-lg group-hover:bg-rose-600 group-hover:text-white transition-colors text-rose-600 dark:text-rose-400",children:d.jsx(md,{className:"w-5 h-5"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Registrar"}),d.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Dvida"})]})]}),d.jsxs("button",{onClick:()=>Re($e.BUDGETS),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-pink-100 dark:border-pink-900/30 hover:border-pink-300 transition-all group",children:[d.jsx("div",{className:"bg-pink-100 dark:bg-pink-900/40 p-2.5 rounded-lg group-hover:bg-pink-600 group-hover:text-white transition-colors text-pink-600 dark:text-pink-400",children:d.jsx(Ws,{className:"w-5 h-5"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Definir"}),d.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Meta/Limite"})]})]})]}),xe()]})]}),d.jsx(AIe,{showWelcome:U,isDonateModalOpen:D,isKeyModalOpen:I,userKeyInput:k,hasKey:O,PIX_KEY:H2,PIX_NAME:CIe,setShowWelcome:j,setIsDonateModalOpen:q,setIsKeyModalOpen:T,setUserKeyInput:N,handleSaveKey:z,handleRemoveKey:Y,handleFinishWelcome:H,copyPix:J})]})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});const _F=document.getElementById("root");if(!_F)throw new Error("Could not find root element to mount to");const NIe=Vv.createRoot(_F);NIe.render(d.jsx(B.StrictMode,{children:d.jsx(PIe,{})}));
