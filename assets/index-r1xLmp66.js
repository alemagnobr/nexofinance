(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var K2={exports:{}},Rg={},Y2={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf=Symbol.for("react.element"),KV=Symbol.for("react.portal"),YV=Symbol.for("react.fragment"),JV=Symbol.for("react.strict_mode"),XV=Symbol.for("react.profiler"),QV=Symbol.for("react.provider"),ZV=Symbol.for("react.context"),eF=Symbol.for("react.forward_ref"),tF=Symbol.for("react.suspense"),nF=Symbol.for("react.memo"),rF=Symbol.for("react.lazy"),xS=Symbol.iterator;function iF(t){return t===null||typeof t!="object"?null:(t=xS&&t[xS]||t["@@iterator"],typeof t=="function"?t:null)}var J2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X2=Object.assign,Q2={};function lu(t,e,n){this.props=t,this.context=e,this.refs=Q2,this.updater=n||J2}lu.prototype.isReactComponent={};lu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};lu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Z2(){}Z2.prototype=lu.prototype;function iw(t,e,n){this.props=t,this.context=e,this.refs=Q2,this.updater=n||J2}var ow=iw.prototype=new Z2;ow.constructor=iw;X2(ow,lu.prototype);ow.isPureReactComponent=!0;var bS=Array.isArray,eO=Object.prototype.hasOwnProperty,sw={current:null},tO={key:!0,ref:!0,__self:!0,__source:!0};function nO(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)eO.call(e,r)&&!tO.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:gf,type:t,key:o,ref:s,props:i,_owner:sw.current}}function oF(t,e){return{$$typeof:gf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function aw(t){return typeof t=="object"&&t!==null&&t.$$typeof===gf}function sF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _S=/\/+/g;function S0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sF(""+t.key):e.toString(36)}function tp(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case gf:case KV:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+S0(s,0):r,bS(i)?(n="",t!=null&&(n=t.replace(_S,"$&/")+"/"),tp(i,e,n,"",function(u){return u})):i!=null&&(aw(i)&&(i=oF(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(_S,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",bS(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+S0(o,a);s+=tp(o,e,n,l,i)}else if(l=iF(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+S0(o,a++),s+=tp(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function fh(t,e,n){if(t==null)return t;var r=[],i=0;return tp(t,r,"","",function(o){return e.call(n,o,i++)}),r}function aF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dn={current:null},np={transition:null},lF={ReactCurrentDispatcher:Dn,ReactCurrentBatchConfig:np,ReactCurrentOwner:sw};function rO(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:fh,forEach:function(t,e,n){fh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fh(t,function(){e++}),e},toArray:function(t){return fh(t,function(e){return e})||[]},only:function(t){if(!aw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Le.Component=lu;Le.Fragment=YV;Le.Profiler=XV;Le.PureComponent=iw;Le.StrictMode=JV;Le.Suspense=tF;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lF;Le.act=rO;Le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=X2({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=sw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)eO.call(e,l)&&!tO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:gf,type:t.type,key:i,ref:o,props:r,_owner:s}};Le.createContext=function(t){return t={$$typeof:ZV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QV,_context:t},t.Consumer=t};Le.createElement=nO;Le.createFactory=function(t){var e=nO.bind(null,t);return e.type=t,e};Le.createRef=function(){return{current:null}};Le.forwardRef=function(t){return{$$typeof:eF,render:t}};Le.isValidElement=aw;Le.lazy=function(t){return{$$typeof:rF,_payload:{_status:-1,_result:t},_init:aF}};Le.memo=function(t,e){return{$$typeof:nF,type:t,compare:e===void 0?null:e}};Le.startTransition=function(t){var e=np.transition;np.transition={};try{t()}finally{np.transition=e}};Le.unstable_act=rO;Le.useCallback=function(t,e){return Dn.current.useCallback(t,e)};Le.useContext=function(t){return Dn.current.useContext(t)};Le.useDebugValue=function(){};Le.useDeferredValue=function(t){return Dn.current.useDeferredValue(t)};Le.useEffect=function(t,e){return Dn.current.useEffect(t,e)};Le.useId=function(){return Dn.current.useId()};Le.useImperativeHandle=function(t,e,n){return Dn.current.useImperativeHandle(t,e,n)};Le.useInsertionEffect=function(t,e){return Dn.current.useInsertionEffect(t,e)};Le.useLayoutEffect=function(t,e){return Dn.current.useLayoutEffect(t,e)};Le.useMemo=function(t,e){return Dn.current.useMemo(t,e)};Le.useReducer=function(t,e,n){return Dn.current.useReducer(t,e,n)};Le.useRef=function(t){return Dn.current.useRef(t)};Le.useState=function(t){return Dn.current.useState(t)};Le.useSyncExternalStore=function(t,e,n){return Dn.current.useSyncExternalStore(t,e,n)};Le.useTransition=function(){return Dn.current.useTransition()};Le.version="18.3.1";Y2.exports=Le;var B=Y2.exports;const U=Qe(B);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uF=B,cF=Symbol.for("react.element"),dF=Symbol.for("react.fragment"),fF=Object.prototype.hasOwnProperty,hF=uF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pF={key:!0,ref:!0,__self:!0,__source:!0};function iO(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)fF.call(e,r)&&!pF.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:cF,type:t,key:o,ref:s,props:i,_owner:hF.current}}Rg.Fragment=dF;Rg.jsx=iO;Rg.jsxs=iO;K2.exports=Rg;var d=K2.exports,Bv={},oO={exports:{}},ir={},sO={exports:{}},aO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,G){var q=L.length;L.push(G);e:for(;0<q;){var J=q-1>>>1,H=L[J];if(0<i(H,G))L[J]=G,L[q]=H,q=J;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var G=L[0],q=L.pop();if(q!==G){L[0]=q;e:for(var J=0,H=L.length,W=H>>>1;J<W;){var ie=2*(J+1)-1,K=L[ie],ae=ie+1,fe=L[ae];if(0>i(K,q))ae<H&&0>i(fe,K)?(L[J]=fe,L[ae]=q,J=ae):(L[J]=K,L[ie]=q,J=ie);else if(ae<H&&0>i(fe,q))L[J]=fe,L[ae]=q,J=ae;else break e}}return G}function i(L,G){var q=L.sortIndex-G.sortIndex;return q!==0?q:L.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,h=3,y=!1,v=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(L){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=L)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function P(L){if(b=!1,E(L),!v)if(n(l)!==null)v=!0,j(S);else{var G=n(u);G!==null&&V(P,G.startTime-L)}}function S(L,G){v=!1,b&&(b=!1,w(T),T=-1),y=!0;var q=h;try{for(E(G),f=n(l);f!==null&&(!(f.expirationTime>G)||L&&!O());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var H=J(f.expirationTime<=G);G=t.unstable_now(),typeof H=="function"?f.callback=H:f===n(l)&&r(l),E(G)}else r(l);f=n(l)}if(f!==null)var W=!0;else{var ie=n(u);ie!==null&&V(P,ie.startTime-G),W=!1}return W}finally{f=null,h=q,y=!1}}var C=!1,I=null,T=-1,k=5,N=-1;function O(){return!(t.unstable_now()-N<k)}function M(){if(I!==null){var L=t.unstable_now();N=L;var G=!0;try{G=I(!0,L)}finally{G?D():(C=!1,I=null)}}else C=!1}var D;if(typeof _=="function")D=function(){_(M)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,F=z.port2;z.port1.onmessage=M,D=function(){F.postMessage(null)}}else D=function(){x(M,0)};function j(L){I=L,C||(C=!0,D())}function V(L,G){T=x(function(){L(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,j(S))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(h){case 1:case 2:case 3:var G=3;break;default:G=h}var q=h;h=G;try{return L()}finally{h=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,G){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var q=h;h=L;try{return G()}finally{h=q}},t.unstable_scheduleCallback=function(L,G,q){var J=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?J+q:J):q=J,L){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=q+H,L={id:c++,callback:G,priorityLevel:L,startTime:q,expirationTime:H,sortIndex:-1},q>J?(L.sortIndex=q,e(u,L),n(l)===null&&L===n(u)&&(b?(w(T),T=-1):b=!0,V(P,q-J))):(L.sortIndex=H,e(l,L),v||y||(v=!0,j(S))),L},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(L){var G=h;return function(){var q=h;h=G;try{return L.apply(this,arguments)}finally{h=q}}}})(aO);sO.exports=aO;var mF=sO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gF=B,rr=mF;function se(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lO=new Set,Qc={};function ca(t,e){xl(t,e),xl(t+"Capture",e)}function xl(t,e){for(Qc[t]=e,t=0;t<e.length;t++)lO.add(e[t])}var ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gv=Object.prototype.hasOwnProperty,yF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wS={},ES={};function vF(t){return Gv.call(ES,t)?!0:Gv.call(wS,t)?!1:yF.test(t)?ES[t]=!0:(wS[t]=!0,!1)}function xF(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bF(t,e,n,r){if(e===null||typeof e>"u"||xF(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){un[t]=new jn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];un[e]=new jn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){un[t]=new jn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){un[t]=new jn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){un[t]=new jn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){un[t]=new jn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){un[t]=new jn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){un[t]=new jn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){un[t]=new jn(t,5,!1,t.toLowerCase(),null,!1,!1)});var lw=/[\-:]([a-z])/g;function uw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(lw,uw);un[e]=new jn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(lw,uw);un[e]=new jn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(lw,uw);un[e]=new jn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){un[t]=new jn(t,1,!1,t.toLowerCase(),null,!1,!1)});un.xlinkHref=new jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){un[t]=new jn(t,1,!1,t.toLowerCase(),null,!0,!0)});function cw(t,e,n,r){var i=un.hasOwnProperty(e)?un[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bF(e,n,i,r)&&(n=null),r||i===null?vF(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Qi=gF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hh=Symbol.for("react.element"),ja=Symbol.for("react.portal"),La=Symbol.for("react.fragment"),dw=Symbol.for("react.strict_mode"),zv=Symbol.for("react.profiler"),uO=Symbol.for("react.provider"),cO=Symbol.for("react.context"),fw=Symbol.for("react.forward_ref"),qv=Symbol.for("react.suspense"),Hv=Symbol.for("react.suspense_list"),hw=Symbol.for("react.memo"),mo=Symbol.for("react.lazy"),dO=Symbol.for("react.offscreen"),TS=Symbol.iterator;function Qu(t){return t===null||typeof t!="object"?null:(t=TS&&t[TS]||t["@@iterator"],typeof t=="function"?t:null)}var Tt=Object.assign,A0;function xc(t){if(A0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);A0=e&&e[1]||""}return`
`+A0+t}var I0=!1;function k0(t,e){if(!t||I0)return"";I0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{I0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xc(t):""}function _F(t){switch(t.tag){case 5:return xc(t.type);case 16:return xc("Lazy");case 13:return xc("Suspense");case 19:return xc("SuspenseList");case 0:case 2:case 15:return t=k0(t.type,!1),t;case 11:return t=k0(t.type.render,!1),t;case 1:return t=k0(t.type,!0),t;default:return""}}function Wv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case La:return"Fragment";case ja:return"Portal";case zv:return"Profiler";case dw:return"StrictMode";case qv:return"Suspense";case Hv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cO:return(t.displayName||"Context")+".Consumer";case uO:return(t._context.displayName||"Context")+".Provider";case fw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hw:return e=t.displayName||null,e!==null?e:Wv(t.type)||"Memo";case mo:e=t._payload,t=t._init;try{return Wv(t(e))}catch{}}return null}function wF(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wv(e);case 8:return e===dw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ho(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function EF(t){var e=fO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ph(t){t._valueTracker||(t._valueTracker=EF(t))}function hO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=fO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ip(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kv(t,e){var n=e.checked;return Tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function SS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ho(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function pO(t,e){e=e.checked,e!=null&&cw(t,"checked",e,!1)}function Yv(t,e){pO(t,e);var n=Ho(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jv(t,e.type,Ho(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function AS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jv(t,e,n){(e!=="number"||Ip(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var bc=Array.isArray;function il(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ho(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Xv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(se(91));return Tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function IS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(se(92));if(bc(n)){if(1<n.length)throw Error(se(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ho(n)}}function mO(t,e){var n=Ho(e.value),r=Ho(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function kS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mh,yO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(mh=mh||document.createElement("div"),mh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TF=["Webkit","ms","Moz","O"];Object.keys(Pc).forEach(function(t){TF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pc[e]=Pc[t]})});function vO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pc.hasOwnProperty(t)&&Pc[t]?(""+e).trim():e+"px"}function xO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=vO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var SF=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zv(t,e){if(e){if(SF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(se(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(se(62))}}function ex(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tx=null;function pw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var nx=null,ol=null,sl=null;function CS(t){if(t=xf(t)){if(typeof nx!="function")throw Error(se(280));var e=t.stateNode;e&&(e=Lg(e),nx(t.stateNode,t.type,e))}}function bO(t){ol?sl?sl.push(t):sl=[t]:ol=t}function _O(){if(ol){var t=ol,e=sl;if(sl=ol=null,CS(t),e)for(t=0;t<e.length;t++)CS(e[t])}}function wO(t,e){return t(e)}function EO(){}var C0=!1;function TO(t,e,n){if(C0)return t(e,n);C0=!0;try{return wO(t,e,n)}finally{C0=!1,(ol!==null||sl!==null)&&(EO(),_O())}}function ed(t,e){var n=t.stateNode;if(n===null)return null;var r=Lg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(se(231,e,typeof n));return n}var rx=!1;if(ji)try{var Zu={};Object.defineProperty(Zu,"passive",{get:function(){rx=!0}}),window.addEventListener("test",Zu,Zu),window.removeEventListener("test",Zu,Zu)}catch{rx=!1}function AF(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Nc=!1,kp=null,Cp=!1,ix=null,IF={onError:function(t){Nc=!0,kp=t}};function kF(t,e,n,r,i,o,s,a,l){Nc=!1,kp=null,AF.apply(IF,arguments)}function CF(t,e,n,r,i,o,s,a,l){if(kF.apply(this,arguments),Nc){if(Nc){var u=kp;Nc=!1,kp=null}else throw Error(se(198));Cp||(Cp=!0,ix=u)}}function da(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function SO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function PS(t){if(da(t)!==t)throw Error(se(188))}function PF(t){var e=t.alternate;if(!e){if(e=da(t),e===null)throw Error(se(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return PS(i),t;if(o===r)return PS(i),e;o=o.sibling}throw Error(se(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(se(189))}}if(n.alternate!==r)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?t:e}function AO(t){return t=PF(t),t!==null?IO(t):null}function IO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=IO(t);if(e!==null)return e;t=t.sibling}return null}var kO=rr.unstable_scheduleCallback,NS=rr.unstable_cancelCallback,NF=rr.unstable_shouldYield,RF=rr.unstable_requestPaint,Nt=rr.unstable_now,OF=rr.unstable_getCurrentPriorityLevel,mw=rr.unstable_ImmediatePriority,CO=rr.unstable_UserBlockingPriority,Pp=rr.unstable_NormalPriority,MF=rr.unstable_LowPriority,PO=rr.unstable_IdlePriority,Og=null,ei=null;function DF(t){if(ei&&typeof ei.onCommitFiberRoot=="function")try{ei.onCommitFiberRoot(Og,t,void 0,(t.current.flags&128)===128)}catch{}}var jr=Math.clz32?Math.clz32:$F,jF=Math.log,LF=Math.LN2;function $F(t){return t>>>=0,t===0?32:31-(jF(t)/LF|0)|0}var gh=64,yh=4194304;function _c(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Np(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=_c(a):(o&=s,o!==0&&(r=_c(o)))}else s=n&~i,s!==0?r=_c(s):o!==0&&(r=_c(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-jr(e),i=1<<n,r|=t[n],e&=~i;return r}function VF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FF(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-jr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=VF(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function ox(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function NO(){var t=gh;return gh<<=1,!(gh&4194240)&&(gh=64),t}function P0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-jr(e),t[e]=n}function UF(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-jr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function gw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-jr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var et=0;function RO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var OO,yw,MO,DO,jO,sx=!1,vh=[],No=null,Ro=null,Oo=null,td=new Map,nd=new Map,vo=[],BF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function RS(t,e){switch(t){case"focusin":case"focusout":No=null;break;case"dragenter":case"dragleave":Ro=null;break;case"mouseover":case"mouseout":Oo=null;break;case"pointerover":case"pointerout":td.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nd.delete(e.pointerId)}}function ec(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=xf(e),e!==null&&yw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function GF(t,e,n,r,i){switch(e){case"focusin":return No=ec(No,t,e,n,r,i),!0;case"dragenter":return Ro=ec(Ro,t,e,n,r,i),!0;case"mouseover":return Oo=ec(Oo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return td.set(o,ec(td.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,nd.set(o,ec(nd.get(o)||null,t,e,n,r,i)),!0}return!1}function LO(t){var e=ks(t.target);if(e!==null){var n=da(e);if(n!==null){if(e=n.tag,e===13){if(e=SO(n),e!==null){t.blockedOn=e,jO(t.priority,function(){MO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ax(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);tx=r,n.target.dispatchEvent(r),tx=null}else return e=xf(n),e!==null&&yw(e),t.blockedOn=n,!1;e.shift()}return!0}function OS(t,e,n){rp(t)&&n.delete(e)}function zF(){sx=!1,No!==null&&rp(No)&&(No=null),Ro!==null&&rp(Ro)&&(Ro=null),Oo!==null&&rp(Oo)&&(Oo=null),td.forEach(OS),nd.forEach(OS)}function tc(t,e){t.blockedOn===e&&(t.blockedOn=null,sx||(sx=!0,rr.unstable_scheduleCallback(rr.unstable_NormalPriority,zF)))}function rd(t){function e(i){return tc(i,t)}if(0<vh.length){tc(vh[0],t);for(var n=1;n<vh.length;n++){var r=vh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(No!==null&&tc(No,t),Ro!==null&&tc(Ro,t),Oo!==null&&tc(Oo,t),td.forEach(e),nd.forEach(e),n=0;n<vo.length;n++)r=vo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<vo.length&&(n=vo[0],n.blockedOn===null);)LO(n),n.blockedOn===null&&vo.shift()}var al=Qi.ReactCurrentBatchConfig,Rp=!0;function qF(t,e,n,r){var i=et,o=al.transition;al.transition=null;try{et=1,vw(t,e,n,r)}finally{et=i,al.transition=o}}function HF(t,e,n,r){var i=et,o=al.transition;al.transition=null;try{et=4,vw(t,e,n,r)}finally{et=i,al.transition=o}}function vw(t,e,n,r){if(Rp){var i=ax(t,e,n,r);if(i===null)F0(t,e,r,Op,n),RS(t,r);else if(GF(i,t,e,n,r))r.stopPropagation();else if(RS(t,r),e&4&&-1<BF.indexOf(t)){for(;i!==null;){var o=xf(i);if(o!==null&&OO(o),o=ax(t,e,n,r),o===null&&F0(t,e,r,Op,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else F0(t,e,r,null,n)}}var Op=null;function ax(t,e,n,r){if(Op=null,t=pw(r),t=ks(t),t!==null)if(e=da(t),e===null)t=null;else if(n=e.tag,n===13){if(t=SO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Op=t,null}function $O(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OF()){case mw:return 1;case CO:return 4;case Pp:case MF:return 16;case PO:return 536870912;default:return 16}default:return 16}}var So=null,xw=null,ip=null;function VO(){if(ip)return ip;var t,e=xw,n=e.length,r,i="value"in So?So.value:So.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return ip=i.slice(t,1<r?1-r:void 0)}function op(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xh(){return!0}function MS(){return!1}function or(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?xh:MS,this.isPropagationStopped=MS,this}return Tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xh)},persist:function(){},isPersistent:xh}),e}var uu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bw=or(uu),vf=Tt({},uu,{view:0,detail:0}),WF=or(vf),N0,R0,nc,Mg=Tt({},vf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_w,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nc&&(nc&&t.type==="mousemove"?(N0=t.screenX-nc.screenX,R0=t.screenY-nc.screenY):R0=N0=0,nc=t),N0)},movementY:function(t){return"movementY"in t?t.movementY:R0}}),DS=or(Mg),KF=Tt({},Mg,{dataTransfer:0}),YF=or(KF),JF=Tt({},vf,{relatedTarget:0}),O0=or(JF),XF=Tt({},uu,{animationName:0,elapsedTime:0,pseudoElement:0}),QF=or(XF),ZF=Tt({},uu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eU=or(ZF),tU=Tt({},uu,{data:0}),jS=or(tU),nU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=iU[t])?!!e[t]:!1}function _w(){return oU}var sU=Tt({},vf,{key:function(t){if(t.key){var e=nU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=op(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_w,charCode:function(t){return t.type==="keypress"?op(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?op(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aU=or(sU),lU=Tt({},Mg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LS=or(lU),uU=Tt({},vf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_w}),cU=or(uU),dU=Tt({},uu,{propertyName:0,elapsedTime:0,pseudoElement:0}),fU=or(dU),hU=Tt({},Mg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pU=or(hU),mU=[9,13,27,32],ww=ji&&"CompositionEvent"in window,Rc=null;ji&&"documentMode"in document&&(Rc=document.documentMode);var gU=ji&&"TextEvent"in window&&!Rc,FO=ji&&(!ww||Rc&&8<Rc&&11>=Rc),$S=" ",VS=!1;function UO(t,e){switch(t){case"keyup":return mU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $a=!1;function yU(t,e){switch(t){case"compositionend":return BO(e);case"keypress":return e.which!==32?null:(VS=!0,$S);case"textInput":return t=e.data,t===$S&&VS?null:t;default:return null}}function vU(t,e){if($a)return t==="compositionend"||!ww&&UO(t,e)?(t=VO(),ip=xw=So=null,$a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return FO&&e.locale!=="ko"?null:e.data;default:return null}}var xU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function FS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xU[t.type]:e==="textarea"}function GO(t,e,n,r){bO(r),e=Mp(e,"onChange"),0<e.length&&(n=new bw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Oc=null,id=null;function bU(t){eM(t,0)}function Dg(t){var e=Ua(t);if(hO(e))return t}function _U(t,e){if(t==="change")return e}var zO=!1;if(ji){var M0;if(ji){var D0="oninput"in document;if(!D0){var US=document.createElement("div");US.setAttribute("oninput","return;"),D0=typeof US.oninput=="function"}M0=D0}else M0=!1;zO=M0&&(!document.documentMode||9<document.documentMode)}function BS(){Oc&&(Oc.detachEvent("onpropertychange",qO),id=Oc=null)}function qO(t){if(t.propertyName==="value"&&Dg(id)){var e=[];GO(e,id,t,pw(t)),TO(bU,e)}}function wU(t,e,n){t==="focusin"?(BS(),Oc=e,id=n,Oc.attachEvent("onpropertychange",qO)):t==="focusout"&&BS()}function EU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dg(id)}function TU(t,e){if(t==="click")return Dg(e)}function SU(t,e){if(t==="input"||t==="change")return Dg(e)}function AU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gr=typeof Object.is=="function"?Object.is:AU;function od(t,e){if(Gr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gv.call(e,i)||!Gr(t[i],e[i]))return!1}return!0}function GS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zS(t,e){var n=GS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=GS(n)}}function HO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?HO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function WO(){for(var t=window,e=Ip();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ip(t.document)}return e}function Ew(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function IU(t){var e=WO(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&HO(n.ownerDocument.documentElement,n)){if(r!==null&&Ew(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=zS(n,o);var s=zS(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kU=ji&&"documentMode"in document&&11>=document.documentMode,Va=null,lx=null,Mc=null,ux=!1;function qS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ux||Va==null||Va!==Ip(r)||(r=Va,"selectionStart"in r&&Ew(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mc&&od(Mc,r)||(Mc=r,r=Mp(lx,"onSelect"),0<r.length&&(e=new bw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Va)))}function bh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fa={animationend:bh("Animation","AnimationEnd"),animationiteration:bh("Animation","AnimationIteration"),animationstart:bh("Animation","AnimationStart"),transitionend:bh("Transition","TransitionEnd")},j0={},KO={};ji&&(KO=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function jg(t){if(j0[t])return j0[t];if(!Fa[t])return t;var e=Fa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in KO)return j0[t]=e[n];return t}var YO=jg("animationend"),JO=jg("animationiteration"),XO=jg("animationstart"),QO=jg("transitionend"),ZO=new Map,HS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zo(t,e){ZO.set(t,e),ca(e,[t])}for(var L0=0;L0<HS.length;L0++){var $0=HS[L0],CU=$0.toLowerCase(),PU=$0[0].toUpperCase()+$0.slice(1);Zo(CU,"on"+PU)}Zo(YO,"onAnimationEnd");Zo(JO,"onAnimationIteration");Zo(XO,"onAnimationStart");Zo("dblclick","onDoubleClick");Zo("focusin","onFocus");Zo("focusout","onBlur");Zo(QO,"onTransitionEnd");xl("onMouseEnter",["mouseout","mouseover"]);xl("onMouseLeave",["mouseout","mouseover"]);xl("onPointerEnter",["pointerout","pointerover"]);xl("onPointerLeave",["pointerout","pointerover"]);ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ca("onBeforeInput",["compositionend","keypress","textInput","paste"]);ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NU=new Set("cancel close invalid load scroll toggle".split(" ").concat(wc));function WS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,CF(r,e,void 0,t),t.currentTarget=null}function eM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;WS(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;WS(i,a,u),o=l}}}if(Cp)throw t=ix,Cp=!1,ix=null,t}function pt(t,e){var n=e[px];n===void 0&&(n=e[px]=new Set);var r=t+"__bubble";n.has(r)||(tM(e,t,2,!1),n.add(r))}function V0(t,e,n){var r=0;e&&(r|=4),tM(n,t,r,e)}var _h="_reactListening"+Math.random().toString(36).slice(2);function sd(t){if(!t[_h]){t[_h]=!0,lO.forEach(function(n){n!=="selectionchange"&&(NU.has(n)||V0(n,!1,t),V0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_h]||(e[_h]=!0,V0("selectionchange",!1,e))}}function tM(t,e,n,r){switch($O(e)){case 1:var i=qF;break;case 4:i=HF;break;default:i=vw}n=i.bind(null,e,n,t),i=void 0,!rx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function F0(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ks(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}TO(function(){var u=o,c=pw(n),f=[];e:{var h=ZO.get(t);if(h!==void 0){var y=bw,v=t;switch(t){case"keypress":if(op(n)===0)break e;case"keydown":case"keyup":y=aU;break;case"focusin":v="focus",y=O0;break;case"focusout":v="blur",y=O0;break;case"beforeblur":case"afterblur":y=O0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=DS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=YF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=cU;break;case YO:case JO:case XO:y=QF;break;case QO:y=fU;break;case"scroll":y=WF;break;case"wheel":y=pU;break;case"copy":case"cut":case"paste":y=eU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=LS}var b=(e&4)!==0,x=!b&&t==="scroll",w=b?h!==null?h+"Capture":null:h;b=[];for(var _=u,E;_!==null;){E=_;var P=E.stateNode;if(E.tag===5&&P!==null&&(E=P,w!==null&&(P=ed(_,w),P!=null&&b.push(ad(_,P,E)))),x)break;_=_.return}0<b.length&&(h=new y(h,v,null,n,c),f.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==tx&&(v=n.relatedTarget||n.fromElement)&&(ks(v)||v[Li]))break e;if((y||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?ks(v):null,v!==null&&(x=da(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(b=DS,P="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(b=LS,P="onPointerLeave",w="onPointerEnter",_="pointer"),x=y==null?h:Ua(y),E=v==null?h:Ua(v),h=new b(P,_+"leave",y,n,c),h.target=x,h.relatedTarget=E,P=null,ks(c)===u&&(b=new b(w,_+"enter",v,n,c),b.target=E,b.relatedTarget=x,P=b),x=P,y&&v)t:{for(b=y,w=v,_=0,E=b;E;E=Aa(E))_++;for(E=0,P=w;P;P=Aa(P))E++;for(;0<_-E;)b=Aa(b),_--;for(;0<E-_;)w=Aa(w),E--;for(;_--;){if(b===w||w!==null&&b===w.alternate)break t;b=Aa(b),w=Aa(w)}b=null}else b=null;y!==null&&KS(f,h,y,b,!1),v!==null&&x!==null&&KS(f,x,v,b,!0)}}e:{if(h=u?Ua(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var S=_U;else if(FS(h))if(zO)S=SU;else{S=EU;var C=wU}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=TU);if(S&&(S=S(t,u))){GO(f,S,n,c);break e}C&&C(t,h,u),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Jv(h,"number",h.value)}switch(C=u?Ua(u):window,t){case"focusin":(FS(C)||C.contentEditable==="true")&&(Va=C,lx=u,Mc=null);break;case"focusout":Mc=lx=Va=null;break;case"mousedown":ux=!0;break;case"contextmenu":case"mouseup":case"dragend":ux=!1,qS(f,n,c);break;case"selectionchange":if(kU)break;case"keydown":case"keyup":qS(f,n,c)}var I;if(ww)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else $a?UO(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(FO&&n.locale!=="ko"&&($a||T!=="onCompositionStart"?T==="onCompositionEnd"&&$a&&(I=VO()):(So=c,xw="value"in So?So.value:So.textContent,$a=!0)),C=Mp(u,T),0<C.length&&(T=new jS(T,t,null,n,c),f.push({event:T,listeners:C}),I?T.data=I:(I=BO(n),I!==null&&(T.data=I)))),(I=gU?yU(t,n):vU(t,n))&&(u=Mp(u,"onBeforeInput"),0<u.length&&(c=new jS("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=I))}eM(f,e)})}function ad(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ed(t,n),o!=null&&r.unshift(ad(t,o,i)),o=ed(t,e),o!=null&&r.push(ad(t,o,i))),t=t.return}return r}function Aa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function KS(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ed(n,o),l!=null&&s.unshift(ad(n,l,a))):i||(l=ed(n,o),l!=null&&s.push(ad(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var RU=/\r\n?/g,OU=/\u0000|\uFFFD/g;function YS(t){return(typeof t=="string"?t:""+t).replace(RU,`
`).replace(OU,"")}function wh(t,e,n){if(e=YS(e),YS(t)!==e&&n)throw Error(se(425))}function Dp(){}var cx=null,dx=null;function fx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hx=typeof setTimeout=="function"?setTimeout:void 0,MU=typeof clearTimeout=="function"?clearTimeout:void 0,JS=typeof Promise=="function"?Promise:void 0,DU=typeof queueMicrotask=="function"?queueMicrotask:typeof JS<"u"?function(t){return JS.resolve(null).then(t).catch(jU)}:hx;function jU(t){setTimeout(function(){throw t})}function U0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),rd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);rd(e)}function Mo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function XS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var cu=Math.random().toString(36).slice(2),Xr="__reactFiber$"+cu,ld="__reactProps$"+cu,Li="__reactContainer$"+cu,px="__reactEvents$"+cu,LU="__reactListeners$"+cu,$U="__reactHandles$"+cu;function ks(t){var e=t[Xr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Li]||n[Xr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=XS(t);t!==null;){if(n=t[Xr])return n;t=XS(t)}return e}t=n,n=t.parentNode}return null}function xf(t){return t=t[Xr]||t[Li],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ua(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(se(33))}function Lg(t){return t[ld]||null}var mx=[],Ba=-1;function es(t){return{current:t}}function yt(t){0>Ba||(t.current=mx[Ba],mx[Ba]=null,Ba--)}function dt(t,e){Ba++,mx[Ba]=t.current,t.current=e}var Wo={},wn=es(Wo),Un=es(!1),qs=Wo;function bl(t,e){var n=t.type.contextTypes;if(!n)return Wo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Bn(t){return t=t.childContextTypes,t!=null}function jp(){yt(Un),yt(wn)}function QS(t,e,n){if(wn.current!==Wo)throw Error(se(168));dt(wn,e),dt(Un,n)}function nM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(se(108,wF(t)||"Unknown",i));return Tt({},n,r)}function Lp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wo,qs=wn.current,dt(wn,t),dt(Un,Un.current),!0}function ZS(t,e,n){var r=t.stateNode;if(!r)throw Error(se(169));n?(t=nM(t,e,qs),r.__reactInternalMemoizedMergedChildContext=t,yt(Un),yt(wn),dt(wn,t)):yt(Un),dt(Un,n)}var bi=null,$g=!1,B0=!1;function rM(t){bi===null?bi=[t]:bi.push(t)}function VU(t){$g=!0,rM(t)}function ts(){if(!B0&&bi!==null){B0=!0;var t=0,e=et;try{var n=bi;for(et=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}bi=null,$g=!1}catch(i){throw bi!==null&&(bi=bi.slice(t+1)),kO(mw,ts),i}finally{et=e,B0=!1}}return null}var Ga=[],za=0,$p=null,Vp=0,ur=[],cr=0,Hs=null,Ei=1,Ti="";function xs(t,e){Ga[za++]=Vp,Ga[za++]=$p,$p=t,Vp=e}function iM(t,e,n){ur[cr++]=Ei,ur[cr++]=Ti,ur[cr++]=Hs,Hs=t;var r=Ei;t=Ti;var i=32-jr(r)-1;r&=~(1<<i),n+=1;var o=32-jr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ei=1<<32-jr(e)+i|n<<i|r,Ti=o+t}else Ei=1<<o|n<<i|r,Ti=t}function Tw(t){t.return!==null&&(xs(t,1),iM(t,1,0))}function Sw(t){for(;t===$p;)$p=Ga[--za],Ga[za]=null,Vp=Ga[--za],Ga[za]=null;for(;t===Hs;)Hs=ur[--cr],ur[cr]=null,Ti=ur[--cr],ur[cr]=null,Ei=ur[--cr],ur[cr]=null}var Zn=null,Xn=null,vt=!1,Or=null;function oM(t,e){var n=fr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function eA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zn=t,Xn=Mo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zn=t,Xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Hs!==null?{id:Ei,overflow:Ti}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zn=t,Xn=null,!0):!1;default:return!1}}function gx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yx(t){if(vt){var e=Xn;if(e){var n=e;if(!eA(t,e)){if(gx(t))throw Error(se(418));e=Mo(n.nextSibling);var r=Zn;e&&eA(t,e)?oM(r,n):(t.flags=t.flags&-4097|2,vt=!1,Zn=t)}}else{if(gx(t))throw Error(se(418));t.flags=t.flags&-4097|2,vt=!1,Zn=t}}}function tA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zn=t}function Eh(t){if(t!==Zn)return!1;if(!vt)return tA(t),vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fx(t.type,t.memoizedProps)),e&&(e=Xn)){if(gx(t))throw sM(),Error(se(418));for(;e;)oM(t,e),e=Mo(e.nextSibling)}if(tA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(se(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xn=Mo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xn=null}}else Xn=Zn?Mo(t.stateNode.nextSibling):null;return!0}function sM(){for(var t=Xn;t;)t=Mo(t.nextSibling)}function _l(){Xn=Zn=null,vt=!1}function Aw(t){Or===null?Or=[t]:Or.push(t)}var FU=Qi.ReactCurrentBatchConfig;function rc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(se(309));var r=n.stateNode}if(!r)throw Error(se(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(se(284));if(!n._owner)throw Error(se(290,t))}return t}function Th(t,e){throw t=Object.prototype.toString.call(e),Error(se(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nA(t){var e=t._init;return e(t._payload)}function aM(t){function e(w,_){if(t){var E=w.deletions;E===null?(w.deletions=[_],w.flags|=16):E.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(w,_){return w=$o(w,_),w.index=0,w.sibling=null,w}function o(w,_,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<_?(w.flags|=2,_):E):(w.flags|=2,_)):(w.flags|=1048576,_)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,_,E,P){return _===null||_.tag!==6?(_=Y0(E,w.mode,P),_.return=w,_):(_=i(_,E),_.return=w,_)}function l(w,_,E,P){var S=E.type;return S===La?c(w,_,E.props.children,P,E.key):_!==null&&(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===mo&&nA(S)===_.type)?(P=i(_,E.props),P.ref=rc(w,_,E),P.return=w,P):(P=fp(E.type,E.key,E.props,null,w.mode,P),P.ref=rc(w,_,E),P.return=w,P)}function u(w,_,E,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=J0(E,w.mode,P),_.return=w,_):(_=i(_,E.children||[]),_.return=w,_)}function c(w,_,E,P,S){return _===null||_.tag!==7?(_=Vs(E,w.mode,P,S),_.return=w,_):(_=i(_,E),_.return=w,_)}function f(w,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Y0(""+_,w.mode,E),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case hh:return E=fp(_.type,_.key,_.props,null,w.mode,E),E.ref=rc(w,null,_),E.return=w,E;case ja:return _=J0(_,w.mode,E),_.return=w,_;case mo:var P=_._init;return f(w,P(_._payload),E)}if(bc(_)||Qu(_))return _=Vs(_,w.mode,E,null),_.return=w,_;Th(w,_)}return null}function h(w,_,E,P){var S=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return S!==null?null:a(w,_,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case hh:return E.key===S?l(w,_,E,P):null;case ja:return E.key===S?u(w,_,E,P):null;case mo:return S=E._init,h(w,_,S(E._payload),P)}if(bc(E)||Qu(E))return S!==null?null:c(w,_,E,P,null);Th(w,E)}return null}function y(w,_,E,P,S){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(E)||null,a(_,w,""+P,S);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case hh:return w=w.get(P.key===null?E:P.key)||null,l(_,w,P,S);case ja:return w=w.get(P.key===null?E:P.key)||null,u(_,w,P,S);case mo:var C=P._init;return y(w,_,E,C(P._payload),S)}if(bc(P)||Qu(P))return w=w.get(E)||null,c(_,w,P,S,null);Th(_,P)}return null}function v(w,_,E,P){for(var S=null,C=null,I=_,T=_=0,k=null;I!==null&&T<E.length;T++){I.index>T?(k=I,I=null):k=I.sibling;var N=h(w,I,E[T],P);if(N===null){I===null&&(I=k);break}t&&I&&N.alternate===null&&e(w,I),_=o(N,_,T),C===null?S=N:C.sibling=N,C=N,I=k}if(T===E.length)return n(w,I),vt&&xs(w,T),S;if(I===null){for(;T<E.length;T++)I=f(w,E[T],P),I!==null&&(_=o(I,_,T),C===null?S=I:C.sibling=I,C=I);return vt&&xs(w,T),S}for(I=r(w,I);T<E.length;T++)k=y(I,w,T,E[T],P),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?T:k.key),_=o(k,_,T),C===null?S=k:C.sibling=k,C=k);return t&&I.forEach(function(O){return e(w,O)}),vt&&xs(w,T),S}function b(w,_,E,P){var S=Qu(E);if(typeof S!="function")throw Error(se(150));if(E=S.call(E),E==null)throw Error(se(151));for(var C=S=null,I=_,T=_=0,k=null,N=E.next();I!==null&&!N.done;T++,N=E.next()){I.index>T?(k=I,I=null):k=I.sibling;var O=h(w,I,N.value,P);if(O===null){I===null&&(I=k);break}t&&I&&O.alternate===null&&e(w,I),_=o(O,_,T),C===null?S=O:C.sibling=O,C=O,I=k}if(N.done)return n(w,I),vt&&xs(w,T),S;if(I===null){for(;!N.done;T++,N=E.next())N=f(w,N.value,P),N!==null&&(_=o(N,_,T),C===null?S=N:C.sibling=N,C=N);return vt&&xs(w,T),S}for(I=r(w,I);!N.done;T++,N=E.next())N=y(I,w,T,N.value,P),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?T:N.key),_=o(N,_,T),C===null?S=N:C.sibling=N,C=N);return t&&I.forEach(function(M){return e(w,M)}),vt&&xs(w,T),S}function x(w,_,E,P){if(typeof E=="object"&&E!==null&&E.type===La&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case hh:e:{for(var S=E.key,C=_;C!==null;){if(C.key===S){if(S=E.type,S===La){if(C.tag===7){n(w,C.sibling),_=i(C,E.props.children),_.return=w,w=_;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===mo&&nA(S)===C.type){n(w,C.sibling),_=i(C,E.props),_.ref=rc(w,C,E),_.return=w,w=_;break e}n(w,C);break}else e(w,C);C=C.sibling}E.type===La?(_=Vs(E.props.children,w.mode,P,E.key),_.return=w,w=_):(P=fp(E.type,E.key,E.props,null,w.mode,P),P.ref=rc(w,_,E),P.return=w,w=P)}return s(w);case ja:e:{for(C=E.key;_!==null;){if(_.key===C)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(w,_.sibling),_=i(_,E.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=J0(E,w.mode,P),_.return=w,w=_}return s(w);case mo:return C=E._init,x(w,_,C(E._payload),P)}if(bc(E))return v(w,_,E,P);if(Qu(E))return b(w,_,E,P);Th(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(n(w,_.sibling),_=i(_,E),_.return=w,w=_):(n(w,_),_=Y0(E,w.mode,P),_.return=w,w=_),s(w)):n(w,_)}return x}var wl=aM(!0),lM=aM(!1),Fp=es(null),Up=null,qa=null,Iw=null;function kw(){Iw=qa=Up=null}function Cw(t){var e=Fp.current;yt(Fp),t._currentValue=e}function vx(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ll(t,e){Up=t,Iw=qa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vn=!0),t.firstContext=null)}function yr(t){var e=t._currentValue;if(Iw!==t)if(t={context:t,memoizedValue:e,next:null},qa===null){if(Up===null)throw Error(se(308));qa=t,Up.dependencies={lanes:0,firstContext:t}}else qa=qa.next=t;return e}var Cs=null;function Pw(t){Cs===null?Cs=[t]:Cs.push(t)}function uM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Pw(e)):(n.next=i.next,i.next=n),e.interleaved=n,$i(t,r)}function $i(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var go=!1;function Nw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ni(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Do(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ge&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,$i(t,n)}return i=r.interleaved,i===null?(e.next=e,Pw(r)):(e.next=i.next,i.next=e),r.interleaved=e,$i(t,n)}function sp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gw(t,n)}}function rA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bp(t,e,n,r){var i=t.updateQueue;go=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,y=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,b=a;switch(h=e,y=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){f=v.call(y,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,h=typeof v=="function"?v.call(y,f,h):v,h==null)break e;f=Tt({},f,h);break e;case 2:go=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=y,l=f):c=c.next=y,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ks|=s,t.lanes=s,t.memoizedState=f}}function iA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(se(191,i));i.call(r)}}}var bf={},ti=es(bf),ud=es(bf),cd=es(bf);function Ps(t){if(t===bf)throw Error(se(174));return t}function Rw(t,e){switch(dt(cd,e),dt(ud,t),dt(ti,bf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qv(e,t)}yt(ti),dt(ti,e)}function El(){yt(ti),yt(ud),yt(cd)}function dM(t){Ps(cd.current);var e=Ps(ti.current),n=Qv(e,t.type);e!==n&&(dt(ud,t),dt(ti,n))}function Ow(t){ud.current===t&&(yt(ti),yt(ud))}var bt=es(0);function Gp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var G0=[];function Mw(){for(var t=0;t<G0.length;t++)G0[t]._workInProgressVersionPrimary=null;G0.length=0}var ap=Qi.ReactCurrentDispatcher,z0=Qi.ReactCurrentBatchConfig,Ws=0,Et=null,Vt=null,Wt=null,zp=!1,Dc=!1,dd=0,UU=0;function pn(){throw Error(se(321))}function Dw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Gr(t[n],e[n]))return!1;return!0}function jw(t,e,n,r,i,o){if(Ws=o,Et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ap.current=t===null||t.memoizedState===null?qU:HU,t=n(r,i),Dc){o=0;do{if(Dc=!1,dd=0,25<=o)throw Error(se(301));o+=1,Wt=Vt=null,e.updateQueue=null,ap.current=WU,t=n(r,i)}while(Dc)}if(ap.current=qp,e=Vt!==null&&Vt.next!==null,Ws=0,Wt=Vt=Et=null,zp=!1,e)throw Error(se(300));return t}function Lw(){var t=dd!==0;return dd=0,t}function Jr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?Et.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function vr(){if(Vt===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=Vt.next;var e=Wt===null?Et.memoizedState:Wt.next;if(e!==null)Wt=e,Vt=t;else{if(t===null)throw Error(se(310));Vt=t,t={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Wt===null?Et.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function fd(t,e){return typeof e=="function"?e(t):e}function q0(t){var e=vr(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=Vt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Ws&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Et.lanes|=c,Ks|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Gr(r,e.memoizedState)||(Vn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Et.lanes|=o,Ks|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function H0(t){var e=vr(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Gr(o,e.memoizedState)||(Vn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function fM(){}function hM(t,e){var n=Et,r=vr(),i=e(),o=!Gr(r.memoizedState,i);if(o&&(r.memoizedState=i,Vn=!0),r=r.queue,$w(gM.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Wt!==null&&Wt.memoizedState.tag&1){if(n.flags|=2048,hd(9,mM.bind(null,n,r,i,e),void 0,null),Jt===null)throw Error(se(349));Ws&30||pM(n,e,i)}return i}function pM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function mM(t,e,n,r){e.value=n,e.getSnapshot=r,yM(e)&&vM(t)}function gM(t,e,n){return n(function(){yM(e)&&vM(t)})}function yM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Gr(t,n)}catch{return!0}}function vM(t){var e=$i(t,1);e!==null&&Lr(e,t,1,-1)}function oA(t){var e=Jr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fd,lastRenderedState:t},e.queue=t,t=t.dispatch=zU.bind(null,Et,t),[e.memoizedState,t]}function hd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function xM(){return vr().memoizedState}function lp(t,e,n,r){var i=Jr();Et.flags|=t,i.memoizedState=hd(1|e,n,void 0,r===void 0?null:r)}function Vg(t,e,n,r){var i=vr();r=r===void 0?null:r;var o=void 0;if(Vt!==null){var s=Vt.memoizedState;if(o=s.destroy,r!==null&&Dw(r,s.deps)){i.memoizedState=hd(e,n,o,r);return}}Et.flags|=t,i.memoizedState=hd(1|e,n,o,r)}function sA(t,e){return lp(8390656,8,t,e)}function $w(t,e){return Vg(2048,8,t,e)}function bM(t,e){return Vg(4,2,t,e)}function _M(t,e){return Vg(4,4,t,e)}function wM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function EM(t,e,n){return n=n!=null?n.concat([t]):null,Vg(4,4,wM.bind(null,e,t),n)}function Vw(){}function TM(t,e){var n=vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function SM(t,e){var n=vr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function AM(t,e,n){return Ws&21?(Gr(n,e)||(n=NO(),Et.lanes|=n,Ks|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vn=!0),t.memoizedState=n)}function BU(t,e){var n=et;et=n!==0&&4>n?n:4,t(!0);var r=z0.transition;z0.transition={};try{t(!1),e()}finally{et=n,z0.transition=r}}function IM(){return vr().memoizedState}function GU(t,e,n){var r=Lo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kM(t))CM(e,n);else if(n=uM(t,e,n,r),n!==null){var i=On();Lr(n,t,r,i),PM(n,e,r)}}function zU(t,e,n){var r=Lo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kM(t))CM(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Gr(a,s)){var l=e.interleaved;l===null?(i.next=i,Pw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=uM(t,e,i,r),n!==null&&(i=On(),Lr(n,t,r,i),PM(n,e,r))}}function kM(t){var e=t.alternate;return t===Et||e!==null&&e===Et}function CM(t,e){Dc=zp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function PM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gw(t,n)}}var qp={readContext:yr,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},qU={readContext:yr,useCallback:function(t,e){return Jr().memoizedState=[t,e===void 0?null:e],t},useContext:yr,useEffect:sA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,lp(4194308,4,wM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return lp(4194308,4,t,e)},useInsertionEffect:function(t,e){return lp(4,2,t,e)},useMemo:function(t,e){var n=Jr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=GU.bind(null,Et,t),[r.memoizedState,t]},useRef:function(t){var e=Jr();return t={current:t},e.memoizedState=t},useState:oA,useDebugValue:Vw,useDeferredValue:function(t){return Jr().memoizedState=t},useTransition:function(){var t=oA(!1),e=t[0];return t=BU.bind(null,t[1]),Jr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Et,i=Jr();if(vt){if(n===void 0)throw Error(se(407));n=n()}else{if(n=e(),Jt===null)throw Error(se(349));Ws&30||pM(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,sA(gM.bind(null,r,o,t),[t]),r.flags|=2048,hd(9,mM.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Jr(),e=Jt.identifierPrefix;if(vt){var n=Ti,r=Ei;n=(r&~(1<<32-jr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=dd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=UU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},HU={readContext:yr,useCallback:TM,useContext:yr,useEffect:$w,useImperativeHandle:EM,useInsertionEffect:bM,useLayoutEffect:_M,useMemo:SM,useReducer:q0,useRef:xM,useState:function(){return q0(fd)},useDebugValue:Vw,useDeferredValue:function(t){var e=vr();return AM(e,Vt.memoizedState,t)},useTransition:function(){var t=q0(fd)[0],e=vr().memoizedState;return[t,e]},useMutableSource:fM,useSyncExternalStore:hM,useId:IM,unstable_isNewReconciler:!1},WU={readContext:yr,useCallback:TM,useContext:yr,useEffect:$w,useImperativeHandle:EM,useInsertionEffect:bM,useLayoutEffect:_M,useMemo:SM,useReducer:H0,useRef:xM,useState:function(){return H0(fd)},useDebugValue:Vw,useDeferredValue:function(t){var e=vr();return Vt===null?e.memoizedState=t:AM(e,Vt.memoizedState,t)},useTransition:function(){var t=H0(fd)[0],e=vr().memoizedState;return[t,e]},useMutableSource:fM,useSyncExternalStore:hM,useId:IM,unstable_isNewReconciler:!1};function Cr(t,e){if(t&&t.defaultProps){e=Tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function xx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fg={isMounted:function(t){return(t=t._reactInternals)?da(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=On(),i=Lo(t),o=Ni(r,i);o.payload=e,n!=null&&(o.callback=n),e=Do(t,o,i),e!==null&&(Lr(e,t,i,r),sp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=On(),i=Lo(t),o=Ni(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Do(t,o,i),e!==null&&(Lr(e,t,i,r),sp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=On(),r=Lo(t),i=Ni(n,r);i.tag=2,e!=null&&(i.callback=e),e=Do(t,i,r),e!==null&&(Lr(e,t,r,n),sp(e,t,r))}};function aA(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!od(n,r)||!od(i,o):!0}function NM(t,e,n){var r=!1,i=Wo,o=e.contextType;return typeof o=="object"&&o!==null?o=yr(o):(i=Bn(e)?qs:wn.current,r=e.contextTypes,o=(r=r!=null)?bl(t,i):Wo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function lA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fg.enqueueReplaceState(e,e.state,null)}function bx(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Nw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=yr(o):(o=Bn(e)?qs:wn.current,i.context=bl(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(xx(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Fg.enqueueReplaceState(i,i.state,null),Bp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Tl(t,e){try{var n="",r=e;do n+=_F(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function W0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _x(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var KU=typeof WeakMap=="function"?WeakMap:Map;function RM(t,e,n){n=Ni(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wp||(Wp=!0,Nx=r),_x(t,e)},n}function OM(t,e,n){n=Ni(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){_x(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){_x(t,e),typeof r!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function uA(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new KU;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=lB.bind(null,t,e,n),e.then(t,t))}function cA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dA(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ni(-1,1),e.tag=2,Do(n,e,1))),n.lanes|=1),t)}var YU=Qi.ReactCurrentOwner,Vn=!1;function kn(t,e,n,r){e.child=t===null?lM(e,null,n,r):wl(e,t.child,n,r)}function fA(t,e,n,r,i){n=n.render;var o=e.ref;return ll(e,i),r=jw(t,e,n,r,o,i),n=Lw(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vi(t,e,i)):(vt&&n&&Tw(e),e.flags|=1,kn(t,e,r,i),e.child)}function hA(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Ww(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,MM(t,e,o,r,i)):(t=fp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:od,n(s,r)&&t.ref===e.ref)return Vi(t,e,i)}return e.flags|=1,t=$o(o,r),t.ref=e.ref,t.return=e,e.child=t}function MM(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(od(o,r)&&t.ref===e.ref)if(Vn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Vn=!0);else return e.lanes=t.lanes,Vi(t,e,i)}return wx(t,e,n,r,i)}function DM(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(Wa,Kn),Kn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,dt(Wa,Kn),Kn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,dt(Wa,Kn),Kn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,dt(Wa,Kn),Kn|=r;return kn(t,e,i,n),e.child}function jM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wx(t,e,n,r,i){var o=Bn(n)?qs:wn.current;return o=bl(e,o),ll(e,i),n=jw(t,e,n,r,o,i),r=Lw(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vi(t,e,i)):(vt&&r&&Tw(e),e.flags|=1,kn(t,e,n,i),e.child)}function pA(t,e,n,r,i){if(Bn(n)){var o=!0;Lp(e)}else o=!1;if(ll(e,i),e.stateNode===null)up(t,e),NM(e,n,r),bx(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=yr(u):(u=Bn(n)?qs:wn.current,u=bl(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&lA(e,s,r,u),go=!1;var h=e.memoizedState;s.state=h,Bp(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Un.current||go?(typeof c=="function"&&(xx(e,n,c,r),l=e.memoizedState),(a=go||aA(e,n,a,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,cM(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Cr(e.type,a),s.props=u,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=yr(l):(l=Bn(n)?qs:wn.current,l=bl(e,l));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&lA(e,s,r,l),go=!1,h=e.memoizedState,s.state=h,Bp(e,r,s,i);var v=e.memoizedState;a!==f||h!==v||Un.current||go?(typeof y=="function"&&(xx(e,n,y,r),v=e.memoizedState),(u=go||aA(e,n,u,r,h,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Ex(t,e,n,r,o,i)}function Ex(t,e,n,r,i,o){jM(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&ZS(e,n,!1),Vi(t,e,o);r=e.stateNode,YU.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=wl(e,t.child,null,o),e.child=wl(e,null,a,o)):kn(t,e,a,o),e.memoizedState=r.state,i&&ZS(e,n,!0),e.child}function LM(t){var e=t.stateNode;e.pendingContext?QS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&QS(t,e.context,!1),Rw(t,e.containerInfo)}function mA(t,e,n,r,i){return _l(),Aw(i),e.flags|=256,kn(t,e,n,r),e.child}var Tx={dehydrated:null,treeContext:null,retryLane:0};function Sx(t){return{baseLanes:t,cachePool:null,transitions:null}}function $M(t,e,n){var r=e.pendingProps,i=bt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),dt(bt,i&1),t===null)return yx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Gg(s,r,0,null),t=Vs(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Sx(n),e.memoizedState=Tx,t):Fw(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return JU(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=$o(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=$o(a,o):(o=Vs(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Sx(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Tx,r}return o=t.child,t=o.sibling,r=$o(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Fw(t,e){return e=Gg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sh(t,e,n,r){return r!==null&&Aw(r),wl(e,t.child,null,n),t=Fw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function JU(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=W0(Error(se(422))),Sh(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Gg({mode:"visible",children:r.children},i,0,null),o=Vs(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&wl(e,t.child,null,s),e.child.memoizedState=Sx(s),e.memoizedState=Tx,o);if(!(e.mode&1))return Sh(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(se(419)),r=W0(o,r,void 0),Sh(t,e,s,r)}if(a=(s&t.childLanes)!==0,Vn||a){if(r=Jt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,$i(t,i),Lr(r,t,i,-1))}return Hw(),r=W0(Error(se(421))),Sh(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=uB.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Xn=Mo(i.nextSibling),Zn=e,vt=!0,Or=null,t!==null&&(ur[cr++]=Ei,ur[cr++]=Ti,ur[cr++]=Hs,Ei=t.id,Ti=t.overflow,Hs=e),e=Fw(e,r.children),e.flags|=4096,e)}function gA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vx(t.return,e,n)}function K0(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function VM(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(kn(t,e,r.children,n),r=bt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gA(t,n,e);else if(t.tag===19)gA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(dt(bt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Gp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),K0(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Gp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}K0(e,!0,n,null,o);break;case"together":K0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function up(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ks|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(se(153));if(e.child!==null){for(t=e.child,n=$o(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$o(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function XU(t,e,n){switch(e.tag){case 3:LM(e),_l();break;case 5:dM(e);break;case 1:Bn(e.type)&&Lp(e);break;case 4:Rw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;dt(Fp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(dt(bt,bt.current&1),e.flags|=128,null):n&e.child.childLanes?$M(t,e,n):(dt(bt,bt.current&1),t=Vi(t,e,n),t!==null?t.sibling:null);dt(bt,bt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return VM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dt(bt,bt.current),r)break;return null;case 22:case 23:return e.lanes=0,DM(t,e,n)}return Vi(t,e,n)}var FM,Ax,UM,BM;FM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ax=function(){};UM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ps(ti.current);var o=null;switch(n){case"input":i=Kv(t,i),r=Kv(t,r),o=[];break;case"select":i=Tt({},i,{value:void 0}),r=Tt({},r,{value:void 0}),o=[];break;case"textarea":i=Xv(t,i),r=Xv(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Dp)}Zv(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Qc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Qc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&pt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};BM=function(t,e,n,r){n!==r&&(e.flags|=4)};function ic(t,e){if(!vt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function QU(t,e,n){var r=e.pendingProps;switch(Sw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(e),null;case 1:return Bn(e.type)&&jp(),mn(e),null;case 3:return r=e.stateNode,El(),yt(Un),yt(wn),Mw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Eh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Or!==null&&(Mx(Or),Or=null))),Ax(t,e),mn(e),null;case 5:Ow(e);var i=Ps(cd.current);if(n=e.type,t!==null&&e.stateNode!=null)UM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(se(166));return mn(e),null}if(t=Ps(ti.current),Eh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Xr]=e,r[ld]=o,t=(e.mode&1)!==0,n){case"dialog":pt("cancel",r),pt("close",r);break;case"iframe":case"object":case"embed":pt("load",r);break;case"video":case"audio":for(i=0;i<wc.length;i++)pt(wc[i],r);break;case"source":pt("error",r);break;case"img":case"image":case"link":pt("error",r),pt("load",r);break;case"details":pt("toggle",r);break;case"input":SS(r,o),pt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},pt("invalid",r);break;case"textarea":IS(r,o),pt("invalid",r)}Zv(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&wh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&wh(r.textContent,a,t),i=["children",""+a]):Qc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&pt("scroll",r)}switch(n){case"input":ph(r),AS(r,o,!0);break;case"textarea":ph(r),kS(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Dp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Xr]=e,t[ld]=r,FM(t,e,!1,!1),e.stateNode=t;e:{switch(s=ex(n,r),n){case"dialog":pt("cancel",t),pt("close",t),i=r;break;case"iframe":case"object":case"embed":pt("load",t),i=r;break;case"video":case"audio":for(i=0;i<wc.length;i++)pt(wc[i],t);i=r;break;case"source":pt("error",t),i=r;break;case"img":case"image":case"link":pt("error",t),pt("load",t),i=r;break;case"details":pt("toggle",t),i=r;break;case"input":SS(t,r),i=Kv(t,r),pt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Tt({},r,{value:void 0}),pt("invalid",t);break;case"textarea":IS(t,r),i=Xv(t,r),pt("invalid",t);break;default:i=r}Zv(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?xO(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&yO(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Zc(t,l):typeof l=="number"&&Zc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Qc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&pt("scroll",t):l!=null&&cw(t,o,l,s))}switch(n){case"input":ph(t),AS(t,r,!1);break;case"textarea":ph(t),kS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ho(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?il(t,!!r.multiple,o,!1):r.defaultValue!=null&&il(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Dp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mn(e),null;case 6:if(t&&e.stateNode!=null)BM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(se(166));if(n=Ps(cd.current),Ps(ti.current),Eh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xr]=e,(o=r.nodeValue!==n)&&(t=Zn,t!==null))switch(t.tag){case 3:wh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xr]=e,e.stateNode=r}return mn(e),null;case 13:if(yt(bt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vt&&Xn!==null&&e.mode&1&&!(e.flags&128))sM(),_l(),e.flags|=98560,o=!1;else if(o=Eh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(se(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(se(317));o[Xr]=e}else _l(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mn(e),o=!1}else Or!==null&&(Mx(Or),Or=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||bt.current&1?Ut===0&&(Ut=3):Hw())),e.updateQueue!==null&&(e.flags|=4),mn(e),null);case 4:return El(),Ax(t,e),t===null&&sd(e.stateNode.containerInfo),mn(e),null;case 10:return Cw(e.type._context),mn(e),null;case 17:return Bn(e.type)&&jp(),mn(e),null;case 19:if(yt(bt),o=e.memoizedState,o===null)return mn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ic(o,!1);else{if(Ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Gp(t),s!==null){for(e.flags|=128,ic(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return dt(bt,bt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Nt()>Sl&&(e.flags|=128,r=!0,ic(o,!1),e.lanes=4194304)}else{if(!r)if(t=Gp(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ic(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!vt)return mn(e),null}else 2*Nt()-o.renderingStartTime>Sl&&n!==1073741824&&(e.flags|=128,r=!0,ic(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Nt(),e.sibling=null,n=bt.current,dt(bt,r?n&1|2:n&1),e):(mn(e),null);case 22:case 23:return qw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Kn&1073741824&&(mn(e),e.subtreeFlags&6&&(e.flags|=8192)):mn(e),null;case 24:return null;case 25:return null}throw Error(se(156,e.tag))}function ZU(t,e){switch(Sw(e),e.tag){case 1:return Bn(e.type)&&jp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return El(),yt(Un),yt(wn),Mw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ow(e),null;case 13:if(yt(bt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(se(340));_l()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yt(bt),null;case 4:return El(),null;case 10:return Cw(e.type._context),null;case 22:case 23:return qw(),null;case 24:return null;default:return null}}var Ah=!1,vn=!1,eB=typeof WeakSet=="function"?WeakSet:Set,me=null;function Ha(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){It(t,e,r)}else n.current=null}function Ix(t,e,n){try{n()}catch(r){It(t,e,r)}}var yA=!1;function tB(t,e){if(cx=Rp,t=WO(),Ew(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(dx={focusedElem:t,selectionRange:n},Rp=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,x=v.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?b:Cr(e.type,b),x);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(P){It(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return v=yA,yA=!1,v}function jc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Ix(e,n,o)}i=i.next}while(i!==r)}}function Ug(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kx(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function GM(t){var e=t.alternate;e!==null&&(t.alternate=null,GM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xr],delete e[ld],delete e[px],delete e[LU],delete e[$U])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zM(t){return t.tag===5||t.tag===3||t.tag===4}function vA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Dp));else if(r!==4&&(t=t.child,t!==null))for(Cx(t,e,n),t=t.sibling;t!==null;)Cx(t,e,n),t=t.sibling}function Px(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Px(t,e,n),t=t.sibling;t!==null;)Px(t,e,n),t=t.sibling}var nn=null,Pr=!1;function fo(t,e,n){for(n=n.child;n!==null;)qM(t,e,n),n=n.sibling}function qM(t,e,n){if(ei&&typeof ei.onCommitFiberUnmount=="function")try{ei.onCommitFiberUnmount(Og,n)}catch{}switch(n.tag){case 5:vn||Ha(n,e);case 6:var r=nn,i=Pr;nn=null,fo(t,e,n),nn=r,Pr=i,nn!==null&&(Pr?(t=nn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):nn.removeChild(n.stateNode));break;case 18:nn!==null&&(Pr?(t=nn,n=n.stateNode,t.nodeType===8?U0(t.parentNode,n):t.nodeType===1&&U0(t,n),rd(t)):U0(nn,n.stateNode));break;case 4:r=nn,i=Pr,nn=n.stateNode.containerInfo,Pr=!0,fo(t,e,n),nn=r,Pr=i;break;case 0:case 11:case 14:case 15:if(!vn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Ix(n,e,s),i=i.next}while(i!==r)}fo(t,e,n);break;case 1:if(!vn&&(Ha(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){It(n,e,a)}fo(t,e,n);break;case 21:fo(t,e,n);break;case 22:n.mode&1?(vn=(r=vn)||n.memoizedState!==null,fo(t,e,n),vn=r):fo(t,e,n);break;default:fo(t,e,n)}}function xA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eB),e.forEach(function(r){var i=cB.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ir(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:nn=a.stateNode,Pr=!1;break e;case 3:nn=a.stateNode.containerInfo,Pr=!0;break e;case 4:nn=a.stateNode.containerInfo,Pr=!0;break e}a=a.return}if(nn===null)throw Error(se(160));qM(o,s,i),nn=null,Pr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){It(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)HM(e,t),e=e.sibling}function HM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ir(e,t),Yr(t),r&4){try{jc(3,t,t.return),Ug(3,t)}catch(b){It(t,t.return,b)}try{jc(5,t,t.return)}catch(b){It(t,t.return,b)}}break;case 1:Ir(e,t),Yr(t),r&512&&n!==null&&Ha(n,n.return);break;case 5:if(Ir(e,t),Yr(t),r&512&&n!==null&&Ha(n,n.return),t.flags&32){var i=t.stateNode;try{Zc(i,"")}catch(b){It(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&pO(i,o),ex(a,s);var u=ex(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?xO(i,f):c==="dangerouslySetInnerHTML"?yO(i,f):c==="children"?Zc(i,f):cw(i,c,f,u)}switch(a){case"input":Yv(i,o);break;case"textarea":mO(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?il(i,!!o.multiple,y,!1):h!==!!o.multiple&&(o.defaultValue!=null?il(i,!!o.multiple,o.defaultValue,!0):il(i,!!o.multiple,o.multiple?[]:"",!1))}i[ld]=o}catch(b){It(t,t.return,b)}}break;case 6:if(Ir(e,t),Yr(t),r&4){if(t.stateNode===null)throw Error(se(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(b){It(t,t.return,b)}}break;case 3:if(Ir(e,t),Yr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{rd(e.containerInfo)}catch(b){It(t,t.return,b)}break;case 4:Ir(e,t),Yr(t);break;case 13:Ir(e,t),Yr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Gw=Nt())),r&4&&xA(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(vn=(u=vn)||c,Ir(e,t),vn=u):Ir(e,t),Yr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(me=t,c=t.child;c!==null;){for(f=me=c;me!==null;){switch(h=me,y=h.child,h.tag){case 0:case 11:case 14:case 15:jc(4,h,h.return);break;case 1:Ha(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){It(r,n,b)}}break;case 5:Ha(h,h.return);break;case 22:if(h.memoizedState!==null){_A(f);continue}}y!==null?(y.return=h,me=y):_A(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=vO("display",s))}catch(b){It(t,t.return,b)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){It(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ir(e,t),Yr(t),r&4&&xA(t);break;case 21:break;default:Ir(e,t),Yr(t)}}function Yr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(zM(n)){var r=n;break e}n=n.return}throw Error(se(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Zc(i,""),r.flags&=-33);var o=vA(t);Px(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=vA(t);Cx(t,a,s);break;default:throw Error(se(161))}}catch(l){It(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nB(t,e,n){me=t,WM(t)}function WM(t,e,n){for(var r=(t.mode&1)!==0;me!==null;){var i=me,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ah;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||vn;a=Ah;var u=vn;if(Ah=s,(vn=l)&&!u)for(me=i;me!==null;)s=me,l=s.child,s.tag===22&&s.memoizedState!==null?wA(i):l!==null?(l.return=s,me=l):wA(i);for(;o!==null;)me=o,WM(o),o=o.sibling;me=i,Ah=a,vn=u}bA(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,me=o):bA(t)}}function bA(t){for(;me!==null;){var e=me;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vn||Ug(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!vn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Cr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&iA(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}iA(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&rd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}vn||e.flags&512&&kx(e)}catch(h){It(e,e.return,h)}}if(e===t){me=null;break}if(n=e.sibling,n!==null){n.return=e.return,me=n;break}me=e.return}}function _A(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,me=n;break}me=e.return}}function wA(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ug(4,e)}catch(l){It(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){It(e,i,l)}}var o=e.return;try{kx(e)}catch(l){It(e,o,l)}break;case 5:var s=e.return;try{kx(e)}catch(l){It(e,s,l)}}}catch(l){It(e,e.return,l)}if(e===t){me=null;break}var a=e.sibling;if(a!==null){a.return=e.return,me=a;break}me=e.return}}var rB=Math.ceil,Hp=Qi.ReactCurrentDispatcher,Uw=Qi.ReactCurrentOwner,pr=Qi.ReactCurrentBatchConfig,Ge=0,Jt=null,Mt=null,an=0,Kn=0,Wa=es(0),Ut=0,pd=null,Ks=0,Bg=0,Bw=0,Lc=null,$n=null,Gw=0,Sl=1/0,vi=null,Wp=!1,Nx=null,jo=null,Ih=!1,Ao=null,Kp=0,$c=0,Rx=null,cp=-1,dp=0;function On(){return Ge&6?Nt():cp!==-1?cp:cp=Nt()}function Lo(t){return t.mode&1?Ge&2&&an!==0?an&-an:FU.transition!==null?(dp===0&&(dp=NO()),dp):(t=et,t!==0||(t=window.event,t=t===void 0?16:$O(t.type)),t):1}function Lr(t,e,n,r){if(50<$c)throw $c=0,Rx=null,Error(se(185));yf(t,n,r),(!(Ge&2)||t!==Jt)&&(t===Jt&&(!(Ge&2)&&(Bg|=n),Ut===4&&xo(t,an)),Gn(t,r),n===1&&Ge===0&&!(e.mode&1)&&(Sl=Nt()+500,$g&&ts()))}function Gn(t,e){var n=t.callbackNode;FF(t,e);var r=Np(t,t===Jt?an:0);if(r===0)n!==null&&NS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&NS(n),e===1)t.tag===0?VU(EA.bind(null,t)):rM(EA.bind(null,t)),DU(function(){!(Ge&6)&&ts()}),n=null;else{switch(RO(r)){case 1:n=mw;break;case 4:n=CO;break;case 16:n=Pp;break;case 536870912:n=PO;break;default:n=Pp}n=tD(n,KM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function KM(t,e){if(cp=-1,dp=0,Ge&6)throw Error(se(327));var n=t.callbackNode;if(ul()&&t.callbackNode!==n)return null;var r=Np(t,t===Jt?an:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yp(t,r);else{e=r;var i=Ge;Ge|=2;var o=JM();(Jt!==t||an!==e)&&(vi=null,Sl=Nt()+500,$s(t,e));do try{sB();break}catch(a){YM(t,a)}while(!0);kw(),Hp.current=o,Ge=i,Mt!==null?e=0:(Jt=null,an=0,e=Ut)}if(e!==0){if(e===2&&(i=ox(t),i!==0&&(r=i,e=Ox(t,i))),e===1)throw n=pd,$s(t,0),xo(t,r),Gn(t,Nt()),n;if(e===6)xo(t,r);else{if(i=t.current.alternate,!(r&30)&&!iB(i)&&(e=Yp(t,r),e===2&&(o=ox(t),o!==0&&(r=o,e=Ox(t,o))),e===1))throw n=pd,$s(t,0),xo(t,r),Gn(t,Nt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(se(345));case 2:bs(t,$n,vi);break;case 3:if(xo(t,r),(r&130023424)===r&&(e=Gw+500-Nt(),10<e)){if(Np(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){On(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=hx(bs.bind(null,t,$n,vi),e);break}bs(t,$n,vi);break;case 4:if(xo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-jr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rB(r/1960))-r,10<r){t.timeoutHandle=hx(bs.bind(null,t,$n,vi),r);break}bs(t,$n,vi);break;case 5:bs(t,$n,vi);break;default:throw Error(se(329))}}}return Gn(t,Nt()),t.callbackNode===n?KM.bind(null,t):null}function Ox(t,e){var n=Lc;return t.current.memoizedState.isDehydrated&&($s(t,e).flags|=256),t=Yp(t,e),t!==2&&(e=$n,$n=n,e!==null&&Mx(e)),t}function Mx(t){$n===null?$n=t:$n.push.apply($n,t)}function iB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Gr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xo(t,e){for(e&=~Bw,e&=~Bg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-jr(e),r=1<<n;t[n]=-1,e&=~r}}function EA(t){if(Ge&6)throw Error(se(327));ul();var e=Np(t,0);if(!(e&1))return Gn(t,Nt()),null;var n=Yp(t,e);if(t.tag!==0&&n===2){var r=ox(t);r!==0&&(e=r,n=Ox(t,r))}if(n===1)throw n=pd,$s(t,0),xo(t,e),Gn(t,Nt()),n;if(n===6)throw Error(se(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,bs(t,$n,vi),Gn(t,Nt()),null}function zw(t,e){var n=Ge;Ge|=1;try{return t(e)}finally{Ge=n,Ge===0&&(Sl=Nt()+500,$g&&ts())}}function Ys(t){Ao!==null&&Ao.tag===0&&!(Ge&6)&&ul();var e=Ge;Ge|=1;var n=pr.transition,r=et;try{if(pr.transition=null,et=1,t)return t()}finally{et=r,pr.transition=n,Ge=e,!(Ge&6)&&ts()}}function qw(){Kn=Wa.current,yt(Wa)}function $s(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,MU(n)),Mt!==null)for(n=Mt.return;n!==null;){var r=n;switch(Sw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jp();break;case 3:El(),yt(Un),yt(wn),Mw();break;case 5:Ow(r);break;case 4:El();break;case 13:yt(bt);break;case 19:yt(bt);break;case 10:Cw(r.type._context);break;case 22:case 23:qw()}n=n.return}if(Jt=t,Mt=t=$o(t.current,null),an=Kn=e,Ut=0,pd=null,Bw=Bg=Ks=0,$n=Lc=null,Cs!==null){for(e=0;e<Cs.length;e++)if(n=Cs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Cs=null}return t}function YM(t,e){do{var n=Mt;try{if(kw(),ap.current=qp,zp){for(var r=Et.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zp=!1}if(Ws=0,Wt=Vt=Et=null,Dc=!1,dd=0,Uw.current=null,n===null||n.return===null){Ut=1,pd=e,Mt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=an,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=cA(s);if(y!==null){y.flags&=-257,dA(y,s,a,o,e),y.mode&1&&uA(o,u,e),e=y,l=u;var v=e.updateQueue;if(v===null){var b=new Set;b.add(l),e.updateQueue=b}else v.add(l);break e}else{if(!(e&1)){uA(o,u,e),Hw();break e}l=Error(se(426))}}else if(vt&&a.mode&1){var x=cA(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),dA(x,s,a,o,e),Aw(Tl(l,a));break e}}o=l=Tl(l,a),Ut!==4&&(Ut=2),Lc===null?Lc=[o]:Lc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=RM(o,l,e);rA(o,w);break e;case 1:a=l;var _=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(jo===null||!jo.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var P=OM(o,a,e);rA(o,P);break e}}o=o.return}while(o!==null)}QM(n)}catch(S){e=S,Mt===n&&n!==null&&(Mt=n=n.return);continue}break}while(!0)}function JM(){var t=Hp.current;return Hp.current=qp,t===null?qp:t}function Hw(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Jt===null||!(Ks&268435455)&&!(Bg&268435455)||xo(Jt,an)}function Yp(t,e){var n=Ge;Ge|=2;var r=JM();(Jt!==t||an!==e)&&(vi=null,$s(t,e));do try{oB();break}catch(i){YM(t,i)}while(!0);if(kw(),Ge=n,Hp.current=r,Mt!==null)throw Error(se(261));return Jt=null,an=0,Ut}function oB(){for(;Mt!==null;)XM(Mt)}function sB(){for(;Mt!==null&&!NF();)XM(Mt)}function XM(t){var e=eD(t.alternate,t,Kn);t.memoizedProps=t.pendingProps,e===null?QM(t):Mt=e,Uw.current=null}function QM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ZU(n,e),n!==null){n.flags&=32767,Mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ut=6,Mt=null;return}}else if(n=QU(n,e,Kn),n!==null){Mt=n;return}if(e=e.sibling,e!==null){Mt=e;return}Mt=e=t}while(e!==null);Ut===0&&(Ut=5)}function bs(t,e,n){var r=et,i=pr.transition;try{pr.transition=null,et=1,aB(t,e,n,r)}finally{pr.transition=i,et=r}return null}function aB(t,e,n,r){do ul();while(Ao!==null);if(Ge&6)throw Error(se(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(se(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(UF(t,o),t===Jt&&(Mt=Jt=null,an=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ih||(Ih=!0,tD(Pp,function(){return ul(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=pr.transition,pr.transition=null;var s=et;et=1;var a=Ge;Ge|=4,Uw.current=null,tB(t,n),HM(n,t),IU(dx),Rp=!!cx,dx=cx=null,t.current=n,nB(n),RF(),Ge=a,et=s,pr.transition=o}else t.current=n;if(Ih&&(Ih=!1,Ao=t,Kp=i),o=t.pendingLanes,o===0&&(jo=null),DF(n.stateNode),Gn(t,Nt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wp)throw Wp=!1,t=Nx,Nx=null,t;return Kp&1&&t.tag!==0&&ul(),o=t.pendingLanes,o&1?t===Rx?$c++:($c=0,Rx=t):$c=0,ts(),null}function ul(){if(Ao!==null){var t=RO(Kp),e=pr.transition,n=et;try{if(pr.transition=null,et=16>t?16:t,Ao===null)var r=!1;else{if(t=Ao,Ao=null,Kp=0,Ge&6)throw Error(se(331));var i=Ge;for(Ge|=4,me=t.current;me!==null;){var o=me,s=o.child;if(me.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(me=u;me!==null;){var c=me;switch(c.tag){case 0:case 11:case 15:jc(8,c,o)}var f=c.child;if(f!==null)f.return=c,me=f;else for(;me!==null;){c=me;var h=c.sibling,y=c.return;if(GM(c),c===u){me=null;break}if(h!==null){h.return=y,me=h;break}me=y}}}var v=o.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}me=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,me=s;else e:for(;me!==null;){if(o=me,o.flags&2048)switch(o.tag){case 0:case 11:case 15:jc(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,me=w;break e}me=o.return}}var _=t.current;for(me=_;me!==null;){s=me;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,me=E;else e:for(s=_;me!==null;){if(a=me,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ug(9,a)}}catch(S){It(a,a.return,S)}if(a===s){me=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,me=P;break e}me=a.return}}if(Ge=i,ts(),ei&&typeof ei.onPostCommitFiberRoot=="function")try{ei.onPostCommitFiberRoot(Og,t)}catch{}r=!0}return r}finally{et=n,pr.transition=e}}return!1}function TA(t,e,n){e=Tl(n,e),e=RM(t,e,1),t=Do(t,e,1),e=On(),t!==null&&(yf(t,1,e),Gn(t,e))}function It(t,e,n){if(t.tag===3)TA(t,t,n);else for(;e!==null;){if(e.tag===3){TA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jo===null||!jo.has(r))){t=Tl(n,t),t=OM(e,t,1),e=Do(e,t,1),t=On(),e!==null&&(yf(e,1,t),Gn(e,t));break}}e=e.return}}function lB(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=On(),t.pingedLanes|=t.suspendedLanes&n,Jt===t&&(an&n)===n&&(Ut===4||Ut===3&&(an&130023424)===an&&500>Nt()-Gw?$s(t,0):Bw|=n),Gn(t,e)}function ZM(t,e){e===0&&(t.mode&1?(e=yh,yh<<=1,!(yh&130023424)&&(yh=4194304)):e=1);var n=On();t=$i(t,e),t!==null&&(yf(t,e,n),Gn(t,n))}function uB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ZM(t,n)}function cB(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(se(314))}r!==null&&r.delete(e),ZM(t,n)}var eD;eD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Un.current)Vn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vn=!1,XU(t,e,n);Vn=!!(t.flags&131072)}else Vn=!1,vt&&e.flags&1048576&&iM(e,Vp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;up(t,e),t=e.pendingProps;var i=bl(e,wn.current);ll(e,n),i=jw(null,e,r,t,i,n);var o=Lw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bn(r)?(o=!0,Lp(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Nw(e),i.updater=Fg,e.stateNode=i,i._reactInternals=e,bx(e,r,t,n),e=Ex(null,e,r,!0,o,n)):(e.tag=0,vt&&o&&Tw(e),kn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(up(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=fB(r),t=Cr(r,t),i){case 0:e=wx(null,e,r,t,n);break e;case 1:e=pA(null,e,r,t,n);break e;case 11:e=fA(null,e,r,t,n);break e;case 14:e=hA(null,e,r,Cr(r.type,t),n);break e}throw Error(se(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cr(r,i),wx(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cr(r,i),pA(t,e,r,i,n);case 3:e:{if(LM(e),t===null)throw Error(se(387));r=e.pendingProps,o=e.memoizedState,i=o.element,cM(t,e),Bp(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Tl(Error(se(423)),e),e=mA(t,e,r,n,i);break e}else if(r!==i){i=Tl(Error(se(424)),e),e=mA(t,e,r,n,i);break e}else for(Xn=Mo(e.stateNode.containerInfo.firstChild),Zn=e,vt=!0,Or=null,n=lM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_l(),r===i){e=Vi(t,e,n);break e}kn(t,e,r,n)}e=e.child}return e;case 5:return dM(e),t===null&&yx(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,fx(r,i)?s=null:o!==null&&fx(r,o)&&(e.flags|=32),jM(t,e),kn(t,e,s,n),e.child;case 6:return t===null&&yx(e),null;case 13:return $M(t,e,n);case 4:return Rw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wl(e,null,r,n):kn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cr(r,i),fA(t,e,r,i,n);case 7:return kn(t,e,e.pendingProps,n),e.child;case 8:return kn(t,e,e.pendingProps.children,n),e.child;case 12:return kn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,dt(Fp,r._currentValue),r._currentValue=s,o!==null)if(Gr(o.value,s)){if(o.children===i.children&&!Un.current){e=Vi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Ni(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),vx(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(se(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),vx(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}kn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ll(e,n),i=yr(i),r=r(i),e.flags|=1,kn(t,e,r,n),e.child;case 14:return r=e.type,i=Cr(r,e.pendingProps),i=Cr(r.type,i),hA(t,e,r,i,n);case 15:return MM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cr(r,i),up(t,e),e.tag=1,Bn(r)?(t=!0,Lp(e)):t=!1,ll(e,n),NM(e,r,i),bx(e,r,i,n),Ex(null,e,r,!0,t,n);case 19:return VM(t,e,n);case 22:return DM(t,e,n)}throw Error(se(156,e.tag))};function tD(t,e){return kO(t,e)}function dB(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(t,e,n,r){return new dB(t,e,n,r)}function Ww(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fB(t){if(typeof t=="function")return Ww(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fw)return 11;if(t===hw)return 14}return 2}function $o(t,e){var n=t.alternate;return n===null?(n=fr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fp(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Ww(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case La:return Vs(n.children,i,o,e);case dw:s=8,i|=8;break;case zv:return t=fr(12,n,e,i|2),t.elementType=zv,t.lanes=o,t;case qv:return t=fr(13,n,e,i),t.elementType=qv,t.lanes=o,t;case Hv:return t=fr(19,n,e,i),t.elementType=Hv,t.lanes=o,t;case dO:return Gg(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case uO:s=10;break e;case cO:s=9;break e;case fw:s=11;break e;case hw:s=14;break e;case mo:s=16,r=null;break e}throw Error(se(130,t==null?t:typeof t,""))}return e=fr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Vs(t,e,n,r){return t=fr(7,t,r,e),t.lanes=n,t}function Gg(t,e,n,r){return t=fr(22,t,r,e),t.elementType=dO,t.lanes=n,t.stateNode={isHidden:!1},t}function Y0(t,e,n){return t=fr(6,t,null,e),t.lanes=n,t}function J0(t,e,n){return e=fr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hB(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=P0(0),this.expirationTimes=P0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=P0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Kw(t,e,n,r,i,o,s,a,l){return t=new hB(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=fr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nw(o),t}function pB(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ja,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function nD(t){if(!t)return Wo;t=t._reactInternals;e:{if(da(t)!==t||t.tag!==1)throw Error(se(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(se(171))}if(t.tag===1){var n=t.type;if(Bn(n))return nM(t,n,e)}return e}function rD(t,e,n,r,i,o,s,a,l){return t=Kw(n,r,!0,t,i,o,s,a,l),t.context=nD(null),n=t.current,r=On(),i=Lo(n),o=Ni(r,i),o.callback=e??null,Do(n,o,i),t.current.lanes=i,yf(t,i,r),Gn(t,r),t}function zg(t,e,n,r){var i=e.current,o=On(),s=Lo(i);return n=nD(n),e.context===null?e.context=n:e.pendingContext=n,e=Ni(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Do(i,e,s),t!==null&&(Lr(t,i,s,o),sp(t,i,s)),s}function Jp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function SA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Yw(t,e){SA(t,e),(t=t.alternate)&&SA(t,e)}function mB(){return null}var iD=typeof reportError=="function"?reportError:function(t){console.error(t)};function Jw(t){this._internalRoot=t}qg.prototype.render=Jw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(se(409));zg(t,e,null,null)};qg.prototype.unmount=Jw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ys(function(){zg(null,t,null,null)}),e[Li]=null}};function qg(t){this._internalRoot=t}qg.prototype.unstable_scheduleHydration=function(t){if(t){var e=DO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<vo.length&&e!==0&&e<vo[n].priority;n++);vo.splice(n,0,t),n===0&&LO(t)}};function Xw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function AA(){}function gB(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Jp(s);o.call(u)}}var s=rD(e,r,t,0,null,!1,!1,"",AA);return t._reactRootContainer=s,t[Li]=s.current,sd(t.nodeType===8?t.parentNode:t),Ys(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Jp(l);a.call(u)}}var l=Kw(t,0,!1,null,null,!1,!1,"",AA);return t._reactRootContainer=l,t[Li]=l.current,sd(t.nodeType===8?t.parentNode:t),Ys(function(){zg(e,l,n,r)}),l}function Wg(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Jp(s);a.call(l)}}zg(e,s,t,i)}else s=gB(n,e,t,i,r);return Jp(s)}OO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_c(e.pendingLanes);n!==0&&(gw(e,n|1),Gn(e,Nt()),!(Ge&6)&&(Sl=Nt()+500,ts()))}break;case 13:Ys(function(){var r=$i(t,1);if(r!==null){var i=On();Lr(r,t,1,i)}}),Yw(t,1)}};yw=function(t){if(t.tag===13){var e=$i(t,134217728);if(e!==null){var n=On();Lr(e,t,134217728,n)}Yw(t,134217728)}};MO=function(t){if(t.tag===13){var e=Lo(t),n=$i(t,e);if(n!==null){var r=On();Lr(n,t,e,r)}Yw(t,e)}};DO=function(){return et};jO=function(t,e){var n=et;try{return et=t,e()}finally{et=n}};nx=function(t,e,n){switch(e){case"input":if(Yv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Lg(r);if(!i)throw Error(se(90));hO(r),Yv(r,i)}}}break;case"textarea":mO(t,n);break;case"select":e=n.value,e!=null&&il(t,!!n.multiple,e,!1)}};wO=zw;EO=Ys;var yB={usingClientEntryPoint:!1,Events:[xf,Ua,Lg,bO,_O,zw]},oc={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vB={bundleType:oc.bundleType,version:oc.version,rendererPackageName:oc.rendererPackageName,rendererConfig:oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=AO(t),t===null?null:t.stateNode},findFiberByHostInstance:oc.findFiberByHostInstance||mB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kh.isDisabled&&kh.supportsFiber)try{Og=kh.inject(vB),ei=kh}catch{}}ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yB;ir.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xw(e))throw Error(se(200));return pB(t,e,null,n)};ir.createRoot=function(t,e){if(!Xw(t))throw Error(se(299));var n=!1,r="",i=iD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Kw(t,1,!1,null,null,n,!1,r,i),t[Li]=e.current,sd(t.nodeType===8?t.parentNode:t),new Jw(e)};ir.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(se(188)):(t=Object.keys(t).join(","),Error(se(268,t)));return t=AO(e),t=t===null?null:t.stateNode,t};ir.flushSync=function(t){return Ys(t)};ir.hydrate=function(t,e,n){if(!Hg(e))throw Error(se(200));return Wg(null,t,e,!0,n)};ir.hydrateRoot=function(t,e,n){if(!Xw(t))throw Error(se(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=iD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=rD(e,null,t,1,n??null,i,!1,o,s),t[Li]=e.current,sd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new qg(e)};ir.render=function(t,e,n){if(!Hg(e))throw Error(se(200));return Wg(null,t,e,!1,n)};ir.unmountComponentAtNode=function(t){if(!Hg(t))throw Error(se(40));return t._reactRootContainer?(Ys(function(){Wg(null,null,t,!1,function(){t._reactRootContainer=null,t[Li]=null})}),!0):!1};ir.unstable_batchedUpdates=zw;ir.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Hg(n))throw Error(se(200));if(t==null||t._reactInternals===void 0)throw Error(se(38));return Wg(t,e,n,!1,r)};ir.version="18.3.1-next-f1338f8080-20240426";function oD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oD)}catch(t){console.error(t)}}oD(),oO.exports=ir;var xB=oO.exports,IA=xB;Bv.createRoot=IA.createRoot,Bv.hydrateRoot=IA.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(t,e)=>{const n=B.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>B.createElement("svg",{ref:c,...bB,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${_B(t)}`,a].join(" "),...u},[...e.map(([f,h])=>B.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=ne("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=ne("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=ne("AppWindow",[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=ne("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=ne("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=ne("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=ne("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=ne("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=ne("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=ne("BadgeAlert",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=ne("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=ne("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=ne("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=ne("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=ne("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=ne("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=ne("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=ne("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=ne("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=ne("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=ne("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=ne("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=ne("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=ne("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=ne("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=ne("Ghost",[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=ne("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=ne("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=ne("HardDriveDownload",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=ne("HardDriveUpload",[["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M12 2v8",key:"1q4o3n"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=ne("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=ne("Hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=ne("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=ne("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=ne("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=ne("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=ne("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=ne("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=ne("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=ne("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=ne("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=ne("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=ne("MessageSquareMore",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M16 10h.01",key:"1m94wz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=ne("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=ne("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=ne("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=ne("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=ne("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=ne("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=ne("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=ne("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=ne("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=ne("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=ne("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=ne("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=ne("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=ne("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=ne("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=ne("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=ne("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=ne("Sigma",[["path",{d:"M18 7V4H6l6 8-6 8h12v-3",key:"zis8ev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=ne("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=ne("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=ne("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=ne("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=ne("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=ne("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=ne("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=ne("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=ne("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var $e=(t=>(t.DASHBOARD="DASHBOARD",t.TRANSACTIONS="TRANSACTIONS",t.INVESTMENTS="INVESTMENTS",t.BUDGETS="BUDGETS",t.SUBSCRIPTIONS="SUBSCRIPTIONS",t.CALENDAR="CALENDAR",t.AI_ASSISTANT="AI_ASSISTANT",t.DEBTS="DEBTS",t.SHOPPING_LIST="SHOPPING_LIST",t.WEALTH_PLANNER="WEALTH_PLANNER",t))($e||{}),MA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},m6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},bD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,y=u&63;l||(y=64,s||(h=64)),r.push(n[c],n[f],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):m6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new g6;const h=o<<2|a>>4;if(r.push(h),u!==64){const y=a<<4&240|u>>2;if(r.push(y),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class g6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y6=function(t){const e=xD(t);return bD.encodeByteArray(e,!0)},_D=function(t){return y6(t).replace(/\./g,"")},wD=function(t){try{return bD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=()=>v6().__FIREBASE_DEFAULTS__,b6=()=>{if(typeof process>"u"||typeof MA>"u")return;const t=MA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wD(t[1]);return e&&JSON.parse(e)},Jg=()=>{try{return x6()||b6()||_6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},w6=t=>{var e,n;return(n=(e=Jg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ED=()=>{var t;return(t=Jg())===null||t===void 0?void 0:t.config},TD=t=>{var e;return(e=Jg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function S6(){var t;const e=(t=Jg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function I6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function k6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function C6(){const t=En();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function P6(){return!S6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N6(){try{return typeof indexedDB=="object"}catch{return!1}}function R6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6="FirebaseError";class Zi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=O6,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_f.prototype.create)}}class _f{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?M6(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Zi(i,a,r)}}function M6(t,e){return t.replace(D6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const D6=/\{\$([^}]+)}/g;function j6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(DA(o)&&DA(s)){if(!xd(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function DA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ec(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Tc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function L6(t,e){const n=new $6(t,e);return n.subscribe.bind(n)}class $6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");V6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Q0),i.error===void 0&&(i.error=Q0),i.complete===void 0&&(i.complete=Q0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Q0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t){return t&&t._delegate?t._delegate:t}class Xs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new E6;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(B6(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:U6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U6(t){return t===_s?void 0:t}function B6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new F6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const z6={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},q6=Fe.INFO,H6={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},W6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=H6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rE{constructor(e){this.name=e,this._logLevel=q6,this._logHandler=W6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const K6=(t,e)=>e.some(n=>t instanceof n);let jA,LA;function Y6(){return jA||(jA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J6(){return LA||(LA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SD=new WeakMap,Gx=new WeakMap,AD=new WeakMap,Z0=new WeakMap,iE=new WeakMap;function X6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Fo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&SD.set(n,t)}).catch(()=>{}),iE.set(e,t),e}function Q6(t){if(Gx.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Gx.set(t,e)}let zx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Z6(t){zx=t(zx)}function e8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ev(this),e,...n);return AD.set(r,e.sort?e.sort():[e]),Fo(r)}:J6().includes(t)?function(...e){return t.apply(ev(this),e),Fo(SD.get(this))}:function(...e){return Fo(t.apply(ev(this),e))}}function t8(t){return typeof t=="function"?e8(t):(t instanceof IDBTransaction&&Q6(t),K6(t,Y6())?new Proxy(t,zx):t)}function Fo(t){if(t instanceof IDBRequest)return X6(t);if(Z0.has(t))return Z0.get(t);const e=t8(t);return e!==t&&(Z0.set(t,e),iE.set(e,t)),e}const ev=t=>iE.get(t);function n8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Fo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Fo(s.result),l.oldVersion,l.newVersion,Fo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const r8=["get","getKey","getAll","getAllKeys","count"],i8=["put","add","delete","clear"],tv=new Map;function $A(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tv.get(e))return tv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=i8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||r8.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return tv.set(e,o),o}Z6(t=>({...t,get:(e,n,r)=>$A(e,n)||t.get(e,n,r),has:(e,n)=>!!$A(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function s8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qx="@firebase/app",VA="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new rE("@firebase/app"),a8="@firebase/app-compat",l8="@firebase/analytics-compat",u8="@firebase/analytics",c8="@firebase/app-check-compat",d8="@firebase/app-check",f8="@firebase/auth",h8="@firebase/auth-compat",p8="@firebase/database",m8="@firebase/data-connect",g8="@firebase/database-compat",y8="@firebase/functions",v8="@firebase/functions-compat",x8="@firebase/installations",b8="@firebase/installations-compat",_8="@firebase/messaging",w8="@firebase/messaging-compat",E8="@firebase/performance",T8="@firebase/performance-compat",S8="@firebase/remote-config",A8="@firebase/remote-config-compat",I8="@firebase/storage",k8="@firebase/storage-compat",C8="@firebase/firestore",P8="@firebase/vertexai-preview",N8="@firebase/firestore-compat",R8="firebase",O8="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="[DEFAULT]",M8={[qx]:"fire-core",[a8]:"fire-core-compat",[u8]:"fire-analytics",[l8]:"fire-analytics-compat",[d8]:"fire-app-check",[c8]:"fire-app-check-compat",[f8]:"fire-auth",[h8]:"fire-auth-compat",[p8]:"fire-rtdb",[m8]:"fire-data-connect",[g8]:"fire-rtdb-compat",[y8]:"fire-fn",[v8]:"fire-fn-compat",[x8]:"fire-iid",[b8]:"fire-iid-compat",[_8]:"fire-fcm",[w8]:"fire-fcm-compat",[E8]:"fire-perf",[T8]:"fire-perf-compat",[S8]:"fire-rc",[A8]:"fire-rc-compat",[I8]:"fire-gcs",[k8]:"fire-gcs-compat",[C8]:"fire-fst",[N8]:"fire-fst-compat",[P8]:"fire-vertex","fire-js":"fire-js",[R8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=new Map,D8=new Map,Wx=new Map;function FA(t,e){try{t.container.addComponent(e)}catch(n){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Al(t){const e=t.name;if(Wx.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;Wx.set(e,t);for(const n of rm.values())FA(n,t);for(const n of D8.values())FA(n,t);return!0}function oE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Dr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Uo=new _f("app","Firebase",j8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Uo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=O8;function ID(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Hx,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Uo.create("bad-app-name",{appName:String(i)});if(n||(n=ED()),!n)throw Uo.create("no-options");const o=rm.get(i);if(o){if(xd(n,o.options)&&xd(r,o.config))return o;throw Uo.create("duplicate-app",{appName:i})}const s=new G6(i);for(const l of Wx.values())s.addComponent(l);const a=new L8(n,r,s);return rm.set(i,a),a}function $8(t=Hx){const e=rm.get(t);if(!e&&t===Hx&&ED())return ID();if(!e)throw Uo.create("no-app",{appName:t});return e}function Bo(t,e,n){var r;let i=(r=M8[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(a.join(" "));return}Al(new Xs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8="firebase-heartbeat-database",F8=1,bd="firebase-heartbeat-store";let nv=null;function kD(){return nv||(nv=n8(V8,F8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Uo.create("idb-open",{originalErrorMessage:t.message})})),nv}async function U8(t){try{const n=(await kD()).transaction(bd),r=await n.objectStore(bd).get(CD(t));return await n.done,r}catch(e){if(e instanceof Zi)Bi.warn(e.message);else{const n=Uo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bi.warn(n.message)}}}async function UA(t,e){try{const r=(await kD()).transaction(bd,"readwrite");await r.objectStore(bd).put(e,CD(t)),await r.done}catch(n){if(n instanceof Zi)Bi.warn(n.message);else{const r=Uo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bi.warn(r.message)}}}function CD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8=1024,G8=30*24*60*60*1e3;class z8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new H8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=BA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=G8}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Bi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=BA(),{heartbeatsToSend:r,unsentEntries:i}=q8(this._heartbeatsCache.heartbeats),o=_D(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Bi.warn(n),""}}}function BA(){return new Date().toISOString().substring(0,10)}function q8(t,e=B8){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),GA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),GA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class H8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N6()?R6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await U8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return UA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return UA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function GA(t){return _D(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W8(t){Al(new Xs("platform-logger",e=>new o8(e),"PRIVATE")),Al(new Xs("heartbeat",e=>new z8(e),"PRIVATE")),Bo(qx,VA,t),Bo(qx,VA,"esm2017"),Bo("fire-js","")}W8("");var K8="firebase",Y8="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bo(K8,Y8,"app");function sE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function PD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const J8=PD,ND=new _f("auth","Firebase",PD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=new rE("@firebase/auth");function X8(t,...e){im.logLevel<=Fe.WARN&&im.warn(`Auth (${fu}): ${t}`,...e)}function mp(t,...e){im.logLevel<=Fe.ERROR&&im.error(`Auth (${fu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(t,...e){throw lE(t,...e)}function $r(t,...e){return lE(t,...e)}function aE(t,e,n){const r=Object.assign(Object.assign({},J8()),{[e]:n});return new _f("auth","Firebase",r).create(e,{appName:t.name})}function Ri(t){return aE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Q8(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&xr(t,"argument-error"),aE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ND.create(t,...e)}function Ae(t,e,...n){if(!t)throw lE(e,...n)}function Si(t){const e="INTERNAL ASSERTION FAILED: "+t;throw mp(e),new Error(e)}function Gi(t,e){t||Si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Z8(){return zA()==="http:"||zA()==="https:"}function zA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Z8()||I6()||"connection"in navigator)?navigator.onLine:!0}function t7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n){this.shortDelay=e,this.longDelay=n,Gi(n>e,"Short delay should be less than long delay!"),this.isMobile=T6()||k6()}get(){return e7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t,e){Gi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7=new Ef(3e4,6e4);function ns(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function rs(t,e,n,r,i={}){return OD(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=wf(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return A6()||(u.referrerPolicy="no-referrer"),RD.fetch()(MD(t,t.config.apiHost,n,a),u)})}async function OD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},n7),e);try{const i=new o7(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Ph(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ph(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Ph(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Ph(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw aE(t,c,u);xr(t,c)}}catch(i){if(i instanceof Zi)throw i;xr(t,"network-request-failed",{message:String(i)})}}async function Tf(t,e,n,r,i={}){const o=await rs(t,e,n,r,i);return"mfaPendingCredential"in o&&xr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function MD(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?uE(t.config,i):`${t.config.apiScheme}://${i}`}function i7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class o7{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($r(this.auth,"network-request-failed")),r7.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ph(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=$r(t,e,r);return i.customData._tokenResponse=n,i}function qA(t){return t!==void 0&&t.enterprise!==void 0}class s7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return i7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function a7(t,e){return rs(t,"GET","/v2/recaptchaConfig",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l7(t,e){return rs(t,"POST","/v1/accounts:delete",e)}async function DD(t,e){return rs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function u7(t,e=!1){const n=Ct(t),r=await n.getIdToken(e),i=cE(r);Ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Vc(rv(i.auth_time)),issuedAtTime:Vc(rv(i.iat)),expirationTime:Vc(rv(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function rv(t){return Number(t)*1e3}function cE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return mp("JWT malformed, contained fewer than 3 sections"),null;try{const i=wD(n);return i?JSON.parse(i):(mp("Failed to decode base64 JWT payload"),null)}catch(i){return mp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function HA(t){const e=cE(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _d(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Zi&&c7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function c7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vc(this.lastLoginAt),this.creationTime=Vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function om(t){var e;const n=t.auth,r=await t.getIdToken(),i=await _d(t,DD(n,{idToken:r}));Ae(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?jD(o.providerUserInfo):[],a=h7(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Yx(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function f7(t){const e=Ct(t);await om(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function h7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jD(t){return t.map(e=>{var{providerId:n}=e,r=sE(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p7(t,e){const n=await OD(t,{},async()=>{const r=wf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=MD(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",RD.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function m7(t,e){return rs(t,"POST","/v2/accounts:revokeToken",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=HA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await p7(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new cl;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ae(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ae(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cl,this.toJSON())}_performRefresh(){return Si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ai{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=sE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new d7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Yx(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await _d(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return u7(this,e)}reload(){return f7(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ai(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await om(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dr(this.auth.app))return Promise.reject(Ri(this.auth));const e=await this.getIdToken();return await _d(this,l7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:E,emailVerified:P,isAnonymous:S,providerData:C,stsTokenManager:I}=n;Ae(E&&I,e,"internal-error");const T=cl.fromJSON(this.name,I);Ae(typeof E=="string",e,"internal-error"),ho(f,e.name),ho(h,e.name),Ae(typeof P=="boolean",e,"internal-error"),Ae(typeof S=="boolean",e,"internal-error"),ho(y,e.name),ho(v,e.name),ho(b,e.name),ho(x,e.name),ho(w,e.name),ho(_,e.name);const k=new Ai({uid:E,auth:e,email:h,emailVerified:P,displayName:f,isAnonymous:S,photoURL:v,phoneNumber:y,tenantId:b,stsTokenManager:T,createdAt:w,lastLoginAt:_});return C&&Array.isArray(C)&&(k.providerData=C.map(N=>Object.assign({},N))),x&&(k._redirectEventId=x),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new cl;i.updateFromServerResponse(n);const o=new Ai({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await om(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ae(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?jD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new cl;a.updateFromIdToken(r);const l=new Ai({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Yx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=new Map;function Ii(t){Gi(t instanceof Function,"Expected a class definition");let e=WA.get(t);return e?(Gi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,WA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LD.type="NONE";const KA=LD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(t,e,n){return`firebase:${t}:${e}:${n}`}class dl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=gp(this.userKey,i.apiKey,o),this.fullPersistenceKey=gp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ai._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new dl(Ii(KA),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Ii(KA);const s=gp(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const f=Ai._fromJSON(e,c);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new dl(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new dl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($D(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GD(e))return"Blackberry";if(zD(e))return"Webos";if(VD(e))return"Safari";if((e.includes("chrome/")||FD(e))&&!e.includes("edge/"))return"Chrome";if(BD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $D(t=En()){return/firefox\//i.test(t)}function VD(t=En()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FD(t=En()){return/crios\//i.test(t)}function UD(t=En()){return/iemobile/i.test(t)}function BD(t=En()){return/android/i.test(t)}function GD(t=En()){return/blackberry/i.test(t)}function zD(t=En()){return/webos/i.test(t)}function dE(t=En()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function g7(t=En()){var e;return dE(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function y7(){return C6()&&document.documentMode===10}function qD(t=En()){return dE(t)||BD(t)||zD(t)||GD(t)||/windows phone/i.test(t)||UD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(t,e=[]){let n;switch(t){case"Browser":n=YA(En());break;case"Worker":n=`${YA(En())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x7(t,e={}){return rs(t,"GET","/v2/passwordPolicy",ns(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7=6;class _7{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:b7,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JA(this),this.idTokenSubscription=new JA(this),this.beforeStateQueue=new v7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ND,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ii(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await dl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await DD(this,{idToken:e}),r=await Ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Dr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await om(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=t7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dr(this.app))return Promise.reject(Ri(this));const n=e?Ct(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dr(this.app)?Promise.reject(Ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dr(this.app)?Promise.reject(Ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await x7(this),n=new _7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _f("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await m7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ii(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await dl.create(this,[Ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&X8(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function is(t){return Ct(t)}class JA{constructor(e){this.auth=e,this.observer=null,this.addObserver=L6(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function E7(t){Xg=t}function WD(t){return Xg.loadJS(t)}function T7(){return Xg.recaptchaEnterpriseScript}function S7(){return Xg.gapiScript}function A7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const I7="recaptcha-enterprise",k7="NO_RECAPTCHA";class C7{constructor(e){this.type=I7,this.auth=is(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{a7(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new s7(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;qA(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(k7)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&qA(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=T7();l.length!==0&&(l+=a),WD(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function XA(t,e,n,r=!1){const i=new C7(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Jx(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await XA(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await XA(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P7(t,e){const n=oE(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(xd(o,e??{}))return i;xr(i,"already-initialized")}return n.initialize({options:e})}function N7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ii);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function R7(t,e,n){const r=is(t);Ae(r._canInitEmulator,r,"emulator-config-failed"),Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=KD(e),{host:s,port:a}=O7(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),M7()}function KD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function O7(t){const e=KD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:QA(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:QA(s)}}}function QA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function M7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Si("not implemented")}_getIdTokenResponse(e){return Si("not implemented")}_linkToIdToken(e,n){return Si("not implemented")}_getReauthenticationResolver(e){return Si("not implemented")}}async function D7(t,e){return rs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j7(t,e){return Tf(t,"POST","/v1/accounts:signInWithPassword",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L7(t,e){return Tf(t,"POST","/v1/accounts:signInWithEmailLink",ns(t,e))}async function $7(t,e){return Tf(t,"POST","/v1/accounts:signInWithEmailLink",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd extends fE{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new wd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new wd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jx(e,n,"signInWithPassword",j7);case"emailLink":return L7(e,{email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jx(e,r,"signUpPassword",D7);case"emailLink":return $7(e,{idToken:n,email:this._email,oobCode:this._password});default:xr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(t,e){return Tf(t,"POST","/v1/accounts:signInWithIdp",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7="http://localhost";class Qs extends fE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):xr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=sE(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Qs(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return fl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fl(e,n)}buildRequest(){const e={requestUri:V7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function U7(t){const e=Ec(Tc(t)).link,n=e?Ec(Tc(e)).deep_link_id:null,r=Ec(Tc(t)).deep_link_id;return(r?Ec(Tc(r)).link:null)||r||n||e||t}class hE{constructor(e){var n,r,i,o,s,a;const l=Ec(Tc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=F7((i=l.mode)!==null&&i!==void 0?i:null);Ae(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=U7(e);try{return new hE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this.providerId=hu.PROVIDER_ID}static credential(e,n){return wd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=hE.parseLink(n);return Ae(r,"argument-error"),wd._fromEmailAndCode(e,r.code,r.tenantId)}}hu.PROVIDER_ID="password";hu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends pE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends Sf{constructor(){super("facebook.com")}static credential(e){return Qs._fromParams({providerId:bo.PROVIDER_ID,signInMethod:bo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bo.credentialFromTaggedObject(e)}static credentialFromError(e){return bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bo.credential(e.oauthAccessToken)}catch{return null}}}bo.FACEBOOK_SIGN_IN_METHOD="facebook.com";bo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Sf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qs._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _i.credential(n,r)}catch{return null}}}_i.GOOGLE_SIGN_IN_METHOD="google.com";_i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o extends Sf{constructor(){super("github.com")}static credential(e){return Qs._fromParams({providerId:_o.PROVIDER_ID,signInMethod:_o.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _o.credentialFromTaggedObject(e)}static credentialFromError(e){return _o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _o.credential(e.oauthAccessToken)}catch{return null}}}_o.GITHUB_SIGN_IN_METHOD="github.com";_o.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends Sf{constructor(){super("twitter.com")}static credential(e,n){return Qs._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return wo.credential(n,r)}catch{return null}}}wo.TWITTER_SIGN_IN_METHOD="twitter.com";wo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B7(t,e){return Tf(t,"POST","/v1/accounts:signUp",ns(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Ai._fromIdTokenResponse(e,r,i),s=ZA(r);return new Zs({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ZA(r);return new Zs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ZA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm extends Zi{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,sm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new sm(e,n,r,i)}}function YD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?sm._fromErrorAndOperation(t,o,e,r):o})}async function G7(t,e,n=!1){const r=await _d(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Zs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z7(t,e,n=!1){const{auth:r}=t;if(Dr(r.app))return Promise.reject(Ri(r));const i="reauthenticate";try{const o=await _d(t,YD(r,i,e,t),n);Ae(o.idToken,r,"internal-error");const s=cE(o.idToken);Ae(s,r,"internal-error");const{sub:a}=s;return Ae(t.uid===a,r,"user-mismatch"),Zs._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&xr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(t,e,n=!1){if(Dr(t.app))return Promise.reject(Ri(t));const r="signIn",i=await YD(t,r,e),o=await Zs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function q7(t,e){return JD(is(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XD(t){const e=is(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function H7(t,e,n){if(Dr(t.app))return Promise.reject(Ri(t));const r=is(t),s=await Jx(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",B7).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&XD(t),l}),a=await Zs._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function W7(t,e,n){return Dr(t.app)?Promise.reject(Ri(t)):q7(Ct(t),hu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&XD(t),r})}function K7(t,e,n,r){return Ct(t).onIdTokenChanged(e,n,r)}function Y7(t,e,n){return Ct(t).beforeAuthStateChanged(e,n)}function J7(t,e,n,r){return Ct(t).onAuthStateChanged(e,n,r)}function X7(t){return Ct(t).signOut()}const am="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(am,"1"),this.storage.removeItem(am),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7=1e3,Z7=10;class ZD extends QD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);y7()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Z7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Q7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZD.type="LOCAL";const e9=ZD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej extends QD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ej.type="SESSION";const tj=ej;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Qg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await t9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=mE("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return window}function r9(t){ni().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function i9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function o9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function s9(){return nj()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj="firebaseLocalStorageDb",a9=1,lm="firebaseLocalStorage",ij="fbase_key";class Af{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zg(t,e){return t.transaction([lm],e?"readwrite":"readonly").objectStore(lm)}function l9(){const t=indexedDB.deleteDatabase(rj);return new Af(t).toPromise()}function Xx(){const t=indexedDB.open(rj,a9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(lm,{keyPath:ij})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(lm)?e(r):(r.close(),await l9(),e(await Xx()))})})}async function eI(t,e,n){const r=Zg(t,!0).put({[ij]:e,value:n});return new Af(r).toPromise()}async function u9(t,e){const n=Zg(t,!1).get(e),r=await new Af(n).toPromise();return r===void 0?null:r.value}function tI(t,e){const n=Zg(t,!0).delete(e);return new Af(n).toPromise()}const c9=800,d9=3;class oj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xx(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>d9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qg._getInstance(s9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await i9(),!this.activeServiceWorker)return;this.sender=new n9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||o9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xx();return await eI(e,am,"1"),await tI(e,am),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>eI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>u9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Zg(i,!1).getAll();return new Af(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),c9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oj.type="LOCAL";const f9=oj;new Ef(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(t,e){return e?Ii(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE extends fE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function h9(t){return JD(t.auth,new gE(t),t.bypassAuthState)}function p9(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),z7(n,new gE(t),t.bypassAuthState)}async function m9(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),G7(n,new gE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return h9;case"linkViaPopup":case"linkViaRedirect":return m9;case"reauthViaPopup":case"reauthViaRedirect":return p9;default:xr(this.auth,"internal-error")}}resolve(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9=new Ef(2e3,1e4);async function y9(t,e,n){if(Dr(t.app))return Promise.reject($r(t,"operation-not-supported-in-this-environment"));const r=is(t);Q8(t,e,pE);const i=sj(r,n);return new Ns(r,"signInViaPopup",e,i).executeNotNull()}class Ns extends aj{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ns.currentPopupAction&&Ns.currentPopupAction.cancel(),Ns.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const e=mE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ns.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,g9.get())};e()}}Ns.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9="pendingRedirect",yp=new Map;class x9 extends aj{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yp.get(this.auth._key());if(!e){try{const r=await b9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yp.set(this.auth._key(),e)}return this.bypassAuthState||yp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function b9(t,e){const n=E9(e),r=w9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function _9(t,e){yp.set(t._key(),e)}function w9(t){return Ii(t._redirectPersistence)}function E9(t){return gp(v9,t.config.apiKey,t.name)}async function T9(t,e,n=!1){if(Dr(t.app))return Promise.reject(Ri(t));const r=is(t),i=sj(r,e),s=await new x9(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=10*60*1e3;class A9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!I9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lj(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError($r(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=S9&&this.cachedEventUids.clear(),this.cachedEventUids.has(nI(e))}saveEventToCache(e){this.cachedEventUids.add(nI(e)),this.lastProcessedEventTime=Date.now()}}function nI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lj({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function I9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lj(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k9(t,e={}){return rs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P9=/^https?/;async function N9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await k9(t);for(const n of e)try{if(R9(n))return}catch{}xr(t,"unauthorized-domain")}function R9(t){const e=Kx(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!P9.test(n))return!1;if(C9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=new Ef(3e4,6e4);function rI(){const t=ni().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function M9(t){return new Promise((e,n)=>{var r,i,o;function s(){rI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rI(),n($r(t,"network-request-failed"))},timeout:O9.get()})}if(!((i=(r=ni().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ni().gapi)===null||o===void 0)&&o.load)s();else{const a=A7("iframefcb");return ni()[a]=()=>{gapi.load?s():n($r(t,"network-request-failed"))},WD(`${S7()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw vp=null,e})}let vp=null;function D9(t){return vp=vp||M9(t),vp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=new Ef(5e3,15e3),L9="__/auth/iframe",$9="emulator/auth/iframe",V9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U9(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?uE(e,$9):`https://${t.config.authDomain}/${L9}`,r={apiKey:e.apiKey,appName:t.name,v:fu},i=F9.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${wf(r).slice(1)}`}async function B9(t){const e=await D9(t),n=ni().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:U9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V9,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=$r(t,"network-request-failed"),a=ni().setTimeout(()=>{o(s)},j9.get());function l(){ni().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z9=500,q9=600,H9="_blank",W9="http://localhost";class iI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K9(t,e,n,r=z9,i=q9){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},G9),{width:r.toString(),height:i.toString(),top:o,left:s}),u=En().toLowerCase();n&&(a=FD(u)?H9:n),$D(u)&&(e=e||W9,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[y,v])=>`${h}${y}=${v},`,"");if(g7(u)&&a!=="_self")return Y9(e||"",a),new iI(null);const f=window.open(e||"",a,c);Ae(f,t,"popup-blocked");try{f.focus()}catch{}return new iI(f)}function Y9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9="__/auth/handler",X9="emulator/auth/handler",Q9=encodeURIComponent("fac");async function oI(t,e,n,r,i,o){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fu,eventId:i};if(e instanceof pE){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",j6(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(e instanceof Sf){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${Q9}=${encodeURIComponent(l)}`:"";return`${Z9(t)}?${wf(a).slice(1)}${u}`}function Z9({config:t}){return t.emulator?uE(t,X9):`https://${t.authDomain}/${J9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="webStorageSupport";class eG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tj,this._completeRedirectFn=T9,this._overrideRedirectResult=_9}async _openPopup(e,n,r,i){var o;Gi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await oI(e,n,r,Kx(),i);return K9(e,s,mE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await oI(e,n,r,Kx(),i);return r9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Gi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await B9(e),r=new A9(e);return n.register("authEvent",i=>(Ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(iv,{type:iv},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[iv];s!==void 0&&n(!!s),xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=N9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qD()||VD()||dE()}}const tG=eG;var sI="@firebase/auth",aI="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iG(t){Al(new Xs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ae(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HD(t)},u=new w7(r,i,o,l);return N7(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Al(new Xs("auth-internal",e=>{const n=is(e.getProvider("auth").getImmediate());return(r=>new nG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bo(sI,aI,rG(t)),Bo(sI,aI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oG=5*60,sG=TD("authIdTokenMaxAge")||oG;let lI=null;const aG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sG)return;const i=n==null?void 0:n.token;lI!==i&&(lI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function lG(t=$8()){const e=oE(t,"auth");if(e.isInitialized())return e.getImmediate();const n=P7(t,{popupRedirectResolver:tG,persistence:[f9,e9,tj]}),r=TD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=aG(o.toString());Y7(n,s,()=>s(n.currentUser)),K7(n,a=>s(a))}}const i=w6("auth");return i&&R7(n,`http://${i}`),n}function uG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}E7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=$r("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",uG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iG("Browser");var uI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Us,uj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,T){function k(){}k.prototype=T.prototype,I.D=T.prototype,I.prototype=new k,I.prototype.constructor=I,I.C=function(N,O,M){for(var D=Array(arguments.length-2),z=2;z<arguments.length;z++)D[z-2]=arguments[z];return T.prototype[O].apply(N,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,T,k){k||(k=0);var N=Array(16);if(typeof T=="string")for(var O=0;16>O;++O)N[O]=T.charCodeAt(k++)|T.charCodeAt(k++)<<8|T.charCodeAt(k++)<<16|T.charCodeAt(k++)<<24;else for(O=0;16>O;++O)N[O]=T[k++]|T[k++]<<8|T[k++]<<16|T[k++]<<24;T=I.g[0],k=I.g[1],O=I.g[2];var M=I.g[3],D=T+(M^k&(O^M))+N[0]+3614090360&4294967295;T=k+(D<<7&4294967295|D>>>25),D=M+(O^T&(k^O))+N[1]+3905402710&4294967295,M=T+(D<<12&4294967295|D>>>20),D=O+(k^M&(T^k))+N[2]+606105819&4294967295,O=M+(D<<17&4294967295|D>>>15),D=k+(T^O&(M^T))+N[3]+3250441966&4294967295,k=O+(D<<22&4294967295|D>>>10),D=T+(M^k&(O^M))+N[4]+4118548399&4294967295,T=k+(D<<7&4294967295|D>>>25),D=M+(O^T&(k^O))+N[5]+1200080426&4294967295,M=T+(D<<12&4294967295|D>>>20),D=O+(k^M&(T^k))+N[6]+2821735955&4294967295,O=M+(D<<17&4294967295|D>>>15),D=k+(T^O&(M^T))+N[7]+4249261313&4294967295,k=O+(D<<22&4294967295|D>>>10),D=T+(M^k&(O^M))+N[8]+1770035416&4294967295,T=k+(D<<7&4294967295|D>>>25),D=M+(O^T&(k^O))+N[9]+2336552879&4294967295,M=T+(D<<12&4294967295|D>>>20),D=O+(k^M&(T^k))+N[10]+4294925233&4294967295,O=M+(D<<17&4294967295|D>>>15),D=k+(T^O&(M^T))+N[11]+2304563134&4294967295,k=O+(D<<22&4294967295|D>>>10),D=T+(M^k&(O^M))+N[12]+1804603682&4294967295,T=k+(D<<7&4294967295|D>>>25),D=M+(O^T&(k^O))+N[13]+4254626195&4294967295,M=T+(D<<12&4294967295|D>>>20),D=O+(k^M&(T^k))+N[14]+2792965006&4294967295,O=M+(D<<17&4294967295|D>>>15),D=k+(T^O&(M^T))+N[15]+1236535329&4294967295,k=O+(D<<22&4294967295|D>>>10),D=T+(O^M&(k^O))+N[1]+4129170786&4294967295,T=k+(D<<5&4294967295|D>>>27),D=M+(k^O&(T^k))+N[6]+3225465664&4294967295,M=T+(D<<9&4294967295|D>>>23),D=O+(T^k&(M^T))+N[11]+643717713&4294967295,O=M+(D<<14&4294967295|D>>>18),D=k+(M^T&(O^M))+N[0]+3921069994&4294967295,k=O+(D<<20&4294967295|D>>>12),D=T+(O^M&(k^O))+N[5]+3593408605&4294967295,T=k+(D<<5&4294967295|D>>>27),D=M+(k^O&(T^k))+N[10]+38016083&4294967295,M=T+(D<<9&4294967295|D>>>23),D=O+(T^k&(M^T))+N[15]+3634488961&4294967295,O=M+(D<<14&4294967295|D>>>18),D=k+(M^T&(O^M))+N[4]+3889429448&4294967295,k=O+(D<<20&4294967295|D>>>12),D=T+(O^M&(k^O))+N[9]+568446438&4294967295,T=k+(D<<5&4294967295|D>>>27),D=M+(k^O&(T^k))+N[14]+3275163606&4294967295,M=T+(D<<9&4294967295|D>>>23),D=O+(T^k&(M^T))+N[3]+4107603335&4294967295,O=M+(D<<14&4294967295|D>>>18),D=k+(M^T&(O^M))+N[8]+1163531501&4294967295,k=O+(D<<20&4294967295|D>>>12),D=T+(O^M&(k^O))+N[13]+2850285829&4294967295,T=k+(D<<5&4294967295|D>>>27),D=M+(k^O&(T^k))+N[2]+4243563512&4294967295,M=T+(D<<9&4294967295|D>>>23),D=O+(T^k&(M^T))+N[7]+1735328473&4294967295,O=M+(D<<14&4294967295|D>>>18),D=k+(M^T&(O^M))+N[12]+2368359562&4294967295,k=O+(D<<20&4294967295|D>>>12),D=T+(k^O^M)+N[5]+4294588738&4294967295,T=k+(D<<4&4294967295|D>>>28),D=M+(T^k^O)+N[8]+2272392833&4294967295,M=T+(D<<11&4294967295|D>>>21),D=O+(M^T^k)+N[11]+1839030562&4294967295,O=M+(D<<16&4294967295|D>>>16),D=k+(O^M^T)+N[14]+4259657740&4294967295,k=O+(D<<23&4294967295|D>>>9),D=T+(k^O^M)+N[1]+2763975236&4294967295,T=k+(D<<4&4294967295|D>>>28),D=M+(T^k^O)+N[4]+1272893353&4294967295,M=T+(D<<11&4294967295|D>>>21),D=O+(M^T^k)+N[7]+4139469664&4294967295,O=M+(D<<16&4294967295|D>>>16),D=k+(O^M^T)+N[10]+3200236656&4294967295,k=O+(D<<23&4294967295|D>>>9),D=T+(k^O^M)+N[13]+681279174&4294967295,T=k+(D<<4&4294967295|D>>>28),D=M+(T^k^O)+N[0]+3936430074&4294967295,M=T+(D<<11&4294967295|D>>>21),D=O+(M^T^k)+N[3]+3572445317&4294967295,O=M+(D<<16&4294967295|D>>>16),D=k+(O^M^T)+N[6]+76029189&4294967295,k=O+(D<<23&4294967295|D>>>9),D=T+(k^O^M)+N[9]+3654602809&4294967295,T=k+(D<<4&4294967295|D>>>28),D=M+(T^k^O)+N[12]+3873151461&4294967295,M=T+(D<<11&4294967295|D>>>21),D=O+(M^T^k)+N[15]+530742520&4294967295,O=M+(D<<16&4294967295|D>>>16),D=k+(O^M^T)+N[2]+3299628645&4294967295,k=O+(D<<23&4294967295|D>>>9),D=T+(O^(k|~M))+N[0]+4096336452&4294967295,T=k+(D<<6&4294967295|D>>>26),D=M+(k^(T|~O))+N[7]+1126891415&4294967295,M=T+(D<<10&4294967295|D>>>22),D=O+(T^(M|~k))+N[14]+2878612391&4294967295,O=M+(D<<15&4294967295|D>>>17),D=k+(M^(O|~T))+N[5]+4237533241&4294967295,k=O+(D<<21&4294967295|D>>>11),D=T+(O^(k|~M))+N[12]+1700485571&4294967295,T=k+(D<<6&4294967295|D>>>26),D=M+(k^(T|~O))+N[3]+2399980690&4294967295,M=T+(D<<10&4294967295|D>>>22),D=O+(T^(M|~k))+N[10]+4293915773&4294967295,O=M+(D<<15&4294967295|D>>>17),D=k+(M^(O|~T))+N[1]+2240044497&4294967295,k=O+(D<<21&4294967295|D>>>11),D=T+(O^(k|~M))+N[8]+1873313359&4294967295,T=k+(D<<6&4294967295|D>>>26),D=M+(k^(T|~O))+N[15]+4264355552&4294967295,M=T+(D<<10&4294967295|D>>>22),D=O+(T^(M|~k))+N[6]+2734768916&4294967295,O=M+(D<<15&4294967295|D>>>17),D=k+(M^(O|~T))+N[13]+1309151649&4294967295,k=O+(D<<21&4294967295|D>>>11),D=T+(O^(k|~M))+N[4]+4149444226&4294967295,T=k+(D<<6&4294967295|D>>>26),D=M+(k^(T|~O))+N[11]+3174756917&4294967295,M=T+(D<<10&4294967295|D>>>22),D=O+(T^(M|~k))+N[2]+718787259&4294967295,O=M+(D<<15&4294967295|D>>>17),D=k+(M^(O|~T))+N[9]+3951481745&4294967295,I.g[0]=I.g[0]+T&4294967295,I.g[1]=I.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+M&4294967295}r.prototype.u=function(I,T){T===void 0&&(T=I.length);for(var k=T-this.blockSize,N=this.B,O=this.h,M=0;M<T;){if(O==0)for(;M<=k;)i(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<T;)if(N[O++]=I.charCodeAt(M++),O==this.blockSize){i(this,N),O=0;break}}else for(;M<T;)if(N[O++]=I[M++],O==this.blockSize){i(this,N),O=0;break}}this.h=O,this.o+=T},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var T=1;T<I.length-8;++T)I[T]=0;var k=8*this.o;for(T=I.length-8;T<I.length;++T)I[T]=k&255,k/=256;for(this.u(I),I=Array(16),T=k=0;4>T;++T)for(var N=0;32>N;N+=8)I[k++]=this.g[T]>>>N&255;return I};function o(I,T){var k=a;return Object.prototype.hasOwnProperty.call(k,I)?k[I]:k[I]=T(I)}function s(I,T){this.h=T;for(var k=[],N=!0,O=I.length-1;0<=O;O--){var M=I[O]|0;N&&M==T||(k[O]=M,N=!1)}this.g=k}var a={};function l(I){return-128<=I&&128>I?o(I,function(T){return new s([T|0],0>T?-1:0)}):new s([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return x(u(-I));for(var T=[],k=1,N=0;I>=k;N++)T[N]=I/k|0,k*=4294967296;return new s(T,0)}function c(I,T){if(I.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I.charAt(0)=="-")return x(c(I.substring(1),T));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=u(Math.pow(T,8)),N=f,O=0;O<I.length;O+=8){var M=Math.min(8,I.length-O),D=parseInt(I.substring(O,O+M),T);8>M?(M=u(Math.pow(T,M)),N=N.j(M).add(u(D))):(N=N.j(k),N=N.add(u(D)))}return N}var f=l(0),h=l(1),y=l(16777216);t=s.prototype,t.m=function(){if(b(this))return-x(this).m();for(var I=0,T=1,k=0;k<this.g.length;k++){var N=this.i(k);I+=(0<=N?N:4294967296+N)*T,T*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(v(this))return"0";if(b(this))return"-"+x(this).toString(I);for(var T=u(Math.pow(I,6)),k=this,N="";;){var O=P(k,T).g;k=w(k,O.j(T));var M=((0<k.g.length?k.g[0]:k.h)>>>0).toString(I);if(k=O,v(k))return M+N;for(;6>M.length;)M="0"+M;N=M+N}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function v(I){if(I.h!=0)return!1;for(var T=0;T<I.g.length;T++)if(I.g[T]!=0)return!1;return!0}function b(I){return I.h==-1}t.l=function(I){return I=w(this,I),b(I)?-1:v(I)?0:1};function x(I){for(var T=I.g.length,k=[],N=0;N<T;N++)k[N]=~I.g[N];return new s(k,~I.h).add(h)}t.abs=function(){return b(this)?x(this):this},t.add=function(I){for(var T=Math.max(this.g.length,I.g.length),k=[],N=0,O=0;O<=T;O++){var M=N+(this.i(O)&65535)+(I.i(O)&65535),D=(M>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);N=D>>>16,M&=65535,D&=65535,k[O]=D<<16|M}return new s(k,k[k.length-1]&-2147483648?-1:0)};function w(I,T){return I.add(x(T))}t.j=function(I){if(v(this)||v(I))return f;if(b(this))return b(I)?x(this).j(x(I)):x(x(this).j(I));if(b(I))return x(this.j(x(I)));if(0>this.l(y)&&0>I.l(y))return u(this.m()*I.m());for(var T=this.g.length+I.g.length,k=[],N=0;N<2*T;N++)k[N]=0;for(N=0;N<this.g.length;N++)for(var O=0;O<I.g.length;O++){var M=this.i(N)>>>16,D=this.i(N)&65535,z=I.i(O)>>>16,F=I.i(O)&65535;k[2*N+2*O]+=D*F,_(k,2*N+2*O),k[2*N+2*O+1]+=M*F,_(k,2*N+2*O+1),k[2*N+2*O+1]+=D*z,_(k,2*N+2*O+1),k[2*N+2*O+2]+=M*z,_(k,2*N+2*O+2)}for(N=0;N<T;N++)k[N]=k[2*N+1]<<16|k[2*N];for(N=T;N<2*T;N++)k[N]=0;return new s(k,0)};function _(I,T){for(;(I[T]&65535)!=I[T];)I[T+1]+=I[T]>>>16,I[T]&=65535,T++}function E(I,T){this.g=I,this.h=T}function P(I,T){if(v(T))throw Error("division by zero");if(v(I))return new E(f,f);if(b(I))return T=P(x(I),T),new E(x(T.g),x(T.h));if(b(T))return T=P(I,x(T)),new E(x(T.g),T.h);if(30<I.g.length){if(b(I)||b(T))throw Error("slowDivide_ only works with positive integers.");for(var k=h,N=T;0>=N.l(I);)k=S(k),N=S(N);var O=C(k,1),M=C(N,1);for(N=C(N,2),k=C(k,2);!v(N);){var D=M.add(N);0>=D.l(I)&&(O=O.add(k),M=D),N=C(N,1),k=C(k,1)}return T=w(I,O.j(T)),new E(O,T)}for(O=f;0<=I.l(T);){for(k=Math.max(1,Math.floor(I.m()/T.m())),N=Math.ceil(Math.log(k)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),M=u(k),D=M.j(T);b(D)||0<D.l(I);)k-=N,M=u(k),D=M.j(T);v(M)&&(M=h),O=O.add(M),I=w(I,D)}return new E(O,I)}t.A=function(I){return P(this,I).h},t.and=function(I){for(var T=Math.max(this.g.length,I.g.length),k=[],N=0;N<T;N++)k[N]=this.i(N)&I.i(N);return new s(k,this.h&I.h)},t.or=function(I){for(var T=Math.max(this.g.length,I.g.length),k=[],N=0;N<T;N++)k[N]=this.i(N)|I.i(N);return new s(k,this.h|I.h)},t.xor=function(I){for(var T=Math.max(this.g.length,I.g.length),k=[],N=0;N<T;N++)k[N]=this.i(N)^I.i(N);return new s(k,this.h^I.h)};function S(I){for(var T=I.g.length+1,k=[],N=0;N<T;N++)k[N]=I.i(N)<<1|I.i(N-1)>>>31;return new s(k,I.h)}function C(I,T){var k=T>>5;T%=32;for(var N=I.g.length-k,O=[],M=0;M<N;M++)O[M]=0<T?I.i(M+k)>>>T|I.i(M+k+1)<<32-T:I.i(M+k);return new s(O,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,uj=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,Us=s}).apply(typeof uI<"u"?uI:typeof self<"u"?self:typeof window<"u"?window:{});var Nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cj,Sc,dj,xp,Qx,fj,hj,pj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,A,R){return m==Array.prototype||m==Object.prototype||(m[A]=R.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nh=="object"&&Nh];for(var A=0;A<m.length;++A){var R=m[A];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(m,A){if(A)e:{var R=r;m=m.split(".");for(var $=0;$<m.length-1;$++){var Y=m[$];if(!(Y in R))break e;R=R[Y]}m=m[m.length-1],$=R[m],A=A($),A!=$&&A!=null&&e(R,m,{configurable:!0,writable:!0,value:A})}}function o(m,A){m instanceof String&&(m+="");var R=0,$=!1,Y={next:function(){if(!$&&R<m.length){var X=R++;return{value:A(X,m[X]),done:!1}}return $=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(m){return m||function(){return o(this,function(A,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(m){var A=typeof m;return A=A!="object"?A:m?Array.isArray(m)?"array":A:"null",A=="array"||A=="object"&&typeof m.length=="number"}function u(m){var A=typeof m;return A=="object"&&m!=null||A=="function"}function c(m,A,R){return m.call.apply(m.bind,arguments)}function f(m,A,R){if(!m)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,$),m.apply(A,Y)}}return function(){return m.apply(A,arguments)}}function h(m,A,R){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,h.apply(null,arguments)}function y(m,A){var R=Array.prototype.slice.call(arguments,1);return function(){var $=R.slice();return $.push.apply($,arguments),m.apply(this,$)}}function v(m,A){function R(){}R.prototype=A.prototype,m.aa=A.prototype,m.prototype=new R,m.prototype.constructor=m,m.Qb=function($,Y,X){for(var de=Array(arguments.length-2),st=2;st<arguments.length;st++)de[st-2]=arguments[st];return A.prototype[Y].apply($,de)}}function b(m){const A=m.length;if(0<A){const R=Array(A);for(let $=0;$<A;$++)R[$]=m[$];return R}return[]}function x(m,A){for(let R=1;R<arguments.length;R++){const $=arguments[R];if(l($)){const Y=m.length||0,X=$.length||0;m.length=Y+X;for(let de=0;de<X;de++)m[Y+de]=$[de]}else m.push($)}}class w{constructor(A,R){this.i=A,this.j=R,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function _(m){return/^[\s\xa0]*$/.test(m)}function E(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function P(m){return P[" "](m),m}P[" "]=function(){};var S=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function C(m,A,R){for(const $ in m)A.call(R,m[$],$,m)}function I(m,A){for(const R in m)A.call(void 0,m[R],R,m)}function T(m){const A={};for(const R in m)A[R]=m[R];return A}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(m,A){let R,$;for(let Y=1;Y<arguments.length;Y++){$=arguments[Y];for(R in $)m[R]=$[R];for(let X=0;X<k.length;X++)R=k[X],Object.prototype.hasOwnProperty.call($,R)&&(m[R]=$[R])}}function O(m){var A=1;m=m.split(":");const R=[];for(;0<A&&m.length;)R.push(m.shift()),A--;return m.length&&R.push(m.join(":")),R}function M(m){a.setTimeout(()=>{throw m},0)}function D(){var m=G;let A=null;return m.g&&(A=m.g,m.g=m.g.next,m.g||(m.h=null),A.next=null),A}class z{constructor(){this.h=this.g=null}add(A,R){const $=F.get();$.set(A,R),this.h?this.h.next=$:this.g=$,this.h=$}}var F=new w(()=>new j,m=>m.reset());class j{constructor(){this.next=this.g=this.h=null}set(A,R){this.h=A,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let V,L=!1,G=new z,q=()=>{const m=a.Promise.resolve(void 0);V=()=>{m.then(J)}};var J=()=>{for(var m;m=D();){try{m.h.call(m.g)}catch(R){M(R)}var A=F;A.j(m),100>A.h&&(A.h++,m.next=A.g,A.g=m)}L=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(m,A){this.type=m,this.g=this.target=A,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,A=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const R=()=>{};a.addEventListener("test",R,A),a.removeEventListener("test",R,A)}catch{}return m}();function K(m,A){if(W.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var R=this.type=m.type,$=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=A,A=m.relatedTarget){if(S){e:{try{P(A.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(A=null)}}else R=="mouseover"?A=m.fromElement:R=="mouseout"&&(A=m.toElement);this.relatedTarget=A,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ae[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&K.aa.h.call(this)}}v(K,W);var ae={2:"touch",3:"pen",4:"mouse"};K.prototype.h=function(){K.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),Me=0;function le(m,A,R,$,Y){this.listener=m,this.proxy=null,this.src=A,this.type=R,this.capture=!!$,this.ha=Y,this.key=++Me,this.da=this.fa=!1}function ve(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ce(m){this.src=m,this.g={},this.h=0}ce.prototype.add=function(m,A,R,$,Y){var X=m.toString();m=this.g[X],m||(m=this.g[X]=[],this.h++);var de=Ce(m,A,$,Y);return-1<de?(A=m[de],R||(A.fa=!1)):(A=new le(A,this.src,X,!!$,Y),A.fa=R,m.push(A)),A};function Z(m,A){var R=A.type;if(R in m.g){var $=m.g[R],Y=Array.prototype.indexOf.call($,A,void 0),X;(X=0<=Y)&&Array.prototype.splice.call($,Y,1),X&&(ve(A),m.g[R].length==0&&(delete m.g[R],m.h--))}}function Ce(m,A,R,$){for(var Y=0;Y<m.length;++Y){var X=m[Y];if(!X.da&&X.listener==A&&X.capture==!!R&&X.ha==$)return Y}return-1}var Re="closure_lm_"+(1e6*Math.random()|0),rt={};function it(m,A,R,$,Y){if(Array.isArray(A)){for(var X=0;X<A.length;X++)it(m,A[X],R,$,Y);return null}return R=ot(R),m&&m[fe]?m.K(A,R,u($)?!!$.capture:!1,Y):ft(m,A,R,!1,$,Y)}function ft(m,A,R,$,Y,X){if(!A)throw Error("Invalid event type");var de=u(Y)?!!Y.capture:!!Y,st=Oe(m);if(st||(m[Re]=st=new ce(m)),R=st.add(A,R,$,de,X),R.proxy)return R;if($=dn(),R.proxy=$,$.src=m,$.listener=R,m.addEventListener)ie||(Y=de),Y===void 0&&(Y=!1),m.addEventListener(A.toString(),$,Y);else if(m.attachEvent)m.attachEvent(ee(A.toString()),$);else if(m.addListener&&m.removeListener)m.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return R}function dn(){function m(R){return A.call(m.src,m.listener,R)}const A=ue;return m}function Sr(m,A,R,$,Y){if(Array.isArray(A))for(var X=0;X<A.length;X++)Sr(m,A[X],R,$,Y);else $=u($)?!!$.capture:!!$,R=ot(R),m&&m[fe]?(m=m.i,A=String(A).toString(),A in m.g&&(X=m.g[A],R=Ce(X,R,$,Y),-1<R&&(ve(X[R]),Array.prototype.splice.call(X,R,1),X.length==0&&(delete m.g[A],m.h--)))):m&&(m=Oe(m))&&(A=m.g[A.toString()],m=-1,A&&(m=Ce(A,R,$,Y)),(R=-1<m?A[m]:null)&&Kr(R))}function Kr(m){if(typeof m!="number"&&m&&!m.da){var A=m.src;if(A&&A[fe])Z(A.i,m);else{var R=m.type,$=m.proxy;A.removeEventListener?A.removeEventListener(R,$,m.capture):A.detachEvent?A.detachEvent(ee(R),$):A.addListener&&A.removeListener&&A.removeListener($),(R=Oe(A))?(Z(R,m),R.h==0&&(R.src=null,A[Re]=null)):ve(m)}}}function ee(m){return m in rt?rt[m]:rt[m]="on"+m}function ue(m,A){if(m.da)m=!0;else{A=new K(A,this);var R=m.listener,$=m.ha||m.src;m.fa&&Kr(m),m=R.call($,A)}return m}function Oe(m){return m=m[Re],m instanceof ce?m:null}var Ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function ot(m){return typeof m=="function"?m:(m[Ue]||(m[Ue]=function(A){return m.handleEvent(A)}),m[Ue])}function Te(){H.call(this),this.i=new ce(this),this.M=this,this.F=null}v(Te,H),Te.prototype[fe]=!0,Te.prototype.removeEventListener=function(m,A,R,$){Sr(this,m,A,R,$)};function Ye(m,A){var R,$=m.F;if($)for(R=[];$;$=$.F)R.push($);if(m=m.M,$=A.type||A,typeof A=="string")A=new W(A,m);else if(A instanceof W)A.target=A.target||m;else{var Y=A;A=new W($,m),N(A,Y)}if(Y=!0,R)for(var X=R.length-1;0<=X;X--){var de=A.g=R[X];Y=Tn(de,$,!0,A)&&Y}if(de=A.g=m,Y=Tn(de,$,!0,A)&&Y,Y=Tn(de,$,!1,A)&&Y,R)for(X=0;X<R.length;X++)de=A.g=R[X],Y=Tn(de,$,!1,A)&&Y}Te.prototype.N=function(){if(Te.aa.N.call(this),this.i){var m=this.i,A;for(A in m.g){for(var R=m.g[A],$=0;$<R.length;$++)ve(R[$]);delete m.g[A],m.h--}}this.F=null},Te.prototype.K=function(m,A,R,$){return this.i.add(String(m),A,!1,R,$)},Te.prototype.L=function(m,A,R,$){return this.i.add(String(m),A,!0,R,$)};function Tn(m,A,R,$){if(A=m.i.g[String(A)],!A)return!0;A=A.concat();for(var Y=!0,X=0;X<A.length;++X){var de=A[X];if(de&&!de.da&&de.capture==R){var st=de.listener,en=de.ha||de.src;de.fa&&Z(m.i,de),Y=st.call(en,$)!==!1&&Y}}return Y&&!$.defaultPrevented}function Zt(m,A,R){if(typeof m=="function")R&&(m=h(m,R));else if(m&&typeof m.handleEvent=="function")m=h(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:a.setTimeout(m,A||0)}function ao(m){m.g=Zt(()=>{m.g=null,m.i&&(m.i=!1,ao(m))},m.l);const A=m.h;m.h=null,m.m.apply(null,A)}class l0 extends H{constructor(A,R){super(),this.m=A,this.l=R,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:ao(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vu(m){H.call(this),this.h=m,this.g={}}v(Vu,H);var AT=[];function IT(m){C(m.g,function(A,R){this.g.hasOwnProperty(R)&&Kr(A)},m),m.g={}}Vu.prototype.N=function(){Vu.aa.N.call(this),IT(this)},Vu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var u0=a.JSON.stringify,EV=a.JSON.parse,TV=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function c0(){}c0.prototype.h=null;function kT(m){return m.h||(m.h=m.i())}function CT(){}var Fu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function d0(){W.call(this,"d")}v(d0,W);function f0(){W.call(this,"c")}v(f0,W);var fs={},PT=null;function Jf(){return PT=PT||new Te}fs.La="serverreachability";function NT(m){W.call(this,fs.La,m)}v(NT,W);function Uu(m){const A=Jf();Ye(A,new NT(A))}fs.STAT_EVENT="statevent";function RT(m,A){W.call(this,fs.STAT_EVENT,m),this.stat=A}v(RT,W);function Sn(m){const A=Jf();Ye(A,new RT(A,m))}fs.Ma="timingevent";function OT(m,A){W.call(this,fs.Ma,m),this.size=A}v(OT,W);function Bu(m,A){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},A)}function Gu(){this.g=!0}Gu.prototype.xa=function(){this.g=!1};function SV(m,A,R,$,Y,X){m.info(function(){if(m.g)if(X)for(var de="",st=X.split("&"),en=0;en<st.length;en++){var qe=st[en].split("=");if(1<qe.length){var fn=qe[0];qe=qe[1];var hn=fn.split("_");de=2<=hn.length&&hn[1]=="type"?de+(fn+"="+qe+"&"):de+(fn+"=redacted&")}}else de=null;else de=X;return"XMLHTTP REQ ("+$+") [attempt "+Y+"]: "+A+`
`+R+`
`+de})}function AV(m,A,R,$,Y,X,de){m.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+Y+"]: "+A+`
`+R+`
`+X+" "+de})}function wa(m,A,R,$){m.info(function(){return"XMLHTTP TEXT ("+A+"): "+kV(m,R)+($?" "+$:"")})}function IV(m,A){m.info(function(){return"TIMEOUT: "+A})}Gu.prototype.info=function(){};function kV(m,A){if(!m.g)return A;if(!A)return null;try{var R=JSON.parse(A);if(R){for(m=0;m<R.length;m++)if(Array.isArray(R[m])){var $=R[m];if(!(2>$.length)){var Y=$[1];if(Array.isArray(Y)&&!(1>Y.length)){var X=Y[0];if(X!="noop"&&X!="stop"&&X!="close")for(var de=1;de<Y.length;de++)Y[de]=""}}}}return u0(R)}catch{return A}}var Xf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},MT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},h0;function Qf(){}v(Qf,c0),Qf.prototype.g=function(){return new XMLHttpRequest},Qf.prototype.i=function(){return{}},h0=new Qf;function lo(m,A,R,$){this.j=m,this.i=A,this.l=R,this.R=$||1,this.U=new Vu(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new DT}function DT(){this.i=null,this.g="",this.h=!1}var jT={},p0={};function m0(m,A,R){m.L=1,m.v=nh(mi(A)),m.m=R,m.P=!0,LT(m,null)}function LT(m,A){m.F=Date.now(),Zf(m),m.A=mi(m.v);var R=m.A,$=m.R;Array.isArray($)||($=[String($)]),XT(R.i,"t",$),m.C=0,R=m.j.J,m.h=new DT,m.g=mS(m.j,R?A:null,!m.m),0<m.O&&(m.M=new l0(h(m.Y,m,m.g),m.O)),A=m.U,R=m.g,$=m.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(AT[0]=Y.toString()),Y=AT);for(var X=0;X<Y.length;X++){var de=it(R,Y[X],$||A.handleEvent,!1,A.h||A);if(!de)break;A.g[de.key]=de}A=m.H?T(m.H):{},m.m?(m.u||(m.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,A)):(m.u="GET",m.g.ea(m.A,m.u,null,A)),Uu(),SV(m.i,m.u,m.A,m.l,m.R,m.m)}lo.prototype.ca=function(m){m=m.target;const A=this.M;A&&gi(m)==3?A.j():this.Y(m)},lo.prototype.Y=function(m){try{if(m==this.g)e:{const hn=gi(this.g);var A=this.g.Ba();const Sa=this.g.Z();if(!(3>hn)&&(hn!=3||this.g&&(this.h.h||this.g.oa()||iS(this.g)))){this.J||hn!=4||A==7||(A==8||0>=Sa?Uu(3):Uu(2)),g0(this);var R=this.g.Z();this.X=R;t:if($T(this)){var $=iS(this.g);m="";var Y=$.length,X=gi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hs(this),zu(this);var de="";break t}this.h.i=new a.TextDecoder}for(A=0;A<Y;A++)this.h.h=!0,m+=this.h.i.decode($[A],{stream:!(X&&A==Y-1)});$.length=0,this.h.g+=m,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=R==200,AV(this.i,this.u,this.A,this.l,this.R,hn,R),this.o){if(this.T&&!this.K){t:{if(this.g){var st,en=this.g;if((st=en.g?en.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(st)){var qe=st;break t}}qe=null}if(R=qe)wa(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,y0(this,R);else{this.o=!1,this.s=3,Sn(12),hs(this),zu(this);break e}}if(this.P){R=!0;let Ar;for(;!this.J&&this.C<de.length;)if(Ar=CV(this,de),Ar==p0){hn==4&&(this.s=4,Sn(14),R=!1),wa(this.i,this.l,null,"[Incomplete Response]");break}else if(Ar==jT){this.s=4,Sn(15),wa(this.i,this.l,de,"[Invalid Chunk]"),R=!1;break}else wa(this.i,this.l,Ar,null),y0(this,Ar);if($T(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),hn!=4||de.length!=0||this.h.h||(this.s=1,Sn(16),R=!1),this.o=this.o&&R,!R)wa(this.i,this.l,de,"[Invalid Chunked Response]"),hs(this),zu(this);else if(0<de.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),E0(fn),fn.M=!0,Sn(11))}}else wa(this.i,this.l,de,null),y0(this,de);hn==4&&hs(this),this.o&&!this.J&&(hn==4?dS(this.j,this):(this.o=!1,Zf(this)))}else HV(this.g),R==400&&0<de.indexOf("Unknown SID")?(this.s=3,Sn(12)):(this.s=0,Sn(13)),hs(this),zu(this)}}}catch{}finally{}};function $T(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function CV(m,A){var R=m.C,$=A.indexOf(`
`,R);return $==-1?p0:(R=Number(A.substring(R,$)),isNaN(R)?jT:($+=1,$+R>A.length?p0:(A=A.slice($,$+R),m.C=$+R,A)))}lo.prototype.cancel=function(){this.J=!0,hs(this)};function Zf(m){m.S=Date.now()+m.I,VT(m,m.I)}function VT(m,A){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Bu(h(m.ba,m),A)}function g0(m){m.B&&(a.clearTimeout(m.B),m.B=null)}lo.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(IV(this.i,this.A),this.L!=2&&(Uu(),Sn(17)),hs(this),this.s=2,zu(this)):VT(this,this.S-m)};function zu(m){m.j.G==0||m.J||dS(m.j,m)}function hs(m){g0(m);var A=m.M;A&&typeof A.ma=="function"&&A.ma(),m.M=null,IT(m.U),m.g&&(A=m.g,m.g=null,A.abort(),A.ma())}function y0(m,A){try{var R=m.j;if(R.G!=0&&(R.g==m||v0(R.h,m))){if(!m.K&&v0(R.h,m)&&R.G==3){try{var $=R.Da.g.parse(A)}catch{$=null}if(Array.isArray($)&&$.length==3){var Y=$;if(Y[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<m.F)lh(R),sh(R);else break e;w0(R),Sn(18)}}else R.za=Y[1],0<R.za-R.T&&37500>Y[2]&&R.F&&R.v==0&&!R.C&&(R.C=Bu(h(R.Za,R),6e3));if(1>=BT(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else ms(R,11)}else if((m.K||R.g==m)&&lh(R),!_(A))for(Y=R.Da.g.parse(A),A=0;A<Y.length;A++){let qe=Y[A];if(R.T=qe[0],qe=qe[1],R.G==2)if(qe[0]=="c"){R.K=qe[1],R.ia=qe[2];const fn=qe[3];fn!=null&&(R.la=fn,R.j.info("VER="+R.la));const hn=qe[4];hn!=null&&(R.Aa=hn,R.j.info("SVER="+R.Aa));const Sa=qe[5];Sa!=null&&typeof Sa=="number"&&0<Sa&&($=1.5*Sa,R.L=$,R.j.info("backChannelRequestTimeoutMs_="+$)),$=R;const Ar=m.g;if(Ar){const ch=Ar.g?Ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ch){var X=$.h;X.g||ch.indexOf("spdy")==-1&&ch.indexOf("quic")==-1&&ch.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(x0(X,X.h),X.h=null))}if($.D){const T0=Ar.g?Ar.g.getResponseHeader("X-HTTP-Session-Id"):null;T0&&($.ya=T0,ht($.I,$.D,T0))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-m.F,R.j.info("Handshake RTT: "+R.R+"ms")),$=R;var de=m;if($.qa=pS($,$.J?$.ia:null,$.W),de.K){GT($.h,de);var st=de,en=$.L;en&&(st.I=en),st.B&&(g0(st),Zf(st)),$.g=de}else uS($);0<R.i.length&&ah(R)}else qe[0]!="stop"&&qe[0]!="close"||ms(R,7);else R.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?ms(R,7):_0(R):qe[0]!="noop"&&R.l&&R.l.ta(qe),R.v=0)}}Uu(4)}catch{}}var PV=class{constructor(m,A){this.g=m,this.map=A}};function FT(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function UT(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function BT(m){return m.h?1:m.g?m.g.size:0}function v0(m,A){return m.h?m.h==A:m.g?m.g.has(A):!1}function x0(m,A){m.g?m.g.add(A):m.h=A}function GT(m,A){m.h&&m.h==A?m.h=null:m.g&&m.g.has(A)&&m.g.delete(A)}FT.prototype.cancel=function(){if(this.i=zT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function zT(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let A=m.i;for(const R of m.g.values())A=A.concat(R.D);return A}return b(m.i)}function NV(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var A=[],R=m.length,$=0;$<R;$++)A.push(m[$]);return A}A=[],R=0;for($ in m)A[R++]=m[$];return A}function RV(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var A=[];m=m.length;for(var R=0;R<m;R++)A.push(R);return A}A=[],R=0;for(const $ in m)A[R++]=$;return A}}}function qT(m,A){if(m.forEach&&typeof m.forEach=="function")m.forEach(A,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,A,void 0);else for(var R=RV(m),$=NV(m),Y=$.length,X=0;X<Y;X++)A.call(void 0,$[X],R&&R[X],m)}var HT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function OV(m,A){if(m){m=m.split("&");for(var R=0;R<m.length;R++){var $=m[R].indexOf("="),Y=null;if(0<=$){var X=m[R].substring(0,$);Y=m[R].substring($+1)}else X=m[R];A(X,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function ps(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof ps){this.h=m.h,eh(this,m.j),this.o=m.o,this.g=m.g,th(this,m.s),this.l=m.l;var A=m.i,R=new Wu;R.i=A.i,A.g&&(R.g=new Map(A.g),R.h=A.h),WT(this,R),this.m=m.m}else m&&(A=String(m).match(HT))?(this.h=!1,eh(this,A[1]||"",!0),this.o=qu(A[2]||""),this.g=qu(A[3]||"",!0),th(this,A[4]),this.l=qu(A[5]||"",!0),WT(this,A[6]||"",!0),this.m=qu(A[7]||"")):(this.h=!1,this.i=new Wu(null,this.h))}ps.prototype.toString=function(){var m=[],A=this.j;A&&m.push(Hu(A,KT,!0),":");var R=this.g;return(R||A=="file")&&(m.push("//"),(A=this.o)&&m.push(Hu(A,KT,!0),"@"),m.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&m.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&m.push("/"),m.push(Hu(R,R.charAt(0)=="/"?jV:DV,!0))),(R=this.i.toString())&&m.push("?",R),(R=this.m)&&m.push("#",Hu(R,$V)),m.join("")};function mi(m){return new ps(m)}function eh(m,A,R){m.j=R?qu(A,!0):A,m.j&&(m.j=m.j.replace(/:$/,""))}function th(m,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);m.s=A}else m.s=null}function WT(m,A,R){A instanceof Wu?(m.i=A,VV(m.i,m.h)):(R||(A=Hu(A,LV)),m.i=new Wu(A,m.h))}function ht(m,A,R){m.i.set(A,R)}function nh(m){return ht(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function qu(m,A){return m?A?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Hu(m,A,R){return typeof m=="string"?(m=encodeURI(m).replace(A,MV),R&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function MV(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var KT=/[#\/\?@]/g,DV=/[#\?:]/g,jV=/[#\?]/g,LV=/[#\?@]/g,$V=/#/g;function Wu(m,A){this.h=this.g=null,this.i=m||null,this.j=!!A}function uo(m){m.g||(m.g=new Map,m.h=0,m.i&&OV(m.i,function(A,R){m.add(decodeURIComponent(A.replace(/\+/g," ")),R)}))}t=Wu.prototype,t.add=function(m,A){uo(this),this.i=null,m=Ea(this,m);var R=this.g.get(m);return R||this.g.set(m,R=[]),R.push(A),this.h+=1,this};function YT(m,A){uo(m),A=Ea(m,A),m.g.has(A)&&(m.i=null,m.h-=m.g.get(A).length,m.g.delete(A))}function JT(m,A){return uo(m),A=Ea(m,A),m.g.has(A)}t.forEach=function(m,A){uo(this),this.g.forEach(function(R,$){R.forEach(function(Y){m.call(A,Y,$,this)},this)},this)},t.na=function(){uo(this);const m=Array.from(this.g.values()),A=Array.from(this.g.keys()),R=[];for(let $=0;$<A.length;$++){const Y=m[$];for(let X=0;X<Y.length;X++)R.push(A[$])}return R},t.V=function(m){uo(this);let A=[];if(typeof m=="string")JT(this,m)&&(A=A.concat(this.g.get(Ea(this,m))));else{m=Array.from(this.g.values());for(let R=0;R<m.length;R++)A=A.concat(m[R])}return A},t.set=function(m,A){return uo(this),this.i=null,m=Ea(this,m),JT(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[A]),this.h+=1,this},t.get=function(m,A){return m?(m=this.V(m),0<m.length?String(m[0]):A):A};function XT(m,A,R){YT(m,A),0<R.length&&(m.i=null,m.g.set(Ea(m,A),b(R)),m.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],A=Array.from(this.g.keys());for(var R=0;R<A.length;R++){var $=A[R];const X=encodeURIComponent(String($)),de=this.V($);for($=0;$<de.length;$++){var Y=X;de[$]!==""&&(Y+="="+encodeURIComponent(String(de[$]))),m.push(Y)}}return this.i=m.join("&")};function Ea(m,A){return A=String(A),m.j&&(A=A.toLowerCase()),A}function VV(m,A){A&&!m.j&&(uo(m),m.i=null,m.g.forEach(function(R,$){var Y=$.toLowerCase();$!=Y&&(YT(this,$),XT(this,Y,R))},m)),m.j=A}function FV(m,A){const R=new Gu;if(a.Image){const $=new Image;$.onload=y(co,R,"TestLoadImage: loaded",!0,A,$),$.onerror=y(co,R,"TestLoadImage: error",!1,A,$),$.onabort=y(co,R,"TestLoadImage: abort",!1,A,$),$.ontimeout=y(co,R,"TestLoadImage: timeout",!1,A,$),a.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=m}else A(!1)}function UV(m,A){const R=new Gu,$=new AbortController,Y=setTimeout(()=>{$.abort(),co(R,"TestPingServer: timeout",!1,A)},1e4);fetch(m,{signal:$.signal}).then(X=>{clearTimeout(Y),X.ok?co(R,"TestPingServer: ok",!0,A):co(R,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(Y),co(R,"TestPingServer: error",!1,A)})}function co(m,A,R,$,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),$(R)}catch{}}function BV(){this.g=new TV}function GV(m,A,R){const $=R||"";try{qT(m,function(Y,X){let de=Y;u(Y)&&(de=u0(Y)),A.push($+X+"="+encodeURIComponent(de))})}catch(Y){throw A.push($+"type="+encodeURIComponent("_badmap")),Y}}function rh(m){this.l=m.Ub||null,this.j=m.eb||!1}v(rh,c0),rh.prototype.g=function(){return new ih(this.l,this.j)},rh.prototype.i=function(m){return function(){return m}}({});function ih(m,A){Te.call(this),this.D=m,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(ih,Te),t=ih.prototype,t.open=function(m,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=A,this.readyState=1,Yu(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(A.body=m),(this.D||a).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ku(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Yu(this)),this.g&&(this.readyState=3,Yu(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;QT(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function QT(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var A=m.value?m.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!m.done}))&&(this.response=this.responseText+=A)}m.done?Ku(this):Yu(this),this.readyState==3&&QT(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Ku(this))},t.Qa=function(m){this.g&&(this.response=m,Ku(this))},t.ga=function(){this.g&&Ku(this)};function Ku(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Yu(m)}t.setRequestHeader=function(m,A){this.u.append(m,A)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],A=this.h.entries();for(var R=A.next();!R.done;)R=R.value,m.push(R[0]+": "+R[1]),R=A.next();return m.join(`\r
`)};function Yu(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ih.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ZT(m){let A="";return C(m,function(R,$){A+=$,A+=":",A+=R,A+=`\r
`}),A}function b0(m,A,R){e:{for($ in R){var $=!1;break e}$=!0}$||(R=ZT(R),typeof m=="string"?R!=null&&encodeURIComponent(String(R)):ht(m,A,R))}function At(m){Te.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(At,Te);var zV=/^https?$/i,qV=["POST","PUT"];t=At.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,A,R,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);A=A?A.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():h0.g(),this.v=this.o?kT(this.o):kT(h0),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(A,String(m),!0),this.B=!1}catch(X){eS(this,X);return}if(m=R||"",R=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var Y in $)R.set(Y,$[Y]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const X of $.keys())R.set(X,$.get(X));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(R.keys()).find(X=>X.toLowerCase()=="content-type"),Y=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(qV,A,void 0))||$||Y||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,de]of R)this.g.setRequestHeader(X,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{rS(this),this.u=!0,this.g.send(m),this.u=!1}catch(X){eS(this,X)}};function eS(m,A){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=A,m.m=5,tS(m),oh(m)}function tS(m){m.A||(m.A=!0,Ye(m,"complete"),Ye(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Ye(this,"complete"),Ye(this,"abort"),oh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oh(this,!0)),At.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?nS(this):this.bb())},t.bb=function(){nS(this)};function nS(m){if(m.h&&typeof s<"u"&&(!m.v[1]||gi(m)!=4||m.Z()!=2)){if(m.u&&gi(m)==4)Zt(m.Ea,0,m);else if(Ye(m,"readystatechange"),gi(m)==4){m.h=!1;try{const de=m.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var R;if(!(R=A)){var $;if($=de===0){var Y=String(m.D).match(HT)[1]||null;!Y&&a.self&&a.self.location&&(Y=a.self.location.protocol.slice(0,-1)),$=!zV.test(Y?Y.toLowerCase():"")}R=$}if(R)Ye(m,"complete"),Ye(m,"success");else{m.m=6;try{var X=2<gi(m)?m.g.statusText:""}catch{X=""}m.l=X+" ["+m.Z()+"]",tS(m)}}finally{oh(m)}}}}function oh(m,A){if(m.g){rS(m);const R=m.g,$=m.v[0]?()=>{}:null;m.g=null,m.v=null,A||Ye(m,"ready");try{R.onreadystatechange=$}catch{}}}function rS(m){m.I&&(a.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function gi(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<gi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var A=this.g.responseText;return m&&A.indexOf(m)==0&&(A=A.substring(m.length)),EV(A)}};function iS(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function HV(m){const A={};m=(m.g&&2<=gi(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<m.length;$++){if(_(m[$]))continue;var R=O(m[$]);const Y=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const X=A[Y]||[];A[Y]=X,X.push(R)}I(A,function($){return $.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ju(m,A,R){return R&&R.internalChannelParams&&R.internalChannelParams[m]||A}function oS(m){this.Aa=0,this.i=[],this.j=new Gu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ju("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ju("baseRetryDelayMs",5e3,m),this.cb=Ju("retryDelaySeedMs",1e4,m),this.Wa=Ju("forwardChannelMaxRetries",2,m),this.wa=Ju("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new FT(m&&m.concurrentRequestLimit),this.Da=new BV,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=oS.prototype,t.la=8,t.G=1,t.connect=function(m,A,R,$){Sn(0),this.W=m,this.H=A||{},R&&$!==void 0&&(this.H.OSID=R,this.H.OAID=$),this.F=this.X,this.I=pS(this,null,this.W),ah(this)};function _0(m){if(sS(m),m.G==3){var A=m.U++,R=mi(m.I);if(ht(R,"SID",m.K),ht(R,"RID",A),ht(R,"TYPE","terminate"),Xu(m,R),A=new lo(m,m.j,A),A.L=2,A.v=nh(mi(R)),R=!1,a.navigator&&a.navigator.sendBeacon)try{R=a.navigator.sendBeacon(A.v.toString(),"")}catch{}!R&&a.Image&&(new Image().src=A.v,R=!0),R||(A.g=mS(A.j,null),A.g.ea(A.v)),A.F=Date.now(),Zf(A)}hS(m)}function sh(m){m.g&&(E0(m),m.g.cancel(),m.g=null)}function sS(m){sh(m),m.u&&(a.clearTimeout(m.u),m.u=null),lh(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function ah(m){if(!UT(m.h)&&!m.s){m.s=!0;var A=m.Ga;V||q(),L||(V(),L=!0),G.add(A,m),m.B=0}}function WV(m,A){return BT(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=A.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Bu(h(m.Ga,m,A),fS(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Y=new lo(this,this.j,m);let X=this.o;if(this.S&&(X?(X=T(X),N(X,this.S)):X=this.S),this.m!==null||this.O||(Y.H=X,X=null),this.P)e:{for(var A=0,R=0;R<this.i.length;R++){t:{var $=this.i[R];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(A+=$,4096<A){A=R;break e}if(A===4096||R===this.i.length-1){A=R+1;break e}}A=1e3}else A=1e3;A=lS(this,Y,A),R=mi(this.I),ht(R,"RID",m),ht(R,"CVER",22),this.D&&ht(R,"X-HTTP-Session-Id",this.D),Xu(this,R),X&&(this.O?A="headers="+encodeURIComponent(String(ZT(X)))+"&"+A:this.m&&b0(R,this.m,X)),x0(this.h,Y),this.Ua&&ht(R,"TYPE","init"),this.P?(ht(R,"$req",A),ht(R,"SID","null"),Y.T=!0,m0(Y,R,null)):m0(Y,R,A),this.G=2}}else this.G==3&&(m?aS(this,m):this.i.length==0||UT(this.h)||aS(this))};function aS(m,A){var R;A?R=A.l:R=m.U++;const $=mi(m.I);ht($,"SID",m.K),ht($,"RID",R),ht($,"AID",m.T),Xu(m,$),m.m&&m.o&&b0($,m.m,m.o),R=new lo(m,m.j,R,m.B+1),m.m===null&&(R.H=m.o),A&&(m.i=A.D.concat(m.i)),A=lS(m,R,1e3),R.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),x0(m.h,R),m0(R,$,A)}function Xu(m,A){m.H&&C(m.H,function(R,$){ht(A,$,R)}),m.l&&qT({},function(R,$){ht(A,$,R)})}function lS(m,A,R){R=Math.min(m.i.length,R);var $=m.l?h(m.l.Na,m.l,m):null;e:{var Y=m.i;let X=-1;for(;;){const de=["count="+R];X==-1?0<R?(X=Y[0].g,de.push("ofs="+X)):X=0:de.push("ofs="+X);let st=!0;for(let en=0;en<R;en++){let qe=Y[en].g;const fn=Y[en].map;if(qe-=X,0>qe)X=Math.max(0,Y[en].g-100),st=!1;else try{GV(fn,de,"req"+qe+"_")}catch{$&&$(fn)}}if(st){$=de.join("&");break e}}}return m=m.i.splice(0,R),A.D=m,$}function uS(m){if(!m.g&&!m.u){m.Y=1;var A=m.Fa;V||q(),L||(V(),L=!0),G.add(A,m),m.v=0}}function w0(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Bu(h(m.Fa,m),fS(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,cS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Bu(h(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Sn(10),sh(this),cS(this))};function E0(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function cS(m){m.g=new lo(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var A=mi(m.qa);ht(A,"RID","rpc"),ht(A,"SID",m.K),ht(A,"AID",m.T),ht(A,"CI",m.F?"0":"1"),!m.F&&m.ja&&ht(A,"TO",m.ja),ht(A,"TYPE","xmlhttp"),Xu(m,A),m.m&&m.o&&b0(A,m.m,m.o),m.L&&(m.g.I=m.L);var R=m.g;m=m.ia,R.L=1,R.v=nh(mi(A)),R.m=null,R.P=!0,LT(R,m)}t.Za=function(){this.C!=null&&(this.C=null,sh(this),w0(this),Sn(19))};function lh(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function dS(m,A){var R=null;if(m.g==A){lh(m),E0(m),m.g=null;var $=2}else if(v0(m.h,A))R=A.D,GT(m.h,A),$=1;else return;if(m.G!=0){if(A.o)if($==1){R=A.m?A.m.length:0,A=Date.now()-A.F;var Y=m.B;$=Jf(),Ye($,new OT($,R)),ah(m)}else uS(m);else if(Y=A.s,Y==3||Y==0&&0<A.X||!($==1&&WV(m,A)||$==2&&w0(m)))switch(R&&0<R.length&&(A=m.h,A.i=A.i.concat(R)),Y){case 1:ms(m,5);break;case 4:ms(m,10);break;case 3:ms(m,6);break;default:ms(m,2)}}}function fS(m,A){let R=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(R*=2),R*A}function ms(m,A){if(m.j.info("Error code "+A),A==2){var R=h(m.fb,m),$=m.Xa;const Y=!$;$=new ps($||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||eh($,"https"),nh($),Y?FV($.toString(),R):UV($.toString(),R)}else Sn(2);m.G=0,m.l&&m.l.sa(A),hS(m),sS(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Sn(2)):(this.j.info("Failed to ping google.com"),Sn(1))};function hS(m){if(m.G=0,m.ka=[],m.l){const A=zT(m.h);(A.length!=0||m.i.length!=0)&&(x(m.ka,A),x(m.ka,m.i),m.h.i.length=0,b(m.i),m.i.length=0),m.l.ra()}}function pS(m,A,R){var $=R instanceof ps?mi(R):new ps(R);if($.g!="")A&&($.g=A+"."+$.g),th($,$.s);else{var Y=a.location;$=Y.protocol,A=A?A+"."+Y.hostname:Y.hostname,Y=+Y.port;var X=new ps(null);$&&eh(X,$),A&&(X.g=A),Y&&th(X,Y),R&&(X.l=R),$=X}return R=m.D,A=m.ya,R&&A&&ht($,R,A),ht($,"VER",m.la),Xu(m,$),$}function mS(m,A,R){if(A&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=m.Ca&&!m.pa?new At(new rh({eb:R})):new At(m.pa),A.Ha(m.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gS(){}t=gS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function uh(){}uh.prototype.g=function(m,A){return new qn(m,A)};function qn(m,A){Te.call(this),this.g=new oS(A),this.l=m,this.h=A&&A.messageUrlParams||null,m=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(m?m["X-WebChannel-Content-Type"]=A.messageContentType:m={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(m?m["X-WebChannel-Client-Profile"]=A.va:m={"X-WebChannel-Client-Profile":A.va}),this.g.S=m,(m=A&&A.Sb)&&!_(m)&&(this.g.m=m),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!_(A)&&(this.g.D=A,m=this.h,m!==null&&A in m&&(m=this.h,A in m&&delete m[A])),this.j=new Ta(this)}v(qn,Te),qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){_0(this.g)},qn.prototype.o=function(m){var A=this.g;if(typeof m=="string"){var R={};R.__data__=m,m=R}else this.u&&(R={},R.__data__=u0(m),m=R);A.i.push(new PV(A.Ya++,m)),A.G==3&&ah(A)},qn.prototype.N=function(){this.g.l=null,delete this.j,_0(this.g),delete this.g,qn.aa.N.call(this)};function yS(m){d0.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var A=m.__sm__;if(A){e:{for(const R in A){m=R;break e}m=void 0}(this.i=m)&&(m=this.i,A=A!==null&&m in A?A[m]:void 0),this.data=A}else this.data=m}v(yS,d0);function vS(){f0.call(this),this.status=1}v(vS,f0);function Ta(m){this.g=m}v(Ta,gS),Ta.prototype.ua=function(){Ye(this.g,"a")},Ta.prototype.ta=function(m){Ye(this.g,new yS(m))},Ta.prototype.sa=function(m){Ye(this.g,new vS)},Ta.prototype.ra=function(){Ye(this.g,"b")},uh.prototype.createWebChannel=uh.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,pj=function(){return new uh},hj=function(){return Jf()},fj=fs,Qx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xf.NO_ERROR=0,Xf.TIMEOUT=8,Xf.HTTP_ERROR=6,xp=Xf,MT.COMPLETE="complete",dj=MT,CT.EventType=Fu,Fu.OPEN="a",Fu.CLOSE="b",Fu.ERROR="c",Fu.MESSAGE="d",Te.prototype.listen=Te.prototype.K,Sc=CT,At.prototype.listenOnce=At.prototype.L,At.prototype.getLastError=At.prototype.Ka,At.prototype.getLastErrorCode=At.prototype.Ba,At.prototype.getStatus=At.prototype.Z,At.prototype.getResponseJson=At.prototype.Oa,At.prototype.getResponseText=At.prototype.oa,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Ha,cj=At}).apply(typeof Nh<"u"?Nh:typeof self<"u"?self:typeof window<"u"?window:{});const cI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new rE("@firebase/firestore");function sc(){return ea.logLevel}function xe(t,...e){if(ea.logLevel<=Fe.DEBUG){const n=e.map(yE);ea.debug(`Firestore (${pu}): ${t}`,...n)}}function zi(t,...e){if(ea.logLevel<=Fe.ERROR){const n=e.map(yE);ea.error(`Firestore (${pu}): ${t}`,...n)}}function Ed(t,...e){if(ea.logLevel<=Fe.WARN){const n=e.map(yE);ea.warn(`Firestore (${pu}): ${t}`,...n)}}function yE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t="Unexpected state"){const e=`FIRESTORE (${pu}) INTERNAL ASSERTION FAILED: `+t;throw zi(e),new Error(e)}function ze(t,e){t||Ee()}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ln.UNAUTHENTICATED))}shutdown(){}}class fG{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Oi,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Oi)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new cG(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Ln(e)}}class hG{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class pG{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new hG(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gG{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ze(this.o===void 0);const r=o=>{o.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,xe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new mG(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=yG(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function Il(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Gt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Gt(0,0))}static max(){return new Se(new Gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(),r===void 0?r=e.length-n:r>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Td.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Td?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class at extends Td{construct(e,n,r){return new at(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new at(n)}static emptyPath(){return new at([])}}const vG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Td{construct(e,n,r){return new sn(e,n,r)}static isValidIdentifier(e){return vG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new sn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(n)}static emptyPath(){return new sn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(at.fromString(e))}static fromName(e){return new be(at.fromString(e).popFirst(5))}static empty(){return new be(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new at(e.slice()))}}function xG(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Se.fromTimestamp(r===1e9?new Gt(n+1,0):new Gt(n,r));return new Yo(i,be.empty(),e)}function bG(t){return new Yo(t.readTime,t.key,-1)}class Yo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yo(Se.min(),be.empty(),-1)}static max(){return new Yo(Se.max(),be.empty(),-1)}}function _G(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function If(t){if(t.code!==te.FAILED_PRECONDITION||t.message!==wG)throw t;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,r)=>{n(e)})}static reject(e){return new re((n,r)=>{r(e)})}static waitFor(e){return new re((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next(i=>i?re.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new re((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new re((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function TG(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function kf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}vE.oe=-1;function Cf(t){return t==null}function um(t){return t===0&&1/t==-1/0}function SG(t){return typeof t=="number"&&Number.isInteger(t)&&!um(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||rn.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rh(this.root,e,this.comparator,!0)}}class Rh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??rn.RED,this.left=i??rn.EMPTY,this.right=o??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new rn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return rn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,r,i,o){return this}insert(e,n,r){return new rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fI(this.data.getIterator())}getIteratorFrom(e){return new fI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ln(this.comparator);return n.data=e,n}}class fI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new ln(sn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Il(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new yj("Invalid base64 string: "+o):o}}(e);return new cn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const AG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jo(t){if(ze(!!t),typeof t=="string"){let e=0;const n=AG.exec(t);if(ze(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(t.seconds),nanos:Pt(t.nanos)}}function Pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ta(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function bE(t){const e=t.mapValue.fields.__previous_value__;return xE(e)?bE(e):e}function Sd(t){const e=Jo(t.mapValue.fields.__local_write_time__.timestampValue);return new Gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ad{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ad("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ad&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh={mapValue:{}};function na(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?xE(t)?4:CG(t)?9007199254740991:kG(t)?10:11:Ee()}function ai(t,e){if(t===e)return!0;const n=na(t);if(n!==na(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sd(t).isEqual(Sd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Jo(i.timestampValue),a=Jo(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ta(i.bytesValue).isEqual(ta(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Pt(i.geoPointValue.latitude)===Pt(o.geoPointValue.latitude)&&Pt(i.geoPointValue.longitude)===Pt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Pt(i.integerValue)===Pt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Pt(i.doubleValue),a=Pt(o.doubleValue);return s===a?um(s)===um(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Il(t.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(dI(s)!==dI(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ai(s[l],a[l])))return!1;return!0}(t,e);default:return Ee()}}function Id(t,e){return(t.values||[]).find(n=>ai(n,e))!==void 0}function kl(t,e){if(t===e)return 0;const n=na(t),r=na(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Pt(o.integerValue||o.doubleValue),l=Pt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return hI(t.timestampValue,e.timestampValue);case 4:return hI(Sd(t),Sd(e));case 5:return He(t.stringValue,e.stringValue);case 6:return function(o,s){const a=ta(o),l=ta(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=He(a[u],l[u]);if(c!==0)return c}return He(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=He(Pt(o.latitude),Pt(s.latitude));return a!==0?a:He(Pt(o.longitude),Pt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pI(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const f=o.fields||{},h=s.fields||{},y=(a=f.value)===null||a===void 0?void 0:a.arrayValue,v=(l=h.value)===null||l===void 0?void 0:l.arrayValue,b=He(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0);return b!==0?b:pI(y,v)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Oh.mapValue&&s===Oh.mapValue)return 0;if(o===Oh.mapValue)return 1;if(s===Oh.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=He(l[f],c[f]);if(h!==0)return h;const y=kl(a[l[f]],u[c[f]]);if(y!==0)return y}return He(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Ee()}}function hI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=Jo(t),r=Jo(e),i=He(n.seconds,r.seconds);return i!==0?i:He(n.nanos,r.nanos)}function pI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=kl(n[i],r[i]);if(o)return o}return He(n.length,r.length)}function Cl(t){return Zx(t)}function Zx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Jo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ta(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Zx(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Zx(n.fields[s])}`;return i+"}"}(t.mapValue):Ee()}function mI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function eb(t){return!!t&&"integerValue"in t}function _E(t){return!!t&&"arrayValue"in t}function gI(t){return!!t&&"nullValue"in t}function yI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bp(t){return!!t&&"mapValue"in t}function kG(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Fc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return fa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CG(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fc(n)}setAll(e){let n=sn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Fc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());bp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];bp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fa(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Cn(Fc(this.value))}}function vj(t){const e=[];return fa(t.fields,(n,r)=>{const i=new sn([n]);if(bp(r)){const o=vj(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Kt(e,0,Se.min(),Se.min(),Se.min(),Cn.empty(),0)}static newFoundDocument(e,n,r,i){return new Kt(e,1,n,Se.min(),r,i,0)}static newNoDocument(e,n){return new Kt(e,2,n,Se.min(),Se.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new Kt(e,3,n,Se.min(),Se.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n){this.position=e,this.inclusive=n}}function vI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=be.comparator(be.fromName(s.referenceValue),n.key):r=kl(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function xI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ai(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n="asc"){this.field=e,this.dir=n}}function PG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{}class Dt extends xj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new RG(e,n,r):n==="array-contains"?new DG(e,r):n==="in"?new jG(e,r):n==="not-in"?new LG(e,r):n==="array-contains-any"?new $G(e,r):new Dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new OG(e,r):new MG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(kl(n,this.value)):n!==null&&na(this.value)===na(n)&&this.matchesComparison(kl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qr extends xj{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new qr(e,n)}matches(e){return bj(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function bj(t){return t.op==="and"}function _j(t){return NG(t)&&bj(t)}function NG(t){for(const e of t.filters)if(e instanceof qr)return!1;return!0}function tb(t){if(t instanceof Dt)return t.field.canonicalString()+t.op.toString()+Cl(t.value);if(_j(t))return t.filters.map(e=>tb(e)).join(",");{const e=t.filters.map(n=>tb(n)).join(",");return`${t.op}(${e})`}}function wj(t,e){return t instanceof Dt?function(r,i){return i instanceof Dt&&r.op===i.op&&r.field.isEqual(i.field)&&ai(r.value,i.value)}(t,e):t instanceof qr?function(r,i){return i instanceof qr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&wj(s,i.filters[a]),!0):!1}(t,e):void Ee()}function Ej(t){return t instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${Cl(n.value)}`}(t):t instanceof qr?function(n){return n.op.toString()+" {"+n.getFilters().map(Ej).join(" ,")+"}"}(t):"Filter"}class RG extends Dt{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class OG extends Dt{constructor(e,n){super(e,"in",n),this.keys=Tj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class MG extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=Tj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Tj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>be.fromName(r.referenceValue))}class DG extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _E(n)&&Id(n.arrayValue,this.value)}}class jG extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Id(this.value.arrayValue,n)}}class LG extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Id(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Id(this.value.arrayValue,n)}}class $G extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_E(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Id(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VG{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function bI(t,e=null,n=[],r=[],i=null,o=null,s=null){return new VG(t,e,n,r,i,o,s)}function wE(t){const e=Pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>tb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Cf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Cl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Cl(r)).join(",")),e.ue=n}return e.ue}function EE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xI(t.startAt,e.startAt)&&xI(t.endAt,e.endAt)}function nb(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function FG(t,e,n,r,i,o,s,a){return new mu(t,e,n,r,i,o,s,a)}function TE(t){return new mu(t)}function _I(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Sj(t){return t.collectionGroup!==null}function Uc(t){const e=Pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ln(sn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new kd(o,r))}),n.has(sn.keyField().canonicalString())||e.ce.push(new kd(sn.keyField(),r))}return e.ce}function ri(t){const e=Pe(t);return e.le||(e.le=UG(e,Uc(t))),e.le}function UG(t,e){if(t.limitType==="F")return bI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new kd(i.field,o)});const n=t.endAt?new cm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new cm(t.startAt.position,t.startAt.inclusive):null;return bI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function rb(t,e){const n=t.filters.concat([e]);return new mu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dm(t,e,n){return new mu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ey(t,e){return EE(ri(t),ri(e))&&t.limitType===e.limitType}function Aj(t){return`${wE(ri(t))}|lt:${t.limitType}`}function Ra(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Ej(i)).join(", ")}]`),Cf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Cl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Cl(i)).join(",")),`Target(${r})`}(ri(t))}; limitType=${t.limitType})`}function ty(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):be.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Uc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=vI(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Uc(r),i)||r.endAt&&!function(s,a,l){const u=vI(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Uc(r),i))}(t,e)}function BG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ij(t){return(e,n)=>{let r=!1;for(const i of Uc(t)){const o=GG(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function GG(t,e,n){const r=t.field.isKeyField()?be.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?kl(l,u):Ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fa(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return gj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zG=new St(be.comparator);function qi(){return zG}const kj=new St(be.comparator);function Ac(...t){let e=kj;for(const n of t)e=e.insert(n.key,n);return e}function Cj(t){let e=kj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Rs(){return Bc()}function Pj(){return Bc()}function Bc(){return new gu(t=>t.toString(),(t,e)=>t.isEqual(e))}const qG=new St(be.comparator),HG=new ln(be.comparator);function Ve(...t){let e=HG;for(const n of t)e=e.add(n);return e}const WG=new ln(He);function KG(){return WG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:um(e)?"-0":e}}function Nj(t){return{integerValue:""+t}}function YG(t,e){return SG(e)?Nj(e):SE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(){this._=void 0}}function JG(t,e,n){return t instanceof fm?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&xE(o)&&(o=bE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Cd?Oj(t,e):t instanceof Pd?Mj(t,e):function(i,o){const s=Rj(i,o),a=wI(s)+wI(i.Pe);return eb(s)&&eb(i.Pe)?Nj(a):SE(i.serializer,a)}(t,e)}function XG(t,e,n){return t instanceof Cd?Oj(t,e):t instanceof Pd?Mj(t,e):n}function Rj(t,e){return t instanceof hm?function(r){return eb(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class fm extends ny{}class Cd extends ny{constructor(e){super(),this.elements=e}}function Oj(t,e){const n=Dj(e);for(const r of t.elements)n.some(i=>ai(i,r))||n.push(r);return{arrayValue:{values:n}}}class Pd extends ny{constructor(e){super(),this.elements=e}}function Mj(t,e){let n=Dj(e);for(const r of t.elements)n=n.filter(i=>!ai(i,r));return{arrayValue:{values:n}}}class hm extends ny{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function wI(t){return Pt(t.integerValue||t.doubleValue)}function Dj(t){return _E(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function QG(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Cd&&i instanceof Cd||r instanceof Pd&&i instanceof Pd?Il(r.elements,i.elements,ai):r instanceof hm&&i instanceof hm?ai(r.Pe,i.Pe):r instanceof fm&&i instanceof fm}(t.transform,e.transform)}class ZG{constructor(e,n){this.version=e,this.transformResults=n}}class Ft{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ft}static exists(e){return new Ft(void 0,e)}static updateTime(e){return new Ft(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _p(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ry{}function jj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Nf(t.key,Ft.none()):new Pf(t.key,t.data,Ft.none());{const n=t.data,r=Cn.empty();let i=new ln(sn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new os(t.key,r,new Qn(i.toArray()),Ft.none())}}function ez(t,e,n){t instanceof Pf?function(i,o,s){const a=i.value.clone(),l=TI(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof os?function(i,o,s){if(!_p(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=TI(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(Lj(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Gc(t,e,n,r){return t instanceof Pf?function(o,s,a,l){if(!_p(o.precondition,s))return a;const u=o.value.clone(),c=SI(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof os?function(o,s,a,l){if(!_p(o.precondition,s))return a;const u=SI(o.fieldTransforms,l,s),c=s.data;return c.setAll(Lj(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return _p(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function tz(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=Rj(r.transform,i||null);o!=null&&(n===null&&(n=Cn.empty()),n.set(r.field,o))}return n||null}function EI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Il(r,i,(o,s)=>QG(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pf extends ry{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class os extends ry{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Lj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function TI(t,e,n){const r=new Map;ze(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,XG(s,a,n[i]))}return r}function SI(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,JG(o,s,e))}return r}class Nf extends ry{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $j extends ry{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&ez(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Pj();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=jj(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Il(this.mutations,e.mutations,(n,r)=>EI(n,r))&&Il(this.baseMutations,e.baseMutations,(n,r)=>EI(n,r))}}class AE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ze(e.mutations.length===r.length);let i=function(){return qG}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new AE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Be;function Vj(t){switch(t){default:return Ee();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function Fj(t){if(t===void 0)return zi("GRPC error has no .code"),te.UNKNOWN;switch(t){case Rt.OK:return te.OK;case Rt.CANCELLED:return te.CANCELLED;case Rt.UNKNOWN:return te.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return te.INTERNAL;case Rt.UNAVAILABLE:return te.UNAVAILABLE;case Rt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Rt.NOT_FOUND:return te.NOT_FOUND;case Rt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Rt.ABORTED:return te.ABORTED;case Rt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Rt.DATA_LOSS:return te.DATA_LOSS;default:return Ee()}}(Be=Rt||(Rt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz=new Us([4294967295,4294967295],0);function AI(t){const e=oz().encode(t),n=new uj;return n.update(e),new Uint8Array(n.digest())}function II(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Us([n,r],0),new Us([i,o],0)]}class IE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ic(`Invalid padding: ${n}`);if(r<0)throw new Ic(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ic(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ic(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Us.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Us.fromNumber(r)));return i.compare(sz)===1&&(i=new Us([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=AI(e),[r,i]=II(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new IE(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=AI(e),[r,i]=II(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Rf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new iy(Se.min(),i,new St(He),qi(),Ve())}}class Rf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rf(r,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class Uj{constructor(e,n){this.targetId=e,this.me=n}}class Bj{constructor(e,n,r=cn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class kI{constructor(){this.fe=0,this.ge=PI(),this.pe=cn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ve(),n=Ve(),r=Ve();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new Rf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=PI()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class az{constructor(e){this.Le=e,this.Be=new Map,this.ke=qi(),this.qe=CI(),this.Qe=new St(He)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(nb(o))if(r===0){const s=new be(o.path);this.Ue(n,s,Kt.newNoDocument(s,Se.min()))}else ze(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=ta(r).toUint8Array()}catch(l){if(l instanceof yj)return Ed("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new IE(s,i,o)}catch(l){return Ed(l instanceof Ic?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&nb(a.target)){const l=new be(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Kt.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Ve();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new iy(e,n,this.Qe,this.ke,r);return this.ke=qi(),this.qe=CI(),this.Qe=new St(He),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new kI,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ln(He),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||xe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new kI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function CI(){return new St(be.comparator)}function PI(){return new St(be.comparator)}const lz={asc:"ASCENDING",desc:"DESCENDING"},uz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cz={and:"AND",or:"OR"};class dz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ib(t,e){return t.useProto3Json||Cf(e)?e:{value:e}}function pm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gj(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fz(t,e){return pm(t,e.toTimestamp())}function er(t){return ze(!!t),Se.fromTimestamp(function(n){const r=Jo(n);return new Gt(r.seconds,r.nanos)}(t))}function kE(t,e){return ob(t,e).canonicalString()}function ob(t,e){const n=function(i){return new at(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function zj(t){const e=at.fromString(t);return ze(Jj(e)),e}function mm(t,e){return kE(t.databaseId,e.path)}function zc(t,e){const n=zj(e);if(n.get(1)!==t.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(Hj(n))}function qj(t,e){return kE(t.databaseId,e)}function hz(t){const e=zj(t);return e.length===4?at.emptyPath():Hj(e)}function sb(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Hj(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function NI(t,e,n){return{name:mm(t,e),fields:n.value.mapValue.fields}}function pz(t,e){return"found"in e?function(r,i){ze(!!i.found),i.found.name,i.found.updateTime;const o=zc(r,i.found.name),s=er(i.found.updateTime),a=i.found.createTime?er(i.found.createTime):Se.min(),l=new Cn({mapValue:{fields:i.found.fields}});return Kt.newFoundDocument(o,s,a,l)}(t,e):"missing"in e?function(r,i){ze(!!i.missing),ze(!!i.readTime);const o=zc(r,i.missing),s=er(i.readTime);return Kt.newNoDocument(o,s)}(t,e):Ee()}function mz(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(ze(c===void 0||typeof c=="string"),cn.fromBase64String(c||"")):(ze(c===void 0||c instanceof Buffer||c instanceof Uint8Array),cn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?te.UNKNOWN:Fj(u.code);return new he(c,u.message||"")}(s);n=new Bj(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zc(t,r.document.name),o=er(r.document.updateTime),s=r.document.createTime?er(r.document.createTime):Se.min(),a=new Cn({mapValue:{fields:r.document.fields}}),l=Kt.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new wp(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zc(t,r.document),o=r.readTime?er(r.readTime):Se.min(),s=Kt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new wp([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zc(t,r.document),o=r.removedTargetIds||[];n=new wp([],o,i,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new iz(i,o),a=r.targetId;n=new Uj(a,s)}}return n}function Wj(t,e){let n;if(e instanceof Pf)n={update:NI(t,e.key,e.value)};else if(e instanceof Nf)n={delete:mm(t,e.key)};else if(e instanceof os)n={update:NI(t,e.key,e.data),updateMask:Tz(e.fieldMask)};else{if(!(e instanceof $j))return Ee();n={verify:mm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof fm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Cd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Pd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hm)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:fz(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ee()}(t,e.precondition)),n}function gz(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?er(i.updateTime):er(o);return s.isEqual(Se.min())&&(s=er(o)),new ZG(s,i.transformResults||[])}(n,e))):[]}function yz(t,e){return{documents:[qj(t,e.path)]}}function vz(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qj(t,i);const o=function(u){if(u.length!==0)return Yj(qr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Oa(h.field),direction:_z(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=ib(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function xz(t){let e=hz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ze(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const h=Kj(f);return h instanceof qr&&_j(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(v){return new kd(Ma(v.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Cf(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,y=f.values||[];return new cm(y,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,y=f.values||[];return new cm(y,h)}(n.endAt)),FG(e,i,s,o,a,"F",l,u)}function bz(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Kj(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ma(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ma(n.unaryFilter.field);return Dt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ma(n.unaryFilter.field);return Dt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ma(n.unaryFilter.field);return Dt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(t):t.fieldFilter!==void 0?function(n){return Dt.create(Ma(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qr.create(n.compositeFilter.filters.map(r=>Kj(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(t):Ee()}function _z(t){return lz[t]}function wz(t){return uz[t]}function Ez(t){return cz[t]}function Oa(t){return{fieldPath:t.canonicalString()}}function Ma(t){return sn.fromServerFormat(t.fieldPath)}function Yj(t){return t instanceof Dt?function(n){if(n.op==="=="){if(yI(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NAN"}};if(gI(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yI(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NOT_NAN"}};if(gI(n.value))return{unaryFilter:{field:Oa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oa(n.field),op:wz(n.op),value:n.value}}}(t):t instanceof qr?function(n){const r=n.getFilters().map(i=>Yj(i));return r.length===1?r[0]:{compositeFilter:{op:Ez(n.op),filters:r}}}(t):Ee()}function Tz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Jj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n,r,i,o=Se.min(),s=Se.min(),a=cn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Io(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Io(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e){this.ct=e}}function Az(t){const e=xz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(){this.un=new kz}addToCollectionParentIndex(e,n){return this.un.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Yo.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Yo.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class kz{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ln(at.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ln(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Pl(0)}static kn(){return new Pl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cz{constructor(){this.changes=new gu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Gc(r.mutation,i,Qn.empty(),Gt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ve()){const i=Rs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Ac();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Rs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ve()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=qi();const s=Bc(),a=function(){return Bc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof os)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Gc(c.mutation,u,c.mutation.getFieldMask(),Gt.now())):s.set(u.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new Pz(c,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Bc();let i=new St((s,a)=>s-a),o=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Qn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Ve()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=Pj();c.forEach(h=>{if(!o.has(h)){const y=jj(n.get(h),r.get(h));y!==null&&f.set(h,y),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return re.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return be.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Sj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):re.resolve(Rs());let a=-1,l=o;return s.next(u=>re.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?re.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ve())).next(c=>({batchId:a,changes:Cj(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next(r=>{let i=Ac();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Ac();return this.indexManager.getCollectionParents(e,o).next(a=>re.forEach(a,l=>{const u=function(f,h){return new mu(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Kt.newInvalidDocument(c)))});let a=Ac();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Gc(c.mutation,u,Qn.empty(),Gt.now()),ty(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return re.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:er(i.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Az(i.bundledQuery),readTime:er(i.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(){this.overlays=new St(be.comparator),this.Ir=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Rs();return re.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),re.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const i=Rs(),o=n.length+1,s=new be(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return re.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new St((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Rs(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Rs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return re.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new rz(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ve(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mz{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(){this.Tr=new ln(qt.Er),this.dr=new ln(qt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new qt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new qt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new be(new at([])),r=new qt(n,e),i=new qt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new be(new at([])),r=new qt(n,e),i=new qt(n,e+1);let o=Ve();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new qt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return be.comparator(e.key,n.key)||He(e.wr,n.wr)}static Ar(e,n){return He(e.wr,n.wr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ln(qt.Er)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new nz(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new qt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return re.resolve(s)}lookupMutationBatch(e,n){return re.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return re.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qt(n,0),i=new qt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),re.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ln(He);return n.forEach(i=>{const o=new qt(i,0),s=new qt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),re.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;be.isDocumentKey(o)||(o=o.child(""));const s=new qt(new be(o),0);let a=new ln(He);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),re.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ze(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return re.forEach(n.mutations,i=>{const o=new qt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new qt(n,0),i=this.br.firstAfterOrEqual(r);return re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jz{constructor(e){this.Mr=e,this.docs=function(){return new St(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():Kt.newInvalidDocument(n))}getEntries(e,n){let r=qi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Kt.newInvalidDocument(i))}),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=qi();const s=n.path,a=new be(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||_G(bG(c),r)<=0||(i.has(c.key)||ty(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return re.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ee()}Or(e,n){return re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Lz(this)}getSize(e){return re.resolve(this.size)}}class Lz extends Cz{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),re.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e){this.persistence=e,this.Nr=new gu(n=>wE(n),EE),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new CE,this.targetCount=0,this.kr=Pl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),re.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Pl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Kn(n),re.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),re.waitFor(o).next(()=>i)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),re.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e,n){this.qr={},this.overlays={},this.Qr=new vE(0),this.Kr=!1,this.Kr=!0,this.$r=new Mz,this.referenceDelegate=e(this),this.Ur=new $z(this),this.indexManager=new Iz,this.remoteDocumentCache=function(i){return new jz(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Sz(n),this.Gr=new Rz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Oz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Dz(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){xe("MemoryPersistence","Starting transaction:",e);const i=new Fz(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return re.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Fz extends EG{constructor(e){super(),this.currentSequenceNumber=e}}class PE{constructor(e){this.persistence=e,this.Jr=new CE,this.Yr=null}static Zr(e){return new PE(e)}get Xr(){if(this.Yr)return this.Yr;throw Ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),re.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Xr,r=>{const i=be.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return re.or([()=>re.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ve(),i=Ve();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new NE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return P6()?8:TG(En())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Uz;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(sc()<=Fe.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",Ra(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),re.resolve()):(sc()<=Fe.DEBUG&&xe("QueryEngine","Query:",Ra(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(sc()<=Fe.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",Ra(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(n))):re.resolve())}Yi(e,n){if(_I(n))return re.resolve(null);let r=ri(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=dm(n,null,"F"),r=ri(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ve(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,dm(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return _I(n)||i.isEqual(Se.min())?re.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?re.resolve(null):(sc()<=Fe.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ra(n)),this.rs(e,s,n,xG(i,-1)).next(a=>a))})}ts(e,n){let r=new ln(Ij(e));return n.forEach((i,o)=>{ty(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return sc()<=Fe.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",Ra(n)),this.Ji.getDocumentsMatchingQuery(e,n,Yo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new St(He),this._s=new gu(o=>wE(o),EE),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Nz(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function zz(t,e,n,r){return new Gz(t,e,n,r)}async function Xj(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ve();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function qz(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,h=f.keys();let y=re.resolve();return h.forEach(v=>{y=y.next(()=>c.getEntry(l,v)).next(b=>{const x=u.docVersions.get(v);ze(x!==null),b.version.compareTo(x)<0&&(f.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),c.addEntry(b)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ve();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Qj(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Hz(t,e){const n=Pe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;a.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,f)));let y=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(cn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):c.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(c.resumeToken,r)),i=i.insert(f,y),function(b,x,w){return b.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,y,c)&&a.push(n.Ur.updateTargetData(o,y))});let l=qi(),u=Ve();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(Wz(o,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(Se.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return re.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function Wz(t,e,n){let r=Ve(),i=Ve();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=qi();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Se.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):xe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function Kz(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Yz(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,re.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Io(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function ab(t,e,n){const r=Pe(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!kf(s))throw s;xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function RI(t,e,n){const r=Pe(t);let i=Se.min(),o=Ve();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=Pe(l),h=f._s.get(c);return h!==void 0?re.resolve(f.os.get(h)):f.Ur.getTargetData(u,c)}(r,s,ri(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Se.min(),n?o:Ve())).next(a=>(Jz(r,BG(e),a),{documents:a,Ts:o})))}function Jz(t,e,n){let r=t.us.get(e)||Se.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class OI{constructor(){this.activeTargetIds=KG()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Xz{constructor(){this.so=new OI,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new OI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mh=null;function ov(){return Mh===null?Mh=function(){return 268435456+Math.round(2147483648*Math.random())}():Mh++,"0x"+Mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class tq extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=ov(),l=this.xo(n,r.toUriEncodedString());xe("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(c=>(xe("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Ed("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=Zz[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=ov();return new Promise((s,a)=>{const l=new cj;l.setWithCredentials(!0),l.listenOnce(dj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case xp.NO_ERROR:const c=l.getResponseJson();xe(gn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case xp.TIMEOUT:xe(gn,`RPC '${e}' ${o} timed out`),a(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case xp.HTTP_ERROR:const f=l.getStatus();if(xe(gn,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const y=h==null?void 0:h.error;if(y&&y.status&&y.message){const v=function(x){const w=x.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(w)>=0?w:te.UNKNOWN}(y.status);a(new he(v,y.message))}else a(new he(te.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new he(te.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{xe(gn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);xe(gn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=ov(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=pj(),a=hj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");xe(gn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);let h=!1,y=!1;const v=new eq({Io:x=>{y?xe(gn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(xe(gn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),xe(gn,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},To:()=>f.close()}),b=(x,w,_)=>{x.listen(w,E=>{try{_(E)}catch(P){setTimeout(()=>{throw P},0)}})};return b(f,Sc.EventType.OPEN,()=>{y||(xe(gn,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),b(f,Sc.EventType.CLOSE,()=>{y||(y=!0,xe(gn,`RPC '${e}' stream ${i} transport closed`),v.So())}),b(f,Sc.EventType.ERROR,x=>{y||(y=!0,Ed(gn,`RPC '${e}' stream ${i} transport errored:`,x),v.So(new he(te.UNAVAILABLE,"The operation could not be completed")))}),b(f,Sc.EventType.MESSAGE,x=>{var w;if(!y){const _=x.data[0];ze(!!_);const E=_,P=E.error||((w=E[0])===null||w===void 0?void 0:w.error);if(P){xe(gn,`RPC '${e}' stream ${i} received error:`,P);const S=P.status;let C=function(k){const N=Rt[k];if(N!==void 0)return Fj(N)}(S),I=P.message;C===void 0&&(C=te.INTERNAL,I="Unknown error status: "+S+" with message "+P.message),y=!0,v.So(new he(C,I)),f.close()}else xe(gn,`RPC '${e}' stream ${i} received:`,_),v.bo(_)}}),b(a,fj.STAT_EVENT,x=>{x.stat===Qx.PROXY?xe(gn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Qx.NOPROXY&&xe(gn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function sv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(t){return new dz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new RE(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(zi(n.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new he(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nq extends Zj{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=mz(this.serializer,e),r=function(o){if(!("targetChange"in o))return Se.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Se.min():s.readTime?er(s.readTime):Se.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=sb(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=nb(l)?{documents:yz(o,l)}:{query:vz(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Gj(o,s.resumeToken);const u=ib(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Se.min())>0){a.readTime=pm(o,s.snapshotVersion.toTimestamp());const u=ib(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=bz(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=sb(this.serializer),n.removeTarget=e,this.a_(n)}}class rq extends Zj{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=gz(e.writeResults,e.commitTime),r=er(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=sb(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Wj(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,ob(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(te.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,ob(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new he(te.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class oq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zi(n),this.D_=!1):xe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{ha(this)&&(xe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Pe(l);u.L_.add(4),await Of(u),u.q_.set("Unknown"),u.L_.delete(4),await sy(u)}(this))})}),this.q_=new oq(r,i)}}async function sy(t){if(ha(t))for(const e of t.B_)await e(!0)}async function Of(t){for(const e of t.B_)await e(!1)}function eL(t,e){const n=Pe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),jE(n)?DE(n):yu(n).r_()&&ME(n,e))}function OE(t,e){const n=Pe(t),r=yu(n);n.N_.delete(e),r.r_()&&tL(n,e),n.N_.size===0&&(r.r_()?r.o_():ha(n)&&n.q_.set("Unknown"))}function ME(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yu(t).A_(e)}function tL(t,e){t.Q_.xe(e),yu(t).R_(e)}function DE(t){t.Q_=new az({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),yu(t).start(),t.q_.v_()}function jE(t){return ha(t)&&!yu(t).n_()&&t.N_.size>0}function ha(t){return Pe(t).L_.size===0}function nL(t){t.Q_=void 0}async function aq(t){t.q_.set("Online")}async function lq(t){t.N_.forEach((e,n)=>{ME(t,e)})}async function uq(t,e){nL(t),jE(t)?(t.q_.M_(e),DE(t)):t.q_.set("Unknown")}async function cq(t,e,n){if(t.q_.set("Online"),e instanceof Bj&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gm(t,r)}else if(e instanceof wp?t.Q_.Ke(e):e instanceof Uj?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Se.min()))try{const r=await Qj(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(cn.EMPTY_BYTE_STRING,c.snapshotVersion)),tL(o,l);const f=new Io(c.target,l,u,c.sequenceNumber);ME(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){xe("RemoteStore","Failed to raise snapshot:",r),await gm(t,r)}}async function gm(t,e,n){if(!kf(e))throw e;t.L_.add(1),await Of(t),t.q_.set("Offline"),n||(n=()=>Qj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{xe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await sy(t)})}function rL(t,e){return e().catch(n=>gm(t,n,e))}async function ay(t){const e=Pe(t),n=Xo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;dq(e);)try{const i=await Kz(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,fq(e,i)}catch(i){await gm(e,i)}iL(e)&&oL(e)}function dq(t){return ha(t)&&t.O_.length<10}function fq(t,e){t.O_.push(e);const n=Xo(t);n.r_()&&n.V_&&n.m_(e.mutations)}function iL(t){return ha(t)&&!Xo(t).n_()&&t.O_.length>0}function oL(t){Xo(t).start()}async function hq(t){Xo(t).p_()}async function pq(t){const e=Xo(t);for(const n of t.O_)e.m_(n.mutations)}async function mq(t,e,n){const r=t.O_.shift(),i=AE.from(r,e,n);await rL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ay(t)}async function gq(t,e){e&&Xo(t).V_&&await async function(r,i){if(function(s){return Vj(s)&&s!==te.ABORTED}(i.code)){const o=r.O_.shift();Xo(r).s_(),await rL(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ay(r)}}(t,e),iL(t)&&oL(t)}async function DI(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),xe("RemoteStore","RemoteStore received new credentials");const r=ha(n);n.L_.add(3),await Of(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await sy(n)}async function yq(t,e){const n=Pe(t);e?(n.L_.delete(2),await sy(n)):e||(n.L_.add(2),await Of(n),n.q_.set("Unknown"))}function yu(t){return t.K_||(t.K_=function(n,r,i){const o=Pe(n);return o.w_(),new nq(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:aq.bind(null,t),Ro:lq.bind(null,t),mo:uq.bind(null,t),d_:cq.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),jE(t)?DE(t):t.q_.set("Unknown")):(await t.K_.stop(),nL(t))})),t.K_}function Xo(t){return t.U_||(t.U_=function(n,r,i){const o=Pe(n);return o.w_(),new rq(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:hq.bind(null,t),mo:gq.bind(null,t),f_:pq.bind(null,t),g_:mq.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await ay(t)):(await t.U_.stop(),t.O_.length>0&&(xe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new LE(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $E(t,e){if(zi("AsyncQueue",`${e}: ${t}`),kf(t))return new he(te.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=Ac(),this.sortedSet=new St(this.comparator)}static emptySet(e){return new hl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new hl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.W_=new St(be.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ee():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Nl{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Nl(e,n,hl.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ey(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class xq{constructor(){this.queries=LI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Pe(n),o=i.queries;i.queries=LI(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new he(te.ABORTED,"Firestore shutting down"))}}function LI(){return new gu(t=>Aj(t),ey)}async function sL(t,e){const n=Pe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new vq,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=$E(s,`Initialization of query '${Ra(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&VE(n)}async function aL(t,e){const n=Pe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function bq(t,e){const n=Pe(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&VE(n)}function _q(t,e,n){const r=Pe(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function VE(t){t.Y_.forEach(e=>{e.next()})}var lb,$I;($I=lb||(lb={})).ea="default",$I.Cache="cache";class lL{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Nl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==lb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.key=e}}class cL{constructor(e){this.key=e}}class wq{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ve(),this.mutatedKeys=Ve(),this.Aa=Ij(e),this.Ra=new hl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new jI,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),y=ty(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let x=!1;h&&y?h.data.isEqual(y.data)?v!==b&&(r.track({type:3,doc:y}),x=!0):this.ga(h,y)||(r.track({type:2,doc:y}),x=!0,(l&&this.Aa(y,l)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!h&&y?(r.track({type:0,doc:y}),x=!0):h&&!y&&(r.track({type:1,doc:h}),x=!0,(l||u)&&(a=!0)),x&&(y?(s=s.add(y),o=b?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,f)=>function(y,v){const b=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return b(y)-b(v)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new Nl(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new jI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ve(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new cL(r))}),this.da.forEach(r=>{e.has(r)||n.push(new uL(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ve();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Nl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Eq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Tq{constructor(e){this.key=e,this.va=!1}}class Sq{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new gu(a=>Aj(a),ey),this.Ma=new Map,this.xa=new Set,this.Oa=new St(be.comparator),this.Na=new Map,this.La=new CE,this.Ba={},this.ka=new Map,this.qa=Pl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Aq(t,e,n=!0){const r=gL(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await dL(r,e,n,!0),i}async function Iq(t,e){const n=gL(t);await dL(n,e,!0,!1)}async function dL(t,e,n,r){const i=await Yz(t.localStore,ri(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await kq(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&eL(t.remoteStore,i),a}async function kq(t,e,n,r,i){t.Ka=(f,h,y)=>async function(b,x,w,_){let E=x.view.ma(w);E.ns&&(E=await RI(b.localStore,x.query,!1).then(({documents:I})=>x.view.ma(I,E)));const P=_&&_.targetChanges.get(x.targetId),S=_&&_.targetMismatches.get(x.targetId)!=null,C=x.view.applyChanges(E,b.isPrimaryClient,P,S);return FI(b,x.targetId,C.wa),C.snapshot}(t,f,h,y);const o=await RI(t.localStore,e,!0),s=new wq(e,o.Ts),a=s.ma(o.documents),l=Rf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);FI(t,n,u.wa);const c=new Eq(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function Cq(t,e,n){const r=Pe(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!ey(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ab(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&OE(r.remoteStore,i.targetId),ub(r,i.targetId)}).catch(If)):(ub(r,i.targetId),await ab(r.localStore,i.targetId,!0))}async function Pq(t,e){const n=Pe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),OE(n.remoteStore,r.targetId))}async function Nq(t,e,n){const r=$q(t);try{const i=await function(s,a){const l=Pe(s),u=Gt.now(),c=a.reduce((y,v)=>y.add(v.key),Ve());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let v=qi(),b=Ve();return l.cs.getEntries(y,c).next(x=>{v=x,v.forEach((w,_)=>{_.isValidDocument()||(b=b.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,v)).next(x=>{f=x;const w=[];for(const _ of a){const E=tz(_,f.get(_.key).overlayedDocument);E!=null&&w.push(new os(_.key,E,vj(E.value.mapValue),Ft.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,w,a)}).next(x=>{h=x;const w=x.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(y,x.batchId,w)})}).then(()=>({batchId:h.batchId,changes:Cj(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new St(He)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await Mf(r,i.changes),await ay(r.remoteStore)}catch(i){const o=$E(i,"Failed to persist write");n.reject(o)}}async function fL(t,e){const n=Pe(t);try{const r=await Hz(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?ze(s.va):i.removedDocuments.size>0&&(ze(s.va),s.va=!1))}),await Mf(n,r,e)}catch(r){await If(r)}}function VI(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Pe(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.j_)h.Z_(a)&&(u=!0)}),u&&VE(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Rq(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new St(be.comparator);s=s.insert(o,Kt.newNoDocument(o,Se.min()));const a=Ve().add(o),l=new iy(Se.min(),new Map,new St(He),s,a);await fL(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),FE(r)}else await ab(r.localStore,e,!1).then(()=>ub(r,e,n)).catch(If)}async function Oq(t,e){const n=Pe(t),r=e.batch.batchId;try{const i=await qz(n.localStore,e);pL(n,r,null),hL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mf(n,i)}catch(i){await If(i)}}async function Mq(t,e,n){const r=Pe(t);try{const i=await function(s,a){const l=Pe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(ze(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);pL(r,e,n),hL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mf(r,i)}catch(i){await If(i)}}function hL(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function pL(t,e,n){const r=Pe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ub(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||mL(t,r)})}function mL(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(OE(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),FE(t))}function FI(t,e,n){for(const r of n)r instanceof uL?(t.La.addReference(r.key,e),Dq(t,r)):r instanceof cL?(xe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||mL(t,r.key)):Ee()}function Dq(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(xe("SyncEngine","New document in limbo: "+n),t.xa.add(r),FE(t))}function FE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new be(at.fromString(e)),r=t.qa.next();t.Na.set(r,new Tq(n)),t.Oa=t.Oa.insert(n,r),eL(t.remoteStore,new Io(ri(TE(n.path)),r,"TargetPurposeLimboResolution",vE.oe))}}async function Mf(t,e,n){const r=Pe(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=NE.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const c=Pe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>re.forEach(u,h=>re.forEach(h.$i,y=>c.persistence.referenceDelegate.addReference(f,h.targetId,y)).next(()=>re.forEach(h.Ui,y=>c.persistence.referenceDelegate.removeReference(f,h.targetId,y)))))}catch(f){if(!kf(f))throw f;xe("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const y=c.os.get(h),v=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(v);c.os=c.os.insert(h,b)}}}(r.localStore,o))}async function jq(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){xe("SyncEngine","User change. New user:",e.toKey());const r=await Xj(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new he(te.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mf(n,r.hs)}}function Lq(t,e){const n=Pe(t),r=n.Na.get(e);if(r&&r.va)return Ve().add(r.key);{let i=Ve();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function gL(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Rq.bind(null,e),e.Ca.d_=bq.bind(null,e.eventManager),e.Ca.$a=_q.bind(null,e.eventManager),e}function $q(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Oq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mq.bind(null,e),e}class ym{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=oy(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return zz(this.persistence,new Bz,e.initialUser,this.serializer)}Ga(e){return new Vz(PE.Zr,this.serializer)}Wa(e){return new Xz}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ym.provider={build:()=>new ym};class cb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>VI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jq.bind(null,this.syncEngine),await yq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xq}()}createDatastore(e){const n=oy(e.databaseInfo.databaseId),r=function(o){return new tq(o)}(e.databaseInfo);return function(o,s,a,l){return new iq(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new sq(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>VI(this.syncEngine,n,0),function(){return MI.D()?new MI:new Qz}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const f=new Sq(i,o,s,a,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Pe(i);xe("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Of(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}cb.provider={build:()=>new cb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new he(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,o){const s=Pe(i),a={documents:o.map(f=>mm(s.serializer,f))},l=await s.Lo("BatchGetDocuments",s.serializer.databaseId,at.emptyPath(),a,o.length),u=new Map;l.forEach(f=>{const h=pz(s.serializer,f);u.set(h.key.toString(),h)});const c=[];return o.forEach(f=>{const h=u.get(f.toString());ze(!!h),c.push(h)}),c}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Nf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=be.fromPath(r);this.mutations.push(new $j(i,this.precondition(i)))}),await async function(r,i){const o=Pe(r),s={writes:i.map(a=>Wj(o.serializer,a))};await o.Mo("Commit",o.serializer.databaseId,at.emptyPath(),s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ee();n=Se.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new he(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Se.min())?Ft.exists(!1):Ft.updateTime(n):Ft.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Se.min()))throw new he(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ft.updateTime(n)}return Ft.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this._u=r.maxAttempts,this.t_=new RE(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new Vq(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!Cf(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Vj(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ln.UNAUTHENTICATED,this.clientId=mj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{xe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(xe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$E(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function av(t,e){t.asyncQueue.verifyOperationInProgress(),xe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Xj(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function UI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Bq(t);xe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>DI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>DI(e.remoteStore,i)),t._onlineComponents=e}async function Bq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){xe("FirestoreClient","Using user provided OfflineComponentProvider");try{await av(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===te.FAILED_PRECONDITION||i.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ed("Error using user provided cache. Falling back to memory cache: "+n),await av(t,new ym)}}else xe("FirestoreClient","Using default OfflineComponentProvider"),await av(t,new ym);return t._offlineComponents}async function UE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(xe("FirestoreClient","Using user provided OnlineComponentProvider"),await UI(t,t._uninitializedComponentsProvider._online)):(xe("FirestoreClient","Using default OnlineComponentProvider"),await UI(t,new cb))),t._onlineComponents}function Gq(t){return UE(t).then(e=>e.syncEngine)}function zq(t){return UE(t).then(e=>e.datastore)}async function db(t){const e=await UE(t),n=e.eventManager;return n.onListen=Aq.bind(null,e.syncEngine),n.onUnlisten=Cq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Iq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Pq.bind(null,e.syncEngine),n}function qq(t,e,n={}){const r=new Oi;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new yL({next:h=>{c.Za(),s.enqueueAndForget(()=>aL(o,f)),h.fromCache&&l.source==="server"?u.reject(new he(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new lL(a,c,{includeMetadataChanges:!0,_a:!0});return sL(o,f)}(await db(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t,e,n){if(!n)throw new he(te.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Hq(t,e,n,r){if(e===!0&&r===!0)throw new he(te.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function GI(t){if(!be.isDocumentKey(t))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zI(t){if(be.isDocumentKey(t))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ly(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee()}function mr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ly(t);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class BE{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dG;switch(r.type){case"firstParty":return new pG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=BI.get(n);r&&(xe("ComponentProvider","Removing Datastore"),BI.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new eo(this.firestore,e,this._query)}}class _n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Go(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class Go extends eo{constructor(e,n,r){super(e,n,TE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new be(e))}withConverter(e){return new Go(this.firestore,e,this._path)}}function As(t,e,...n){if(t=Ct(t),xL("collection","path",e),t instanceof BE){const r=at.fromString(e,...n);return zI(r),new Go(t,null,r)}{if(!(t instanceof _n||t instanceof Go))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return zI(r),new Go(t.firestore,null,r)}}function Ze(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=mj.newId()),xL("doc","path",e),t instanceof BE){const r=at.fromString(e,...n);return GI(r),new _n(t,null,new be(r))}{if(!(t instanceof _n||t instanceof Go))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return GI(r),new _n(t.firestore,t instanceof Go?t.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new RE(this,"async_queue_retry"),this.Vu=()=>{const r=sv();r&&xe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=sv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=sv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Oi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!kf(e))throw e;xe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw zi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=LE.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Ee()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function WI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Hi extends BE{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new HI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HI(e),this._firestoreClient=void 0,await e}}}function Wq(t,e,n){n||(n="(default)");const r=oE(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),o=r.getOptions(n);if(xd(o,e))return i;throw new he(te.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new he(te.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function Df(t){if(t._terminated)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Kq(t),t._firestoreClient}function Kq(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new IG(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,vL(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Uq(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ra(cn.fromBase64String(e))}catch(n){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ra(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq=/^__.*__$/;class Jq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new os(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pf(e,this.data,n,this.fieldTransforms)}}class bL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new os(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _L(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class HE{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new HE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return vm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(_L(this.Cu)&&Yq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Xq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||oy(e)}Qu(e,n,r,i=!1){return new HE({Cu:e,methodName:n,qu:r,path:sn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jf(t){const e=t._freezeSettings(),n=oy(t._databaseId);return new Xq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function WE(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);JE("Data must be an object, but it was:",s,r);const a=wL(r,s);let l,u;if(o.merge)l=new Qn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const h=fb(e,f,n);if(!s.contains(h))throw new he(te.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);TL(c,h)||c.push(h)}l=new Qn(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new Jq(new Cn(a),l,u)}class uy extends GE{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uy}}function KE(t,e,n,r){const i=t.Qu(1,e,n);JE("Data must be an object, but it was:",i,r);const o=[],s=Cn.empty();fa(r,(l,u)=>{const c=XE(e,l,n);u=Ct(u);const f=i.Nu(c);if(u instanceof uy)o.push(c);else{const h=Lf(u,f);h!=null&&(o.push(c),s.set(c,h))}});const a=new Qn(o);return new bL(s,a,i.fieldTransforms)}function YE(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[fb(e,r,n)],l=[i];if(o.length%2!=0)throw new he(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(fb(e,o[h])),l.push(o[h+1]);const u=[],c=Cn.empty();for(let h=a.length-1;h>=0;--h)if(!TL(u,a[h])){const y=a[h];let v=l[h];v=Ct(v);const b=s.Nu(y);if(v instanceof uy)u.push(y);else{const x=Lf(v,b);x!=null&&(u.push(y),c.set(y,x))}}const f=new Qn(u);return new bL(c,f,s.fieldTransforms)}function Qq(t,e,n,r=!1){return Lf(n,t.Qu(r?4:3,e))}function Lf(t,e){if(EL(t=Ct(t)))return JE("Unsupported field value:",e,t),wL(t,e);if(t instanceof GE)return function(r,i){if(!_L(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Lf(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YG(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Gt.fromDate(r);return{timestampValue:pm(i.serializer,o)}}if(r instanceof Gt){const o=new Gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pm(i.serializer,o)}}if(r instanceof zE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ra)return{bytesValue:Gj(i.serializer,r._byteString)};if(r instanceof _n){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:kE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof qE)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return SE(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${ly(r)}`)}(t,e)}function wL(t,e){const n={};return gj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fa(t,(r,i)=>{const o=Lf(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function EL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Gt||t instanceof zE||t instanceof ra||t instanceof _n||t instanceof GE||t instanceof qE)}function JE(t,e,n){if(!EL(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ly(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function fb(t,e,n){if((e=Ct(e))instanceof vu)return e._internalPath;if(typeof e=="string")return XE(t,e);throw vm("Field path arguments must be of type string or ",t,!1,void 0,n)}const Zq=new RegExp("[~\\*/\\[\\]]");function XE(t,e,n){if(e.search(Zq)>=0)throw vm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vu(...e.split("."))._internalPath}catch{throw vm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vm(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new he(te.INVALID_ARGUMENT,a+t+l)}function TL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(QE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eH extends xm{data(){return super.data()}}function QE(t,e){return typeof e=="string"?XE(t,e):e instanceof vu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ZE{}class e1 extends ZE{}function t1(t,e,...n){let r=[];e instanceof ZE&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof r1).length,a=o.filter(l=>l instanceof n1).length;if(s>1||s>0&&a>0)throw new he(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class n1 extends e1{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new n1(e,n,r)}_apply(e){const n=this._parse(e);return AL(e._query,n),new eo(e.firestore,e.converter,rb(e._query,n))}_parse(e){const n=jf(e.firestore);return function(o,s,a,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new he(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){YI(f,c);const y=[];for(const v of f)y.push(KI(l,o,v));h={arrayValue:{values:y}}}else h=KI(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||YI(f,c),h=Qq(a,s,f,c==="in"||c==="not-in");return Dt.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class r1 extends ZE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new r1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:qr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)AL(s,l),s=rb(s,l)}(e._query,n),new eo(e.firestore,e.converter,rb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class i1 extends e1{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new i1(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kd(o,s)}(e._query,this._field,this._direction);return new eo(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new mu(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function tH(t,e="asc"){const n=e,r=QE("orderBy",t);return i1._create(r,n)}class o1 extends e1{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new o1(e,n,r)}_apply(e){return new eo(e.firestore,e.converter,dm(e._query,this._limit,this._limitType))}}function nH(t){return o1._create("limit",t,"F")}function KI(t,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new he(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sj(e)&&n.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(at.fromString(n));if(!be.isDocumentKey(r))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mI(t,new be(r))}if(n instanceof _n)return mI(t,n._key);throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ly(n)}.`)}function YI(t,e){if(!Array.isArray(t)||t.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AL(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class IL{convertValue(e,n="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fa(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Pt(s.doubleValue));return new qE(o)}convertGeoPoint(e){return new zE(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=bE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sd(e));default:return null}}convertTimestamp(e){const n=Jo(e);return new Gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=at.fromString(e);ze(Jj(r));const i=new Ad(r.get(1),r.get(3)),o=new be(r.popFirst(5));return i.isEqual(n)||zi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class rH extends IL{constructor(e){super(),this.firestore=e}convertBytes(e){return new ra(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class a1 extends xm{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ep(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(QE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ep extends a1{data(e={}){return super.data(e)}}class kL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ya(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ep(this._firestore,this._userDataWriter,r.key,r,new Ya(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Ep(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ya(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Ep(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ya(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:iH(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function iH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}class cy extends IL{constructor(e){super(),this.firestore=e}convertBytes(e){return new ra(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function CL(t){t=mr(t,eo);const e=mr(t.firestore,Hi),n=Df(e),r=new cy(e);return SL(t._query),qq(n,t._query).then(i=>new kL(e,r,t,i))}function pa(t,e,n){t=mr(t,_n);const r=mr(t.firestore,Hi),i=s1(t.converter,e,n);return fy(r,[WE(jf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ft.none())])}function $f(t,e,n,...r){t=mr(t,_n);const i=mr(t.firestore,Hi),o=jf(i);let s;return s=typeof(e=Ct(e))=="string"||e instanceof vu?YE(o,"updateDoc",t._key,e,n,r):KE(o,"updateDoc",t._key,e),fy(i,[s.toMutation(t._key,Ft.exists(!0))])}function dy(t){return fy(mr(t.firestore,Hi),[new Nf(t._key,Ft.none())])}function Ia(t,...e){var n,r,i;t=Ct(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||WI(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(WI(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(t instanceof _n)u=mr(t.firestore,Hi),c=TE(t._key.path),l={next:f=>{e[s]&&e[s](oH(u,t,f))},error:e[s+1],complete:e[s+2]};else{const f=mr(t,eo);u=mr(f.firestore,Hi),c=f._query;const h=new cy(u);l={next:y=>{e[s]&&e[s](new kL(u,h,f,y))},error:e[s+1],complete:e[s+2]},SL(t._query)}return function(h,y,v,b){const x=new yL(b),w=new lL(y,x,v);return h.asyncQueue.enqueueAndForget(async()=>sL(await db(h),w)),()=>{x.Za(),h.asyncQueue.enqueueAndForget(async()=>aL(await db(h),w))}}(Df(u),c,a,l)}function fy(t,e){return function(r,i){const o=new Oi;return r.asyncQueue.enqueueAndForget(async()=>Nq(await Gq(r),i,o)),o.promise}(Df(t),e)}function oH(t,e,n){const r=n.docs.get(e._key),i=new cy(t);return new a1(t,i,e._key,r,new Ya(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sH={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=jf(e)}set(e,n,r){this._verifyNotCommitted();const i=Eo(e,this._firestore),o=s1(i.converter,n,r),s=WE(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Ft.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=Eo(e,this._firestore);let s;return s=typeof(n=Ct(n))=="string"||n instanceof vu?YE(this._dataReader,"WriteBatch.update",o._key,n,r,i):KE(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Ft.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Eo(e,this._firestore);return this._mutations=this._mutations.concat(new Nf(n._key,Ft.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Eo(t,e){if((t=Ct(t)).firestore!==e)throw new he(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=jf(n)}get(n){const r=Eo(n,this._firestore),i=new rH(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||o.length!==1)return Ee();const s=o[0];if(s.isFoundDocument())return new xm(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new xm(this._firestore,i,r._key,null,r.converter);throw Ee()})}set(n,r,i){const o=Eo(n,this._firestore),s=s1(o.converter,r,i),a=WE(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){const s=Eo(n,this._firestore);let a;return a=typeof(r=Ct(r))=="string"||r instanceof vu?YE(this._dataReader,"Transaction.update",s._key,r,i,o):KE(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){const r=Eo(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Eo(e,this._firestore),r=new cy(this._firestore);return super.get(e).then(i=>new a1(this._firestore,r,n._key,i._document,new Ya(!1,!1),n.converter))}}function l1(t,e,n){t=mr(t,Hi);const r=Object.assign(Object.assign({},sH),n);return function(o){if(o.maxAttempts<1)throw new he(te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const l=new Oi;return o.asyncQueue.enqueueAndForget(async()=>{const u=await zq(o);new Fq(o.asyncQueue,u,a,s,l).au()}),l.promise}(Df(t),i=>e(new lH(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t){return Df(t=mr(t,Hi)),new aH(t,e=>fy(t,e))}(function(e,n=!0){(function(i){pu=i})(fu),Al(new Xs("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Hi(new fG(r.getProvider("auth-internal")),new gG(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ad(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Bo(cI,"4.7.3",e),Bo(cI,"4.7.3","esm2017")})();const uH={apiKey:"AIzaSyAp9vMuLIhE-W8sEVpuzSWr7vvRHOu1pSc",authDomain:"nexo-bbbe5.firebaseapp.com",projectId:"nexo-bbbe5",storageBucket:"nexo-bbbe5.firebasestorage.app",messagingSenderId:"133978874707",appId:"1:133978874707:web:ba5e00d4c5e35b3c5df7a6"},NL=ID(uH),Ja=lG(NL),De=Wq(NL,{ignoreUndefinedProperties:!0}),cH="finansmart_data_v2",JI={transactions:[],investments:[],budgets:[],debts:[],shoppingList:[],shoppingBudget:0,unlockedBadges:[],walletBalance:0},RL=t=>`${cH}_${t}`,XI=t=>{try{const e=RL(t),n=localStorage.getItem(e);if(!n)return JI;const r=JSON.parse(n);return r.transactions||(r.transactions=[]),r.investments||(r.investments=[]),r.unlockedBadges||(r.unlockedBadges=[]),r.debts||(r.debts=[]),r.shoppingList||(r.shoppingList=[]),r.shoppingBudget===void 0&&(r.shoppingBudget=0),r.budgets?r.budgets=r.budgets.map(i=>({...i,isRecurring:i.isRecurring!==void 0?i.isRecurring:!0,month:i.month||void 0})):r.budgets=[],r.walletBalance===void 0&&(r.walletBalance=r.transactions.reduce((i,o)=>o.status==="paid"?i+(o.type==="income"?o.amount:-o.amount):i,0)),r}catch(e){return console.error("Failed to load data",e),JI}},dH=(t,e)=>{try{const n=RL(e),r=t.transactions.reduce((o,s)=>s.status==="paid"?o+(s.type==="income"?s.amount:-s.amount):o,0),i={...t,walletBalance:r};localStorage.setItem(n,JSON.stringify(i))}catch(n){console.error("Failed to save data",n)}},Rl=t=>t.status==="pending"?0:t.type==="income"?t.amount:-t.amount,fH=(t,e)=>{const n=t1(As(De,"users",t,"transactions"),tH("date","desc"),nH(300)),r=Ia(n,u=>{const c=u.docs.map(f=>f.data());e({transactions:c})}),i=Ia(As(De,"users",t,"investments"),u=>{const c=u.docs.map(f=>f.data());e({investments:c})}),o=Ia(As(De,"users",t,"budgets"),u=>{const c=u.docs.map(f=>f.data());e({budgets:c})}),s=Ia(As(De,"users",t,"debts"),u=>{const c=u.docs.map(f=>f.data());e({debts:c})}),a=Ia(As(De,"users",t,"shopping_list"),u=>{const c=u.docs.map(f=>f.data());e({shoppingList:c})}),l=Ia(Ze(De,"users",t),u=>{if(u.exists()){const c=u.data(),f={};c.unlockedBadges&&(f.unlockedBadges=c.unlockedBadges),c.wealthProfile&&(f.wealthProfile=c.wealthProfile),c.shoppingBudget!==void 0&&(f.shoppingBudget=c.shoppingBudget),c.walletBalance!==void 0&&(f.walletBalance=c.walletBalance),Object.keys(f).length>0&&e(f)}});return()=>{r(),i(),o(),s(),a(),l()}},QI=async(t,e)=>{await l1(De,async n=>{var l;const r=Ze(De,"users",t),o=((l=(await n.get(r)).data())==null?void 0:l.walletBalance)||0,s=Rl(e),a=Ze(De,"users",t,"transactions",e.id);n.set(a,e),n.update(r,{walletBalance:o+s})})},ZI=async(t,e,n)=>{await l1(De,async r=>{var y;const i=Ze(De,"users",t,"transactions",e),o=Ze(De,"users",t),s=await r.get(i);if(!s.exists())throw new Error("Transaction not found");const a=s.data(),u=((y=(await r.get(o)).data())==null?void 0:y.walletBalance)||0,c=Rl(a),f={...a,...n},h=Rl(f);r.update(i,n),r.update(o,{walletBalance:u-c+h})})},hH=async(t,e)=>{await l1(De,async n=>{var c;const r=Ze(De,"users",t,"transactions",e),i=Ze(De,"users",t),o=await n.get(r);if(!o.exists())throw new Error("Transaction not found");const s=o.data(),l=((c=(await n.get(i)).data())==null?void 0:c.walletBalance)||0,u=Rl(s);n.delete(r),n.update(i,{walletBalance:l-u})})},pH=async t=>{const e=t1(As(De,"users",t,"transactions")),n=await CL(e);let r=0;return n.forEach(i=>{const o=i.data();r+=Rl(o)}),await $f(Ze(De,"users",t),{walletBalance:r}),r},mH=async(t,e)=>{await pa(Ze(De,"users",t,"investments",e.id),e)},gH=async(t,e,n)=>{await $f(Ze(De,"users",t,"investments",e),n)},yH=async(t,e)=>{await dy(Ze(De,"users",t,"investments",e))},vH=async(t,e)=>{await pa(Ze(De,"users",t,"budgets",e.id),e)},xH=async(t,e,n)=>{await $f(Ze(De,"users",t,"budgets",e),n)},bH=async(t,e)=>{await dy(Ze(De,"users",t,"budgets",e))},_H=async(t,e)=>{await pa(Ze(De,"users",t,"debts",e.id),e)},ek=async(t,e,n)=>{await $f(Ze(De,"users",t,"debts",e),n)},wH=async(t,e)=>{await dy(Ze(De,"users",t,"debts",e))},EH=async(t,e)=>{await pa(Ze(De,"users",t,"shopping_list",e.id),e)},TH=async(t,e,n)=>{await $f(Ze(De,"users",t,"shopping_list",e),n)},SH=async(t,e)=>{await dy(Ze(De,"users",t,"shopping_list",e))},AH=async t=>{const e=t1(As(De,"users",t,"shopping_list")),n=await CL(e),r=PL(De);n.docs.forEach(i=>{r.delete(i.ref)}),await r.commit()},IH=async(t,e)=>{await pa(Ze(De,"users",t),{shoppingBudget:e},{merge:!0})},kH=async(t,e,n)=>{n.includes(e)||await pa(Ze(De,"users",t),{unlockedBadges:[...n,e]},{merge:!0})},CH=async(t,e)=>{await pa(Ze(De,"users",t),{wealthProfile:e},{merge:!0})},tk=async(t,e)=>{const n=PL(De);let r=0;e.transactions.forEach(s=>{const a=Ze(De,"users",t,"transactions",s.id);n.set(a,s),r+=Rl(s)}),e.investments.forEach(s=>{const a=Ze(De,"users",t,"investments",s.id);n.set(a,s)}),e.budgets.forEach(s=>{const a=Ze(De,"users",t,"budgets",s.id);n.set(a,s)}),e.debts.forEach(s=>{const a=Ze(De,"users",t,"debts",s.id);n.set(a,s)}),e.shoppingList.forEach(s=>{const a=Ze(De,"users",t,"shopping_list",s.id);n.set(a,s)});const i=Ze(De,"users",t),o={unlockedBadges:e.unlockedBadges,walletBalance:r,shoppingBudget:e.shoppingBudget||0};e.wealthProfile&&(o.wealthProfile=e.wealthProfile),n.set(i,o,{merge:!0}),await n.commit()};var PH={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let NH,RH;function OH(){return{geminiUrl:NH,vertexUrl:RH}}function MH(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=OH();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class to{}function pe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];g(c,e.slice(o+1),n[u])}else for(const u of l)g(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];g(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(a=>p(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function DH(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&o.length>a)for(let l=a;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}hb(t,i,o,0,s)}}function hb(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(const l of a[s])hb(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,a=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of a)l[u]=s[u];for(const[u,c]of Object.entries(l)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);g(s,f,c)}for(const u of a)delete s[u]}}else{const s=t;o in s&&hb(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u1(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jH(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=p(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function LH(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response","generateVideoResponse"]);return s!=null&&g(e,["response"],VH(s)),e}function $H(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],FH(s)),e}function VH(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>UH(s))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function FH(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>BH(s))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function UH(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],KH(n)),e}function BH(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],YH(n)),e}function GH(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function zH(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function qH(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],HH(s)),e}function HH(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function OL(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],WH(s)),e}function WH(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function KH(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],u1(r));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function YH(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],u1(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var nk;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(nk||(nk={}));var rk;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(rk||(rk={}));var ik;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(ik||(ik={}));var ko;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(ko||(ko={}));var ok;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(ok||(ok={}));var sk;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(sk||(sk={}));var ak;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(ak||(ak={}));var lk;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(lk||(lk={}));var uk;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(uk||(uk={}));var ck;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(ck||(ck={}));var dk;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(dk||(dk={}));var fk;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(fk||(fk={}));var hk;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(hk||(hk={}));var pk;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(pk||(pk={}));var mk;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(mk||(mk={}));var gk;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(gk||(gk={}));var yk;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(yk||(yk={}));var vk;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(vk||(vk={}));var xk;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(xk||(xk={}));var bk;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(bk||(bk={}));var _k;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(_k||(_k={}));var bm;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(bm||(bm={}));var wk;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(wk||(wk={}));var Ek;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Ek||(Ek={}));var Tk;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Tk||(Tk={}));var pb;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(pb||(pb={}));var Sk;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Sk||(Sk={}));var Ak;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Ak||(Ak={}));var mb;(function(t){t.COLLECTION="COLLECTION"})(mb||(mb={}));var Ik;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Ik||(Ik={}));var kk;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(kk||(kk={}));var Ck;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Ck||(Ck={}));var Pk;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Pk||(Pk={}));var Nk;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Nk||(Nk={}));var Rk;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Rk||(Rk={}));var Ok;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Ok||(Ok={}));var Mk;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Mk||(Mk={}));var Dk;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Dk||(Dk={}));var jk;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(jk||(jk={}));var Lk;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Lk||(Lk={}));var $k;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})($k||($k={}));var Vk;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Vk||(Vk={}));var Fk;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Fk||(Fk={}));var Uk;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Uk||(Uk={}));var Bk;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Bk||(Bk={}));var Gk;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(Gk||(Gk={}));var zk;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(zk||(zk={}));var qk;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(qk||(qk={}));var Hk;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Hk||(Hk={}));var Wk;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(Wk||(Wk={}));var Kk;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Kk||(Kk={}));var Yk;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Yk||(Yk={}));var Jk;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Jk||(Jk={}));var Xk;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Xk||(Xk={}));var Qk;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Qk||(Qk={}));var Zk;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Zk||(Zk={}));var Xa;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Xa||(Xa={}));class gb{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ac{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const h of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[y,v]of Object.entries(h))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(v!==null||v!==void 0)&&f.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[h,y]of Object.entries(f))h!=="inlineData"&&(y!==null||y!==void 0)&&c.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class eC{}class tC{}class JH{}class XH{}class QH{}class ZH{}class nC{}class rC{}class iC{}class eW{}class _m{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new _m;let i;const o=e;return n?i=$H(o):i=LH(o),Object.assign(r,i),r}}class oC{}class sC{}class aC{}class lC{}class tW{}class nW{}class rW{}class c1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new c1,o=qH(e);return Object.assign(r,o),r}}class iW{}class oW{}class sW{}class uC{}class aW{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class lW{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class d1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new d1,o=OL(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function We(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function ML(t,e){const n=We(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function DL(t){return Array.isArray(t)?t.map(e=>wm(e)):[wm(t)]}function wm(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function jL(t){const e=wm(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function LL(t){const e=wm(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function cC(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function $L(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>cC(e)):[cC(t)]}function yb(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function dC(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function fC(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function bn(t){if(t==null)throw new Error("ContentUnion is required");return yb(t)?t:{role:"user",parts:$L(t)}}function f1(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=bn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=bn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>bn(n)):[bn(e)]}function gr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(dC(t)||fC(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[bn(t)]}const e=[],n=[],r=yb(t[0]);for(const i of t){const o=yb(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(dC(i)||fC(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:$L(n)}),e}function uW(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(ko).includes(n[0].toUpperCase())?n[0].toUpperCase():ko.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(ko).includes(r.toUpperCase())?r.toUpperCase():ko.TYPE_UNSPECIFIED})}}function pl(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&uW(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(ko).includes(a.toUpperCase())?a.toUpperCase():ko.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=pl(a);else if(r.includes(s)){const l=[];for(const u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(pl(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,c]of Object.entries(a))l[u]=pl(c);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function h1(t){return pl(t)}function p1(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function m1(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function xu(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=pl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=pl(e.response));return t}function bu(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function cW(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function no(t,e){if(typeof e!="string")throw new Error("name must be a string");return cW(t,e,"cachedContents")}function VL(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ss(t){return u1(t)}function dW(t){return t!=null&&typeof t=="object"&&"name"in t}function fW(t){return t!=null&&typeof t=="object"&&"video"in t}function hW(t){return t!=null&&typeof t=="object"&&"uri"in t}function FL(t){var e;let n;if(dW(t)&&(n=t.name),!(hW(t)&&(n=t.uri,n===void 0))&&!(fW(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function UL(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function BL(t){for(const e of["models","tunedModels","publisherModels"])if(pW(t,e))return t[e];return[]}function pW(t,e){return t!==null&&typeof t=="object"&&e in t}function mW(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function gW(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=mW(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function GL(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function yW(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function zL(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function _u(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function qL(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vW(t){const e={},n=p(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>QW(s))),g(e,["inlinedResponses"],o)}const i=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["inlinedEmbedContentResponses"],o)}return e}function xW(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function bW(t){const e={},n=p(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Tp(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&g(e,["state"],qL(i));const o=p(t,["metadata","createTime"]);o!=null&&g(e,["createTime"],o);const s=p(t,["metadata","endTime"]);s!=null&&g(e,["endTime"],s);const a=p(t,["metadata","updateTime"]);a!=null&&g(e,["updateTime"],a);const l=p(t,["metadata","model"]);l!=null&&g(e,["model"],l);const u=p(t,["metadata","output"]);return u!=null&&g(e,["dest"],vW(zL(u))),e}function vb(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["state"]);i!=null&&g(e,["state"],qL(i));const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["createTime"]);s!=null&&g(e,["createTime"],s);const a=p(t,["startTime"]);a!=null&&g(e,["startTime"],a);const l=p(t,["endTime"]);l!=null&&g(e,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&g(e,["updateTime"],u);const c=p(t,["model"]);c!=null&&g(e,["model"],c);const f=p(t,["inputConfig"]);f!=null&&g(e,["src"],_W(f));const h=p(t,["outputConfig"]);h!=null&&g(e,["dest"],xW(zL(h)));const y=p(t,["completionStats"]);return y!=null&&g(e,["completionStats"],y),e}function _W(t){const e={},n=p(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function wW(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&g(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>XW(t,s))),g(n,["requests","requests"],o)}return n}function EW(t){const e={},n=p(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function TW(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function SW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],_u(t,r)),n}function AW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],_u(t,r)),n}function IW(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],kW(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const s=p(t,["avgLogprobs"]);s!=null&&g(e,["avgLogprobs"],s);const a=p(t,["groundingMetadata"]);a!=null&&g(e,["groundingMetadata"],a);const l=p(t,["index"]);l!=null&&g(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const c=p(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function kW(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function HL(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>oK(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function CW(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function PW(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&g(e,["outputConfig"],bW(yW(i))),n}function hC(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["src"]);i!=null&&g(n,["batch","inputConfig"],wW(t,GL(t,i)));const o=p(e,["config"]);return o!=null&&CW(o,n),n}function NW(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],We(t,r));const i=p(e,["src"]);i!=null&&g(n,["inputConfig"],EW(GL(t,i)));const o=p(e,["config"]);return o!=null&&PW(o,n),n}function RW(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function OW(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["src"]);i!=null&&g(n,["batch","inputConfig"],FW(t,i));const o=p(e,["config"]);return o!=null&&RW(o,n),n}function MW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],_u(t,r)),n}function DW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],_u(t,r)),n}function jW(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);return o!=null&&g(e,["error"],o),e}function LW(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);return o!=null&&g(e,["error"],o),e}function $W(t,e){const n={},r=p(e,["contents"]);if(r!=null){let o=f1(t,r);Array.isArray(o)&&(o=o.map(s=>s)),g(n,["requests[]","request","content"],o)}const i=p(e,["config"]);return i!=null&&(g(n,["_self"],VW(i,n)),DH(n,{"requests[].*":"requests[].request.*"})),n}function VW(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function FW(t,e){const n={},r=p(e,["fileName"]);r!=null&&g(n,["file_name"],r);const i=p(e,["inlinedRequests"]);return i!=null&&g(n,["requests"],$W(t,i)),n}function UW(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function BW(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function GW(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function zW(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],HL(bn(i)));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&g(r,["topP"],s);const a=p(e,["topK"]);a!=null&&g(r,["topK"],a);const l=p(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=p(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=p(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const v=p(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const x=p(e,["responseMimeType"]);x!=null&&g(r,["responseMimeType"],x);const w=p(e,["responseSchema"]);w!=null&&g(r,["responseSchema"],h1(w));const _=p(e,["responseJsonSchema"]);if(_!=null&&g(r,["responseJsonSchema"],_),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=p(e,["safetySettings"]);if(n!==void 0&&E!=null){let D=E;Array.isArray(D)&&(D=D.map(z=>sK(z))),g(n,["safetySettings"],D)}const P=p(e,["tools"]);if(n!==void 0&&P!=null){let D=bu(P);Array.isArray(D)&&(D=D.map(z=>lK(xu(z)))),g(n,["tools"],D)}const S=p(e,["toolConfig"]);if(n!==void 0&&S!=null&&g(n,["toolConfig"],aK(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=p(e,["cachedContent"]);n!==void 0&&C!=null&&g(n,["cachedContent"],no(t,C));const I=p(e,["responseModalities"]);I!=null&&g(r,["responseModalities"],I);const T=p(e,["mediaResolution"]);T!=null&&g(r,["mediaResolution"],T);const k=p(e,["speechConfig"]);if(k!=null&&g(r,["speechConfig"],p1(k)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=p(e,["thinkingConfig"]);N!=null&&g(r,["thinkingConfig"],N);const O=p(e,["imageConfig"]);O!=null&&g(r,["imageConfig"],JW(O));const M=p(e,["enableEnhancedCivicAnswers"]);if(M!=null&&g(r,["enableEnhancedCivicAnswers"],M),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function qW(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>IW(u))),g(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const s=p(t,["responseId"]);s!=null&&g(e,["responseId"],s);const a=p(t,["usageMetadata"]);return a!=null&&g(e,["usageMetadata"],a),e}function HW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],_u(t,r)),n}function WW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],_u(t,r)),n}function KW(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function YW(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function JW(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function XW(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["request","model"],We(t,r));const i=p(e,["contents"]);if(i!=null){let a=gr(i);Array.isArray(a)&&(a=a.map(l=>HL(l))),g(n,["request","contents"],a)}const o=p(e,["metadata"]);o!=null&&g(n,["metadata"],o);const s=p(e,["config"]);return s!=null&&g(n,["request","generationConfig"],zW(t,s,p(n,["request"],{}))),n}function QW(t){const e={},n=p(t,["response"]);n!=null&&g(e,["response"],qW(n));const r=p(t,["error"]);return r!=null&&g(e,["error"],r),e}function ZW(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function eK(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),n}function tK(t){const e={},n=p(t,["config"]);return n!=null&&ZW(n,e),e}function nK(t){const e={},n=p(t,["config"]);return n!=null&&eK(n,e),e}function rK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Tp(s))),g(e,["batchJobs"],o)}return e}function iK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>vb(s))),g(e,["batchJobs"],o)}return e}function oK(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],UW(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],BW(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],TW(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["thought"]);c!=null&&g(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function sK(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function aK(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],GW(r)),e}function lK(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),g(e,["functionDeclarations"],c)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],KW(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],YW(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wi;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Wi||(Wi={}));class ma{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uK extends to{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ma(Wi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=hC(this.apiClient,e),r=n._url,i=pe("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(const c of l){const f=Object.assign({},c);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const y=f.request;y.systemInstruction=h,f.request=y}u.push(f)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=NW(this.apiClient,e);return a=pe("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>vb(c))}else{const u=hC(this.apiClient,e);return a=pe("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Tp(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=OW(this.apiClient,e);return o=pe("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Tp(l))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=WW(this.apiClient,e);return a=pe("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>vb(c))}else{const u=HW(this.apiClient,e);return a=pe("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Tp(c))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=AW(this.apiClient,e);s=pe("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=SW(this.apiClient,e);s=pe("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=nK(e);return a=pe("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=iK(c),h=new uC;return Object.assign(h,f),h})}else{const u=tK(e);return a=pe("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=rK(c),h=new uC;return Object.assign(h,f),h})}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=DW(this.apiClient,e);return a=pe("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>LW(c))}else{const u=MW(this.apiClient,e);return a=pe("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>jW(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cK(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function pC(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>OK(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function dK(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const s=p(t,["contents"]);if(e!==void 0&&s!=null){let c=gr(s);Array.isArray(c)&&(c=c.map(f=>pC(f))),g(e,["contents"],c)}const a=p(t,["systemInstruction"]);e!==void 0&&a!=null&&g(e,["systemInstruction"],pC(bn(a)));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>DK(f))),g(e,["tools"],c)}const u=p(t,["toolConfig"]);if(e!==void 0&&u!=null&&g(e,["toolConfig"],MK(u)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function fK(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const s=p(t,["contents"]);if(e!==void 0&&s!=null){let f=gr(s);Array.isArray(f)&&(f=f.map(h=>h)),g(e,["contents"],f)}const a=p(t,["systemInstruction"]);e!==void 0&&a!=null&&g(e,["systemInstruction"],bn(a));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>jK(h))),g(e,["tools"],f)}const u=p(t,["toolConfig"]);e!==void 0&&u!=null&&g(e,["toolConfig"],u);const c=p(t,["kmsKeyName"]);return e!==void 0&&c!=null&&g(e,["encryption_spec","kmsKeyName"],c),n}function hK(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],ML(t,r));const i=p(e,["config"]);return i!=null&&dK(i,n),n}function pK(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],ML(t,r));const i=p(e,["config"]);return i!=null&&fK(i,n),n}function mK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],no(t,r)),n}function gK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],no(t,r)),n}function yK(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function vK(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function xK(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function bK(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _K(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function wK(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&g(e,["response"],s);const a=p(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function EK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],no(t,r)),n}function TK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],no(t,r)),n}function SK(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function AK(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function IK(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function kK(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function CK(t){const e={},n=p(t,["config"]);return n!=null&&IK(n,e),e}function PK(t){const e={},n=p(t,["config"]);return n!=null&&kK(n,e),e}function NK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["cachedContents"],o)}return e}function RK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["cachedContents"],o)}return e}function OK(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],xK(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],bK(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],cK(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["thought"]);c!=null&&g(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function MK(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],_K(r)),e}function DK(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),g(e,["functionDeclarations"],c)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],SK(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],AK(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function jK(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=p(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=p(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>wK(h))),g(e,["functionDeclarations"],f)}const a=p(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=p(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function LK(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function $K(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function VK(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],no(t,r));const i=p(e,["config"]);return i!=null&&LK(i,n),n}function FK(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],no(t,r));const i=p(e,["config"]);return i!=null&&$K(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UK extends to{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ma(Wi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=pK(this.apiClient,e);return a=pe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=hK(this.apiClient,e);return a=pe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=TK(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=EK(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=gK(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=vK(c),h=new aC;return Object.assign(h,f),h})}else{const u=mK(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=yK(c),h=new aC;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=FK(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=VK(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=PK(e);return a=pe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=RK(c),h=new lC;return Object.assign(h,f),h})}else{const u=CK(e);return a=pe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=NK(c),h=new lC;return Object.assign(h,f),h})}}}function Em(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function mC(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ne(t){return this instanceof Ne?(this.v=t,this):new Ne(t)}function Vr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(v){return Promise.resolve(v).then(y,f)}}function a(y,v){r[y]&&(i[y]=function(b){return new Promise(function(x,w){o.push([y,b,x,w])>1||l(y,b)})},v&&(i[y]=v(i[y])))}function l(y,v){try{u(r[y](v))}catch(b){h(o[0][3],b)}}function u(y){y.value instanceof Ne?Promise.resolve(y.value.v).then(c,f):h(o[0][2],y)}function c(y){l("next",y)}function f(y){l("throw",y)}function h(y,v){y(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Fr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof mC=="function"?mC(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BK(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:WL(n)}function WL(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function GK(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function gC(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!WL(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class zK{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new qK(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class qK{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),GK(o)}async sendMessage(e){var n;await this.sendPromise;const r=bn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const l=await i,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,c=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];c!=null&&(h=(a=c.slice(f))!==null&&a!==void 0?a:[]);const y=u?[u]:[];this.recordHistory(r,y,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=bn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?gC(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Vr(this,arguments,function*(){var i,o,s,a,l,u;const c=[];try{for(var f=!0,h=Fr(e),y;y=yield Ne(h.next()),i=y.done,!i;f=!0){a=y.value,f=!1;const v=a;if(BK(v)){const b=(u=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;b!==void 0&&c.push(b)}yield yield Ne(v)}}catch(v){o={error:v}}finally{try{!f&&!i&&(s=h.return)&&(yield Ne(s.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...gC(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nd extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Nd.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HK(t){const e={},n=p(t,["file"]);return n!=null&&g(e,["file"],n),e}function WK(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function KK(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],FL(n)),e}function YK(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function JK(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],FL(n)),e}function XK(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function QK(t){const e={},n=p(t,["config"]);return n!=null&&XK(n,e),e}function ZK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eY extends to{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ma(Wi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=QK(e);return o=pe("files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=ZK(l),c=new iW;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=HK(e);return o=pe("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=WK(l),c=new oW;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=JK(e);return o=pe("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=KK(e);return o=pe("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=YK(l),c=new sW;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sp(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function tY(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>yY(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function nY(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function rY(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function iY(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&g(e,["response"],s);const a=p(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function oY(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const s=p(t,["enableAffectiveDialog"]);s!=null&&g(e,["enableAffectiveDialog"],s);const a=p(t,["frequencyPenalty"]);a!=null&&g(e,["frequencyPenalty"],a);const l=p(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const c=p(t,["mediaResolution"]);c!=null&&g(e,["mediaResolution"],c);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const y=p(t,["responseMimeType"]);y!=null&&g(e,["responseMimeType"],y);const v=p(t,["responseModalities"]);v!=null&&g(e,["responseModalities"],v);const b=p(t,["responseSchema"]);b!=null&&g(e,["responseSchema"],b);const x=p(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const w=p(t,["seed"]);w!=null&&g(e,["seed"],w);const _=p(t,["speechConfig"]);_!=null&&g(e,["speechConfig"],_);const E=p(t,["stopSequences"]);E!=null&&g(e,["stopSequences"],E);const P=p(t,["temperature"]);P!=null&&g(e,["temperature"],P);const S=p(t,["thinkingConfig"]);S!=null&&g(e,["thinkingConfig"],S);const C=p(t,["topK"]);C!=null&&g(e,["topK"],C);const I=p(t,["topP"]);if(I!=null&&g(e,["topP"],I),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function sY(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function aY(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function lY(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=p(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],m1(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=p(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],tY(bn(v)));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let C=bu(b);Array.isArray(C)&&(C=C.map(I=>xY(xu(I)))),g(e,["setup","tools"],C)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],vY(x));const w=p(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","inputAudioTranscription"],w);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const E=p(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&g(e,["setup","realtimeInputConfig"],E);const P=p(t,["contextWindowCompression"]);e!==void 0&&P!=null&&g(e,["setup","contextWindowCompression"],P);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&g(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function uY(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],oY(r));const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=p(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],m1(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=p(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],bn(v));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let I=bu(b);Array.isArray(I)&&(I=I.map(T=>bY(xu(T)))),g(e,["setup","tools"],I)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],x);const w=p(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","inputAudioTranscription"],w);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const E=p(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&g(e,["setup","realtimeInputConfig"],E);const P=p(t,["contextWindowCompression"]);e!==void 0&&P!=null&&g(e,["setup","contextWindowCompression"],P);const S=p(t,["proactivity"]);e!==void 0&&S!=null&&g(e,["setup","proactivity"],S);const C=p(t,["explicitVadSignal"]);return e!==void 0&&C!=null&&g(e,["setup","explicitVadSignal"],C),n}function cY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],We(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],lY(i,n)),n}function dY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],We(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],uY(i,n)),n}function fY(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function hY(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["weightedPrompts"],r)}return e}function pY(t){const e={},n=p(t,["media"]);if(n!=null){let u=DL(n);Array.isArray(u)&&(u=u.map(c=>Sp(c))),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],Sp(LL(r)));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&g(e,["video"],Sp(jL(o)));const s=p(t,["text"]);s!=null&&g(e,["text"],s);const a=p(t,["activityStart"]);a!=null&&g(e,["activityStart"],a);const l=p(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function mY(t){const e={},n=p(t,["media"]);if(n!=null){let u=DL(n);Array.isArray(u)&&(u=u.map(c=>c)),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],LL(r));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&g(e,["video"],jL(o));const s=p(t,["text"]);s!=null&&g(e,["text"],s);const a=p(t,["activityStart"]);a!=null&&g(e,["activityStart"],a);const l=p(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function gY(t){const e={},n=p(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=p(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const i=p(t,["toolCall"]);i!=null&&g(e,["toolCall"],i);const o=p(t,["toolCallCancellation"]);o!=null&&g(e,["toolCallCancellation"],o);const s=p(t,["usageMetadata"]);s!=null&&g(e,["usageMetadata"],_Y(s));const a=p(t,["goAway"]);a!=null&&g(e,["goAway"],a);const l=p(t,["sessionResumptionUpdate"]);l!=null&&g(e,["sessionResumptionUpdate"],l);const u=p(t,["voiceActivityDetectionSignal"]);u!=null&&g(e,["voiceActivityDetectionSignal"],u);const c=p(t,["voiceActivity"]);return c!=null&&g(e,["voiceActivity"],wY(c)),e}function yY(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],nY(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],rY(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],Sp(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["thought"]);c!=null&&g(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function vY(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function xY(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),g(e,["functionDeclarations"],c)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],sY(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],aY(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function bY(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=p(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=p(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>iY(h))),g(e,["functionDeclarations"],f)}const a=p(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=p(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function _Y(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&g(e,["toolUsePromptTokenCount"],o);const s=p(t,["thoughtsTokenCount"]);s!=null&&g(e,["thoughtsTokenCount"],s);const a=p(t,["totalTokenCount"]);a!=null&&g(e,["totalTokenCount"],a);const l=p(t,["promptTokensDetails"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["promptTokensDetails"],y)}const u=p(t,["cacheTokensDetails"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["cacheTokensDetails"],y)}const c=p(t,["candidatesTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["responseTokensDetails"],y)}const f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["toolUsePromptTokensDetails"],y)}const h=p(t,["trafficType"]);return h!=null&&g(e,["trafficType"],h),e}function wY(t){const e={},n=p(t,["type"]);return n!=null&&g(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EY(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function TY(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],SY(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const s=p(t,["avgLogprobs"]);s!=null&&g(e,["avgLogprobs"],s);const a=p(t,["groundingMetadata"]);a!=null&&g(e,["groundingMetadata"],a);const l=p(t,["index"]);l!=null&&g(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const c=p(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function SY(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function AY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["contents"]);if(i!=null){let o=gr(i);Array.isArray(o)&&(o=o.map(s=>s)),g(n,["contents"],o)}return n}function IY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["tokensInfo"],i)}return e}function kY(t){const e={},n=p(t,["values"]);n!=null&&g(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&g(e,["statistics"],CY(r)),e}function CY(t){const e={},n=p(t,["truncated"]);n!=null&&g(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&g(e,["tokenCount"],r),e}function hy(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>$J(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function PY(t){const e={},n=p(t,["controlType"]);n!=null&&g(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&g(e,["computeControl"],r),e}function NY(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function RY(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],bn(r));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>XL(a))),g(e,["tools"],s)}const o=p(t,["generationConfig"]);return e!==void 0&&o!=null&&g(e,["generationConfig"],EJ(o)),n}function OY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["contents"]);if(i!=null){let s=gr(i);Array.isArray(s)&&(s=s.map(a=>hy(a))),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&NY(o),n}function MY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["contents"]);if(i!=null){let s=gr(i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&RY(o,n),n}function DY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&g(e,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&g(e,["cachedContentTokenCount"],i),e}function jY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&g(e,["totalTokens"],r),e}function LY(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],We(t,r)),n}function $Y(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],We(t,r)),n}function VY(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function FY(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function UY(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const a=p(t,["guidanceScale"]);e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const y=p(t,["language"]);e!==void 0&&y!=null&&g(e,["parameters","language"],y);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const b=p(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","compressionQuality"],b);const x=p(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const w=p(t,["labels"]);e!==void 0&&w!=null&&g(e,["labels"],w);const _=p(t,["editMode"]);e!==void 0&&_!=null&&g(e,["parameters","editMode"],_);const E=p(t,["baseSteps"]);return e!==void 0&&E!=null&&g(e,["parameters","editConfig","baseSteps"],E),n}function BY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>zJ(l))),g(n,["instances[0]","referenceImages"],a)}const s=p(e,["config"]);return s!=null&&UY(s,n),n}function GY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>py(o))),g(e,["generatedImages"],i)}return e}function zY(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function qY(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["instances[]","title"],i);const o=p(t,["outputDimensionality"]);e!==void 0&&o!=null&&g(e,["parameters","outputDimensionality"],o);const s=p(t,["mimeType"]);e!==void 0&&s!=null&&g(e,["instances[]","mimeType"],s);const a=p(t,["autoTruncate"]);return e!==void 0&&a!=null&&g(e,["parameters","autoTruncate"],a),n}function HY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["contents"]);if(i!=null){let a=f1(t,i);Array.isArray(a)&&(a=a.map(l=>l)),g(n,["requests[]","content"],a)}const o=p(e,["config"]);o!=null&&zY(o,n);const s=p(e,["model"]);return s!==void 0&&g(n,["requests[]","model"],We(t,s)),n}function WY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["contents"]);if(i!=null){let s=f1(t,i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["instances[]","content"],s)}const o=p(e,["config"]);return o!=null&&qY(o,n),n}function KY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function YY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>kY(s))),g(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function JY(t){const e={},n=p(t,["endpoint"]);n!=null&&g(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&g(e,["deployedModelId"],r),e}function XY(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function QY(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ZY(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function eJ(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&g(e,["response"],s);const a=p(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function tJ(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],hy(bn(i)));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&g(r,["topP"],s);const a=p(e,["topK"]);a!=null&&g(r,["topK"],a);const l=p(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=p(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=p(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const v=p(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const x=p(e,["responseMimeType"]);x!=null&&g(r,["responseMimeType"],x);const w=p(e,["responseSchema"]);w!=null&&g(r,["responseSchema"],h1(w));const _=p(e,["responseJsonSchema"]);if(_!=null&&g(r,["responseJsonSchema"],_),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=p(e,["safetySettings"]);if(n!==void 0&&E!=null){let D=E;Array.isArray(D)&&(D=D.map(z=>qJ(z))),g(n,["safetySettings"],D)}const P=p(e,["tools"]);if(n!==void 0&&P!=null){let D=bu(P);Array.isArray(D)&&(D=D.map(z=>QJ(xu(z)))),g(n,["tools"],D)}const S=p(e,["toolConfig"]);if(n!==void 0&&S!=null&&g(n,["toolConfig"],XJ(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=p(e,["cachedContent"]);n!==void 0&&C!=null&&g(n,["cachedContent"],no(t,C));const I=p(e,["responseModalities"]);I!=null&&g(r,["responseModalities"],I);const T=p(e,["mediaResolution"]);T!=null&&g(r,["mediaResolution"],T);const k=p(e,["speechConfig"]);if(k!=null&&g(r,["speechConfig"],p1(k)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=p(e,["thinkingConfig"]);N!=null&&g(r,["thinkingConfig"],N);const O=p(e,["imageConfig"]);O!=null&&g(r,["imageConfig"],kJ(O));const M=p(e,["enableEnhancedCivicAnswers"]);if(M!=null&&g(r,["enableEnhancedCivicAnswers"],M),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function nJ(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],bn(i));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&g(r,["topP"],s);const a=p(e,["topK"]);a!=null&&g(r,["topK"],a);const l=p(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=p(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=p(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const v=p(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const x=p(e,["responseMimeType"]);x!=null&&g(r,["responseMimeType"],x);const w=p(e,["responseSchema"]);w!=null&&g(r,["responseSchema"],h1(w));const _=p(e,["responseJsonSchema"]);_!=null&&g(r,["responseJsonSchema"],_);const E=p(e,["routingConfig"]);E!=null&&g(r,["routingConfig"],E);const P=p(e,["modelSelectionConfig"]);P!=null&&g(r,["modelConfig"],P);const S=p(e,["safetySettings"]);if(n!==void 0&&S!=null){let V=S;Array.isArray(V)&&(V=V.map(L=>L)),g(n,["safetySettings"],V)}const C=p(e,["tools"]);if(n!==void 0&&C!=null){let V=bu(C);Array.isArray(V)&&(V=V.map(L=>XL(xu(L)))),g(n,["tools"],V)}const I=p(e,["toolConfig"]);n!==void 0&&I!=null&&g(n,["toolConfig"],I);const T=p(e,["labels"]);n!==void 0&&T!=null&&g(n,["labels"],T);const k=p(e,["cachedContent"]);n!==void 0&&k!=null&&g(n,["cachedContent"],no(t,k));const N=p(e,["responseModalities"]);N!=null&&g(r,["responseModalities"],N);const O=p(e,["mediaResolution"]);O!=null&&g(r,["mediaResolution"],O);const M=p(e,["speechConfig"]);M!=null&&g(r,["speechConfig"],p1(M));const D=p(e,["audioTimestamp"]);D!=null&&g(r,["audioTimestamp"],D);const z=p(e,["thinkingConfig"]);z!=null&&g(r,["thinkingConfig"],z);const F=p(e,["imageConfig"]);if(F!=null&&g(r,["imageConfig"],CJ(F)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const j=p(e,["modelArmorConfig"]);return n!==void 0&&j!=null&&g(n,["modelArmorConfig"],j),r}function yC(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["contents"]);if(i!=null){let s=gr(i);Array.isArray(s)&&(s=s.map(a=>hy(a))),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&g(n,["generationConfig"],tJ(t,o,n)),n}function vC(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["contents"]);if(i!=null){let s=gr(i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&g(n,["generationConfig"],nJ(t,o,n)),n}function xC(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>TY(u))),g(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const s=p(t,["responseId"]);s!=null&&g(e,["responseId"],s);const a=p(t,["usageMetadata"]);return a!=null&&g(e,["usageMetadata"],a),e}function bC(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),g(e,["candidates"],u)}const i=p(t,["createTime"]);i!=null&&g(e,["createTime"],i);const o=p(t,["modelVersion"]);o!=null&&g(e,["modelVersion"],o);const s=p(t,["promptFeedback"]);s!=null&&g(e,["promptFeedback"],s);const a=p(t,["responseId"]);a!=null&&g(e,["responseId"],a);const l=p(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function rJ(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const o=p(t,["guidanceScale"]);if(e!==void 0&&o!=null&&g(e,["parameters","guidanceScale"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&g(e,["parameters","safetySetting"],s);const a=p(t,["personGeneration"]);e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a);const l=p(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&g(e,["parameters","includeSafetyAttributes"],l);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const c=p(t,["language"]);e!==void 0&&c!=null&&g(e,["parameters","language"],c);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","mimeType"],f);const h=p(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&g(e,["parameters","outputOptions","compressionQuality"],h),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=p(t,["imageSize"]);if(e!==void 0&&y!=null&&g(e,["parameters","sampleImageSize"],y),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function iJ(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const a=p(t,["guidanceScale"]);e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const y=p(t,["language"]);e!==void 0&&y!=null&&g(e,["parameters","language"],y);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const b=p(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","compressionQuality"],b);const x=p(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const w=p(t,["labels"]);e!==void 0&&w!=null&&g(e,["labels"],w);const _=p(t,["imageSize"]);e!==void 0&&_!=null&&g(e,["parameters","sampleImageSize"],_);const E=p(t,["enhancePrompt"]);return e!==void 0&&E!=null&&g(e,["parameters","enhancePrompt"],E),n}function oJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&rJ(o,n),n}function sJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&iJ(o,n),n}function aJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>xJ(s))),g(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],YL(i)),e}function lJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>py(s))),g(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],JL(i)),e}function uJ(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&g(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const s=p(t,["resolution"]);e!==void 0&&s!=null&&g(e,["parameters","resolution"],s);const a=p(t,["personGeneration"]);if(e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=p(t,["negativePrompt"]);e!==void 0&&l!=null&&g(e,["parameters","negativePrompt"],l);const u=p(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&g(e,["parameters","enhancePrompt"],u),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=p(t,["lastFrame"]);e!==void 0&&c!=null&&g(e,["instances[0]","lastFrame"],my(c));const f=p(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>dX(y))),g(e,["instances[0]","referenceImages"],h)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function cJ(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const o=p(t,["fps"]);e!==void 0&&o!=null&&g(e,["parameters","fps"],o);const s=p(t,["durationSeconds"]);e!==void 0&&s!=null&&g(e,["parameters","durationSeconds"],s);const a=p(t,["seed"]);e!==void 0&&a!=null&&g(e,["parameters","seed"],a);const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const u=p(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const f=p(t,["pubsubTopic"]);e!==void 0&&f!=null&&g(e,["parameters","pubsubTopic"],f);const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","negativePrompt"],h);const y=p(t,["enhancePrompt"]);e!==void 0&&y!=null&&g(e,["parameters","enhancePrompt"],y);const v=p(t,["generateAudio"]);e!==void 0&&v!=null&&g(e,["parameters","generateAudio"],v);const b=p(t,["lastFrame"]);e!==void 0&&b!=null&&g(e,["instances[0]","lastFrame"],Hr(b));const x=p(t,["referenceImages"]);if(e!==void 0&&x!=null){let E=x;Array.isArray(E)&&(E=E.map(P=>fX(P))),g(e,["instances[0]","referenceImages"],E)}const w=p(t,["mask"]);e!==void 0&&w!=null&&g(e,["instances[0]","mask"],cX(w));const _=p(t,["compressionQuality"]);return e!==void 0&&_!=null&&g(e,["parameters","compressionQuality"],_),n}function dJ(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response","generateVideoResponse"]);return s!=null&&g(e,["response"],mJ(s)),e}function fJ(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],gJ(s)),e}function hJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&g(n,["instances[0]","image"],my(o));const s=p(e,["video"]);s!=null&&g(n,["instances[0]","video"],QL(s));const a=p(e,["source"]);a!=null&&yJ(a,n);const l=p(e,["config"]);return l!=null&&uJ(l,n),n}function pJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&g(n,["instances[0]","image"],Hr(o));const s=p(e,["video"]);s!=null&&g(n,["instances[0]","video"],ZL(s));const a=p(e,["source"]);a!=null&&vJ(a,n);const l=p(e,["config"]);return l!=null&&cJ(l,n),n}function mJ(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>_J(s))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function gJ(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>wJ(s))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function yJ(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],my(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],QL(o)),n}function vJ(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Hr(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],ZL(o)),n}function xJ(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],PJ(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&g(e,["safetyAttributes"],YL(i)),e}function py(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],KL(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&g(e,["safetyAttributes"],JL(i));const o=p(t,["prompt"]);return o!=null&&g(e,["enhancedPrompt"],o),e}function bJ(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["mask"],KL(n));const r=p(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["labels"],i)}return e}function _J(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],lX(n)),e}function wJ(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],uX(n)),e}function EJ(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const s=p(t,["enableAffectiveDialog"]);s!=null&&g(e,["enableAffectiveDialog"],s);const a=p(t,["frequencyPenalty"]);a!=null&&g(e,["frequencyPenalty"],a);const l=p(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const c=p(t,["mediaResolution"]);c!=null&&g(e,["mediaResolution"],c);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const y=p(t,["responseMimeType"]);y!=null&&g(e,["responseMimeType"],y);const v=p(t,["responseModalities"]);v!=null&&g(e,["responseModalities"],v);const b=p(t,["responseSchema"]);b!=null&&g(e,["responseSchema"],b);const x=p(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const w=p(t,["seed"]);w!=null&&g(e,["seed"],w);const _=p(t,["speechConfig"]);_!=null&&g(e,["speechConfig"],_);const E=p(t,["stopSequences"]);E!=null&&g(e,["stopSequences"],E);const P=p(t,["temperature"]);P!=null&&g(e,["temperature"],P);const S=p(t,["thinkingConfig"]);S!=null&&g(e,["thinkingConfig"],S);const C=p(t,["topK"]);C!=null&&g(e,["topK"],C);const I=p(t,["topP"]);if(I!=null&&g(e,["topP"],I),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function TJ(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],We(t,r)),n}function SJ(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],We(t,r)),n}function AJ(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function IJ(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function kJ(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function CJ(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);r!=null&&g(e,["imageSize"],r);const i=p(t,["personGeneration"]);i!=null&&g(e,["personGeneration"],i);const o=p(t,["outputMimeType"]);o!=null&&g(e,["imageOutputOptions","mimeType"],o);const s=p(t,["outputCompressionQuality"]);return s!=null&&g(e,["imageOutputOptions","compressionQuality"],s),e}function PJ(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],ss(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function KL(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],ss(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function my(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],ss(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Hr(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],ss(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function NJ(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const s=p(e,["filter"]);n!==void 0&&s!=null&&g(n,["_query","filter"],s);const a=p(e,["queryBase"]);return n!==void 0&&a!=null&&g(n,["_url","models_url"],UL(t,a)),r}function RJ(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const s=p(e,["filter"]);n!==void 0&&s!=null&&g(n,["_query","filter"],s);const a=p(e,["queryBase"]);return n!==void 0&&a!=null&&g(n,["_url","models_url"],UL(t,a)),r}function OJ(t,e){const n={},r=p(e,["config"]);return r!=null&&NJ(t,r,n),n}function MJ(t,e){const n={},r=p(e,["config"]);return r!=null&&RJ(t,r,n),n}function DJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=BL(i);Array.isArray(o)&&(o=o.map(s=>xb(s))),g(e,["models"],o)}return e}function jJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=BL(i);Array.isArray(o)&&(o=o.map(s=>bb(s))),g(e,["models"],o)}return e}function LJ(t){const e={},n=p(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&g(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&g(e,["dilation"],i),e}function xb(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const o=p(t,["version"]);o!=null&&g(e,["version"],o);const s=p(t,["_self"]);s!=null&&g(e,["tunedModelInfo"],ZJ(s));const a=p(t,["inputTokenLimit"]);a!=null&&g(e,["inputTokenLimit"],a);const l=p(t,["outputTokenLimit"]);l!=null&&g(e,["outputTokenLimit"],l);const u=p(t,["supportedGenerationMethods"]);u!=null&&g(e,["supportedActions"],u);const c=p(t,["temperature"]);c!=null&&g(e,["temperature"],c);const f=p(t,["maxTemperature"]);f!=null&&g(e,["maxTemperature"],f);const h=p(t,["topP"]);h!=null&&g(e,["topP"],h);const y=p(t,["topK"]);y!=null&&g(e,["topK"],y);const v=p(t,["thinking"]);return v!=null&&g(e,["thinking"],v),e}function bb(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const o=p(t,["versionId"]);o!=null&&g(e,["version"],o);const s=p(t,["deployedModels"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>JY(h))),g(e,["endpoints"],f)}const a=p(t,["labels"]);a!=null&&g(e,["labels"],a);const l=p(t,["_self"]);l!=null&&g(e,["tunedModelInfo"],eX(l));const u=p(t,["defaultCheckpointId"]);u!=null&&g(e,["defaultCheckpointId"],u);const c=p(t,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>h)),g(e,["checkpoints"],f)}return e}function $J(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],XY(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],QY(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],EY(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["thought"]);c!=null&&g(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function VJ(t){const e={},n=p(t,["productImage"]);return n!=null&&g(e,["image"],Hr(n)),e}function FJ(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&g(e,["parameters","baseSteps"],i);const o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const s=p(t,["seed"]);e!==void 0&&s!=null&&g(e,["parameters","seed"],s);const a=p(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&g(e,["parameters","safetySetting"],a);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const u=p(t,["addWatermark"]);e!==void 0&&u!=null&&g(e,["parameters","addWatermark"],u);const c=p(t,["outputMimeType"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","mimeType"],c);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","compressionQuality"],f);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","enhancePrompt"],h);const y=p(t,["labels"]);return e!==void 0&&y!=null&&g(e,["labels"],y),n}function UJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["source"]);i!=null&&GJ(i,n);const o=p(e,["config"]);return o!=null&&FJ(o,n),n}function BJ(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>py(i))),g(e,["generatedImages"],r)}return e}function GJ(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["personImage"]);e!==void 0&&i!=null&&g(e,["instances[0]","personImage","image"],Hr(i));const o=p(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>VJ(a))),g(e,["instances[0]","productImages"],s)}return n}function zJ(t){const e={},n=p(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],Hr(n));const r=p(t,["referenceId"]);r!=null&&g(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&g(e,["referenceType"],i);const o=p(t,["maskImageConfig"]);o!=null&&g(e,["maskImageConfig"],LJ(o));const s=p(t,["controlImageConfig"]);s!=null&&g(e,["controlImageConfig"],PY(s));const a=p(t,["styleImageConfig"]);a!=null&&g(e,["styleImageConfig"],a);const l=p(t,["subjectImageConfig"]);return l!=null&&g(e,["subjectImageConfig"],l),e}function YL(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function JL(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function qJ(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function HJ(t){const e={},n=p(t,["image"]);return n!=null&&g(e,["image"],Hr(n)),e}function WJ(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&g(e,["parameters","mode"],r);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&g(e,["parameters","maxPredictions"],i);const o=p(t,["confidenceThreshold"]);e!==void 0&&o!=null&&g(e,["parameters","confidenceThreshold"],o);const s=p(t,["maskDilation"]);e!==void 0&&s!=null&&g(e,["parameters","maskDilation"],s);const a=p(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&g(e,["parameters","binaryColorThreshold"],a);const l=p(t,["labels"]);return e!==void 0&&l!=null&&g(e,["labels"],l),n}function KJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["source"]);i!=null&&JJ(i,n);const o=p(e,["config"]);return o!=null&&WJ(o,n),n}function YJ(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>bJ(i))),g(e,["generatedMasks"],r)}return e}function JJ(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Hr(i));const o=p(t,["scribbleImage"]);return e!==void 0&&o!=null&&g(e,["instances[0]","scribble"],HJ(o)),n}function XJ(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],ZY(r)),e}function QJ(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),g(e,["functionDeclarations"],c)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],AJ(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],IJ(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function XL(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=p(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=p(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>eJ(h))),g(e,["functionDeclarations"],f)}const a=p(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=p(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function ZJ(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function eX(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function tX(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function nX(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function rX(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","name"],We(t,r));const i=p(e,["config"]);return i!=null&&tX(i,n),n}function iX(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["config"]);return i!=null&&nX(i,n),n}function oX(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&g(e,["parameters","safetySetting"],i);const o=p(t,["personGeneration"]);e!==void 0&&o!=null&&g(e,["parameters","personGeneration"],o);const s=p(t,["includeRaiReason"]);e!==void 0&&s!=null&&g(e,["parameters","includeRaiReason"],s);const a=p(t,["outputMimeType"]);e!==void 0&&a!=null&&g(e,["parameters","outputOptions","mimeType"],a);const l=p(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&g(e,["parameters","outputOptions","compressionQuality"],l);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=p(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["numberOfImages"]);e!==void 0&&h!=null&&g(e,["parameters","sampleCount"],h);const y=p(t,["mode"]);return e!==void 0&&y!=null&&g(e,["parameters","mode"],y),n}function sX(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],We(t,r));const i=p(e,["image"]);i!=null&&g(n,["instances[0]","image"],Hr(i));const o=p(e,["upscaleFactor"]);o!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=p(e,["config"]);return s!=null&&oX(s,n),n}function aX(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>py(o))),g(e,["generatedImages"],i)}return e}function lX(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],ss(r));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function uX(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],ss(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function cX(t){const e={},n=p(t,["image"]);n!=null&&g(e,["_self"],Hr(n));const r=p(t,["maskMode"]);return r!=null&&g(e,["maskMode"],r),e}function dX(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],my(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function fX(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],Hr(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function QL(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["encodedVideo"],ss(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["encoding"],i),e}function ZL(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["bytesBase64Encoded"],ss(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hX(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function pX(t){const e={},n=p(t,["config"]);return n!=null&&hX(n,e),e}function mX(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function gX(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&mX(r,e),e}function yX(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function vX(t,e){const n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["customMetadata"],o)}const i=p(t,["chunkingConfig"]);return e!==void 0&&i!=null&&g(e,["chunkingConfig"],i),n}function xX(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],_X(s)),e}function bX(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["fileName"]);r!=null&&g(e,["fileName"],r);const i=p(t,["config"]);return i!=null&&vX(i,e),e}function _X(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function wX(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function EX(t){const e={},n=p(t,["config"]);return n!=null&&wX(n,e),e}function TX(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["fileSearchStores"],o)}return e}function e$(t,e){const n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=p(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["customMetadata"],a)}const s=p(t,["chunkingConfig"]);return e!==void 0&&s!=null&&g(e,["chunkingConfig"],s),n}function SX(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["config"]);return r!=null&&e$(r,e),e}function AX(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IX="Content-Type",kX="X-Server-Timeout",CX="User-Agent",_b="x-goog-api-client",PX="1.38.0",NX=`google-genai-sdk/${PX}`,RX="v1beta1",OX="v1beta";class MX{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const a=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!a?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:RX}else{if(!this.clientOptions.apiKey)throw new Nd({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:OX,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===mb.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&DX(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await _C(i),new gb(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await _C(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Vr(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const a="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield Ne(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c,{stream:!0});try{const v=JSON.parse(f);if("error"in v){const b=JSON.parse(JSON.stringify(v.error)),x=b.status,w=b.code,_=`got status: ${x}. ${JSON.stringify(v)}`;if(w>=400&&w<600)throw new Nd({message:_,status:w})}}catch(v){if(v.name==="ApiError")throw v}s+=f;let h=-1,y=0;for(;;){h=-1,y=0;for(const x of l){const w=s.indexOf(x);w!==-1&&(h===-1||w<h)&&(h=w,y=x.length)}if(h===-1)break;const v=s.substring(0,h);s=s.substring(h+y);const b=v.trim();if(b.startsWith(a)){const x=b.substring(a.length).trim();try{const w=new Response(x,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ne(new gb(w))}catch(w){throw new Error(`exception parsing stream chunk ${x}. ${w}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=NX+" "+this.clientOptions.userAgentExtra;return e[CX]=n,e[_b]=n,e[IX]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(kX,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l={file:i},u=this.getFileName(e),c=pe("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),a=String(s.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),f={};r!=null&&e$(r,f);const h=await this.fetchUploadUrl(u,a,l,c,f,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var a;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function _C(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Nd({message:i,status:n}):new Error(i)}}function DX(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],c=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?a[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jX="mcp_used/unknown";let LX=!1;function t$(t){for(const e of t)if($X(e)||typeof e=="object"&&"inputSchema"in e)return!0;return LX}function n$(t){var e;const n=(e=t[_b])!==null&&e!==void 0?e:"";t[_b]=(n+` ${jX}`).trimStart()}function $X(t){return t!==null&&typeof t=="object"&&t instanceof g1}function VX(t){return Vr(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const s=yield Ne(n.listTools({cursor:i}));for(const a of s.tools)yield yield Ne(a),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class g1{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new g1(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const c of this.mcpClients)try{for(var a=!0,l=(n=void 0,Fr(VX(c))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const f=i;s.push(f);const h=f.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(f){n={error:f}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),gW(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function FX(t,e,n){const r=new lW;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class UX{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=zX(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const c=new Promise(E=>{u=E}),f=e.callbacks,h=function(){u({})},y=this.apiClient,v={onopen:h,onmessage:E=>{FX(y,f.onmessage,E)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(E){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(E){}},b=this.webSocketFactory.create(l,GX(s),v);b.connect(),await c;const _={setup:{model:We(this.apiClient,e.model)}};return b.send(JSON.stringify(_)),new BX(b,this.apiClient)}}class BX{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=hY(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=fY(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Xa.PLAY)}pause(){this.sendPlaybackControl(Xa.PAUSE)}stop(){this.sendPlaybackControl(Xa.STOP)}resetContext(){this.sendPlaybackControl(Xa.RESET_CONTEXT)}close(){this.conn.close()}}function GX(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function zX(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qX="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function HX(t,e,n){const r=new aW;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=gY(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class WX{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new UX(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&t$(e.config.tools)&&n$(f);const h=XX(f);if(this.apiClient.isVertexAI()){const k=this.apiClient.getProject(),N=this.apiClient.getLocation(),O=this.apiClient.getApiKey(),M=!!k&&!!N||!!O;this.apiClient.getCustomBaseUrl()&&!M?c=l:(c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c))}else{const k=this.apiClient.getApiKey();let N="BidiGenerateContent",O="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),N="BidiGenerateContentConstrained",O="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${N}?${O}=${k}`}let y=()=>{};const v=new Promise(k=>{y=k}),b=e.callbacks,x=function(){var k;(k=b==null?void 0:b.onopen)===null||k===void 0||k.call(b),y({})},w=this.apiClient,_={onopen:x,onmessage:k=>{HX(w,b.onmessage,k)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(k){}},E=this.webSocketFactory.create(c,JX(h),_);E.connect(),await v;let P=We(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&P.startsWith("publishers/")){const k=this.apiClient.getProject(),N=this.apiClient.getLocation();k&&N&&(P=`projects/${k}/locations/${N}/`+P)}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[bm.AUDIO]}:e.config.responseModalities=[bm.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const C=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],I=[];for(const k of C)if(this.isCallableTool(k)){const N=k;I.push(await N.tool())}else I.push(k);I.length>0&&(e.config.tools=I);const T={model:P,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=dY(this.apiClient,T):S=cY(this.apiClient,T),delete S.config,E.send(JSON.stringify(S)),new YX(E,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const KX={turnComplete:!0};class YX{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=gr(n.turns),e.isVertexAI()||(r=r.map(i=>hy(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(qX)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},KX),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:mY(e)}:n={realtimeInput:pY(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function JX(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function XX(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wC=10;function EC(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ml(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function ml(t){return"callTool"in t&&typeof t.callTool=="function"}function QX(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>ml(i)))!==null&&r!==void 0?r:!1}function TC(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(ml(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function SC(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZX extends to{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!QX(n)||EC(n.config))return await this.generateContentInternal(l);const u=TC(n);if(u.length>0){const b=u.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let c,f;const h=gr(l.contents),y=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:wC;let v=0;for(;v<y&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const b=c.candidates[0].content,x=[];for(const w of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(ml(w)){const E=await w.callTool(c.functionCalls);x.push(...E)}v++,f={role:"user",parts:x},l.contents=gr(l.contents),l.contents.push(b),l.contents.push(f),SC(l.config)&&(h.push(b),h.push(f))}return SC(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,s,a;if(this.maybeMoveToResponseJsonSchem(n),EC(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=TC(n);if(l.length>0){const f=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new ma(Wi.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async l=>ml(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&t$(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),n$(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(ml(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:wC;let s=!1,a=0;const l=await this.initAfcToolsMap(e);return function(u,c,f){return Vr(this,arguments,function*(){for(var h,y,v,b,x,w;a<o;){s&&(a++,s=!1);const S=yield Ne(u.processParamsMaybeAddMcpUsage(f)),C=yield Ne(u.generateContentStreamInternal(S)),I=[],T=[];try{for(var _=!0,E=(y=void 0,Fr(C)),P;P=yield Ne(E.next()),h=P.done,!h;_=!0){b=P.value,_=!1;const k=b;if(yield yield Ne(k),k.candidates&&(!((x=k.candidates[0])===null||x===void 0)&&x.content)){T.push(k.candidates[0].content);for(const N of(w=k.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(a<o&&N.functionCall){if(!N.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(N.functionCall.name)){const O=yield Ne(c.get(N.functionCall.name).callTool([N.functionCall]));I.push(...O)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${N.functionCall.name}`)}}}}catch(k){y={error:k}}finally{try{!_&&!h&&(v=E.return)&&(yield Ne(v.call(E)))}finally{if(y)throw y.error}}if(I.length>0){s=!0;const k=new ac;k.candidates=[{content:{role:"user",parts:I}}],yield yield Ne(k);const N=[];N.push(...T),N.push({role:"user",parts:I});const O=gr(f.contents).concat(N);f.contents=O}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=vC(this.apiClient,e);return a=pe("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=bC(c),h=new ac;return Object.assign(h,f),h})}else{const u=yC(this.apiClient,e);return a=pe("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=xC(c),h=new ac;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=vC(this.apiClient,e);return a=pe("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(f){return Vr(this,arguments,function*(){var h,y,v,b;try{for(var x=!0,w=Fr(f),_;_=yield Ne(w.next()),h=_.done,!h;x=!0){b=_.value,x=!1;const E=b,P=bC(yield Ne(E.json()));P.sdkHttpResponse={headers:E.headers};const S=new ac;Object.assign(S,P),yield yield Ne(S)}}catch(E){y={error:E}}finally{try{!x&&!h&&(v=w.return)&&(yield Ne(v.call(w)))}finally{if(y)throw y.error}}})})}else{const u=yC(this.apiClient,e);return a=pe("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(f){return Vr(this,arguments,function*(){var h,y,v,b;try{for(var x=!0,w=Fr(f),_;_=yield Ne(w.next()),h=_.done,!h;x=!0){b=_.value,x=!1;const E=b,P=xC(yield Ne(E.json()));P.sdkHttpResponse={headers:E.headers};const S=new ac;Object.assign(S,P),yield yield Ne(S)}}catch(E){y={error:E}}finally{try{!x&&!h&&(v=w.return)&&(yield Ne(v.call(w)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=WY(this.apiClient,e);return a=pe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=YY(c),h=new eC;return Object.assign(h,f),h})}else{const u=HY(this.apiClient,e);return a=pe("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=KY(c),h=new eC;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=sJ(this.apiClient,e);return a=pe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=lJ(c),h=new tC;return Object.assign(h,f),h})}else{const u=oJ(this.apiClient,e);return a=pe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=aJ(c),h=new tC;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=BY(this.apiClient,e);return o=pe("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=GY(l),c=new JH;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=sX(this.apiClient,e);return o=pe("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=aX(l),c=new XH;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=UJ(this.apiClient,e);return o=pe("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=BJ(l),c=new QH;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=KJ(this.apiClient,e);return o=pe("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=YJ(l),c=new ZH;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=SJ(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>bb(c))}else{const u=TJ(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>xb(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=MJ(this.apiClient,e);return a=pe("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=jJ(c),h=new nC;return Object.assign(h,f),h})}else{const u=OJ(this.apiClient,e);return a=pe("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=DJ(c),h=new nC;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=iX(this.apiClient,e);return a=pe("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>bb(c))}else{const u=rX(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>xb(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=$Y(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=FY(c),h=new rC;return Object.assign(h,f),h})}else{const u=LY(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=VY(c),h=new rC;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=MY(this.apiClient,e);return a=pe("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=jY(c),h=new iC;return Object.assign(h,f),h})}else{const u=OY(this.apiClient,e);return a=pe("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=DY(c),h=new iC;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=AY(this.apiClient,e);return o=pe("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=IY(l),c=new eW;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=pJ(this.apiClient,e);return a=pe("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=fJ(c),h=new _m;return Object.assign(h,f),h})}else{const u=hJ(this.apiClient,e);return a=pe("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const f=dJ(c),h=new _m;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eQ extends to{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=zH(e);return a=pe("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else{const u=GH(e);return a=pe("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=jH(e);return o=pe("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tQ(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function nQ(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>dQ(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function rQ(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&g(n,["expireTime"],i);const o=p(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&g(n,["newSessionExpireTime"],o);const s=p(e,["uses"]);n!==void 0&&s!=null&&g(n,["uses"],s);const a=p(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&g(n,["bidiGenerateContentSetup"],cQ(t,a));const l=p(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&g(n,["fieldMask"],l),r}function iQ(t,e){const n={},r=p(e,["config"]);return r!=null&&g(n,["config"],rQ(t,r,n)),n}function oQ(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function sQ(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function aQ(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function lQ(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function uQ(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=p(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],m1(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=p(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],nQ(bn(v)));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let C=bu(b);Array.isArray(C)&&(C=C.map(I=>hQ(xu(I)))),g(e,["setup","tools"],C)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],fQ(x));const w=p(t,["inputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","inputAudioTranscription"],w);const _=p(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","outputAudioTranscription"],_);const E=p(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&g(e,["setup","realtimeInputConfig"],E);const P=p(t,["contextWindowCompression"]);e!==void 0&&P!=null&&g(e,["setup","contextWindowCompression"],P);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&g(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function cQ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],We(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],uQ(i,n)),n}function dQ(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],oQ(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],sQ(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],tQ(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["thought"]);c!=null&&g(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function fQ(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function hQ(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),g(e,["functionDeclarations"],c)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],aQ(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],lQ(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pQ(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function mQ(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=pQ(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class gQ extends to{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=iQ(this.apiClient,e);o=pe("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=mQ(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yQ(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function vQ(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&yQ(r,e),e}function xQ(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function bQ(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function _Q(t){const e={},n=p(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=p(t,["config"]);return r!=null&&bQ(r,e),e}function wQ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EQ extends to{constructor(e){super(),this.apiClient=e,this.list=async n=>new ma(Wi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=xQ(e);return o=pe("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=vQ(e);i=pe("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=_Q(e);return o=pe("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=wQ(l),c=new tW;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TQ extends to{constructor(e,n=new EQ(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new ma(Wi.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=pX(e);return o=pe("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=yX(e);return o=pe("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=gX(e);i=pe("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=EX(e);return o=pe("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=TX(l),c=new nW;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=SX(e);return o=pe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=AX(l),c=new rW;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=bX(e);return o=pe("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=xX(l),c=new c1;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let r$=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return r$=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const SQ=()=>r$();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wb(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Eb=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class br extends Error{}class Mn extends br{constructor(e,n,r,i){super(`${Mn.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new gy({message:r,cause:Eb(n)});const o=n;return e===400?new o$(e,o,r,i):e===401?new s$(e,o,r,i):e===403?new a$(e,o,r,i):e===404?new l$(e,o,r,i):e===409?new u$(e,o,r,i):e===422?new c$(e,o,r,i):e===429?new d$(e,o,r,i):e>=500?new f$(e,o,r,i):new Mn(e,o,r,i)}}class Tb extends Mn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class gy extends Mn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class i$ extends gy{constructor({message:e}={}){super({message:e??"Request timed out."})}}class o$ extends Mn{}class s$ extends Mn{}class a$ extends Mn{}class l$ extends Mn{}class u$ extends Mn{}class c$ extends Mn{}class d$ extends Mn{}class f$ extends Mn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AQ=/^[a-z][a-z0-9+.-]*:/i,IQ=t=>AQ.test(t);let Sb=t=>(Sb=Array.isArray,Sb(t));const kQ=Sb;let CQ=kQ;const AC=CQ;function PQ(t){if(!t)return!0;for(const e in t)return!1;return!0}function NQ(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const RQ=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new br(`${t} must be an integer`);if(e<0)throw new br(`${t} must be a positive integer`);return e},OQ=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MQ=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Da="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DQ(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const jQ=()=>{var t,e,n,r,i;const o=DQ();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Da,"X-Stainless-OS":kC(Deno.build.os),"X-Stainless-Arch":IC(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Da,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Da,"X-Stainless-OS":kC((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":IC((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=LQ();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Da,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Da,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function LQ(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}const IC=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",kC=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Dh;const $Q=()=>Dh??(Dh=jQ());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VQ(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function h$(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function FQ(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return h$({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function p$(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function UQ(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BQ=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const m$=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function lv(t,e,n){return m$(),new File(t,e??"unknown_file",n)}function GQ(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const zQ=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const g$=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",qQ=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&g$(t),HQ=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function WQ(t,e,n){if(m$(),t=await t,qQ(t))return t instanceof File?t:lv([await t.arrayBuffer()],t.name);if(HQ(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),lv(await Ab(i),e,n)}const r=await Ab(t);if(e||(e=GQ(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return lv(r,e,n)}async function Ab(t){var e,n,r,i,o;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(g$(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(zQ(t))try{for(var a=!0,l=Fr(t),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const c=i;s.push(...await Ab(c))}}catch(c){n={error:c}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${KQ(t)}`)}return s}function KQ(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class y${constructor(e){this._client=e}}y$._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function v$(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const CC=Object.freeze(Object.create(null)),YQ=(t=v$)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],s=n.reduce((c,f,h)=>{var y,v,b;/[?#]/.test(f)&&(i=!0);const x=r[h];let w=(i?encodeURIComponent:t)(""+x);return h!==r.length&&(x==null||typeof x=="object"&&x.toString===((b=Object.getPrototypeOf((v=Object.getPrototypeOf((y=x.hasOwnProperty)!==null&&y!==void 0?y:CC))!==null&&v!==void 0?v:CC))===null||b===void 0?void 0:b.toString))&&(w=x+"",o.push({start:c.length+f.length,length:w.length,error:`Value of type ${Object.prototype.toString.call(x).slice(8,-1)} is not a valid path parameter`})),c+f+(h===r.length?"":w)},""),a=s.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(a))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,f)=>c.start-f.start),o.length>0){let c=0;const f=o.reduce((h,y)=>{const v=" ".repeat(y.start-c),b="^".repeat(y.length);return c=y.start+y.length,h+v+b},"");throw new br(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${s}
${f}`)}return s},jh=YQ(v$);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class x$ extends y${create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=Em(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new br("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new br("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(jh`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(jh`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(jh`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:s=this._client.apiVersion}=o,a=Em(o,["api_version"]);return this._client.get(jh`/${s}/interactions/${e}`,Object.assign(Object.assign({query:a},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}x$._key=Object.freeze(["interactions"]);class b$ extends x${}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JQ(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Lh;function y1(t){let e;return(Lh??(e=new globalThis.TextEncoder,Lh=e.encode.bind(e)))(t)}let $h;function PC(t){let e;return($h??(e=new globalThis.TextDecoder,$h=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yy{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?y1(e):e;this.buffer=JQ([this.buffer,n]);const r=[];let i;for(;(i=XQ(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(PC(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=PC(this.buffer.subarray(0,o));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}yy.NEWLINE_CHARS=new Set([`
`,"\r"]);yy.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function XQ(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function QQ(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tm={off:0,error:200,warn:300,info:400,debug:500},NC=(t,e,n)=>{if(t){if(NQ(Tm,t))return t;An(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Tm))}`)}};function kc(){}function Vh(t,e,n){return!e||Tm[t]>Tm[n]?kc:e[t].bind(e)}const ZQ={error:kc,warn:kc,info:kc,debug:kc};let RC=new WeakMap;function An(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return ZQ;const i=RC.get(n);if(i&&i[0]===r)return i[1];const o={error:Vh("error",n,r),warn:Vh("warn",n,r),info:Vh("info",n,r),debug:Vh("debug",n,r)};return RC.set(n,[r,o]),o}const ws=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qa{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?An(r):console;function s(){return Vr(this,arguments,function*(){var l,u,c,f;if(i)throw new br("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,v=Fr(eZ(e,n)),b;b=yield Ne(v.next()),l=b.done,!l;y=!0){f=b.value,y=!1;const x=f;if(!h)if(x.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield Ne(JSON.parse(x.data))}catch(w){throw o.error("Could not parse message into JSON:",x.data),o.error("From chunk:",x.raw),w}}}catch(x){u={error:x}}finally{try{!y&&!l&&(c=v.return)&&(yield Ne(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(x){if(wb(x))return yield Ne(void 0);throw x}finally{h||n.abort()}})}return new Qa(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return Vr(this,arguments,function*(){var l,u,c,f;const h=new yy,y=p$(e);try{for(var v=!0,b=Fr(y),x;x=yield Ne(b.next()),l=x.done,!l;v=!0){f=x.value,v=!1;const w=f;for(const _ of h.decode(w))yield yield Ne(_)}}catch(w){u={error:w}}finally{try{!v&&!l&&(c=b.return)&&(yield Ne(c.call(b)))}finally{if(u)throw u.error}}for(const w of h.flush())yield yield Ne(w)})}function s(){return Vr(this,arguments,function*(){var l,u,c,f;if(i)throw new br("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,v=Fr(o()),b;b=yield Ne(v.next()),l=b.done,!l;y=!0){f=b.value,y=!1;const x=f;h||x&&(yield yield Ne(JSON.parse(x)))}}catch(x){u={error:x}}finally{try{!y&&!l&&(c=v.return)&&(yield Ne(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(x){if(wb(x))return yield Ne(void 0);throw x}finally{h||n.abort()}})}return new Qa(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();e.push(s),n.push(s)}return o.shift()}});return[new Qa(()=>i(e),this.controller,this.client),new Qa(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return h$({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const s=y1(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function eZ(t,e){return Vr(this,arguments,function*(){var r,i,o,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new br("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new br("Attempted to iterate over a response with no body");const a=new nZ,l=new yy,u=p$(t.body);try{for(var c=!0,f=Fr(tZ(u)),h;h=yield Ne(f.next()),r=h.done,!r;c=!0){s=h.value,c=!1;const y=s;for(const v of l.decode(y)){const b=a.decode(v);b&&(yield yield Ne(b))}}}catch(y){i={error:y}}finally{try{!c&&!r&&(o=f.return)&&(yield Ne(o.call(f)))}finally{if(i)throw i.error}}for(const y of l.flush()){const v=a.decode(y);v&&(yield yield Ne(v))}})}function tZ(t){return Vr(this,arguments,function*(){var n,r,i,o;let s=new Uint8Array;try{for(var a=!0,l=Fr(t),u;u=yield Ne(l.next()),n=u.done,!n;a=!0){o=u.value,a=!1;const c=o;if(c==null)continue;const f=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?y1(c):c;let h=new Uint8Array(s.length+f.length);h.set(s),h.set(f,s.length),s=h;let y;for(;(y=QQ(s))!==-1;)yield yield Ne(s.slice(0,y)),s=s.slice(y)}}catch(c){r={error:c}}finally{try{!a&&!n&&(i=l.return)&&(yield Ne(i.call(l)))}finally{if(r)throw r.error}}s.length>0&&(yield yield Ne(s))})}class nZ{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=rZ(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function rZ(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function iZ(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{var a;if(e.options.stream)return An(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Qa.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(a=l==null?void 0:l.split(";")[0])===null||a===void 0?void 0:a.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return An(t).debug(`[${r}] response parsed`,ws({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-o})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class v1 extends Promise{constructor(e,n,r=iZ){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new v1(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _$=Symbol("brand.privateNullableHeaders");function*oZ(t){if(!t)return;if(_$ in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():AC(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=AC(r[1])?r[1]:[r[1]];let s=!1;for(const a of o)a!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,a])}}const lc=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,s]of oZ(r)){const a=o.toLowerCase();i.has(a)||(e.delete(o),i.add(a)),s===null?(e.delete(o),n.add(a)):(e.append(o,s),n.delete(a))}}return{[_$]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uv=t=>{var e,n,r,i,o,s;if(typeof globalThis.process<"u")return(r=(n=(e=PH)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var w$;class vy{constructor(e){var n,r,i,o,s,a,l,{baseURL:u=uv("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=uv("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,h=Em(e,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:c,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(r=y.timeout)!==null&&r!==void 0?r:vy.DEFAULT_TIMEOUT,this.logger=(i=y.logger)!==null&&i!==void 0?i:console;const v="warn";this.logLevel=v,this.logLevel=(s=(o=NC(y.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:NC(uv("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:v,this.fetchOptions=y.fetchOptions,this.maxRetries=(a=y.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(l=y.fetch)!==null&&l!==void 0?l:VQ(),this.encoder=BQ,this._options=y,this.apiKey=c,this.apiVersion=f,this.clientAdapter=y.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=lc([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return lc([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return lc([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new br(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Da}`}defaultIdempotencyKey(){return`stainless-node-retry-${SQ()}`}makeStatusError(e,n,r,i){return Mn.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=IQ(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return PQ(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new v1(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,s;const a=await e,l=(i=a.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(a);const{req:u,url:c,timeout:f}=await this.buildRequest(a,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:a});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(An(this).debug(`[${h}] sending request`,ws({retryOfRequestLogID:r,method:a.method,url:c,options:a,headers:u.headers})),!((o=a.signal)===null||o===void 0)&&o.aborted)throw new Tb;const b=new AbortController,x=await this.fetchWithTimeout(c,u,f,b).catch(Eb),w=Date.now();if(x instanceof globalThis.Error){const E=`retrying, ${n} attempts remaining`;if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new Tb;const P=wb(x)||/timed? ?out/i.test(String(x)+("cause"in x?String(x.cause):""));if(n)return An(this).info(`[${h}] connection ${P?"timed out":"failed"} - ${E}`),An(this).debug(`[${h}] connection ${P?"timed out":"failed"} (${E})`,ws({retryOfRequestLogID:r,url:c,durationMs:w-v,message:x.message})),this.retryRequest(a,n,r??h);throw An(this).info(`[${h}] connection ${P?"timed out":"failed"} - error; no more retries left`),An(this).debug(`[${h}] connection ${P?"timed out":"failed"} (error; no more retries left)`,ws({retryOfRequestLogID:r,url:c,durationMs:w-v,message:x.message})),P?new i$:new gy({cause:x})}const _=`[${h}${y}] ${u.method} ${c} ${x.ok?"succeeded":"failed"} with status ${x.status} in ${w-v}ms`;if(!x.ok){const E=await this.shouldRetry(x);if(n&&E){const k=`retrying, ${n} attempts remaining`;return await UQ(x.body),An(this).info(`${_} - ${k}`),An(this).debug(`[${h}] response error (${k})`,ws({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,durationMs:w-v})),this.retryRequest(a,n,r??h,x.headers)}const P=E?"error; no more retries left":"error; not retryable";An(this).info(`${_} - ${P}`);const S=await x.text().catch(k=>Eb(k).message),C=OQ(S),I=C?void 0:S;throw An(this).debug(`[${h}] response error (${P})`,ws({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,message:I,durationMs:Date.now()-v})),this.makeStatusError(x.status,C,I,x.headers)}return An(this).info(_),An(this).debug(`[${h}] response start`,ws({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,durationMs:w-v})),{response:x,options:a,controller:b,requestLogID:h,retryOfRequestLogID:r,startTime:v}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:s,method:a}=o,l=Em(o,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);a&&(f.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let s;const a=i==null?void 0:i.get("retry-after-ms");if(a){const u=parseFloat(a);Number.isNaN(u)||(s=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!s){const u=parseFloat(l);Number.isNaN(u)?s=Date.parse(l)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,u)}return await MQ(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,s=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const s=Object.assign({},e),{method:a,path:l,query:u,defaultBaseURL:c}=s,f=this.buildURL(l,u,c);"timeout"in s&&RQ("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:y}=this.buildBody({options:s}),v=await this.buildHeaders({options:e,method:a,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:v},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=s.fetchOptions)!==null&&o!==void 0?o:{}),url:f,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let a=lc([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),$Q()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=lc([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:FQ(e)}:this.encoder({body:e,headers:r})}}vy.DEFAULT_TIMEOUT=6e4;class Xt extends vy{constructor(){super(...arguments),this.interactions=new b$(this)}}w$=Xt;Xt.GeminiNextGenAPIClient=w$;Xt.GeminiNextGenAPIClientError=br;Xt.APIError=Mn;Xt.APIConnectionError=gy;Xt.APIConnectionTimeoutError=i$;Xt.APIUserAbortError=Tb;Xt.NotFoundError=l$;Xt.ConflictError=u$;Xt.RateLimitError=d$;Xt.BadRequestError=o$;Xt.AuthenticationError=s$;Xt.InternalServerError=f$;Xt.PermissionDeniedError=a$;Xt.UnprocessableEntityError=c$;Xt.toFile=WQ;Xt.Interactions=b$;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sZ(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function aZ(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function lZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function uZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function cZ(t,e,n){const r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&g(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=p(t,["epochCount"]);e!==void 0&&o!=null&&g(e,["tuningTask","hyperparameters","epochCount"],o);const s=p(t,["learningRateMultiplier"]);if(s!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=p(t,["batchSize"]);e!==void 0&&a!=null&&g(e,["tuningTask","hyperparameters","batchSize"],a);const l=p(t,["learningRate"]);if(e!==void 0&&l!=null&&g(e,["tuningTask","hyperparameters","learningRate"],l),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function dZ(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const y=p(t,["validationDataset"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec"],OC(y))}else if(i==="PREFERENCE_TUNING"){const y=p(t,["validationDataset"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec"],OC(y))}const o=p(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&g(e,["tunedModelDisplayName"],o);const s=p(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);let a=p(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const y=p(t,["epochCount"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(a==="PREFERENCE_TUNING"){const y=p(t,["epochCount"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let l=p(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const y=p(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(l==="PREFERENCE_TUNING"){const y=p(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let u=p(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=p(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(u==="PREFERENCE_TUNING"){const y=p(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=p(t,["adapterSize"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(c==="PREFERENCE_TUNING"){const y=p(t,["adapterSize"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["beta"]);return e!==void 0&&h!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function fZ(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&EZ(o);const s=p(t,["config"]);return s!=null&&cZ(s,n),n}function hZ(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&TZ(o,n,e);const s=p(t,["config"]);return s!=null&&dZ(s,n,e),n}function pZ(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function mZ(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function gZ(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const s=p(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),r}function yZ(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const s=p(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),r}function vZ(t,e){const n={},r=p(t,["config"]);return r!=null&&gZ(r,n),n}function xZ(t,e){const n={},r=p(t,["config"]);return r!=null&&yZ(r,n),n}function bZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=p(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>E$(a))),g(n,["tuningJobs"],s)}return n}function _Z(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=p(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>Ib(a))),g(n,["tuningJobs"],s)}return n}function wZ(t,e){const n={},r=p(t,["name"]);r!=null&&g(n,["model"],r);const i=p(t,["name"]);return i!=null&&g(n,["endpoint"],i),n}function EZ(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=p(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(n,["examples","examples"],i)}return n}function TZ(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=p(t,["gcsUri"]);e!==void 0&&s!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=p(t,["gcsUri"]);e!==void 0&&s!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=p(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=p(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=p(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function E$(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const o=p(t,["state"]);o!=null&&g(n,["state"],VL(o));const s=p(t,["createTime"]);s!=null&&g(n,["createTime"],s);const a=p(t,["tuningTask","startTime"]);a!=null&&g(n,["startTime"],a);const l=p(t,["tuningTask","completeTime"]);l!=null&&g(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const c=p(t,["description"]);c!=null&&g(n,["description"],c);const f=p(t,["baseModel"]);f!=null&&g(n,["baseModel"],f);const h=p(t,["_self"]);return h!=null&&g(n,["tunedModel"],wZ(h)),n}function Ib(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const o=p(t,["state"]);o!=null&&g(n,["state"],VL(o));const s=p(t,["createTime"]);s!=null&&g(n,["createTime"],s);const a=p(t,["startTime"]);a!=null&&g(n,["startTime"],a);const l=p(t,["endTime"]);l!=null&&g(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const c=p(t,["error"]);c!=null&&g(n,["error"],c);const f=p(t,["description"]);f!=null&&g(n,["description"],f);const h=p(t,["baseModel"]);h!=null&&g(n,["baseModel"],h);const y=p(t,["tunedModel"]);y!=null&&g(n,["tunedModel"],y);const v=p(t,["preTunedModel"]);v!=null&&g(n,["preTunedModel"],v);const b=p(t,["supervisedTuningSpec"]);b!=null&&g(n,["supervisedTuningSpec"],b);const x=p(t,["preferenceOptimizationSpec"]);x!=null&&g(n,["preferenceOptimizationSpec"],x);const w=p(t,["tuningDataStats"]);w!=null&&g(n,["tuningDataStats"],w);const _=p(t,["encryptionSpec"]);_!=null&&g(n,["encryptionSpec"],_);const E=p(t,["partnerModelTuningSpec"]);E!=null&&g(n,["partnerModelTuningSpec"],E);const P=p(t,["customBaseModel"]);P!=null&&g(n,["customBaseModel"],P);const S=p(t,["experiment"]);S!=null&&g(n,["experiment"],S);const C=p(t,["labels"]);C!=null&&g(n,["labels"],C);const I=p(t,["outputUri"]);I!=null&&g(n,["outputUri"],I);const T=p(t,["pipelineJob"]);T!=null&&g(n,["pipelineJob"],T);const k=p(t,["serviceAccount"]);k!=null&&g(n,["serviceAccount"],k);const N=p(t,["tunedModelDisplayName"]);N!=null&&g(n,["tunedModelDisplayName"],N);const O=p(t,["veoTuningSpec"]);return O!=null&&g(n,["veoTuningSpec"],O),n}function SZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const o=p(t,["metadata"]);o!=null&&g(n,["metadata"],o);const s=p(t,["done"]);s!=null&&g(n,["done"],s);const a=p(t,["error"]);return a!=null&&g(n,["error"],a),n}function OC(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return i!=null&&g(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AZ extends to{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ma(Wi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:pb.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=mZ(e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>Ib(c))}else{const u=pZ(e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>E$(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=xZ(e);return a=pe("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=_Z(c),h=new oC;return Object.assign(h,f),h})}else{const u=vZ(e);return a=pe("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=bZ(c),h=new oC;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=aZ(e);return a=pe("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=uZ(c),h=new sC;return Object.assign(h,f),h})}else{const u=sZ(e);return a=pe("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=lZ(c),h=new sC;return Object.assign(h,f),h})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=hZ(e,e);return o=pe("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Ib(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=fZ(e);return o=pe("tunedModels",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>SZ(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IZ{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const kZ=1024*1024*8,CZ=3,PZ=1e3,NZ=2,Sm="x-goog-upload-status";async function RZ(t,e,n){var r;const i=await T$(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Sm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function OZ(t,e,n){var r;const i=await T$(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Sm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=OL(o),a=new d1;return Object.assign(a,s),a}async function T$(t,e,n){var r,i;let o=0,s=0,a=new gb(new Response),l="upload";for(o=t.size;s<o;){const u=Math.min(kZ,o-s),c=t.slice(s,s+u);s+u>=o&&(l+=", finalize");let f=0,h=PZ;for(;f<CZ&&(a=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[Sm]));)f++,await DZ(h),h=h*NZ;if(s+=u,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[Sm])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function MZ(t){return{size:t.size,type:t.type}}function DZ(t){return new Promise(e=>setTimeout(e,t))}class jZ{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await RZ(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await OZ(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await MZ(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LZ{create(e,n,r){return new $Z(e,n,r)}}class $Z{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MC="x-goog-api-key";class VZ{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(MC)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(MC,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FZ="gl-node/";class Vf{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Xt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=MH(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new VZ(this.apiKey);this.apiClient=new MX({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:FZ+"web",uploader:new jZ,downloader:new IZ}),this.models=new ZX(this.apiClient),this.live=new WX(this.apiClient,i,new LZ),this.batches=new uK(this.apiClient),this.chats=new zK(this.models,this.apiClient),this.caches=new UK(this.apiClient),this.files=new eY(this.apiClient),this.operations=new eQ(this.apiClient),this.authTokens=new gQ(this.apiClient),this.tunings=new AZ(this.apiClient),this.fileSearchStores=new TQ(this.apiClient)}}const DC=["Casa","Mobilidade","Alimentos","Lazer","Pets","Outros"],xy="nexo_user_api_key",wu=()=>{const t=localStorage.getItem(xy);return t||null},jC=t=>{localStorage.setItem(xy,t)},UZ=()=>{localStorage.removeItem(xy)},LC=()=>!!localStorage.getItem(xy),BZ=async t=>{var i;const e=wu();if(!e)return[];const n=new Vf({apiKey:e}),r=`
    Voc  um assistente de compras inteligente.
    O usurio vai pedir uma receita, evento ou lista genrica.
    Gere uma lista de compras JSON com ingredientes/itens.
    
    CATEGORIAS PERMITIDAS: 'Hortifruti', 'Carnes', 'Laticnios', 'Mercearia', 'Bebidas', 'Limpeza', 'Higiene', 'Padaria', 'Outros'.

    RESPONDA APENAS JSON VLIDO neste formato:
    [
      { "name": "Nome do item", "quantity": 1, "category": "Categoria" }
    ]
  `;try{const s=((i=(await n.models.generateContent({model:"gemini-3-flash-preview",contents:`Gere a lista para: ${t}`,config:{systemInstruction:r,responseMimeType:"application/json"}})).text)==null?void 0:i.trim())||"[]";return JSON.parse(s)}catch(o){return console.error("Erro ao gerar lista:",o),[]}},GZ=async t=>{var i;const e=wu();if(!e)return"Outros";const n=new Vf({apiKey:e}),r=`Classifique "${t}" em: ${DC.join(", ")}. Responda S a categoria.`;try{const s=((i=(await n.models.generateContent({model:"gemini-3-flash-preview",contents:r})).text)==null?void 0:i.trim())||"Outros";return DC.includes(s)?s:"Outros"}catch{return"Outros"}},zZ=async t=>{var s,a,l;const e=wu();if(!e)return{text:"Configure sua API Key nas preferncias para receber recomendaes de investimentos.",sources:[]};const n=new Vf({apiKey:e}),r=t.map(u=>`${u.name} (${u.type}): R$ ${u.amount}`).join(", "),o=`
    Voc  um consultor de investimentos snior especialista no mercado brasileiro.
    Carteira Atual: R$ ${t.reduce((u,c)=>u+c.amount,0)} (${r||"Vazia"}).

    TAREFA:
    Encontre oportunidades REAIS e ATUAIS para diversificao.
    
    FORMATO OBRIGATRIO (Siga estritamente):
    
    ###  Baixo Risco
    1. **[Nome]** - [Taxa/Preo] - [Motivo curto]
    2. **[Nome]** - [Taxa/Preo] - [Motivo curto]
    3. **[Nome]** - [Taxa/Preo] - [Motivo curto]

    ###  Mdio Risco
    (3 opes no mesmo formato)

    ###  Alto Risco
    (3 opes no mesmo formato)

    ---SECTION-BREAK---

    ###  Anlise Tcnica
    (Sua anlise detalhada aqui sobre cenrio macro, inflao e porqus)
  `;try{const u=await n.models.generateContent({model:"gemini-3-flash-preview",contents:o,config:{tools:[{googleSearch:{}}]}}),c=[],f=(l=(a=(s=u.candidates)==null?void 0:s[0])==null?void 0:a.groundingMetadata)==null?void 0:l.groundingChunks;f&&f.forEach(y=>{y.web&&c.push({title:y.web.title||"Fonte Web",uri:y.web.uri||"#"})});const h=c.filter((y,v,b)=>b.findIndex(x=>x.uri===y.uri)===v);return{text:u.text||"No foi possvel gerar recomendaes no momento.",sources:h}}catch(u){console.warn("Google Search Grounding failed, retrying without search...",u);try{return{text:((await n.models.generateContent({model:"gemini-3-flash-preview",contents:o+`

(Nota: A pesquisa em tempo real falhou. Use seu conhecimento geral.)`})).text||"Sem resposta.")+`

 *Nota: O acesso  pesquisa em tempo real falhou. As taxas mencionadas podem ser estimativas baseadas no conhecimento geral do modelo.*`,sources:[]}}catch(c){return console.error("Investment Advice Error (Fallback):",c),{text:`Erro ao consultar IA: ${c.message||"Erro desconhecido"}. Verifique sua chave API ou tente novamente mais tarde.`,sources:[]}}}},qZ=async(t,e,n)=>{var l;const r=wu();if(!r)return null;const i=new Vf({apiKey:r}),o=new Map;t.forEach(u=>{o.set(u.type,(o.get(u.type)||0)+u.amount)});const s=Array.from(o.entries()).map(([u,c])=>`${u}: R$ ${c.toFixed(2)}`).join(", "),a=`
      Atue como um Gestor de Private Banking. O cliente tem ${n} anos e perfil de risco: ${e.toUpperCase()}.
      
      Carteira Atual Agregada: ${s||"R$ 0,00 (Vazia)"}

      Sua tarefa  analisar a alocao de ativos e sugerir o rebalanceamento ideal baseado nas melhores prticas de Wealth Management (como Bridgewater/Arta) adaptado ao Brasil.
      
      RETORNE APENAS JSON VLIDO. NO USE MARKDOWN. Siga este esquema:
      {
        "analysisText": "Pargrafo curto (max 300 chars) com sua viso macro sobre a carteira do cliente.",
        "currentAllocation": [ {"name": "Categoria", "value": %_atual (0-100)} ],
        "suggestedAllocation": [ {"name": "Categoria", "value": %_ideal (0-100)} ],
        "actionItems": [
           {"title": "Ao Ttica", "type": "buy" | "sell" | "hold", "description": "Explicao curta"}
        ]
      }
      
      Regras:
      1. 'suggestedAllocation' deve somar 100.
      2. Categorias sugeridas podem ser: 'Renda Fixa Ps', 'Renda Fixa Pr/IPCA', 'Aes Brasil', 'Aes Global', 'FIIs', 'Cripto/Alternativos', 'Reserva'.
      3. Se a carteira estiver vazia, sugira a alocao ideal do zero.
    `;try{const c=((l=(await i.models.generateContent({model:"gemini-3-flash-preview",contents:a,config:{responseMimeType:"application/json"}})).text)==null?void 0:l.trim())||"{}";return JSON.parse(c)}catch(u){return console.error("Wealth Analysis Error:",u),null}};async function*HZ(t,e,n){const r=wu();if(!r){yield"Por favor, configure sua API Key nas preferncias do menu.";return}const i=new Vf({apiKey:r}),o=n.transactions.filter(_=>_.type==="income").reduce((_,E)=>_+E.amount,0),s=n.transactions.filter(_=>_.type==="expense").reduce((_,E)=>_+E.amount,0),a=n.investments.reduce((_,E)=>_+E.amount,0),l=n.debts.reduce((_,E)=>_+E.currentAmount,0),u=n.transactions.sort((_,E)=>new Date(E.date).getTime()-new Date(_.date).getTime()).slice(0,30).map(_=>`- ${_.date}: ${_.description} (${_.type}) R$ ${_.amount} [${_.category}] Status: ${_.status}`).join(`
`),c=n.investments.map(_=>`- ${_.name} (${_.type}): R$ ${_.amount} (Meta: R$ ${_.targetAmount})`).join(`
`),f=n.debts.map(_=>`- ${_.creditor}: R$ ${_.currentAmount} (Status: ${_.status}, Vence: ${_.dueDate})`).join(`
`);let h="Neutro";l>a*2?h="Endividado (Foco em quitao)":a>s*6?h="Investidor (Foco em otimizao)":o<s&&(h="Dficit (Foco em corte de gastos)");const y=`
    RELATRIO FINANCEIRO DO USURIO (Contexto Interno):
    
    1. PERFIL IDENTIFICADO: ${h}
    2. RESUMO:
       - Renda Total: R$ ${o.toFixed(2)}
       - Despesas Totais: R$ ${s.toFixed(2)}
       - Saldo: R$ ${(o-s).toFixed(2)}
       - Total Investido: R$ ${a.toFixed(2)}
       - Dvidas Ativas: R$ ${l.toFixed(2)}
    3. LTIMAS TRANSAES:
    ${u}
    4. INVESTIMENTOS:
    ${c}
    5. DVIDAS:
    ${f}
  `,v=`
    Voc  o NEXO AI, um assistente financeiro pessoal de elite.
    OBJETIVO: Ajudar o usurio a gerenciar suas finanas com base no perfil identificado: ${h}.
    CONTEXTO: ${y}
    DIRETRIZES:
    - Responda de forma concisa e amigvel.
    - Se o usurio perguntar sobre o saldo, gastos especficos ou investimentos, consulte o relatrio acima.
    - Seja proativo: se vir uma dvida vencendo ou gasto alto, pode alertar sutilmente.
    - Use Markdown para formatar valores e listas.
  `,b=i.chats.create({model:"gemini-3-flash-preview",config:{systemInstruction:v}}),w=`
    [Histrico Recente]:
    ${e.slice(-6).map(_=>`${_.role==="user"?"Usurio":"Modelo"}: ${_.content}`).join(`
`)}
    
    [Nova Mensagem]: ${t}
  `;try{const _=await b.sendMessageStream({message:w});for await(const E of _)E.text&&(yield E.text)}catch(_){console.error(_),yield"Erro de conexo com o crebro digital. Verifique sua Chave de API."}}const WZ=({onGuestLogin:t})=>{const[e,n]=B.useState(!1),[r,i]=B.useState(""),[o,s]=B.useState(""),[a,l]=B.useState(""),[u,c]=B.useState(""),[f,h]=B.useState(!1),[y,v]=B.useState(!1),[b,x]=B.useState(!1),w="028.268.001-24",_="Alexandre Magno S. Linhares";B.useEffect(()=>{const T=Ja.app.options.apiKey;(!T||T==="SUA_API_KEY_AQUI"||T.includes("SUA_API_KEY"))&&v(!0)},[]);const E=T=>{console.error(T);let k="Erro ao autenticar. Verifique suas credenciais.";T.code==="auth/email-already-in-use"&&(k="Este e-mail j est em uso."),T.code==="auth/invalid-email"&&(k="E-mail invlido."),T.code==="auth/weak-password"&&(k="A senha deve ter pelo menos 6 caracteres."),(T.code==="auth/user-not-found"||T.code==="auth/wrong-password")&&(k="E-mail ou senha incorretos."),T.code==="auth/invalid-credential"&&(k="Credenciais invlidas."),T.code==="auth/invalid-api-key"&&(k="Chave de API invlida.",v(!0)),T.code==="auth/unauthorized-domain"?(k="Domnio no autorizado pelo Firebase.",c(window.location.hostname)):c(""),l(k)},P=async T=>{T.preventDefault(),l(""),c(""),h(!0);try{e?await H7(Ja,r,o):await W7(Ja,r,o)}catch(k){E(k)}finally{h(!1)}},S=async()=>{l(""),c(""),h(!0);const T=new _i;try{await y9(Ja,T)}catch(k){E(k)}finally{h(!1)}},C=()=>{navigator.clipboard.writeText(u),alert("Domnio copiado!")},I=()=>{navigator.clipboard.writeText(w),x(!0),setTimeout(()=>x(!1),2e3)};return y?d.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden border border-slate-700 animate-scale-in flex flex-col md:flex-row",children:[d.jsxs("div",{className:"bg-indigo-600 p-8 text-white md:w-1/3 flex flex-col items-center justify-center text-center",children:[d.jsx(o6,{className:"w-16 h-16 mb-4 opacity-80"}),d.jsx("h2",{className:"text-xl font-bold",children:"Configurao Necessria"}),d.jsx("p",{className:"text-indigo-100 text-sm mt-2",children:"Para usar o modo online, voc precisa conectar seu Firebase."})]}),d.jsxs("div",{className:"p-8 md:w-2/3",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-4",children:"Siga estes passos:"}),d.jsxs("div",{className:"space-y-4 text-sm text-slate-600 dark:text-slate-300",children:[d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-2 rounded h-fit font-bold",children:"1"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:"Crie o Banco de Dados"}),d.jsxs("p",{children:["No Console do Firebase, v em ",d.jsx("strong",{children:"Firestore Database"}),', clique em "Criar banco de dados", escolha a regio (nam5) e clique em "Iniciar no modo de produo".']})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-2 rounded h-fit font-bold",children:"2"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:"Ative o Login"}),d.jsxs("p",{children:["V em ",d.jsx("strong",{children:"Authentication"}),' > Sign-in method e ative "E-mail/senha".']})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-2 rounded h-fit font-bold",children:"3"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:"Copie as Chaves"}),d.jsxs("p",{children:['V nas Configuraes do Projeto (), role at "Seus aplicativos" e copie o objeto ',d.jsx("code",{children:"firebaseConfig"}),"."]})]})]}),d.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-3 rounded-lg text-xs",children:[d.jsxs("p",{className:"font-bold text-amber-700 dark:text-amber-400 flex items-center gap-1",children:[d.jsx(yd,{className:"w-3 h-3"})," Ao Necessria no Cdigo"]}),d.jsxs("p",{className:"mt-1",children:["Abra o arquivo ",d.jsx("code",{children:"services/firebase.ts"})," e substitua ",d.jsx("code",{children:'"SUA_API_KEY_AQUI"'})," pelos dados reais que voc copiou."]})]})]}),d.jsxs("button",{onClick:t,className:"w-full mt-6 py-3 bg-slate-200 hover:bg-slate-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-xl font-bold transition-colors flex items-center justify-center gap-2",children:[d.jsx(OA,{className:"w-4 h-4"}),"Pular e Usar Modo Offline (Convidado)"]})]})]})}):d.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-900 flex font-sans",children:[d.jsxs("div",{className:"w-full md:w-[45%] lg:w-[40%] flex flex-col justify-center p-8 md:p-12 lg:p-16 relative overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-10",children:[d.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg shadow-lg shadow-indigo-500/30",children:d.jsx(tE,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{className:"leading-tight",children:[d.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white tracking-tight",children:"NEXO"}),d.jsx("p",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-widest",children:"Financial Hub"})]})]}),d.jsxs("div",{className:"max-w-sm w-full mx-auto",children:[d.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:e?"Criar Conta":"Acesse sua Conta"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:e?"Comece a controlar suas finanas hoje.":"Bem-vindo de volta! Por favor, insira seus dados."}),a&&d.jsxs("div",{className:"mb-6 p-4 bg-rose-50 dark:bg-rose-900/20 border-l-4 border-rose-500 rounded-r-lg flex flex-col gap-1 animate-fade-in",children:[d.jsxs("div",{className:"flex items-center gap-2 text-rose-700 dark:text-rose-400 font-semibold text-sm",children:[d.jsx(Dx,{className:"w-4 h-4"}),d.jsx("span",{children:a})]}),u&&d.jsxs("div",{className:"mt-2 pl-6",children:[d.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"Domnio no autorizado:"}),d.jsx("code",{className:"text-xs bg-white px-1 py-0.5 rounded border border-rose-200 block mb-2",children:u}),d.jsx("button",{onClick:C,className:"text-xs underline text-rose-600",children:"Copiar Domnio"})]})]}),d.jsxs("form",{onSubmit:P,className:"space-y-5",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-1.5",children:"E-mail"}),d.jsx("input",{type:"email",required:!0,value:r,onChange:T=>i(T.target.value),className:"w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-800 dark:text-white outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all placeholder:text-slate-400",placeholder:"nome@exemplo.com"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-1.5",children:"Senha"}),d.jsx("input",{type:"password",required:!0,minLength:6,value:o,onChange:T=>s(T.target.value),className:"w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-800 dark:text-white outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all placeholder:text-slate-400",placeholder:""}),!e&&d.jsx("div",{className:"flex justify-end mt-1",children:d.jsx("button",{type:"button",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-700 dark:text-indigo-400",children:"Esqueceu a senha?"})})]}),d.jsx("button",{type:"submit",disabled:f,className:"w-full py-3.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-bold shadow-lg shadow-indigo-500/20 transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed mt-2",children:f?d.jsx(Yg,{className:"w-5 h-5 animate-spin"}):e?"Cadastrar":"Entrar"})]}),d.jsxs("div",{className:"relative my-8",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-700"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-4 bg-white dark:bg-slate-900 text-slate-400 font-medium",children:"ou continue com"})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{type:"button",onClick:S,disabled:f,className:"flex items-center justify-center gap-2 px-4 py-2.5 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors font-medium text-slate-700 dark:text-slate-300 text-sm",children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",color:"#4285F4"}),d.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",color:"#34A853"}),d.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",color:"#FBBC05"}),d.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",color:"#EA4335"})]}),"Google"]}),d.jsxs("button",{type:"button",onClick:t,className:"flex items-center justify-center gap-2 px-4 py-2.5 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors font-medium text-slate-700 dark:text-slate-300 text-sm",children:[d.jsx(OA,{className:"w-5 h-5 text-slate-500"}),"Convidado"]})]}),d.jsx("div",{className:"mt-8 text-center",children:d.jsxs("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:[e?"J  cliente?":"Ainda no tem conta?",d.jsx("button",{onClick:()=>n(!e),className:"ml-1 text-indigo-600 dark:text-indigo-400 font-bold hover:underline",children:e?"Fazer Login":"Cadastre-se grtis"})]})}),d.jsx("div",{className:"mt-10 mb-4",children:d.jsxs("div",{onClick:I,className:"group relative overflow-hidden bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-slate-800 dark:to-indigo-900/20 border-2 border-dashed border-indigo-200 dark:border-indigo-700/50 hover:border-indigo-400 dark:hover:border-indigo-500 rounded-xl p-4 cursor-pointer hover:shadow-xl hover:shadow-indigo-500/10 transition-all transform hover:-translate-y-1",children:[d.jsx("div",{className:"absolute top-0 right-0 bg-indigo-600 text-white text-[10px] font-bold px-3 py-1 rounded-bl-xl shadow-sm z-10",children:"Apoie o Dev "}),d.jsxs("div",{className:"flex items-center gap-4 relative z-0",children:[d.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/50 p-3 rounded-full group-hover:scale-110 transition-transform shadow-inner",children:d.jsx(hD,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400 fill-indigo-200 dark:fill-indigo-900"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-xs font-bold text-indigo-800 dark:text-indigo-300 uppercase tracking-wide mb-1",children:"Gostou? Mande um Pix!"}),d.jsxs("div",{className:"flex items-center gap-2 bg-white/50 dark:bg-black/20 p-1.5 rounded-lg border border-indigo-100 dark:border-indigo-800/50",children:[d.jsx("p",{className:"text-sm font-mono font-bold text-slate-700 dark:text-slate-200 truncate select-all",children:w}),d.jsx("span",{className:"text-[9px] bg-indigo-200 dark:bg-indigo-800 text-indigo-800 dark:text-indigo-200 px-1.5 rounded font-sans font-bold",children:"Chave CPF"})]})]}),d.jsx("div",{className:"text-indigo-300 group-hover:text-indigo-600 transition-colors",children:b?d.jsx(Ka,{className:"w-6 h-6 text-emerald-500"}):d.jsx(uD,{className:"w-6 h-6"})})]}),b&&d.jsx("div",{className:"absolute inset-0 bg-indigo-900/90 backdrop-blur-sm flex items-center justify-center text-white font-bold rounded-xl animate-fade-in z-20",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ka,{className:"w-5 h-5 text-emerald-400"}),"Chave Pix Copiada!"]})}),d.jsx("p",{className:"text-[10px] text-slate-400 mt-2 text-center opacity-60 group-hover:opacity-100 transition-opacity",children:_})]})}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("a",{href:"https://www.linkedin.com/in/alemagnobr/",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-slate-400 hover:text-indigo-500 transition-colors inline-flex items-center gap-1",children:[d.jsx(gD,{className:"w-3 h-3"})," Alexandre Magno"]})})]})]}),d.jsxs("div",{className:"hidden md:flex flex-1 relative bg-[#4c35de] overflow-hidden items-center justify-center p-8",children:[d.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-white opacity-5 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/3"}),d.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-purple-400 opacity-10 rounded-full blur-[80px] translate-y-1/3 -translate-x-1/4"}),d.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(#fff 1px, transparent 1px), linear-gradient(90deg, #fff 1px, transparent 1px)",backgroundSize:"40px 40px"}}),d.jsxs("div",{className:"relative z-10 w-full max-w-lg",children:[d.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6 shadow-2xl mb-12 transform hover:scale-[1.02] transition-transform duration-500",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-white/10 pb-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-white/60 text-xs font-semibold uppercase",children:"Performance Visualisation"}),d.jsx("p",{className:"text-white text-lg font-bold mt-1",children:"Crescimento Patrimonial"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("div",{className:"px-2 py-1 bg-emerald-500/20 text-emerald-300 rounded text-xs font-bold",children:"+6.9%"}),d.jsx("div",{className:"p-1 bg-white/10 rounded text-white/70",children:d.jsx(md,{className:"w-4 h-4"})})]})]}),d.jsx("div",{className:"h-48 flex items-end justify-between gap-3 px-2",children:[35,55,45,70,60,85,75].map((T,k)=>d.jsxs("div",{className:"w-full bg-white/10 rounded-t-lg relative group overflow-hidden",style:{height:"100%"},children:[d.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-indigo-400 to-purple-300 rounded-t-lg transition-all duration-1000 group-hover:opacity-90",style:{height:`${T}%`}}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] bg-white/30",style:{bottom:`${T}%`}})]},k))}),d.jsxs("div",{className:"flex justify-between mt-3 text-xs text-white/40 font-medium px-2",children:[d.jsx("span",{children:"Jan"}),d.jsx("span",{children:"Fev"}),d.jsx("span",{children:"Mar"}),d.jsx("span",{children:"Abr"}),d.jsx("span",{children:"Mai"}),d.jsx("span",{children:"Jun"}),d.jsx("span",{children:"Jul"})]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-3",children:"Bem-vindo de volta"}),d.jsxs("p",{className:"text-indigo-200 text-lg leading-relaxed",children:["Gerencie suas finanas com inteligncia, ",d.jsx("br",{}),"segurana e clareza total."]})]})]}),d.jsx("div",{className:"absolute top-8 right-8",children:d.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 backdrop-blur flex items-center justify-center border border-white/20 text-xl shadow-lg cursor-default",children:""})})]})]})};function S$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=S$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ke(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=S$(t))&&(r&&(r+=" "),r+=e);return r}var KZ=Array.isArray,zn=KZ,YZ=typeof dh=="object"&&dh&&dh.Object===Object&&dh,A$=YZ,JZ=A$,XZ=typeof self=="object"&&self&&self.Object===Object&&self,QZ=JZ||XZ||Function("return this")(),fi=QZ,ZZ=fi,eee=ZZ.Symbol,Ff=eee,$C=Ff,I$=Object.prototype,tee=I$.hasOwnProperty,nee=I$.toString,uc=$C?$C.toStringTag:void 0;function ree(t){var e=tee.call(t,uc),n=t[uc];try{t[uc]=void 0;var r=!0}catch{}var i=nee.call(t);return r&&(e?t[uc]=n:delete t[uc]),i}var iee=ree,oee=Object.prototype,see=oee.toString;function aee(t){return see.call(t)}var lee=aee,VC=Ff,uee=iee,cee=lee,dee="[object Null]",fee="[object Undefined]",FC=VC?VC.toStringTag:void 0;function hee(t){return t==null?t===void 0?fee:dee:FC&&FC in Object(t)?uee(t):cee(t)}var ro=hee;function pee(t){return t!=null&&typeof t=="object"}var io=pee,mee=ro,gee=io,yee="[object Symbol]";function vee(t){return typeof t=="symbol"||gee(t)&&mee(t)==yee}var Eu=vee,xee=zn,bee=Eu,_ee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,wee=/^\w*$/;function Eee(t,e){if(xee(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||bee(t)?!0:wee.test(t)||!_ee.test(t)||e!=null&&t in Object(e)}var x1=Eee;function Tee(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var as=Tee;const Tu=Qe(as);var See=ro,Aee=as,Iee="[object AsyncFunction]",kee="[object Function]",Cee="[object GeneratorFunction]",Pee="[object Proxy]";function Nee(t){if(!Aee(t))return!1;var e=See(t);return e==kee||e==Cee||e==Iee||e==Pee}var b1=Nee;const _e=Qe(b1);var Ree=fi,Oee=Ree["__core-js_shared__"],Mee=Oee,cv=Mee,UC=function(){var t=/[^.]+$/.exec(cv&&cv.keys&&cv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Dee(t){return!!UC&&UC in t}var jee=Dee,Lee=Function.prototype,$ee=Lee.toString;function Vee(t){if(t!=null){try{return $ee.call(t)}catch{}try{return t+""}catch{}}return""}var k$=Vee,Fee=b1,Uee=jee,Bee=as,Gee=k$,zee=/[\\^$.*+?()[\]{}|]/g,qee=/^\[object .+?Constructor\]$/,Hee=Function.prototype,Wee=Object.prototype,Kee=Hee.toString,Yee=Wee.hasOwnProperty,Jee=RegExp("^"+Kee.call(Yee).replace(zee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Xee(t){if(!Bee(t)||Uee(t))return!1;var e=Fee(t)?Jee:qee;return e.test(Gee(t))}var Qee=Xee;function Zee(t,e){return t==null?void 0:t[e]}var ete=Zee,tte=Qee,nte=ete;function rte(t,e){var n=nte(t,e);return tte(n)?n:void 0}var ga=rte,ite=ga,ote=ite(Object,"create"),by=ote,BC=by;function ste(){this.__data__=BC?BC(null):{},this.size=0}var ate=ste;function lte(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ute=lte,cte=by,dte="__lodash_hash_undefined__",fte=Object.prototype,hte=fte.hasOwnProperty;function pte(t){var e=this.__data__;if(cte){var n=e[t];return n===dte?void 0:n}return hte.call(e,t)?e[t]:void 0}var mte=pte,gte=by,yte=Object.prototype,vte=yte.hasOwnProperty;function xte(t){var e=this.__data__;return gte?e[t]!==void 0:vte.call(e,t)}var bte=xte,_te=by,wte="__lodash_hash_undefined__";function Ete(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_te&&e===void 0?wte:e,this}var Tte=Ete,Ste=ate,Ate=ute,Ite=mte,kte=bte,Cte=Tte;function Su(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Su.prototype.clear=Ste;Su.prototype.delete=Ate;Su.prototype.get=Ite;Su.prototype.has=kte;Su.prototype.set=Cte;var Pte=Su;function Nte(){this.__data__=[],this.size=0}var Rte=Nte;function Ote(t,e){return t===e||t!==t&&e!==e}var _1=Ote,Mte=_1;function Dte(t,e){for(var n=t.length;n--;)if(Mte(t[n][0],e))return n;return-1}var _y=Dte,jte=_y,Lte=Array.prototype,$te=Lte.splice;function Vte(t){var e=this.__data__,n=jte(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():$te.call(e,n,1),--this.size,!0}var Fte=Vte,Ute=_y;function Bte(t){var e=this.__data__,n=Ute(e,t);return n<0?void 0:e[n][1]}var Gte=Bte,zte=_y;function qte(t){return zte(this.__data__,t)>-1}var Hte=qte,Wte=_y;function Kte(t,e){var n=this.__data__,r=Wte(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Yte=Kte,Jte=Rte,Xte=Fte,Qte=Gte,Zte=Hte,ene=Yte;function Au(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Au.prototype.clear=Jte;Au.prototype.delete=Xte;Au.prototype.get=Qte;Au.prototype.has=Zte;Au.prototype.set=ene;var wy=Au,tne=ga,nne=fi,rne=tne(nne,"Map"),w1=rne,GC=Pte,ine=wy,one=w1;function sne(){this.size=0,this.__data__={hash:new GC,map:new(one||ine),string:new GC}}var ane=sne;function lne(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var une=lne,cne=une;function dne(t,e){var n=t.__data__;return cne(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Ey=dne,fne=Ey;function hne(t){var e=fne(this,t).delete(t);return this.size-=e?1:0,e}var pne=hne,mne=Ey;function gne(t){return mne(this,t).get(t)}var yne=gne,vne=Ey;function xne(t){return vne(this,t).has(t)}var bne=xne,_ne=Ey;function wne(t,e){var n=_ne(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Ene=wne,Tne=ane,Sne=pne,Ane=yne,Ine=bne,kne=Ene;function Iu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Iu.prototype.clear=Tne;Iu.prototype.delete=Sne;Iu.prototype.get=Ane;Iu.prototype.has=Ine;Iu.prototype.set=kne;var E1=Iu,C$=E1,Cne="Expected a function";function T1(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Cne);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(T1.Cache||C$),n}T1.Cache=C$;var P$=T1;const Pne=Qe(P$);var Nne=P$,Rne=500;function One(t){var e=Nne(t,function(r){return n.size===Rne&&n.clear(),r}),n=e.cache;return e}var Mne=One,Dne=Mne,jne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lne=/\\(\\)?/g,$ne=Dne(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(jne,function(n,r,i,o){e.push(i?o.replace(Lne,"$1"):r||n)}),e}),Vne=$ne;function Fne(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var S1=Fne,zC=Ff,Une=S1,Bne=zn,Gne=Eu,qC=zC?zC.prototype:void 0,HC=qC?qC.toString:void 0;function N$(t){if(typeof t=="string")return t;if(Bne(t))return Une(t,N$)+"";if(Gne(t))return HC?HC.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var zne=N$,qne=zne;function Hne(t){return t==null?"":qne(t)}var R$=Hne,Wne=zn,Kne=x1,Yne=Vne,Jne=R$;function Xne(t,e){return Wne(t)?t:Kne(t,e)?[t]:Yne(Jne(t))}var O$=Xne,Qne=Eu;function Zne(t){if(typeof t=="string"||Qne(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Ty=Zne,ere=O$,tre=Ty;function nre(t,e){e=ere(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[tre(e[n++])];return n&&n==r?t:void 0}var A1=nre,rre=A1;function ire(t,e,n){var r=t==null?void 0:rre(t,e);return r===void 0?n:r}var M$=ire;const tr=Qe(M$);function ore(t){return t==null}var sre=ore;const Ie=Qe(sre);var are=ro,lre=zn,ure=io,cre="[object String]";function dre(t){return typeof t=="string"||!lre(t)&&ure(t)&&are(t)==cre}var fre=dre;const ia=Qe(fre);var D$={exports:{}},tt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1=Symbol.for("react.element"),k1=Symbol.for("react.portal"),Sy=Symbol.for("react.fragment"),Ay=Symbol.for("react.strict_mode"),Iy=Symbol.for("react.profiler"),ky=Symbol.for("react.provider"),Cy=Symbol.for("react.context"),hre=Symbol.for("react.server_context"),Py=Symbol.for("react.forward_ref"),Ny=Symbol.for("react.suspense"),Ry=Symbol.for("react.suspense_list"),Oy=Symbol.for("react.memo"),My=Symbol.for("react.lazy"),pre=Symbol.for("react.offscreen"),j$;j$=Symbol.for("react.module.reference");function Er(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case I1:switch(t=t.type,t){case Sy:case Iy:case Ay:case Ny:case Ry:return t;default:switch(t=t&&t.$$typeof,t){case hre:case Cy:case Py:case My:case Oy:case ky:return t;default:return e}}case k1:return e}}}tt.ContextConsumer=Cy;tt.ContextProvider=ky;tt.Element=I1;tt.ForwardRef=Py;tt.Fragment=Sy;tt.Lazy=My;tt.Memo=Oy;tt.Portal=k1;tt.Profiler=Iy;tt.StrictMode=Ay;tt.Suspense=Ny;tt.SuspenseList=Ry;tt.isAsyncMode=function(){return!1};tt.isConcurrentMode=function(){return!1};tt.isContextConsumer=function(t){return Er(t)===Cy};tt.isContextProvider=function(t){return Er(t)===ky};tt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===I1};tt.isForwardRef=function(t){return Er(t)===Py};tt.isFragment=function(t){return Er(t)===Sy};tt.isLazy=function(t){return Er(t)===My};tt.isMemo=function(t){return Er(t)===Oy};tt.isPortal=function(t){return Er(t)===k1};tt.isProfiler=function(t){return Er(t)===Iy};tt.isStrictMode=function(t){return Er(t)===Ay};tt.isSuspense=function(t){return Er(t)===Ny};tt.isSuspenseList=function(t){return Er(t)===Ry};tt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Sy||t===Iy||t===Ay||t===Ny||t===Ry||t===pre||typeof t=="object"&&t!==null&&(t.$$typeof===My||t.$$typeof===Oy||t.$$typeof===ky||t.$$typeof===Cy||t.$$typeof===Py||t.$$typeof===j$||t.getModuleId!==void 0)};tt.typeOf=Er;D$.exports=tt;var mre=D$.exports,gre=ro,yre=io,vre="[object Number]";function xre(t){return typeof t=="number"||yre(t)&&gre(t)==vre}var L$=xre;const bre=Qe(L$);var _re=L$;function wre(t){return _re(t)&&t!=+t}var Ere=wre;const ku=Qe(Ere);var Pn=function(e){return e===0?0:e>0?1:-1},Os=function(e){return ia(e)&&e.indexOf("%")===e.length-1},oe=function(e){return bre(e)&&!ku(e)},Tre=function(e){return Ie(e)},Bt=function(e){return oe(e)||ia(e)},Sre=0,ya=function(e){var n=++Sre;return"".concat(e||"").concat(n)},Nn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!oe(e)&&!ia(e))return r;var o;if(Os(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return ku(o)&&(o=r),i&&o>n&&(o=n),o},To=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Are=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},_t=function(e,n){return oe(e)&&oe(n)?function(r){return e+r*(n-e)}:function(){return n}};function Am(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):tr(r,e))===n})}var Ire=function(e,n){return oe(e)&&oe(n)?e-n:ia(e)&&ia(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function gl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function kb(t){"@babel/helpers - typeof";return kb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kb(t)}var kre=["viewBox","children"],Cre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],WC=["points","pathLength"],dv={svg:kre,polygon:WC,polyline:WC},C1=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Im=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(B.isValidElement(e)&&(r=e.props),!Tu(r))return null;var i={};return Object.keys(r).forEach(function(o){C1.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},Pre=function(e,n,r){return function(i){return e(n,r,i),null}},oa=function(e,n,r){if(!Tu(e)||kb(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];C1.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=Pre(s,n,r))}),i},Nre=["children"],Rre=["children"];function KC(t,e){if(t==null)return{};var n=Ore(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ore(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cb(t){"@babel/helpers - typeof";return Cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cb(t)}var YC={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Mi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},JC=null,fv=null,P1=function t(e){if(e===JC&&Array.isArray(fv))return fv;var n=[];return B.Children.forEach(e,function(r){Ie(r)||(mre.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),fv=n,JC=e,n};function nr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Mi(i)}):r=[Mi(e)],P1(t).forEach(function(i){var o=tr(i,"type.displayName")||tr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Yn(t,e){var n=nr(t,e);return n&&n[0]}var XC=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!oe(r)||r<=0||!oe(i)||i<=0)},Mre=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Dre=function(e){return e&&e.type&&ia(e.type)&&Mre.indexOf(e.type)>=0},$$=function(e){return e&&Cb(e)==="object"&&"clipDot"in e},jre=function(e,n,r,i){var o,s=(o=dv==null?void 0:dv[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!_e(e)&&(i&&s.includes(n)||Cre.includes(n))||r&&C1.includes(n)},ye=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(B.isValidElement(e)&&(i=e.props),!Tu(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;jre((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},Pb=function t(e,n){if(e===n)return!0;var r=B.Children.count(e);if(r!==B.Children.count(n))return!1;if(r===0)return!0;if(r===1)return QC(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!QC(o,s))return!1}return!0},QC=function(e,n){if(Ie(e)&&Ie(n))return!0;if(!Ie(e)&&!Ie(n)){var r=e.props||{},i=r.children,o=KC(r,Nre),s=n.props||{},a=s.children,l=KC(s,Rre);return i&&a?gl(o,l)&&Pb(i,a):!i&&!a?gl(o,l):!1}return!1},ZC=function(e,n){var r=[],i={};return P1(e).forEach(function(o,s){if(Dre(o))r.push(o);else if(o){var a=Mi(o.type),l=n[a]||{},u=l.handler,c=l.once;if(u&&(!c||!i[a])){var f=u(o,a,s);r.push(f),i[a]=!0}}}),r},Lre=function(e){var n=e&&e.type;return n&&YC[n]?YC[n]:null},$re=function(e,n){return P1(n).indexOf(e)},Vre=["children","width","height","viewBox","className","style","title","desc"];function Nb(){return Nb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nb.apply(this,arguments)}function Fre(t,e){if(t==null)return{};var n=Ure(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ure(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rb(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=Fre(t,Vre),c=i||{width:n,height:r,x:0,y:0},f=ke("recharts-surface",o);return U.createElement("svg",Nb({},ye(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),U.createElement("title",null,a),U.createElement("desc",null,l),e)}var Bre=["children","className"];function Ob(){return Ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ob.apply(this,arguments)}function Gre(t,e){if(t==null)return{};var n=zre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var je=U.forwardRef(function(t,e){var n=t.children,r=t.className,i=Gre(t,Bre),o=ke("recharts-layer",r);return U.createElement("g",Ob({className:o},ye(i,!0),{ref:e}),n)}),Ur=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function qre(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var Hre=qre,Wre=Hre;function Kre(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Wre(t,e,n)}var Yre=Kre,Jre="\\ud800-\\udfff",Xre="\\u0300-\\u036f",Qre="\\ufe20-\\ufe2f",Zre="\\u20d0-\\u20ff",eie=Xre+Qre+Zre,tie="\\ufe0e\\ufe0f",nie="\\u200d",rie=RegExp("["+nie+Jre+eie+tie+"]");function iie(t){return rie.test(t)}var V$=iie;function oie(t){return t.split("")}var sie=oie,F$="\\ud800-\\udfff",aie="\\u0300-\\u036f",lie="\\ufe20-\\ufe2f",uie="\\u20d0-\\u20ff",cie=aie+lie+uie,die="\\ufe0e\\ufe0f",fie="["+F$+"]",Mb="["+cie+"]",Db="\\ud83c[\\udffb-\\udfff]",hie="(?:"+Mb+"|"+Db+")",U$="[^"+F$+"]",B$="(?:\\ud83c[\\udde6-\\uddff]){2}",G$="[\\ud800-\\udbff][\\udc00-\\udfff]",pie="\\u200d",z$=hie+"?",q$="["+die+"]?",mie="(?:"+pie+"(?:"+[U$,B$,G$].join("|")+")"+q$+z$+")*",gie=q$+z$+mie,yie="(?:"+[U$+Mb+"?",Mb,B$,G$,fie].join("|")+")",vie=RegExp(Db+"(?="+Db+")|"+yie+gie,"g");function xie(t){return t.match(vie)||[]}var bie=xie,_ie=sie,wie=V$,Eie=bie;function Tie(t){return wie(t)?Eie(t):_ie(t)}var Sie=Tie,Aie=Yre,Iie=V$,kie=Sie,Cie=R$;function Pie(t){return function(e){e=Cie(e);var n=Iie(e)?kie(e):void 0,r=n?n[0]:e.charAt(0),i=n?Aie(n,1).join(""):e.slice(1);return r[t]()+i}}var Nie=Pie,Rie=Nie,Oie=Rie("toUpperCase"),Mie=Oie;const Dy=Qe(Mie);function ct(t){return function(){return t}}const H$=Math.cos,km=Math.sin,Wr=Math.sqrt,Cm=Math.PI,jy=2*Cm,jb=Math.PI,Lb=2*jb,Es=1e-6,Die=Lb-Es;function W$(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function jie(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return W$;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Lie{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?W$:jie(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,f=a-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Es)if(!(Math.abs(f*l-u*c)>Es)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-s,v=i-a,b=l*l+u*u,x=y*y+v*v,w=Math.sqrt(b),_=Math.sqrt(h),E=o*Math.tan((jb-Math.acos((b+h-x)/(2*w*_)))/2),P=E/_,S=E/w;Math.abs(P-1)>Es&&this._append`L${e+P*c},${n+P*f}`,this._append`A${o},${o},0,0,${+(f*y>c*v)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Es||Math.abs(this._y1-c)>Es)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%Lb+Lb),h>Die?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>Es&&this._append`A${r},${r},0,${+(h>=jb)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function N1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Lie(e)}function R1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function K$(t){this._context=t}K$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ly(t){return new K$(t)}function Y$(t){return t[0]}function J$(t){return t[1]}function X$(t,e){var n=ct(!0),r=null,i=Ly,o=null,s=N1(a);t=typeof t=="function"?t:t===void 0?Y$:ct(t),e=typeof e=="function"?e:e===void 0?J$:ct(e);function a(l){var u,c=(l=R1(l)).length,f,h=!1,y;for(r==null&&(o=i(y=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(y)return o=null,y+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:ct(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:ct(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ct(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Fh(t,e,n){var r=null,i=ct(!0),o=null,s=Ly,a=null,l=N1(u);t=typeof t=="function"?t:t===void 0?Y$:ct(+t),e=typeof e=="function"?e:ct(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?J$:ct(+n);function u(f){var h,y,v,b=(f=R1(f)).length,x,w=!1,_,E=new Array(b),P=new Array(b);for(o==null&&(a=s(_=l())),h=0;h<=b;++h){if(!(h<b&&i(x=f[h],h,f))===w)if(w=!w)y=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=h-1;v>=y;--v)a.point(E[v],P[v]);a.lineEnd(),a.areaEnd()}w&&(E[h]=+t(x,h,f),P[h]=+e(x,h,f),a.point(r?+r(x,h,f):E[h],n?+n(x,h,f):P[h]))}if(_)return a=null,_+""||null}function c(){return X$().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:ct(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ct(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ct(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:ct(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ct(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ct(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ct(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}class Q${constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function $ie(t){return new Q$(t,!0)}function Vie(t){return new Q$(t,!1)}const O1={draw(t,e){const n=Wr(e/Cm);t.moveTo(n,0),t.arc(0,0,n,0,jy)}},Fie={draw(t,e){const n=Wr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Z$=Wr(1/3),Uie=Z$*2,Bie={draw(t,e){const n=Wr(e/Uie),r=n*Z$;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Gie={draw(t,e){const n=Wr(e),r=-n/2;t.rect(r,r,n,n)}},zie=.8908130915292852,e4=km(Cm/10)/km(7*Cm/10),qie=km(jy/10)*e4,Hie=-H$(jy/10)*e4,Wie={draw(t,e){const n=Wr(e*zie),r=qie*n,i=Hie*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=jy*o/5,a=H$(s),l=km(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},hv=Wr(3),Kie={draw(t,e){const n=-Wr(e/(hv*3));t.moveTo(0,n*2),t.lineTo(-hv*n,-n),t.lineTo(hv*n,-n),t.closePath()}},sr=-.5,ar=Wr(3)/2,$b=1/Wr(12),Yie=($b/2+1)*3,Jie={draw(t,e){const n=Wr(e/Yie),r=n/2,i=n*$b,o=r,s=n*$b+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(sr*r-ar*i,ar*r+sr*i),t.lineTo(sr*o-ar*s,ar*o+sr*s),t.lineTo(sr*a-ar*l,ar*a+sr*l),t.lineTo(sr*r+ar*i,sr*i-ar*r),t.lineTo(sr*o+ar*s,sr*s-ar*o),t.lineTo(sr*a+ar*l,sr*l-ar*a),t.closePath()}};function Xie(t,e){let n=null,r=N1(i);t=typeof t=="function"?t:ct(t||O1),e=typeof e=="function"?e:ct(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:ct(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:ct(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Pm(){}function Nm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function t4(t){this._context=t}t4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Qie(t){return new t4(t)}function n4(t){this._context=t}n4.prototype={areaStart:Pm,areaEnd:Pm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Nm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Zie(t){return new n4(t)}function r4(t){this._context=t}r4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Nm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eoe(t){return new r4(t)}function i4(t){this._context=t}i4.prototype={areaStart:Pm,areaEnd:Pm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function toe(t){return new i4(t)}function eP(t){return t<0?-1:1}function tP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(eP(o)+eP(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function nP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function pv(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function Rm(t){this._context=t}Rm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:pv(this,this._t0,nP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,pv(this,nP(this,n=tP(this,t,e)),n);break;default:pv(this,this._t0,n=tP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function o4(t){this._context=new s4(t)}(o4.prototype=Object.create(Rm.prototype)).point=function(t,e){Rm.prototype.point.call(this,e,t)};function s4(t){this._context=t}s4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function noe(t){return new Rm(t)}function roe(t){return new o4(t)}function a4(t){this._context=t}a4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=rP(t),i=rP(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function rP(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function ioe(t){return new a4(t)}function $y(t,e){this._context=t,this._t=e}$y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function ooe(t){return new $y(t,.5)}function soe(t){return new $y(t,0)}function aoe(t){return new $y(t,1)}function Ol(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Vb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function loe(t,e){return t[e]}function uoe(t){const e=[];return e.key=t,e}function coe(){var t=ct([]),e=Vb,n=Ol,r=loe;function i(o){var s=Array.from(t.apply(this,arguments),uoe),a,l=s.length,u=-1,c;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,c=R1(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:ct(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ct(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Vb:typeof o=="function"?o:ct(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Ol,i):n},i}function doe(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Ol(t,e)}}function foe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}Ol(t,e)}}function hoe(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],f=c[r][1]||0,h=c[r-1][1]||0,y=(f-h)/2,v=0;v<a;++v){var b=t[e[v]],x=b[r][1]||0,w=b[r-1][1]||0;y+=x-w}l+=f,u+=y*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Ol(t,e)}}function Rd(t){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rd(t)}var poe=["type","size","sizeType"];function Fb(){return Fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fb.apply(this,arguments)}function iP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iP(Object(n),!0).forEach(function(r){moe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function moe(t,e,n){return e=goe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function goe(t){var e=yoe(t,"string");return Rd(e)=="symbol"?e:e+""}function yoe(t,e){if(Rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function voe(t,e){if(t==null)return{};var n=xoe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xoe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var l4={symbolCircle:O1,symbolCross:Fie,symbolDiamond:Bie,symbolSquare:Gie,symbolStar:Wie,symbolTriangle:Kie,symbolWye:Jie},boe=Math.PI/180,_oe=function(e){var n="symbol".concat(Dy(e));return l4[n]||O1},woe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*boe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Eoe=function(e,n){l4["symbol".concat(Dy(e))]=n},M1=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=voe(e,poe),u=oP(oP({},l),{},{type:r,size:o,sizeType:a}),c=function(){var x=_oe(r),w=Xie().type(x).size(woe(o,a,r));return w()},f=u.className,h=u.cx,y=u.cy,v=ye(u,!0);return h===+h&&y===+y&&o===+o?U.createElement("path",Fb({},v,{className:ke("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(y,")"),d:c()})):null};M1.registerSymbol=Eoe;function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ub.apply(this,arguments)}function sP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Toe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sP(Object(n),!0).forEach(function(r){Od(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Soe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Aoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c4(r.key),r)}}function Ioe(t,e,n){return e&&Aoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function koe(t,e,n){return e=Om(e),Coe(t,u4()?Reflect.construct(e,n||[],Om(t).constructor):e.apply(t,n))}function Coe(t,e){if(e&&(Ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Poe(t)}function Poe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u4=function(){return!!t})()}function Om(t){return Om=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Om(t)}function Noe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bb(t,e)}function Bb(t,e){return Bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Bb(t,e)}function Od(t,e,n){return e=c4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c4(t){var e=Roe(t,"string");return Ml(e)=="symbol"?e:e+""}function Roe(t,e){if(Ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lr=32,D1=function(t){function e(){return Soe(this,e),koe(this,e,arguments)}return Noe(e,t),Ioe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=lr/2,s=lr/6,a=lr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return U.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:lr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return U.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(lr,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return U.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(lr/8,"h").concat(lr,"v").concat(lr*3/4,"h").concat(-lr,"z"),className:"recharts-legend-icon"});if(U.isValidElement(r.legendIcon)){var u=Toe({},r);return delete u.legendIcon,U.cloneElement(r.legendIcon,u)}return U.createElement(M1,{fill:l,cx:o,cy:o,size:lr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:lr,height:lr},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(y,v){var b=y.formatter||l,x=ke(Od(Od({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",y.inactive));if(y.type==="none")return null;var w=_e(y.value)?null:y.value;Ur(!_e(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=y.inactive?u:y.color;return U.createElement("li",Ub({className:x,style:f,key:"legend-item-".concat(v)},oa(r.props,y,v)),U.createElement(Rb,{width:s,height:s,viewBox:c,style:h},r.renderIcon(y)),U.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},b?b(w,y,v):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return U.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(B.PureComponent);Od(D1,"displayName","Legend");Od(D1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Ooe=wy;function Moe(){this.__data__=new Ooe,this.size=0}var Doe=Moe;function joe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Loe=joe;function $oe(t){return this.__data__.get(t)}var Voe=$oe;function Foe(t){return this.__data__.has(t)}var Uoe=Foe,Boe=wy,Goe=w1,zoe=E1,qoe=200;function Hoe(t,e){var n=this.__data__;if(n instanceof Boe){var r=n.__data__;if(!Goe||r.length<qoe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new zoe(r)}return n.set(t,e),this.size=n.size,this}var Woe=Hoe,Koe=wy,Yoe=Doe,Joe=Loe,Xoe=Voe,Qoe=Uoe,Zoe=Woe;function Cu(t){var e=this.__data__=new Koe(t);this.size=e.size}Cu.prototype.clear=Yoe;Cu.prototype.delete=Joe;Cu.prototype.get=Xoe;Cu.prototype.has=Qoe;Cu.prototype.set=Zoe;var d4=Cu,ese="__lodash_hash_undefined__";function tse(t){return this.__data__.set(t,ese),this}var nse=tse;function rse(t){return this.__data__.has(t)}var ise=rse,ose=E1,sse=nse,ase=ise;function Mm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ose;++e<n;)this.add(t[e])}Mm.prototype.add=Mm.prototype.push=sse;Mm.prototype.has=ase;var f4=Mm;function lse(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var h4=lse;function use(t,e){return t.has(e)}var p4=use,cse=f4,dse=h4,fse=p4,hse=1,pse=2;function mse(t,e,n,r,i,o){var s=n&hse,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,y=n&pse?new cse:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var v=t[f],b=e[f];if(r)var x=s?r(b,v,f,e,t,o):r(v,b,f,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(y){if(!dse(e,function(w,_){if(!fse(y,_)&&(v===w||i(v,w,n,r,o)))return y.push(_)})){h=!1;break}}else if(!(v===b||i(v,b,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var m4=mse,gse=fi,yse=gse.Uint8Array,vse=yse;function xse(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var bse=xse;function _se(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var j1=_se,aP=Ff,lP=vse,wse=_1,Ese=m4,Tse=bse,Sse=j1,Ase=1,Ise=2,kse="[object Boolean]",Cse="[object Date]",Pse="[object Error]",Nse="[object Map]",Rse="[object Number]",Ose="[object RegExp]",Mse="[object Set]",Dse="[object String]",jse="[object Symbol]",Lse="[object ArrayBuffer]",$se="[object DataView]",uP=aP?aP.prototype:void 0,mv=uP?uP.valueOf:void 0;function Vse(t,e,n,r,i,o,s){switch(n){case $se:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Lse:return!(t.byteLength!=e.byteLength||!o(new lP(t),new lP(e)));case kse:case Cse:case Rse:return wse(+t,+e);case Pse:return t.name==e.name&&t.message==e.message;case Ose:case Dse:return t==e+"";case Nse:var a=Tse;case Mse:var l=r&Ase;if(a||(a=Sse),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=Ise,s.set(t,e);var c=Ese(a(t),a(e),r,i,o,s);return s.delete(t),c;case jse:if(mv)return mv.call(t)==mv.call(e)}return!1}var Fse=Vse;function Use(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var g4=Use,Bse=g4,Gse=zn;function zse(t,e,n){var r=e(t);return Gse(t)?r:Bse(r,n(t))}var qse=zse;function Hse(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var Wse=Hse;function Kse(){return[]}var Yse=Kse,Jse=Wse,Xse=Yse,Qse=Object.prototype,Zse=Qse.propertyIsEnumerable,cP=Object.getOwnPropertySymbols,eae=cP?function(t){return t==null?[]:(t=Object(t),Jse(cP(t),function(e){return Zse.call(t,e)}))}:Xse,tae=eae;function nae(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var rae=nae,iae=ro,oae=io,sae="[object Arguments]";function aae(t){return oae(t)&&iae(t)==sae}var lae=aae,dP=lae,uae=io,y4=Object.prototype,cae=y4.hasOwnProperty,dae=y4.propertyIsEnumerable,fae=dP(function(){return arguments}())?dP:function(t){return uae(t)&&cae.call(t,"callee")&&!dae.call(t,"callee")},L1=fae,Dm={exports:{}};function hae(){return!1}var pae=hae;Dm.exports;(function(t,e){var n=fi,r=pae,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Dm,Dm.exports);var v4=Dm.exports,mae=9007199254740991,gae=/^(?:0|[1-9]\d*)$/;function yae(t,e){var n=typeof t;return e=e??mae,!!e&&(n=="number"||n!="symbol"&&gae.test(t))&&t>-1&&t%1==0&&t<e}var $1=yae,vae=9007199254740991;function xae(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=vae}var V1=xae,bae=ro,_ae=V1,wae=io,Eae="[object Arguments]",Tae="[object Array]",Sae="[object Boolean]",Aae="[object Date]",Iae="[object Error]",kae="[object Function]",Cae="[object Map]",Pae="[object Number]",Nae="[object Object]",Rae="[object RegExp]",Oae="[object Set]",Mae="[object String]",Dae="[object WeakMap]",jae="[object ArrayBuffer]",Lae="[object DataView]",$ae="[object Float32Array]",Vae="[object Float64Array]",Fae="[object Int8Array]",Uae="[object Int16Array]",Bae="[object Int32Array]",Gae="[object Uint8Array]",zae="[object Uint8ClampedArray]",qae="[object Uint16Array]",Hae="[object Uint32Array]",mt={};mt[$ae]=mt[Vae]=mt[Fae]=mt[Uae]=mt[Bae]=mt[Gae]=mt[zae]=mt[qae]=mt[Hae]=!0;mt[Eae]=mt[Tae]=mt[jae]=mt[Sae]=mt[Lae]=mt[Aae]=mt[Iae]=mt[kae]=mt[Cae]=mt[Pae]=mt[Nae]=mt[Rae]=mt[Oae]=mt[Mae]=mt[Dae]=!1;function Wae(t){return wae(t)&&_ae(t.length)&&!!mt[bae(t)]}var Kae=Wae;function Yae(t){return function(e){return t(e)}}var x4=Yae,jm={exports:{}};jm.exports;(function(t,e){var n=A$,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(jm,jm.exports);var Jae=jm.exports,Xae=Kae,Qae=x4,fP=Jae,hP=fP&&fP.isTypedArray,Zae=hP?Qae(hP):Xae,b4=Zae,ele=rae,tle=L1,nle=zn,rle=v4,ile=$1,ole=b4,sle=Object.prototype,ale=sle.hasOwnProperty;function lle(t,e){var n=nle(t),r=!n&&tle(t),i=!n&&!r&&rle(t),o=!n&&!r&&!i&&ole(t),s=n||r||i||o,a=s?ele(t.length,String):[],l=a.length;for(var u in t)(e||ale.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||ile(u,l)))&&a.push(u);return a}var ule=lle,cle=Object.prototype;function dle(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||cle;return t===n}var fle=dle;function hle(t,e){return function(n){return t(e(n))}}var _4=hle,ple=_4,mle=ple(Object.keys,Object),gle=mle,yle=fle,vle=gle,xle=Object.prototype,ble=xle.hasOwnProperty;function _le(t){if(!yle(t))return vle(t);var e=[];for(var n in Object(t))ble.call(t,n)&&n!="constructor"&&e.push(n);return e}var wle=_le,Ele=b1,Tle=V1;function Sle(t){return t!=null&&Tle(t.length)&&!Ele(t)}var Uf=Sle,Ale=ule,Ile=wle,kle=Uf;function Cle(t){return kle(t)?Ale(t):Ile(t)}var Vy=Cle,Ple=qse,Nle=tae,Rle=Vy;function Ole(t){return Ple(t,Rle,Nle)}var Mle=Ole,pP=Mle,Dle=1,jle=Object.prototype,Lle=jle.hasOwnProperty;function $le(t,e,n,r,i,o){var s=n&Dle,a=pP(t),l=a.length,u=pP(e),c=u.length;if(l!=c&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:Lle.call(e,h)))return!1}var y=o.get(t),v=o.get(e);if(y&&v)return y==e&&v==t;var b=!0;o.set(t,e),o.set(e,t);for(var x=s;++f<l;){h=a[f];var w=t[h],_=e[h];if(r)var E=s?r(_,w,h,e,t,o):r(w,_,h,t,e,o);if(!(E===void 0?w===_||i(w,_,n,r,o):E)){b=!1;break}x||(x=h=="constructor")}if(b&&!x){var P=t.constructor,S=e.constructor;P!=S&&"constructor"in t&&"constructor"in e&&!(typeof P=="function"&&P instanceof P&&typeof S=="function"&&S instanceof S)&&(b=!1)}return o.delete(t),o.delete(e),b}var Vle=$le,Fle=ga,Ule=fi,Ble=Fle(Ule,"DataView"),Gle=Ble,zle=ga,qle=fi,Hle=zle(qle,"Promise"),Wle=Hle,Kle=ga,Yle=fi,Jle=Kle(Yle,"Set"),w4=Jle,Xle=ga,Qle=fi,Zle=Xle(Qle,"WeakMap"),eue=Zle,Gb=Gle,zb=w1,qb=Wle,Hb=w4,Wb=eue,E4=ro,Pu=k$,mP="[object Map]",tue="[object Object]",gP="[object Promise]",yP="[object Set]",vP="[object WeakMap]",xP="[object DataView]",nue=Pu(Gb),rue=Pu(zb),iue=Pu(qb),oue=Pu(Hb),sue=Pu(Wb),Ts=E4;(Gb&&Ts(new Gb(new ArrayBuffer(1)))!=xP||zb&&Ts(new zb)!=mP||qb&&Ts(qb.resolve())!=gP||Hb&&Ts(new Hb)!=yP||Wb&&Ts(new Wb)!=vP)&&(Ts=function(t){var e=E4(t),n=e==tue?t.constructor:void 0,r=n?Pu(n):"";if(r)switch(r){case nue:return xP;case rue:return mP;case iue:return gP;case oue:return yP;case sue:return vP}return e});var aue=Ts,gv=d4,lue=m4,uue=Fse,cue=Vle,bP=aue,_P=zn,wP=v4,due=b4,fue=1,EP="[object Arguments]",TP="[object Array]",Uh="[object Object]",hue=Object.prototype,SP=hue.hasOwnProperty;function pue(t,e,n,r,i,o){var s=_P(t),a=_P(e),l=s?TP:bP(t),u=a?TP:bP(e);l=l==EP?Uh:l,u=u==EP?Uh:u;var c=l==Uh,f=u==Uh,h=l==u;if(h&&wP(t)){if(!wP(e))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new gv),s||due(t)?lue(t,e,n,r,i,o):uue(t,e,l,n,r,i,o);if(!(n&fue)){var y=c&&SP.call(t,"__wrapped__"),v=f&&SP.call(e,"__wrapped__");if(y||v){var b=y?t.value():t,x=v?e.value():e;return o||(o=new gv),i(b,x,n,r,o)}}return h?(o||(o=new gv),cue(t,e,n,r,i,o)):!1}var mue=pue,gue=mue,AP=io;function T4(t,e,n,r,i){return t===e?!0:t==null||e==null||!AP(t)&&!AP(e)?t!==t&&e!==e:gue(t,e,n,r,T4,i)}var F1=T4,yue=d4,vue=F1,xue=1,bue=2;function _ue(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new yue;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?vue(c,u,xue|bue,r,f):h))return!1}}return!0}var wue=_ue,Eue=as;function Tue(t){return t===t&&!Eue(t)}var S4=Tue,Sue=S4,Aue=Vy;function Iue(t){for(var e=Aue(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Sue(i)]}return e}var kue=Iue;function Cue(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var A4=Cue,Pue=wue,Nue=kue,Rue=A4;function Oue(t){var e=Nue(t);return e.length==1&&e[0][2]?Rue(e[0][0],e[0][1]):function(n){return n===t||Pue(n,t,e)}}var Mue=Oue;function Due(t,e){return t!=null&&e in Object(t)}var jue=Due,Lue=O$,$ue=L1,Vue=zn,Fue=$1,Uue=V1,Bue=Ty;function Gue(t,e,n){e=Lue(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=Bue(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Uue(i)&&Fue(s,i)&&(Vue(t)||$ue(t)))}var zue=Gue,que=jue,Hue=zue;function Wue(t,e){return t!=null&&Hue(t,e,que)}var Kue=Wue,Yue=F1,Jue=M$,Xue=Kue,Que=x1,Zue=S4,ece=A4,tce=Ty,nce=1,rce=2;function ice(t,e){return Que(t)&&Zue(e)?ece(tce(t),e):function(n){var r=Jue(n,t);return r===void 0&&r===e?Xue(n,t):Yue(e,r,nce|rce)}}var oce=ice;function sce(t){return t}var Nu=sce;function ace(t){return function(e){return e==null?void 0:e[t]}}var lce=ace,uce=A1;function cce(t){return function(e){return uce(e,t)}}var dce=cce,fce=lce,hce=dce,pce=x1,mce=Ty;function gce(t){return pce(t)?fce(mce(t)):hce(t)}var yce=gce,vce=Mue,xce=oce,bce=Nu,_ce=zn,wce=yce;function Ece(t){return typeof t=="function"?t:t==null?bce:typeof t=="object"?_ce(t)?xce(t[0],t[1]):vce(t):wce(t)}var hi=Ece;function Tce(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var I4=Tce;function Sce(t){return t!==t}var Ace=Sce;function Ice(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var kce=Ice,Cce=I4,Pce=Ace,Nce=kce;function Rce(t,e,n){return e===e?Nce(t,e,n):Cce(t,Pce,n)}var Oce=Rce,Mce=Oce;function Dce(t,e){var n=t==null?0:t.length;return!!n&&Mce(t,e,0)>-1}var jce=Dce;function Lce(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var $ce=Lce;function Vce(){}var Fce=Vce,yv=w4,Uce=Fce,Bce=j1,Gce=1/0,zce=yv&&1/Bce(new yv([,-0]))[1]==Gce?function(t){return new yv(t)}:Uce,qce=zce,Hce=f4,Wce=jce,Kce=$ce,Yce=p4,Jce=qce,Xce=j1,Qce=200;function Zce(t,e,n){var r=-1,i=Wce,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=Kce;else if(o>=Qce){var u=e?null:Jce(t);if(u)return Xce(u);s=!1,i=Yce,l=new Hce}else l=e?[]:a;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(c)}else i(l,f,n)||(l!==a&&l.push(f),a.push(c))}return a}var ede=Zce,tde=hi,nde=ede;function rde(t,e){return t&&t.length?nde(t,tde(e)):[]}var ide=rde;const IP=Qe(ide);function k4(t,e,n){return e===!0?IP(t,n):_e(e)?IP(t,e):t}function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}var ode=["ref"];function kP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(n),!0).forEach(function(r){Fy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P4(r.key),r)}}function ade(t,e,n){return e&&CP(t.prototype,e),n&&CP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lde(t,e,n){return e=Lm(e),ude(t,C4()?Reflect.construct(e,n||[],Lm(t).constructor):e.apply(t,n))}function ude(t,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cde(t)}function cde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C4=function(){return!!t})()}function Lm(t){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lm(t)}function dde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kb(t,e)}function Kb(t,e){return Kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kb(t,e)}function Fy(t,e,n){return e=P4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P4(t){var e=fde(t,"string");return Dl(e)=="symbol"?e:e+""}function fde(t,e){if(Dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hde(t,e){if(t==null)return{};var n=pde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mde(t){return t.value}function gde(t,e){if(U.isValidElement(t))return U.cloneElement(t,e);if(typeof t=="function")return U.createElement(t,e);e.ref;var n=hde(e,ode);return U.createElement(D1,n)}var PP=1,ii=function(t){function e(){var n;sde(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=lde(this,e,[].concat(i)),Fy(n,"lastBoundingBox",{width:-1,height:-1}),n}return dde(e,t),ade(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>PP||Math.abs(i.height-this.lastBoundingBox.height)>PP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?yi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var y=this.getBBoxSnapshot();f={left:((u||0)-y.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var v=this.getBBoxSnapshot();h={top:((c||0)-v.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return yi(yi({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=yi(yi({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return U.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(y){r.wrapperNode=y}},gde(o,yi(yi({},this.props),{},{payload:k4(c,u,mde)})))}}],[{key:"getWithHeight",value:function(r,i){var o=yi(yi({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&oe(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(B.PureComponent);Fy(ii,"displayName","Legend");Fy(ii,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var NP=Ff,yde=L1,vde=zn,RP=NP?NP.isConcatSpreadable:void 0;function xde(t){return vde(t)||yde(t)||!!(RP&&t&&t[RP])}var bde=xde,_de=g4,wde=bde;function N4(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=wde),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?N4(a,e-1,n,r,i):_de(i,a):r||(i[i.length]=a)}return i}var R4=N4;function Ede(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var Tde=Ede,Sde=Tde,Ade=Sde(),Ide=Ade,kde=Ide,Cde=Vy;function Pde(t,e){return t&&kde(t,e,Cde)}var O4=Pde,Nde=Uf;function Rde(t,e){return function(n,r){if(n==null)return n;if(!Nde(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Ode=Rde,Mde=O4,Dde=Ode,jde=Dde(Mde),U1=jde,Lde=U1,$de=Uf;function Vde(t,e){var n=-1,r=$de(t)?Array(t.length):[];return Lde(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var M4=Vde;function Fde(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Ude=Fde,OP=Eu;function Bde(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=OP(t),s=e!==void 0,a=e===null,l=e===e,u=OP(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var Gde=Bde,zde=Gde;function qde(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=zde(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Hde=qde,vv=S1,Wde=A1,Kde=hi,Yde=M4,Jde=Ude,Xde=x4,Qde=Hde,Zde=Nu,efe=zn;function tfe(t,e,n){e.length?e=vv(e,function(o){return efe(o)?function(s){return Wde(s,o.length===1?o[0]:o)}:o}):e=[Zde];var r=-1;e=vv(e,Xde(Kde));var i=Yde(t,function(o,s,a){var l=vv(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return Jde(i,function(o,s){return Qde(o,s,n)})}var nfe=tfe;function rfe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var ife=rfe,ofe=ife,MP=Math.max;function sfe(t,e,n){return e=MP(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=MP(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),ofe(t,this,a)}}var afe=sfe;function lfe(t){return function(){return t}}var ufe=lfe,cfe=ga,dfe=function(){try{var t=cfe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),D4=dfe,ffe=ufe,DP=D4,hfe=Nu,pfe=DP?function(t,e){return DP(t,"toString",{configurable:!0,enumerable:!1,value:ffe(e),writable:!0})}:hfe,mfe=pfe,gfe=800,yfe=16,vfe=Date.now;function xfe(t){var e=0,n=0;return function(){var r=vfe(),i=yfe-(r-n);if(n=r,i>0){if(++e>=gfe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var bfe=xfe,_fe=mfe,wfe=bfe,Efe=wfe(_fe),Tfe=Efe,Sfe=Nu,Afe=afe,Ife=Tfe;function kfe(t,e){return Ife(Afe(t,e,Sfe),t+"")}var Cfe=kfe,Pfe=_1,Nfe=Uf,Rfe=$1,Ofe=as;function Mfe(t,e,n){if(!Ofe(n))return!1;var r=typeof e;return(r=="number"?Nfe(n)&&Rfe(e,n.length):r=="string"&&e in n)?Pfe(n[e],t):!1}var Uy=Mfe,Dfe=R4,jfe=nfe,Lfe=Cfe,jP=Uy,$fe=Lfe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&jP(t,e[0],e[1])?e=[]:n>2&&jP(e[0],e[1],e[2])&&(e=[e[0]]),jfe(t,Dfe(e,1),[])}),Vfe=$fe;const B1=Qe(Vfe);function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function Yb(){return Yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yb.apply(this,arguments)}function Ffe(t,e){return zfe(t)||Gfe(t,e)||Bfe(t,e)||Ufe()}function Ufe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bfe(t,e){if(t){if(typeof t=="string")return LP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LP(t,e)}}function LP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function zfe(t){if(Array.isArray(t))return t}function $P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$P(Object(n),!0).forEach(function(r){qfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$P(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qfe(t,e,n){return e=Hfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hfe(t){var e=Wfe(t,"string");return Md(e)=="symbol"?e:e+""}function Wfe(t,e){if(Md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kfe(t){return Array.isArray(t)&&Bt(t[0])&&Bt(t[1])?t.join(" ~ "):t}var Yfe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,y=e.wrapperClassName,v=e.labelClassName,b=e.label,x=e.labelFormatter,w=e.accessibilityLayer,_=w===void 0?!1:w,E=function(){if(c&&c.length){var M={padding:0,margin:0},D=(h?B1(c,h):c).map(function(z,F){if(z.type==="none")return null;var j=xv({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},a),V=z.formatter||f||Kfe,L=z.value,G=z.name,q=L,J=G;if(V&&q!=null&&J!=null){var H=V(L,G,z,F,c);if(Array.isArray(H)){var W=Ffe(H,2);q=W[0],J=W[1]}else q=H}return U.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(F),style:j},Bt(J)?U.createElement("span",{className:"recharts-tooltip-item-name"},J):null,Bt(J)?U.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,U.createElement("span",{className:"recharts-tooltip-item-value"},q),U.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return U.createElement("ul",{className:"recharts-tooltip-item-list",style:M},D)}return null},P=xv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=xv({margin:0},u),C=!Ie(b),I=C?b:"",T=ke("recharts-default-tooltip",y),k=ke("recharts-tooltip-label",v);C&&x&&c!==void 0&&c!==null&&(I=x(b,c));var N=_?{role:"status","aria-live":"assertive"}:{};return U.createElement("div",Yb({className:T,style:P},N),U.createElement("p",{className:k,style:S},U.isValidElement(I)?I:"".concat(I)),E())};function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function Bh(t,e,n){return e=Jfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jfe(t){var e=Xfe(t,"string");return Dd(e)=="symbol"?e:e+""}function Xfe(t,e){if(Dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cc="recharts-tooltip-wrapper",Qfe={visibility:"hidden"};function Zfe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ke(cc,Bh(Bh(Bh(Bh({},"".concat(cc,"-right"),oe(n)&&e&&oe(e.x)&&n>=e.x),"".concat(cc,"-left"),oe(n)&&e&&oe(e.x)&&n<e.x),"".concat(cc,"-bottom"),oe(r)&&e&&oe(e.y)&&r>=e.y),"".concat(cc,"-top"),oe(r)&&e&&oe(e.y)&&r<e.y))}function VP(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&oe(o[r]))return o[r];var c=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?c:f;if(s[r]){var h=c,y=l[r];return h<y?Math.max(f,l[r]):Math.max(c,l[r])}var v=f+a,b=l[r]+u;return v>b?Math.max(c,l[r]):Math.max(f,l[r])}function ehe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function the(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,f;return s.height>0&&s.width>0&&n?(c=VP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=VP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=ehe({translateX:c,translateY:f,useTranslate3d:a})):u=Qfe,{cssProperties:u,cssClasses:Zfe({translateX:c,translateY:f,coordinate:n})}}function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function FP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FP(Object(n),!0).forEach(function(r){Xb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L4(r.key),r)}}function ihe(t,e,n){return e&&rhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ohe(t,e,n){return e=$m(e),she(t,j4()?Reflect.construct(e,n||[],$m(t).constructor):e.apply(t,n))}function she(t,e){if(e&&(jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ahe(t)}function ahe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j4=function(){return!!t})()}function $m(t){return $m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$m(t)}function lhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jb(t,e)}function Jb(t,e){return Jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jb(t,e)}function Xb(t,e,n){return e=L4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L4(t){var e=uhe(t,"string");return jl(e)=="symbol"?e:e+""}function uhe(t,e){if(jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var BP=1,che=function(t){function e(){var n;nhe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ohe(this,e,[].concat(i)),Xb(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Xb(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return lhe(e,t),ihe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>BP||Math.abs(r.height-this.state.lastBoundingBox.height)>BP)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,y=i.offset,v=i.position,b=i.reverseDirection,x=i.useTranslate3d,w=i.viewBox,_=i.wrapperStyle,E=the({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:y,position:v,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:w}),P=E.cssClasses,S=E.cssProperties,C=UP(UP({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return U.createElement("div",{tabIndex:-1,className:P,style:C,ref:function(T){r.wrapperNode=T}},u)}}])}(B.PureComponent),dhe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},oo={isSsr:dhe()};function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){G1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V4(r.key),r)}}function phe(t,e,n){return e&&hhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mhe(t,e,n){return e=Vm(e),ghe(t,$4()?Reflect.construct(e,n||[],Vm(t).constructor):e.apply(t,n))}function ghe(t,e){if(e&&(Ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yhe(t)}function yhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($4=function(){return!!t})()}function Vm(t){return Vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vm(t)}function vhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qb(t,e)}function Qb(t,e){return Qb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qb(t,e)}function G1(t,e,n){return e=V4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V4(t){var e=xhe(t,"string");return Ll(e)=="symbol"?e:e+""}function xhe(t,e){if(Ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bhe(t){return t.dataKey}function _he(t,e){return U.isValidElement(t)?U.cloneElement(t,e):typeof t=="function"?U.createElement(t,e):U.createElement(Yfe,e)}var on=function(t){function e(){return fhe(this,e),mhe(this,e,arguments)}return vhe(e,t),phe(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,y=i.offset,v=i.payload,b=i.payloadUniqBy,x=i.position,w=i.reverseDirection,_=i.useTranslate3d,E=i.viewBox,P=i.wrapperStyle,S=v??[];f&&S.length&&(S=k4(v.filter(function(I){return I.value!=null&&(I.hide!==!0||r.props.includeHidden)}),b,bhe));var C=S.length>0;return U.createElement(che,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:C,offset:y,position:x,reverseDirection:w,useTranslate3d:_,viewBox:E,wrapperStyle:P},_he(u,zP(zP({},this.props),{},{payload:S})))}}])}(B.PureComponent);G1(on,"displayName","Tooltip");G1(on,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!oo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var whe=fi,Ehe=function(){return whe.Date.now()},The=Ehe,She=/\s/;function Ahe(t){for(var e=t.length;e--&&She.test(t.charAt(e)););return e}var Ihe=Ahe,khe=Ihe,Che=/^\s+/;function Phe(t){return t&&t.slice(0,khe(t)+1).replace(Che,"")}var Nhe=Phe,Rhe=Nhe,qP=as,Ohe=Eu,HP=NaN,Mhe=/^[-+]0x[0-9a-f]+$/i,Dhe=/^0b[01]+$/i,jhe=/^0o[0-7]+$/i,Lhe=parseInt;function $he(t){if(typeof t=="number")return t;if(Ohe(t))return HP;if(qP(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=qP(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Rhe(t);var n=Dhe.test(t);return n||jhe.test(t)?Lhe(t.slice(2),n?2:8):Mhe.test(t)?HP:+t}var F4=$he,Vhe=as,bv=The,WP=F4,Fhe="Expected a function",Uhe=Math.max,Bhe=Math.min;function Ghe(t,e,n){var r,i,o,s,a,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Fhe);e=WP(e)||0,Vhe(n)&&(c=!!n.leading,f="maxWait"in n,o=f?Uhe(WP(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function y(C){var I=r,T=i;return r=i=void 0,u=C,s=t.apply(T,I),s}function v(C){return u=C,a=setTimeout(w,e),c?y(C):s}function b(C){var I=C-l,T=C-u,k=e-I;return f?Bhe(k,o-T):k}function x(C){var I=C-l,T=C-u;return l===void 0||I>=e||I<0||f&&T>=o}function w(){var C=bv();if(x(C))return _(C);a=setTimeout(w,b(C))}function _(C){return a=void 0,h&&r?y(C):(r=i=void 0,s)}function E(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function P(){return a===void 0?s:_(bv())}function S(){var C=bv(),I=x(C);if(r=arguments,i=this,l=C,I){if(a===void 0)return v(l);if(f)return clearTimeout(a),a=setTimeout(w,e),y(l)}return a===void 0&&(a=setTimeout(w,e)),s}return S.cancel=E,S.flush=P,S}var zhe=Ghe,qhe=zhe,Hhe=as,Whe="Expected a function";function Khe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Whe);return Hhe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),qhe(t,e,{leading:r,maxWait:e,trailing:i})}var Yhe=Khe;const U4=Qe(Yhe);function jd(t){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jd(t)}function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){Jhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jhe(t,e,n){return e=Xhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xhe(t){var e=Qhe(t,"string");return jd(e)=="symbol"?e:e+""}function Qhe(t,e){if(jd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zhe(t,e){return rpe(t)||npe(t,e)||tpe(t,e)||epe()}function epe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tpe(t,e){if(t){if(typeof t=="string")return YP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YP(t,e)}}function YP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function npe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function rpe(t){if(Array.isArray(t))return t}var zo=B.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,y=t.children,v=t.debounce,b=v===void 0?0:v,x=t.id,w=t.className,_=t.onResize,E=t.style,P=E===void 0?{}:E,S=B.useRef(null),C=B.useRef();C.current=_,B.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var I=B.useState({containerWidth:i.width,containerHeight:i.height}),T=Zhe(I,2),k=T[0],N=T[1],O=B.useCallback(function(D,z){N(function(F){var j=Math.round(D),V=Math.round(z);return F.containerWidth===j&&F.containerHeight===V?F:{containerWidth:j,containerHeight:V}})},[]);B.useEffect(function(){var D=function(G){var q,J=G[0].contentRect,H=J.width,W=J.height;O(H,W),(q=C.current)===null||q===void 0||q.call(C,H,W)};b>0&&(D=U4(D,b,{trailing:!0,leading:!1}));var z=new ResizeObserver(D),F=S.current.getBoundingClientRect(),j=F.width,V=F.height;return O(j,V),z.observe(S.current),function(){z.disconnect()}},[O,b]);var M=B.useMemo(function(){var D=k.containerWidth,z=k.containerHeight;if(D<0||z<0)return null;Ur(Os(s)||Os(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Ur(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=Os(s)?D:s,j=Os(l)?z:l;n&&n>0&&(F?j=F/n:j&&(F=j*n),h&&j>h&&(j=h)),Ur(F>0||j>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,j,s,l,c,f,n);var V=!Array.isArray(y)&&Mi(y.type).endsWith("Chart");return U.Children.map(y,function(L){return U.isValidElement(L)?B.cloneElement(L,Gh({width:F,height:j},V?{style:Gh({height:"100%",width:"100%",maxHeight:j,maxWidth:F},L.props.style)}:{})):L})},[n,y,l,h,f,c,k,s]);return U.createElement("div",{id:x?"".concat(x):void 0,className:ke("recharts-responsive-container",w),style:Gh(Gh({},P),{},{width:s,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:S},M)}),va=function(e){return null};va.displayName="Cell";function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){ipe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ipe(t,e,n){return e=ope(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ope(t){var e=spe(t,"string");return Ld(e)=="symbol"?e:e+""}function spe(t,e){if(Ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ka={widthCache:{},cacheCount:0},ape=2e3,lpe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},XP="recharts_measurement_span";function upe(t){var e=Zb({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var qc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||oo.isSsr)return{width:0,height:0};var r=upe(n),i=JSON.stringify({text:e,copyStyle:r});if(ka.widthCache[i])return ka.widthCache[i];try{var o=document.getElementById(XP);o||(o=document.createElement("span"),o.setAttribute("id",XP),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=Zb(Zb({},lpe),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return ka.widthCache[i]=l,++ka.cacheCount>ape&&(ka.cacheCount=0,ka.widthCache={}),l}catch{return{width:0,height:0}}},cpe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function $d(t){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$d(t)}function Fm(t,e){return ppe(t)||hpe(t,e)||fpe(t,e)||dpe()}function dpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fpe(t,e){if(t){if(typeof t=="string")return QP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QP(t,e)}}function QP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function ppe(t){if(Array.isArray(t))return t}function mpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ype(r.key),r)}}function gpe(t,e,n){return e&&ZP(t.prototype,e),n&&ZP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ype(t){var e=vpe(t,"string");return $d(e)=="symbol"?e:e+""}function vpe(t,e){if($d(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($d(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,tN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xpe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,bpe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,B4={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_pe=Object.keys(B4),Za="NaN";function wpe(t,e){return t*B4[e]}var zh=function(){function t(e,n){mpe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!xpe.test(n)&&(this.num=NaN,this.unit=""),_pe.includes(n)&&(this.num=wpe(e,n),this.unit="px")}return gpe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=bpe.exec(n))!==null&&r!==void 0?r:[],o=Fm(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function G4(t){if(t.includes(Za))return Za;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=eN.exec(e))!==null&&n!==void 0?n:[],i=Fm(r,4),o=i[1],s=i[2],a=i[3],l=zh.parse(o??""),u=zh.parse(a??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Za;e=e.replace(eN,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=tN.exec(e))!==null&&f!==void 0?f:[],y=Fm(h,4),v=y[1],b=y[2],x=y[3],w=zh.parse(v??""),_=zh.parse(x??""),E=b==="+"?w.add(_):w.subtract(_);if(E.isNaN())return Za;e=e.replace(tN,E.toString())}return e}var nN=/\(([^()]*)\)/;function Epe(t){for(var e=t;e.includes("(");){var n=nN.exec(e),r=Fm(n,2),i=r[1];e=e.replace(nN,G4(i))}return e}function Tpe(t){var e=t.replace(/\s+/g,"");return e=Epe(e),e=G4(e),e}function Spe(t){try{return Tpe(t)}catch{return Za}}function _v(t){var e=Spe(t.slice(5,-1));return e===Za?"":e}var Ape=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ipe=["dx","dy","angle","className","breakAll"];function e_(){return e_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e_.apply(this,arguments)}function rN(t,e){if(t==null)return{};var n=kpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function iN(t,e){return Rpe(t)||Npe(t,e)||Ppe(t,e)||Cpe()}function Cpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ppe(t,e){if(t){if(typeof t=="string")return oN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oN(t,e)}}function oN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Npe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Rpe(t){if(Array.isArray(t))return t}var z4=/[ \f\n\r\t\v\u2028\u2029]+/,q4=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Ie(n)||(r?o=n.toString().split(""):o=n.toString().split(z4));var s=o.map(function(l){return{word:l,width:qc(l,i).width}}),a=r?0:qc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Ope=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=oe(s),f=a,h=function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return F.reduce(function(j,V){var L=V.word,G=V.width,q=j[j.length-1];if(q&&(i==null||o||q.width+G+r<Number(i)))q.words.push(L),q.width+=G+r;else{var J={words:[L],width:G};j.push(J)}return j},[])},y=h(n),v=function(F){return F.reduce(function(j,V){return j.width>V.width?j:V})};if(!c)return y;for(var b="",x=function(F){var j=f.slice(0,F),V=q4({breakAll:u,style:l,children:j+b}).wordsWithComputedWidth,L=h(V),G=L.length>s||v(L).width>Number(i);return[G,L]},w=0,_=f.length-1,E=0,P;w<=_&&E<=f.length-1;){var S=Math.floor((w+_)/2),C=S-1,I=x(C),T=iN(I,2),k=T[0],N=T[1],O=x(S),M=iN(O,1),D=M[0];if(!k&&!D&&(w=S+1),k&&D&&(_=S-1),!k&&D){P=N;break}E++}return P||y},sN=function(e){var n=Ie(e)?[]:e.toString().split(z4);return[{words:n}]},Mpe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!oo.isSsr){var l,u,c=q4({breakAll:s,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return sN(i);return Ope({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return sN(i)},aN="#808080",sa=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,y=h===void 0?"start":h,v=e.verticalAnchor,b=v===void 0?"end":v,x=e.fill,w=x===void 0?aN:x,_=rN(e,Ape),E=B.useMemo(function(){return Mpe({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),P=_.dx,S=_.dy,C=_.angle,I=_.className,T=_.breakAll,k=rN(_,Ipe);if(!Bt(r)||!Bt(o))return null;var N=r+(oe(P)?P:0),O=o+(oe(S)?S:0),M;switch(b){case"start":M=_v("calc(".concat(u,")"));break;case"middle":M=_v("calc(".concat((E.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:M=_v("calc(".concat(E.length-1," * -").concat(a,")"));break}var D=[];if(f){var z=E[0].width,F=_.width;D.push("scale(".concat((oe(F)?F/z:1)/z,")"))}return C&&D.push("rotate(".concat(C,", ").concat(N,", ").concat(O,")")),D.length&&(k.transform=D.join(" ")),U.createElement("text",e_({},ye(k,!0),{x:N,y:O,className:ke("recharts-text",I),textAnchor:y,fill:w.includes("url")?aN:w}),E.map(function(j,V){var L=j.words.join(T?"":" ");return U.createElement("tspan",{x:N,dy:V===0?M:a,key:"".concat(L,"-").concat(V)},L)}))};function qo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Dpe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function z1(t){let e,n,r;t.length!==2?(e=qo,n=(a,l)=>qo(t(a),l),r=(a,l)=>t(a)-l):(e=t===qo||t===Dpe?t:jpe,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function jpe(){return 0}function H4(t){return t===null?NaN:+t}function*Lpe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const $pe=z1(qo),Bf=$pe.right;z1(H4).center;class lN extends Map{constructor(e,n=Upe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(uN(this,e))}has(e){return super.has(uN(this,e))}set(e,n){return super.set(Vpe(this,e),n)}delete(e){return super.delete(Fpe(this,e))}}function uN({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Vpe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Fpe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Upe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Bpe(t=qo){if(t===qo)return W4;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function W4(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Gpe=Math.sqrt(50),zpe=Math.sqrt(10),qpe=Math.sqrt(2);function Um(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Gpe?10:o>=zpe?5:o>=qpe?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?Um(t,e,n*2):[a,l,u]}function t_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Um(e,t,n):Um(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function n_(t,e,n){return e=+e,t=+t,n=+n,Um(t,e,n)[2]}function r_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?n_(e,t,n):n_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function cN(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function dN(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function K4(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?W4:Bpe(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),y=Math.max(n,Math.floor(e-u*f/l+h)),v=Math.min(r,Math.floor(e+(l-u)*f/l+h));K4(t,e,y,v,i)}const o=t[e];let s=n,a=r;for(dc(t,n,e),i(t[r],o)>0&&dc(t,n,r);s<a;){for(dc(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?dc(t,n,a):(++a,dc(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function dc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Hpe(t,e,n){if(t=Float64Array.from(Lpe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return dN(t);if(e>=1)return cN(t);var r,i=(r-1)*e,o=Math.floor(i),s=cN(K4(t,o).subarray(0,o+1)),a=dN(t.subarray(o+1));return s+(a-s)*(i-o)}}function Wpe(t,e,n=H4){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function Kpe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Tr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function so(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const i_=Symbol("implicit");function q1(){var t=new lN,e=[],n=[],r=i_;function i(o){let s=t.get(o);if(s===void 0){if(r!==i_)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new lN;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return q1(e,n).unknown(r)},Tr.apply(i,arguments),i}function Vd(){var t=q1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,y=i<r,v=y?i:r,b=y?r:i;o=(b-v)/Math.max(1,h-l+u*2),a&&(o=Math.floor(o)),v+=(b-v-o*(h-l))*c,s=o*(1-l),a&&(v=Math.round(v),s=Math.round(s));var x=Kpe(h).map(function(w){return v+o*w});return n(y?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return Vd(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},Tr.apply(f(),arguments)}function Y4(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Y4(e())},t}function Hc(){return Y4(Vd.apply(null,arguments).paddingInner(1))}function H1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function J4(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Gf(){}var Fd=.7,Bm=1/Fd,yl="\\s*([+-]?\\d+)\\s*",Ud="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ype=/^#([0-9a-f]{3,8})$/,Jpe=new RegExp(`^rgb\\(${yl},${yl},${yl}\\)$`),Xpe=new RegExp(`^rgb\\(${oi},${oi},${oi}\\)$`),Qpe=new RegExp(`^rgba\\(${yl},${yl},${yl},${Ud}\\)$`),Zpe=new RegExp(`^rgba\\(${oi},${oi},${oi},${Ud}\\)$`),eme=new RegExp(`^hsl\\(${Ud},${oi},${oi}\\)$`),tme=new RegExp(`^hsla\\(${Ud},${oi},${oi},${Ud}\\)$`),fN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};H1(Gf,Bd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:hN,formatHex:hN,formatHex8:nme,formatHsl:rme,formatRgb:pN,toString:pN});function hN(){return this.rgb().formatHex()}function nme(){return this.rgb().formatHex8()}function rme(){return X4(this).formatHsl()}function pN(){return this.rgb().formatRgb()}function Bd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ype.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?mN(e):n===3?new Fn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?qh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?qh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Jpe.exec(t))?new Fn(e[1],e[2],e[3],1):(e=Xpe.exec(t))?new Fn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Qpe.exec(t))?qh(e[1],e[2],e[3],e[4]):(e=Zpe.exec(t))?qh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=eme.exec(t))?vN(e[1],e[2]/100,e[3]/100,1):(e=tme.exec(t))?vN(e[1],e[2]/100,e[3]/100,e[4]):fN.hasOwnProperty(t)?mN(fN[t]):t==="transparent"?new Fn(NaN,NaN,NaN,0):null}function mN(t){return new Fn(t>>16&255,t>>8&255,t&255,1)}function qh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Fn(t,e,n,r)}function ime(t){return t instanceof Gf||(t=Bd(t)),t?(t=t.rgb(),new Fn(t.r,t.g,t.b,t.opacity)):new Fn}function o_(t,e,n,r){return arguments.length===1?ime(t):new Fn(t,e,n,r??1)}function Fn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}H1(Fn,o_,J4(Gf,{brighter(t){return t=t==null?Bm:Math.pow(Bm,t),new Fn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Fd:Math.pow(Fd,t),new Fn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Fn(Bs(this.r),Bs(this.g),Bs(this.b),Gm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gN,formatHex:gN,formatHex8:ome,formatRgb:yN,toString:yN}));function gN(){return`#${Ms(this.r)}${Ms(this.g)}${Ms(this.b)}`}function ome(){return`#${Ms(this.r)}${Ms(this.g)}${Ms(this.b)}${Ms((isNaN(this.opacity)?1:this.opacity)*255)}`}function yN(){const t=Gm(this.opacity);return`${t===1?"rgb(":"rgba("}${Bs(this.r)}, ${Bs(this.g)}, ${Bs(this.b)}${t===1?")":`, ${t})`}`}function Gm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Bs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ms(t){return t=Bs(t),(t<16?"0":"")+t.toString(16)}function vN(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Mr(t,e,n,r)}function X4(t){if(t instanceof Mr)return new Mr(t.h,t.s,t.l,t.opacity);if(t instanceof Gf||(t=Bd(t)),!t)return new Mr;if(t instanceof Mr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Mr(s,a,l,t.opacity)}function sme(t,e,n,r){return arguments.length===1?X4(t):new Mr(t,e,n,r??1)}function Mr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}H1(Mr,sme,J4(Gf,{brighter(t){return t=t==null?Bm:Math.pow(Bm,t),new Mr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fd:Math.pow(Fd,t),new Mr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Fn(wv(t>=240?t-240:t+120,i,r),wv(t,i,r),wv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Mr(xN(this.h),Hh(this.s),Hh(this.l),Gm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Gm(this.opacity);return`${t===1?"hsl(":"hsla("}${xN(this.h)}, ${Hh(this.s)*100}%, ${Hh(this.l)*100}%${t===1?")":`, ${t})`}`}}));function xN(t){return t=(t||0)%360,t<0?t+360:t}function Hh(t){return Math.max(0,Math.min(1,t||0))}function wv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const W1=t=>()=>t;function ame(t,e){return function(n){return t+n*e}}function lme(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ume(t){return(t=+t)==1?Q4:function(e,n){return n-e?lme(e,n,t):W1(isNaN(e)?n:e)}}function Q4(t,e){var n=e-t;return n?ame(t,n):W1(isNaN(t)?e:t)}const bN=function t(e){var n=ume(e);function r(i,o){var s=n((i=o_(i)).r,(o=o_(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=Q4(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function cme(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function dme(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function fme(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Ru(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function hme(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function zm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function pme(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ru(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var s_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ev=new RegExp(s_.source,"g");function mme(t){return function(){return t}}function gme(t){return function(e){return t(e)+""}}function yme(t,e){var n=s_.lastIndex=Ev.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=s_.exec(t))&&(i=Ev.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:zm(r,i)})),n=Ev.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?gme(l[0].x):mme(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function Ru(t,e){var n=typeof e,r;return e==null||n==="boolean"?W1(e):(n==="number"?zm:n==="string"?(r=Bd(e))?(e=r,bN):yme:e instanceof Bd?bN:e instanceof Date?hme:dme(e)?cme:Array.isArray(e)?fme:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?pme:zm)(t,e)}function K1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function vme(t,e){e===void 0&&(e=t,t=Ru);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function xme(t){return function(){return t}}function qm(t){return+t}var _N=[0,1];function Rn(t){return t}function a_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:xme(isNaN(e)?NaN:.5)}function bme(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function _me(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=a_(i,r),o=n(s,o)):(r=a_(r,i),o=n(o,s)),function(a){return o(r(a))}}function wme(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=a_(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=Bf(t,a,1,r)-1;return o[l](i[l](a))}}function zf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function By(){var t=_N,e=_N,n=Ru,r,i,o,s=Rn,a,l,u;function c(){var h=Math.min(t.length,e.length);return s!==Rn&&(s=bme(t[0],t[h-1])),a=h>2?wme:_me,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=a(e,t.map(r),zm)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,qm),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=K1,c()},f.clamp=function(h){return arguments.length?(s=h?!0:Rn,c()):s!==Rn},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,y){return r=h,i=y,c()}}function Y1(){return By()(Rn,Rn)}function Eme(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Hm(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function $l(t){return t=Hm(Math.abs(t)),t?t[1]:NaN}function Tme(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Sme(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Ame=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gd(t){if(!(e=Ame.exec(t)))throw new Error("invalid format: "+t);var e;return new J1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Gd.prototype=J1.prototype;function J1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}J1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ime(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Wm;function kme(t,e){var n=Hm(t,e);if(!n)return Wm=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(Wm=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Hm(t,Math.max(0,e+o-1))[0]}function wN(t,e){var n=Hm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const EN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Eme,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>wN(t*100,e),r:wN,s:kme,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function TN(t){return t}var SN=Array.prototype.map,AN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Cme(t){var e=t.grouping===void 0||t.thousands===void 0?TN:Tme(SN.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?TN:Sme(SN.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f,h){f=Gd(f);var y=f.fill,v=f.align,b=f.sign,x=f.symbol,w=f.zero,_=f.width,E=f.comma,P=f.precision,S=f.trim,C=f.type;C==="n"?(E=!0,C="g"):EN[C]||(P===void 0&&(P=12),S=!0,C="g"),(w||y==="0"&&v==="=")&&(w=!0,y="0",v="=");var I=(h&&h.prefix!==void 0?h.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():""),T=(x==="$"?r:/[%p]/.test(C)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),k=EN[C],N=/[defgprs%]/.test(C);P=P===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function O(M){var D=I,z=T,F,j,V;if(C==="c")z=k(M)+z,M="";else{M=+M;var L=M<0||1/M<0;if(M=isNaN(M)?l:k(Math.abs(M),P),S&&(M=Ime(M)),L&&+M==0&&b!=="+"&&(L=!1),D=(L?b==="("?b:a:b==="-"||b==="("?"":b)+D,z=(C==="s"&&!isNaN(M)&&Wm!==void 0?AN[8+Wm/3]:"")+z+(L&&b==="("?")":""),N){for(F=-1,j=M.length;++F<j;)if(V=M.charCodeAt(F),48>V||V>57){z=(V===46?i+M.slice(F+1):M.slice(F))+z,M=M.slice(0,F);break}}}E&&!w&&(M=e(M,1/0));var G=D.length+M.length+z.length,q=G<_?new Array(_-G+1).join(y):"";switch(E&&w&&(M=e(q+M,q.length?_-z.length:1/0),q=""),v){case"<":M=D+M+z+q;break;case"=":M=D+q+M+z;break;case"^":M=q.slice(0,G=q.length>>1)+D+M+z+q.slice(G);break;default:M=q+D+M+z;break}return o(M)}return O.toString=function(){return f+""},O}function c(f,h){var y=Math.max(-8,Math.min(8,Math.floor($l(h)/3)))*3,v=Math.pow(10,-y),b=u((f=Gd(f),f.type="f",f),{suffix:AN[8+y/3]});return function(x){return b(v*x)}}return{format:u,formatPrefix:c}}var Wh,X1,Z4;Pme({thousands:",",grouping:[3],currency:["$",""]});function Pme(t){return Wh=Cme(t),X1=Wh.format,Z4=Wh.formatPrefix,Wh}function Nme(t){return Math.max(0,-$l(Math.abs(t)))}function Rme(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($l(e)/3)))*3-$l(Math.abs(t)))}function Ome(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,$l(e)-$l(t))+1}function e3(t,e,n,r){var i=r_(t,e,n),o;switch(r=Gd(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Rme(i,s))&&(r.precision=o),Z4(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Ome(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Nme(i))&&(r.precision=o-(r.type==="%")*2);break}}return X1(r)}function ls(t){var e=t.domain;return t.ticks=function(n){var r=e();return t_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return e3(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=n_(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function Km(){var t=Y1();return t.copy=function(){return zf(t,Km())},Tr.apply(t,arguments),ls(t)}function t3(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,qm),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return t3(t).unknown(e)},t=arguments.length?Array.from(t,qm):[0,1],ls(n)}function n3(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function IN(t){return Math.log(t)}function kN(t){return Math.exp(t)}function Mme(t){return-Math.log(-t)}function Dme(t){return-Math.exp(-t)}function jme(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Lme(t){return t===10?jme:t===Math.E?Math.exp:e=>Math.pow(t,e)}function $me(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function CN(t){return(e,n)=>-t(-e,n)}function Q1(t){const e=t(IN,kN),n=e.domain;let r=10,i,o;function s(){return i=$me(r),o=Lme(r),n()[0]<0?(i=CN(i),o=CN(o),t(Mme,Dme)):t(IN,kN),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),y=i(c),v,b;const x=a==null?10:+a;let w=[];if(!(r%1)&&y-h<x){if(h=Math.floor(h),y=Math.ceil(y),u>0){for(;h<=y;++h)for(v=1;v<r;++v)if(b=h<0?v/o(-h):v*o(h),!(b<u)){if(b>c)break;w.push(b)}}else for(;h<=y;++h)for(v=r-1;v>=1;--v)if(b=h>0?v/o(-h):v*o(h),!(b<u)){if(b>c)break;w.push(b)}w.length*2<x&&(w=t_(u,c,x))}else w=t_(h,y,Math.min(y-h,x)).map(o);return f?w.reverse():w},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Gd(l)).precision==null&&(l.trim=!0),l=X1(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(n3(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function r3(){const t=Q1(By()).domain([1,10]);return t.copy=()=>zf(t,r3()).base(t.base()),Tr.apply(t,arguments),t}function PN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function NN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Z1(t){var e=1,n=t(PN(e),NN(e));return n.constant=function(r){return arguments.length?t(PN(e=+r),NN(e)):e},ls(n)}function i3(){var t=Z1(By());return t.copy=function(){return zf(t,i3()).constant(t.constant())},Tr.apply(t,arguments)}function RN(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Vme(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Fme(t){return t<0?-t*t:t*t}function eT(t){var e=t(Rn,Rn),n=1;function r(){return n===1?t(Rn,Rn):n===.5?t(Vme,Fme):t(RN(n),RN(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ls(e)}function tT(){var t=eT(By());return t.copy=function(){return zf(t,tT()).exponent(t.exponent())},Tr.apply(t,arguments),t}function Ume(){return tT.apply(null,arguments).exponent(.5)}function ON(t){return Math.sign(t)*t*t}function Bme(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function o3(){var t=Y1(),e=[0,1],n=!1,r;function i(o){var s=Bme(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(ON(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,qm)).map(ON)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return o3(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Tr.apply(i,arguments),ls(i)}function s3(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=Wpe(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Bf(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(qo),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return s3().domain(t).range(e).unknown(r)},Tr.apply(o,arguments)}function a3(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Bf(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return a3().domain([t,e]).range(i).unknown(o)},Tr.apply(ls(s),arguments)}function l3(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Bf(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return l3().domain(t).range(e).unknown(n)},Tr.apply(i,arguments)}const Tv=new Date,Sv=new Date;function zt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>zt(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(Tv.setTime(+o),Sv.setTime(+s),t(Tv),t(Sv),Math.floor(n(Tv,Sv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Ym=zt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ym.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?zt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ym);Ym.range;const ki=1e3,hr=ki*60,Ci=hr*60,Ki=Ci*24,nT=Ki*7,MN=Ki*30,Av=Ki*365,Ds=zt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ki)},(t,e)=>(e-t)/ki,t=>t.getUTCSeconds());Ds.range;const rT=zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ki)},(t,e)=>{t.setTime(+t+e*hr)},(t,e)=>(e-t)/hr,t=>t.getMinutes());rT.range;const iT=zt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*hr)},(t,e)=>(e-t)/hr,t=>t.getUTCMinutes());iT.range;const oT=zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ki-t.getMinutes()*hr)},(t,e)=>{t.setTime(+t+e*Ci)},(t,e)=>(e-t)/Ci,t=>t.getHours());oT.range;const sT=zt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ci)},(t,e)=>(e-t)/Ci,t=>t.getUTCHours());sT.range;const qf=zt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*hr)/Ki,t=>t.getDate()-1);qf.range;const Gy=zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ki,t=>t.getUTCDate()-1);Gy.range;const u3=zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ki,t=>Math.floor(t/Ki));u3.range;function xa(t){return zt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*hr)/nT)}const zy=xa(0),Jm=xa(1),Gme=xa(2),zme=xa(3),Vl=xa(4),qme=xa(5),Hme=xa(6);zy.range;Jm.range;Gme.range;zme.range;Vl.range;qme.range;Hme.range;function ba(t){return zt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/nT)}const qy=ba(0),Xm=ba(1),Wme=ba(2),Kme=ba(3),Fl=ba(4),Yme=ba(5),Jme=ba(6);qy.range;Xm.range;Wme.range;Kme.range;Fl.range;Yme.range;Jme.range;const aT=zt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());aT.range;const lT=zt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());lT.range;const Yi=zt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Yi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Yi.range;const Ji=zt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ji.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ji.range;function c3(t,e,n,r,i,o){const s=[[Ds,1,ki],[Ds,5,5*ki],[Ds,15,15*ki],[Ds,30,30*ki],[o,1,hr],[o,5,5*hr],[o,15,15*hr],[o,30,30*hr],[i,1,Ci],[i,3,3*Ci],[i,6,6*Ci],[i,12,12*Ci],[r,1,Ki],[r,2,2*Ki],[n,1,nT],[e,1,MN],[e,3,3*MN],[t,1,Av]];function a(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const y=f&&typeof f.range=="function"?f:l(u,c,f),v=y?y.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,f){const h=Math.abs(c-u)/f,y=z1(([,,x])=>x).right(s,h);if(y===s.length)return t.every(r_(u/Av,c/Av,f));if(y===0)return Ym.every(Math.max(r_(u,c,f),1));const[v,b]=s[h/s[y-1][2]<s[y][2]/h?y-1:y];return v.every(b)}return[a,l]}const[Xme,Qme]=c3(Ji,lT,qy,u3,sT,iT),[Zme,ege]=c3(Yi,aT,zy,qf,oT,rT);function Iv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function kv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function fc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function tge(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=hc(i),c=pc(i),f=hc(o),h=pc(o),y=hc(s),v=pc(s),b=hc(a),x=pc(a),w=hc(l),_=pc(l),E={a:V,A:L,b:G,B:q,c:null,d:FN,e:FN,f:Tge,g:Mge,G:jge,H:_ge,I:wge,j:Ege,L:d3,m:Sge,M:Age,p:J,q:H,Q:GN,s:zN,S:Ige,u:kge,U:Cge,V:Pge,w:Nge,W:Rge,x:null,X:null,y:Oge,Y:Dge,Z:Lge,"%":BN},P={a:W,A:ie,b:K,B:ae,c:null,d:UN,e:UN,f:Uge,g:Xge,G:Zge,H:$ge,I:Vge,j:Fge,L:h3,m:Bge,M:Gge,p:fe,q:Me,Q:GN,s:zN,S:zge,u:qge,U:Hge,V:Wge,w:Kge,W:Yge,x:null,X:null,y:Jge,Y:Qge,Z:eye,"%":BN},S={a:N,A:O,b:M,B:D,c:z,d:$N,e:$N,f:yge,g:LN,G:jN,H:VN,I:VN,j:hge,L:gge,m:fge,M:pge,p:k,q:dge,Q:xge,s:bge,S:mge,u:sge,U:age,V:lge,w:oge,W:uge,x:F,X:j,y:LN,Y:jN,Z:cge,"%":vge};E.x=C(n,E),E.X=C(r,E),E.c=C(e,E),P.x=C(n,P),P.X=C(r,P),P.c=C(e,P);function C(le,ve){return function(ce){var Z=[],Ce=-1,Re=0,rt=le.length,it,ft,dn;for(ce instanceof Date||(ce=new Date(+ce));++Ce<rt;)le.charCodeAt(Ce)===37&&(Z.push(le.slice(Re,Ce)),(ft=DN[it=le.charAt(++Ce)])!=null?it=le.charAt(++Ce):ft=it==="e"?" ":"0",(dn=ve[it])&&(it=dn(ce,ft)),Z.push(it),Re=Ce+1);return Z.push(le.slice(Re,Ce)),Z.join("")}}function I(le,ve){return function(ce){var Z=fc(1900,void 0,1),Ce=T(Z,le,ce+="",0),Re,rt;if(Ce!=ce.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(ve&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(Re=kv(fc(Z.y,0,1)),rt=Re.getUTCDay(),Re=rt>4||rt===0?Xm.ceil(Re):Xm(Re),Re=Gy.offset(Re,(Z.V-1)*7),Z.y=Re.getUTCFullYear(),Z.m=Re.getUTCMonth(),Z.d=Re.getUTCDate()+(Z.w+6)%7):(Re=Iv(fc(Z.y,0,1)),rt=Re.getDay(),Re=rt>4||rt===0?Jm.ceil(Re):Jm(Re),Re=qf.offset(Re,(Z.V-1)*7),Z.y=Re.getFullYear(),Z.m=Re.getMonth(),Z.d=Re.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),rt="Z"in Z?kv(fc(Z.y,0,1)).getUTCDay():Iv(fc(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(rt+5)%7:Z.w+Z.U*7-(rt+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,kv(Z)):Iv(Z)}}function T(le,ve,ce,Z){for(var Ce=0,Re=ve.length,rt=ce.length,it,ft;Ce<Re;){if(Z>=rt)return-1;if(it=ve.charCodeAt(Ce++),it===37){if(it=ve.charAt(Ce++),ft=S[it in DN?ve.charAt(Ce++):it],!ft||(Z=ft(le,ce,Z))<0)return-1}else if(it!=ce.charCodeAt(Z++))return-1}return Z}function k(le,ve,ce){var Z=u.exec(ve.slice(ce));return Z?(le.p=c.get(Z[0].toLowerCase()),ce+Z[0].length):-1}function N(le,ve,ce){var Z=y.exec(ve.slice(ce));return Z?(le.w=v.get(Z[0].toLowerCase()),ce+Z[0].length):-1}function O(le,ve,ce){var Z=f.exec(ve.slice(ce));return Z?(le.w=h.get(Z[0].toLowerCase()),ce+Z[0].length):-1}function M(le,ve,ce){var Z=w.exec(ve.slice(ce));return Z?(le.m=_.get(Z[0].toLowerCase()),ce+Z[0].length):-1}function D(le,ve,ce){var Z=b.exec(ve.slice(ce));return Z?(le.m=x.get(Z[0].toLowerCase()),ce+Z[0].length):-1}function z(le,ve,ce){return T(le,e,ve,ce)}function F(le,ve,ce){return T(le,n,ve,ce)}function j(le,ve,ce){return T(le,r,ve,ce)}function V(le){return s[le.getDay()]}function L(le){return o[le.getDay()]}function G(le){return l[le.getMonth()]}function q(le){return a[le.getMonth()]}function J(le){return i[+(le.getHours()>=12)]}function H(le){return 1+~~(le.getMonth()/3)}function W(le){return s[le.getUTCDay()]}function ie(le){return o[le.getUTCDay()]}function K(le){return l[le.getUTCMonth()]}function ae(le){return a[le.getUTCMonth()]}function fe(le){return i[+(le.getUTCHours()>=12)]}function Me(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var ve=C(le+="",E);return ve.toString=function(){return le},ve},parse:function(le){var ve=I(le+="",!1);return ve.toString=function(){return le},ve},utcFormat:function(le){var ve=C(le+="",P);return ve.toString=function(){return le},ve},utcParse:function(le){var ve=I(le+="",!0);return ve.toString=function(){return le},ve}}}var DN={"-":"",_:" ",0:"0"},Qt=/^\s*\d+/,nge=/^%/,rge=/[\\^$*+?|[\]().{}]/g;function Ke(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function ige(t){return t.replace(rge,"\\$&")}function hc(t){return new RegExp("^(?:"+t.map(ige).join("|")+")","i")}function pc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function oge(t,e,n){var r=Qt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function sge(t,e,n){var r=Qt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function age(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function lge(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function uge(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function jN(t,e,n){var r=Qt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function LN(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function cge(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function dge(t,e,n){var r=Qt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function fge(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function $N(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function hge(t,e,n){var r=Qt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function VN(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function pge(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function mge(t,e,n){var r=Qt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function gge(t,e,n){var r=Qt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function yge(t,e,n){var r=Qt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function vge(t,e,n){var r=nge.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function xge(t,e,n){var r=Qt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function bge(t,e,n){var r=Qt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function FN(t,e){return Ke(t.getDate(),e,2)}function _ge(t,e){return Ke(t.getHours(),e,2)}function wge(t,e){return Ke(t.getHours()%12||12,e,2)}function Ege(t,e){return Ke(1+qf.count(Yi(t),t),e,3)}function d3(t,e){return Ke(t.getMilliseconds(),e,3)}function Tge(t,e){return d3(t,e)+"000"}function Sge(t,e){return Ke(t.getMonth()+1,e,2)}function Age(t,e){return Ke(t.getMinutes(),e,2)}function Ige(t,e){return Ke(t.getSeconds(),e,2)}function kge(t){var e=t.getDay();return e===0?7:e}function Cge(t,e){return Ke(zy.count(Yi(t)-1,t),e,2)}function f3(t){var e=t.getDay();return e>=4||e===0?Vl(t):Vl.ceil(t)}function Pge(t,e){return t=f3(t),Ke(Vl.count(Yi(t),t)+(Yi(t).getDay()===4),e,2)}function Nge(t){return t.getDay()}function Rge(t,e){return Ke(Jm.count(Yi(t)-1,t),e,2)}function Oge(t,e){return Ke(t.getFullYear()%100,e,2)}function Mge(t,e){return t=f3(t),Ke(t.getFullYear()%100,e,2)}function Dge(t,e){return Ke(t.getFullYear()%1e4,e,4)}function jge(t,e){var n=t.getDay();return t=n>=4||n===0?Vl(t):Vl.ceil(t),Ke(t.getFullYear()%1e4,e,4)}function Lge(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ke(e/60|0,"0",2)+Ke(e%60,"0",2)}function UN(t,e){return Ke(t.getUTCDate(),e,2)}function $ge(t,e){return Ke(t.getUTCHours(),e,2)}function Vge(t,e){return Ke(t.getUTCHours()%12||12,e,2)}function Fge(t,e){return Ke(1+Gy.count(Ji(t),t),e,3)}function h3(t,e){return Ke(t.getUTCMilliseconds(),e,3)}function Uge(t,e){return h3(t,e)+"000"}function Bge(t,e){return Ke(t.getUTCMonth()+1,e,2)}function Gge(t,e){return Ke(t.getUTCMinutes(),e,2)}function zge(t,e){return Ke(t.getUTCSeconds(),e,2)}function qge(t){var e=t.getUTCDay();return e===0?7:e}function Hge(t,e){return Ke(qy.count(Ji(t)-1,t),e,2)}function p3(t){var e=t.getUTCDay();return e>=4||e===0?Fl(t):Fl.ceil(t)}function Wge(t,e){return t=p3(t),Ke(Fl.count(Ji(t),t)+(Ji(t).getUTCDay()===4),e,2)}function Kge(t){return t.getUTCDay()}function Yge(t,e){return Ke(Xm.count(Ji(t)-1,t),e,2)}function Jge(t,e){return Ke(t.getUTCFullYear()%100,e,2)}function Xge(t,e){return t=p3(t),Ke(t.getUTCFullYear()%100,e,2)}function Qge(t,e){return Ke(t.getUTCFullYear()%1e4,e,4)}function Zge(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Fl(t):Fl.ceil(t),Ke(t.getUTCFullYear()%1e4,e,4)}function eye(){return"+0000"}function BN(){return"%"}function GN(t){return+t}function zN(t){return Math.floor(+t/1e3)}var Ca,m3,g3;tye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tye(t){return Ca=tge(t),m3=Ca.format,Ca.parse,g3=Ca.utcFormat,Ca.utcParse,Ca}function nye(t){return new Date(t)}function rye(t){return t instanceof Date?+t:+new Date(+t)}function uT(t,e,n,r,i,o,s,a,l,u){var c=Y1(),f=c.invert,h=c.domain,y=u(".%L"),v=u(":%S"),b=u("%I:%M"),x=u("%I %p"),w=u("%a %d"),_=u("%b %d"),E=u("%B"),P=u("%Y");function S(C){return(l(C)<C?y:a(C)<C?v:s(C)<C?b:o(C)<C?x:r(C)<C?i(C)<C?w:_:n(C)<C?E:P)(C)}return c.invert=function(C){return new Date(f(C))},c.domain=function(C){return arguments.length?h(Array.from(C,rye)):h().map(nye)},c.ticks=function(C){var I=h();return t(I[0],I[I.length-1],C??10)},c.tickFormat=function(C,I){return I==null?S:u(I)},c.nice=function(C){var I=h();return(!C||typeof C.range!="function")&&(C=e(I[0],I[I.length-1],C??10)),C?h(n3(I,C)):c},c.copy=function(){return zf(c,uT(t,e,n,r,i,o,s,a,l,u))},c}function iye(){return Tr.apply(uT(Zme,ege,Yi,aT,zy,qf,oT,rT,Ds,m3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function oye(){return Tr.apply(uT(Xme,Qme,Ji,lT,qy,Gy,sT,iT,Ds,g3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Hy(){var t=0,e=1,n,r,i,o,s=Rn,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(h){var y,v;return arguments.length?([y,v]=h,s=f(y,v),u):[s(0),s(1)]}}return u.range=c(Ru),u.rangeRound=c(K1),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function us(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function y3(){var t=ls(Hy()(Rn));return t.copy=function(){return us(t,y3())},so.apply(t,arguments)}function v3(){var t=Q1(Hy()).domain([1,10]);return t.copy=function(){return us(t,v3()).base(t.base())},so.apply(t,arguments)}function x3(){var t=Z1(Hy());return t.copy=function(){return us(t,x3()).constant(t.constant())},so.apply(t,arguments)}function cT(){var t=eT(Hy());return t.copy=function(){return us(t,cT()).exponent(t.exponent())},so.apply(t,arguments)}function sye(){return cT.apply(null,arguments).exponent(.5)}function b3(){var t=[],e=Rn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Bf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(qo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Hpe(t,o/r))},n.copy=function(){return b3(e).domain(t)},so.apply(n,arguments)}function Wy(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=Rn,c,f=!1,h;function y(b){return isNaN(b=+b)?h:(b=.5+((b=+c(b))-o)*(r*b<r*o?a:l),u(f?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([t,e,n]=b,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y):[t,e,n]},y.clamp=function(b){return arguments.length?(f=!!b,y):f},y.interpolator=function(b){return arguments.length?(u=b,y):u};function v(b){return function(x){var w,_,E;return arguments.length?([w,_,E]=x,u=vme(b,[w,_,E]),y):[u(0),u(.5),u(1)]}}return y.range=v(Ru),y.rangeRound=v(K1),y.unknown=function(b){return arguments.length?(h=b,y):h},function(b){return c=b,i=b(t),o=b(e),s=b(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y}}function _3(){var t=ls(Wy()(Rn));return t.copy=function(){return us(t,_3())},so.apply(t,arguments)}function w3(){var t=Q1(Wy()).domain([.1,1,10]);return t.copy=function(){return us(t,w3()).base(t.base())},so.apply(t,arguments)}function E3(){var t=Z1(Wy());return t.copy=function(){return us(t,E3()).constant(t.constant())},so.apply(t,arguments)}function dT(){var t=eT(Wy());return t.copy=function(){return us(t,dT()).exponent(t.exponent())},so.apply(t,arguments)}function aye(){return dT.apply(null,arguments).exponent(.5)}const qN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Vd,scaleDiverging:_3,scaleDivergingLog:w3,scaleDivergingPow:dT,scaleDivergingSqrt:aye,scaleDivergingSymlog:E3,scaleIdentity:t3,scaleImplicit:i_,scaleLinear:Km,scaleLog:r3,scaleOrdinal:q1,scalePoint:Hc,scalePow:tT,scaleQuantile:s3,scaleQuantize:a3,scaleRadial:o3,scaleSequential:y3,scaleSequentialLog:v3,scaleSequentialPow:cT,scaleSequentialQuantile:b3,scaleSequentialSqrt:sye,scaleSequentialSymlog:x3,scaleSqrt:Ume,scaleSymlog:i3,scaleThreshold:l3,scaleTime:iye,scaleUtc:oye,tickFormat:e3},Symbol.toStringTag,{value:"Module"}));var lye=Eu;function uye(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!lye(s):n(s,a)))var a=s,l=o}return l}var Ky=uye;function cye(t,e){return t>e}var T3=cye,dye=Ky,fye=T3,hye=Nu;function pye(t){return t&&t.length?dye(t,hye,fye):void 0}var mye=pye;const Co=Qe(mye);function gye(t,e){return t<e}var S3=gye,yye=Ky,vye=S3,xye=Nu;function bye(t){return t&&t.length?yye(t,xye,vye):void 0}var _ye=bye;const Yy=Qe(_ye);var wye=S1,Eye=hi,Tye=M4,Sye=zn;function Aye(t,e){var n=Sye(t)?wye:Tye;return n(t,Eye(e))}var Iye=Aye,kye=R4,Cye=Iye;function Pye(t,e){return kye(Cye(t,e),1)}var Nye=Pye;const Rye=Qe(Nye);var Oye=F1;function Mye(t,e){return Oye(t,e)}var Dye=Mye;const Qo=Qe(Dye);var Ou=1e9,jye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},hT,xt=!0,_r="[DecimalError] ",Gs=_r+"Invalid argument: ",fT=_r+"Exponent out of range: ",Mu=Math.floor,Ss=Math.pow,Lye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jn,Ht=1e7,gt=7,A3=9007199254740991,Qm=Mu(A3/gt),ge={};ge.absoluteValue=ge.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ge.comparedTo=ge.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*gt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ge.dividedBy=ge.div=function(t){return Di(this,new this.constructor(t))};ge.dividedToIntegerBy=ge.idiv=function(t){var e=this,n=e.constructor;return lt(Di(e,new n(t),0,1),n.precision)};ge.equals=ge.eq=function(t){return!this.cmp(t)};ge.exponent=function(){return jt(this)};ge.greaterThan=ge.gt=function(t){return this.cmp(t)>0};ge.greaterThanOrEqualTo=ge.gte=function(t){return this.cmp(t)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(t){return this.cmp(t)<0};ge.lessThanOrEqualTo=ge.lte=function(t){return this.cmp(t)<1};ge.logarithm=ge.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Jn))throw Error(_r+"NaN");if(n.s<1)throw Error(_r+(n.s?"NaN":"-Infinity"));return n.eq(Jn)?new r(0):(xt=!1,e=Di(zd(n,o),zd(t,o),o),xt=!0,lt(e,i))};ge.minus=ge.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?C3(e,t):I3(e,(t.s=-t.s,t))};ge.modulo=ge.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(_r+"NaN");return n.s?(xt=!1,e=Di(n,t,0,1).times(t),xt=!0,n.minus(e)):lt(new r(n),i)};ge.naturalExponential=ge.exp=function(){return k3(this)};ge.naturalLogarithm=ge.ln=function(){return zd(this)};ge.negated=ge.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ge.plus=ge.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?I3(e,t):C3(e,(t.s=-t.s,t))};ge.precision=ge.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Gs+t);if(e=jt(i)+1,r=i.d.length-1,n=r*gt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ge.squareRoot=ge.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(_r+"NaN")}for(t=jt(a),xt=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Qr(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Mu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Di(a,o,s+2)).times(.5),Qr(o.d).slice(0,s)===(e=Qr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(lt(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return xt=!0,lt(r,n)};ge.times=ge.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,f=c.constructor,h=c.d,y=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=y.length,l<u&&(o=h,h=y,y=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+y[r]*h[i-r-1]+e,o[i--]=a%Ht|0,e=a/Ht|0;o[i]=(o[i]+e)%Ht|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,xt?lt(t,f.precision):t};ge.toDecimalPlaces=ge.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(li(t,0,Ou),e===void 0?e=r.rounding:li(e,0,8),lt(n,t+jt(n)+1,e))};ge.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=aa(r,!0):(li(t,0,Ou),e===void 0?e=i.rounding:li(e,0,8),r=lt(new i(r),t+1,e),n=aa(r,!0,t+1)),n};ge.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?aa(i):(li(t,0,Ou),e===void 0?e=o.rounding:li(e,0,8),r=lt(new o(i),t+jt(i)+1,e),n=aa(r.abs(),!1,t+jt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ge.toInteger=ge.toint=function(){var t=this,e=t.constructor;return lt(new e(t),jt(t)+1,e.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Jn);if(a=new l(a),!a.s){if(t.s<1)throw Error(_r+"Infinity");return a}if(a.eq(Jn))return a;if(r=l.precision,t.eq(Jn))return lt(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=A3){for(i=new l(Jn),e=Math.ceil(r/gt+4),xt=!1;n%2&&(i=i.times(a),WN(i.d,e)),n=Mu(n/2),n!==0;)a=a.times(a),WN(a.d,e);return xt=!0,t.s<0?new l(Jn).div(i):lt(i,r)}}else if(o<0)throw Error(_r+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,xt=!1,i=t.times(zd(a,r+u)),xt=!0,i=k3(i),i.s=o,i};ge.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=jt(i),r=aa(i,n<=o.toExpNeg||n>=o.toExpPos)):(li(t,1,Ou),e===void 0?e=o.rounding:li(e,0,8),i=lt(new o(i),t,e),n=jt(i),r=aa(i,t<=n||n<=o.toExpNeg,t)),r};ge.toSignificantDigits=ge.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(li(t,1,Ou),e===void 0?e=r.rounding:li(e,0,8)),lt(new r(n),t,e)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=jt(t),n=t.constructor;return aa(t,e<=n.toExpNeg||e>=n.toExpPos)};function I3(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),xt?lt(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(f/gt),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Ht|0,l[o]%=Ht;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,xt?lt(e,f):e}function li(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Gs+t)}function Qr(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=gt-r.length,n&&(o+=yo(n)),o+=r;s=t[e],r=s+"",n=gt-r.length,n&&(o+=yo(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Di=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Ht|0,s=o/Ht|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Ht+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,f,h,y,v,b,x,w,_,E,P,S,C,I,T,k=r.constructor,N=r.s==i.s?1:-1,O=r.d,M=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(_r+"Division by zero");for(l=r.e-i.e,I=M.length,S=O.length,y=new k(N),v=y.d=[],u=0;M[u]==(O[u]||0);)++u;if(M[u]>(O[u]||0)&&--l,o==null?_=o=k.precision:s?_=o+(jt(r)-jt(i))+1:_=o,_<0)return new k(0);if(_=_/gt+2|0,u=0,I==1)for(c=0,M=M[0],_++;(u<S||c)&&_--;u++)E=c*Ht+(O[u]||0),v[u]=E/M|0,c=E%M|0;else{for(c=Ht/(M[0]+1)|0,c>1&&(M=t(M,c),O=t(O,c),I=M.length,S=O.length),P=I,b=O.slice(0,I),x=b.length;x<I;)b[x++]=0;T=M.slice(),T.unshift(0),C=M[0],M[1]>=Ht/2&&++C;do c=0,a=e(M,b,I,x),a<0?(w=b[0],I!=x&&(w=w*Ht+(b[1]||0)),c=w/C|0,c>1?(c>=Ht&&(c=Ht-1),f=t(M,c),h=f.length,x=b.length,a=e(f,b,h,x),a==1&&(c--,n(f,I<h?T:M,h))):(c==0&&(a=c=1),f=M.slice()),h=f.length,h<x&&f.unshift(0),n(b,f,x),a==-1&&(x=b.length,a=e(M,b,I,x),a<1&&(c++,n(b,I<x?T:M,x))),x=b.length):a===0&&(c++,b=[0]),v[u++]=c,a&&b[0]?b[x++]=O[P]||0:(b=[O[P]],x=1);while((P++<S||b[0]!==void 0)&&_--)}return v[0]||v.shift(),y.e=l,lt(y,s?o+jt(y)+1:o)}}();function k3(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,f=c.precision;if(jt(t)>16)throw Error(fT+jt(t));if(!t.s)return new c(Jn);for(xt=!1,a=f,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Ss(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(Jn),c.precision=a;;){if(i=lt(i.times(t),a),n=n.times(++l),s=o.plus(Di(i,n,a)),Qr(s.d).slice(0,a)===Qr(o.d).slice(0,a)){for(;u--;)o=lt(o.times(o),a);return c.precision=f,e==null?(xt=!0,lt(o,f)):o}o=s}}function jt(t){for(var e=t.e*gt,n=t.d[0];n>=10;n/=10)e++;return e}function Cv(t,e,n){if(e>t.LN10.sd())throw xt=!0,n&&(t.precision=n),Error(_r+"LN10 precision limit exceeded");return lt(new t(t.LN10),e)}function yo(t){for(var e="";t--;)e+="0";return e}function zd(t,e){var n,r,i,o,s,a,l,u,c,f=1,h=10,y=t,v=y.d,b=y.constructor,x=b.precision;if(y.s<1)throw Error(_r+(y.s?"NaN":"-Infinity"));if(y.eq(Jn))return new b(0);if(e==null?(xt=!1,u=x):u=e,y.eq(10))return e==null&&(xt=!0),Cv(b,u);if(u+=h,b.precision=u,n=Qr(v),r=n.charAt(0),o=jt(y),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=Qr(y.d),r=n.charAt(0),f++;o=jt(y),r>1?(y=new b("0."+n),o++):y=new b(r+"."+n.slice(1))}else return l=Cv(b,u+2,x).times(o+""),y=zd(new b(r+"."+n.slice(1)),u-h).plus(l),b.precision=x,e==null?(xt=!0,lt(y,x)):y;for(a=s=y=Di(y.minus(Jn),y.plus(Jn),u),c=lt(y.times(y),u),i=3;;){if(s=lt(s.times(c),u),l=a.plus(Di(s,new b(i),u)),Qr(l.d).slice(0,u)===Qr(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(Cv(b,u+2,x).times(o+""))),a=Di(a,new b(f),u),b.precision=x,e==null?(xt=!0,lt(a,x)):a;a=l,i+=2}}function HN(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Mu(n/gt),t.d=[],r=(n+1)%gt,n<0&&(r+=gt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=gt;r<i;)t.d.push(+e.slice(r,r+=gt));e=e.slice(r),r=gt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),xt&&(t.e>Qm||t.e<-Qm))throw Error(fT+n)}else t.s=0,t.e=0,t.d=[0];return t}function lt(t,e,n){var r,i,o,s,a,l,u,c,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=gt,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/gt),o=f.length,c>=o)return t;for(u=o=f[c],s=1;o>=10;o/=10)s++;r%=gt,i=r-gt+s}if(n!==void 0&&(o=Ss(10,s-i-1),a=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/Ss(10,s-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=jt(t),f.length=1,e=e-o-1,f[0]=Ss(10,(gt-e%gt)%gt),t.e=Mu(-e/gt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=Ss(10,gt-r),f[c]=i>0?(u/Ss(10,s-i)%Ss(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==Ht&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=Ht)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(xt&&(t.e>Qm||t.e<-Qm))throw Error(fT+jt(t));return t}function C3(t,e){var n,r,i,o,s,a,l,u,c,f,h=t.constructor,y=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),xt?lt(e,y):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(y/gt),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Ht-1;--l[o],l[i]+=Ht}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,xt?lt(e,y):e):new h(0)}function aa(t,e,n){var r,i=jt(t),o=Qr(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+yo(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+yo(-i-1)+o,n&&(r=n-s)>0&&(o+=yo(r))):i>=s?(o+=yo(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+yo(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=yo(r))),t.s<0?"-"+o:o}function WN(t,e){if(t.length>e)return t.length=e,!0}function P3(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Gs+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return HN(s,o.toString())}else if(typeof o!="string")throw Error(Gs+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,Lye.test(o))HN(s,o);else throw Error(Gs+o)}if(i.prototype=ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=P3,i.config=i.set=$ye,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function $ye(t){if(!t||typeof t!="object")throw Error(_r+"Object expected");var e,n,r,i=["precision",1,Ou,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Mu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Gs+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Gs+n+": "+r);return this}var hT=P3(jye);Jn=new hT(1);const nt=hT;function Vye(t){return Gye(t)||Bye(t)||Uye(t)||Fye()}function Fye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uye(t,e){if(t){if(typeof t=="string")return l_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l_(t,e)}}function Bye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Gye(t){if(Array.isArray(t))return l_(t)}function l_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var zye=function(e){return e},N3={},R3=function(e){return e===N3},KN=function(e){return function n(){return arguments.length===0||arguments.length===1&&R3(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},qye=function t(e,n){return e===1?n:KN(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==N3}).length;return s>=e?n.apply(void 0,i):t(e-s,KN(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=i.map(function(f){return R3(f)?l.shift():f});return n.apply(void 0,Vye(c).concat(l))}))})},Jy=function(e){return qye(e.length,e)},u_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Hye=Jy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Wye=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return zye;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},c_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},O3=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function Kye(t){var e;return t===0?e=1:e=Math.floor(new nt(t).abs().log(10).toNumber())+1,e}function Yye(t,e,n){for(var r=new nt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Jye=Jy(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Xye=Jy(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Qye=Jy(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Xy={rangeStep:Yye,getDigitCount:Kye,interpolateNumber:Jye,uninterpolateNumber:Xye,uninterpolateTruncation:Qye};function d_(t){return t0e(t)||e0e(t)||M3(t)||Zye()}function Zye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e0e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function t0e(t){if(Array.isArray(t))return f_(t)}function qd(t,e){return i0e(t)||r0e(t,e)||M3(t,e)||n0e()}function n0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M3(t,e){if(t){if(typeof t=="string")return f_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f_(t,e)}}function f_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function r0e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function i0e(t){if(Array.isArray(t))return t}function D3(t){var e=qd(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function j3(t,e,n){if(t.lte(0))return new nt(0);var r=Xy.getDigitCount(t.toNumber()),i=new nt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new nt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new nt(Math.ceil(l))}function o0e(t,e,n){var r=1,i=new nt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new nt(10).pow(Xy.getDigitCount(t)-1),i=new nt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new nt(Math.floor(t)))}else t===0?i=new nt(Math.floor((e-1)/2)):n||(i=new nt(Math.floor(t)));var s=Math.floor((e-1)/2),a=Wye(Hye(function(l){return i.add(new nt(l-s).mul(r)).toNumber()}),u_);return a(0,e)}function L3(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new nt(0),tickMin:new nt(0),tickMax:new nt(0)};var o=j3(new nt(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new nt(0):(s=new nt(t).add(e).div(2),s=s.sub(new nt(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new nt(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?L3(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new nt(a).mul(o)),tickMax:s.add(new nt(l).mul(o))})}function s0e(t){var e=qd(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=D3([n,r]),l=qd(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(d_(u_(0,i-1).map(function(){return 1/0}))):[].concat(d_(u_(0,i-1).map(function(){return-1/0})),[c]);return n>r?c_(f):f}if(u===c)return o0e(u,i,o);var h=L3(u,c,s,o),y=h.step,v=h.tickMin,b=h.tickMax,x=Xy.rangeStep(v,b.add(new nt(.1).mul(y)),y);return n>r?c_(x):x}function a0e(t,e){var n=qd(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=D3([r,i]),a=qd(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=j3(new nt(u).sub(l).div(c-1),o,0),h=[].concat(d_(Xy.rangeStep(new nt(l),new nt(u).sub(new nt(.99).mul(f)),f)),[u]);return r>i?c_(h):h}var l0e=O3(s0e),u0e=O3(a0e),c0e="Invariant failed";function la(t,e){throw new Error(c0e)}var d0e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function Zm(){return Zm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zm.apply(this,arguments)}function f0e(t,e){return g0e(t)||m0e(t,e)||p0e(t,e)||h0e()}function h0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p0e(t,e){if(t){if(typeof t=="string")return YN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YN(t,e)}}function YN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function g0e(t){if(Array.isArray(t))return t}function y0e(t,e){if(t==null)return{};var n=v0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function v0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function x0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F3(r.key),r)}}function _0e(t,e,n){return e&&b0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w0e(t,e,n){return e=eg(e),E0e(t,$3()?Reflect.construct(e,n||[],eg(t).constructor):e.apply(t,n))}function E0e(t,e){if(e&&(Ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T0e(t)}function T0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($3=function(){return!!t})()}function eg(t){return eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eg(t)}function S0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h_(t,e)}function h_(t,e){return h_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},h_(t,e)}function V3(t,e,n){return e=F3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F3(t){var e=A0e(t,"string");return Ul(e)=="symbol"?e:e+""}function A0e(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hf=function(t){function e(){return x0e(this,e),w0e(this,e,arguments)}return S0e(e,t),_0e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=y0e(r,d0e),y=ye(h,!1);this.props.direction==="x"&&c.type!=="number"&&la();var v=l.map(function(b){var x=u(b,a),w=x.x,_=x.y,E=x.value,P=x.errorVal;if(!P)return null;var S=[],C,I;if(Array.isArray(P)){var T=f0e(P,2);C=T[0],I=T[1]}else C=I=P;if(o==="vertical"){var k=c.scale,N=_+i,O=N+s,M=N-s,D=k(E-C),z=k(E+I);S.push({x1:z,y1:O,x2:z,y2:M}),S.push({x1:D,y1:N,x2:z,y2:N}),S.push({x1:D,y1:O,x2:D,y2:M})}else if(o==="horizontal"){var F=f.scale,j=w+i,V=j-s,L=j+s,G=F(E-C),q=F(E+I);S.push({x1:V,y1:q,x2:L,y2:q}),S.push({x1:j,y1:G,x2:j,y2:q}),S.push({x1:V,y1:G,x2:L,y2:G})}return U.createElement(je,Zm({className:"recharts-errorBar",key:"bar-".concat(S.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},y),S.map(function(J){return U.createElement("line",Zm({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return U.createElement(je,{className:"recharts-errorBars"},v)}}])}(U.Component);V3(Hf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});V3(Hf,"displayName","ErrorBar");function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function JN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JN(Object(n),!0).forEach(function(r){I0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I0e(t,e,n){return e=k0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k0e(t){var e=C0e(t,"string");return Hd(e)=="symbol"?e:e+""}function C0e(t,e){if(Hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var U3=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Yn(n,ii);if(!s)return null;var a=ii.defaultProps,l=a!==void 0?gs(gs({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,y=f.props,v=y.sectors||y.data||[];return c.concat(v.map(function(b){return{type:s.props.iconType||h.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,y=h!==void 0?gs(gs({},h),f.props):{},v=y.dataKey,b=y.name,x=y.legendType,w=y.hide;return{inactive:w,dataKey:v,type:l.iconType||x||"square",color:pT(f),value:b||v,payload:y}}),gs(gs(gs({},l),ii.getWithHeight(s,i)),{},{payload:u,item:s})};function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function XN(t){return O0e(t)||R0e(t)||N0e(t)||P0e()}function P0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N0e(t,e){if(t){if(typeof t=="string")return p_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p_(t,e)}}function R0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function O0e(t){if(Array.isArray(t))return p_(t)}function p_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QN(Object(n),!0).forEach(function(r){vl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vl(t,e,n){return e=M0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M0e(t){var e=D0e(t,"string");return Wd(e)=="symbol"?e:e+""}function D0e(t,e){if(Wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wt(t,e,n){return Ie(t)||Ie(e)?n:Bt(e)?tr(t,e,n):_e(e)?e(t):n}function Wc(t,e,n,r){var i=Rye(t,function(a){return wt(a,e)});if(n==="number"){var o=i.filter(function(a){return oe(a)||parseFloat(a)});return o.length?[Yy(o),Co(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!Ie(a)}):i;return s.map(function(a){return Bt(a)||a instanceof Date?a:""})}var j0e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var c=u>0?i[u-1].coordinate:i[a-1].coordinate,f=i[u].coordinate,h=u>=a-1?i[0].coordinate:i[u+1].coordinate,y=void 0;if(Pn(f-c)!==Pn(h-f)){var v=[];if(Pn(h-f)===Pn(l[1]-l[0])){y=h;var b=f+l[1]-l[0];v[0]=Math.min(b,(b+c)/2),v[1]=Math.max(b,(b+c)/2)}else{y=c;var x=h+l[1]-l[0];v[0]=Math.min(f,(x+f)/2),v[1]=Math.max(f,(x+f)/2)}var w=[Math.min(f,(y+f)/2),Math.max(f,(y+f)/2)];if(e>w[0]&&e<=w[1]||e>=v[0]&&e<=v[1]){s=i[u].index;break}}else{var _=Math.min(c,h),E=Math.max(c,h);if(e>(_+f)/2&&e<=(E+f)/2){s=i[u].index;break}}}else for(var P=0;P<a;P++)if(P===0&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P>0&&P<a-1&&e>(r[P].coordinate+r[P-1].coordinate)/2&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P===a-1&&e>(r[P].coordinate+r[P-1].coordinate)/2){s=r[P].index;break}return s},pT=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?kt(kt({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},L0e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var c=o[a[l]].stackGroups,f=Object.keys(c),h=0,y=f.length;h<y;h++){var v=c[f[h]],b=v.items,x=v.cateAxisId,w=b.filter(function(I){return Mi(I.type).indexOf("Bar")>=0});if(w&&w.length){var _=w[0].type.defaultProps,E=_!==void 0?kt(kt({},_),w[0].props):w[0].props,P=E.barSize,S=E[x];s[S]||(s[S]=[]);var C=Ie(P)?n:P;s[S].push({item:w[0],stackList:w.slice(1),barSize:Ie(C)?void 0:Nn(C,r,0)})}}return s},$0e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=Nn(n,i,0,!0),c,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,y=i/l,v=s.reduce(function(P,S){return P+S.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&y>0&&(h=!0,y*=.9,v=l*y);var b=(i-v)/2>>0,x={offset:b-u,size:0};c=s.reduce(function(P,S){var C={item:S.item,position:{offset:x.offset+x.size+u,size:h?y:S.barSize}},I=[].concat(XN(P),[C]);return x=I[I.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){I.push({item:T,position:x})}),I},f)}else{var w=Nn(r,i,0,!0);i-2*w-(l-1)*u<=0&&(u=0);var _=(i-2*w-(l-1)*u)/l;_>1&&(_>>=0);var E=a===+a?Math.min(_,a):_;c=s.reduce(function(P,S,C){var I=[].concat(XN(P),[{item:S.item,position:{offset:w+(_+u)*C+(_-E)/2,size:E}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){I.push({item:T,position:I[I.length-1].position})}),I},f)}return c},V0e=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=U3({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,y=u.align,v=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&v==="middle")&&y!=="center"&&oe(e[y]))return kt(kt({},e),{},vl({},y,e[y]+(f||0)));if((b==="horizontal"||b==="vertical"&&y==="center")&&v!=="middle"&&oe(e[v]))return kt(kt({},e),{},vl({},v,e[v]+(h||0)))}return e},F0e=function(e,n,r){return Ie(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},B3=function(e,n,r,i,o){var s=n.props.children,a=nr(s,Hf).filter(function(u){return F0e(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=wt(c,r);if(Ie(f))return u;var h=Array.isArray(f)?[Yy(f),Co(f)]:[f,f],y=l.reduce(function(v,b){var x=wt(c,b,0),w=h[0]-Math.abs(Array.isArray(x)?x[0]:x),_=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(w,v[0]),Math.max(_,v[1])]},[1/0,-1/0]);return[Math.min(y[0],u[0]),Math.max(y[1],u[1])]},[1/0,-1/0])}return null},U0e=function(e,n,r,i,o){var s=n.map(function(a){return B3(e,a,r,o,i)}).filter(function(a){return!Ie(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},G3=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&B3(e,l,u,i)||Wc(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},z3=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},q3=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},Pi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Pn(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!ku(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},Pv=new WeakMap,Kh=function(e,n){if(typeof n!="function")return e;Pv.has(e)||Pv.set(e,new WeakMap);var r=Pv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},H3=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:Vd(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:Km(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Hc(),realScaleType:"point"}:o==="category"?{scale:Vd(),realScaleType:"band"}:{scale:Km(),realScaleType:"linear"};if(ia(i)){var l="scale".concat(Dy(i));return{scale:(qN[l]||Hc)(),realScaleType:qN[l]?l:"point"}}return _e(i)?{scale:i}:{scale:Hc(),realScaleType:"point"}},ZN=1e-4,W3=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-ZN,s=Math.max(i[0],i[1])+ZN,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},B0e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},G0e=function(e,n){if(!n||n.length!==2||!oe(n[0])||!oe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!oe(e[0])||e[0]<r)&&(o[0]=r),(!oe(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},z0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=ku(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},q0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=ku(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},H0e={sign:z0e,expand:doe,none:Ol,silhouette:foe,wiggle:hoe,positive:q0e},W0e=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=H0e[r],s=coe().keys(i).value(function(a,l){return+wt(a,l,0)}).order(Vb).offset(o);return s(e)},K0e=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(f,h){var y,v=(y=h.type)!==null&&y!==void 0&&y.defaultProps?kt(kt({},h.type.defaultProps),h.props):h.props,b=v.stackId,x=v.hide;if(x)return f;var w=v[r],_=f[w]||{hasStack:!1,stackGroups:{}};if(Bt(b)){var E=_.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};E.items.push(h),_.hasStack=!0,_.stackGroups[b]=E}else _.stackGroups[ya("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return kt(kt({},f),{},vl({},w,_))},l),c={};return Object.keys(u).reduce(function(f,h){var y=u[h];if(y.hasStack){var v={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(b,x){var w=y.stackGroups[x];return kt(kt({},b),{},vl({},x,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:W0e(e,w.items,o)}))},v)}return kt(kt({},f),{},vl({},h,y))},c)},K3=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=l0e(u,o,a);return e.domain([Yy(c),Co(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),h=u0e(f,o,a);return{niceTicks:h}}return null};function tg(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ie(i[e.dataKey])){var a=Am(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=wt(i,Ie(s)?e.dataKey:s);return Ie(l)?null:e.scale(l)}var eR=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=wt(s,n.dataKey,n.domain[a]);return Ie(l)?null:n.scale(l)-o/2+i},Y0e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},J0e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?kt(kt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Bt(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},X0e=function(e){return e.reduce(function(n,r){return[Yy(r.concat([n[0]]).filter(oe)),Co(r.concat([n[1]]).filter(oe))]},[1/0,-1/0])},Y3=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,c){var f=X0e(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},tR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,m_=function(e,n,r){if(_e(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(oe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(tR.test(e[0])){var o=+tR.exec(e[0])[1];i[0]=n[0]-o}else _e(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(oe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(nR.test(e[1])){var s=+nR.exec(e[1])[1];i[1]=n[1]+s}else _e(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},ng=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=B1(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],c=o[a-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},rR=function(e,n,r){return!e||!e.length||Qo(e,tr(r,"type.defaultProps.domain"))?n:e},J3=function(e,n){var r=e.type.defaultProps?kt(kt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return kt(kt({},ye(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:pT(e),value:wt(n,i),type:l,payload:n,chartType:u,hide:c})};function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){X3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X3(t,e,n){return e=Q0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q0e(t){var e=Z0e(t,"string");return Kd(e)=="symbol"?e:e+""}function Z0e(t,e){if(Kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eve(t,e){return ive(t)||rve(t,e)||nve(t,e)||tve()}function tve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nve(t,e){if(t){if(typeof t=="string")return oR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oR(t,e)}}function oR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function ive(t){if(Array.isArray(t))return t}var rg=Math.PI/180,ove=function(e){return e*180/Math.PI},Je=function(e,n,r,i){return{x:e+Math.cos(-rg*i)*r,y:n+Math.sin(-rg*i)*r}},Q3=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Z3=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.startAngle,u=e.endAngle,c=Nn(e.cx,s,s/2),f=Nn(e.cy,a,a/2),h=Q3(s,a,r),y=Nn(e.innerRadius,h,0),v=Nn(e.outerRadius,h,h*.8),b=Object.keys(n);return b.reduce(function(x,w){var _=n[w],E=_.domain,P=_.reversed,S;if(Ie(_.range))i==="angleAxis"?S=[l,u]:i==="radiusAxis"&&(S=[y,v]),P&&(S=[S[1],S[0]]);else{S=_.range;var C=S,I=eve(C,2);l=I[0],u=I[1]}var T=H3(_,o),k=T.realScaleType,N=T.scale;N.domain(E).range(S),W3(N);var O=K3(N,xi(xi({},_),{},{realScaleType:k})),M=xi(xi(xi({},_),O),{},{range:S,radius:v,realScaleType:k,scale:N,cx:c,cy:f,innerRadius:y,outerRadius:v,startAngle:l,endAngle:u});return xi(xi({},x),{},X3({},w,M))},{})},sve=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},ave=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=sve({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:ove(u),angleInRadian:u}},lve=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},uve=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},sR=function(e,n){var r=e.x,i=e.y,o=ave({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=lve(n),f=c.startAngle,h=c.endAngle,y=a,v;if(f<=h){for(;y>h;)y-=360;for(;y<f;)y+=360;v=y>=f&&y<=h}else{for(;y>f;)y-=360;for(;y<h;)y+=360;v=y>=h&&y<=f}return v?xi(xi({},n),{},{radius:s,angle:uve(y,n)}):null},e5=function(e){return!B.isValidElement(e)&&!_e(e)&&typeof e!="boolean"?e.className:""};function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}var cve=["offset"];function dve(t){return mve(t)||pve(t)||hve(t)||fve()}function fve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hve(t,e){if(t){if(typeof t=="string")return g_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g_(t,e)}}function pve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mve(t){if(Array.isArray(t))return g_(t)}function g_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gve(t,e){if(t==null)return{};var n=yve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){vve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vve(t,e,n){return e=xve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xve(t){var e=bve(t,"string");return Yd(e)=="symbol"?e:e+""}function bve(t,e){if(Yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jd(){return Jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jd.apply(this,arguments)}var _ve=function(e){var n=e.value,r=e.formatter,i=Ie(e.children)?n:e.children;return _e(r)?r(i):i},wve=function(e,n){var r=Pn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Eve=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,y=l.startAngle,v=l.endAngle,b=l.clockWise,x=(f+h)/2,w=wve(y,v),_=w>=0?1:-1,E,P;i==="insideStart"?(E=y+_*s,P=b):i==="insideEnd"?(E=v-_*s,P=!b):i==="end"&&(E=v+_*s,P=b),P=w<=0?P:!P;var S=Je(u,c,x,E),C=Je(u,c,x,E+(P?1:-1)*359),I="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(P?0:1,`,
    `).concat(C.x,",").concat(C.y),T=Ie(e.id)?ya("recharts-radial-line-"):e.id;return U.createElement("text",Jd({},r,{dominantBaseline:"central",className:ke("recharts-radial-bar-label",a)}),U.createElement("defs",null,U.createElement("path",{id:T,d:I})),U.createElement("textPath",{xlinkHref:"#".concat(T)},n))},Tve=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,h=(c+f)/2;if(i==="outside"){var y=Je(s,a,u+r,h),v=y.x,b=y.y;return{x:v,y:b,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,w=Je(s,a,x,h),_=w.x,E=w.y;return{x:_,y:E,textAnchor:"middle",verticalAnchor:"middle"}},Sve=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,c=s.height,f=c>=0?1:-1,h=f*i,y=f>0?"end":"start",v=f>0?"start":"end",b=u>=0?1:-1,x=b*i,w=b>0?"end":"start",_=b>0?"start":"end";if(o==="top"){var E={x:a+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:y};return $t($t({},E),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var P={x:a+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:v};return $t($t({},P),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var S={x:a-x,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return $t($t({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(o==="right"){var C={x:a+u+x,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return $t($t({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:c}:{})}var I=r?{width:u,height:c}:{};return o==="insideLeft"?$t({x:a+x,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},I):o==="insideRight"?$t({x:a+u-x,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},I):o==="insideTop"?$t({x:a+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},I):o==="insideBottom"?$t({x:a+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:y},I):o==="insideTopLeft"?$t({x:a+x,y:l+h,textAnchor:_,verticalAnchor:v},I):o==="insideTopRight"?$t({x:a+u-x,y:l+h,textAnchor:w,verticalAnchor:v},I):o==="insideBottomLeft"?$t({x:a+x,y:l+c-h,textAnchor:_,verticalAnchor:y},I):o==="insideBottomRight"?$t({x:a+u-x,y:l+c-h,textAnchor:w,verticalAnchor:y},I):Tu(o)&&(oe(o.x)||Os(o.x))&&(oe(o.y)||Os(o.y))?$t({x:a+Nn(o.x,u),y:l+Nn(o.y,c),textAnchor:"end",verticalAnchor:"end"},I):$t({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},I)},Ave=function(e){return"cx"in e&&oe(e.cx)};function Yt(t){var e=t.offset,n=e===void 0?5:e,r=gve(t,cve),i=$t({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!o||Ie(a)&&Ie(l)&&!B.isValidElement(u)&&!_e(u))return null;if(B.isValidElement(u))return B.cloneElement(u,i);var y;if(_e(u)){if(y=B.createElement(u,i),B.isValidElement(y))return y}else y=_ve(i);var v=Ave(o),b=ye(i,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Eve(i,y,b);var x=v?Tve(i):Sve(i);return U.createElement(sa,Jd({className:ke("recharts-label",f)},b,x,{breakAll:h}),y)}Yt.displayName="Label";var t5=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,y=e.top,v=e.left,b=e.width,x=e.height,w=e.clockWise,_=e.labelViewBox;if(_)return _;if(oe(b)&&oe(x)){if(oe(f)&&oe(h))return{x:f,y:h,width:b,height:x};if(oe(y)&&oe(v))return{x:y,y:v,width:b,height:x}}return oe(f)&&oe(h)?{x:f,y:h,width:0,height:0}:oe(n)&&oe(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:w}:e.viewBox?e.viewBox:{}},Ive=function(e,n){return e?e===!0?U.createElement(Yt,{key:"label-implicit",viewBox:n}):Bt(e)?U.createElement(Yt,{key:"label-implicit",viewBox:n,value:e}):B.isValidElement(e)?e.type===Yt?B.cloneElement(e,{key:"label-implicit",viewBox:n}):U.createElement(Yt,{key:"label-implicit",content:e,viewBox:n}):_e(e)?U.createElement(Yt,{key:"label-implicit",content:e,viewBox:n}):Tu(e)?U.createElement(Yt,Jd({viewBox:n},e,{key:"label-implicit"})):null:null},kve=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=t5(e),s=nr(i,Yt).map(function(l,u){return B.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=Ive(e.label,n||o);return[a].concat(dve(s))};Yt.parseViewBox=t5;Yt.renderCallByParent=kve;function Cve(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Pve=Cve;const n5=Qe(Pve);function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}var Nve=["valueAccessor"],Rve=["data","dataKey","clockWise","id","textBreakAll"];function Ove(t){return Lve(t)||jve(t)||Dve(t)||Mve()}function Mve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dve(t,e){if(t){if(typeof t=="string")return y_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y_(t,e)}}function jve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lve(t){if(Array.isArray(t))return y_(t)}function y_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ig(){return ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ig.apply(this,arguments)}function lR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(n),!0).forEach(function(r){$ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ve(t,e,n){return e=Vve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vve(t){var e=Fve(t,"string");return Xd(e)=="symbol"?e:e+""}function Fve(t,e){if(Xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cR(t,e){if(t==null)return{};var n=Uve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Uve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Bve=function(e){return Array.isArray(e.value)?n5(e.value):e.value};function Br(t){var e=t.valueAccessor,n=e===void 0?Bve:e,r=cR(t,Nve),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=cR(r,Rve);return!i||!i.length?null:U.createElement(je,{className:"recharts-label-list"},i.map(function(c,f){var h=Ie(o)?n(c,f):wt(c&&c.payload,o),y=Ie(a)?{}:{id:"".concat(a,"-").concat(f)};return U.createElement(Yt,ig({},ye(c,!0),u,y,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Yt.parseViewBox(Ie(s)?c:uR(uR({},c),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Br.displayName="LabelList";function Gve(t,e){return t?t===!0?U.createElement(Br,{key:"labelList-implicit",data:e}):U.isValidElement(t)||_e(t)?U.createElement(Br,{key:"labelList-implicit",data:e,content:t}):Tu(t)?U.createElement(Br,ig({data:e},t,{key:"labelList-implicit"})):null:null}function zve(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=nr(r,Br).map(function(s,a){return B.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=Gve(t.label,e);return[o].concat(Ove(i))}Br.renderCallByParent=zve;function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}function v_(){return v_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v_.apply(this,arguments)}function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){qve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qve(t,e,n){return e=Hve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hve(t){var e=Wve(t,"string");return Qd(e)=="symbol"?e:e+""}function Wve(t,e){if(Qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kve=function(e,n){var r=Pn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Yh=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+i,f=Math.asin(l/c)/rg,h=u?o:o+s*f,y=Je(n,r,c,h),v=Je(n,r,i,h),b=u?o-s*f:o,x=Je(n,r,c*Math.cos(f*rg),b);return{center:y,circleTangency:v,lineTangency:x,theta:f}},r5=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=Kve(s,a),u=s+l,c=Je(n,r,o,s),f=Je(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var y=Je(n,r,i,s),v=Je(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},Yve=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Pn(c-u),h=Yh({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),y=h.circleTangency,v=h.lineTangency,b=h.theta,x=Yh({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:s,cornerIsExternal:l}),w=x.circleTangency,_=x.lineTangency,E=x.theta,P=l?Math.abs(u-c):Math.abs(u-c)-b-E;if(P<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):r5({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(P>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var C=Yh({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),I=C.circleTangency,T=C.lineTangency,k=C.theta,N=Yh({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),O=N.circleTangency,M=N.lineTangency,D=N.theta,z=l?Math.abs(u-c):Math.abs(u-c)-k-D;if(z<0&&s===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(M.x,",").concat(M.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(z>180),",").concat(+(f>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},Jve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},i5=function(e){var n=fR(fR({},Jve),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(s<o||c===f)return null;var y=ke("recharts-sector",h),v=s-o,b=Nn(a,v,0,!0),x;return b>0&&Math.abs(c-f)<360?x=Yve({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(b,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):x=r5({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:f}),U.createElement("path",v_({},ye(n,!0),{className:y,d:x,role:"img"}))};function Zd(t){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zd(t)}function x_(){return x_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},x_.apply(this,arguments)}function hR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(n),!0).forEach(function(r){Xve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xve(t,e,n){return e=Qve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qve(t){var e=Zve(t,"string");return Zd(e)=="symbol"?e:e+""}function Zve(t,e){if(Zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mR={curveBasisClosed:Zie,curveBasisOpen:eoe,curveBasis:Qie,curveBumpX:$ie,curveBumpY:Vie,curveLinearClosed:toe,curveLinear:Ly,curveMonotoneX:noe,curveMonotoneY:roe,curveNatural:ioe,curveStep:ooe,curveStepAfter:aoe,curveStepBefore:soe},Jh=function(e){return e.x===+e.x&&e.y===+e.y},mc=function(e){return e.x},gc=function(e){return e.y},exe=function(e,n){if(_e(e))return e;var r="curve".concat(Dy(e));return(r==="curveMonotone"||r==="curveBump")&&n?mR["".concat(r).concat(n==="vertical"?"Y":"X")]:mR[r]||Ly},txe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=exe(r,a),f=u?o.filter(function(b){return Jh(b)}):o,h;if(Array.isArray(s)){var y=u?s.filter(function(b){return Jh(b)}):s,v=f.map(function(b,x){return pR(pR({},b),{},{base:y[x]})});return a==="vertical"?h=Fh().y(gc).x1(mc).x0(function(b){return b.base.x}):h=Fh().x(mc).y1(gc).y0(function(b){return b.base.y}),h.defined(Jh).curve(c),h(v)}return a==="vertical"&&oe(s)?h=Fh().y(gc).x1(mc).x0(s):oe(s)?h=Fh().x(mc).y1(gc).y0(s):h=X$().x(mc).y(gc),h.defined(Jh).curve(c),h(f)},zs=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?txe(e):i;return B.createElement("path",x_({},ye(e,!1),Im(e),{className:ke("recharts-curve",n),d:s,ref:o}))},o5={exports:{}},nxe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rxe=nxe,ixe=rxe;function s5(){}function a5(){}a5.resetWarningCache=s5;var oxe=function(){function t(r,i,o,s,a,l){if(l!==ixe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:a5,resetWarningCache:s5};return n.PropTypes=n,n};o5.exports=oxe();var sxe=o5.exports;const Xe=Qe(sxe),{getOwnPropertyNames:axe,getOwnPropertySymbols:lxe}=Object,{hasOwnProperty:uxe}=Object.prototype;function Nv(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Xh(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function cxe(t){return t!=null?t[Symbol.toStringTag]:void 0}function gR(t){return axe(t).concat(lxe(t))}const dxe=Object.hasOwn||((t,e)=>uxe.call(t,e));function _a(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const fxe="__v",hxe="__o",pxe="_owner",{getOwnPropertyDescriptor:yR,keys:vR}=Object;function mxe(t,e){return t.byteLength===e.byteLength&&og(new Uint8Array(t),new Uint8Array(e))}function gxe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function yxe(t,e){return t.byteLength===e.byteLength&&og(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function vxe(t,e){return _a(t.getTime(),e.getTime())}function xxe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function bxe(t,e){return t===e}function xR(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,a,l=0;for(;(s=o.next())&&!s.done;){const u=e.entries();let c=!1,f=0;for(;(a=u.next())&&!a.done;){if(i[f]){f++;continue}const h=s.value,y=a.value;if(n.equals(h[0],y[0],l,f,t,e,n)&&n.equals(h[1],y[1],h[0],y[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}const _xe=_a;function wxe(t,e,n){const r=vR(t);let i=r.length;if(vR(e).length!==i)return!1;for(;i-- >0;)if(!l5(t,e,n,r[i]))return!1;return!0}function yc(t,e,n){const r=gR(t);let i=r.length;if(gR(e).length!==i)return!1;let o,s,a;for(;i-- >0;)if(o=r[i],!l5(t,e,n,o)||(s=yR(t,o),a=yR(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function Exe(t,e){return _a(t.valueOf(),e.valueOf())}function Txe(t,e){return t.source===e.source&&t.flags===e.flags}function bR(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,a;for(;(s=o.next())&&!s.done;){const l=e.values();let u=!1,c=0;for(;(a=l.next())&&!a.done;){if(!i[c]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function og(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Sxe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function l5(t,e,n,r){return(r===pxe||r===hxe||r===fxe)&&(t.$$typeof||e.$$typeof)?!0:dxe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Axe="[object ArrayBuffer]",Ixe="[object Arguments]",kxe="[object Boolean]",Cxe="[object DataView]",Pxe="[object Date]",Nxe="[object Error]",Rxe="[object Map]",Oxe="[object Number]",Mxe="[object Object]",Dxe="[object RegExp]",jxe="[object Set]",Lxe="[object String]",$xe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Vxe="[object URL]",Fxe=Object.prototype.toString;function Uxe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:y,unknownTagComparators:v}){return function(x,w,_){if(x===w)return!0;if(x==null||w==null)return!1;const E=typeof x;if(E!==typeof w)return!1;if(E!=="object")return E==="number"?a(x,w,_):E==="function"?o(x,w,_):!1;const P=x.constructor;if(P!==w.constructor)return!1;if(P===Object)return l(x,w,_);if(Array.isArray(x))return e(x,w,_);if(P===Date)return r(x,w,_);if(P===RegExp)return c(x,w,_);if(P===Map)return s(x,w,_);if(P===Set)return f(x,w,_);const S=Fxe.call(x);if(S===Pxe)return r(x,w,_);if(S===Dxe)return c(x,w,_);if(S===Rxe)return s(x,w,_);if(S===jxe)return f(x,w,_);if(S===Mxe)return typeof x.then!="function"&&typeof w.then!="function"&&l(x,w,_);if(S===Vxe)return y(x,w,_);if(S===Nxe)return i(x,w,_);if(S===Ixe)return l(x,w,_);if($xe[S])return h(x,w,_);if(S===Axe)return t(x,w,_);if(S===Cxe)return n(x,w,_);if(S===kxe||S===Oxe||S===Lxe)return u(x,w,_);if(v){let C=v[S];if(!C){const I=cxe(x);I&&(C=v[I])}if(C)return C(x,w,_)}return!1}}function Bxe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:mxe,areArraysEqual:n?yc:gxe,areDataViewsEqual:yxe,areDatesEqual:vxe,areErrorsEqual:xxe,areFunctionsEqual:bxe,areMapsEqual:n?Nv(xR,yc):xR,areNumbersEqual:_xe,areObjectsEqual:n?yc:wxe,arePrimitiveWrappersEqual:Exe,areRegExpsEqual:Txe,areSetsEqual:n?Nv(bR,yc):bR,areTypedArraysEqual:n?Nv(og,yc):og,areUrlsEqual:Sxe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=Xh(r.areArraysEqual),o=Xh(r.areMapsEqual),s=Xh(r.areObjectsEqual),a=Xh(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:a})}return r}function Gxe(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function zxe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(a,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(a,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(a,l){return e(a,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(a,l){return e(a,l,o)}}const qxe=cs();cs({strict:!0});cs({circular:!0});cs({circular:!0,strict:!0});cs({createInternalComparator:()=>_a});cs({strict:!0,createInternalComparator:()=>_a});cs({circular:!0,createInternalComparator:()=>_a});cs({circular:!0,createInternalComparator:()=>_a,strict:!0});function cs(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=Bxe(t),s=Uxe(o),a=n?n(s):Gxe(s);return zxe({circular:e,comparator:s,createState:r,equals:a,strict:i})}function Hxe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function _R(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Hxe(i)};requestAnimationFrame(r)}function b_(t){"@babel/helpers - typeof";return b_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b_(t)}function Wxe(t){return Xxe(t)||Jxe(t)||Yxe(t)||Kxe()}function Kxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yxe(t,e){if(t){if(typeof t=="string")return wR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wR(t,e)}}function wR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xxe(t){if(Array.isArray(t))return t}function Qxe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=Wxe(s),l=a[0],u=a.slice(1);if(typeof l=="number"){_R(i.bind(null,u),l);return}i(l),_R(i.bind(null,u));return}b_(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function ER(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(n),!0).forEach(function(r){u5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u5(t,e,n){return e=Zxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zxe(t){var e=ebe(t,"string");return ef(e)==="symbol"?e:String(e)}function ebe(t,e){if(ef(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tbe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},nbe=function(e){return e},rbe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Kc=function(e,n){return Object.keys(n).reduce(function(r,i){return TR(TR({},r),{},u5({},i,e(i,n[i])))},{})},SR=function(e,n,r){return e.map(function(i){return"".concat(rbe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function ibe(t,e){return abe(t)||sbe(t,e)||c5(t,e)||obe()}function obe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function abe(t){if(Array.isArray(t))return t}function lbe(t){return dbe(t)||cbe(t)||c5(t)||ube()}function ube(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c5(t,e){if(t){if(typeof t=="string")return __(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return __(t,e)}}function cbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dbe(t){if(Array.isArray(t))return __(t)}function __(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sg=1e-4,d5=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},f5=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},AR=function(e,n){return function(r){var i=d5(e,n);return f5(i,r)}},fbe=function(e,n){return function(r){var i=d5(e,n),o=[].concat(lbe(i.map(function(s,a){return s*a}).slice(1)),[0]);return f5(o,r)}},IR=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),c=ibe(u,4);i=c[0],o=c[1],s=c[2],a=c[3]}}}var f=AR(i,s),h=AR(o,a),y=fbe(i,s),v=function(w){return w>1?1:w<0?0:w},b=function(w){for(var _=w>1?1:w,E=_,P=0;P<8;++P){var S=f(E)-_,C=y(E);if(Math.abs(S-_)<sg||C<sg)return h(E);E=v(E-S/C)}return h(E)};return b.isStepper=!1,b},hbe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(c,f,h){var y=-(c-f)*r,v=h*o,b=h+(y-v)*a/1e3,x=h*a/1e3+c;return Math.abs(x-f)<sg&&Math.abs(b)<sg?[f,0]:[x,b]};return l.isStepper=!0,l.dt=a,l},pbe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return IR(i);case"spring":return hbe();default:if(i.split("(")[0]==="cubic-bezier")return IR(i)}return typeof i=="function"?i:null};function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function kR(t){return ybe(t)||gbe(t)||h5(t)||mbe()}function mbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ybe(t){if(Array.isArray(t))return E_(t)}function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){w_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w_(t,e,n){return e=vbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vbe(t){var e=xbe(t,"string");return tf(e)==="symbol"?e:String(e)}function xbe(t,e){if(tf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bbe(t,e){return Ebe(t)||wbe(t,e)||h5(t,e)||_be()}function _be(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h5(t,e){if(t){if(typeof t=="string")return E_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E_(t,e)}}function E_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Ebe(t){if(Array.isArray(t))return t}var ag=function(e,n,r){return e+(n-e)*r},T_=function(e){var n=e.from,r=e.to;return n!==r},Tbe=function t(e,n,r){var i=Kc(function(o,s){if(T_(s)){var a=e(s.from,s.to,s.velocity),l=bbe(a,2),u=l[0],c=l[1];return tn(tn({},s),{},{from:u,velocity:c})}return s},n);return r<1?Kc(function(o,s){return T_(s)?tn(tn({},s),{},{velocity:ag(s.velocity,i[o].velocity,r),from:ag(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const Sbe=function(t,e,n,r,i){var o=tbe(t,e),s=o.reduce(function(x,w){return tn(tn({},x),{},w_({},w,[t[w],e[w]]))},{}),a=o.reduce(function(x,w){return tn(tn({},x),{},w_({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return Kc(function(w,_){return _.from},a)},y=function(){return!Object.values(a).filter(T_).length},v=function(w){u||(u=w);var _=w-u,E=_/n.dt;a=Tbe(n,a,E),i(tn(tn(tn({},t),e),h())),u=w,y()||(l=requestAnimationFrame(f))},b=function(w){c||(c=w);var _=(w-c)/r,E=Kc(function(S,C){return ag.apply(void 0,kR(C).concat([n(_)]))},s);if(i(tn(tn(tn({},t),e),E)),_<1)l=requestAnimationFrame(f);else{var P=Kc(function(S,C){return ag.apply(void 0,kR(C).concat([n(1)]))},s);i(tn(tn(tn({},t),e),P))}};return f=n.isStepper?v:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}var Abe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Ibe(t,e){if(t==null)return{};var n=kbe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kbe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Rv(t){return Rbe(t)||Nbe(t)||Pbe(t)||Cbe()}function Cbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pbe(t,e){if(t){if(typeof t=="string")return S_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S_(t,e)}}function Nbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rbe(t){if(Array.isArray(t))return S_(t)}function S_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(n),!0).forEach(function(r){Cc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cc(t,e,n){return e=p5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Obe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p5(r.key),r)}}function Dbe(t,e,n){return e&&Mbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function p5(t){var e=jbe(t,"string");return Bl(e)==="symbol"?e:String(e)}function jbe(t,e){if(Bl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A_(t,e)}function A_(t,e){return A_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},A_(t,e)}function $be(t){var e=Vbe();return function(){var r=lg(t),i;if(e){var o=lg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return I_(this,i)}}function I_(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k_(t)}function k_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lg(t){return lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lg(t)}var wr=function(t){Lbe(n,t);var e=$be(n);function n(r,i){var o;Obe(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,c=s.to,f=s.steps,h=s.children,y=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(k_(o)),o.changeStyle=o.changeStyle.bind(k_(o)),!a||y<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),I_(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},I_(o);o.state={style:l?Cc({},l,u):u}}else o.state={style:{}};return o}return Dbe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,h=this.state.style;if(a){if(!s){var y={style:l?Cc({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(y);return}if(!(qxe(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=v||u?f:i.to;if(this.state&&h){var x={style:l?Cc({},l,b):b};(l&&h[l]!==b||!l&&h!==b)&&this.setState(x)}this.runAnimation(kr(kr({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,y=Sbe(s,a,pbe(u),l,this.changeStyle),v=function(){o.stopJSAnimation=y()};this.manager.start([h,c,v,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,f=u.duration,h=f===void 0?0:f,y=function(b,x,w){if(w===0)return b;var _=x.duration,E=x.easing,P=E===void 0?"ease":E,S=x.style,C=x.properties,I=x.onAnimationEnd,T=w>0?s[w-1]:x,k=C||Object.keys(S);if(typeof P=="function"||P==="spring")return[].concat(Rv(b),[o.runJSAnimation.bind(o,{from:T.style,to:S,duration:_,easing:P}),_]);var N=SR(k,_,P),O=kr(kr(kr({},T.style),S),{},{transition:N});return[].concat(Rv(b),[O,_,I]).filter(nbe)};return this.manager.start([l].concat(Rv(s.reduce(y,[c,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Qxe());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,y=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof y=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var b=a?Cc({},a,l):l,x=SR(Object.keys(b),s,u);v.start([c,o,kr(kr({},b),{},{transition:x}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Ibe(i,Abe),u=B.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!a||u===0||s<=0)return o;var f=function(y){var v=y.props,b=v.style,x=b===void 0?{}:b,w=v.className,_=B.cloneElement(y,kr(kr({},l),{},{style:kr(kr({},x),c),className:w}));return _};return u===1?f(B.Children.only(o)):U.createElement("div",null,B.Children.map(o,function(h){return f(h)}))}}]),n}(B.PureComponent);wr.displayName="Animate";wr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};wr.propTypes={from:Xe.oneOfType([Xe.object,Xe.string]),to:Xe.oneOfType([Xe.object,Xe.string]),attributeName:Xe.string,duration:Xe.number,begin:Xe.number,easing:Xe.oneOfType([Xe.string,Xe.func]),steps:Xe.arrayOf(Xe.shape({duration:Xe.number.isRequired,style:Xe.object.isRequired,easing:Xe.oneOfType([Xe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Xe.func]),properties:Xe.arrayOf("string"),onAnimationEnd:Xe.func})),children:Xe.oneOfType([Xe.node,Xe.func]),isActive:Xe.bool,canBegin:Xe.bool,onAnimationEnd:Xe.func,shouldReAnimate:Xe.bool,onAnimationStart:Xe.func,onAnimationReStart:Xe.func};function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function ug(){return ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ug.apply(this,arguments)}function Fbe(t,e){return zbe(t)||Gbe(t,e)||Bbe(t,e)||Ube()}function Ube(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bbe(t,e){if(t){if(typeof t=="string")return NR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NR(t,e)}}function NR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function zbe(t){if(Array.isArray(t))return t}function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){qbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qbe(t,e,n){return e=Hbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hbe(t){var e=Wbe(t,"string");return nf(e)=="symbol"?e:e+""}function Wbe(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MR=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,y=4;h<y;h++)f[h]=o[h]>s?s:o[h];c="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*f[1])),c+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*f[3])),c+="Z"}else if(s>0&&o===+o&&o>0){var v=Math.min(s,o);c="M ".concat(e,",").concat(n+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*v,`
            L `).concat(e+r,",").concat(n+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*v," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Kbe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),c=Math.max(o,o+a),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},Ybe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mT=function(e){var n=OR(OR({},Ybe),e),r=B.useRef(),i=B.useState(-1),o=Fbe(i,2),s=o[0],a=o[1];B.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&a(P)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,y=n.className,v=n.animationEasing,b=n.animationDuration,x=n.animationBegin,w=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var E=ke("recharts-rectangle",y);return _?U.createElement(wr,{canBegin:s>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:b,animationEasing:v,isActive:_},function(P){var S=P.width,C=P.height,I=P.x,T=P.y;return U.createElement(wr,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,isActive:w,easing:v},U.createElement("path",ug({},ye(n,!0),{className:E,d:MR(I,T,S,C,h),ref:r})))}):U.createElement("path",ug({},ye(n,!0),{className:E,d:MR(l,u,c,f,h)}))},Jbe=["points","className","baseLinePoints","connectNulls"];function el(){return el=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},el.apply(this,arguments)}function Xbe(t,e){if(t==null)return{};var n=Qbe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qbe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function DR(t){return n_e(t)||t_e(t)||e_e(t)||Zbe()}function Zbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e_e(t,e){if(t){if(typeof t=="string")return C_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C_(t,e)}}function t_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function n_e(t){if(Array.isArray(t))return C_(t)}function C_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var jR=function(e){return e&&e.x===+e.x&&e.y===+e.y},r_e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){jR(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),jR(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Yc=function(e,n){var r=r_e(e);n&&(r=[r.reduce(function(o,s){return[].concat(DR(o),DR(s))},[])]);var i=r.map(function(o){return o.reduce(function(s,a,l){return"".concat(s).concat(l===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},i_e=function(e,n,r){var i=Yc(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Yc(n.reverse(),r).slice(1))},m5=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,s=Xbe(e,Jbe);if(!n||!n.length)return null;var a=ke("recharts-polygon",r);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",u=i_e(n,i,o);return U.createElement("g",{className:a},U.createElement("path",el({},ye(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),l?U.createElement("path",el({},ye(s,!0),{fill:"none",d:Yc(n,o)})):null,l?U.createElement("path",el({},ye(s,!0),{fill:"none",d:Yc(i,o)})):null)}var c=Yc(n,o);return U.createElement("path",el({},ye(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",className:a,d:c}))};function P_(){return P_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P_.apply(this,arguments)}var Du=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=ke("recharts-dot",o);return n===+n&&r===+r&&i===+i?B.createElement("circle",P_({},ye(e,!1),Im(e),{className:s,cx:n,cy:r,r:i})):null};function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}var o_e=["x","y","top","left","width","height","className"];function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N_.apply(this,arguments)}function LR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s_e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(n),!0).forEach(function(r){a_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a_e(t,e,n){return e=l_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l_e(t){var e=u_e(t,"string");return rf(e)=="symbol"?e:e+""}function u_e(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c_e(t,e){if(t==null)return{};var n=d_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function d_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var f_e=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},h_e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,y=h===void 0?0:h,v=e.className,b=c_e(e,o_e),x=s_e({x:r,y:o,top:a,left:u,width:f,height:y},b);return!oe(r)||!oe(o)||!oe(f)||!oe(y)||!oe(a)||!oe(u)?null:U.createElement("path",N_({},ye(x,!0),{className:ke("recharts-cross",v),d:f_e(r,o,f,y,a,u)}))},p_e=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function m_e(t,e){if(t==null)return{};var n=g_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function g_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xi(){return Xi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xi.apply(this,arguments)}function $R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(n),!0).forEach(function(r){y_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y_e(t,e,n){return e=v_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v_e(t){var e=x_e(t,"string");return of(e)=="symbol"?e:e+""}function x_e(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b_e=function(e,n,r,i){var o="";return i.forEach(function(s,a){var l=Je(n,r,e,s);a?o+="L ".concat(l.x,",").concat(l.y):o+="M ".concat(l.x,",").concat(l.y)}),o+="Z",o},__e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.polarAngles,a=e.radialLines;if(!s||!s.length||!a)return null;var l=sf({stroke:"#ccc"},ye(e,!1));return U.createElement("g",{className:"recharts-polar-grid-angle"},s.map(function(u){var c=Je(n,r,i,u),f=Je(n,r,o,u);return U.createElement("line",Xi({},l,{key:"line-".concat(u),x1:c.x,y1:c.y,x2:f.x,y2:f.y}))}))},w_e=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.index,s=sf(sf({stroke:"#ccc"},ye(e,!1)),{},{fill:"none"});return U.createElement("circle",Xi({},s,{className:ke("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(o),cx:n,cy:r,r:i}))},E_e=function(e){var n=e.radius,r=e.index,i=sf(sf({stroke:"#ccc"},ye(e,!1)),{},{fill:"none"});return U.createElement("path",Xi({},i,{className:ke("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:b_e(n,e.cx,e.cy,e.polarAngles)}))},T_e=function(e){var n=e.polarRadius,r=e.gridType;return!n||!n.length?null:U.createElement("g",{className:"recharts-polar-grid-concentric"},n.map(function(i,o){var s=o;return r==="circle"?U.createElement(w_e,Xi({key:s},e,{radius:i,index:o})):U.createElement(E_e,Xi({key:s},e,{radius:i,index:o}))}))},g5=function(e){var n=e.cx,r=n===void 0?0:n,i=e.cy,o=i===void 0?0:i,s=e.innerRadius,a=s===void 0?0:s,l=e.outerRadius,u=l===void 0?0:l,c=e.gridType,f=c===void 0?"polygon":c,h=e.radialLines,y=h===void 0?!0:h,v=m_e(e,p_e);return u<=0?null:U.createElement("g",{className:"recharts-polar-grid"},U.createElement(__e,Xi({cx:r,cy:o,innerRadius:a,outerRadius:u,gridType:f,radialLines:y},v)),U.createElement(T_e,Xi({cx:r,cy:o,innerRadius:a,outerRadius:u,gridType:f,radialLines:y},v)))};g5.displayName="PolarGrid";var S_e=Ky,A_e=T3,I_e=hi;function k_e(t,e){return t&&t.length?S_e(t,I_e(e),A_e):void 0}var C_e=k_e;const P_e=Qe(C_e);var N_e=Ky,R_e=hi,O_e=S3;function M_e(t,e){return t&&t.length?N_e(t,R_e(e),O_e):void 0}var D_e=M_e;const j_e=Qe(D_e);var L_e=["cx","cy","angle","ticks","axisLine"],$_e=["ticks","tick","angle","tickFormatter","stroke"];function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function Jc(){return Jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jc.apply(this,arguments)}function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ys(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){Qy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FR(t,e){if(t==null)return{};var n=V_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function V_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function F_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v5(r.key),r)}}function U_e(t,e,n){return e&&UR(t.prototype,e),n&&UR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function B_e(t,e,n){return e=cg(e),G_e(t,y5()?Reflect.construct(e,n||[],cg(t).constructor):e.apply(t,n))}function G_e(t,e){if(e&&(Gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z_e(t)}function z_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y5=function(){return!!t})()}function cg(t){return cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cg(t)}function q_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R_(t,e)}function R_(t,e){return R_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},R_(t,e)}function Qy(t,e,n){return e=v5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v5(t){var e=H_e(t,"string");return Gl(e)=="symbol"?e:e+""}function H_e(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ju=function(t){function e(){return F_e(this,e),B_e(this,e,arguments)}return q_e(e,t),U_e(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,s=o.angle,a=o.cx,l=o.cy;return Je(a,l,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,l=P_e(a,function(c){return c.coordinate||0}),u=j_e(a,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,l=r.axisLine,u=FR(r,L_e),c=a.reduce(function(v,b){return[Math.min(v[0],b.coordinate),Math.max(v[1],b.coordinate)]},[1/0,-1/0]),f=Je(i,o,c[0],s),h=Je(i,o,c[1],s),y=ys(ys(ys({},ye(u,!1)),{},{fill:"none"},ye(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return U.createElement("line",Jc({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.angle,l=i.tickFormatter,u=i.stroke,c=FR(i,$_e),f=this.getTickTextAnchor(),h=ye(c,!1),y=ye(s,!1),v=o.map(function(b,x){var w=r.getTickValueCoord(b),_=ys(ys(ys(ys({textAnchor:f,transform:"rotate(".concat(90-a,", ").concat(w.x,", ").concat(w.y,")")},h),{},{stroke:"none",fill:u},y),{},{index:x},w),{},{payload:b});return U.createElement(je,Jc({className:ke("recharts-polar-radius-axis-tick",e5(s)),key:"tick-".concat(b.coordinate)},oa(r.props,b,x)),e.renderTickItem(s,_,l?l(b.value,x):b.value))});return U.createElement(je,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,s=r.tick;return!i||!i.length?null:U.createElement(je,{className:ke("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),Yt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var s;return U.isValidElement(r)?s=U.cloneElement(r,i):_e(r)?s=r(i):s=U.createElement(sa,Jc({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])}(B.PureComponent);Qy(ju,"displayName","PolarRadiusAxis");Qy(ju,"axisType","radiusAxis");Qy(ju,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function Is(){return Is=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Is.apply(this,arguments)}function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){Zy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b5(r.key),r)}}function K_e(t,e,n){return e&&GR(t.prototype,e),n&&GR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y_e(t,e,n){return e=dg(e),J_e(t,x5()?Reflect.construct(e,n||[],dg(t).constructor):e.apply(t,n))}function J_e(t,e){if(e&&(zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X_e(t)}function X_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x5=function(){return!!t})()}function dg(t){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dg(t)}function Q_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O_(t,e)}function O_(t,e){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O_(t,e)}function Zy(t,e,n){return e=b5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b5(t){var e=Z_e(t,"string");return zl(e)=="symbol"?e:e+""}function Z_e(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ewe=Math.PI/180,zR=1e-5,Lu=function(t){function e(){return W_e(this,e),Y_e(this,e,arguments)}return Q_e(e,t),K_e(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,s=i.cy,a=i.radius,l=i.orientation,u=i.tickSize,c=u||8,f=Je(o,s,a,r.coordinate),h=Je(o,s,a+(l==="inner"?-1:1)*c,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*ewe),s;return o>zR?s=i==="outer"?"start":"end":o<-zR?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.radius,a=r.axisLine,l=r.axisLineType,u=vs(vs({},ye(this.props,!1)),{},{fill:"none"},ye(a,!1));if(l==="circle")return U.createElement(Du,Is({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:s}));var c=this.props.ticks,f=c.map(function(h){return Je(i,o,s,h.coordinate)});return U.createElement(m5,Is({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.tickLine,l=i.tickFormatter,u=i.stroke,c=ye(this.props,!1),f=ye(s,!1),h=vs(vs({},c),{},{fill:"none"},ye(a,!1)),y=o.map(function(v,b){var x=r.getTickLineCoord(v),w=r.getTickTextAnchor(v),_=vs(vs(vs({textAnchor:w},c),{},{stroke:"none",fill:u},f),{},{index:b,payload:v,x:x.x2,y:x.y2});return U.createElement(je,Is({className:ke("recharts-polar-angle-axis-tick",e5(s)),key:"tick-".concat(v.coordinate)},oa(r.props,v,b)),a&&U.createElement("line",Is({className:"recharts-polar-angle-axis-tick-line"},h,x)),s&&e.renderTickItem(s,_,l?l(v.value,b):v.value))});return U.createElement(je,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,s=r.axisLine;return o<=0||!i||!i.length?null:U.createElement(je,{className:ke("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var s;return U.isValidElement(r)?s=U.cloneElement(r,i):_e(r)?s=r(i):s=U.createElement(sa,Is({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])}(B.PureComponent);Zy(Lu,"displayName","PolarAngleAxis");Zy(Lu,"axisType","angleAxis");Zy(Lu,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var twe=_4,nwe=twe(Object.getPrototypeOf,Object),rwe=nwe,iwe=ro,owe=rwe,swe=io,awe="[object Object]",lwe=Function.prototype,uwe=Object.prototype,_5=lwe.toString,cwe=uwe.hasOwnProperty,dwe=_5.call(Object);function fwe(t){if(!swe(t)||iwe(t)!=awe)return!1;var e=owe(t);if(e===null)return!0;var n=cwe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&_5.call(n)==dwe}var hwe=fwe;const pwe=Qe(hwe);var mwe=ro,gwe=io,ywe="[object Boolean]";function vwe(t){return t===!0||t===!1||gwe(t)&&mwe(t)==ywe}var xwe=vwe;const bwe=Qe(xwe);function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function fg(){return fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fg.apply(this,arguments)}function _we(t,e){return Swe(t)||Twe(t,e)||Ewe(t,e)||wwe()}function wwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ewe(t,e){if(t){if(typeof t=="string")return qR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qR(t,e)}}function qR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Twe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Swe(t){if(Array.isArray(t))return t}function HR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HR(Object(n),!0).forEach(function(r){Awe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Awe(t,e,n){return e=Iwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iwe(t){var e=kwe(t,"string");return af(e)=="symbol"?e:e+""}function kwe(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KR=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},Cwe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Pwe=function(e){var n=WR(WR({},Cwe),e),r=B.useRef(),i=B.useState(-1),o=_we(i,2),s=o[0],a=o[1];B.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&a(E)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,y=n.className,v=n.animationEasing,b=n.animationDuration,x=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var _=ke("recharts-trapezoid",y);return w?U.createElement(wr,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:b,animationEasing:v,isActive:w},function(E){var P=E.upperWidth,S=E.lowerWidth,C=E.height,I=E.x,T=E.y;return U.createElement(wr,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,easing:v},U.createElement("path",fg({},ye(n,!0),{className:_,d:KR(I,T,P,S,C),ref:r})))}):U.createElement("g",null,U.createElement("path",fg({},ye(n,!0),{className:_,d:KR(l,u,c,f,h)})))},Nwe=["option","shapeType","propTransformer","activeClassName","isActive"];function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function Rwe(t,e){if(t==null)return{};var n=Owe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Owe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function YR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(n),!0).forEach(function(r){Mwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mwe(t,e,n){return e=Dwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dwe(t){var e=jwe(t,"string");return lf(e)=="symbol"?e:e+""}function jwe(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lwe(t,e){return hg(hg({},e),t)}function $we(t,e){return t==="symbols"}function JR(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return U.createElement(mT,n);case"trapezoid":return U.createElement(Pwe,n);case"sector":return U.createElement(i5,n);case"symbols":if($we(e))return U.createElement(M1,n);break;default:return null}}function Vwe(t){return B.isValidElement(t)?t.props:t}function w5(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Lwe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=Rwe(t,Nwe),u;if(B.isValidElement(e))u=B.cloneElement(e,hg(hg({},l),Vwe(e)));else if(_e(e))u=e(l);else if(pwe(e)&&!bwe(e)){var c=i(e,l);u=U.createElement(JR,{shapeType:n,elementProps:c})}else{var f=l;u=U.createElement(JR,{shapeType:n,elementProps:f})}return a?U.createElement(je,{className:s},u):u}function e0(t,e){return e!=null&&"trapezoids"in t.props}function t0(t,e){return e!=null&&"sectors"in t.props}function uf(t,e){return e!=null&&"points"in t.props}function Fwe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Uwe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Bwe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Gwe(t,e){var n;return e0(t,e)?n=Fwe:t0(t,e)?n=Uwe:uf(t,e)&&(n=Bwe),n}function zwe(t,e){var n;return e0(t,e)?n="trapezoids":t0(t,e)?n="sectors":uf(t,e)&&(n="points"),n}function qwe(t,e){if(e0(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(t0(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return uf(t,e)?e.payload:{}}function Hwe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=zwe(n,e),o=qwe(n,e),s=r.filter(function(l,u){var c=Qo(o,l),f=n.props[i].filter(function(v){var b=Gwe(n,e);return b(v,e)}),h=n.props[i].indexOf(f[f.length-1]),y=u===h;return c&&y}),a=r.indexOf(s[s.length-1]);return a}var Ap;function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function tl(){return tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tl.apply(this,arguments)}function XR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XR(Object(n),!0).forEach(function(r){dr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T5(r.key),r)}}function Kwe(t,e,n){return e&&QR(t.prototype,e),n&&QR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ywe(t,e,n){return e=pg(e),Jwe(t,E5()?Reflect.construct(e,n||[],pg(t).constructor):e.apply(t,n))}function Jwe(t,e){if(e&&(ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xwe(t)}function Xwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E5=function(){return!!t})()}function pg(t){return pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pg(t)}function Qwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M_(t,e)}function M_(t,e){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M_(t,e)}function dr(t,e,n){return e=T5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T5(t){var e=Zwe(t,"string");return ql(e)=="symbol"?e:e+""}function Zwe(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pi=function(t){function e(n){var r;return Wwe(this,e),r=Ywe(this,e,[n]),dr(r,"pieRef",null),dr(r,"sectorRefs",[]),dr(r,"id",ya("recharts-pie-")),dr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),_e(i)&&i()}),dr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),_e(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Qwe(e,t),Kwe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,a=o.labelLine,l=o.dataKey,u=o.valueKey,c=ye(this.props,!1),f=ye(s,!1),h=ye(a,!1),y=s&&s.offsetRadius||20,v=r.map(function(b,x){var w=(b.startAngle+b.endAngle)/2,_=Je(b.cx,b.cy,b.outerRadius+y,w),E=ut(ut(ut(ut({},c),b),{},{stroke:"none"},f),{},{index:x,textAnchor:e.getTextAnchor(_.x,b.cx)},_),P=ut(ut(ut(ut({},c),b),{},{fill:"none",stroke:b.fill},h),{},{index:x,points:[Je(b.cx,b.cy,b.outerRadius,w),_]}),S=l;return Ie(l)&&Ie(u)?S="value":Ie(l)&&(S=u),U.createElement(je,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(x)},a&&e.renderLabelLineItem(a,P,"line"),e.renderLabelItem(s,E,wt(b,S)))});return U.createElement(je,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,s=o.activeShape,a=o.blendStroke,l=o.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,y=f?s:h,v=ut(ut({},u),{},{stroke:a?u.fill:u.stroke,tabIndex:-1});return U.createElement(je,tl({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},oa(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),U.createElement(w5,tl({option:y,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,s=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state,h=f.prevSectors,y=f.prevIsAnimationActive;return U.createElement(wr,{begin:a,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var b=v.t,x=[],w=o&&o[0],_=w.startAngle;return o.forEach(function(E,P){var S=h&&h[P],C=P>0?tr(E,"paddingAngle",0):0;if(S){var I=_t(S.endAngle-S.startAngle,E.endAngle-E.startAngle),T=ut(ut({},E),{},{startAngle:_+C,endAngle:_+I(b)+C});x.push(T),_=T.endAngle}else{var k=E.endAngle,N=E.startAngle,O=_t(0,k-N),M=O(b),D=ut(ut({},E),{},{startAngle:_+C,endAngle:_+M+C});x.push(D),_=D.endAngle}}),U.createElement(je,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,s=this.state.prevSectors;return o&&i&&i.length&&(!s||!Qo(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,s=i.sectors,a=i.className,l=i.label,u=i.cx,c=i.cy,f=i.innerRadius,h=i.outerRadius,y=i.isAnimationActive,v=this.state.isAnimationFinished;if(o||!s||!s.length||!oe(u)||!oe(c)||!oe(f)||!oe(h))return null;var b=ke("recharts-pie",a);return U.createElement(je,{tabIndex:this.props.rootTabIndex,className:b,ref:function(w){r.pieRef=w}},this.renderSectors(),l&&this.renderLabels(s),Yt.renderCallByParent(this.props,null,!1),(!y||v)&&Br.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(U.isValidElement(r))return U.cloneElement(r,i);if(_e(r))return r(i);var s=ke("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return U.createElement(zs,tl({},i,{key:o,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,o){if(U.isValidElement(r))return U.cloneElement(r,i);var s=o;if(_e(r)&&(s=r(i),U.isValidElement(s)))return s;var a=ke("recharts-pie-label-text",typeof r!="boolean"&&!_e(r)?r.className:"");return U.createElement(sa,tl({},i,{alignmentBaseline:"middle",className:a}),s)}}])}(B.PureComponent);Ap=pi;dr(pi,"displayName","Pie");dr(pi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!oo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});dr(pi,"parseDeltaAngle",function(t,e){var n=Pn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});dr(pi,"getRealPieData",function(t){var e=t.data,n=t.children,r=ye(t,!1),i=nr(n,va);return e&&e.length?e.map(function(o,s){return ut(ut(ut({payload:o},r),o),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(o){return ut(ut({},r),o.props)}):[]});dr(pi,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,s=Q3(i,o),a=r+Nn(t.cx,i,i/2),l=n+Nn(t.cy,o,o/2),u=Nn(t.innerRadius,s,0),c=Nn(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:a,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}});dr(pi,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?ut(ut({},e.type.defaultProps),e.props):e.props,i=Ap.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,s=r.startAngle,a=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,f=r.valueKey,h=r.tooltipType,y=Math.abs(r.minAngle),v=Ap.parseCoordinateOfPie(r,n),b=Ap.parseDeltaAngle(s,a),x=Math.abs(b),w=u;Ie(u)&&Ie(f)?(Ur(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):Ie(u)&&(Ur(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=f);var _=i.filter(function(T){return wt(T,w,0)!==0}).length,E=(x>=360?_:_-1)*l,P=x-_*y-E,S=i.reduce(function(T,k){var N=wt(k,w,0);return T+(oe(N)?N:0)},0),C;if(S>0){var I;C=i.map(function(T,k){var N=wt(T,w,0),O=wt(T,c,k),M=(oe(N)?N:0)/S,D;k?D=I.endAngle+Pn(b)*l*(N!==0?1:0):D=s;var z=D+Pn(b)*((N!==0?y:0)+M*P),F=(D+z)/2,j=(v.innerRadius+v.outerRadius)/2,V=[{name:O,value:N,payload:T,dataKey:w,type:h}],L=Je(v.cx,v.cy,j,F);return I=ut(ut(ut({percent:M,cornerRadius:o,name:O,tooltipPayload:V,midAngle:F,middleRadius:j,tooltipPosition:L},T),v),{},{value:wt(T,w),startAngle:D,endAngle:z,payload:T,paddingAngle:Pn(b)*l}),I})}return ut(ut({},v),{},{sectors:C,data:i})});function eEe(t){return t&&t.length?t[0]:void 0}var tEe=eEe,nEe=tEe;const rEe=Qe(nEe);var iEe=["key"];function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function oEe(t,e){if(t==null)return{};var n=sEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mg(){return mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mg.apply(this,arguments)}function ZR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZR(Object(n),!0).forEach(function(r){wi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A5(r.key),r)}}function lEe(t,e,n){return e&&e2(t.prototype,e),n&&e2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uEe(t,e,n){return e=gg(e),cEe(t,S5()?Reflect.construct(e,n||[],gg(t).constructor):e.apply(t,n))}function cEe(t,e){if(e&&(Hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dEe(t)}function dEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S5=function(){return!!t})()}function gg(t){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gg(t)}function fEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D_(t,e)}function D_(t,e){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D_(t,e)}function wi(t,e,n){return e=A5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A5(t){var e=hEe(t,"string");return Hl(e)=="symbol"?e:e+""}function hEe(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wl=function(t){function e(){var n;aEe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=uEe(this,e,[].concat(i)),wi(n,"state",{isAnimationFinished:!1}),wi(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),_e(s)&&s()}),wi(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),_e(s)&&s()}),wi(n,"handleMouseEnter",function(s){var a=n.props.onMouseEnter;a&&a(n.props,s)}),wi(n,"handleMouseLeave",function(s){var a=n.props.onMouseLeave;a&&a(n.props,s)}),n}return fEe(e,t),lEe(e,[{key:"renderDots",value:function(r){var i=this.props,o=i.dot,s=i.dataKey,a=ye(this.props,!1),l=ye(o,!0),u=r.map(function(c,f){var h=In(In(In({key:"dot-".concat(f),r:3},a),l),{},{dataKey:s,cx:c.x,cy:c.y,index:f,payload:c});return e.renderDotItem(o,h)});return U.createElement(je,{className:"recharts-radar-dots"},u)}},{key:"renderPolygonStatically",value:function(r){var i=this.props,o=i.shape,s=i.dot,a=i.isRange,l=i.baseLinePoints,u=i.connectNulls,c;return U.isValidElement(o)?c=U.cloneElement(o,In(In({},this.props),{},{points:r})):_e(o)?c=o(In(In({},this.props),{},{points:r})):c=U.createElement(m5,mg({},ye(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:r,baseLinePoints:a?l:null,connectNulls:u})),U.createElement(je,{className:"recharts-radar-polygon"},c,s?this.renderDots(r):null)}},{key:"renderPolygonWithAnimation",value:function(){var r=this,i=this.props,o=i.points,s=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state.prevPoints;return U.createElement(wr,{begin:a,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"radar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var y=h.t,v=f&&f.length/o.length,b=o.map(function(x,w){var _=f&&f[Math.floor(w*v)];if(_){var E=_t(_.x,x.x),P=_t(_.y,x.y);return In(In({},x),{},{x:E(y),y:P(y)})}var S=_t(x.cx,x.x),C=_t(x.cy,x.y);return In(In({},x),{},{x:S(y),y:C(y)})});return r.renderPolygonStatically(b)})}},{key:"renderPolygon",value:function(){var r=this.props,i=r.points,o=r.isAnimationActive,s=r.isRange,a=this.state.prevPoints;return o&&i&&i.length&&!s&&(!a||!Qo(a,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.className,s=r.points,a=r.isAnimationActive;if(i||!s||!s.length)return null;var l=this.state.isAnimationFinished,u=ke("recharts-radar",o);return U.createElement(je,{className:u},this.renderPolygon(),(!a||l)&&Br.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"renderDotItem",value:function(r,i){var o;if(U.isValidElement(r))o=U.cloneElement(r,i);else if(_e(r))o=r(i);else{var s=i.key,a=oEe(i,iEe);o=U.createElement(Du,mg({},a,{key:s,className:ke("recharts-radar-dot",typeof r!="boolean"?r.className:"")}))}return o}}])}(B.PureComponent);wi(Wl,"displayName","Radar");wi(Wl,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!oo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});wi(Wl,"getComposedData",function(t){var e=t.radiusAxis,n=t.angleAxis,r=t.displayedData,i=t.dataKey,o=t.bandSize,s=n.cx,a=n.cy,l=!1,u=[],c=n.type!=="number"?o??0:0;r.forEach(function(h,y){var v=wt(h,n.dataKey,y),b=wt(h,i),x=n.scale(v)+c,w=Array.isArray(b)?n5(b):b,_=Ie(w)?void 0:e.scale(w);Array.isArray(b)&&b.length>=2&&(l=!0),u.push(In(In({},Je(s,a,_,x)),{},{name:v,value:b,cx:s,cy:a,radius:_,angle:x,payload:h}))});var f=[];return l&&u.forEach(function(h){if(Array.isArray(h.value)){var y=rEe(h.value),v=Ie(y)?void 0:e.scale(y);f.push(In(In({},h),{},{radius:v},Je(s,a,v,h.angle)))}else f.push(h)}),{points:u,isRange:l,baseLinePoints:f}});var pEe=Math.ceil,mEe=Math.max;function gEe(t,e,n,r){for(var i=-1,o=mEe(pEe((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var yEe=gEe,vEe=F4,t2=1/0,xEe=17976931348623157e292;function bEe(t){if(!t)return t===0?t:0;if(t=vEe(t),t===t2||t===-t2){var e=t<0?-1:1;return e*xEe}return t===t?t:0}var I5=bEe,_Ee=yEe,wEe=Uy,Ov=I5;function EEe(t){return function(e,n,r){return r&&typeof r!="number"&&wEe(e,n,r)&&(n=r=void 0),e=Ov(e),n===void 0?(n=e,e=0):n=Ov(n),r=r===void 0?e<n?1:-1:Ov(r),_Ee(e,n,r,t)}}var TEe=EEe,SEe=TEe,AEe=SEe(),IEe=AEe;const yg=Qe(IEe);function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function n2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n2(Object(n),!0).forEach(function(r){k5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k5(t,e,n){return e=kEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kEe(t){var e=CEe(t,"string");return cf(e)=="symbol"?e:e+""}function CEe(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PEe=["Webkit","Moz","O","ms"],NEe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=PEe.reduce(function(o,s){return r2(r2({},o),{},k5({},s+r,n))},{});return i[e]=n,i};function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(this,arguments)}function i2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i2(Object(n),!0).forEach(function(r){Wn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function REe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P5(r.key),r)}}function OEe(t,e,n){return e&&o2(t.prototype,e),n&&o2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function MEe(t,e,n){return e=xg(e),DEe(t,C5()?Reflect.construct(e,n||[],xg(t).constructor):e.apply(t,n))}function DEe(t,e){if(e&&(Kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jEe(t)}function jEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C5=function(){return!!t})()}function xg(t){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xg(t)}function LEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j_(t,e)}function j_(t,e){return j_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},j_(t,e)}function Wn(t,e,n){return e=P5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P5(t){var e=$Ee(t,"string");return Kl(e)=="symbol"?e:e+""}function $Ee(t,e){if(Kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VEe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Hc().domain(yg(0,l)).range([o,o+s-a]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},s2=function(e){return e.changedTouches&&!!e.changedTouches.length},Yl=function(t){function e(n){var r;return REe(this,e),r=MEe(this,e,[n]),Wn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Wn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Wn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Wn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Wn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Wn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Wn(r,"handleSlideDragStart",function(i){var o=s2(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return LEe(e,t),OEe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,f=Math.min(i,o),h=Math.max(i,o),y=e.getIndexInRange(s,f),v=e.getIndexInRange(s,h);return{startIndex:y-y%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=wt(o[r],a,r);return _e(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,y=l.endIndex,v=l.onChange,b=r.pageX-o;b>0?b=Math.min(b,u+c-f-a,u+c-f-s):b<0&&(b=Math.max(b,u-s,u-a));var x=this.getIndex({startX:s+b,endX:a+b});(x.startIndex!==h||x.endIndex!==y)&&v&&v(x),this.setState({startX:s+b,endX:a+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=s2(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],c=this.props,f=c.x,h=c.width,y=c.travellerWidth,v=c.onChange,b=c.gap,x=c.data,w={startX:this.state.startX,endX:this.state.endX},_=r.pageX-o;_>0?_=Math.min(_,f+h-y-u):_<0&&(_=Math.max(_,f-u)),w[s]=u+_;var E=this.getIndex(w),P=E.startIndex,S=E.endIndex,C=function(){var T=x.length-1;return s==="startX"&&(a>l?P%b===0:S%b===0)||a<l&&S===T||s==="endX"&&(a>l?S%b===0:P%b===0)||a>l&&S===T};this.setState(Wn(Wn({},s,u+_),"brushMoveStartX",r.pageX),function(){v&&C()&&v(E)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],f=a.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=a.length)){var y=a[h];i==="startX"&&y>=u||i==="endX"&&y<=l||this.setState(Wn({},i,y),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return U.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,f=B.Children.only(u);return f?U.cloneElement(f,{x:i,y:o,width:s,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,y=l.ariaLabel,v=l.data,b=l.startIndex,x=l.endIndex,w=Math.max(r,this.props.x),_=Mv(Mv({},ye(this.props,!1)),{},{x:w,y:u,width:c,height:f}),E=y||"Min value: ".concat((o=v[b])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=v[x])===null||s===void 0?void 0:s.name);return U.createElement(je,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),a.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,_))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return U.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,y=5,v={pointerEvents:"none",fill:u};return U.createElement(je,{className:"recharts-brush-texts"},U.createElement(sa,vg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-y,y:s+a/2},v),this.getTextOfTick(i)),U.createElement(sa,vg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+y,y:s+a/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,y=h.startX,v=h.endX,b=h.isTextActive,x=h.isSlideMoving,w=h.isTravellerMoving,_=h.isTravellerFocused;if(!i||!i.length||!oe(a)||!oe(l)||!oe(u)||!oe(c)||u<=0||c<=0)return null;var E=ke("recharts-brush",o),P=U.Children.count(s)===1,S=NEe("userSelect","none");return U.createElement(je,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(y,v),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(v,"endX"),(b||x||w||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return U.createElement(U.Fragment,null,U.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),U.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),U.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return U.isValidElement(r)?o=U.cloneElement(r,i):_e(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Mv({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?VEe({data:o,width:s,x:a,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(B.PureComponent);Wn(Yl,"displayName","Brush");Wn(Yl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var FEe=U1;function UEe(t,e){var n;return FEe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var BEe=UEe,GEe=h4,zEe=hi,qEe=BEe,HEe=zn,WEe=Uy;function KEe(t,e,n){var r=HEe(t)?GEe:qEe;return n&&WEe(t,e,n)&&(e=void 0),r(t,zEe(e))}var YEe=KEe;const JEe=Qe(YEe);var si=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},a2=D4;function XEe(t,e,n){e=="__proto__"&&a2?a2(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var QEe=XEe,ZEe=QEe,e1e=O4,t1e=hi;function n1e(t,e){var n={};return e=t1e(e),e1e(t,function(r,i,o){ZEe(n,i,e(r,i,o))}),n}var r1e=n1e;const i1e=Qe(r1e);function o1e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var s1e=o1e,a1e=U1;function l1e(t,e){var n=!0;return a1e(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var u1e=l1e,c1e=s1e,d1e=u1e,f1e=hi,h1e=zn,p1e=Uy;function m1e(t,e,n){var r=h1e(t)?c1e:d1e;return n&&p1e(t,e,n)&&(e=void 0),r(t,f1e(e))}var g1e=m1e;const N5=Qe(g1e);var y1e=["x","y"];function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function L_(){return L_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L_.apply(this,arguments)}function l2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(n),!0).forEach(function(r){v1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v1e(t,e,n){return e=x1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x1e(t){var e=b1e(t,"string");return df(e)=="symbol"?e:e+""}function b1e(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _1e(t,e){if(t==null)return{};var n=w1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function w1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function E1e(t,e){var n=t.x,r=t.y,i=_1e(t,y1e),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return vc(vc(vc(vc(vc({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function u2(t){return U.createElement(w5,L_({shapeType:"rectangle",propTransformer:E1e,activeClassName:"recharts-active-bar"},t))}var T1e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=oe(r)||Tre(r);return o?e(r,i):(o||la(),n)}},S1e=["value","background"],R5;function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function A1e(t,e){if(t==null)return{};var n=I1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function I1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bg.apply(this,arguments)}function c2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c2(Object(n),!0).forEach(function(r){Po(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M5(r.key),r)}}function C1e(t,e,n){return e&&d2(t.prototype,e),n&&d2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function P1e(t,e,n){return e=_g(e),N1e(t,O5()?Reflect.construct(e,n||[],_g(t).constructor):e.apply(t,n))}function N1e(t,e){if(e&&(Jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R1e(t)}function R1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O5=function(){return!!t})()}function _g(t){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_g(t)}function O1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$_(t,e)}function $_(t,e){return $_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$_(t,e)}function Po(t,e,n){return e=M5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M5(t){var e=M1e(t,"string");return Jl(e)=="symbol"?e:e+""}function M1e(t,e){if(Jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ui=function(t){function e(){var n;k1e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=P1e(this,e,[].concat(i)),Po(n,"state",{isAnimationFinished:!1}),Po(n,"id",ya("recharts-bar-")),Po(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Po(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return O1e(e,t),C1e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,c=ye(this.props,!1);return r&&r.map(function(f,h){var y=h===l,v=y?u:s,b=Ot(Ot(Ot({},c),f),{},{isActive:y,option:v,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return U.createElement(je,bg({className:"recharts-bar-rectangle"},oa(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),U.createElement(u2,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return U.createElement(wr,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var v=y.t,b=o.map(function(x,w){var _=h&&h[w];if(_){var E=_t(_.x,x.x),P=_t(_.y,x.y),S=_t(_.width,x.width),C=_t(_.height,x.height);return Ot(Ot({},x),{},{x:E(v),y:P(v),width:S(v),height:C(v)})}if(s==="horizontal"){var I=_t(0,x.height),T=I(v);return Ot(Ot({},x),{},{y:x.y+x.height-T,height:T})}var k=_t(0,x.width),N=k(v);return Ot(Ot({},x),{},{width:N})});return U.createElement(je,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!Qo(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=ye(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,h=A1e(u,S1e);if(!f)return null;var y=Ot(Ot(Ot(Ot(Ot({},h),{},{fill:"#eee"},f),l),oa(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return U.createElement(u2,bg({key:"background-bar-".concat(c),option:r.props.background,isActive:c===a},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=nr(c,Hf);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,y=function(x,w){var _=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:_,errorVal:wt(x,w)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return U.createElement(je,v,f.map(function(b){return U.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:h,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,y=r.isAnimationActive,v=r.background,b=r.id;if(i||!o||!o.length)return null;var x=this.state.isAnimationFinished,w=ke("recharts-bar",s),_=a&&a.allowDataOverflow,E=l&&l.allowDataOverflow,P=_||E,S=Ie(b)?this.id:b;return U.createElement(je,{className:w},_||E?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(S)},U.createElement("rect",{x:_?u:u-f/2,y:E?c:c-h/2,width:_?f:f*2,height:E?h:h*2}))):null,U.createElement(je,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,S),(!y||x)&&Br.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(B.PureComponent);R5=ui;Po(ui,"displayName","Bar");Po(ui,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!oo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Po(ui,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,y=B0e(r,n);if(!y)return null;var v=e.layout,b=n.type.defaultProps,x=b!==void 0?Ot(Ot({},b),n.props):n.props,w=x.dataKey,_=x.children,E=x.minPointSize,P=v==="horizontal"?s:o,S=u?P.scale.domain():null,C=Y0e({numericAxis:P}),I=nr(_,va),T=f.map(function(k,N){var O,M,D,z,F,j;u?O=G0e(u[c+N],S):(O=wt(k,w),Array.isArray(O)||(O=[C,O]));var V=T1e(E,R5.defaultProps.minPointSize)(O[1],N);if(v==="horizontal"){var L,G=[s.scale(O[0]),s.scale(O[1])],q=G[0],J=G[1];M=eR({axis:o,ticks:a,bandSize:i,offset:y.offset,entry:k,index:N}),D=(L=J??q)!==null&&L!==void 0?L:void 0,z=y.size;var H=q-J;if(F=Number.isNaN(H)?0:H,j={x:M,y:s.y,width:z,height:s.height},Math.abs(V)>0&&Math.abs(F)<Math.abs(V)){var W=Pn(F||V)*(Math.abs(V)-Math.abs(F));D-=W,F+=W}}else{var ie=[o.scale(O[0]),o.scale(O[1])],K=ie[0],ae=ie[1];if(M=K,D=eR({axis:s,ticks:l,bandSize:i,offset:y.offset,entry:k,index:N}),z=ae-K,F=y.size,j={x:o.x,y:D,width:o.width,height:F},Math.abs(V)>0&&Math.abs(z)<Math.abs(V)){var fe=Pn(z||V)*(Math.abs(V)-Math.abs(z));z+=fe}}return Ot(Ot(Ot({},k),{},{x:M,y:D,width:z,height:F,value:u?O:O[1],payload:k,background:j},I&&I[N]&&I[N].props),{},{tooltipPayload:[J3(n,k)],tooltipPosition:{x:M+z/2,y:D+F/2}})});return Ot({data:T,layout:v},h)});function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function D1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D5(r.key),r)}}function j1e(t,e,n){return e&&f2(t.prototype,e),n&&f2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function h2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h2(Object(n),!0).forEach(function(r){n0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n0(t,e,n){return e=D5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D5(t){var e=L1e(t,"string");return ff(e)=="symbol"?e:e+""}function L1e(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gT=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!Yn(u,ui);return c.reduce(function(y,v){var b=n[v],x=b.orientation,w=b.domain,_=b.padding,E=_===void 0?{}:_,P=b.mirror,S=b.reversed,C="".concat(x).concat(P?"Mirror":""),I,T,k,N,O;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var M=w[1]-w[0],D=1/0,z=b.categoricalDomain.sort(Ire);if(z.forEach(function(ie,K){K>0&&(D=Math.min((ie||0)-(z[K-1]||0),D))}),Number.isFinite(D)){var F=D/M,j=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(I=F*j/2),b.padding==="no-gap"){var V=Nn(e.barCategoryGap,F*j),L=F*j/2;I=L-V-(L-V)/j*V}}}i==="xAxis"?T=[r.left+(E.left||0)+(I||0),r.left+r.width-(E.right||0)-(I||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(E.bottom||0),r.top+(E.top||0)]:[r.top+(E.top||0)+(I||0),r.top+r.height-(E.bottom||0)-(I||0)]:T=b.range,S&&(T=[T[1],T[0]]);var G=H3(b,o,h),q=G.scale,J=G.realScaleType;q.domain(w).range(T),W3(q);var H=K3(q,Nr(Nr({},b),{},{realScaleType:J}));i==="xAxis"?(O=x==="top"&&!P||x==="bottom"&&P,k=r.left,N=f[C]-O*b.height):i==="yAxis"&&(O=x==="left"&&!P||x==="right"&&P,k=f[C]-O*b.width,N=r.top);var W=Nr(Nr(Nr({},b),H),{},{realScaleType:J,x:k,y:N,scale:q,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return W.bandSize=ng(W,H),!b.hide&&i==="xAxis"?f[C]+=(O?-1:1)*W.height:b.hide||(f[C]+=(O?-1:1)*W.width),Nr(Nr({},y),{},n0({},v,W))},{})},j5=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},$1e=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return j5({x:n,y:r},{x:i,y:o})},L5=function(){function t(e){D1e(this,t),this.scale=e}return j1e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();n0(L5,"EPS",1e-4);var yT=function(e){var n=Object.keys(e).reduce(function(r,i){return Nr(Nr({},r),{},n0({},i,L5.create(e[i])))},{});return Nr(Nr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return i1e(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return N5(i,function(o,s){return n[s].isInRange(o)})}})};function V1e(t){return(t%180+180)%180}var F1e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=V1e(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},U1e=hi,B1e=Uf,G1e=Vy;function z1e(t){return function(e,n,r){var i=Object(e);if(!B1e(e)){var o=U1e(n);e=G1e(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var q1e=z1e,H1e=I5;function W1e(t){var e=H1e(t),n=e%1;return e===e?n?e-n:e:0}var K1e=W1e,Y1e=I4,J1e=hi,X1e=K1e,Q1e=Math.max;function Z1e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:X1e(n);return i<0&&(i=Q1e(r+i,0)),Y1e(t,J1e(e),i)}var eTe=Z1e,tTe=q1e,nTe=eTe,rTe=tTe(nTe),iTe=rTe;const oTe=Qe(iTe);var sTe=Pne(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),vT=B.createContext(void 0),xT=B.createContext(void 0),$5=B.createContext(void 0),V5=B.createContext({}),F5=B.createContext(void 0),U5=B.createContext(0),B5=B.createContext(0),p2=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,c=sTe(o);return U.createElement(vT.Provider,{value:r},U.createElement(xT.Provider,{value:i},U.createElement(V5.Provider,{value:o},U.createElement($5.Provider,{value:c},U.createElement(F5.Provider,{value:s},U.createElement(U5.Provider,{value:u},U.createElement(B5.Provider,{value:l},a)))))))},aTe=function(){return B.useContext(F5)},G5=function(e){var n=B.useContext(vT);n==null&&la();var r=n[e];return r==null&&la(),r},lTe=function(){var e=B.useContext(vT);return To(e)},uTe=function(){var e=B.useContext(xT),n=oTe(e,function(r){return N5(r.domain,Number.isFinite)});return n||To(e)},z5=function(e){var n=B.useContext(xT);n==null&&la();var r=n[e];return r==null&&la(),r},cTe=function(){var e=B.useContext($5);return e},dTe=function(){return B.useContext(V5)},bT=function(){return B.useContext(B5)},_T=function(){return B.useContext(U5)};function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function fTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H5(r.key),r)}}function pTe(t,e,n){return e&&hTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mTe(t,e,n){return e=wg(e),gTe(t,q5()?Reflect.construct(e,n||[],wg(t).constructor):e.apply(t,n))}function gTe(t,e){if(e&&(Xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yTe(t)}function yTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q5=function(){return!!t})()}function wg(t){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wg(t)}function vTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V_(t,e)}function V_(t,e){return V_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},V_(t,e)}function m2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m2(Object(n),!0).forEach(function(r){wT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wT(t,e,n){return e=H5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H5(t){var e=xTe(t,"string");return Xl(e)=="symbol"?e:e+""}function xTe(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bTe(t,e){return TTe(t)||ETe(t,e)||wTe(t,e)||_Te()}function _Te(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wTe(t,e){if(t){if(typeof t=="string")return y2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y2(t,e)}}function y2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ETe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function TTe(t){if(Array.isArray(t))return t}function F_(){return F_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F_.apply(this,arguments)}var STe=function(e,n){var r;return U.isValidElement(e)?r=U.cloneElement(e,n):_e(e)?r=e(n):r=U.createElement("line",F_({},n,{className:"recharts-reference-line-line"})),r},ATe=function(e,n,r,i,o,s,a,l,u){var c=o.x,f=o.y,h=o.width,y=o.height;if(r){var v=u.y,b=e.y.apply(v,{position:s});if(si(u,"discard")&&!e.y.isInRange(b))return null;var x=[{x:c+h,y:b},{x:c,y:b}];return l==="left"?x.reverse():x}if(n){var w=u.x,_=e.x.apply(w,{position:s});if(si(u,"discard")&&!e.x.isInRange(_))return null;var E=[{x:_,y:f+y},{x:_,y:f}];return a==="top"?E.reverse():E}if(i){var P=u.segment,S=P.map(function(C){return e.apply(C,{position:s})});return si(u,"discard")&&JEe(S,function(C){return!e.isInRange(C)})?null:S}return null};function ITe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=aTe(),c=G5(i),f=z5(o),h=cTe();if(!u||!h)return null;Ur(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=yT({x:c.scale,y:f.scale}),v=Bt(e),b=Bt(n),x=r&&r.length===2,w=ATe(y,v,b,x,h,t.position,c.orientation,f.orientation,t);if(!w)return null;var _=bTe(w,2),E=_[0],P=E.x,S=E.y,C=_[1],I=C.x,T=C.y,k=si(t,"hidden")?"url(#".concat(u,")"):void 0,N=g2(g2({clipPath:k},ye(t,!0)),{},{x1:P,y1:S,x2:I,y2:T});return U.createElement(je,{className:ke("recharts-reference-line",a)},STe(s,N),Yt.renderCallByParent(t,$1e({x1:P,y1:S,x2:I,y2:T})))}var Wf=function(t){function e(){return fTe(this,e),mTe(this,e,arguments)}return vTe(e,t),pTe(e,[{key:"render",value:function(){return U.createElement(ITe,this.props)}}])}(U.Component);wT(Wf,"displayName","ReferenceLine");wT(Wf,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function U_(){return U_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U_.apply(this,arguments)}function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function v2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(n),!0).forEach(function(r){r0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K5(r.key),r)}}function PTe(t,e,n){return e&&CTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NTe(t,e,n){return e=Eg(e),RTe(t,W5()?Reflect.construct(e,n||[],Eg(t).constructor):e.apply(t,n))}function RTe(t,e){if(e&&(Ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OTe(t)}function OTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W5=function(){return!!t})()}function Eg(t){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eg(t)}function MTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B_(t,e)}function B_(t,e){return B_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},B_(t,e)}function r0(t,e,n){return e=K5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K5(t){var e=DTe(t,"string");return Ql(e)=="symbol"?e:e+""}function DTe(t,e){if(Ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jTe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=yT({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return si(e,"discard")&&!s.isInRange(a)?null:a},i0=function(t){function e(){return kTe(this,e),NTe(this,e,arguments)}return MTe(e,t),PTe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=Bt(i),c=Bt(o);if(Ur(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=jTe(this.props);if(!f)return null;var h=f.x,y=f.y,v=this.props,b=v.shape,x=v.className,w=si(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=x2(x2({clipPath:w},ye(this.props,!0)),{},{cx:h,cy:y});return U.createElement(je,{className:ke("recharts-reference-dot",x)},e.renderDot(b,_),Yt.renderCallByParent(this.props,{x:h-s,y:y-s,width:2*s,height:2*s}))}}])}(U.Component);r0(i0,"displayName","ReferenceDot");r0(i0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});r0(i0,"renderDot",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):_e(t)?n=t(e):n=U.createElement(Du,U_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function G_(){return G_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G_.apply(this,arguments)}function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function b2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b2(Object(n),!0).forEach(function(r){o0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J5(r.key),r)}}function VTe(t,e,n){return e&&$Te(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FTe(t,e,n){return e=Tg(e),UTe(t,Y5()?Reflect.construct(e,n||[],Tg(t).constructor):e.apply(t,n))}function UTe(t,e){if(e&&(Zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BTe(t)}function BTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y5=function(){return!!t})()}function Tg(t){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tg(t)}function GTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z_(t,e)}function z_(t,e){return z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z_(t,e)}function o0(t,e,n){return e=J5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J5(t){var e=zTe(t,"string");return Zl(e)=="symbol"?e:e+""}function zTe(t,e){if(Zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qTe=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var h=yT({x:c.scale,y:f.scale}),y={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return si(o,"discard")&&(!h.isInRange(y)||!h.isInRange(v))?null:j5(y,v)},s0=function(t){function e(){return LTe(this,e),FTe(this,e,arguments)}return GTe(e,t),VTe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Ur(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Bt(i),h=Bt(o),y=Bt(s),v=Bt(a),b=this.props.shape;if(!f&&!h&&!y&&!v&&!b)return null;var x=qTe(f,h,y,v,this.props);if(!x&&!b)return null;var w=si(this.props,"hidden")?"url(#".concat(c,")"):void 0;return U.createElement(je,{className:ke("recharts-reference-area",l)},e.renderRect(b,_2(_2({clipPath:w},ye(this.props,!0)),x)),Yt.renderCallByParent(this.props,x))}}])}(U.Component);o0(s0,"displayName","ReferenceArea");o0(s0,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});o0(s0,"renderRect",function(t,e){var n;return U.isValidElement(t)?n=U.cloneElement(t,e):_e(t)?n=t(e):n=U.createElement(mT,G_({},e,{className:"recharts-reference-area-rect"})),n});function X5(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function HTe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return F1e(r,n)}function WTe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Sg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function KTe(t,e){return X5(t,e+1)}function YTe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,c=s,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:X5(r,u)};var b=l,x,w=function(){return x===void 0&&(x=n(v,b)),x},_=v.coordinate,E=l===0||Sg(t,_,w,c,a);E||(l=0,c=s,u+=1),E&&(c=_+t*(w()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function w2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(n),!0).forEach(function(r){JTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JTe(t,e,n){return e=XTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XTe(t){var e=QTe(t,"string");return hf(e)=="symbol"?e:e+""}function QTe(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZTe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(h){var y=o[h],v,b=function(){return v===void 0&&(v=n(y,h)),v};if(h===s-1){var x=t*(y.coordinate+t*b()/2-l);o[h]=y=yn(yn({},y),{},{tickCoord:x>0?y.coordinate-x*t:y.coordinate})}else o[h]=y=yn(yn({},y),{},{tickCoord:y.coordinate});var w=Sg(t,y.tickCoord,b,a,l);w&&(l=y.tickCoord-t*(b()/2+i),o[h]=yn(yn({},y),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function eSe(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var c=r[a-1],f=n(c,a-1),h=t*(c.coordinate+t*f/2-u);s[a-1]=c=yn(yn({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var y=Sg(t,c.tickCoord,function(){return f},l,u);y&&(u=c.tickCoord-t*(f/2+i),s[a-1]=yn(yn({},c),{},{isShow:!0}))}for(var v=o?a-1:a,b=function(_){var E=s[_],P,S=function(){return P===void 0&&(P=n(E,_)),P};if(_===0){var C=t*(E.coordinate-t*S()/2-l);s[_]=E=yn(yn({},E),{},{tickCoord:C<0?E.coordinate-C*t:E.coordinate})}else s[_]=E=yn(yn({},E),{},{tickCoord:E.coordinate});var I=Sg(t,E.tickCoord,S,l,u);I&&(l=E.tickCoord+t*(S()/2+i),s[_]=yn(yn({},E),{},{isShow:!0}))},x=0;x<v;x++)b(x);return s}function ET(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(oe(l)||oo.isSsr)return KTe(i,typeof l=="number"&&oe(l)?l:0);var h=[],y=a==="top"||a==="bottom"?"width":"height",v=c&&y==="width"?qc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(E,P){var S=_e(u)?u(E.value,P):E.value;return y==="width"?HTe(qc(S,{fontSize:e,letterSpacing:n}),v,f):qc(S,{fontSize:e,letterSpacing:n})[y]},x=i.length>=2?Pn(i[1].coordinate-i[0].coordinate):1,w=WTe(o,x,y);return l==="equidistantPreserveStart"?YTe(x,w,b,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=eSe(x,w,b,i,s,l==="preserveStartEnd"):h=ZTe(x,w,b,i,s),h.filter(function(_){return _.isShow}))}var tSe=["viewBox"],nSe=["viewBox"],rSe=["ticks"];function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function nl(){return nl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nl.apply(this,arguments)}function E2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(n),!0).forEach(function(r){TT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dv(t,e){if(t==null)return{};var n=iSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z5(r.key),r)}}function sSe(t,e,n){return e&&T2(t.prototype,e),n&&T2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aSe(t,e,n){return e=Ag(e),lSe(t,Q5()?Reflect.construct(e,n||[],Ag(t).constructor):e.apply(t,n))}function lSe(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uSe(t)}function uSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q5=function(){return!!t})()}function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ag(t)}function cSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q_(t,e)}function q_(t,e){return q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},q_(t,e)}function TT(t,e,n){return e=Z5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z5(t){var e=dSe(t,"string");return eu(e)=="symbol"?e:e+""}function dSe(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $u=function(t){function e(n){var r;return oSe(this,e),r=aSe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return cSe(e,t),sSe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=Dv(r,tSe),a=this.props,l=a.viewBox,u=Dv(a,nSe);return!gl(o,l)||!gl(s,u)||!gl(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,y,v,b,x,w,_,E=f?-1:1,P=r.tickSize||c,S=oe(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":y=v=r.coordinate,x=s+ +!f*l,b=x-E*P,_=b-E*h,w=S;break;case"left":b=x=r.coordinate,v=o+ +!f*a,y=v-E*P,w=y-E*h,_=S;break;case"right":b=x=r.coordinate,v=o+ +f*a,y=v+E*P,w=y+E*h,_=S;break;default:y=v=r.coordinate,x=s+ +f*l,b=x+E*P,_=b+E*h,w=S;break}return{line:{x1:y,y1:b,x2:v,y2:x},tick:{x:w,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=Lt(Lt(Lt({},ye(this.props,!1)),ye(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=Lt(Lt({},f),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var y=+(l==="left"&&!u||l==="right"&&u);f=Lt(Lt({},f),{},{x1:i+y*s,y1:o,x2:i+y*s,y2:o+a})}return U.createElement("line",nl({},f,{className:ke("recharts-cartesian-axis-line",tr(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,f=a.tickFormatter,h=a.unit,y=ET(Lt(Lt({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),x=ye(this.props,!1),w=ye(c,!1),_=Lt(Lt({},x),{},{fill:"none"},ye(l,!1)),E=y.map(function(P,S){var C=s.getTickLineCoord(P),I=C.line,T=C.tick,k=Lt(Lt(Lt(Lt({textAnchor:v,verticalAnchor:b},x),{},{stroke:"none",fill:u},w),T),{},{index:S,payload:P,visibleTicksCount:y.length,tickFormatter:f});return U.createElement(je,nl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},oa(s.props,P,S)),l&&U.createElement("line",nl({},_,I,{className:ke("recharts-cartesian-axis-tick-line",tr(l,"className"))})),c&&e.renderTickItem(c,k,"".concat(_e(f)?f(P.value,S):P.value).concat(h||"")))});return U.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,y=Dv(f,rSe),v=h;return _e(l)&&(v=h&&h.length>0?l(this.props):l(y)),s<=0||a<=0||!v||!v.length?null:U.createElement(je,{className:ke("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Yt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=ke(i.className,"recharts-cartesian-axis-tick-value");return U.isValidElement(r)?s=U.cloneElement(r,Lt(Lt({},i),{},{className:a})):_e(r)?s=r(Lt(Lt({},i),{},{className:a})):s=U.createElement(sa,nl({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(B.Component);TT($u,"displayName","CartesianAxis");TT($u,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var fSe=["x1","y1","x2","y2","key"],hSe=["offset"];function ua(t){"@babel/helpers - typeof";return ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ua(t)}function S2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S2(Object(n),!0).forEach(function(r){pSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pSe(t,e,n){return e=mSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mSe(t){var e=gSe(t,"string");return ua(e)=="symbol"?e:e+""}function gSe(t,e){if(ua(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ua(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function js(){return js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},js.apply(this,arguments)}function A2(t,e){if(t==null)return{};var n=ySe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ySe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var vSe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return U.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function eV(t,e){var n;if(U.isValidElement(t))n=U.cloneElement(t,e);else if(_e(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=A2(e,fSe),u=ye(l,!1);u.offset;var c=A2(u,hSe);n=U.createElement("line",js({},c,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function xSe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=xn(xn({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return eV(i,u)});return U.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function bSe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=xn(xn({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return eV(i,u)});return U.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function _Se(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=a.map(function(h){return Math.round(h+i-i)}).sort(function(h,y){return h-y});i!==c[0]&&c.unshift(0);var f=c.map(function(h,y){var v=!c[y+1],b=v?i+s-h:c[y+1]-h;if(b<=0)return null;var x=y%e.length;return U.createElement("rect",{key:"react-".concat(y),y:h,x:r,height:b,width:o,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function wSe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,y){return h-y});o!==c[0]&&c.unshift(0);var f=c.map(function(h,y){var v=!c[y+1],b=v?o+a-h:c[y+1]-h;if(b<=0)return null;var x=y%r.length;return U.createElement("rect",{key:"react-".concat(y),x:h,y:s,width:b,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return U.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var ESe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return q3(ET(xn(xn(xn({},$u.defaultProps),r),{},{ticks:Pi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},TSe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return q3(ET(xn(xn(xn({},$u.defaultProps),r),{},{ticks:Pi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},Pa={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function tu(t){var e,n,r,i,o,s,a=bT(),l=_T(),u=dTe(),c=xn(xn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Pa.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Pa.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Pa.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Pa.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Pa.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Pa.verticalFill,x:oe(t.x)?t.x:u.left,y:oe(t.y)?t.y:u.top,width:oe(t.width)?t.width:u.width,height:oe(t.height)?t.height:u.height}),f=c.x,h=c.y,y=c.width,v=c.height,b=c.syncWithTicks,x=c.horizontalValues,w=c.verticalValues,_=lTe(),E=uTe();if(!oe(y)||y<=0||!oe(v)||v<=0||!oe(f)||f!==+f||!oe(h)||h!==+h)return null;var P=c.verticalCoordinatesGenerator||ESe,S=c.horizontalCoordinatesGenerator||TSe,C=c.horizontalPoints,I=c.verticalPoints;if((!C||!C.length)&&_e(S)){var T=x&&x.length,k=S({yAxis:E?xn(xn({},E),{},{ticks:T?x:E.ticks}):void 0,width:a,height:l,offset:u},T?!0:b);Ur(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ua(k),"]")),Array.isArray(k)&&(C=k)}if((!I||!I.length)&&_e(P)){var N=w&&w.length,O=P({xAxis:_?xn(xn({},_),{},{ticks:N?w:_.ticks}):void 0,width:a,height:l,offset:u},N?!0:b);Ur(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ua(O),"]")),Array.isArray(O)&&(I=O)}return U.createElement("g",{className:"recharts-cartesian-grid"},U.createElement(vSe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),U.createElement(xSe,js({},c,{offset:u,horizontalPoints:C,xAxis:_,yAxis:E})),U.createElement(bSe,js({},c,{offset:u,verticalPoints:I,xAxis:_,yAxis:E})),U.createElement(_Se,js({},c,{horizontalPoints:C})),U.createElement(wSe,js({},c,{verticalPoints:I})))}tu.displayName="CartesianGrid";var SSe=["type","layout","connectNulls","ref"],ASe=["key"];function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function I2(t,e){if(t==null)return{};var n=ISe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ISe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xc(){return Xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xc.apply(this,arguments)}function k2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k2(Object(n),!0).forEach(function(r){Rr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Na(t){return NSe(t)||PSe(t)||CSe(t)||kSe()}function kSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CSe(t,e){if(t){if(typeof t=="string")return H_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H_(t,e)}}function PSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NSe(t){if(Array.isArray(t))return H_(t)}function H_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nV(r.key),r)}}function OSe(t,e,n){return e&&C2(t.prototype,e),n&&C2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function MSe(t,e,n){return e=Ig(e),DSe(t,tV()?Reflect.construct(e,n||[],Ig(t).constructor):e.apply(t,n))}function DSe(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jSe(t)}function jSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tV=function(){return!!t})()}function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ig(t)}function LSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&W_(t,e)}function W_(t,e){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},W_(t,e)}function Rr(t,e,n){return e=nV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nV(t){var e=$Se(t,"string");return nu(e)=="symbol"?e:e+""}function $Se(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kf=function(t){function e(){var n;RSe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=MSe(this,e,[].concat(i)),Rr(n,"state",{isAnimationFinished:!0,totalLength:0}),Rr(n,"generateSimpleStrokeDasharray",function(s,a){return"".concat(a,"px ").concat(s-a,"px")}),Rr(n,"getStrokeDasharray",function(s,a,l){var u=l.reduce(function(w,_){return w+_});if(!u)return n.generateSimpleStrokeDasharray(a,s);for(var c=Math.floor(s/u),f=s%u,h=a-s,y=[],v=0,b=0;v<l.length;b+=l[v],++v)if(b+l[v]>f){y=[].concat(Na(l.slice(0,v)),[f-b]);break}var x=y.length%2===0?[0,h]:[h];return[].concat(Na(e.repeat(l,c)),Na(y),x).map(function(w){return"".concat(w,"px")}).join(", ")}),Rr(n,"id",ya("recharts-line-")),Rr(n,"pathRef",function(s){n.mainCurve=s}),Rr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Rr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return LSe(e,t),OSe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=nr(c,Hf);if(!f)return null;var h=function(b,x){return{x:b.x,y:b.y,value:b.value,errorVal:wt(b.payload,x)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return U.createElement(je,y,f.map(function(v){return U.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,u=a.points,c=a.dataKey,f=ye(this.props,!1),h=ye(l,!0),y=u.map(function(b,x){var w=Hn(Hn(Hn({key:"dot-".concat(x),r:3},f),h),{},{index:x,cx:b.x,cy:b.y,value:b.value,dataKey:c,payload:b.payload,points:u});return e.renderDotItem(l,w)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return U.createElement(je,Xc({className:"recharts-line-dots",key:"dots"},v),y)}},{key:"renderCurveStatically",value:function(r,i,o,s){var a=this.props,l=a.type,u=a.layout,c=a.connectNulls;a.ref;var f=I2(a,SSe),h=Hn(Hn(Hn({},ye(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:l,layout:u,connectNulls:c});return U.createElement(zs,Xc({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.strokeDasharray,u=s.isAnimationActive,c=s.animationBegin,f=s.animationDuration,h=s.animationEasing,y=s.animationId,v=s.animateNewValues,b=s.width,x=s.height,w=this.state,_=w.prevPoints,E=w.totalLength;return U.createElement(wr,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var S=P.t;if(_){var C=_.length/a.length,I=a.map(function(M,D){var z=Math.floor(D*C);if(_[z]){var F=_[z],j=_t(F.x,M.x),V=_t(F.y,M.y);return Hn(Hn({},M),{},{x:j(S),y:V(S)})}if(v){var L=_t(b*2,M.x),G=_t(x/2,M.y);return Hn(Hn({},M),{},{x:L(S),y:G(S)})}return Hn(Hn({},M),{},{x:M.x,y:M.y})});return o.renderCurveStatically(I,r,i)}var T=_t(0,E),k=T(S),N;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});N=o.getStrokeDasharray(k,E,O)}else N=o.generateSimpleStrokeDasharray(E,k);return o.renderCurveStatically(a,r,i,{strokeDasharray:N})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,a=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return a&&s&&s.length&&(!u&&c>0||!Qo(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,h=i.left,y=i.width,v=i.height,b=i.isAnimationActive,x=i.id;if(o||!a||!a.length)return null;var w=this.state.isAnimationFinished,_=a.length===1,E=ke("recharts-line",l),P=u&&u.allowDataOverflow,S=c&&c.allowDataOverflow,C=P||S,I=Ie(x)?this.id:x,T=(r=ye(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=T.r,N=k===void 0?3:k,O=T.strokeWidth,M=O===void 0?2:O,D=$$(s)?s:{},z=D.clipDot,F=z===void 0?!0:z,j=N*2+M;return U.createElement(je,{className:E},P||S?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(I)},U.createElement("rect",{x:P?h:h-y/2,y:S?f:f-v/2,width:P?y:y*2,height:S?v:v*2})),!F&&U.createElement("clipPath",{id:"clipPath-dots-".concat(I)},U.createElement("rect",{x:h-j/2,y:f-j/2,width:y+j,height:v+j}))):null,!_&&this.renderCurve(C,I),this.renderErrorBar(C,I),(_||s)&&this.renderDots(C,F,I),(!b||w)&&Br.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Na(r),[0]):r,s=[],a=0;a<i;++a)s=[].concat(Na(s),Na(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if(U.isValidElement(r))o=U.cloneElement(r,i);else if(_e(r))o=r(i);else{var s=i.key,a=I2(i,ASe),l=ke("recharts-line-dot",typeof r!="boolean"?r.className:"");o=U.createElement(Du,Xc({key:s},a,{className:l}))}return o}}])}(B.PureComponent);Rr(Kf,"displayName","Line");Rr(Kf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!oo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Rr(Kf,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(h,y){var v=wt(h,s);return c==="horizontal"?{x:tg({axis:n,ticks:i,bandSize:a,entry:h,index:y}),y:Ie(v)?null:r.scale(v),value:v,payload:h}:{x:Ie(v)?null:n.scale(v),y:tg({axis:r,ticks:o,bandSize:a,entry:h,index:y}),value:v,payload:h}});return Hn({points:f,layout:c},u)});var VSe=["layout","type","stroke","connectNulls","isRange","ref"],FSe=["key"],rV;function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function iV(t,e){if(t==null)return{};var n=USe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function USe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ls(){return Ls=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ls.apply(this,arguments)}function P2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function po(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(n),!0).forEach(function(r){Zr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sV(r.key),r)}}function GSe(t,e,n){return e&&N2(t.prototype,e),n&&N2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zSe(t,e,n){return e=kg(e),qSe(t,oV()?Reflect.construct(e,n||[],kg(t).constructor):e.apply(t,n))}function qSe(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HSe(t)}function HSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oV=function(){return!!t})()}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kg(t)}function WSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K_(t,e)}function K_(t,e){return K_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K_(t,e)}function Zr(t,e,n){return e=sV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sV(t){var e=KSe(t,"string");return ru(e)=="symbol"?e:e+""}function KSe(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ds=function(t){function e(){var n;BSe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=zSe(this,e,[].concat(i)),Zr(n,"state",{isAnimationFinished:!0}),Zr(n,"id",ya("recharts-area-")),Zr(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),_e(s)&&s()}),Zr(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),_e(s)&&s()}),n}return WSe(e,t),GSe(e,[{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(s&&!a)return null;var l=this.props,u=l.dot,c=l.points,f=l.dataKey,h=ye(this.props,!1),y=ye(u,!0),v=c.map(function(x,w){var _=po(po(po({key:"dot-".concat(w),r:3},h),y),{},{index:w,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:c});return e.renderDotItem(u,_)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return U.createElement(je,Ls({className:"recharts-area-dots"},b),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].x,u=s[s.length-1].x,c=r*Math.abs(l-u),f=Co(s.map(function(h){return h.y||0}));return oe(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Co(o.map(function(h){return h.y||0})),f)),oe(f)?U.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(f+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].y,u=s[s.length-1].y,c=r*Math.abs(l-u),f=Co(s.map(function(h){return h.x||0}));return oe(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Co(o.map(function(h){return h.x||0})),f)),oe(f)?U.createElement("rect",{x:0,y:l<u?l:l-c,width:f+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,s){var a=this.props,l=a.layout,u=a.type,c=a.stroke,f=a.connectNulls,h=a.isRange;a.ref;var y=iV(a,VSe);return U.createElement(je,{clipPath:o?"url(#clipPath-".concat(s,")"):null},U.createElement(zs,Ls({},ye(y,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&U.createElement(zs,Ls({},ye(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:r})),c!=="none"&&h&&U.createElement(zs,Ls({},ye(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.baseLine,u=s.isAnimationActive,c=s.animationBegin,f=s.animationDuration,h=s.animationEasing,y=s.animationId,v=this.state,b=v.prevPoints,x=v.prevBaseLine;return U.createElement(wr,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var _=w.t;if(b){var E=b.length/a.length,P=a.map(function(T,k){var N=Math.floor(k*E);if(b[N]){var O=b[N],M=_t(O.x,T.x),D=_t(O.y,T.y);return po(po({},T),{},{x:M(_),y:D(_)})}return T}),S;if(oe(l)&&typeof l=="number"){var C=_t(x,l);S=C(_)}else if(Ie(l)||ku(l)){var I=_t(x,0);S=I(_)}else S=l.map(function(T,k){var N=Math.floor(k*E);if(x[N]){var O=x[N],M=_t(O.x,T.x),D=_t(O.y,T.y);return po(po({},T),{},{x:M(_),y:D(_)})}return T});return o.renderAreaStatically(P,S,r,i)}return U.createElement(je,null,U.createElement("defs",null,U.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(_))),U.createElement(je,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(a,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,s=o.points,a=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&s&&s.length&&(!c&&h>0||!Qo(c,s)||!Qo(f,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.top,c=i.left,f=i.xAxis,h=i.yAxis,y=i.width,v=i.height,b=i.isAnimationActive,x=i.id;if(o||!a||!a.length)return null;var w=this.state.isAnimationFinished,_=a.length===1,E=ke("recharts-area",l),P=f&&f.allowDataOverflow,S=h&&h.allowDataOverflow,C=P||S,I=Ie(x)?this.id:x,T=(r=ye(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=T.r,N=k===void 0?3:k,O=T.strokeWidth,M=O===void 0?2:O,D=$$(s)?s:{},z=D.clipDot,F=z===void 0?!0:z,j=N*2+M;return U.createElement(je,{className:E},P||S?U.createElement("defs",null,U.createElement("clipPath",{id:"clipPath-".concat(I)},U.createElement("rect",{x:P?c:c-y/2,y:S?u:u-v/2,width:P?y:y*2,height:S?v:v*2})),!F&&U.createElement("clipPath",{id:"clipPath-dots-".concat(I)},U.createElement("rect",{x:c-j/2,y:u-j/2,width:y+j,height:v+j}))):null,_?null:this.renderArea(C,I),(s||_)&&this.renderDots(C,F,I),(!b||w)&&Br.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(B.PureComponent);rV=ds;Zr(ds,"displayName","Area");Zr(ds,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!oo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Zr(ds,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,s=e.props.baseValue,a=s??o;if(oe(a)&&typeof a=="number")return a;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return a==="dataMin"?f:a==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]});Zr(ds,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,a=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,y=e.layout,v=u&&u.length,b=rV.getBaseValue(e,n,r,i),x=y==="horizontal",w=!1,_=f.map(function(P,S){var C;v?C=u[c+S]:(C=wt(P,l),Array.isArray(C)?w=!0:C=[b,C]);var I=C[1]==null||v&&wt(P,l)==null;return x?{x:tg({axis:r,ticks:o,bandSize:a,entry:P,index:S}),y:I?null:i.scale(C[1]),value:C,payload:P}:{x:I?null:r.scale(C[1]),y:tg({axis:i,ticks:s,bandSize:a,entry:P,index:S}),value:C,payload:P}}),E;return v||w?E=_.map(function(P){var S=Array.isArray(P.value)?P.value[0]:null;return x?{x:P.x,y:S!=null&&P.y!=null?i.scale(S):null}:{x:S!=null?r.scale(S):null,y:P.y}}):E=x?i.scale(b):r.scale(b),po({points:_,baseLine:E,layout:y,isRange:w},h)});Zr(ds,"renderDotItem",function(t,e){var n;if(U.isValidElement(t))n=U.cloneElement(t,e);else if(_e(t))n=t(e);else{var r=ke("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=iV(e,FSe);n=U.createElement(Du,Ls({},o,{key:i,className:r}))}return n});function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function YSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uV(r.key),r)}}function XSe(t,e,n){return e&&JSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QSe(t,e,n){return e=Cg(e),ZSe(t,aV()?Reflect.construct(e,n||[],Cg(t).constructor):e.apply(t,n))}function ZSe(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eAe(t)}function eAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aV=function(){return!!t})()}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cg(t)}function tAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Y_(t,e)}function Y_(t,e){return Y_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Y_(t,e)}function lV(t,e,n){return e=uV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uV(t){var e=nAe(t,"string");return iu(e)=="symbol"?e:e+""}function nAe(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function J_(){return J_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J_.apply(this,arguments)}function rAe(t){var e=t.xAxisId,n=bT(),r=_T(),i=G5(e);return i==null?null:B.createElement($u,J_({},i,{className:ke("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Pi(s,!0)}}))}var ci=function(t){function e(){return YSe(this,e),QSe(this,e,arguments)}return tAe(e,t),XSe(e,[{key:"render",value:function(){return B.createElement(rAe,this.props)}}])}(B.Component);lV(ci,"displayName","XAxis");lV(ci,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function iAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fV(r.key),r)}}function sAe(t,e,n){return e&&oAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aAe(t,e,n){return e=Pg(e),lAe(t,cV()?Reflect.construct(e,n||[],Pg(t).constructor):e.apply(t,n))}function lAe(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uAe(t)}function uAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cV=function(){return!!t})()}function Pg(t){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pg(t)}function cAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X_(t,e)}function X_(t,e){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},X_(t,e)}function dV(t,e,n){return e=fV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fV(t){var e=dAe(t,"string");return ou(e)=="symbol"?e:e+""}function dAe(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Q_(){return Q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q_.apply(this,arguments)}var fAe=function(e){var n=e.yAxisId,r=bT(),i=_T(),o=z5(n);return o==null?null:B.createElement($u,Q_({},o,{className:ke("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Pi(a,!0)}}))},di=function(t){function e(){return iAe(this,e),aAe(this,e,arguments)}return cAe(e,t),sAe(e,[{key:"render",value:function(){return B.createElement(fAe,this.props)}}])}(B.Component);dV(di,"displayName","YAxis");dV(di,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function R2(t){return gAe(t)||mAe(t)||pAe(t)||hAe()}function hAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pAe(t,e){if(t){if(typeof t=="string")return Z_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z_(t,e)}}function mAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gAe(t){if(Array.isArray(t))return Z_(t)}function Z_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ew=function(e,n,r,i,o){var s=nr(e,Wf),a=nr(e,i0),l=[].concat(R2(s),R2(a)),u=nr(e,s0),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(b,x){if(x.props[c]===r&&si(x.props,"extendDomain")&&oe(x.props[f])){var w=x.props[f];return[Math.min(b[0],w),Math.max(b[1],w)]}return b},h)),u.length){var y="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(b,x){if(x.props[c]===r&&si(x.props,"extendDomain")&&oe(x.props[y])&&oe(x.props[v])){var w=x.props[y],_=x.props[v];return[Math.min(b[0],w,_),Math.max(b[1],w,_)]}return b},h)}return o&&o.length&&(h=o.reduce(function(b,x){return oe(x)?[Math.min(b[0],x),Math.max(b[1],x)]:b},h)),h},hV={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var y=new i(c,f||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],y]:l._events[v].push(y):(l._events[v]=y,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,y=f.length,v=new Array(y);h<y;h++)v[h]=f[h].fn;return v},a.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,h,y,v){var b=n?n+u:u;if(!this._events[b])return!1;var x=this._events[b],w=arguments.length,_,E;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),w){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,f),!0;case 4:return x.fn.call(x.context,c,f,h),!0;case 5:return x.fn.call(x.context,c,f,h,y),!0;case 6:return x.fn.call(x.context,c,f,h,y,v),!0}for(E=1,_=new Array(w-1);E<w;E++)_[E-1]=arguments[E];x.fn.apply(x.context,_)}else{var P=x.length,S;for(E=0;E<P;E++)switch(x[E].once&&this.removeListener(u,x[E].fn,void 0,!0),w){case 1:x[E].fn.call(x[E].context);break;case 2:x[E].fn.call(x[E].context,c);break;case 3:x[E].fn.call(x[E].context,c,f);break;case 4:x[E].fn.call(x[E].context,c,f,h);break;default:if(!_)for(S=1,_=new Array(w-1);S<w;S++)_[S-1]=arguments[S];x[E].fn.apply(x[E].context,_)}}return!0},a.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,h){var y=n?n+u:u;if(!this._events[y])return this;if(!c)return s(this,y),this;var v=this._events[y];if(v.fn)v.fn===c&&(!h||v.once)&&(!f||v.context===f)&&s(this,y);else{for(var b=0,x=[],w=v.length;b<w;b++)(v[b].fn!==c||h&&!v[b].once||f&&v[b].context!==f)&&x.push(v[b]);x.length?this._events[y]=x.length===1?x[0]:x:s(this,y)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(hV);var yAe=hV.exports;const vAe=Qe(yAe);var jv=new vAe,Lv="recharts.syncMouseEvents";function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function xAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pV(r.key),r)}}function _Ae(t,e,n){return e&&bAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $v(t,e,n){return e=pV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pV(t){var e=wAe(t,"string");return pf(e)=="symbol"?e:e+""}function wAe(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var EAe=function(){function t(){xAe(this,t),$v(this,"activeIndex",0),$v(this,"coordinateList",[]),$v(this,"layout","horizontal")}return _Ae(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,y=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=s+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function TAe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&oe(r)&&oe(i))return!0}return!1}function SAe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function mV(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Je(e,n,r,i),a=Je(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function AAe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=Je(a,l,u,f),y=Je(a,l,c,f);r=h.x,i=h.y,o=y.x,s=y.y}else return mV(e);return[{x:r,y:i},{x:o,y:s}]}function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function O2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O2(Object(n),!0).forEach(function(r){IAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IAe(t,e,n){return e=kAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kAe(t){var e=CAe(t,"string");return mf(e)=="symbol"?e:e+""}function CAe(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PAe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,y=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!y||!o||!s||h!=="ScatterChart"&&i!=="axis")return null;var v,b=zs;if(h==="ScatterChart")v=s,b=h_e;else if(h==="BarChart")v=SAe(f,s,l,c),b=mT;else if(f==="radial"){var x=mV(s),w=x.cx,_=x.cy,E=x.radius,P=x.startAngle,S=x.endAngle;v={cx:w,cy:_,startAngle:P,endAngle:S,innerRadius:E,outerRadius:E},b=i5}else v={points:AAe(f,s,l)},b=zs;var C=Qh(Qh(Qh(Qh({stroke:"#ccc",pointerEvents:"none"},l),v),ye(y,!1)),{},{payload:a,payloadIndex:u,className:ke("recharts-tooltip-cursor",y.className)});return B.isValidElement(y)?B.cloneElement(y,C):B.createElement(b,C)}var NAe=["item"],RAe=["children","className","width","height","style","compact","title","desc"];function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function rl(){return rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rl.apply(this,arguments)}function M2(t,e){return DAe(t)||MAe(t,e)||yV(t,e)||OAe()}function OAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function DAe(t){if(Array.isArray(t))return t}function D2(t,e){if(t==null)return{};var n=jAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vV(r.key),r)}}function VAe(t,e,n){return e&&$Ae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FAe(t,e,n){return e=Ng(e),UAe(t,gV()?Reflect.construct(e,n||[],Ng(t).constructor):e.apply(t,n))}function UAe(t,e){if(e&&(su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BAe(t)}function BAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gV=function(){return!!t})()}function Ng(t){return Ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ng(t)}function GAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tw(t,e)}function tw(t,e){return tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tw(t,e)}function au(t){return HAe(t)||qAe(t)||yV(t)||zAe()}function zAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yV(t,e){if(t){if(typeof t=="string")return nw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nw(t,e)}}function qAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HAe(t){if(Array.isArray(t))return nw(t)}function nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j2(Object(n),!0).forEach(function(r){we(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function we(t,e,n){return e=vV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vV(t){var e=WAe(t,"string");return su(e)=="symbol"?e:e+""}function WAe(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KAe={xAxis:["bottom","top"],yAxis:["left","right"]},YAe={width:"100%",height:"100%"},xV={x:0,y:0};function Zh(t){return t}var JAe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},XAe=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return Q(Q(Q({},i),Je(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return Q(Q(Q({},i),Je(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return xV},a0=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(au(a),au(u)):a},[]);return s.length>0?s:e&&e.length&&oe(i)&&oe(o)?e.slice(i,o+1):[]};function bV(t){return t==="number"?[0,"auto"]:void 0}var rw=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=a0(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var y=f===void 0?a:f;h=Am(y,s.dataKey,i)}else h=f&&f[r]||a[r];return h?[].concat(au(l),[J3(u,h)]):l},[])},L2=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=JAe(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=j0e(s,a,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=rw(e,n,c,f),y=XAe(r,a,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:y}}return null},QAe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,y=z3(c,o);return r.reduce(function(v,b){var x,w=b.type.defaultProps!==void 0?Q(Q({},b.type.defaultProps),b.props):b.props,_=w.type,E=w.dataKey,P=w.allowDataOverflow,S=w.allowDuplicatedCategory,C=w.scale,I=w.ticks,T=w.includeHidden,k=w[s];if(v[k])return v;var N=a0(e.data,{graphicalItems:i.filter(function(H){var W,ie=s in H.props?H.props[s]:(W=H.type.defaultProps)===null||W===void 0?void 0:W[s];return ie===k}),dataStartIndex:l,dataEndIndex:u}),O=N.length,M,D,z;TAe(w.domain,P,_)&&(M=m_(w.domain,null,P),y&&(_==="number"||C!=="auto")&&(z=Wc(N,E,"category")));var F=bV(_);if(!M||M.length===0){var j,V=(j=w.domain)!==null&&j!==void 0?j:F;if(E){if(M=Wc(N,E,_),_==="category"&&y){var L=Are(M);S&&L?(D=M,M=yg(0,O)):S||(M=rR(V,M,b).reduce(function(H,W){return H.indexOf(W)>=0?H:[].concat(au(H),[W])},[]))}else if(_==="category")S?M=M.filter(function(H){return H!==""&&!Ie(H)}):M=rR(V,M,b).reduce(function(H,W){return H.indexOf(W)>=0||W===""||Ie(W)?H:[].concat(au(H),[W])},[]);else if(_==="number"){var G=U0e(N,i.filter(function(H){var W,ie,K=s in H.props?H.props[s]:(W=H.type.defaultProps)===null||W===void 0?void 0:W[s],ae="hide"in H.props?H.props.hide:(ie=H.type.defaultProps)===null||ie===void 0?void 0:ie.hide;return K===k&&(T||!ae)}),E,o,c);G&&(M=G)}y&&(_==="number"||C!=="auto")&&(z=Wc(N,E,"category"))}else y?M=yg(0,O):a&&a[k]&&a[k].hasStack&&_==="number"?M=h==="expand"?[0,1]:Y3(a[k].stackGroups,l,u):M=G3(N,i.filter(function(H){var W=s in H.props?H.props[s]:H.type.defaultProps[s],ie="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return W===k&&(T||!ie)}),_,c,!0);if(_==="number")M=ew(f,M,k,o,I),V&&(M=m_(V,M,P));else if(_==="category"&&V){var q=V,J=M.every(function(H){return q.indexOf(H)>=0});J&&(M=q)}}return Q(Q({},v),{},we({},k,Q(Q({},w),{},{axisType:o,domain:M,categoricalDomain:z,duplicateDomain:D,originalDomain:(x=w.domain)!==null&&x!==void 0?x:F,isCategorical:y,layout:c})))},{})},ZAe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=a0(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),y=h.length,v=z3(c,o),b=-1;return r.reduce(function(x,w){var _=w.type.defaultProps!==void 0?Q(Q({},w.type.defaultProps),w.props):w.props,E=_[s],P=bV("number");if(!x[E]){b++;var S;return v?S=yg(0,y):a&&a[E]&&a[E].hasStack?(S=Y3(a[E].stackGroups,l,u),S=ew(f,S,E,o)):(S=m_(P,G3(h,r.filter(function(C){var I,T,k=s in C.props?C.props[s]:(I=C.type.defaultProps)===null||I===void 0?void 0:I[s],N="hide"in C.props?C.props.hide:(T=C.type.defaultProps)===null||T===void 0?void 0:T.hide;return k===E&&!N}),"number",c),i.defaultProps.allowDataOverflow),S=ew(f,S,E,o)),Q(Q({},x),{},we({},E,Q(Q({axisType:o},i.defaultProps),{},{hide:!0,orientation:tr(KAe,"".concat(o,".").concat(b%2),null),domain:S,originalDomain:P,isCategorical:v,layout:c})))}return x},{})},eIe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=nr(c,o),y={};return h&&h.length?y=QAe(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(y=ZAe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),y},tIe=function(e){var n=To(e),r=Pi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:B1(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:ng(n,r)}},$2=function(e){var n=e.children,r=e.defaultShowTooltip,i=Yn(n,Yl),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},nIe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Mi(n&&n.type);return r&&r.indexOf("Bar")>=0})},V2=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},rIe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,f=r.children,h=r.margin||{},y=Yn(f,Yl),v=Yn(f,ii),b=Object.keys(l).reduce(function(S,C){var I=l[C],T=I.orientation;return!I.mirror&&!I.hide?Q(Q({},S),{},we({},T,S[T]+I.width)):S},{left:h.left||0,right:h.right||0}),x=Object.keys(s).reduce(function(S,C){var I=s[C],T=I.orientation;return!I.mirror&&!I.hide?Q(Q({},S),{},we({},T,tr(S,"".concat(T))+I.height)):S},{top:h.top||0,bottom:h.bottom||0}),w=Q(Q({},x),b),_=w.bottom;y&&(w.bottom+=y.props.height||Yl.defaultProps.height),v&&n&&(w=V0e(w,i,r,n));var E=u-w.left-w.right,P=c-w.top-w.bottom;return Q(Q({brushBottom:_},w),{},{width:Math.max(E,0),height:Math.max(P,0)})},iIe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Yf=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(w,_){var E=_.graphicalItems,P=_.stackGroups,S=_.offset,C=_.updateId,I=_.dataStartIndex,T=_.dataEndIndex,k=w.barSize,N=w.layout,O=w.barGap,M=w.barCategoryGap,D=w.maxBarSize,z=V2(N),F=z.numericAxisName,j=z.cateAxisName,V=nIe(E),L=[];return E.forEach(function(G,q){var J=a0(w.data,{graphicalItems:[G],dataStartIndex:I,dataEndIndex:T}),H=G.type.defaultProps!==void 0?Q(Q({},G.type.defaultProps),G.props):G.props,W=H.dataKey,ie=H.maxBarSize,K=H["".concat(F,"Id")],ae=H["".concat(j,"Id")],fe={},Me=l.reduce(function(ee,ue){var Oe=_["".concat(ue.axisType,"Map")],Ue=H["".concat(ue.axisType,"Id")];Oe&&Oe[Ue]||ue.axisType==="zAxis"||la();var ot=Oe[Ue];return Q(Q({},ee),{},we(we({},ue.axisType,ot),"".concat(ue.axisType,"Ticks"),Pi(ot)))},fe),le=Me[j],ve=Me["".concat(j,"Ticks")],ce=P&&P[K]&&P[K].hasStack&&J0e(G,P[K].stackGroups),Z=Mi(G.type).indexOf("Bar")>=0,Ce=ng(le,ve),Re=[],rt=V&&L0e({barSize:k,stackGroups:P,totalSize:iIe(Me,j)});if(Z){var it,ft,dn=Ie(ie)?D:ie,Sr=(it=(ft=ng(le,ve,!0))!==null&&ft!==void 0?ft:dn)!==null&&it!==void 0?it:0;Re=$0e({barGap:O,barCategoryGap:M,bandSize:Sr!==Ce?Sr:Ce,sizeList:rt[ae],maxBarSize:dn}),Sr!==Ce&&(Re=Re.map(function(ee){return Q(Q({},ee),{},{position:Q(Q({},ee.position),{},{offset:ee.position.offset-Sr/2})})}))}var Kr=G&&G.type&&G.type.getComposedData;Kr&&L.push({props:Q(Q({},Kr(Q(Q({},Me),{},{displayedData:J,props:w,dataKey:W,item:G,bandSize:Ce,barPosition:Re,offset:S,stackedData:ce,layout:N,dataStartIndex:I,dataEndIndex:T}))),{},we(we(we({key:G.key||"item-".concat(q)},F,Me[F]),j,Me[j]),"animationId",C)),childIndex:$re(G,w.children),item:G})}),L},y=function(w,_){var E=w.props,P=w.dataStartIndex,S=w.dataEndIndex,C=w.updateId;if(!XC({props:E}))return null;var I=E.children,T=E.layout,k=E.stackOffset,N=E.data,O=E.reverseStackOrder,M=V2(T),D=M.numericAxisName,z=M.cateAxisName,F=nr(I,r),j=K0e(N,F,"".concat(D,"Id"),"".concat(z,"Id"),k,O),V=l.reduce(function(H,W){var ie="".concat(W.axisType,"Map");return Q(Q({},H),{},we({},ie,eIe(E,Q(Q({},W),{},{graphicalItems:F,stackGroups:W.axisType===D&&j,dataStartIndex:P,dataEndIndex:S}))))},{}),L=rIe(Q(Q({},V),{},{props:E,graphicalItems:F}),_==null?void 0:_.legendBBox);Object.keys(V).forEach(function(H){V[H]=c(E,V[H],L,H.replace("Map",""),n)});var G=V["".concat(z,"Map")],q=tIe(G),J=h(E,Q(Q({},V),{},{dataStartIndex:P,dataEndIndex:S,updateId:C,graphicalItems:F,stackGroups:j,offset:L}));return Q(Q({formattedGraphicalItems:J,graphicalItems:F,offset:L,stackGroups:j},q),V)},v=function(x){function w(_){var E,P,S;return LAe(this,w),S=FAe(this,w,[_]),we(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),we(S,"accessibilityManager",new EAe),we(S,"handleLegendBBoxUpdate",function(C){if(C){var I=S.state,T=I.dataStartIndex,k=I.dataEndIndex,N=I.updateId;S.setState(Q({legendBBox:C},y({props:S.props,dataStartIndex:T,dataEndIndex:k,updateId:N},Q(Q({},S.state),{},{legendBBox:C}))))}}),we(S,"handleReceiveSyncEvent",function(C,I,T){if(S.props.syncId===C){if(T===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(I)}}),we(S,"handleBrushChange",function(C){var I=C.startIndex,T=C.endIndex;if(I!==S.state.dataStartIndex||T!==S.state.dataEndIndex){var k=S.state.updateId;S.setState(function(){return Q({dataStartIndex:I,dataEndIndex:T},y({props:S.props,dataStartIndex:I,dataEndIndex:T,updateId:k},S.state))}),S.triggerSyncEvent({dataStartIndex:I,dataEndIndex:T})}}),we(S,"handleMouseEnter",function(C){var I=S.getMouseInfo(C);if(I){var T=Q(Q({},I),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var k=S.props.onMouseEnter;_e(k)&&k(T,C)}}),we(S,"triggeredAfterMouseMove",function(C){var I=S.getMouseInfo(C),T=I?Q(Q({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(T),S.triggerSyncEvent(T);var k=S.props.onMouseMove;_e(k)&&k(T,C)}),we(S,"handleItemMouseEnter",function(C){S.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),we(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),we(S,"handleMouseMove",function(C){C.persist(),S.throttleTriggeredAfterMouseMove(C)}),we(S,"handleMouseLeave",function(C){S.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};S.setState(I),S.triggerSyncEvent(I);var T=S.props.onMouseLeave;_e(T)&&T(I,C)}),we(S,"handleOuterEvent",function(C){var I=Lre(C),T=tr(S.props,"".concat(I));if(I&&_e(T)){var k,N;/.*touch.*/i.test(I)?N=S.getMouseInfo(C.changedTouches[0]):N=S.getMouseInfo(C),T((k=N)!==null&&k!==void 0?k:{},C)}}),we(S,"handleClick",function(C){var I=S.getMouseInfo(C);if(I){var T=Q(Q({},I),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var k=S.props.onClick;_e(k)&&k(T,C)}}),we(S,"handleMouseDown",function(C){var I=S.props.onMouseDown;if(_e(I)){var T=S.getMouseInfo(C);I(T,C)}}),we(S,"handleMouseUp",function(C){var I=S.props.onMouseUp;if(_e(I)){var T=S.getMouseInfo(C);I(T,C)}}),we(S,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),we(S,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseDown(C.changedTouches[0])}),we(S,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseUp(C.changedTouches[0])}),we(S,"handleDoubleClick",function(C){var I=S.props.onDoubleClick;if(_e(I)){var T=S.getMouseInfo(C);I(T,C)}}),we(S,"handleContextMenu",function(C){var I=S.props.onContextMenu;if(_e(I)){var T=S.getMouseInfo(C);I(T,C)}}),we(S,"triggerSyncEvent",function(C){S.props.syncId!==void 0&&jv.emit(Lv,S.props.syncId,C,S.eventEmitterSymbol)}),we(S,"applySyncEvent",function(C){var I=S.props,T=I.layout,k=I.syncMethod,N=S.state.updateId,O=C.dataStartIndex,M=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)S.setState(Q({dataStartIndex:O,dataEndIndex:M},y({props:S.props,dataStartIndex:O,dataEndIndex:M,updateId:N},S.state)));else if(C.activeTooltipIndex!==void 0){var D=C.chartX,z=C.chartY,F=C.activeTooltipIndex,j=S.state,V=j.offset,L=j.tooltipTicks;if(!V)return;if(typeof k=="function")F=k(L,C);else if(k==="value"){F=-1;for(var G=0;G<L.length;G++)if(L[G].value===C.activeLabel){F=G;break}}var q=Q(Q({},V),{},{x:V.left,y:V.top}),J=Math.min(D,q.x+q.width),H=Math.min(z,q.y+q.height),W=L[F]&&L[F].value,ie=rw(S.state,S.props.data,F),K=L[F]?{x:T==="horizontal"?L[F].coordinate:J,y:T==="horizontal"?H:L[F].coordinate}:xV;S.setState(Q(Q({},C),{},{activeLabel:W,activeCoordinate:K,activePayload:ie,activeTooltipIndex:F}))}else S.setState(C)}),we(S,"renderCursor",function(C){var I,T=S.state,k=T.isTooltipActive,N=T.activeCoordinate,O=T.activePayload,M=T.offset,D=T.activeTooltipIndex,z=T.tooltipAxisBandSize,F=S.getTooltipEventType(),j=(I=C.props.active)!==null&&I!==void 0?I:k,V=S.props.layout,L=C.key||"_recharts-cursor";return U.createElement(PAe,{key:L,activeCoordinate:N,activePayload:O,activeTooltipIndex:D,chartName:n,element:C,isActive:j,layout:V,offset:M,tooltipAxisBandSize:z,tooltipEventType:F})}),we(S,"renderPolarAxis",function(C,I,T){var k=tr(C,"type.axisType"),N=tr(S.state,"".concat(k,"Map")),O=C.type.defaultProps,M=O!==void 0?Q(Q({},O),C.props):C.props,D=N&&N[M["".concat(k,"Id")]];return B.cloneElement(C,Q(Q({},D),{},{className:ke(k,D.className),key:C.key||"".concat(I,"-").concat(T),ticks:Pi(D,!0)}))}),we(S,"renderPolarGrid",function(C){var I=C.props,T=I.radialLines,k=I.polarAngles,N=I.polarRadius,O=S.state,M=O.radiusAxisMap,D=O.angleAxisMap,z=To(M),F=To(D),j=F.cx,V=F.cy,L=F.innerRadius,G=F.outerRadius;return B.cloneElement(C,{polarAngles:Array.isArray(k)?k:Pi(F,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(N)?N:Pi(z,!0).map(function(q){return q.coordinate}),cx:j,cy:V,innerRadius:L,outerRadius:G,key:C.key||"polar-grid",radialLines:T})}),we(S,"renderLegend",function(){var C=S.state.formattedGraphicalItems,I=S.props,T=I.children,k=I.width,N=I.height,O=S.props.margin||{},M=k-(O.left||0)-(O.right||0),D=U3({children:T,formattedGraphicalItems:C,legendWidth:M,legendContent:u});if(!D)return null;var z=D.item,F=D2(D,NAe);return B.cloneElement(z,Q(Q({},F),{},{chartWidth:k,chartHeight:N,margin:O,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),we(S,"renderTooltip",function(){var C,I=S.props,T=I.children,k=I.accessibilityLayer,N=Yn(T,on);if(!N)return null;var O=S.state,M=O.isTooltipActive,D=O.activeCoordinate,z=O.activePayload,F=O.activeLabel,j=O.offset,V=(C=N.props.active)!==null&&C!==void 0?C:M;return B.cloneElement(N,{viewBox:Q(Q({},j),{},{x:j.left,y:j.top}),active:V,label:F,payload:V?z:[],coordinate:D,accessibilityLayer:k})}),we(S,"renderBrush",function(C){var I=S.props,T=I.margin,k=I.data,N=S.state,O=N.offset,M=N.dataStartIndex,D=N.dataEndIndex,z=N.updateId;return B.cloneElement(C,{key:C.key||"_recharts-brush",onChange:Kh(S.handleBrushChange,C.props.onChange),data:k,x:oe(C.props.x)?C.props.x:O.left,y:oe(C.props.y)?C.props.y:O.top+O.height+O.brushBottom-(T.bottom||0),width:oe(C.props.width)?C.props.width:O.width,startIndex:M,endIndex:D,updateId:"brush-".concat(z)})}),we(S,"renderReferenceElement",function(C,I,T){if(!C)return null;var k=S,N=k.clipPathId,O=S.state,M=O.xAxisMap,D=O.yAxisMap,z=O.offset,F=C.type.defaultProps||{},j=C.props,V=j.xAxisId,L=V===void 0?F.xAxisId:V,G=j.yAxisId,q=G===void 0?F.yAxisId:G;return B.cloneElement(C,{key:C.key||"".concat(I,"-").concat(T),xAxis:M[L],yAxis:D[q],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:N})}),we(S,"renderActivePoints",function(C){var I=C.item,T=C.activePoint,k=C.basePoint,N=C.childIndex,O=C.isRange,M=[],D=I.props.key,z=I.item.type.defaultProps!==void 0?Q(Q({},I.item.type.defaultProps),I.item.props):I.item.props,F=z.activeDot,j=z.dataKey,V=Q(Q({index:N,dataKey:j,cx:T.x,cy:T.y,r:4,fill:pT(I.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},ye(F,!1)),Im(F));return M.push(w.renderActiveDot(F,V,"".concat(D,"-activePoint-").concat(N))),k?M.push(w.renderActiveDot(F,Q(Q({},V),{},{cx:k.x,cy:k.y}),"".concat(D,"-basePoint-").concat(N))):O&&M.push(null),M}),we(S,"renderGraphicChild",function(C,I,T){var k=S.filterFormatItem(C,I,T);if(!k)return null;var N=S.getTooltipEventType(),O=S.state,M=O.isTooltipActive,D=O.tooltipAxis,z=O.activeTooltipIndex,F=O.activeLabel,j=S.props.children,V=Yn(j,on),L=k.props,G=L.points,q=L.isRange,J=L.baseLine,H=k.item.type.defaultProps!==void 0?Q(Q({},k.item.type.defaultProps),k.item.props):k.item.props,W=H.activeDot,ie=H.hide,K=H.activeBar,ae=H.activeShape,fe=!!(!ie&&M&&V&&(W||K||ae)),Me={};N!=="axis"&&V&&V.props.trigger==="click"?Me={onClick:Kh(S.handleItemMouseEnter,C.props.onClick)}:N!=="axis"&&(Me={onMouseLeave:Kh(S.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:Kh(S.handleItemMouseEnter,C.props.onMouseEnter)});var le=B.cloneElement(C,Q(Q({},k.props),Me));function ve(ue){return typeof D.dataKey=="function"?D.dataKey(ue.payload):null}if(fe)if(z>=0){var ce,Z;if(D.dataKey&&!D.allowDuplicatedCategory){var Ce=typeof D.dataKey=="function"?ve:"payload.".concat(D.dataKey.toString());ce=Am(G,Ce,F),Z=q&&J&&Am(J,Ce,F)}else ce=G==null?void 0:G[z],Z=q&&J&&J[z];if(ae||K){var Re=C.props.activeIndex!==void 0?C.props.activeIndex:z;return[B.cloneElement(C,Q(Q(Q({},k.props),Me),{},{activeIndex:Re})),null,null]}if(!Ie(ce))return[le].concat(au(S.renderActivePoints({item:k,activePoint:ce,basePoint:Z,childIndex:z,isRange:q})))}else{var rt,it=(rt=S.getItemByXY(S.state.activeCoordinate))!==null&&rt!==void 0?rt:{graphicalItem:le},ft=it.graphicalItem,dn=ft.item,Sr=dn===void 0?C:dn,Kr=ft.childIndex,ee=Q(Q(Q({},k.props),Me),{},{activeIndex:Kr});return[B.cloneElement(Sr,ee),null,null]}return q?[le,null,null]:[le,null]}),we(S,"renderCustomized",function(C,I,T){return B.cloneElement(C,Q(Q({key:"recharts-customized-".concat(T)},S.props),S.state))}),we(S,"renderMap",{CartesianGrid:{handler:Zh,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:Zh},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:Zh},YAxis:{handler:Zh},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((E=_.id)!==null&&E!==void 0?E:ya("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=U4(S.triggeredAfterMouseMove,(P=_.throttleDelay)!==null&&P!==void 0?P:1e3/60),S.state={},S}return GAe(w,x),VAe(w,[{key:"componentDidMount",value:function(){var E,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,P=E.children,S=E.data,C=E.height,I=E.layout,T=Yn(P,on);if(T){var k=T.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,O=rw(this.state,S,k,N),M=this.state.tooltipTicks[k].coordinate,D=(this.state.offset.top+C)/2,z=I==="horizontal",F=z?{x:M,y:D}:{y:M,x:D},j=this.state.formattedGraphicalItems.find(function(L){var G=L.item;return G.type.name==="Scatter"});j&&(F=Q(Q({},F),j.props.points[k].tooltipPosition),O=j.props.points[k].tooltipPayload);var V={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:N,activePayload:O,activeCoordinate:F};this.setState(V),this.renderCursor(T),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var S,C;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(E){Pb([Yn(E.children,on)],[Yn(this.props.children,on)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=Yn(this.props.children,on);if(E&&typeof E.props.shared=="boolean"){var P=E.props.shared?"axis":"item";return a.indexOf(P)>=0?P:o}return o}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var P=this.container,S=P.getBoundingClientRect(),C=cpe(S),I={chartX:Math.round(E.pageX-C.left),chartY:Math.round(E.pageY-C.top)},T=S.width/P.offsetWidth||1,k=this.inRange(I.chartX,I.chartY,T);if(!k)return null;var N=this.state,O=N.xAxisMap,M=N.yAxisMap,D=this.getTooltipEventType(),z=L2(this.state,this.props.data,this.props.layout,k);if(D!=="axis"&&O&&M){var F=To(O).scale,j=To(M).scale,V=F&&F.invert?F.invert(I.chartX):null,L=j&&j.invert?j.invert(I.chartY):null;return Q(Q({},I),{},{xValue:V,yValue:L},z)}return z?Q(Q({},I),z):null}},{key:"inRange",value:function(E,P){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,I=E/S,T=P/S;if(C==="horizontal"||C==="vertical"){var k=this.state.offset,N=I>=k.left&&I<=k.left+k.width&&T>=k.top&&T<=k.top+k.height;return N?{x:I,y:T}:null}var O=this.state,M=O.angleAxisMap,D=O.radiusAxisMap;if(M&&D){var z=To(M);return sR({x:I,y:T},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,P=this.getTooltipEventType(),S=Yn(E,on),C={};S&&P==="axis"&&(S.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var I=Im(this.props,this.handleOuterEvent);return Q(Q({},I),C)}},{key:"addListener",value:function(){jv.on(Lv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){jv.removeListener(Lv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,P,S){for(var C=this.state.formattedGraphicalItems,I=0,T=C.length;I<T;I++){var k=C[I];if(k.item===E||k.props.key===E.key||P===Mi(k.item.type)&&S===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,P=this.state.offset,S=P.left,C=P.top,I=P.height,T=P.width;return U.createElement("defs",null,U.createElement("clipPath",{id:E},U.createElement("rect",{x:S,y:C,height:I,width:T})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(P,S){var C=M2(S,2),I=C[0],T=C[1];return Q(Q({},P),{},we({},I,T.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(P,S){var C=M2(S,2),I=C[0],T=C[1];return Q(Q({},P),{},we({},I,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[E])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(E){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[E])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(E){var P=this.state,S=P.formattedGraphicalItems,C=P.activeItem;if(S&&S.length)for(var I=0,T=S.length;I<T;I++){var k=S[I],N=k.props,O=k.item,M=O.type.defaultProps!==void 0?Q(Q({},O.type.defaultProps),O.props):O.props,D=Mi(O.type);if(D==="Bar"){var z=(N.data||[]).find(function(L){return Kbe(E,L)});if(z)return{graphicalItem:k,payload:z}}else if(D==="RadialBar"){var F=(N.data||[]).find(function(L){return sR(E,L)});if(F)return{graphicalItem:k,payload:F}}else if(e0(k,C)||t0(k,C)||uf(k,C)){var j=Hwe({graphicalItem:k,activeTooltipItem:C,itemData:M.data}),V=M.activeIndex===void 0?j:M.activeIndex;return{graphicalItem:Q(Q({},k),{},{childIndex:V}),payload:uf(k,C)?M.data[j]:k.props.data[j]}}}return null}},{key:"render",value:function(){var E=this;if(!XC(this))return null;var P=this.props,S=P.children,C=P.className,I=P.width,T=P.height,k=P.style,N=P.compact,O=P.title,M=P.desc,D=D2(P,RAe),z=ye(D,!1);if(N)return U.createElement(p2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement(Rb,rl({},z,{width:I,height:T,title:O,desc:M}),this.renderClipPath(),ZC(S,this.renderMap)));if(this.props.accessibilityLayer){var F,j;z.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,z.role=(j=this.props.role)!==null&&j!==void 0?j:"application",z.onKeyDown=function(L){E.accessibilityManager.keyboardEvent(L)},z.onFocus=function(){E.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return U.createElement(p2,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},U.createElement("div",rl({className:ke("recharts-wrapper",C),style:Q({position:"relative",cursor:"default",width:I,height:T},k)},V,{ref:function(G){E.container=G}}),U.createElement(Rb,rl({},z,{width:I,height:T,title:O,desc:M,style:YAe}),this.renderClipPath(),ZC(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(B.Component);we(v,"displayName",n),we(v,"defaultProps",Q({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),we(v,"getDerivedStateFromProps",function(x,w){var _=x.dataKey,E=x.data,P=x.children,S=x.width,C=x.height,I=x.layout,T=x.stackOffset,k=x.margin,N=w.dataStartIndex,O=w.dataEndIndex;if(w.updateId===void 0){var M=$2(x);return Q(Q(Q({},M),{},{updateId:0},y(Q(Q({props:x},M),{},{updateId:0}),w)),{},{prevDataKey:_,prevData:E,prevWidth:S,prevHeight:C,prevLayout:I,prevStackOffset:T,prevMargin:k,prevChildren:P})}if(_!==w.prevDataKey||E!==w.prevData||S!==w.prevWidth||C!==w.prevHeight||I!==w.prevLayout||T!==w.prevStackOffset||!gl(k,w.prevMargin)){var D=$2(x),z={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},F=Q(Q({},L2(w,E,I)),{},{updateId:w.updateId+1}),j=Q(Q(Q({},D),z),F);return Q(Q(Q({},j),y(Q({props:x},j),w)),{},{prevDataKey:_,prevData:E,prevWidth:S,prevHeight:C,prevLayout:I,prevStackOffset:T,prevMargin:k,prevChildren:P})}if(!Pb(P,w.prevChildren)){var V,L,G,q,J=Yn(P,Yl),H=J&&(V=(L=J.props)===null||L===void 0?void 0:L.startIndex)!==null&&V!==void 0?V:N,W=J&&(G=(q=J.props)===null||q===void 0?void 0:q.endIndex)!==null&&G!==void 0?G:O,ie=H!==N||W!==O,K=!Ie(E),ae=K&&!ie?w.updateId:w.updateId+1;return Q(Q({updateId:ae},y(Q(Q({props:x},w),{},{updateId:ae,dataStartIndex:H,dataEndIndex:W}),w)),{},{prevChildren:P,dataStartIndex:H,dataEndIndex:W})}return null}),we(v,"renderActiveDot",function(x,w,_){var E;return B.isValidElement(x)?E=B.cloneElement(x,w):_e(x)?E=x(w):E=U.createElement(Du,w),U.createElement(je,{className:"recharts-active-dot",key:_},E)});var b=B.forwardRef(function(w,_){return U.createElement(v,rl({},w,{ref:_}))});return b.displayName=v.displayName,b},oIe=Yf({chartName:"LineChart",GraphicalChild:Kf,axisComponents:[{axisType:"xAxis",AxisComp:ci},{axisType:"yAxis",AxisComp:di}],formatAxisMap:gT}),ST=Yf({chartName:"BarChart",GraphicalChild:ui,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ci},{axisType:"yAxis",AxisComp:di}],formatAxisMap:gT}),_V=Yf({chartName:"PieChart",GraphicalChild:pi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Lu},{axisType:"radiusAxis",AxisComp:ju}],formatAxisMap:Z3,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),sIe=Yf({chartName:"RadarChart",GraphicalChild:Wl,axisComponents:[{axisType:"angleAxis",AxisComp:Lu},{axisType:"radiusAxis",AxisComp:ju}],formatAxisMap:Z3,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),aIe=Yf({chartName:"AreaChart",GraphicalChild:ds,axisComponents:[{axisType:"xAxis",AxisComp:ci},{axisType:"yAxis",AxisComp:di}],formatAxisMap:gT});const F2=[{id:"first_invest",name:"Investidor Iniciante",description:"Realizou o primeiro investimento.",icon:"",condition:t=>t.investments.length>0,getProgress:t=>t.investments.length>0?100:0},{id:"controlled",name:"No Controle",description:"Tem mais receitas que despesas no ms.",icon:"",condition:t=>{const e=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="expense").reduce((r,i)=>r+i.amount,0);return e>n&&e>0},getProgress:t=>{const e=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="expense").reduce((r,i)=>r+i.amount,0);return e===0?0:e>n?100:Math.min(99,e/n*100)}},{id:"saver",name:"Poupador",description:"Acumulou mais de R$ 5.000 em investimentos.",icon:"",condition:t=>t.investments.reduce((e,n)=>e+n.amount,0)>=5e3,getProgress:t=>Math.min(100,t.investments.reduce((e,n)=>e+n.amount,0)/5e3*100)},{id:"diversified",name:"Mente Diversificada",description:"Investiu em 3 ou mais categorias diferentes.",icon:"",condition:t=>new Set(t.investments.map(n=>n.type)).size>=3,getProgress:t=>{const e=new Set(t.investments.map(n=>n.type));return Math.min(100,e.size/3*100)}},{id:"debt_free",name:"Zero Pendncias",description:"No possui nenhuma conta pendente.",icon:"",condition:t=>{const e=t.transactions.some(r=>r.type==="expense"),n=t.transactions.filter(r=>r.type==="expense"&&r.status==="pending");return e&&n.length===0},getProgress:t=>{const e=t.transactions.filter(r=>r.type==="expense");if(e.length===0)return 0;const n=e.filter(r=>r.status==="paid").length;return Math.min(100,n/e.length*100)}},{id:"goal_hitter",name:"Na Mosca",description:"Atingiu 100% da meta de um investimento.",icon:"",condition:t=>t.investments.some(e=>e.targetAmount>0&&e.amount>=e.targetAmount),getProgress:t=>{const e=t.investments.map(n=>n.targetAmount>0?n.amount/n.targetAmount*100:0);return Math.min(100,Math.max(0,...e))}},{id:"club_10k",name:"Clube dos 10k",description:"Patrimnio total superou R$ 10.000.",icon:"",condition:t=>{const e=t.investments.reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0)-t.transactions.filter(r=>r.type==="expense"&&r.status==="paid").reduce((r,i)=>r+i.amount,0);return e+n>=1e4},getProgress:t=>{const e=t.investments.reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0)-t.transactions.filter(r=>r.type==="expense"&&r.status==="paid").reduce((r,i)=>r+i.amount,0);return Math.min(100,(e+n)/1e4*100)}}],lIe=(t,e,n)=>{const r=n.toISOString().slice(0,7),i=t.find(o=>o.category===e&&o.month===r);return i||t.find(o=>o.category===e&&o.isRecurring)},U2=({data:t,privacyMode:e,onUnlockBadge:n})=>{const[r,i]=B.useState(()=>{const j=new Date;j.setMonth(j.getMonth()-5);const V=String(j.getMonth()+1).padStart(2,"0");return`${j.getFullYear()}-${V}`}),[o,s]=B.useState("flow"),a=B.useMemo(()=>{const j=new Date().getHours();return j<12?"Bom dia":j<18?"Boa tarde":"Boa noite"},[]);B.useEffect(()=>{F2.forEach(j=>{!t.unlockedBadges.includes(j.id)&&j.condition(t)&&n(j.id)})},[t,n]);const l=B.useMemo(()=>{const j=[],V=new Date,L=V.getMonth(),G=V.getFullYear(),q=Array.from(new Set(t.budgets.map(J=>J.category)));return V.getDate()<=25&&q.forEach(J=>{const H=lIe(t.budgets,J,V);if(!H)return;const W=t.transactions.filter(ie=>ie.type==="expense"&&ie.category===J&&new Date(ie.date).getMonth()===L&&new Date(ie.date).getFullYear()===G).reduce((ie,K)=>ie+K.amount,0);W>=H.limit*.8&&W<H.limit?j.push({title:`Ateno: ${J}`,message:`Voc j usou ${(W/H.limit*100).toFixed(0)}% do oramento e ainda  dia ${V.getDate()}. Cuidado!`,type:"warning"}):W>=H.limit&&j.push({title:`Limite Excedido: ${J}`,message:"Voc estourou o teto definido para esta categoria.",type:"warning"})}),j},[t.budgets,t.transactions]),u=j=>e?"":`R$ ${j.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,c=t.transactions.filter(j=>j.type==="income").reduce((j,V)=>j+V.amount,0),f=t.transactions.filter(j=>j.type==="expense").reduce((j,V)=>j+V.amount,0),h=t.transactions.filter(j=>j.type==="expense"&&j.status==="pending").reduce((j,V)=>j+V.amount,0),y=t.transactions.filter(j=>j.status==="paid").reduce((j,V)=>j+(V.type==="income"?V.amount:-V.amount),0),v=t.transactions.length===0?0:t.transactions.length<300?y:t.walletBalance!==void 0?t.walletBalance:y,b=t.transactions.filter(j=>j.status==="pending"&&j.type==="income").reduce((j,V)=>j+V.amount,0),x=f-h,w=t.investments.reduce((j,V)=>j+V.amount,0),_=B.useMemo(()=>t.transactions.filter(V=>V.type==="expense"&&V.status==="pending").sort((V,L)=>new Date(V.date).getTime()-new Date(L.date).getTime()).slice(0,3),[t.transactions]),E=B.useMemo(()=>[...t.investments].sort((j,V)=>V.amount-j.amount).slice(0,3),[t.investments]),P=B.useMemo(()=>{const j=f>0?f:c*.5||1e3;return v/j},[v,f,c]),{healthScore:S,scoreLabel:C,scoreColor:I,factors:T}=B.useMemo(()=>{let j=0;const V=[],L=fe=>{const Me=new Date(fe);return(new Date().getTime()-Me.getTime())/(1e3*60*60*24*365.25)>=5},G=t.debts.filter(fe=>(fe.status==="open"||fe.status==="negotiating")&&!L(fe.dueDate)),q=G.length>0;q?(j+=200,V.push({text:`Negativado: ${G.length} dvidas`,type:"bad"})):(j+=350,V.push({text:"Nome Limpo",type:"good"}));const J=f>0?f:1e3,H=w/J;H>=6?(j+=200,V.push({text:"Reserva Robusta",type:"good"})):H>=1?(j+=100,V.push({text:"Reserva Iniciada",type:"neutral"})):V.push({text:"Sem Reserva",type:"bad"});const W=c-f,ie=c>0?W/c:0;ie>=.2?(j+=150,V.push({text:"Poupador (20%+)",type:"good"})):ie<0&&(j-=50,V.push({text:"Dficit Mensal",type:"bad"})),v>=h?j+=150:(j-=100,V.push({text:"Risco de Calote",type:"bad"})),q&&(j=Math.min(j,550)),j=Math.max(0,Math.min(1e3,Math.round(j)));let K="",ae="";return j>=850?(K="Elite",ae="text-emerald-500"):j>=700?(K="Excelente",ae="text-emerald-600"):j>=500?(K="Regular",ae="text-amber-500"):j>=300?(K="Ruim",ae="text-orange-500"):(K="Crtico",ae="text-rose-600"),{healthScore:j,scoreLabel:K,scoreColor:ae,factors:V}},[t.debts,c,f,h,v,w]),k=B.useMemo(()=>{const j=new Map,[V,L]=r.split("-").map(Number),G=new Date(V,L-1,1),q=new Date;for(;G<=q||G.getMonth()===q.getMonth()&&G.getFullYear()===q.getFullYear();){const J=G.getFullYear(),H=String(G.getMonth()+1).padStart(2,"0");j.set(`${J}-${H}`,0),G.setMonth(G.getMonth()+1)}return t.transactions.forEach(J=>{if(J.type==="expense"){const H=J.date.slice(0,7);j.has(H)&&j.set(H,(j.get(H)||0)+J.amount)}}),Array.from(j.entries()).map(([J,H])=>{const[W,ie]=J.split("-").map(Number);return{name:new Date(W,ie-1,1).toLocaleDateString("pt-BR",{month:"short",year:"2-digit"}),amount:H,fullDate:J}})},[t.transactions,r]),N=B.useMemo(()=>{const j=new Map;for(let V=5;V>=0;V--){const L=new Date;L.setMonth(L.getMonth()-V),j.set(L.toISOString().slice(0,7),{income:0,expense:0})}return t.transactions.forEach(V=>{const L=V.date.slice(0,7);if(j.has(L)){const G=j.get(L);V.type==="income"?G.income+=V.amount:G.expense+=V.amount}}),Array.from(j.entries()).map(([V,L])=>{const[G,q]=V.split("-");return{name:new Date(parseInt(G),parseInt(q)-1,2).toLocaleDateString("pt-BR",{month:"short"}),Receitas:L.income,Despesas:L.expense}})},[t.transactions]),O=[{name:"Saldo Livre",value:Math.max(0,v),color:"#10b981"},{name:"Contas Pendentes",value:h,color:"#ef4444"},{name:"Investido",value:w,color:"#3b82f6"}].filter(j=>j.value>0),M=()=>{const j=`data:text/csv;charset=utf-8,Data,Descricao,Categoria,Tipo,Valor,Status
`+t.transactions.map(G=>`${G.date},${G.description},${G.category},${G.type},${G.amount},${G.status}`).join(`
`),V=encodeURI(j),L=document.createElement("a");L.setAttribute("href",V),L.setAttribute("download","finansmart_relatorio.csv"),document.body.appendChild(L),L.click(),document.body.removeChild(L)},D=d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 h-full",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[d.jsx(md,{className:"w-5 h-5 text-indigo-500"}),d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Fluxo de Caixa (6 Meses)"})]}),d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(zo,{width:"100%",height:"100%",children:d.jsxs(ST,{data:N,margin:{top:10,right:10,bottom:20,left:0},children:[d.jsx(tu,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0",opacity:.5}),d.jsx(ci,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},dy:10}),d.jsx(di,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},tickFormatter:j=>`R$${j>=1e3?(j/1e3).toFixed(0)+"k":j}`,width:60}),d.jsx(on,{cursor:{fill:"transparent"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:j=>[e?"":`R$ ${j.toLocaleString("pt-BR")}`,""]}),d.jsx(ii,{iconType:"circle"}),d.jsx(ui,{dataKey:"Receitas",fill:"#10b981",radius:[4,4,0,0]}),d.jsx(ui,{dataKey:"Despesas",fill:"#f43f5e",radius:[4,4,0,0]})]})})})]}),z=d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 h-full",children:[d.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[d.jsx(pp,{className:"w-5 h-5 text-indigo-500"}),"Distribuio de Patrimnio"]}),d.jsx("div",{className:"h-[300px]",children:d.jsx(zo,{width:"100%",height:"100%",children:d.jsxs(_V,{children:[d.jsx(pi,{data:O,cx:"50%",cy:"50%",innerRadius:80,outerRadius:110,paddingAngle:5,dataKey:"value",children:O.map((j,V)=>d.jsx(va,{fill:j.color},`cell-${V}`))}),d.jsx(on,{formatter:j=>e?"":`R$ ${j.toLocaleString("pt-BR")}`}),d.jsx(ii,{verticalAlign:"bottom",height:36})]})})})]}),F=d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-4",children:[d.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(nm,{className:"w-5 h-5 text-rose-500"}),"Tendncia de Despesas"]}),d.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 dark:bg-slate-700/50 p-2 rounded-lg border border-slate-100 dark:border-slate-700",children:[d.jsx(Ko,{className:"w-4 h-4 text-slate-400"}),d.jsx("span",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase",children:"Incio:"}),d.jsx("input",{type:"month",value:r,onChange:j=>i(j.target.value),className:"bg-transparent text-sm text-slate-700 dark:text-slate-200 focus:outline-none font-medium"})]})]}),d.jsx("div",{className:"h-[200px] w-full",children:d.jsx(zo,{width:"100%",height:"100%",children:d.jsxs(oIe,{data:k,margin:{top:10,right:10,bottom:25,left:10},children:[d.jsx(tu,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0",opacity:.5}),d.jsx(ci,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},dy:10,padding:{left:10,right:10}}),d.jsx(di,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},tickFormatter:j=>`R$${j>=1e3?(j/1e3).toFixed(0)+"k":j}`,width:60}),d.jsx(on,{cursor:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"5 5"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:j=>[e?"":`R$ ${j.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,"Despesas"],labelStyle:{color:"#64748b",marginBottom:"0.25rem"}}),d.jsx(Kf,{type:"monotone",dataKey:"amount",stroke:"#f43f5e",strokeWidth:3,dot:{r:4,fill:"#f43f5e",strokeWidth:2,stroke:"#fff"},activeDot:{r:6,stroke:"#f43f5e",strokeWidth:2,fill:"#fff"},isAnimationActive:!1})]})})})]});return d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[l.length>0&&d.jsx("div",{className:"space-y-2",children:l.map((j,V)=>d.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-4 rounded-xl flex items-start gap-3 animate-fade-in-down",children:[d.jsx("div",{className:"bg-amber-100 dark:bg-amber-800 p-2 rounded-full flex-shrink-0",children:d.jsx(Zw,{className:"w-5 h-5 text-amber-600 dark:text-amber-300"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-amber-800 dark:text-amber-300 text-sm",children:j.title}),d.jsx("p",{className:"text-amber-700 dark:text-amber-400 text-xs mt-0.5",children:j.message})]})]},V))}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-2",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 w-full md:flex-1 min-w-0",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white whitespace-nowrap",children:[a,"!"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Viso geral das suas finanas."})]}),d.jsx("div",{className:"flex-1 flex items-center gap-2 px-4 py-2 sm:border-l sm:border-slate-300 dark:sm:border-slate-600 overflow-x-auto no-scrollbar mask-gradient w-full",children:F2.map(j=>{const V=t.unlockedBadges.includes(j.id),L=j.getProgress(t);return d.jsxs("div",{className:"group relative flex-shrink-0 cursor-help",children:[d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:`text-xl md:text-2xl transition-all duration-300 block ${V?"filter-none opacity-100 scale-100":"grayscale opacity-30 scale-90"}`,children:j.icon}),!V&&L>0&&d.jsx("div",{className:"absolute -bottom-1 left-0 w-full h-1 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${L}%`}})})]}),d.jsxs("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-3 w-max max-w-[180px] hidden group-hover:block z-50 pointer-events-none animate-fade-in",children:[d.jsxs("div",{className:"bg-slate-800 text-white text-xs px-3 py-2 rounded-lg shadow-xl text-center border border-slate-700",children:[d.jsx("p",{className:"font-bold mb-0.5",children:j.name}),d.jsx("p",{className:"opacity-80 mb-2",children:j.description}),d.jsx("div",{className:"flex items-center justify-between text-[10px] uppercase font-semibold",children:d.jsx("span",{className:V?"text-emerald-400":"text-slate-400",children:V?"Desbloqueado":`${L.toFixed(0)}% Concludo`})}),!V&&d.jsx("div",{className:"w-full h-1.5 bg-slate-700 rounded-full mt-1 overflow-hidden",children:d.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-500",style:{width:`${L}%`}})})]}),d.jsx("div",{className:"w-2 h-2 bg-slate-800 rotate-45 absolute -top-1 left-1/2 -translate-x-1/2 border-t border-l border-slate-700"})]})]},j.id)})})]}),d.jsxs("button",{onClick:M,className:"flex items-center gap-2 text-sm font-medium text-slate-500 hover:text-indigo-600 dark:text-slate-400 dark:hover:text-indigo-400 transition-colors self-end md:self-auto flex-shrink-0",children:[d.jsx(cD,{className:"w-4 h-4"})," Exportar CSV"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 relative overflow-hidden group flex flex-col justify-between hover:shadow-md transition-shadow",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:d.jsx(r6,{className:"w-20 h-20 text-slate-400"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Score Financeiro"}),d.jsx(SB,{className:`w-4 h-4 ${I}`})]}),d.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[d.jsx("span",{className:`text-3xl font-black ${I} tracking-tighter`,children:S}),d.jsx("span",{className:"text-[10px] text-slate-400 font-medium",children:"/ 1000"})]}),d.jsx("p",{className:`text-xs font-bold uppercase tracking-wide ${I}`,children:C})]}),d.jsx("div",{className:"mt-3 pt-3 border-t border-slate-100 dark:border-slate-700/50 space-y-1",children:T.slice(0,2).map((j,V)=>d.jsxs("div",{className:"flex items-center gap-1.5 text-[10px]",children:[j.type==="good"&&d.jsx(Lx,{className:"w-3 h-3 text-emerald-500"}),j.type==="bad"&&d.jsx(vd,{className:"w-3 h-3 text-rose-500"}),j.type==="neutral"&&d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300"}),d.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate",children:j.text})]},V))})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between hover:shadow-md transition-shadow",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Saldo em Caixa"}),d.jsx(h6,{className:"w-4 h-4 text-emerald-500"})]}),d.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white truncate",children:u(v)}),b>0&&d.jsxs("div",{className:"flex items-center gap-1 mt-1 bg-emerald-50 dark:bg-emerald-900/20 px-2 py-1 rounded w-fit border border-emerald-100 dark:border-emerald-800/30",children:[d.jsx(Qp,{className:"w-3 h-3 text-emerald-500"}),d.jsxs("span",{className:"text-xs font-bold text-emerald-600 dark:text-emerald-400",children:["+",u(b)]}),d.jsx("span",{className:"text-[10px] text-emerald-600/70 dark:text-emerald-400/70 uppercase font-medium",children:"A Receber"})]})]}),d.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-medium uppercase",children:"Sobrevivncia"}),d.jsx("span",{className:`text-xs font-bold ${P<1?"text-rose-500":P<3?"text-amber-500":"text-emerald-500"}`,children:P<.1?"Crtico":`${P.toFixed(1)} Meses`})]}),d.jsx("div",{className:"w-full h-1.5 bg-slate-100 dark:bg-slate-700 rounded-full mt-1.5 overflow-hidden",children:d.jsx("div",{className:`h-full rounded-full ${P<1?"bg-rose-500":P<3?"bg-amber-400":"bg-emerald-500"}`,style:{width:`${Math.min(100,P/6*100)}%`}})})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between hover:shadow-md transition-shadow",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Sadas (Ms)"}),d.jsx(hp,{className:"w-4 h-4 text-rose-500"})]}),d.jsxs("p",{className:"text-2xl font-bold text-rose-600 dark:text-rose-400 truncate",children:["-",u(x)]}),h>0?d.jsxs("div",{className:"flex items-center gap-1 mt-1 bg-amber-50 dark:bg-amber-900/20 px-2 py-1 rounded w-fit border border-amber-100 dark:border-amber-800/30",children:[d.jsx(Qp,{className:"w-3 h-3 text-amber-500"}),d.jsxs("span",{className:"text-xs font-bold text-amber-600 dark:text-amber-400",children:["-",u(h)]}),d.jsx("span",{className:"text-[10px] text-amber-600/70 dark:text-amber-400/70 uppercase font-medium",children:"A Pagar"})]}):d.jsxs("div",{className:"flex items-center gap-1 mt-1 px-2 py-1",children:[d.jsx(Lx,{className:"w-3 h-3 text-emerald-500"}),d.jsx("span",{className:"text-[10px] text-emerald-500 font-bold uppercase",children:"Tudo Pago"})]})]}),d.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-100 dark:border-slate-700/50 flex-1 flex flex-col justify-end space-y-2",children:[d.jsx("p",{className:"text-[10px] text-slate-400 font-semibold uppercase pb-1",children:"Prximos Vencimentos"}),_.length===0?d.jsx("div",{className:"text-xs text-slate-400 italic",children:"Nada pendente."}):_.map(j=>{const V=new Date(j.date)<new Date(new Date().setHours(0,0,0,0));return d.jsxs("div",{className:"flex justify-between items-center text-xs",children:[d.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[d.jsx("div",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${V?"bg-rose-500":"bg-amber-400"}`}),d.jsx("span",{className:"truncate text-slate-600 dark:text-slate-300 max-w-[80px]",children:j.description})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[d.jsx("span",{className:"text-slate-400 text-[10px]",children:new Date(j.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}),d.jsx("span",{className:`font-semibold ${V?"text-rose-500":"text-slate-700 dark:text-slate-200"}`,children:u(j.amount).replace("R$","")})]})]},j.id)})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Total Investido"}),d.jsx("p",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400 mt-1",children:u(w)})]}),d.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded-lg",children:d.jsx(Ui,{className:"w-5 h-5 text-indigo-500"})})]}),d.jsxs("div",{className:"flex-1 flex flex-col justify-end space-y-2",children:[d.jsxs("p",{className:"text-[10px] text-slate-400 font-semibold uppercase border-b border-slate-100 dark:border-slate-700/50 pb-1 flex justify-between",children:[d.jsx("span",{children:"Maiores Posies"}),d.jsx(pp,{className:"w-3 h-3"})]}),E.length===0?d.jsx("div",{className:"text-xs text-slate-400 italic",children:"Carteira vazia."}):E.map((j,V)=>d.jsxs("div",{className:"flex justify-between items-center text-xs",children:[d.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[d.jsxs("span",{className:"text-slate-400 font-mono text-[10px]",children:[V+1,"."]}),d.jsx("span",{className:"truncate text-slate-600 dark:text-slate-300 max-w-[90px]",title:j.name,children:j.name})]}),d.jsx("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400 flex-shrink-0",children:u(j.amount).replace("R$","")})]},j.id))]})]})]}),d.jsxs("div",{className:"hidden lg:block space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[D,z]}),F]}),d.jsxs("div",{className:"lg:hidden space-y-4",children:[d.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl gap-1 border border-slate-200 dark:border-slate-700",children:[d.jsxs("button",{onClick:()=>s("flow"),className:`flex-1 py-2 text-xs font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-1.5
                    ${o==="flow"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[d.jsx(md,{className:"w-3.5 h-3.5"}),"Fluxo"]}),d.jsxs("button",{onClick:()=>s("allocation"),className:`flex-1 py-2 text-xs font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-1.5
                    ${o==="allocation"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[d.jsx(pp,{className:"w-3.5 h-3.5"}),"Carteira"]}),d.jsxs("button",{onClick:()=>s("history"),className:`flex-1 py-2 text-xs font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-1.5
                    ${o==="history"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[d.jsx(nm,{className:"w-3.5 h-3.5"}),"Histrico"]})]}),d.jsxs("div",{className:"min-h-[350px]",children:[o==="flow"&&D,o==="allocation"&&z,o==="history"&&F]})]})]})},B2={Casa:"bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900/30 dark:text-orange-300 dark:border-orange-800",Mobilidade:"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800",Alimentos:"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800",Lazer:"bg-purple-100 text-purple-700 border-purple-200 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-800",Sade:"bg-teal-100 text-teal-700 border-teal-200 dark:bg-teal-900/30 dark:text-teal-300 dark:border-teal-800",Educao:"bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800",Pets:"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-800",Salrio:"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800",Investimentos:"bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800",Outros:"bg-slate-100 text-slate-700 border-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:border-slate-600"},Vv={credit_card:"Crdito",debit_card:"Dbito",cash:"Dinheiro",pix:"PIX",direct_debit:"Db. Auto",bank_transfer:"TED/DOC",deposit:"Depsito"},uIe=({method:t,className:e})=>{switch(t){case"credit_card":return d.jsx(Zp,{className:e});case"debit_card":return d.jsx(Zp,{className:e});case"cash":return d.jsx(AB,{className:e});case"pix":return d.jsx(l6,{className:e});default:return d.jsx(pD,{className:e})}},Fv=["Casa","Mobilidade","Alimentos","Lazer","Sade","Educao","Pets","Outros"],Uv=["Salrio","Renda Extra","Investimentos","Presente","Reembolso","Outros"],G2=["credit_card","debit_card","direct_debit","pix","cash"],z2=["pix","bank_transfer","cash","deposit"],cIe=({transactions:t,budgets:e,onAdd:n,onUpdate:r,onDelete:i,onToggleStatus:o,onNavigate:s,privacyMode:a,hasApiKey:l,quickActionSignal:u})=>{const[c,f]=B.useState(!1),[h,y]=B.useState(!1),[v,b]=B.useState(!1),[x,w]=B.useState(new Date),[_,E]=B.useState("all"),[P,S]=B.useState(""),[C,I]=B.useState("all"),[T,k]=B.useState("all"),[N,O]=B.useState(!1),[M,D]=B.useState(null),[z,F]=B.useState("monthly"),[j,V]=B.useState([]),[L,G]=B.useState(!1),[q,J]=B.useState(""),H=B.useRef(null),[W,ie]=B.useState({description:"",amount:"",type:"expense",category:"Outros",date:new Date().toISOString().split("T")[0],status:"paid",paymentMethod:"credit_card",isRecurring:!1,installments:"",observation:""});B.useEffect(()=>{u&&Date.now()-u<2e3&&(f(!0),ft())},[u]),B.useEffect(()=>{c&&H.current&&setTimeout(()=>{var ee;(ee=H.current)==null||ee.scrollIntoView({behavior:"smooth",block:"center"})},100)},[c,M]);const K=B.useMemo(()=>W.type==="income"?Uv:Fv,[W.type]),ae=B.useMemo(()=>W.type==="income"?z2:G2,[W.type]),fe=()=>w(ee=>new Date(ee.getFullYear(),ee.getMonth()-1,1)),Me=()=>w(ee=>new Date(ee.getFullYear(),ee.getMonth()+1,1)),le=B.useMemo(()=>{const ee=[],ue=new Date,Oe=ue.getMonth(),Ue=ue.getFullYear(),ot=ue.toISOString().slice(0,7);return e.forEach(Te=>{if(!(Te.isRecurring&&!e.some(Zt=>Zt.category===Te.category&&Zt.month===ot&&!Zt.isRecurring)||Te.month===ot))return;t.filter(Zt=>Zt.type==="expense"&&Zt.category===Te.category&&new Date(Zt.date).getMonth()===Oe&&new Date(Zt.date).getFullYear()===Ue).reduce((Zt,ao)=>Zt+ao.amount,0)>=Te.limit&&ee.push({title:`Limite Excedido: ${Te.category}`,message:"Voc estourou o teto definido para esta categoria.",type:"warning"})}),ee},[e,t]),ve=B.useMemo(()=>t.filter(ee=>{const[ue,Oe]=ee.date.split("-");return!(!(parseInt(ue)===x.getFullYear()&&parseInt(Oe)===x.getMonth()+1)||_!=="all"&&ee.type!==_||P&&!ee.description.toLowerCase().includes(P.toLowerCase())||C!=="all"&&ee.category!==C||T!=="all"&&ee.paymentMethod!==T)}).sort((ee,ue)=>new Date(ue.date).getTime()-new Date(ee.date).getTime()),[t,x,_,P,C,T]),ce=B.useMemo(()=>{const ee={};ve.forEach(Te=>{ee[Te.date]||(ee[Te.date]={transactions:[],total:0}),ee[Te.date].transactions.push(Te);const Ye=Te.type==="income"?Te.amount:-Te.amount;ee[Te.date].total+=Ye});const Oe=[...Object.entries(ee).map(([Te,Ye])=>({date:Te,...Ye})).sort((Te,Ye)=>new Date(Ye.date).getTime()-new Date(Te.date).getTime())].reverse();let Ue=0;return Oe.map(Te=>(Ue+=Te.total,{...Te,runningBalance:Ue})).reverse()},[ve]),Z=B.useMemo(()=>{const ee=ve.filter(Oe=>Oe.type==="income").reduce((Oe,Ue)=>Oe+Ue.amount,0),ue=ve.filter(Oe=>Oe.type==="expense").reduce((Oe,Ue)=>Oe+Ue.amount,0);return{income:ee,expense:ue,balance:ee-ue}},[ve]),Ce=ee=>a?"":`R$ ${ee.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,Re=ee=>{const ue=new Date(ee+"T12:00:00"),Oe=new Date,Ue=new Date;if(Ue.setDate(Ue.getDate()-1),ue.toDateString()===Oe.toDateString())return"Hoje";if(ue.toDateString()===Ue.toDateString())return"Ontem";const ot=ue.toLocaleDateString("pt-BR",{weekday:"long"}),Te=ue.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"});return`${ot.split("-")[0]}, ${Te}`},rt=async()=>{if(!W.description)return;y(!0);const ee=await GZ(W.description),ue=K.includes(ee);ie(Oe=>({...Oe,category:ue?ee:"Outros"})),y(!1)},it=ee=>{const ue=ee.target.value,Oe=ue==="income"?Uv:Fv,Ue=ue==="income"?"pix":"credit_card";ie(ot=>({...ot,type:ue,category:Oe[0],paymentMethod:Ue}))},ft=()=>{ie({description:"",amount:"",type:"expense",category:"Outros",date:new Date().toISOString().split("T")[0],status:"paid",paymentMethod:"credit_card",isRecurring:!1,installments:"",observation:""}),D(null),F("monthly"),V([]),G(!1),J("")},dn=ee=>{ie({description:ee.description||"",amount:(ee.amount||0).toString(),type:ee.type||"expense",category:ee.category||"Outros",date:ee.date||new Date().toISOString().split("T")[0],status:ee.status||"paid",paymentMethod:ee.paymentMethod||(ee.type==="income"?"pix":"credit_card"),isRecurring:ee.isRecurring||!1,installments:"",observation:ee.observation||""}),D(ee.id),f(!0)},Sr=ee=>{V(ue=>ue.includes(ee)?ue.filter(Oe=>Oe!==ee):[...ue,ee])},Kr=ee=>{ee.preventDefault();let ue=parseFloat(W.amount),Oe=W.observation;if(W.type==="income"&&W.category==="Salrio"&&L){const ot=parseFloat(q);if(!isNaN(ot)&&ot>0&&ot<100){const Te=ue*(ot/100),Ye=ue;ue=ue-Te;const Tn=`(Salrio Bruto: R$ ${Ye.toFixed(2)} | Desc. Penso: ${ot}%)`;Oe=Oe?`${Oe} ${Tn}`:Tn}}const Ue={description:W.description,amount:ue,type:W.type,category:W.category,date:W.date,status:W.status,paymentMethod:W.paymentMethod,isRecurring:W.isRecurring,observation:Oe};if(W.isRecurring)if(z==="days"&&j.length>0){const[ot,Te]=W.date.split("-").map(Number),Ye=new Date(ot,Te,0).getDate();j.forEach(Tn=>{if(Tn<=Ye){const Zt=String(Tn).padStart(2,"0"),ao=String(Te).padStart(2,"0"),l0=`${ot}-${ao}-${Zt}`;n({...Ue,description:`${W.description} (Dia ${Tn})`,date:l0,isRecurring:!1})}})}else{const ot=parseInt(W.installments);if(!isNaN(ot)&&ot>1){const Te=new Date(W.date+"T12:00:00");for(let Ye=0;Ye<ot;Ye++){const Tn=new Date(Te);Tn.setMonth(Te.getMonth()+Ye);const Zt=Tn.toISOString().split("T")[0],ao=`${W.description} (${Ye+1}/${ot})`;n({...Ue,description:ao,date:Zt,isRecurring:!1})}}else M?r(M,Ue):n(Ue)}else M?r(M,Ue):n(Ue);ft(),f(!1)};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white hidden md:block",children:"Transaes"}),d.jsxs("div",{className:"flex flex-1 w-full md:w-auto gap-3 items-center",children:[d.jsxs("div",{className:"flex-1 relative group",children:[d.jsx(RA,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2 group-focus-within:text-indigo-500 transition-colors"}),d.jsx("input",{type:"text",placeholder:"Buscar...",value:P,onChange:ee=>S(ee.target.value),className:"w-full pl-9 pr-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 text-sm transition-all shadow-sm"}),P&&d.jsx("button",{onClick:()=>S(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:d.jsx(zr,{className:"w-3 h-3"})})]}),d.jsx("button",{onClick:()=>O(!N),className:`p-2.5 rounded-xl border transition-all ${N?"bg-indigo-50 border-indigo-200 text-indigo-600 dark:bg-indigo-900/30 dark:border-indigo-800 dark:text-indigo-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-500"}`,children:d.jsx(fD,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-1 shrink-0",children:[d.jsx("button",{onClick:fe,className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-600 dark:text-slate-300",children:d.jsx(eE,{className:"w-4 h-4"})}),d.jsx("span",{className:"px-2 text-xs font-bold text-slate-700 dark:text-slate-200 capitalize min-w-[80px] text-center",children:x.toLocaleDateString("pt-BR",{month:"short",year:"2-digit"})}),d.jsx("button",{onClick:Me,className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-600 dark:text-slate-300",children:d.jsx(Kg,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"hidden md:flex gap-2",children:[d.jsxs("button",{onClick:()=>s($e.SUBSCRIPTIONS),className:"flex items-center gap-2 bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700 px-4 py-2.5 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors font-medium text-sm shadow-sm",children:[d.jsx(Vo,{className:"w-4 h-4 text-indigo-500"}),"Assinaturas"]}),d.jsxs("button",{onClick:()=>{ft(),f(!c)},className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2.5 rounded-xl hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-500/20 font-bold text-sm",children:[d.jsx(Fi,{className:"w-4 h-4"})," Nova"]})]})]}),N&&d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 bg-slate-50 dark:bg-slate-800/50 p-3 rounded-xl border border-slate-200 dark:border-slate-700 animate-fade-in-down",children:[d.jsxs("select",{value:C,onChange:ee=>I(ee.target.value),className:"p-2 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white text-xs outline-none focus:ring-2 focus:ring-indigo-500",children:[d.jsx("option",{value:"all",children:"Todas Categorias"}),[...Fv,...Uv].map(ee=>d.jsx("option",{value:ee,children:ee},ee))]}),d.jsxs("select",{value:T,onChange:ee=>k(ee.target.value),className:"p-2 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white text-xs outline-none focus:ring-2 focus:ring-indigo-500",children:[d.jsx("option",{value:"all",children:"Todos Mtodos"}),[...G2,...z2].map(ee=>d.jsx("option",{value:ee,children:Vv[ee]},ee))]})]})]}),le.length>0&&d.jsx("div",{className:"space-y-2",children:le.map((ee,ue)=>d.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-4 rounded-xl flex items-start gap-3 animate-fade-in-down shadow-sm",children:[d.jsx("div",{className:"bg-amber-100 dark:bg-amber-800 p-2 rounded-full flex-shrink-0",children:d.jsx(Zw,{className:"w-5 h-5 text-amber-600 dark:text-amber-300"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-amber-800 dark:text-amber-300 text-sm",children:ee.title}),d.jsx("p",{className:"text-amber-700 dark:text-amber-400 text-xs mt-0.5",children:ee.message})]})]},ue))}),d.jsxs("div",{className:"grid grid-cols-3 gap-3 md:gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 md:p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-[10px] md:text-xs font-bold uppercase tracking-wider",children:"Entradas"}),d.jsx("p",{className:"text-sm md:text-lg font-bold text-emerald-600 dark:text-emerald-400 truncate",children:Ce(Z.income)})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 md:p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-[10px] md:text-xs font-bold uppercase tracking-wider",children:"Sadas"}),d.jsx("p",{className:"text-sm md:text-lg font-bold text-rose-600 dark:text-rose-400 truncate",children:Ce(Z.expense)})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 md:p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-[10px] md:text-xs font-bold uppercase tracking-wider",children:"Resultado (Proj.)"}),d.jsx("p",{className:`text-sm md:text-lg font-bold truncate ${Z.balance>=0?"text-indigo-600 dark:text-indigo-400":"text-rose-600"}`,children:Ce(Z.balance)})]})]}),d.jsx("div",{ref:H,className:"scroll-mt-24",children:c&&d.jsxs("form",{onSubmit:Kr,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[d.jsx("div",{className:"col-span-1 md:col-span-2",children:d.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:M?"Editar Transao":"Adicionar Transao"})}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{required:!0,type:"text",placeholder:"Descrio",value:W.description,onChange:ee=>ie({...W,description:ee.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none w-full pr-10"}),d.jsx("button",{type:"button",onClick:rt,disabled:h||!W.description||!l,className:`absolute right-2 top-2 ${l?"text-indigo-500 hover:text-indigo-700":"text-slate-400 opacity-50 cursor-not-allowed"} disabled:opacity-30`,children:h?d.jsx(Yg,{className:"w-5 h-5 animate-spin"}):d.jsx(p6,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("input",{required:!0,type:"number",placeholder:"Valor (R$)",value:W.amount,onChange:ee=>ie({...W,amount:ee.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 outline-none"}),W.type==="income"&&W.category==="Salrio"&&!M&&d.jsxs("div",{className:"flex items-center gap-2 mt-1 px-1 animate-fade-in",children:[d.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group select-none",onClick:()=>G(!L),children:[d.jsx("div",{className:`w-3.5 h-3.5 rounded border flex items-center justify-center transition-colors ${L?"bg-indigo-600 border-indigo-600":"border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800"}`,children:L&&d.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),d.jsxs("span",{className:"text-[10px] font-medium text-slate-500 dark:text-slate-400 group-hover:text-indigo-500 transition-colors flex items-center gap-1",children:[d.jsx(TB,{className:"w-3 h-3"})," Descontar Penso?"]})]}),L&&d.jsxs("div",{className:"flex items-center gap-1 animate-scale-in ml-auto",children:[d.jsx("input",{autoFocus:!0,type:"number",placeholder:"%",className:"w-12 py-0.5 px-1 text-xs border border-slate-300 rounded text-center outline-none focus:border-indigo-500 dark:bg-slate-700 dark:border-slate-600 dark:text-white font-bold",value:q,onChange:ee=>J(ee.target.value)}),d.jsx("span",{className:"text-[10px] text-slate-400 font-bold",children:"%"})]})]})]}),d.jsxs("select",{value:W.type,onChange:it,className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:[d.jsx("option",{value:"expense",children:"Despesa"}),d.jsx("option",{value:"income",children:"Receita"})]}),d.jsx("select",{value:W.category,onChange:ee=>ie({...W,category:ee.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:K.map(ee=>d.jsx("option",{value:ee,children:ee},ee))}),d.jsx("input",{required:!0,type:"date",value:W.date,onChange:ee=>ie({...W,date:ee.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2"}),d.jsxs("select",{value:W.status,onChange:ee=>ie({...W,status:ee.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:[d.jsx("option",{value:"paid",children:"Pago/Recebido"}),d.jsx("option",{value:"pending",children:"Pendente"})]}),d.jsx("select",{value:W.paymentMethod,onChange:ee=>ie({...W,paymentMethod:ee.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:ae.map(ee=>d.jsx("option",{value:ee,children:Vv[ee]},ee))}),d.jsx("div",{className:"md:col-span-2",children:d.jsx("textarea",{placeholder:"Observaes (opcional)",value:W.observation,onChange:ee=>ie({...W,observation:ee.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 w-full outline-none resize-none h-20 text-sm"})}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsxs("div",{className:"flex items-center gap-2 p-2 border border-dashed border-slate-300 dark:border-slate-600 rounded-lg",children:[d.jsx("input",{type:"checkbox",id:"recurring",checked:W.isRecurring,onChange:ee=>ie({...W,isRecurring:ee.target.checked}),className:"w-4 h-4 text-indigo-600 rounded"}),d.jsxs("label",{htmlFor:"recurring",className:"text-sm text-slate-700 dark:text-slate-200 font-medium flex items-center gap-1 cursor-pointer",children:[d.jsx(Vo,{className:"w-4 h-4 text-indigo-500"})," Assinatura / Recorrente / Parcelado"]})]}),W.isRecurring&&d.jsxs("div",{className:"mt-2 pl-2 md:pl-6 animate-fade-in space-y-3",children:[d.jsxs("div",{className:"flex gap-2 mb-3",children:[d.jsx("button",{type:"button",onClick:()=>F("monthly"),className:`flex-1 py-1.5 px-3 rounded-lg text-xs font-bold border transition-colors ${z==="monthly"?"bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800":"bg-slate-50 text-slate-500 border-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700"}`,children:"Mensal / Parcelado"}),d.jsx("button",{type:"button",onClick:()=>F("days"),className:`flex-1 py-1.5 px-3 rounded-lg text-xs font-bold border transition-colors ${z==="days"?"bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800":"bg-slate-50 text-slate-500 border-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700"}`,children:"Dias Especficos"})]}),z==="monthly"?d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Repetir por quantas vezes? (Opcional)"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(nE,{className:"w-4 h-4 text-slate-400"}),d.jsx("input",{type:"number",placeholder:"Ex: 12 (Deixe vazio para assinatura infinita)",value:W.installments,onChange:ee=>ie({...W,installments:ee.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 text-sm w-full outline-none focus:ring-2 focus:ring-indigo-500"})]})]}):d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase flex items-center gap-1",children:[d.jsx(kB,{className:"w-3 h-3"})," Selecione os dias do ms"]}),d.jsx("div",{className:"grid grid-cols-7 gap-2",children:[...Array(31)].map((ee,ue)=>{const Oe=ue+1,Ue=j.includes(Oe);return d.jsx("button",{type:"button",onClick:()=>Sr(Oe),className:`h-8 rounded-md text-xs font-bold transition-all ${Ue?"bg-indigo-600 text-white shadow-md shadow-indigo-500/30 transform scale-105":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:Oe},Oe)})}),d.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"Uma transao ser criada para cada dia selecionado neste ms."})]})]})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-2 mt-2",children:[d.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:M?"Atualizar":"Salvar"})]})]})}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-1 flex",children:[d.jsxs("button",{onClick:()=>E("all"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${_==="all"?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-300":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[d.jsx(Fx,{className:"w-4 h-4"})," Todas"]}),d.jsxs("button",{onClick:()=>E("income"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${_==="income"?"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-300":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[d.jsx(X0,{className:"w-4 h-4"})," Entradas"]}),d.jsxs("button",{onClick:()=>E("expense"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${_==="expense"?"bg-rose-50 text-rose-600 dark:bg-rose-900/30 dark:text-rose-300":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[d.jsx(hp,{className:"w-4 h-4"})," Sadas"]})]}),d.jsx("div",{className:"space-y-4 pb-20 md:pb-0",children:ce.length===0?d.jsxs("div",{className:"text-center py-16 text-slate-400",children:[d.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(RA,{className:"w-8 h-8 opacity-50"})}),d.jsx("p",{children:"Nenhuma transao encontrada."}),d.jsx("p",{className:"text-xs mt-1",children:"Tente mudar os filtros ou adicione uma nova."})]}):ce.map(ee=>d.jsxs("div",{className:"animate-fade-in",children:[d.jsxs("div",{className:"flex items-center justify-between px-3 py-2 mb-1 sticky top-0 z-10 bg-slate-50/95 dark:bg-slate-900/95 backdrop-blur-sm rounded-lg border-b border-slate-100 dark:border-slate-800",children:[d.jsxs("h3",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[d.jsx(Ko,{className:"w-3 h-3"}),Re(ee.date)]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:`text-xs font-bold ${ee.total>=0?"text-emerald-600 dark:text-emerald-400":"text-rose-500"}`,children:ee.total!==0&&(ee.total>0?"+":"")+Ce(ee.total)}),d.jsx("div",{className:"h-4 w-px bg-slate-300 dark:bg-slate-700"}),d.jsxs("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-400 flex items-center gap-1",title:"Saldo acumulado at este dia",children:[d.jsx(a6,{className:"w-3 h-3"}),Ce(ee.runningBalance)]})]})]}),d.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden divide-y divide-slate-100 dark:divide-slate-700",children:ee.transactions.map(ue=>{var Oe,Ue;return d.jsxs("div",{className:"group hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[d.jsxs("div",{className:"md:hidden p-4 flex items-center gap-3 relative",children:[d.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 ${ue.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30":"bg-rose-100 text-rose-600 dark:bg-rose-900/30"}`,children:ue.type==="income"?d.jsx(X0,{className:"w-5 h-5"}):d.jsx(hp,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>dn(ue),children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("h4",{className:"font-bold text-slate-800 dark:text-white truncate pr-2 text-sm",children:ue.description}),d.jsxs("span",{className:`font-bold text-sm whitespace-nowrap ${ue.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:[ue.type==="expense"&&"- ",Ce(ue.amount)]})]}),d.jsx("div",{className:"flex justify-between items-center mt-1",children:d.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400",children:[d.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium border ${((Oe=B2[ue.category])==null?void 0:Oe.replace("bg-","border-").split(" ")[2])||"border-slate-200"}`,children:ue.category}),ue.isRecurring&&d.jsxs("span",{className:"flex items-center gap-0.5 text-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 px-1.5 py-0.5 rounded",children:[d.jsx(Vo,{className:"w-3 h-3"}),ue.description.match(/\(\d+\/\d+\)/)?"Parcela":"Fixo"]})]})}),ue.observation&&d.jsxs("p",{className:"text-[10px] text-slate-400 mt-1 italic truncate flex items-center gap-1",children:[d.jsx(u6,{className:"w-3 h-3"})," ",ue.observation]})]}),d.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[d.jsx("button",{onClick:()=>o(ue.id),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${ue.status==="paid"?"bg-emerald-500 border-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-emerald-400"}`,children:d.jsx($x,{className:"w-3.5 h-3.5"})}),d.jsx("button",{onClick:()=>dn(ue),className:"p-1 text-slate-400",children:d.jsx(ZB,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"hidden md:flex items-center gap-4 p-3 text-sm",children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 ${ue.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30":"bg-rose-100 text-rose-600 dark:bg-rose-900/30"}`,children:ue.type==="income"?d.jsx(X0,{className:"w-4 h-4"}):d.jsx(hp,{className:"w-4 h-4"})}),d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-8 text-center font-bold text-slate-400 text-xs",children:parseInt(ue.date.split("-")[2])}),d.jsx("div",{className:"w-24 shrink-0",children:d.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-medium border block text-center truncate ${((Ue=B2[ue.category])==null?void 0:Ue.replace("bg-","border-").split(" ")[2])||"border-slate-200"}`,children:ue.category})}),d.jsxs("div",{className:"flex-1 font-medium text-slate-700 dark:text-slate-200 truncate cursor-pointer hover:text-indigo-500 flex flex-col justify-center",onClick:()=>dn(ue),title:"Clique para editar",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[ue.description,ue.isRecurring&&d.jsxs("span",{className:"text-[10px] text-slate-400 italic",children:["(",ue.description.match(/\(\d+\/\d+\)/)?"Parcela":"Recorrente",")"]})]}),ue.observation&&d.jsx("span",{className:"text-[10px] text-slate-400 font-normal truncate max-w-[300px]",children:ue.observation})]}),d.jsxs("div",{className:"w-24 text-xs text-slate-500 flex items-center gap-1",children:[d.jsx(uIe,{method:ue.paymentMethod||"",className:"w-3 h-3"}),d.jsx("span",{className:"truncate",children:Vv[ue.paymentMethod||""]||"-"})]}),d.jsx("div",{className:`w-28 text-right font-bold cursor-pointer hover:text-indigo-500 ${ue.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-slate-700 dark:text-slate-200"}`,onClick:()=>dn(ue),children:Ce(ue.amount)}),d.jsx("div",{className:"w-8 flex justify-center",children:d.jsx("button",{onClick:()=>o(ue.id),className:`transition-all hover:scale-110 ${ue.status==="paid"?"text-emerald-500":"text-slate-300 hover:text-emerald-400"}`,title:ue.status==="paid"?"Marcar como pendente":"Marcar como pago",children:d.jsx($x,{className:"w-5 h-5"})})}),d.jsxs("div",{className:"w-16 flex justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>dn(ue),className:"p-1.5 text-slate-400 hover:text-indigo-500 rounded hover:bg-slate-100 dark:hover:bg-slate-700",children:d.jsx(e6,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>i(ue.id),className:"p-1.5 text-slate-400 hover:text-rose-500 rounded hover:bg-slate-100 dark:hover:bg-slate-700",children:d.jsx(du,{className:"w-4 h-4"})})]})]})]})]},ue.id)})})]},ee.date))}),d.jsx("button",{onClick:()=>{ft(),f(!0)},className:"md:hidden fixed bottom-20 right-4 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-lg shadow-indigo-600/30 flex items-center justify-center z-40 hover:scale-105 transition-transform",children:d.jsx(Fi,{className:"w-7 h-7"})})]})},q2=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899","#6366f1"],dIe=({investments:t,onAdd:e,onUpdate:n,onDelete:r,onNavigate:i,privacyMode:o,hasApiKey:s,quickActionSignal:a})=>{const[l,u]=B.useState(!1),[c,f]=B.useState(null),[h,y]=B.useState(!1),[v,b]=B.useState(!1),[x,w]=B.useState(!1),[_,E]=B.useState(null),[P,S]=B.useState(""),[C,I]=B.useState(null),[T,k]=B.useState(""),[N,O]=B.useState({name:"",amount:"",investedAmount:"",targetAmount:"",type:"Renda Fixa",date:new Date().toISOString().split("T")[0]});B.useEffect(()=>{a&&Date.now()-a<2e3&&(u(!0),O({name:"",amount:"",investedAmount:"",targetAmount:"",type:"Renda Fixa",date:new Date().toISOString().split("T")[0]}))},[a]);const M=B.useMemo(()=>{const K=new Map;return t.forEach(ae=>{K.set(ae.type,(K.get(ae.type)||0)+ae.amount)}),Array.from(K.entries()).map(([ae,fe])=>({name:ae,value:fe})).sort((ae,fe)=>fe.value-ae.value)},[t]),D=K=>{K.preventDefault();const ae=parseFloat(N.amount),fe=N.investedAmount?parseFloat(N.investedAmount):ae;e({name:N.name,amount:ae,investedAmount:fe,targetAmount:parseFloat(N.targetAmount)||0,type:N.type,date:N.date}),O({name:"",amount:"",investedAmount:"",targetAmount:"",type:"Renda Fixa",date:new Date().toISOString().split("T")[0]}),u(!1)},z=K=>{if(K.preventDefault(),!_)return;const ae=t.find(fe=>fe.id===_);if(ae){const fe=parseFloat(P);if(!isNaN(fe)&&fe>0){const Me=ae.investedAmount||ae.amount;n(_,{amount:ae.amount+fe,investedAmount:Me+fe})}}E(null),S("")},F=K=>{const ae=parseFloat(T);!isNaN(ae)&&ae>=0&&n(K,{amount:ae}),I(null)},j=async()=>{if(!s)return;b(!0),y(!0),f(null),w(!1);const K=await zZ(t);f(K),y(!1)},V=()=>{if(!c)return{recommendations:"",technical:""};const K=c.text.split("---SECTION-BREAK---");return{recommendations:K[0].trim(),technical:K.length>1?K[1].trim():""}},{recommendations:L,technical:G}=V(),q=t.reduce((K,ae)=>K+ae.amount,0),J=t.reduce((K,ae)=>K+(ae.investedAmount||ae.amount),0),H=q-J,W=J>0?H/J*100:0,ie=K=>o?"":`R$ ${K.toLocaleString("pt-BR",{minimumFractionDigits:2})}`;return d.jsxs("div",{className:"space-y-6 relative",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Meus Investimentos"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Acompanhe rentabilidade e metas."})]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs("button",{onClick:()=>i($e.BUDGETS),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-pink-50 text-pink-600 hover:bg-pink-100 dark:bg-pink-900/20 dark:text-pink-400 dark:hover:bg-pink-900/40 transition-all font-medium text-sm border border-pink-200 dark:border-pink-800",children:[d.jsx(Js,{className:"w-4 h-4"}),"Metas"]}),d.jsxs("button",{onClick:j,disabled:!s,title:s?"Consultor IA":"Configure a Chave API para usar",className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all shadow-sm text-sm font-medium
                   ${s?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white hover:from-purple-700 hover:to-indigo-700":"bg-slate-300 dark:bg-slate-700 text-slate-500 dark:text-slate-400 cursor-not-allowed opacity-60"}`,children:[d.jsx(Fs,{className:"w-4 h-4"}),"Consultor IA ",!s&&d.jsx("span",{className:"text-[10px] ml-1",children:"(Req. Chave)"})]}),d.jsxs("button",{onClick:()=>u(!l),className:"flex items-center gap-2 bg-slate-800 dark:bg-slate-700 text-white px-4 py-2 rounded-lg hover:bg-slate-900 dark:hover:bg-slate-600 transition-colors shadow-sm text-sm font-medium",children:[d.jsx(Fi,{className:"w-4 h-4"}),"Novo Ativo"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-indigo-600 text-white p-6 rounded-xl shadow-lg flex flex-col justify-between relative overflow-hidden",children:[d.jsxs("div",{className:"relative z-10",children:[d.jsx("p",{className:"text-indigo-200 text-xs font-bold uppercase tracking-wider mb-1",children:"Patrimnio Total"}),d.jsx("h3",{className:"text-3xl font-bold mb-1",children:ie(q)}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsxs("span",{className:`text-xs font-bold px-1.5 py-0.5 rounded bg-white/20 flex items-center gap-1 ${H>=0?"text-emerald-300":"text-rose-300"}`,children:[H>=0?d.jsx(Ui,{className:"w-3 h-3"}):d.jsx(nm,{className:"w-3 h-3"}),W.toFixed(2),"%"]}),d.jsxs("span",{className:"text-[10px] text-indigo-200",children:["(",H>=0?"+":"",ie(H),")"]})]})]}),d.jsx(em,{className:"absolute right-4 bottom-4 w-24 h-24 text-indigo-500 opacity-20 pointer-events-none"})]}),M.length>0&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 md:col-span-2 flex items-center",children:[d.jsx("div",{className:"flex-1 h-[140px]",children:d.jsx(zo,{width:"100%",height:"100%",children:d.jsxs(_V,{children:[d.jsx(pi,{data:M,cx:"50%",cy:"50%",innerRadius:40,outerRadius:60,paddingAngle:5,dataKey:"value",children:M.map((K,ae)=>d.jsx(va,{fill:q2[ae%q2.length]},`cell-${ae}`))}),d.jsx(on,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"8px",border:"none",fontSize:"12px"},formatter:K=>o?"":`R$ ${K.toLocaleString("pt-BR")}`}),d.jsx(ii,{layout:"vertical",verticalAlign:"middle",align:"right",wrapperStyle:{fontSize:"11px"}})]})})}),d.jsx("div",{className:"w-px h-20 bg-slate-100 dark:bg-slate-700 mx-4"}),d.jsxs("div",{className:"pr-4 min-w-[120px]",children:[d.jsxs("p",{className:"text-xs text-slate-500 uppercase font-bold mb-2 flex items-center gap-1",children:[d.jsx(pp,{className:"w-3 h-3"})," Alocao"]}),M.slice(0,3).map((K,ae)=>d.jsxs("div",{className:"flex justify-between items-center text-xs mb-1",children:[d.jsx("span",{className:"text-slate-600 dark:text-slate-300 truncate max-w-[80px]",children:K.name}),d.jsxs("span",{className:"font-bold text-slate-800 dark:text-white",children:[(K.value/q*100).toFixed(0),"%"]})]},ae))]})]})]}),v&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-purple-200 dark:border-purple-900 overflow-hidden animate-fade-in",children:[d.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-slate-800 dark:to-slate-800 p-4 border-b border-purple-100 dark:border-slate-700 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(lD,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),d.jsx("h3",{className:"font-bold text-purple-900 dark:text-purple-300",children:"Smart Advisor"})]}),d.jsx("button",{onClick:()=>b(!1),className:"text-slate-400 hover:text-slate-600",children:d.jsx(zr,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"p-6",children:h?d.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[d.jsx(Yg,{className:"w-8 h-8 text-purple-600 animate-spin mb-3"}),d.jsx("p",{className:"text-slate-500 text-sm animate-pulse",children:"Buscando oportunidades em tempo real..."})]}):c?d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"prose prose-sm prose-purple dark:prose-invert max-w-none text-slate-700 dark:text-slate-300",children:d.jsx("div",{dangerouslySetInnerHTML:{__html:L.replace(/\n/g,"<br/>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/- /g," ")}})}),G&&d.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-700 pt-4",children:[d.jsxs("button",{onClick:()=>w(!x),className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-slate-50 dark:bg-slate-700/50 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-700 dark:text-slate-200 text-sm font-semibold transition-colors border border-slate-200 dark:border-slate-600",children:[d.jsx(IB,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),x?"Ocultar Detalhes Tcnicos":"Ver Anlise Tcnica Detalhada",x?d.jsx(NB,{className:"w-4 h-4"}):d.jsx(PB,{className:"w-4 h-4"})]}),x&&d.jsx("div",{className:"mt-4 p-5 bg-slate-50 dark:bg-slate-900/50 rounded-lg border border-slate-200 dark:border-slate-700 animate-fade-in",children:d.jsx("div",{className:"prose prose-sm prose-slate dark:prose-invert max-w-none text-slate-600 dark:text-slate-400",children:d.jsx("div",{dangerouslySetInnerHTML:{__html:G.replace(/\n/g,"<br/>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/- /g," ")}})})})]}),c.sources.length>0&&d.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-700 pt-4",children:[d.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Fontes Consultadas"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:c.sources.map((K,ae)=>d.jsxs("a",{href:K.uri,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-2 py-1 rounded hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:[d.jsx(dD,{className:"w-3 h-3"}),K.title.length>30?K.title.substring(0,30)+"...":K.title]},ae))})]}),d.jsx("div",{className:"mt-4 flex justify-end",children:d.jsx("button",{onClick:j,className:"text-sm text-purple-600 hover:underline",children:"Atualizar Recomendao"})})]}):d.jsx("div",{className:"text-center text-slate-500",children:"Erro ao carregar recomendao."})})]}),l&&d.jsxs("form",{onSubmit:D,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[d.jsx("div",{className:"col-span-1 md:col-span-2",children:d.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Adicionar Novo Ativo"})}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Nome"}),d.jsx("input",{required:!0,type:"text",placeholder:"Ex: CDB Banco X, PETR4",value:N.name,onChange:K=>O({...N,name:K.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Valor Atual (Mercado)"}),d.jsx("input",{required:!0,type:"number",placeholder:"R$",value:N.amount,onChange:K=>O({...N,amount:K.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none font-bold"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Valor Investido (Custo)"}),d.jsx("input",{type:"number",placeholder:"Igual ao atual se vazio",value:N.investedAmount,onChange:K=>O({...N,investedAmount:K.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Objetivo Final (Meta)"}),d.jsx("input",{type:"number",placeholder:"R$",value:N.targetAmount,onChange:K=>O({...N,targetAmount:K.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Tipo"}),d.jsxs("select",{value:N.type,onChange:K=>O({...N,type:K.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:[d.jsx("option",{value:"Renda Fixa",children:"Renda Fixa"}),d.jsx("option",{value:"Aes",children:"Aes"}),d.jsx("option",{value:"FIIs",children:"FIIs"}),d.jsx("option",{value:"Cripto",children:"Criptomoedas"}),d.jsx("option",{value:"Reserva",children:"Reserva de Emergncia"}),d.jsx("option",{value:"Outros",children:"Outros"})]})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Data da Compra"}),d.jsx("input",{required:!0,type:"date",value:N.date,onChange:K=>O({...N,date:K.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2"})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-2 mt-2",children:[d.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:"Salvar"})]})]}),_&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-sm p-6 animate-fade-in",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Novo Aporte"}),d.jsx("button",{onClick:()=>E(null),className:"text-slate-400 hover:text-slate-600",children:d.jsx(zr,{className:"w-5 h-5"})})]}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Ao aportar, o valor ser somado ao Custo e ao Valor Atual."}),d.jsxs("form",{onSubmit:z,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 mb-1",children:"VALOR DO APORTE"}),d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:"absolute left-3 top-2 text-slate-400",children:"R$"}),d.jsx("input",{autoFocus:!0,required:!0,type:"number",step:"0.01",className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg py-2 pl-8 pr-3 focus:ring-2 focus:ring-indigo-500 outline-none text-lg font-medium",value:P,onChange:K=>S(K.target.value)})]})]}),d.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 rounded-lg font-medium hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2",children:[d.jsx(Bx,{className:"w-5 h-5"}),"Confirmar Aporte"]})]})]})}),d.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.length===0?d.jsx("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700 text-slate-400",children:"Voc ainda no registrou investimentos."}):t.map(K=>{const ae=K.investedAmount||K.amount,Me=K.amount-ae,le=ae>0?Me/ae*100:0,ve=K.targetAmount&&K.targetAmount>0?Math.min(100,K.amount/K.targetAmount*100):0;return d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-shadow relative group",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 mb-2",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 p-3 rounded-full text-indigo-600 dark:text-indigo-400",children:d.jsx(em,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white text-lg",children:K.name}),d.jsxs("div",{className:"flex flex-wrap gap-2 text-xs mt-1",children:[d.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-2 py-0.5 rounded",children:K.type}),le!==0&&d.jsxs("span",{className:`px-2 py-0.5 rounded font-bold flex items-center gap-1 ${le>0?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400"}`,children:[le>0?d.jsx(Ui,{className:"w-3 h-3"}):d.jsx(nm,{className:"w-3 h-3"}),le.toFixed(2),"%"]})]})]})]}),d.jsxs("div",{className:"flex items-start justify-between md:justify-end gap-3 md:gap-6 mt-2 md:mt-0",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:"block text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Valor Atual"}),C===K.id?d.jsx("div",{className:"flex items-center justify-end gap-1 mt-1",children:d.jsx("input",{autoFocus:!0,type:"number",className:"w-24 p-1 text-sm border rounded bg-white dark:bg-slate-900 dark:text-white dark:border-slate-600 text-right",value:T,onChange:ce=>k(ce.target.value),onKeyDown:ce=>ce.key==="Enter"&&F(K.id),onBlur:()=>F(K.id)})}):d.jsxs("div",{className:"group/edit relative inline-block",children:[d.jsx("span",{className:"font-bold text-slate-800 dark:text-white text-xl cursor-pointer hover:text-indigo-500 border-b border-dashed border-transparent hover:border-indigo-400 transition-all",onClick:()=>{I(K.id),k(K.amount.toString())},title:"Clique para atualizar cotao",children:ie(K.amount)}),d.jsx(yD,{className:"w-3 h-3 text-slate-300 absolute -right-4 top-1 opacity-0 group-hover/edit:opacity-100 transition-opacity"})]}),d.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Investido: ",ie(ae)]})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("button",{onClick:()=>E(K.id),className:"p-1.5 text-indigo-600 bg-indigo-50 hover:bg-indigo-100 dark:text-indigo-400 dark:bg-indigo-900/30 dark:hover:bg-indigo-900/50 rounded-lg transition-colors",title:"Novo Aporte",children:d.jsx(Bx,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>r(K.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors",title:"Excluir",children:d.jsx(du,{className:"w-4 h-4"})})]})]})]}),K.targetAmount>0?d.jsx("div",{className:"mt-3 bg-slate-50 dark:bg-slate-700/50 p-2 rounded-lg border border-slate-100 dark:border-slate-700 flex items-center gap-3",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex justify-between items-end mb-1",children:[d.jsxs("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase flex items-center gap-1",children:[d.jsx(Js,{className:"w-3 h-3"})," Meta: ",ie(K.targetAmount)]}),d.jsxs("span",{className:"text-[10px] font-bold text-indigo-600 dark:text-indigo-400",children:[ve.toFixed(0),"%"]})]}),d.jsx("div",{className:"w-full h-1.5 bg-slate-200 dark:bg-slate-600 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-indigo-500 rounded-full transition-all duration-1000",style:{width:`${ve}%`}})})]})}):d.jsx("div",{className:"mt-2 flex justify-end opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsxs("button",{onClick:()=>u(!0),className:"text-[10px] text-slate-400 hover:text-indigo-500 flex items-center gap-1 uppercase font-bold tracking-wider",children:[d.jsx(RB,{className:"w-3 h-3"})," Definir Meta"]})})]},K.id)})})]})},fIe=["Casa","Mobilidade","Alimentos","Lazer","Pets","Outros"],hIe=({budgets:t,transactions:e,investments:n,onAdd:r,onUpdate:i,onDelete:o,onNavigate:s,privacyMode:a,quickActionSignal:l})=>{const[u,c]=B.useState(!1),[f,h]=B.useState(!1),[y,v]=B.useState(new Date),[b,x]=B.useState(null),[w,_]=B.useState(""),[E,P]=B.useState({category:"Lazer",limit:"",isRecurring:!0,month:new Date().toISOString().slice(0,7)});B.useEffect(()=>{l&&Date.now()-l<2e3&&(c(!0),P({category:"Lazer",limit:"",isRecurring:!0,month:new Date().toISOString().slice(0,7)}))},[l]);const S=()=>{v(L=>{const G=new Date(L);return G.setMonth(L.getMonth()-1),G})},C=()=>{v(L=>{const G=new Date(L);return G.setMonth(L.getMonth()+1),G})},I=L=>L.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}),T=()=>{const L=y.getFullYear(),G=String(y.getMonth()+1).padStart(2,"0");return`${L}-${G}`},k=L=>{if(L.preventDefault(),E.isRecurring){if(t.some(q=>q.category===E.category&&q.isRecurring)){alert(`J existe um oramento recorrente para ${E.category}. Exclua o anterior para criar um novo.`);return}}else if(t.some(q=>q.category===E.category&&q.month===E.month)){alert(`J existe um oramento de ${E.category} para ${E.month}.`);return}const G={category:E.category,limit:parseFloat(E.limit),isRecurring:E.isRecurring};E.isRecurring||(G.month=E.month),r(G),P({category:"Outros",limit:"",isRecurring:!0,month:T()}),c(!1)},N=L=>{const G=parseFloat(w);!isNaN(G)&&G>0&&i(L,{limit:G}),x(null)},O=L=>{x(L.id),_(L.limit.toString())},M=L=>a?"":`R$ ${L.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,D=L=>{const G=y.getFullYear(),q=y.getMonth();return e.filter(J=>{const H=new Date(J.date);return J.type==="expense"&&J.category===L&&H.getMonth()===q&&H.getFullYear()===G}).reduce((J,H)=>J+H.amount,0)},z=B.useMemo(()=>{const L=T(),G=t.filter(H=>H.month===L),q=new Set(G.map(H=>H.category)),J=t.filter(H=>H.isRecurring&&!q.has(H.category));return[...G,...J].sort((H,W)=>H.category.localeCompare(W.category))},[t,y]),F=B.useMemo(()=>n.filter(L=>L.targetAmount>0).sort((L,G)=>{const q=L.amount/L.targetAmount;return G.amount/G.targetAmount-q}),[n]),j=L=>{const G=new Date;if(G.getMonth()!==y.getMonth()||G.getFullYear()!==y.getFullYear())return null;const q=G.getDate(),J=new Date(G.getFullYear(),G.getMonth()+1,0).getDate();return q===1?L:L/q*J},V=B.useMemo(()=>{const L=new Map,G=new Date;for(let J=0;J<6;J++){const H=new Date(G.getFullYear(),G.getMonth()-J,1),W=H.getFullYear(),ie=H.getMonth(),K=`${W}-${String(ie+1).padStart(2,"0")}`;new Set(e.filter(fe=>{const Me=new Date(fe.date);return fe.type==="expense"&&Me.getFullYear()===W&&Me.getMonth()===ie}).map(fe=>fe.category)).forEach(fe=>{let Me=t.find(le=>le.category===fe&&le.month===K);if(Me||(Me=t.find(le=>le.category===fe&&le.isRecurring)),Me){const le=e.filter(ce=>{const Z=new Date(ce.date);return ce.type==="expense"&&ce.category===fe&&Z.getFullYear()===W&&Z.getMonth()===ie}).reduce((ce,Z)=>ce+Z.amount,0),ve=L.get(fe)||{totalSpent:0,totalLimit:0,count:0};L.set(fe,{totalSpent:ve.totalSpent+le,totalLimit:ve.totalLimit+Me.limit,count:ve.count+1})}})}return Array.from(L.entries()).map(([J,H])=>{const W=H.totalSpent/H.totalLimit*100;return{name:J,adherence:W,spent:H.totalSpent/H.count,limit:H.totalLimit/H.count}}).sort((J,H)=>H.adherence-J.adherence)},[t,e]);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Planejamento"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm capitalize",children:"Defina limites e acompanhe suas metas."})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsx("button",{onClick:()=>h(!f),className:`p-2.5 rounded-lg transition-colors border ${f?"bg-indigo-50 border-indigo-200 text-indigo-600 dark:bg-indigo-900/30 dark:border-indigo-800 dark:text-indigo-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300"}`,title:"Ver Anlise de Performance",children:d.jsx(md,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-1",children:[d.jsx("button",{onClick:S,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:d.jsx(eE,{className:"w-5 h-5"})}),d.jsxs("div",{className:"px-4 font-semibold text-slate-700 dark:text-slate-200 capitalize min-w-[140px] text-center flex items-center justify-center gap-2",children:[d.jsx(Ko,{className:"w-4 h-4 text-pink-500"}),I(y)]}),d.jsx("button",{onClick:C,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:d.jsx(Kg,{className:"w-5 h-5"})})]}),d.jsxs("button",{onClick:()=>{P(L=>({...L,month:T()})),c(!u)},className:"flex items-center gap-2 bg-pink-600 text-white px-4 py-2.5 rounded-lg hover:bg-pink-700 transition-colors shadow-sm text-sm font-medium",children:[d.jsx(Fi,{className:"w-4 h-4"}),"Definir Teto"]})]})]}),f&&V.length>0&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 animate-fade-in-down mb-6",children:[d.jsx("div",{className:"mb-6",children:d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Ui,{className:"w-5 h-5 text-indigo-500"}),"Performance Histrica (ltimos 6 Meses)"]})}),d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(zo,{width:"100%",height:"100%",children:d.jsxs(ST,{data:V,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(tu,{strokeDasharray:"3 3",horizontal:!1,stroke:"#e2e8f0",opacity:.5}),d.jsx(ci,{type:"number",hide:!0}),d.jsx(di,{dataKey:"name",type:"category",width:100,tick:{fill:"#64748b",fontSize:12,fontWeight:500},axisLine:!1,tickLine:!1}),d.jsx(on,{cursor:{fill:"transparent"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:L=>[`${L.toFixed(0)}%`,"Mdia de Uso"]}),d.jsx(Wf,{x:100,stroke:"#ef4444",strokeDasharray:"3 3"}),d.jsx(ui,{dataKey:"adherence",radius:[0,4,4,0],barSize:20,children:V.map((L,G)=>d.jsx(va,{fill:L.adherence>100?"#ef4444":L.adherence>85?"#f59e0b":"#10b981"},`cell-${G}`))})]})})})]}),u&&d.jsxs("form",{onSubmit:k,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[d.jsx("div",{className:"col-span-1 md:col-span-2",children:d.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Novo Limite de Gastos"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:"Categoria"}),d.jsx("select",{value:E.category,onChange:L=>P({...E,category:L.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-pink-500",children:fIe.map(L=>d.jsx("option",{value:L,children:L},L))})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:"Valor Teto (R$)"}),d.jsx("input",{required:!0,type:"number",placeholder:"Ex: 1000.00",value:E.limit,onChange:L=>P({...E,limit:L.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-pink-500"})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 bg-slate-50 dark:bg-slate-700/50 p-3 rounded-lg border border-slate-100 dark:border-slate-700",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx("input",{type:"checkbox",id:"isRecurringBudget",checked:E.isRecurring,onChange:L=>P({...E,isRecurring:L.target.checked}),className:"w-4 h-4 text-pink-600 rounded"}),d.jsxs("label",{htmlFor:"isRecurringBudget",className:"text-sm font-medium text-slate-700 dark:text-slate-200 flex items-center gap-1 cursor-pointer",children:[d.jsx(Vo,{className:"w-4 h-4"})," Oramento Recorrente?"]})]}),E.isRecurring?d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[d.jsx(BB,{className:"w-3 h-3"})," Este limite ser aplicado automaticamente em todos os meses futuros."]}):d.jsxs("div",{className:"animate-fade-in",children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 block mb-1",children:"Ms de Referncia"}),d.jsx("input",{type:"month",required:!E.isRecurring,value:E.month,onChange:L=>P({...E,month:L.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 outline-none w-full max-w-[200px]"})]})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-2 mt-2",children:[d.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700 font-medium",children:"Salvar Teto"})]})]}),d.jsxs("div",{className:"mb-10",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[d.jsx(Dx,{className:"w-5 h-5 text-rose-500"})," Tetos de Gastos"]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:z.length===0?d.jsxs("div",{className:"col-span-full py-12 text-center bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[d.jsx(Js,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"Nenhum teto definido."})]}):z.map(L=>{const G=D(L.category),q=j(G),J=Math.min(100,G/L.limit*100),H=q?Math.min(100,q/L.limit*100):0,W=G>L.limit;let ie="bg-emerald-500",K=d.jsx($x,{className:"w-5 h-5 text-emerald-600"});return J>100?(ie="bg-rose-500",K=d.jsx(Dx,{className:"w-5 h-5 text-rose-600"})):J>85?(ie="bg-rose-500",K=d.jsx(Xp,{className:"w-5 h-5 text-rose-500"})):J>70&&(ie="bg-amber-500",K=d.jsx(Xp,{className:"w-5 h-5 text-amber-500"})),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-all relative group",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2.5 rounded-lg bg-slate-100 dark:bg-slate-700",children:K}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:L.category}),d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[L.isRecurring?d.jsx(Vo,{className:"w-3 h-3"}):d.jsx(gd,{className:"w-3 h-3"}),L.isRecurring?"Mensal":"Especfico"]})]})]}),b===L.id?d.jsxs("div",{className:"flex items-center gap-1 animate-fade-in",children:[d.jsx("input",{autoFocus:!0,type:"number",className:"w-20 p-1 text-sm border rounded bg-white dark:bg-slate-900 dark:text-white dark:border-slate-600",value:w,onChange:ae=>_(ae.target.value),onKeyDown:ae=>ae.key==="Enter"&&N(L.id)}),d.jsx("button",{onClick:()=>N(L.id),className:"p-1 bg-emerald-100 text-emerald-600 rounded hover:bg-emerald-200",children:d.jsx(n6,{className:"w-3 h-3"})}),d.jsx("button",{onClick:()=>x(null),className:"p-1 bg-slate-100 text-slate-600 rounded hover:bg-slate-200",children:d.jsx(zr,{className:"w-3 h-3"})})]}):d.jsxs("div",{className:"text-right group-hover:hidden",children:[d.jsx("p",{className:"text-xs text-slate-500",children:"Limite"}),d.jsx("p",{className:"font-bold text-slate-800 dark:text-white cursor-pointer hover:text-indigo-500",onClick:()=>O(L),children:M(L.limit)})]}),d.jsxs("div",{className:"hidden group-hover:flex gap-1 absolute top-4 right-4 bg-white dark:bg-slate-800 pl-2",children:[d.jsx("button",{onClick:()=>O(L),className:"p-1.5 text-slate-400 hover:text-indigo-500 hover:bg-indigo-50 rounded",children:d.jsx(yD,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>o(L.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded",children:d.jsx(du,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"space-y-2 relative",children:[d.jsxs("div",{className:"flex justify-between items-end text-sm",children:[d.jsxs("span",{className:"text-slate-600 dark:text-slate-300 font-medium",children:["Gasto: ",d.jsx("span",{className:W?"text-rose-500 font-bold":"",children:M(G)})]}),d.jsxs("span",{className:"text-slate-400 text-xs",children:[J.toFixed(0),"%"]})]}),d.jsxs("div",{className:"w-full h-3 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden relative",children:[q&&q>G&&!W&&d.jsx("div",{className:"absolute top-0 left-0 h-full bg-slate-200 dark:bg-slate-600 opacity-50 border-r-2 border-slate-400 dark:border-slate-400 transition-all duration-1000",style:{width:`${H}%`},title:`Previso de fechar o ms em ${M(q)}`}),d.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${ie} relative z-10`,style:{width:`${J}%`}})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[q&&q>L.limit&&!W&&d.jsxs("p",{className:"text-[10px] text-amber-600 dark:text-amber-400 flex items-center gap-1 font-semibold animate-pulse",children:[d.jsx(jB,{className:"w-3 h-3"})," Previso de estouro: ",M(q)]}),d.jsx("div",{className:"flex-1"}),d.jsx("p",{className:"text-xs text-right font-medium",children:W?d.jsxs("span",{className:"text-rose-500",children:["Excedido: ",M(G-L.limit)]}):d.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400",children:["Restam: ",M(L.limit-G)]})})]})]})]},L.id)})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200 flex items-center gap-2",children:[d.jsx(NA,{className:"w-5 h-5 text-yellow-500"})," Objetivos de Conquista"]}),d.jsxs("button",{onClick:()=>s($e.INVESTMENTS),className:"text-xs font-semibold text-indigo-600 hover:text-indigo-700 dark:text-indigo-400 flex items-center gap-1 transition-colors",children:["Gerenciar Carteira ",d.jsx(Qw,{className:"w-3 h-3"})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:F.length===0?d.jsxs("div",{className:"col-span-full py-8 text-center bg-yellow-50/50 dark:bg-yellow-900/10 rounded-xl border border-dashed border-yellow-200 dark:border-yellow-800",children:[d.jsx(Js,{className:"w-10 h-10 text-yellow-400 mx-auto mb-2"}),d.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:'Defina uma "Meta Final" nos seus investimentos para v-los aqui.'}),d.jsx("button",{onClick:()=>s($e.INVESTMENTS),className:"mt-3 text-xs bg-yellow-100 hover:bg-yellow-200 text-yellow-700 px-3 py-1.5 rounded-lg font-bold transition-colors",children:"Ir para Investimentos"})]}):F.map(L=>{const G=Math.min(100,L.amount/L.targetAmount*100);return d.jsxs("div",{onClick:()=>s($e.INVESTMENTS),className:"bg-gradient-to-br from-white to-yellow-50 dark:from-slate-800 dark:to-slate-800/50 p-6 rounded-xl shadow-sm border border-yellow-200 dark:border-yellow-900/30 relative overflow-hidden cursor-pointer hover:shadow-md hover:scale-[1.02] transition-all group",children:[d.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(mD,{className:"w-4 h-4 text-slate-400"})}),d.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2.5 rounded-lg bg-yellow-100 text-yellow-600 dark:bg-yellow-900/30 dark:text-yellow-400",children:d.jsx(Ui,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-slate-800 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:L.name}),d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Meta: ",M(L.targetAmount)]})]})]}),d.jsx("div",{className:"text-right",children:d.jsxs("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:[G.toFixed(0),"%"]})})]}),d.jsx("div",{className:"w-full h-4 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden relative z-10",children:d.jsx("div",{className:"h-full bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full transition-all duration-1000 shadow-[0_0_10px_rgba(251,191,36,0.5)]",style:{width:`${G}%`},children:d.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/30 to-transparent -translate-x-full animate-[shimmer_2s_infinite]"})})}),d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2 text-right relative z-10",children:["Faltam ",M(L.targetAmount-L.amount)]}),d.jsx(NA,{className:"absolute -bottom-4 -right-4 w-32 h-32 text-yellow-500/5 rotate-12 pointer-events-none"})]},L.id)})})]})]})},pIe=({transactions:t,onUpdateTransaction:e,onDeleteTransaction:n,privacyMode:r})=>{const i=B.useMemo(()=>{const h=new Map;return t.filter(v=>v.type==="expense"&&v.isRecurring).forEach(v=>{const b=h.get(v.description);(!b||new Date(v.date)>new Date(b.date))&&h.set(v.description,v)}),Array.from(h.values()).sort((v,b)=>b.amount-v.amount)},[t]),o=i.reduce((h,y)=>h+y.amount,0),s=o*12,a=B.useMemo(()=>i.slice(0,10).map(h=>({name:h.description,amount:h.amount,annual:h.amount*12,color:h.amount>200?"#ef4444":h.amount>50?"#f59e0b":"#3b82f6"})),[i]),l=h=>r?"":`R$ ${h.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,u=h=>{confirm("Deseja parar de considerar este item como recorrente? Ele continuar como uma transao comum.")&&e(h,{isRecurring:!1})},c=h=>{const v=new Date(h).getDate(),b=new Date;let x=new Date(b.getFullYear(),b.getMonth(),v);x.setHours(0,0,0,0)<b.setHours(0,0,0,0)&&x.setMonth(x.getMonth()+1);const w=x.getTime()-b.getTime(),_=Math.ceil(w/(1e3*60*60*24));return _===0?{label:"Hoje",color:"text-rose-500 font-bold bg-rose-100 dark:bg-rose-900/30"}:_===1?{label:"Amanh",color:"text-amber-500 font-bold bg-amber-100 dark:bg-amber-900/30"}:{label:`em ${_} dias`,color:"text-slate-500 bg-slate-100 dark:bg-slate-700"}},f=({active:h,payload:y,label:v})=>{if(h&&y&&y.length){const b=y[0].payload;return d.jsxs("div",{className:"bg-white/95 dark:bg-slate-800/95 p-3 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 backdrop-blur-sm",children:[d.jsx("p",{className:"font-bold text-slate-800 dark:text-white mb-2 border-b border-slate-100 dark:border-slate-700 pb-1",children:b.name}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex justify-between gap-6 text-xs text-slate-500 dark:text-slate-400",children:[d.jsx("span",{children:"Mensalidade:"}),d.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:r?"":`R$ ${b.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})}`})]}),d.jsxs("div",{className:"flex justify-between gap-6 text-xs text-slate-500 dark:text-slate-400",children:[d.jsx("span",{children:"Custo Anual:"}),d.jsx("span",{className:"font-bold text-emerald-600 dark:text-emerald-400",children:r?"":`R$ ${b.annual.toLocaleString("pt-BR",{minimumFractionDigits:2})}`})]})]})]})}return null};return d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Vo,{className:"w-7 h-7 text-indigo-600"}),"Gesto de Assinaturas"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Gerencie seus gastos recorrentes e descubra o impacto anual das pequenas mensalidades."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-indigo-600 text-white p-6 rounded-xl shadow-lg relative overflow-hidden",children:[d.jsxs("div",{className:"relative z-10",children:[d.jsx("p",{className:"text-indigo-200 text-sm font-medium mb-1 uppercase tracking-wider",children:"Custo Mensal Real"}),d.jsx("h3",{className:"text-3xl font-bold",children:l(o)}),d.jsxs("p",{className:"text-indigo-200 text-xs mt-2 opacity-80",children:[i.length," assinaturas ativas"]})]}),d.jsx(gd,{className:"absolute right-4 bottom-4 w-24 h-24 text-indigo-500 opacity-20"})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 p-6 rounded-xl shadow-sm relative overflow-hidden",children:[d.jsxs("div",{className:"relative z-10",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1 uppercase tracking-wider",children:"Impacto Anual"}),d.jsx("h3",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:l(s)}),d.jsxs("p",{className:"text-emerald-500 text-xs mt-2 font-medium flex items-center gap-1",children:[d.jsx(Ui,{className:"w-3 h-3"}),"Projeo de 12 meses"]})]}),d.jsx(em,{className:"absolute right-4 bottom-4 w-24 h-24 text-slate-100 dark:text-slate-700"})]})]}),a.length>0&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 mb-4",children:[d.jsx(md,{className:"w-5 h-5 text-indigo-500"}),"Ranking de Custos (Top 10)"]}),d.jsx("div",{className:"h-[250px] w-full",children:d.jsx(zo,{width:"100%",height:"100%",children:d.jsxs(ST,{data:a,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(tu,{strokeDasharray:"3 3",horizontal:!1,stroke:"#e2e8f0",opacity:.5}),d.jsx(ci,{type:"number",hide:!0}),d.jsx(di,{dataKey:"name",type:"category",width:120,tick:{fill:"#64748b",fontSize:11,fontWeight:500},axisLine:!1,tickLine:!1}),d.jsx(on,{content:d.jsx(f,{}),cursor:{fill:"transparent"}}),d.jsx(ui,{dataKey:"amount",radius:[0,4,4,0],barSize:20,children:a.map((h,y)=>d.jsx(va,{fill:h.color},`cell-${y}`))})]})})})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.length===0?d.jsxs("div",{className:"col-span-full py-12 text-center bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[d.jsx(Vo,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"Nenhuma assinatura encontrada."}),d.jsx("p",{className:"text-slate-400 text-sm",children:'Marque a opo "Recorrente" ao adicionar uma despesa.'})]}):i.map(h=>{const y=c(h.date);return d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-all group relative",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{className:"overflow-hidden mr-2",children:[d.jsx("h4",{className:"font-bold text-slate-800 dark:text-white text-lg truncate mb-1",children:h.description}),d.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400",children:h.category})]}),d.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[d.jsx("button",{onClick:()=>u(h.id),className:"p-1.5 text-slate-400 hover:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/30 rounded-lg transition-colors",title:"Remover recorrncia",children:d.jsx(sD,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>n(h.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors",title:"Excluir assinatura",children:d.jsx(zr,{className:"w-4 h-4"})})]})]}),d.jsx("div",{className:"flex items-center justify-between mt-2 mb-4",children:d.jsxs("div",{className:`flex items-center gap-1.5 text-[10px] uppercase font-bold px-2 py-1 rounded-md ${y.color}`,children:[d.jsx(Ko,{className:"w-3 h-3"}),"Renova ",y.label]})}),d.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-xs text-slate-400 block",children:"Mensal"}),d.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:l(h.amount)})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:"text-xs text-slate-400 block",children:"Anual"}),d.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:l(h.amount*12)})]})]})]},h.id)})})]})},mIe=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],gIe=["Casa","Mobilidade","Alimentos","Lazer","Sade","Educao","Pets","Salrio","Renda Extra","Investimentos","Outros"],yIe=[{value:"credit_card",label:"Crdito"},{value:"debit_card",label:"Dbito"},{value:"pix",label:"PIX"},{value:"cash",label:"Dinheiro"},{value:"direct_debit",label:"Dbito Auto."}],vIe=t=>{let e=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//NEXO Finance//PT-BR
`;t.forEach(i=>{const o=i.date.replace(/-/g,"");e+=`BEGIN:VEVENT
`,e+=`DTSTART;VALUE=DATE:${o}
`,e+=`DTEND;VALUE=DATE:${o}
`,e+=`SUMMARY:${i.description} (${i.type==="income"?"+":"-"} R$ ${i.amount})
`,e+=`DESCRIPTION:Categoria: ${i.category} | Status: ${i.status} ${i.observation?"| Obs: "+i.observation:""}
`,e+=`END:VEVENT
`}),e+="END:VCALENDAR";const n=new Blob([e],{type:"text/calendar;charset=utf-8"}),r=document.createElement("a");r.href=window.URL.createObjectURL(n),r.setAttribute("download","nexo_agenda.ics"),document.body.appendChild(r),r.click(),document.body.removeChild(r)},xIe=({transactions:t,budgets:e,onAddTransaction:n,privacyMode:r})=>{const[i,o]=B.useState(new Date),[s,a]=B.useState(new Date().getDate()),[l,u]=B.useState("all"),[c,f]=B.useState(!1),[h,y]=B.useState({description:"",amount:"",type:"expense",category:"Outros",paymentMethod:"credit_card",status:"pending",observation:""}),v=i.getFullYear(),b=i.getMonth(),x=(F,j)=>new Date(F,j+1,0).getDate(),w=(F,j)=>new Date(F,j,1).getDay(),_=x(v,b),E=w(v,b),P=B.useMemo(()=>{const F=[],j=new Date,V=j.getMonth(),L=j.getFullYear(),G=j.toISOString().slice(0,7);return e.forEach(q=>{if(!(q.isRecurring&&!e.some(W=>W.category===q.category&&W.month===G&&!W.isRecurring)||q.month===G))return;t.filter(W=>W.type==="expense"&&W.category===q.category&&new Date(W.date).getMonth()===V&&new Date(W.date).getFullYear()===L).reduce((W,ie)=>W+ie.amount,0)>=q.limit&&F.push({title:`Limite Excedido: ${q.category}`,message:"Voc estourou o teto definido para esta categoria.",type:"warning"})}),F},[e,t]),S=B.useMemo(()=>{const F=t.filter(q=>{const[J,H]=q.date.split("-").map(Number);return J===v&&H===b+1}),j=new Map;t.forEach(q=>{if(q.isRecurring){const J=j.get(q.description);(!J||new Date(q.date)>new Date(J.date))&&j.set(q.description,q)}});const V=[],L=new Date;return new Date(v,b,1)>=new Date(L.getFullYear(),L.getMonth(),1)&&j.forEach(q=>{if(!F.some(H=>H.description===q.description&&H.amount===q.amount)){const H=new Date(q.date),W=H.getDate(),ie=Math.min(W,_);H<new Date(v,b+1,0)&&V.push({...q,id:`ghost-${q.id}-${v}-${b}`,date:`${v}-${String(b+1).padStart(2,"0")}-${String(ie).padStart(2,"0")}`,status:"pending",isGhost:!0})}}),[...F,...V].filter(q=>l==="all"?!0:l==="pending"?q.status==="pending":q.type===l)},[t,v,b,_,l]),C=B.useMemo(()=>s===null?[]:S.filter(F=>parseInt(F.date.split("-")[2])===s),[S,s]),I=B.useMemo(()=>{let F=0;for(let j=1;j<=_;j++){const V=S.filter(L=>parseInt(L.date.split("-")[2])===j&&L.type==="expense").reduce((L,G)=>L+G.amount,0);V>F&&(F=V)}return F||1},[S,_]),T=()=>{o(new Date(v,b-1,1)),a(null)},k=()=>{o(new Date(v,b+1,1)),a(null)},N=()=>{s&&(y({description:"",amount:"",type:"expense",category:"Outros",paymentMethod:"credit_card",status:"pending",observation:""}),f(!0))},O=F=>{if(F.preventDefault(),!s)return;const j=`${v}-${String(b+1).padStart(2,"0")}-${String(s).padStart(2,"0")}`;n({description:h.description,amount:parseFloat(h.amount),type:h.type,category:h.category,date:j,status:h.status,paymentMethod:h.paymentMethod,isRecurring:!1,observation:h.observation}),f(!1)},M=F=>r?"":F>=1e3?(F/1e3).toFixed(1)+"k":F.toFixed(0),D=F=>r?"":`R$ ${F.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,z=[];for(let F=0;F<E;F++)z.push(d.jsx("div",{className:"h-28 bg-slate-50/30 dark:bg-slate-800/30 border border-slate-100 dark:border-slate-700/50"},`empty-${F}`));for(let F=1;F<=_;F++){const j=S.filter(W=>parseInt(W.date.split("-")[2])===F),V=j.filter(W=>W.type==="income").reduce((W,ie)=>W+ie.amount,0),L=j.filter(W=>W.type==="expense").reduce((W,ie)=>W+ie.amount,0),G=Math.min(1,L/I);let q="bg-white dark:bg-slate-800";L>0&&(G>.7?q="bg-rose-100 dark:bg-rose-900/40":G>.4?q="bg-rose-50 dark:bg-rose-900/20":q="bg-slate-50 dark:bg-slate-800");const J=new Date().getDate()===F&&new Date().getMonth()===b&&new Date().getFullYear()===v,H=s===F;z.push(d.jsxs("div",{onClick:()=>a(F),className:`h-28 p-1.5 border border-slate-100 dark:border-slate-700 relative cursor-pointer transition-all hover:brightness-95
          ${H?"ring-2 ring-inset ring-indigo-500 z-10":""}
          ${q}
        `,children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("span",{className:`text-xs font-bold inline-flex w-6 h-6 items-center justify-center rounded-full ${J?"bg-indigo-600 text-white shadow-lg":"text-slate-500 dark:text-slate-400"}`,children:F}),j.some(W=>W.status==="pending")&&d.jsx("div",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full animate-pulse",title:"Pagamentos Pendentes"})]}),d.jsxs("div",{className:"mt-2 flex flex-col gap-0.5",children:[V>0&&d.jsxs("div",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-100/50 dark:bg-emerald-900/30 px-1 rounded truncate",children:["+",M(V)]}),L>0&&d.jsxs("div",{className:"text-[10px] font-bold text-rose-600 dark:text-rose-400 px-1 rounded truncate",children:["-",M(L)]}),j.some(W=>W.isGhost)&&d.jsx("div",{className:"absolute bottom-1 right-1 opacity-50",children:d.jsx(nE,{className:"w-3 h-3 text-slate-400"})})]})]},F))}return d.jsxs("div",{className:"space-y-6 animate-fade-in pb-20 md:pb-0 relative",children:[P.length>0&&d.jsx("div",{className:"space-y-2 mb-4",children:P.map((F,j)=>d.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-4 rounded-xl flex items-start gap-3 animate-fade-in-down shadow-sm",children:[d.jsx("div",{className:"bg-amber-100 dark:bg-amber-800 p-2 rounded-full flex-shrink-0",children:d.jsx(Zw,{className:"w-5 h-5 text-amber-600 dark:text-amber-300"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-amber-800 dark:text-amber-300 text-sm",children:F.title}),d.jsx("p",{className:"text-amber-700 dark:text-amber-400 text-xs mt-0.5",children:F.message})]})]},j))}),c&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-scale-in border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Nova Transao"}),d.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-semibold flex items-center gap-1",children:[d.jsx(gd,{className:"w-3 h-3"}),s," de ",i.toLocaleDateString("pt-BR",{month:"long"})]})]}),d.jsx("button",{onClick:()=>f(!1),className:"text-slate-400 hover:text-slate-600",children:d.jsx(zr,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:O,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"O que ?"}),d.jsxs("div",{className:"relative",children:[d.jsx(wB,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"}),d.jsx("input",{autoFocus:!0,required:!0,type:"text",placeholder:"Ex: Mercado, Conta de Luz...",value:h.description,onChange:F=>y({...h,description:F.target.value}),className:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Valor (R$)"}),d.jsxs("div",{className:"relative",children:[d.jsx(em,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"}),d.jsx("input",{required:!0,type:"number",step:"0.01",placeholder:"0,00",value:h.amount,onChange:F=>y({...h,amount:F.target.value}),className:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Tipo"}),d.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 rounded-xl p-1",children:[d.jsx("button",{type:"button",onClick:()=>y({...h,type:"expense"}),className:`flex-1 py-1.5 text-xs font-bold rounded-lg transition-colors ${h.type==="expense"?"bg-white dark:bg-slate-600 text-rose-600 shadow-sm":"text-slate-500"}`,children:"Sada"}),d.jsx("button",{type:"button",onClick:()=>y({...h,type:"income"}),className:`flex-1 py-1.5 text-xs font-bold rounded-lg transition-colors ${h.type==="income"?"bg-white dark:bg-slate-600 text-emerald-600 shadow-sm":"text-slate-500"}`,children:"Entrada"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Categoria"}),d.jsxs("div",{className:"relative",children:[d.jsx(vD,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"}),d.jsx("select",{value:h.category,onChange:F=>y({...h,category:F.target.value}),className:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 appearance-none",children:gIe.map(F=>d.jsx("option",{value:F,children:F},F))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Pagamento"}),d.jsxs("div",{className:"relative",children:[d.jsx(Zp,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"}),d.jsx("select",{value:h.paymentMethod,onChange:F=>y({...h,paymentMethod:F.target.value}),className:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 appearance-none",children:yIe.map(F=>d.jsx("option",{value:F.value,children:F.label},F.value))})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Status"}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("label",{className:`flex-1 cursor-pointer border rounded-xl p-3 flex items-center justify-center gap-2 transition-all ${h.status==="paid"?"bg-emerald-50 border-emerald-500 text-emerald-700 dark:bg-emerald-900/20":"border-slate-200 dark:border-slate-700"}`,children:[d.jsx("input",{type:"radio",name:"status",className:"hidden",checked:h.status==="paid",onChange:()=>y({...h,status:"paid"})}),d.jsx(Vx,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm font-semibold",children:"Pago / Recebido"})]}),d.jsxs("label",{className:`flex-1 cursor-pointer border rounded-xl p-3 flex items-center justify-center gap-2 transition-all ${h.status==="pending"?"bg-amber-50 border-amber-500 text-amber-700 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700"}`,children:[d.jsx("input",{type:"radio",name:"status",className:"hidden",checked:h.status==="pending",onChange:()=>y({...h,status:"pending"})}),d.jsx(Qp,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm font-semibold",children:"Pendente"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Observaes (Opcional)"}),d.jsx("input",{type:"text",placeholder:"Detalhes adicionais...",value:h.observation,onChange:F=>y({...h,observation:F.target.value}),className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500"})]}),d.jsxs("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-lg shadow-indigo-500/20 transition-all flex items-center justify-center gap-2 mt-4",children:[d.jsx(Fi,{className:"w-5 h-5"})," Adicionar Transao"]})]})]})}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Ko,{className:"w-7 h-7 text-indigo-600"}),"Agenda Financeira"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Previso de gastos e controle de vencimentos."})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full md:w-auto",children:[d.jsx("button",{onClick:()=>vIe(S),className:"p-2 text-slate-500 hover:text-indigo-600 border border-slate-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800",title:"Exportar para Google Calendar / Outlook (.ics)",children:d.jsx(cD,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-1 flex-1 md:flex-none justify-center",children:[d.jsx("button",{onClick:T,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:d.jsx(eE,{className:"w-5 h-5"})}),d.jsx("div",{className:"px-4 font-semibold text-slate-700 dark:text-slate-200 capitalize min-w-[140px] text-center",children:i.toLocaleDateString("pt-BR",{month:"long",year:"numeric"})}),d.jsx("button",{onClick:k,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:d.jsx(Kg,{className:"w-5 h-5"})})]})]})]}),d.jsx("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl gap-1 overflow-x-auto",children:[{id:"all",label:"Tudo",icon:fD},{id:"expense",label:"Sadas",icon:kA},{id:"income",label:"Entradas",icon:CA},{id:"pending",label:"Pendentes",icon:Qp}].map(F=>d.jsxs("button",{onClick:()=>u(F.id),className:`flex-1 min-w-[80px] py-2 text-xs font-semibold rounded-lg transition-all flex items-center justify-center gap-2
                    ${l===F.id?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[d.jsx(F.icon,{className:"w-3 h-3"})," ",F.label]},F.id))}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[d.jsx("div",{className:"grid grid-cols-7 bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:mIe.map(F=>d.jsx("div",{className:"py-3 text-center text-xs font-bold uppercase text-slate-500 dark:text-slate-400",children:F},F))}),d.jsx("div",{className:"grid grid-cols-7",children:z})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-0 overflow-hidden flex flex-col h-full min-h-[400px]",children:[d.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-900/50",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:s?`${s} de ${i.toLocaleDateString("pt-BR",{month:"long"})}`:"Resumo do Ms"}),s&&d.jsxs("button",{onClick:N,className:"mt-3 w-full py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-colors",children:[d.jsx(Fi,{className:"w-4 h-4"})," Adicionar neste dia"]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[s&&C.length===0&&d.jsxs("div",{className:"text-center py-10",children:[d.jsx(gd,{className:"w-12 h-12 text-slate-200 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Nenhuma movimentao."})]}),!s&&d.jsxs("div",{className:"text-center py-10",children:[d.jsx("div",{className:"inline-block p-4 rounded-full bg-slate-100 dark:bg-slate-700 mb-4",children:d.jsx(Ko,{className:"w-8 h-8 text-indigo-500"})}),d.jsx("p",{className:"text-slate-500 font-medium",children:"Selecione um dia"}),d.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Clique no calendrio para ver detalhes ou adicionar contas."})]}),C.map((F,j)=>d.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${F.isGhost?"bg-slate-50 dark:bg-slate-800 border-dashed border-indigo-300 dark:border-indigo-700":"bg-white dark:bg-slate-700/50 border-slate-100 dark:border-slate-700"}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-full ${F.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100 text-rose-600 dark:bg-rose-900/30 dark:text-rose-400"}`,children:F.type==="income"?d.jsx(CA,{className:"w-4 h-4"}):d.jsx(kA,{className:"w-4 h-4"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"font-semibold text-slate-800 dark:text-white text-sm line-clamp-1",children:F.description}),F.isGhost&&d.jsx("span",{className:"text-[9px] bg-indigo-100 text-indigo-600 px-1.5 rounded uppercase font-bold",children:"Previsto"})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:F.category}),F.observation&&d.jsx("p",{className:"text-[10px] text-slate-400 italic mt-0.5",children:F.observation})]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:`font-bold text-sm ${F.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-slate-700 dark:text-slate-300"}`,children:D(F.amount)}),F.type==="expense"&&d.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${F.status==="pending"?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"}`,children:F.status==="pending"?"Pendente":"Pago"})]})]},F.id||j))]})]})]})]})},bIe=({data:t,privacyMode:e})=>{const[n,r]=B.useState([]),[i,o]=B.useState(""),[s,a]=B.useState(!1),[l,u]=B.useState(!1),c=B.useRef(null),f=B.useRef(null);B.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const x=window.SpeechRecognition||window.webkitSpeechRecognition;f.current=new x,f.current.continuous=!1,f.current.lang="pt-BR",f.current.interimResults=!1,f.current.onresult=w=>{const _=w.results[0][0].transcript;o(_),u(!1)},f.current.onerror=w=>{console.error("Speech error",w),u(!1)},f.current.onend=()=>{u(!1)}}},[]);const h=()=>{var x;(x=c.current)==null||x.scrollIntoView({behavior:"smooth"})};B.useEffect(()=>{h()},[n,s]);const y=()=>{var x;if(l)(x=f.current)==null||x.stop(),u(!1);else if(f.current)try{f.current.start(),u(!0)}catch(w){console.error(w)}else alert("Seu navegador no suporta reconhecimento de voz.")},v=async x=>{const w=i;if(!w.trim())return;const _={id:crypto.randomUUID(),role:"user",content:w,timestamp:new Date};r(S=>[...S,_]),o(""),a(!0);const E=crypto.randomUUID(),P={id:E,role:"assistant",content:"",timestamp:new Date};r(S=>[...S,P]);try{const S=HZ(w,n,t);let C="";for await(const I of S)C+=I,r(T=>T.map(k=>k.id===E?{...k,content:C}:k))}catch{r(C=>C.map(I=>I.id===E?{...I,content:"Desculpe, tive um erro ao processar sua resposta."}:I))}finally{a(!1)}},b=x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),v())};return d.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] animate-fade-in",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"bg-gradient-to-tr from-indigo-500 to-purple-600 p-3 rounded-xl shadow-lg shadow-indigo-500/20",children:d.jsx(Fs,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Assistente Inteligente"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Pergunte sobre seus gastos, investimentos ou pea conselhos."})]})]}),d.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 dark:bg-slate-900/50",children:[n.length===0&&d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 space-y-4 opacity-60",children:[d.jsx(jx,{className:"w-16 h-16"}),d.jsxs("p",{className:"text-sm",children:["Estou analisando seus dados em tempo real.",d.jsx("br",{}),"Como posso ajudar hoje?"]})]}),n.map(x=>d.jsx("div",{className:`flex w-full ${x.role==="user"?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`flex max-w-[85%] md:max-w-[75%] gap-3 ${x.role==="user"?"flex-row-reverse":"flex-row"}`,children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${x.role==="user"?"bg-slate-200 dark:bg-slate-700":"bg-indigo-600"}`,children:x.role==="user"?d.jsx(f6,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"}):d.jsx(jx,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{className:`p-4 rounded-2xl shadow-sm text-sm whitespace-pre-line leading-relaxed
                      ${x.role==="user"?"bg-white dark:bg-slate-700 text-slate-800 dark:text-white rounded-tr-none":"bg-indigo-600 text-white rounded-tl-none prose prose-invert max-w-none"}`,children:[x.content,s&&x.content===""&&d.jsxs("span",{className:"inline-flex gap-1",children:[d.jsx("span",{className:"w-1.5 h-1.5 bg-white/60 rounded-full animate-bounce"}),d.jsx("span",{className:"w-1.5 h-1.5 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"100ms"}}),d.jsx("span",{className:"w-1.5 h-1.5 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"200ms"}})]})]})]})},x.id)),d.jsx("div",{ref:c})]}),d.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"relative flex items-center gap-2",children:[d.jsx("button",{onClick:y,className:`p-3 rounded-xl transition-all ${l?"bg-rose-500 text-white animate-pulse shadow-lg shadow-rose-500/30":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,title:"Falar comando",children:l?d.jsx(c6,{className:"w-5 h-5"}):d.jsx(YB,{className:"w-5 h-5"})}),d.jsx("input",{type:"text",value:i,onChange:x=>o(x.target.value),onKeyDown:b,placeholder:l?"Ouvindo...":"Digite uma mensagem...",className:"flex-1 bg-slate-100 dark:bg-slate-700 dark:text-white border-0 rounded-xl px-4 py-3 focus:ring-2 focus:ring-indigo-500 outline-none",disabled:s}),d.jsx("button",{onClick:()=>v(),disabled:!i.trim()||s,className:"p-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-lg shadow-indigo-500/20",children:d.jsx(i6,{className:"w-5 h-5"})})]}),d.jsx("p",{className:"text-center text-[10px] text-slate-400 mt-2",children:"A IA pode cometer erros. Verifique informaes importantes."})]})]})]})},_Ie=["Serasa Limpa Nome","Acordo Certo","Desenrola Brasil","SPC Brasil","Boa Vista (Consumidor Positivo)","Direto com Banco/Credor","QueroQuitar","Pessoal/Famlia","Outros"],wIe=({debts:t,onAdd:e,onUpdate:n,onDelete:r,onAddTransaction:i,privacyMode:o,quickActionSignal:s})=>{const[a,l]=B.useState(!1),[u,c]=B.useState("all"),[f,h]=B.useState({isOpen:!1,debtId:""}),[y,v]=B.useState({date:new Date().toISOString().split("T")[0],amount:"",installments:1}),[b,x]=B.useState({isOpen:!1,debtId:"",currentValue:0}),[w,_]=B.useState("1"),[E,P]=B.useState({creditor:"",originalAmount:"",currentAmount:"",targetAmount:"",dueDate:"",status:"open",platform:"Serasa Limpa Nome",customPlatform:"",notes:""});B.useEffect(()=>{s&&Date.now()-s<2e3&&(l(!0),P({creditor:"",originalAmount:"",currentAmount:"",targetAmount:"",dueDate:"",status:"open",platform:"Serasa Limpa Nome",customPlatform:"",notes:""}))},[s]);const S=j=>{const V=new Date(j);return(new Date().getTime()-V.getTime())/(1e3*60*60*24*365.25)>=5},C=B.useMemo(()=>{let j=[...t];return u==="active"?j=j.filter(V=>!S(V.dueDate)):u==="prescribed"&&(j=j.filter(V=>S(V.dueDate))),j.sort((V,L)=>{const G=H=>H.status==="paid"?500:H.status==="agreement"?1:H.status==="negotiating"?2:S(H.dueDate)?4:3,q=G(V),J=G(L);return q!==J?q-J:L.currentAmount-V.currentAmount})},[t,u]),I=j=>{j.preventDefault();const V=E.targetAmount?parseFloat(E.targetAmount):0,L=E.platform==="Outros"?E.customPlatform:E.platform;e({creditor:E.creditor,originalAmount:parseFloat(E.originalAmount),currentAmount:parseFloat(E.currentAmount),targetAmount:V,dueDate:E.dueDate,status:E.status,platform:L,notes:E.notes}),P({creditor:"",originalAmount:"",currentAmount:"",targetAmount:"",dueDate:"",status:"open",platform:"Serasa Limpa Nome",customPlatform:"",notes:""}),l(!1)},T=(j,V)=>{if(V==="agreement"&&j.status!=="agreement"){h({isOpen:!0,debtId:j.id});const L=j.targetAmount>0?j.targetAmount:j.currentAmount;v({date:new Date().toISOString().split("T")[0],amount:L.toString(),installments:1})}else n(j.id,{status:V})},k=j=>{j.preventDefault();const V=t.find(H=>H.id===f.debtId);if(!V)return;const L=parseFloat(y.amount),G=Math.max(1,Math.floor(y.installments)),q=L/G;n(V.id,{status:"agreement",agreedAmount:L});const J=new Date(y.date);for(let H=0;H<G;H++){const W=new Date(J);W.setMonth(J.getMonth()+H);const ie=G>1?`Acordo: ${V.creditor} (${H+1}/${G})`:`Acordo: ${V.creditor}`;i({description:ie,amount:parseFloat(q.toFixed(2)),type:"expense",category:"Outros",date:W.toISOString().split("T")[0],status:"pending",paymentMethod:"pix",debtId:V.id})}alert(`Acordo registrado! ${G>1?`${G} parcelas agendadas`:"Pagamento agendado"}. A dvida ser quitada automaticamente quando todas as parcelas forem pagas.`),h({isOpen:!1,debtId:""})},N=j=>{x({isOpen:!0,debtId:j.id,currentValue:j.currentAmount}),_("1")},O=()=>{const j=t.find(V=>V.id===b.debtId);if(j){const V=parseFloat(w),L=j.currentAmount*(1+V/100);n(j.id,{currentAmount:L})}x({isOpen:!1,debtId:"",currentValue:0})},M=j=>o?"":`R$ ${j.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,D=t.filter(j=>j.status!=="paid").reduce((j,V)=>j+V.currentAmount,0),z=t.filter(j=>j.status!=="paid").reduce((j,V)=>j+V.targetAmount,0),F=t.filter(j=>j.status!=="paid"&&j.targetAmount>0).reduce((j,V)=>j+(V.currentAmount-V.targetAmount),0);return d.jsxs("div",{className:"space-y-6 animate-fade-in relative",children:[b.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-sm p-6 animate-scale-in",children:[d.jsx("div",{className:"flex justify-between items-center mb-4",children:d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Ui,{className:"w-5 h-5 text-rose-500"})," Atualizar Juros"]})}),d.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"O efeito bola de neve  real. Atualize o valor para manter o controle."}),d.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700 p-3 rounded-lg mb-4 flex justify-between items-center",children:[d.jsx("span",{className:"text-xs font-bold uppercase text-slate-500",children:"Valor Atual"}),d.jsx("span",{className:"font-mono font-bold text-slate-700 dark:text-white",children:M(b.currentValue)})]}),d.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[d.jsx("button",{onClick:()=>_("1"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-colors ${w==="1"?"bg-rose-100 text-rose-600 border border-rose-200":"bg-slate-50 dark:bg-slate-700 text-slate-500"}`,children:"+1%"}),d.jsx("button",{onClick:()=>_("2"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-colors ${w==="2"?"bg-rose-100 text-rose-600 border border-rose-200":"bg-slate-50 dark:bg-slate-700 text-slate-500"}`,children:"+2%"}),d.jsx("button",{onClick:()=>_("5"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-colors ${w==="5"?"bg-rose-100 text-rose-600 border border-rose-200":"bg-slate-50 dark:bg-slate-700 text-slate-500"}`,children:"+5%"}),d.jsxs("div",{className:"relative w-20",children:[d.jsx("input",{type:"number",value:w,onChange:j=>_(j.target.value),className:"w-full py-2 pl-2 pr-4 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 text-xs font-bold text-center outline-none focus:border-rose-500"}),d.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-slate-400",children:"%"})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>x({isOpen:!1,debtId:"",currentValue:0}),className:"flex-1 py-2.5 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg text-sm font-bold",children:"Cancelar"}),d.jsx("button",{onClick:O,className:"flex-1 py-2.5 bg-rose-600 text-white rounded-lg text-sm font-bold shadow-lg shadow-rose-500/20",children:"Aplicar"})]})]})}),f.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 border border-emerald-500/30 animate-scale-in",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4 text-emerald-600 dark:text-emerald-400",children:[d.jsx(Ch,{className:"w-8 h-8"}),d.jsx("h3",{className:"text-xl font-bold",children:"Oficializar Acordo"})]}),d.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm mb-6",children:"Qual foi o valor final negociado? Vamos atualizar o card e agendar o(s) pagamento(s)."}),d.jsxs("form",{onSubmit:k,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Valor Total Fechado (R$)"}),d.jsx("input",{type:"number",required:!0,step:"0.01",placeholder:"Valor total a pagar",value:y.amount,onChange:j=>v({...y,amount:j.target.value}),className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white font-bold text-lg outline-none focus:ring-2 focus:ring-emerald-500"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"1 Parcela"}),d.jsx("input",{type:"date",required:!0,value:y.date,onChange:j=>v({...y,date:j.target.value}),className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-emerald-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"N Parcelas"}),d.jsxs("div",{className:"relative",children:[d.jsx(nE,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx("input",{type:"number",required:!0,min:"1",max:"60",value:y.installments,onChange:j=>v({...y,installments:parseInt(j.target.value)}),className:"w-full p-3 pl-9 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-emerald-500"})]})]})]}),d.jsxs("div",{className:"flex gap-3 mt-6",children:[d.jsx("button",{type:"button",onClick:()=>h({isOpen:!1,debtId:""}),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-200 rounded-lg font-medium",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"flex-1 py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-bold shadow-lg shadow-emerald-500/30",children:"Gerar Parcelas"})]})]})]})}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(vd,{className:"w-7 h-7 text-rose-600"}),"Gesto de Dvidas (Limpa Nome)"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Controle suas pendncias e foque no que realmente importa."})]}),d.jsxs("button",{onClick:()=>l(!a),className:"flex items-center gap-2 bg-rose-600 text-white px-4 py-2 rounded-lg hover:bg-rose-700 transition-colors shadow-sm",children:[d.jsx(Fi,{className:"w-4 h-4"}),"Registrar Dvida"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-rose-100 dark:border-rose-900/30 shadow-sm",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-semibold uppercase",children:"Total da Dvida (Banco)"}),d.jsx("h3",{className:"text-2xl font-bold text-rose-600 dark:text-rose-400",children:M(D)}),d.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Valor cheio com juros"})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-emerald-100 dark:border-emerald-900/30 shadow-sm",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-semibold uppercase",children:"Valor para Quitao (Alvo)"}),d.jsx("h3",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:M(z)}),d.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Soma das metas definidas"})]}),d.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-600 text-white p-6 rounded-xl shadow-lg",children:[d.jsx("p",{className:"text-indigo-100 text-xs font-semibold uppercase",children:"Economia Potencial"}),d.jsx("h3",{className:"text-2xl font-bold",children:M(F)}),d.jsx("p",{className:"text-indigo-100 text-xs mt-1",children:"Baseado nas suas metas"})]})]}),a&&d.jsxs("form",{onSubmit:I,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-rose-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[d.jsx("div",{className:"col-span-1 md:col-span-2",children:d.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Registrar Nova Pendncia"})}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Instituio / Credor"}),d.jsx("input",{required:!0,type:"text",placeholder:"Ex: Banco X, Loja Y",value:E.creditor,onChange:j=>P({...E,creditor:j.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-rose-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Valor Original (R$)"}),d.jsx("input",{required:!0,type:"number",value:E.originalAmount,onChange:j=>P({...E,originalAmount:j.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Valor Atual c/ Juros (R$)"}),d.jsx("input",{required:!0,type:"number",value:E.currentAmount,onChange:j=>P({...E,currentAmount:j.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Data Vencimento Original"}),d.jsx("input",{required:!0,type:"date",value:E.dueDate,onChange:j=>P({...E,dueDate:j.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none"}),d.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"Importante para calcular a prescrio."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Meta de Acordo (Opcional)"}),d.jsx("input",{type:"number",placeholder:"Deixe em branco se no houver meta",value:E.targetAmount,onChange:j=>P({...E,targetAmount:j.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-emerald-500"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Plataforma de Negociao"}),d.jsx("select",{value:E.platform,onChange:j=>P({...E,platform:j.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none mb-2",children:_Ie.map(j=>d.jsx("option",{value:j,children:j},j))}),E.platform==="Outros"&&d.jsx("div",{className:"animate-fade-in",children:d.jsx("input",{type:"text",placeholder:"Digite o nome da plataforma ou pessoa...",value:E.customPlatform,onChange:j=>P({...E,customPlatform:j.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-rose-500",autoFocus:!0})})]}),d.jsxs("div",{className:"md:col-span-2 flex justify-end gap-2 mt-2",children:[d.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 font-medium",children:"Salvar Dvida"})]})]}),d.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl gap-1 border border-slate-200 dark:border-slate-700",children:[d.jsxs("button",{onClick:()=>c("all"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2
               ${u==="all"?"bg-white dark:bg-slate-700 text-rose-600 dark:text-rose-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200/50 dark:hover:bg-slate-700/50"}`,children:[d.jsx(Fx,{className:"w-4 h-4"}),"Todas"]}),d.jsxs("button",{onClick:()=>c("active"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2
               ${u==="active"?"bg-white dark:bg-slate-700 text-amber-600 dark:text-amber-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200/50 dark:hover:bg-slate-700/50"}`,children:[d.jsx(sD,{className:"w-4 h-4"}),"Ativas"]}),d.jsxs("button",{onClick:()=>c("prescribed"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2
               ${u==="prescribed"?"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200/50 dark:hover:bg-slate-700/50"}`,children:[d.jsx(EB,{className:"w-4 h-4"}),"Prescritas"]})]}),d.jsx("div",{className:"flex flex-col gap-4",children:t.length===0?d.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[d.jsx(Ka,{className:"w-12 h-12 text-emerald-500 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-800 dark:text-white font-medium",children:"Nome Limpo!"}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Nenhuma dvida registrada."})]}):C.length===0?d.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[d.jsx(Fx,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Nenhuma dvida encontrada neste filtro."})]}):C.map(j=>{const V=S(j.dueDate),L=j.status==="paid",G=j.status==="agreement",q=j.targetAmount&&j.targetAmount>0,J=j.agreedAmount&&j.agreedAmount>0,H=J?j.agreedAmount:j.targetAmount,W=q||J?(j.currentAmount-H)/j.currentAmount*100:0;return d.jsxs("div",{className:`p-6 rounded-xl border transition-all relative overflow-hidden group ${L?"bg-slate-50 border-slate-200 opacity-75 grayscale-[0.8] dark:bg-slate-900 dark:border-slate-700":G?"bg-gradient-to-r from-emerald-50 to-white border-emerald-300 dark:from-emerald-900/10 dark:to-slate-800 dark:border-emerald-800 shadow-md ring-1 ring-emerald-500/20":V?"bg-slate-50 border-slate-200 dark:bg-slate-800 dark:border-slate-700":"bg-white border-rose-100 dark:bg-slate-800 dark:border-slate-700 shadow-sm hover:shadow-md hover:border-rose-300"}`,children:[L&&d.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10 pointer-events-none opacity-80 rotate-[-15deg]",children:d.jsxs("div",{className:"border-4 border-slate-400 text-slate-400 text-6xl font-black px-4 py-1 rounded-lg uppercase tracking-widest flex items-center gap-2",children:[d.jsx(Lx,{className:"w-12 h-12"})," RESOLVIDO"]})}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-start gap-4 relative z-0",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[G?d.jsxs("span",{className:"bg-emerald-100 text-emerald-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[d.jsx(Ch,{className:"w-3 h-3"})," ACORDO FECHADO"]}):j.status==="negotiating"?d.jsxs("span",{className:"bg-amber-100 text-amber-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[d.jsx(Ch,{className:"w-3 h-3"})," EM NEGOCIAO"]}):V?d.jsxs("span",{className:"bg-slate-200 text-slate-600 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[d.jsx(PA,{className:"w-3 h-3"})," PRESCRITA"]}):L?d.jsxs("span",{className:"bg-emerald-100 text-emerald-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[d.jsx(Ka,{className:"w-3 h-3"})," QUITADA"]}):d.jsxs("span",{className:"bg-rose-100 text-rose-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[d.jsx(Xp,{className:"w-3 h-3"})," ATIVA"]}),j.platform&&d.jsxs("span",{className:"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1 border border-indigo-100 dark:border-indigo-800",children:[d.jsx($B,{className:"w-3 h-3"})," ",j.platform]}),d.jsxs("span",{className:"text-xs text-slate-400 flex items-center gap-1 ml-auto md:ml-0",children:[d.jsx(gd,{className:"w-3 h-3"}),new Date(j.dueDate).toLocaleDateString("pt-BR")]})]}),d.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:j.creditor}),d.jsxs("div",{className:"mt-3 flex flex-wrap gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-slate-500",children:"Valor Original"}),d.jsx("p",{className:"font-medium text-slate-700 dark:text-slate-300",children:M(j.originalAmount)})]}),d.jsx("div",{className:"flex items-center text-slate-400",children:d.jsx(Qw,{className:"w-4 h-4"})}),d.jsxs("div",{className:"group/value cursor-pointer",onClick:()=>!L&&!G&&N(j),title:"Clique para atualizar juros",children:[d.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1",children:["Valor Atual",!L&&!G&&d.jsx(Ui,{className:"w-3 h-3 text-rose-500 opacity-50 group-hover/value:opacity-100"})]}),d.jsx("p",{className:`font-bold transition-colors ${L?"text-slate-500":V?"text-slate-600 dark:text-slate-400":"text-rose-600 group-hover/value:text-rose-700"}`,children:M(j.currentAmount)})]})]})]}),d.jsx("div",{className:`p-3 rounded-lg border min-w-[200px] flex flex-col justify-center ${G?"bg-white border-emerald-200 shadow-sm":"bg-slate-50 dark:bg-slate-700/50 border-slate-100 dark:border-slate-700"}`,children:G&&J?d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-xs text-emerald-500 font-bold mb-1 flex items-center gap-1",children:[d.jsx(Ka,{className:"w-3 h-3"})," Valor Acordado"]}),d.jsx("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:M(j.agreedAmount)}),d.jsxs("p",{className:"text-[10px] text-emerald-600/70 mt-1",children:["Economia de ",W.toFixed(0),"%"]})]}):q?d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium mb-1 flex items-center gap-1",children:[d.jsx(Js,{className:"w-3 h-3 text-slate-400"})," Meta de Acordo"]}),d.jsx("p",{className:"text-xl font-bold text-emerald-600 dark:text-emerald-400",children:M(j.targetAmount)}),d.jsxs("p",{className:"text-[10px] text-emerald-600/70 mt-1",children:["Desconto Alvo: ",W.toFixed(0),"%"]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-xs text-slate-400 font-medium mb-1 flex items-center gap-1",children:[d.jsx(UB,{className:"w-3 h-3"})," Meta"]}),d.jsx("p",{className:"text-sm font-semibold text-slate-400 dark:text-slate-500 italic",children:"Sem meta definida"})]})}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("select",{value:j.status,onChange:ie=>T(j,ie.target.value),className:`text-xs border rounded-lg p-1.5 outline-none font-medium cursor-pointer ${G?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-200"}`,children:[d.jsx("option",{value:"open",children:"Em Aberto"}),d.jsx("option",{value:"negotiating",children:"Em Negociao"}),d.jsx("option",{value:"agreement",children:"Acordo Fechado"}),d.jsx("option",{value:"paid",children:"Quitado"})]}),d.jsx("button",{onClick:()=>r(j.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors self-end",title:"Excluir Registro",children:d.jsx(du,{className:"w-4 h-4"})})]})]}),d.jsx("div",{className:"mt-4 pt-3 border-t border-slate-100 dark:border-slate-700/50 text-xs flex items-start gap-2",children:L?d.jsxs("p",{className:"text-emerald-600 dark:text-emerald-400 flex items-center gap-1 font-medium",children:[d.jsx(Ka,{className:"w-4 h-4"})," Dvida liquidada com sucesso. Parabns pela organizao!"]}):G?d.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-2 rounded w-full",children:[d.jsxs("p",{className:"text-emerald-700 dark:text-emerald-300 flex items-center gap-1 font-semibold",children:[d.jsx(Ko,{className:"w-4 h-4"})," Acordo Firmado: ",M(j.agreedAmount||0)]}),d.jsxs("p",{className:"text-emerald-600/80 dark:text-emerald-400/80 mt-1 pl-5",children:["No esquea de pagar na data combinada. ",j.agreedAmount&&j.agreedAmount>0?"As parcelas j foram lanadas no seu fluxo.":""]})]}):j.status==="negotiating"?d.jsxs("p",{className:"text-amber-600 dark:text-amber-400 flex items-center gap-1",children:[d.jsx(Ch,{className:"w-4 h-4"})," Voc iniciou contatos. Mantenha a presso para conseguir o melhor desconto."]}):V?d.jsxs("p",{className:"text-slate-500 flex items-center gap-1",children:[d.jsx(PA,{className:"w-4 h-4"})," Dvida antiga (+5 anos). No afeta score, negocie apenas se tiver sobra de caixa."]}):d.jsxs("p",{className:"text-rose-600 dark:text-rose-400 flex items-center gap-1 font-medium",children:[d.jsx(vd,{className:"w-4 h-4"})," Prioridade Alta! Esta dvida est ativa e impactando seu crdito. Tente negociar."]})})]},j.id)})})]})},ep=["Hortifruti","Carnes","Laticnios","Mercearia","Padaria","Bebidas","Limpeza","Higiene","Outros"],EIe=({items:t,onAdd:e,onUpdate:n,onDelete:r,onClearList:i,onFinishShopping:o,shoppingBudget:s=0,onUpdateBudget:a,hasApiKey:l=!1,privacyMode:u,quickActionSignal:c})=>{const[f,h]=B.useState(""),[y,v]=B.useState("Outros"),[b,x]=B.useState(!1),[w,_]=B.useState(!1),[E,P]=B.useState(""),[S,C]=B.useState(!1),[I,T]=B.useState(!1),[k,N]=B.useState(s.toString()),[O,M]=B.useState("Alimentos"),[D,z]=B.useState("debit_card"),F=B.useMemo(()=>t.reduce((K,ae)=>K+ae.actualPrice*ae.quantity,0),[t]),j=B.useMemo(()=>{const K={};return ep.forEach(ae=>K[ae]=[]),t.forEach(ae=>{const fe=ae.category||"Outros";K[fe]||(K[fe]=[]),K[fe].push(ae)}),K},[t]);B.useEffect(()=>{if(c){const K=document.getElementById("new-item-input");K&&K.focus()}},[c]);const V=K=>{K.preventDefault(),f.trim()&&(e({name:f.trim(),quantity:1,actualPrice:0,isChecked:!1,category:y}),h(""),v("Outros"))},L=async K=>{if(K.preventDefault(),!E.trim())return;C(!0),(await BZ(E)).forEach(fe=>{e({...fe,actualPrice:0,isChecked:!1})}),C(!1),_(!1),P("")},G=(K,ae,fe)=>{const Me=Math.max(1,ae+fe);n(K,{quantity:Me})},q=()=>{if(F===0){alert("O valor total est zerado. Adicione preos aos itens para lanar a despesa.");return}o(F,D,O),x(!1)},J=()=>{const K=parseFloat(k);isNaN(K)||a(K),T(!1)},H=K=>u?"":`R$ ${K.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,W=s>0?F/s*100:0;let ie="bg-emerald-500";return W>100?ie="bg-rose-500":W>85&&(ie="bg-amber-500"),d.jsxs("div",{className:"space-y-6 animate-fade-in relative pb-32 md:pb-0",children:[b&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-sm p-6 border border-emerald-500/30 animate-scale-in",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Zp,{className:"w-6 h-6 text-emerald-500"})," Finalizar Compra"]}),d.jsx("button",{onClick:()=>x(!1),className:"text-slate-400 hover:text-slate-600",children:d.jsx(zr,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-4 rounded-xl mb-6 text-center border border-emerald-100 dark:border-emerald-800",children:[d.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400 uppercase font-bold mb-1",children:"Valor Final a Lanar"}),d.jsx("p",{className:"text-3xl font-bold text-emerald-700 dark:text-emerald-300",children:H(F)})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Categoria da Despesa"}),d.jsxs("select",{value:O,onChange:K=>M(K.target.value),className:"w-full p-2.5 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none",children:[d.jsx("option",{value:"Alimentos",children:"Alimentos"}),d.jsx("option",{value:"Casa",children:"Casa"}),d.jsx("option",{value:"Lazer",children:"Lazer"}),d.jsx("option",{value:"Pets",children:"Pets"}),d.jsx("option",{value:"Outros",children:"Outros"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Forma de Pagamento"}),d.jsxs("select",{value:D,onChange:K=>z(K.target.value),className:"w-full p-2.5 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none",children:[d.jsx("option",{value:"credit_card",children:"Carto de Crdito"}),d.jsx("option",{value:"debit_card",children:"Carto de Dbito"}),d.jsx("option",{value:"cash",children:"Dinheiro"}),d.jsx("option",{value:"pix",children:"PIX"}),d.jsx("option",{value:"ticket",children:"Vale Alimentao/Refeio"})]})]}),d.jsxs("button",{onClick:q,className:"w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-bold shadow-lg shadow-emerald-500/30 flex items-center justify-center gap-2 mt-4",children:[d.jsx(Vx,{className:"w-5 h-5"})," Confirmar e Lanar"]})]})]})}),w&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 border border-purple-200 dark:border-purple-800 animate-scale-in",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Fs,{className:"w-5 h-5 text-purple-600"})," Assistente de Compras"]}),d.jsx("button",{onClick:()=>_(!1),className:"text-slate-400 hover:text-slate-600",children:d.jsx(zr,{className:"w-5 h-5"})})]}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:'O que vamos comprar? Digite uma receita (ex: "Strogonoff para 4") ou um evento (ex: "Churrasco fim de semana") e eu gero a lista.'}),d.jsxs("form",{onSubmit:L,children:[d.jsx("input",{autoFocus:!0,type:"text",value:E,onChange:K=>P(K.target.value),placeholder:"Ex: Ingredientes para bolo de cenoura...",className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-purple-500 mb-4"}),d.jsxs("button",{type:"submit",disabled:S||!E,className:"w-full py-2.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-bold shadow-md disabled:opacity-50 flex items-center justify-center gap-2",children:[S?d.jsx("span",{className:"animate-spin",children:""}):d.jsx(CB,{className:"w-5 h-5"}),"Gerar Lista"]})]})]})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(tm,{className:"w-7 h-7 text-indigo-600"}),"Lista de Compras"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Organize sua ida ao mercado."})]}),d.jsxs("button",{onClick:()=>_(!0),disabled:!l,className:`hidden md:flex items-center gap-2 px-4 py-2 rounded-lg font-bold text-xs uppercase tracking-wide transition-all shadow-sm ${l?"bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900/30 dark:text-purple-300":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[d.jsx(Fs,{className:"w-4 h-4"})," Gerar com IA"]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex justify-between items-end mb-2",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] font-bold uppercase text-slate-400 tracking-wider mb-1",children:"Total Calculado"}),d.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:H(F)})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"text-[10px] font-bold uppercase text-slate-400 tracking-wider mb-1 flex items-center justify-end gap-1 cursor-pointer hover:text-indigo-500",onClick:()=>{T(!0),N(s.toString())},children:["Teto de Gastos (Viagem) ",d.jsx(vD,{className:"w-3 h-3"})]}),I?d.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[d.jsx("span",{className:"text-sm font-bold text-slate-500",children:"R$"}),d.jsx("input",{autoFocus:!0,type:"number",className:"w-24 p-1 text-right font-bold border rounded dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:k,onChange:K=>N(K.target.value),onKeyDown:K=>K.key==="Enter"&&J(),onBlur:J})]}):d.jsx("p",{className:"text-xl font-bold text-slate-600 dark:text-slate-400 cursor-pointer hover:text-indigo-500",onClick:()=>{T(!0),N(s.toString())},children:s>0?H(s):"Definir Teto"})]})]}),s>0&&d.jsxs("div",{className:"relative w-full h-4 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:[d.jsx("div",{className:`h-full transition-all duration-500 ${ie}`,style:{width:`${Math.min(100,W)}%`}}),W>100&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("span",{className:"text-[9px] font-bold text-white drop-shadow-md animate-pulse flex items-center gap-1",children:[d.jsx(Xp,{className:"w-3 h-3"})," ACIMA DO ORAMENTO"]})})]})]})]}),d.jsxs("form",{onSubmit:V,className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-1 flex gap-2",children:[d.jsx("input",{id:"new-item-input",type:"text",value:f,onChange:K=>h(K.target.value),placeholder:"Adicionar item...",className:"flex-1 p-3 pl-4 rounded-xl border border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm",autoComplete:"off"}),d.jsx("select",{value:y,onChange:K=>v(K.target.value),className:"hidden md:block w-32 p-3 rounded-xl border border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm text-sm",children:ep.map(K=>d.jsx("option",{value:K,children:K},K))})]}),d.jsx("button",{type:"submit",disabled:!f.trim(),className:"px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl shadow-md disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d.jsx(Fi,{className:"w-6 h-6"})})]}),d.jsx("div",{className:"md:hidden overflow-x-auto pb-2 -mt-4",children:d.jsx("div",{className:"flex gap-2 px-1",children:ep.map(K=>d.jsx("button",{type:"button",onClick:()=>v(K),className:`px-3 py-1.5 rounded-full text-xs font-bold border whitespace-nowrap ${y===K?"bg-indigo-600 text-white border-indigo-600":"bg-white dark:bg-slate-800 text-slate-500 border-slate-200 dark:border-slate-700"}`,children:K},K))})}),d.jsx("div",{className:"space-y-6",children:t.length===0?d.jsxs("div",{className:"p-12 text-center text-slate-400 flex flex-col items-center bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-200 dark:border-slate-700",children:[d.jsx(tm,{className:"w-16 h-16 mb-4 opacity-20"}),d.jsx("p",{children:"Sua lista est vazia."}),l&&d.jsx("p",{className:"text-sm mt-2 text-purple-500 cursor-pointer hover:underline",onClick:()=>_(!0),children:"Experimente usar a IA para criar uma lista!"})]}):ep.map(K=>{const ae=j[K];return!ae||ae.length===0?null:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[d.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 px-4 py-2 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[d.jsxs("h3",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[d.jsx(zB,{className:"w-3 h-3"})," ",K]}),d.jsx("span",{className:"text-[10px] font-bold bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-1.5 py-0.5 rounded-full",children:ae.length})]}),d.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:ae.map(fe=>d.jsxs("div",{className:`p-4 flex flex-col sm:flex-row sm:items-center gap-4 transition-colors ${fe.isChecked?"bg-slate-50/50 dark:bg-slate-700/30":""}`,children:[d.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[d.jsx("button",{onClick:()=>n(fe.id,{isChecked:!fe.isChecked}),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all flex-shrink-0 ${fe.isChecked?"bg-emerald-500 border-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-emerald-400"}`,children:d.jsx(Vx,{className:"w-4 h-4"})}),d.jsx("span",{className:`font-medium text-lg truncate ${fe.isChecked?"text-slate-400 line-through":"text-slate-700 dark:text-slate-200"}`,children:fe.name})]}),d.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-4 w-full sm:w-auto",children:[d.jsxs("div",{className:"flex items-center bg-slate-100 dark:bg-slate-700 rounded-lg p-1",children:[d.jsx("button",{onClick:()=>G(fe.id,fe.quantity,-1),className:"p-1.5 text-slate-500 hover:text-indigo-600",children:d.jsx(XB,{className:"w-4 h-4"})}),d.jsx("span",{className:"w-8 text-center font-bold text-slate-700 dark:text-white text-sm",children:fe.quantity}),d.jsx("button",{onClick:()=>G(fe.id,fe.quantity,1),className:"p-1.5 text-slate-500 hover:text-indigo-600",children:d.jsx(Fi,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-xs font-bold",children:"R$"}),d.jsx("input",{type:"number",step:"0.01",placeholder:"0,00",value:fe.actualPrice===0?"":fe.actualPrice,onChange:Me=>n(fe.id,{actualPrice:parseFloat(Me.target.value)||0}),className:`w-24 pl-8 pr-2 py-2 rounded-lg border outline-none font-bold text-right transition-colors ${fe.actualPrice>0?"border-emerald-300 dark:border-emerald-700 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400":"border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:border-indigo-500"}`})]}),d.jsx("button",{onClick:()=>r(fe.id),className:"p-2 text-slate-300 hover:text-rose-500 transition-colors",children:d.jsx(du,{className:"w-5 h-5"})})]})]},fe.id))})]},K)})}),d.jsxs("div",{className:"fixed bottom-20 left-1/2 -translate-x-1/2 md:hidden z-30 flex gap-2 w-[90%] max-w-sm",children:[d.jsx("button",{onClick:()=>_(!0),disabled:!l,className:"bg-white dark:bg-slate-800 text-purple-600 p-4 rounded-full shadow-lg border border-purple-100 dark:border-purple-900 disabled:opacity-50",children:d.jsx(Fs,{className:"w-6 h-6"})}),d.jsxs("button",{onClick:()=>x(!0),disabled:t.length===0,className:"flex-1 bg-slate-900 text-white rounded-full shadow-xl font-bold flex items-center justify-between px-6 hover:scale-105 transition-transform disabled:opacity-70 disabled:scale-100",children:[d.jsxs("div",{className:"flex flex-col items-start leading-tight",children:[d.jsx("span",{className:"text-[10px] text-emerald-400 uppercase font-bold",children:"Total"}),d.jsx("span",{className:"text-lg",children:H(F)})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm bg-white/10 px-3 py-1.5 rounded-lg",children:["Finalizar ",d.jsx(Qw,{className:"w-4 h-4"})]})]})]})]})},TIe={age:30,retirementAge:60,riskProfile:"moderate"},H2={conservative:.03,moderate:.05,aggressive:.07},SIe=({data:t,onSaveProfile:e,privacyMode:n,hasApiKey:r})=>{const[i,o]=B.useState(t.wealthProfile||TIe),[s,a]=B.useState(!t.wealthProfile),[l,u]=B.useState(null),[c,f]=B.useState(!1),h=B.useMemo(()=>t.investments.reduce((S,C)=>S+C.amount,0),[t.investments]),y=B.useMemo(()=>t.debts.filter(S=>S.status!=="paid").reduce((S,C)=>S+C.currentAmount,0),[t.debts]),v=h-y,b=B.useMemo(()=>{const S=t.transactions.filter(T=>T.type==="income").reduce((T,k)=>T+k.amount,0),C=t.transactions.filter(T=>T.type==="expense").reduce((T,k)=>T+k.amount,0);if(S===0&&C===0)return{income:5e3,expense:4e3,savings:1e3};const I=S-C;return{income:S,expense:C>0?C:S*.8,savings:I}},[t.transactions]),x=i.monthlyContributionOverride!==void 0?i.monthlyContributionOverride:Math.max(0,b.savings),w=B.useMemo(()=>{const S=[],C=new Date().getFullYear(),I=i.retirementAge-i.age+10,T=H2[i.riskProfile],k=x*12,N=b.expense*12;let O=v,M=null;for(let D=0;D<=I;D++){const z=C+D,F=i.age+D,j=O*.04;!M&&j>=N&&(M=z),S.push({year:z,age:F,patrimonio:Math.round(O),rendaPassiva:Math.round(j/12),custoVida:Math.round(b.expense)}),F<i.retirementAge?O=O*(1+T)+k:O=O*(1+T)}return{chartData:S,freedomYear:M}},[i,v,x,b.expense]),_=()=>{e(i),a(!1)},E=async()=>{f(!0);const S=await qZ(t.investments,i.riskProfile,i.age);u(S),f(!1)},P=S=>n?"":`R$ ${S.toLocaleString("pt-BR",{maximumFractionDigits:0})}`;return d.jsxs("div",{className:"space-y-8 animate-fade-in pb-10",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 border-b border-slate-200 dark:border-slate-700 pb-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-lg shadow-lg shadow-yellow-500/20 text-white",children:d.jsx(DB,{className:"w-6 h-6"})}),"NEXO Private"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Planejamento patrimonial e alocao estratgica de ativos."})]}),!s&&d.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-sm font-semibold hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Ajustar Perfil"})]}),s&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border-l-4 border-yellow-500 animate-scale-in",children:[d.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[d.jsx(Ux,{className:"w-5 h-5 text-yellow-500"})," Parmetros da Simulao"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Idade Atual"}),d.jsx("input",{type:"number",value:i.age,onChange:S=>o({...i,age:Number(S.target.value)}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Idade Aposentadoria"}),d.jsx("input",{type:"number",value:i.retirementAge,onChange:S=>o({...i,retirementAge:Number(S.target.value)}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Perfil de Risco"}),d.jsxs("select",{value:i.riskProfile,onChange:S=>o({...i,riskProfile:S.target.value}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600",children:[d.jsx("option",{value:"conservative",children:"Conservador"}),d.jsx("option",{value:"moderate",children:"Moderado"}),d.jsx("option",{value:"aggressive",children:"Arrojado"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Aporte Mensal (Simulado)"}),d.jsx("input",{type:"number",placeholder:`Atual: R$ ${b.savings.toFixed(0)}`,value:i.monthlyContributionOverride||"",onChange:S=>o({...i,monthlyContributionOverride:Number(S.target.value)}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]})]}),d.jsx("div",{className:"mt-6 flex justify-end",children:d.jsx("button",{onClick:_,className:"bg-slate-900 dark:bg-white dark:text-slate-900 text-white px-6 py-2 rounded-lg font-bold hover:opacity-90 transition-opacity",children:"Atualizar Projeo"})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 bg-slate-900 text-white p-6 rounded-xl shadow-2xl relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl pointer-events-none"}),d.jsxs("div",{className:"relative z-10 flex justify-between items-start mb-6",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[d.jsx(Ui,{className:"w-5 h-5 text-emerald-400"}),"Liberdade Financeira"]}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Cruzamento entre Renda Passiva e Custo de Vida."})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-xs text-slate-400 uppercase font-bold",children:"Ano da Liberdade"}),d.jsx("p",{className:"text-3xl font-bold text-yellow-400",children:w.freedomYear||"Em construo..."})]})]}),d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(zo,{width:"100%",height:"100%",children:d.jsxs(aIe,{data:w.chartData,margin:{top:10,right:10,left:0,bottom:0},children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"colorPassive",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),d.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),d.jsx(tu,{strokeDasharray:"3 3",vertical:!1,stroke:"#334155"}),d.jsx(ci,{dataKey:"year",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8"}}),d.jsx(di,{hide:!0,domain:["auto","auto"]}),d.jsx(on,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"8px",color:"#fff"},formatter:S=>[P(S),""]}),d.jsx(Wf,{y:b.expense,stroke:"#f43f5e",strokeDasharray:"3 3",label:{value:"Custo Vida",fill:"#f43f5e",fontSize:10}}),d.jsx(ds,{type:"monotone",dataKey:"rendaPassiva",stroke:"#10b981",fillOpacity:1,fill:"url(#colorPassive)",name:"Renda Passiva"})]})})})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 flex flex-col justify-center",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Patrimnio Lquido Atual"}),d.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:P(v)})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Ativos Investidos"}),d.jsx("span",{className:"font-semibold text-emerald-600",children:P(h)})]}),d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Dvidas Totais"}),d.jsx("span",{className:"font-semibold text-rose-600",children:P(y)})]}),d.jsx("div",{className:"w-full h-px bg-slate-200 dark:bg-slate-700 my-2"}),d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Aporte Mensal"}),d.jsx("span",{className:"font-semibold text-indigo-600",children:P(x)})]}),d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Rentabilidade Real (Proj.)"}),d.jsxs("span",{className:"font-semibold text-slate-800 dark:text-white",children:[(H2[i.riskProfile]*100).toFixed(1),"% a.a."]})]})]}),y>h&&d.jsxs("div",{className:"mt-6 bg-rose-50 dark:bg-rose-900/20 p-3 rounded-lg flex items-start gap-2",children:[d.jsx(s6,{className:"w-5 h-5 text-rose-600 shrink-0"}),d.jsx("p",{className:"text-xs text-rose-800 dark:text-rose-300",children:"Ateno: Seu patrimnio est negativo. A prioridade do planejamento deve ser a quitao de dvidas antes da acumulao."})]})]})]}),d.jsxs("div",{className:"mt-8",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(lD,{className:"w-6 h-6 text-purple-600"}),"Alocao Inteligente (IA)"]}),d.jsxs("button",{onClick:E,disabled:!r||c,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-semibold text-sm shadow-md",children:[c?d.jsx("span",{className:"animate-spin",children:""}):d.jsx(Fs,{className:"w-4 h-4"}),l?"Atualizar Anlise":"Gerar Estratgia Private"]})]}),!r&&d.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-8 rounded-xl text-center border border-dashed border-slate-300 dark:border-slate-600",children:[d.jsx(Ux,{className:"w-10 h-10 text-slate-400 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Configure sua Chave API para desbloquear a inteligncia de alocao de ativos."})]}),r&&l&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700",children:[d.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-3",children:"Diagnstico do Portflio"}),d.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm leading-relaxed mb-6",children:l.analysisText}),d.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-3",children:"Plano de Ao Ttico"}),d.jsx("div",{className:"space-y-3",children:l.actionItems.map((S,C)=>d.jsxs("div",{className:"flex gap-3 p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg border border-slate-100 dark:border-slate-700",children:[d.jsx("div",{className:`
                                      w-10 h-10 rounded-full flex items-center justify-center shrink-0 font-bold text-xs
                                      ${S.type==="buy"?"bg-emerald-100 text-emerald-700":S.type==="sell"?"bg-rose-100 text-rose-700":"bg-blue-100 text-blue-700"}
                                  `,children:S.type==="buy"?"COMPRA":S.type==="sell"?"VENDA":"MANTER"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-slate-800 dark:text-white text-sm",children:S.title}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:S.description})]})]},C))})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 flex flex-col items-center justify-center",children:[d.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-2 self-start",children:"Atual vs. Ideal (Modelo)"}),d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(zo,{width:"100%",height:"100%",children:d.jsxs(sIe,{cx:"50%",cy:"50%",outerRadius:"80%",data:l.suggestedAllocation.map(S=>{const C=l.currentAllocation.find(I=>I.name===S.name);return{subject:S.name,A:C?C.value:0,B:S.value,fullMark:100}}),children:[d.jsx(g5,{stroke:"#94a3b8"}),d.jsx(Lu,{dataKey:"subject",tick:{fill:"#64748b",fontSize:10}}),d.jsx(ju,{angle:30,domain:[0,100],tick:!1}),d.jsx(Wl,{name:"Sua Carteira",dataKey:"A",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.3}),d.jsx(Wl,{name:"Ideal (IA)",dataKey:"B",stroke:"#10b981",fill:"#10b981",fillOpacity:.3}),d.jsx(ii,{}),d.jsx(on,{})]})})}),d.jsx("p",{className:"text-xs text-center text-slate-400 mt-2",children:"Comparativo de % de alocao por classe de ativo."})]})]})]})]})},AIe=({user:t,isGuest:e,mobileMenuOpen:n,setMobileMenuOpen:r,currentView:i,onNavigate:o,onLogout:s,privacyMode:a,setPrivacyMode:l,darkMode:u,setDarkMode:c,isFullscreen:f,toggleFullscreen:h,hasKey:y,onOpenKeyModal:v,onOpenDonateModal:b,onExportBackup:x,onImportBackup:w,onFactoryReset:_,canInstall:E,onInstall:P})=>{var T,k;const S=B.useRef(null),C=N=>{o(N),r(!1)},I=({view:N,icon:O,label:M,customClass:D=""})=>d.jsxs("button",{onClick:()=>C(N),className:`flex w-full items-center gap-3 px-3 py-2.5 rounded-lg transition-all text-sm font-medium ${D} ${i===N?"bg-indigo-600 text-white shadow-md shadow-indigo-900/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[d.jsx(O,{className:`w-5 h-5 ${i!==N&&D?"text-purple-400 group-hover:text-white":""}`}),d.jsx("div",{className:"flex-1 flex justify-between items-center",children:d.jsx("span",{children:M})})]});return d.jsxs("nav",{className:`
         fixed md:sticky top-0 left-0 h-screen z-50 w-72 md:w-64 bg-slate-900 border-r border-slate-800 
         transform transition-transform duration-300 ease-in-out shadow-2xl flex flex-col
         ${n?"translate-x-0":"-translate-x-full md:translate-x-0"}
       `,children:[d.jsxs("div",{className:"flex items-center justify-between p-4 md:p-4 border-b border-slate-800 shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-indigo-600 p-2 rounded-xl shadow-lg shadow-indigo-900/50",children:d.jsx(tE,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-bold text-white tracking-tight leading-none",children:"NEXO"}),d.jsx("span",{className:"text-[10px] text-slate-400 font-medium uppercase tracking-wider",children:"Financial Hub"})]})]}),d.jsx("button",{onClick:()=>r(!1),className:"md:hidden text-slate-400 hover:text-white",children:d.jsx(zr,{className:"w-6 h-6"})})]}),d.jsx("div",{className:"p-4 shrink-0",children:d.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 bg-slate-800/50 rounded-lg border border-slate-700/50 backdrop-blur-sm",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center border border-slate-600 overflow-hidden text-xs text-white",children:t!=null&&t.photoURL?d.jsx("img",{src:t.photoURL,alt:"User"}):((T=t==null?void 0:t.email)==null?void 0:T.substring(0,2).toUpperCase())||"CV"}),d.jsxs("div",{className:"overflow-hidden flex-1 min-w-0",children:[d.jsx("p",{className:"text-xs font-bold text-white truncate",title:(t==null?void 0:t.email)||"Convidado",children:((k=t==null?void 0:t.email)==null?void 0:k.split("@")[0])||"Convidado"}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${t?"bg-emerald-500":"bg-amber-500"}`}),d.jsx("p",{className:"text-[10px] text-slate-400",children:t?"Online (Cloud)":"Offline (Local)"})]})]}),d.jsx("button",{onClick:s,className:"text-slate-400 hover:text-rose-500",title:"Sair",children:d.jsx(qB,{className:"w-4 h-4"})})]})}),d.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-2 flex flex-col no-scrollbar",children:[d.jsxs("div",{className:"mb-6 space-y-1",children:[d.jsx("p",{className:"px-2 text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2",children:"Viso Geral"}),d.jsx(I,{view:$e.DASHBOARD,icon:GB,label:"Dashboard"}),d.jsx(I,{view:$e.TRANSACTIONS,icon:t6,label:"Transaes"}),d.jsx(I,{view:$e.CALENDAR,icon:Ko,label:"Agenda"})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"px-2 text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Gesto Financeira"}),d.jsx(I,{view:$e.BUDGETS,icon:Js,label:"Metas"}),d.jsx(I,{view:$e.SUBSCRIPTIONS,icon:Vo,label:"Assinaturas"}),d.jsx(I,{view:$e.INVESTMENTS,icon:mD,label:"Investir"}),d.jsx(I,{view:$e.DEBTS,icon:vd,label:"Limpa Nome"}),d.jsx(I,{view:$e.SHOPPING_LIST,icon:tm,label:"Lista de Compras"}),d.jsx(I,{view:$e.WEALTH_PLANNER,icon:pD,label:"Planejamento",customClass:"text-amber-400"})]}),d.jsx("div",{className:"mt-6 pt-4 border-t border-slate-800",children:d.jsx("button",{onClick:()=>y?C($e.AI_ASSISTANT):v(),className:`w-full relative group overflow-hidden rounded-xl p-[1px] transition-all duration-300 ${i===$e.AI_ASSISTANT?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 shadow-lg shadow-purple-500/20":"bg-slate-700/50 hover:bg-gradient-to-r hover:from-indigo-500 hover:via-purple-500 hover:to-pink-500"}`,children:d.jsxs("div",{className:"relative flex items-center gap-3 px-3 py-3 rounded-[11px] bg-slate-900 transition-colors h-full",children:[d.jsx("div",{className:`p-1.5 rounded-lg ${i===$e.AI_ASSISTANT?"bg-indigo-500/20":"bg-slate-800 group-hover:bg-slate-800"}`,children:d.jsx(KB,{className:`w-5 h-5 ${i===$e.AI_ASSISTANT?"text-indigo-400":"text-slate-400 group-hover:text-white"}`})}),d.jsxs("div",{className:"flex-1 text-left",children:[d.jsx("p",{className:`text-sm font-bold ${i===$e.AI_ASSISTANT?"text-white":"text-slate-300 group-hover:text-white"}`,children:"NEXO AI"}),d.jsx("p",{className:"text-[10px] text-slate-500 group-hover:text-slate-400",children:"Assistente Virtual"})]}),!y&&d.jsx(yd,{className:"w-3 h-3 text-rose-500 animate-pulse"})]})})})]}),d.jsxs("div",{className:"mt-auto p-4 border-t border-slate-800 bg-slate-900 shrink-0",children:[E&&d.jsxs("button",{onClick:P,className:"w-full mb-4 flex items-center justify-center gap-2 p-2 rounded-lg bg-emerald-600 text-white text-xs font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-500/20",children:[d.jsx(aD,{className:"w-3 h-3"})," Instalar App (PWA)"]}),d.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Configuraes & Dados"}),d.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[d.jsx("button",{onClick:h,className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-white transition-all border border-slate-800 hover:border-slate-700",title:f?"Sair da Tela Cheia":"Tela Cheia",children:f?d.jsx(JB,{className:"w-5 h-5"}):d.jsx(HB,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>l(!a),className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-white transition-all border border-slate-800 hover:border-slate-700",title:a?"Mostrar Valores":"Ocultar Valores",children:a?d.jsx(OB,{className:"w-5 h-5"}):d.jsx(MB,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>c(!u),className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-white transition-all border border-slate-800 hover:border-slate-700",title:u?"Modo Claro":"Modo Escuro",children:u?d.jsx(d6,{className:"w-5 h-5"}):d.jsx(QB,{className:"w-5 h-5"})}),d.jsx("button",{onClick:v,className:`flex items-center justify-center p-2 rounded-lg transition-all border border-slate-800 hover:border-slate-700 ${y?"text-emerald-400 hover:bg-slate-800":"text-rose-400 hover:bg-slate-800 animate-pulse"}`,title:"Configurar Chave API",children:d.jsx(yd,{className:"w-5 h-5"})}),d.jsx("button",{onClick:x,className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-blue-400 transition-all border border-slate-800 hover:border-slate-700",title:"Baixar Backup (Exportar)",children:d.jsx(VB,{className:"w-5 h-5"})}),d.jsxs("label",{className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-blue-400 transition-all border border-slate-800 hover:border-slate-700 cursor-pointer",title:"Restaurar Backup (Importar)",children:[d.jsx(FB,{className:"w-5 h-5"}),d.jsx("input",{type:"file",ref:S,className:"hidden",accept:".json",onChange:w})]}),d.jsx("button",{onClick:_,className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-rose-500 transition-all border border-slate-800 hover:border-slate-700",title:"Resetar App (Fbrica)",children:d.jsx(du,{className:"w-5 h-5"})}),d.jsx("button",{onClick:b,className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-pink-500 transition-all border border-slate-800 hover:border-slate-700",title:"Apoiar Projeto",children:d.jsx(hD,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"pt-4 mt-3 border-t border-slate-800 text-center",children:[d.jsx("p",{className:"text-[10px] text-slate-500 font-mono",children:"v2.2.0 Stable"}),d.jsxs("a",{href:"https://www.linkedin.com/in/alemagnobr/",target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-slate-400 hover:text-indigo-400 transition-colors flex items-center justify-center gap-1.5 mt-1",children:[d.jsx(gD,{className:"w-3 h-3"})," Alexandre Magno S. Linhares"]})]})]})]})},IIe=({showWelcome:t,isDonateModalOpen:e,isKeyModalOpen:n,userKeyInput:r,hasKey:i,PIX_KEY:o,PIX_NAME:s,setShowWelcome:a,setIsDonateModalOpen:l,setIsKeyModalOpen:u,setUserKeyInput:c,handleSaveKey:f,handleRemoveKey:h,handleFinishWelcome:y,copyPix:v})=>d.jsxs(d.Fragment,{children:[t&&d.jsx("div",{className:"fixed inset-0 bg-slate-900/90 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in overflow-y-auto",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-4xl border border-slate-200 dark:border-slate-700 animate-scale-in my-8",children:[d.jsx("div",{className:"bg-slate-900 p-8 text-white relative overflow-hidden rounded-t-2xl",children:d.jsxs("div",{className:"relative z-10",children:[d.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Bem-vindo ao NEXO"}),d.jsx("p",{className:"text-slate-300 text-lg",children:"Seu novo comando central financeiro."})]})}),d.jsxs("div",{className:"p-8",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-3 flex items-center gap-2",children:[d.jsx(Ux,{className:"w-5 h-5 text-indigo-500"})," Privacidade Total"]}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed",children:"Seus dados financeiros no so vendidos. No modo Offline, tudo fica no seu navegador."})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-3 flex items-center gap-2",children:[d.jsx(jx,{className:"w-5 h-5 text-purple-500"})," Inteligncia Artificial"]}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed",children:"Conecte sua chave do Gemini para ter um consultor financeiro pessoal."})]})]}),d.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-100 dark:border-indigo-800 p-4 rounded-xl mb-8",children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"J possui uma chave de API do Gemini? (Opcional)"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"password",value:r,onChange:b=>c(b.target.value),placeholder:"Cole sua chave AIza...",className:"flex-1 p-2 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 outline-none"}),d.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:["Obter Chave ",d.jsx(dD,{className:"w-3 h-3"})]})]})]}),d.jsxs("button",{onClick:y,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold text-lg shadow-xl shadow-indigo-500/30 transition-all flex items-center justify-center gap-2",children:["Comear Agora ",d.jsx(Kg,{className:"w-5 h-5"})]})]})]})}),e&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-sm p-6 border border-slate-200 dark:border-slate-700 animate-scale-in text-center relative overflow-hidden",children:[d.jsx("button",{onClick:()=>l(!1),className:"absolute top-2 right-2 p-2 text-slate-400 hover:text-slate-600",children:d.jsx(zr,{className:"w-5 h-5"})}),d.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(LB,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),d.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:"Apoie o Projeto"}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-6",children:"O NEXO  desenvolvido de forma independente. Considere apoiar! "}),d.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-700 mb-6 relative group cursor-pointer",onClick:v,children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"Chave Pix (CPF)"}),d.jsx("p",{className:"text-sm font-mono font-bold text-slate-700 dark:text-slate-200 break-all select-all",children:o}),d.jsx("div",{className:"absolute inset-0 bg-black/5 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-xl",children:d.jsxs("span",{className:"bg-white dark:bg-slate-800 text-xs font-bold px-2 py-1 rounded shadow flex items-center gap-1",children:[d.jsx(uD,{className:"w-3 h-3"})," Copiar"]})})]}),d.jsxs("p",{className:"text-xs text-slate-400 mb-6",children:["Nome: ",s]})]})}),n&&d.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 border border-slate-200 dark:border-slate-700 animate-scale-in flex flex-col max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[d.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(yd,{className:"w-6 h-6 text-indigo-500"})," Configurar Chave API"]}),d.jsx("button",{onClick:()=>u(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:d.jsx(zr,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-3 rounded-lg text-sm text-indigo-800 dark:text-indigo-300 border border-indigo-100 dark:border-indigo-800",children:[d.jsxs("p",{className:"font-bold flex items-center gap-1 mb-1",children:[d.jsx(Fs,{className:"w-3 h-3"})," Por que preciso disso?"]}),d.jsx("p",{children:"O Google Gemini  o crebro por trs da IA do NEXO. Para us-lo gratuitamente, voc precisa gerar sua prpria chave de acesso."})]}),d.jsxs("ol",{className:"list-decimal list-inside text-sm text-slate-600 dark:text-slate-400 space-y-2 ml-1",children:[d.jsxs("li",{children:["Acesse o ",d.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-indigo-600 font-bold hover:underline",children:"Google AI Studio"}),"."]}),d.jsx("li",{children:"Faa login com sua conta Google."}),d.jsxs("li",{children:["Clique em ",d.jsx("strong",{children:"Create API Key"}),"."]}),d.jsx("li",{children:'Copie o cdigo gerado (comea com "AIza...") e cole abaixo.'})]}),d.jsx("input",{type:"password",value:r,onChange:b=>c(b.target.value),placeholder:"Cole sua chave aqui (AIza...)",className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:f,disabled:!r,className:"flex-1 px-4 py-2 bg-indigo-600 text-white hover:bg-indigo-700 rounded-lg text-sm font-bold shadow-lg shadow-indigo-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Salvar e Conectar"}),d.jsx("button",{onClick:h,disabled:!i,className:"px-4 py-2 bg-rose-100 text-rose-600 hover:bg-rose-200 dark:bg-rose-900/30 dark:text-rose-400 dark:hover:bg-rose-900/50 rounded-lg text-sm font-bold disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Remover"})]})]})]})})]}),kIe={transactions:[],investments:[],budgets:[],debts:[],shoppingList:[],shoppingBudget:0,unlockedBadges:[],walletBalance:0},CIe=(t,e)=>{const[n,r]=B.useState(kIe);return B.useEffect(()=>{if(t&&!e){const T=fH(t.uid,k=>{r(N=>({...N,...k}))});return()=>T()}},[t,e]),B.useEffect(()=>{t&&!e&&n.transactions.length>0&&n.walletBalance===void 0&&(console.log("Migrando para sistema de Saldo Otimizado..."),pH(t.uid))},[t,e,n.transactions.length,n.walletBalance]),B.useEffect(()=>{(t||e)&&(async()=>{const k=new Date,N=k.getMonth(),O=k.getFullYear(),M=new Map;n.transactions.forEach(z=>{if(z.isRecurring){const F=M.get(z.description);(!F||new Date(z.date)>new Date(F.date))&&M.set(z.description,z)}});const D=[];if(M.forEach((z,F)=>{if(!n.transactions.some(V=>{const L=new Date(V.date);return V.description===F&&V.amount===z.amount&&L.getMonth()===N&&L.getFullYear()===O})){const L=new Date(z.date).getDate(),G=new Date(O,N+1,0).getDate(),q=Math.min(L,G),J=new Date(O,N,q);D.push({...z,id:crypto.randomUUID(),date:J.toISOString().split("T")[0],status:"pending",isRecurring:!0})}}),D.length>0)if(t)for(const z of D)await QI(t.uid,z);else r(z=>({...z,transactions:[...z.transactions,...D]}))})()},[t,e,n.transactions]),{data:n,setData:r,actions:{addTransaction:async T=>{const k={...T,id:crypto.randomUUID()};t?await QI(t.uid,k):r(N=>({...N,transactions:[...N.transactions,k]}))},updateTransaction:async(T,k)=>{t?await ZI(t.uid,T,k):r(N=>({...N,transactions:N.transactions.map(O=>O.id===T?{...O,...k}:O)}))},deleteTransaction:async T=>{t?await hH(t.uid,T):r(k=>({...k,transactions:k.transactions.filter(N=>N.id!==T)}))},toggleTransactionStatus:async T=>{const k=n.transactions.find(O=>O.id===T);if(!k)return;const N=k.status==="paid"?"pending":"paid";if(t){if(await ZI(t.uid,T,{status:N}),k.debtId){const O=n.debts.find(M=>M.id===k.debtId);if(O){const z=n.transactions.filter(F=>F.debtId===k.debtId).every(F=>F.id===T?N==="paid":F.status==="paid")?"paid":"agreement";O.status!==z&&await ek(t.uid,O.id,{status:z})}}}else r(O=>{const M=O.transactions.map(z=>z.id===T?{...z,status:N}:z);let D=O.debts;if(k.debtId){const j=M.filter(V=>V.debtId===k.debtId).every(V=>V.status==="paid")?"paid":"agreement";D=O.debts.map(V=>V.id===k.debtId?{...V,status:j}:V)}return{...O,transactions:M,debts:D}})},addInvestment:async T=>{const k={...T,id:crypto.randomUUID()};t?await mH(t.uid,k):r(N=>({...N,investments:[...N.investments,k]}))},updateInvestment:async(T,k)=>{t?await gH(t.uid,T,k):r(N=>({...N,investments:N.investments.map(O=>O.id===T?{...O,...k}:O)}))},deleteInvestment:async T=>{t?await yH(t.uid,T):r(k=>({...k,investments:k.investments.filter(N=>N.id!==T)}))},addBudget:async T=>{const k={...T,id:crypto.randomUUID()};t?await vH(t.uid,k):r(N=>({...N,budgets:[...N.budgets||[],k]}))},updateBudget:async(T,k)=>{t?await xH(t.uid,T,k):r(N=>({...N,budgets:N.budgets.map(O=>O.id===T?{...O,...k}:O)}))},deleteBudget:async T=>{t?await bH(t.uid,T):r(k=>({...k,budgets:k.budgets.filter(N=>N.id!==T)}))},addDebt:async T=>{const k={...T,id:crypto.randomUUID()};t?await _H(t.uid,k):r(N=>({...N,debts:[...N.debts||[],k]}))},updateDebt:async(T,k)=>{t?await ek(t.uid,T,k):r(N=>({...N,debts:N.debts.map(O=>O.id===T?{...O,...k}:O)}))},deleteDebt:async T=>{t?await wH(t.uid,T):r(k=>({...k,debts:k.debts.filter(N=>N.id!==T)}))},addShoppingItem:async T=>{const k={...T,id:crypto.randomUUID()};t?await EH(t.uid,k):r(N=>({...N,shoppingList:[...N.shoppingList||[],k]}))},updateShoppingItem:async(T,k)=>{t?await TH(t.uid,T,k):r(N=>({...N,shoppingList:N.shoppingList.map(O=>O.id===T?{...O,...k}:O)}))},deleteShoppingItem:async T=>{t?await SH(t.uid,T):r(k=>({...k,shoppingList:k.shoppingList.filter(N=>N.id!==T)}))},clearShoppingList:async()=>{t?await AH(t.uid):r(T=>({...T,shoppingList:[]}))},setShoppingBudget:async T=>{t?await IH(t.uid,T):r(k=>({...k,shoppingBudget:T}))},unlockBadge:T=>{n.unlockedBadges.includes(T)||(t?kH(t.uid,T,n.unlockedBadges):r(k=>({...k,unlockedBadges:[...k.unlockedBadges,T]})))},saveWealthProfile:async T=>{t?await CH(t.uid,T):r(k=>({...k,wealthProfile:T}))}}}},W2="028.268.001-24",PIe="Alexandre Magno dos Santos Linhares",NIe=()=>{const[t,e]=B.useState(null),[n,r]=B.useState(!1),[i,o]=B.useState(!0),{data:s,setData:a,actions:l}=CIe(t,n),[u,c]=B.useState($e.DASHBOARD),[f,h]=B.useState(!1),[y,v]=B.useState(!1),[b,x]=B.useState(!1),[w,_]=B.useState(!1),[E,P]=B.useState(null),[S,C]=B.useState(0),[I,T]=B.useState(!1),[k,N]=B.useState(""),[O,M]=B.useState(!1),[D,z]=B.useState(!1),[F,j]=B.useState(!1);B.useRef(null),B.useEffect(()=>{const ce=Z=>{Z.preventDefault(),P(Z)};return window.addEventListener("beforeinstallprompt",ce),()=>window.removeEventListener("beforeinstallprompt",ce)},[]);const V=async()=>{if(!E)return;E.prompt();const{outcome:ce}=await E.userChoice;P(null)};B.useEffect(()=>{const ce=J7(Ja,async Z=>{if(e(Z),o(!1),Z){r(!1);const Ce=XI("guest_user");Ce.transactions.length>0&&confirm("Encontramos dados no modo convidado. Deseja migrar para sua conta na nuvem?")&&(await tk(Z.uid,Ce),localStorage.removeItem("finansmart_data_v2_guest_user"))}});return()=>ce()},[]),B.useEffect(()=>{!i&&n&&dH(s,"guest_user")},[s,n,i]);const L=()=>{r(!0);const ce=XI("guest_user");a(ce)},G=async()=>{n?(r(!1),a({transactions:[],investments:[],budgets:[],debts:[],shoppingList:[],unlockedBadges:[]})):await X7(Ja)};B.useEffect(()=>{M(LC()),LC()&&N(wu()||""),!localStorage.getItem("nexo_welcome_seen")&&(t||n)&&j(!0)},[t,n]);const q=()=>{k.trim()&&(jC(k.trim()),M(!0),T(!1),alert("Chave API salva no seu navegador com sucesso!"))},J=()=>{UZ(),N(""),M(!1),T(!1)},H=()=>{k.trim()&&(jC(k.trim()),M(!0)),localStorage.setItem("nexo_welcome_seen","true"),j(!1)},W=()=>{navigator.clipboard.writeText(W2),alert("Chave Pix copiada!")};B.useEffect(()=>{y?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[y]);const ie=()=>{document.fullscreenElement?(document.exitFullscreen&&document.exitFullscreen(),x(!1)):(document.documentElement.requestFullscreen().catch(ce=>console.error(ce)),x(!0))},K=()=>{confirm(` ATENO: Isso apagar TODOS os dados, configuraes e chave API deste navegador.

Deseja realmente resetar o app para o estado de fbrica?`)&&(localStorage.clear(),window.location.reload())},ae=()=>{const ce=JSON.stringify(s),Z="data:application/json;charset=utf-8,"+encodeURIComponent(ce),Ce=document.createElement("a");Ce.setAttribute("href",Z),Ce.setAttribute("download","nexo_backup.json"),Ce.click()},fe=ce=>{var Re;const Z=(Re=ce.target.files)==null?void 0:Re[0];if(!Z)return;const Ce=new FileReader;Ce.onload=async rt=>{var it;try{const ft=JSON.parse((it=rt.target)==null?void 0:it.result);confirm("Isso substituir seus dados atuais. Tem certeza?")&&(t?await tk(t.uid,ft):a(ft),alert("Backup restaurado com sucesso!"))}catch{alert("Erro ao ler arquivo de backup.")}},Ce.readAsText(Z)},Me=ce=>{c(ce),_(!1),setTimeout(()=>C(Date.now()),50)},le=async(ce,Z,Ce)=>{const Re={description:`Compra de Mercado (${new Date().toLocaleDateString()})`,amount:ce,type:"expense",category:Ce,date:new Date().toISOString().split("T")[0],status:"paid",paymentMethod:Z,isRecurring:!1};await l.addTransaction(Re),await l.clearShoppingList(),alert("Compra finalizada! Despesa registrada com sucesso."),c($e.TRANSACTIONS)},ve=()=>{switch(u){case $e.DASHBOARD:return d.jsx(U2,{data:s,privacyMode:f,onUnlockBadge:l.unlockBadge});case $e.TRANSACTIONS:return d.jsx(cIe,{transactions:s.transactions,budgets:s.budgets,onAdd:l.addTransaction,onUpdate:l.updateTransaction,onDelete:l.deleteTransaction,onToggleStatus:l.toggleTransactionStatus,onNavigate:ce=>c(ce),privacyMode:f,hasApiKey:O,quickActionSignal:S});case $e.INVESTMENTS:return d.jsx(dIe,{investments:s.investments,onAdd:l.addInvestment,onUpdate:l.updateInvestment,onDelete:l.deleteInvestment,onNavigate:ce=>c(ce),privacyMode:f,hasApiKey:O,quickActionSignal:S});case $e.SHOPPING_LIST:return d.jsx(EIe,{items:s.shoppingList||[],onAdd:l.addShoppingItem,onUpdate:l.updateShoppingItem,onDelete:l.deleteShoppingItem,onClearList:l.clearShoppingList,onFinishShopping:le,shoppingBudget:s.shoppingBudget,onUpdateBudget:l.setShoppingBudget,hasApiKey:O,privacyMode:f,quickActionSignal:S});case $e.BUDGETS:return d.jsx(hIe,{budgets:s.budgets||[],transactions:s.transactions,investments:s.investments||[],onAdd:l.addBudget,onUpdate:l.updateBudget,onDelete:l.deleteBudget,onNavigate:ce=>c(ce),privacyMode:f,quickActionSignal:S});case $e.SUBSCRIPTIONS:return d.jsx(pIe,{transactions:s.transactions,onUpdateTransaction:l.updateTransaction,onDeleteTransaction:l.deleteTransaction,privacyMode:f});case $e.CALENDAR:return d.jsx(xIe,{transactions:s.transactions,budgets:s.budgets,onAddTransaction:l.addTransaction,privacyMode:f});case $e.DEBTS:return d.jsx(wIe,{debts:s.debts||[],onAdd:l.addDebt,onUpdate:l.updateDebt,onDelete:l.deleteDebt,onAddTransaction:l.addTransaction,privacyMode:f,quickActionSignal:S});case $e.AI_ASSISTANT:return d.jsx(bIe,{data:s,privacyMode:f});case $e.WEALTH_PLANNER:return d.jsx(SIe,{data:s,onSaveProfile:l.saveWealthProfile,privacyMode:f,hasApiKey:O});default:return d.jsx(U2,{data:s,privacyMode:f,onUnlockBadge:l.unlockBadge})}};return i?d.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:d.jsx(Yg,{className:"w-12 h-12 text-indigo-500 animate-spin"})}):!t&&!n?d.jsx(WZ,{onGuestLogin:L}):d.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex flex-col md:flex-row font-sans text-slate-900 dark:text-slate-100 transition-colors duration-300",children:[w&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 md:hidden backdrop-blur-sm animate-fade-in",onClick:()=>_(!1)}),d.jsx(AIe,{user:t,isGuest:n,mobileMenuOpen:w,setMobileMenuOpen:_,currentView:u,onNavigate:ce=>c(ce),onLogout:G,privacyMode:f,setPrivacyMode:h,darkMode:y,setDarkMode:v,isFullscreen:b,toggleFullscreen:ie,hasKey:O,onOpenKeyModal:()=>T(!0),onOpenDonateModal:()=>z(!0),onExportBackup:ae,onImportBackup:fe,onFactoryReset:K,canInstall:!!E,onInstall:V}),d.jsxs("main",{className:"flex-1 p-4 md:p-8 pt-20 md:pt-8 pb-8 overflow-y-auto h-screen scroll-smooth",children:[d.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 bg-slate-900 p-4 border-b border-slate-800 z-30 flex items-center justify-between shadow-md",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>_(!0),className:"text-slate-300 hover:text-white p-1",children:d.jsx(WB,{className:"w-6 h-6"})}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"bg-indigo-600 p-1.5 rounded-lg",children:d.jsx(tE,{className:"w-4 h-4 text-white"})}),d.jsx("span",{className:"font-bold text-white tracking-tight",children:"NEXO"})]})]}),d.jsxs("div",{className:"flex gap-4 items-center",children:[E&&d.jsx("button",{onClick:V,className:"text-emerald-400 hover:text-white animate-pulse",title:"Instalar Aplicativo",children:d.jsx(aD,{className:"w-5 h-5"})}),d.jsxs("button",{onClick:()=>T(!0),className:`${O?"text-emerald-400":"text-rose-500"} hover:text-white relative`,children:[d.jsx(yd,{className:"w-5 h-5"}),!O&&d.jsxs("span",{className:"absolute -top-1 -right-1 flex h-2.5 w-2.5",children:[d.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-rose-400 opacity-75"}),d.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-rose-500"})]})]})]})]}),d.jsxs("div",{className:"max-w-7xl mx-auto animate-fade-in",children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:[d.jsxs("button",{onClick:()=>Me($e.TRANSACTIONS),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-blue-100 dark:border-blue-900/30 hover:border-blue-300 transition-all group",children:[d.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/40 p-2.5 rounded-lg group-hover:bg-blue-600 group-hover:text-white transition-colors text-blue-600 dark:text-blue-400",children:d.jsx(Bx,{className:"w-5 h-5"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Nova"}),d.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Transao"})]})]}),d.jsxs("button",{onClick:()=>Me($e.SHOPPING_LIST),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-emerald-100 dark:border-emerald-900/30 hover:border-emerald-300 transition-all group",children:[d.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/40 p-2.5 rounded-lg group-hover:bg-emerald-600 group-hover:text-white transition-colors text-emerald-600 dark:text-emerald-400",children:d.jsx(tm,{className:"w-5 h-5"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Calculadora"}),d.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Mercado"})]})]}),d.jsxs("button",{onClick:()=>Me($e.DEBTS),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-rose-100 dark:border-rose-900/30 hover:border-rose-300 transition-all group",children:[d.jsx("div",{className:"bg-rose-100 dark:bg-rose-900/40 p-2.5 rounded-lg group-hover:bg-rose-600 group-hover:text-white transition-colors text-rose-600 dark:text-rose-400",children:d.jsx(vd,{className:"w-5 h-5"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Registrar"}),d.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Dvida"})]})]}),d.jsxs("button",{onClick:()=>Me($e.BUDGETS),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-pink-100 dark:border-pink-900/30 hover:border-pink-300 transition-all group",children:[d.jsx("div",{className:"bg-pink-100 dark:bg-pink-900/40 p-2.5 rounded-lg group-hover:bg-pink-600 group-hover:text-white transition-colors text-pink-600 dark:text-pink-400",children:d.jsx(Js,{className:"w-5 h-5"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Definir"}),d.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Meta/Limite"})]})]})]}),ve()]})]}),d.jsx(IIe,{showWelcome:F,isDonateModalOpen:D,isKeyModalOpen:I,userKeyInput:k,hasKey:O,PIX_KEY:W2,PIX_NAME:PIe,setShowWelcome:j,setIsDonateModalOpen:z,setIsKeyModalOpen:T,setUserKeyInput:N,handleSaveKey:q,handleRemoveKey:J,handleFinishWelcome:H,copyPix:W})]})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});const wV=document.getElementById("root");if(!wV)throw new Error("Could not find root element to mount to");const RIe=Bv.createRoot(wV);RIe.render(d.jsx(U.StrictMode,{children:d.jsx(NIe,{})}));
