(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var _h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function et(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uO={exports:{}},qg={},cO={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kf=Symbol.for("react.element"),oV=Symbol.for("react.portal"),sV=Symbol.for("react.fragment"),aV=Symbol.for("react.strict_mode"),lV=Symbol.for("react.profiler"),uV=Symbol.for("react.provider"),cV=Symbol.for("react.context"),dV=Symbol.for("react.forward_ref"),fV=Symbol.for("react.suspense"),hV=Symbol.for("react.memo"),pV=Symbol.for("react.lazy"),MT=Symbol.iterator;function mV(t){return t===null||typeof t!="object"?null:(t=MT&&t[MT]||t["@@iterator"],typeof t=="function"?t:null)}var dO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fO=Object.assign,hO={};function vu(t,e,n){this.props=t,this.context=e,this.refs=hO,this.updater=n||dO}vu.prototype.isReactComponent={};vu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pO(){}pO.prototype=vu.prototype;function v_(t,e,n){this.props=t,this.context=e,this.refs=hO,this.updater=n||dO}var x_=v_.prototype=new pO;x_.constructor=v_;fO(x_,vu.prototype);x_.isPureReactComponent=!0;var DT=Array.isArray,mO=Object.prototype.hasOwnProperty,b_={current:null},gO={key:!0,ref:!0,__self:!0,__source:!0};function yO(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)mO.call(e,r)&&!gO.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:kf,type:t,key:o,ref:s,props:i,_owner:b_.current}}function gV(t,e){return{$$typeof:kf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function w_(t){return typeof t=="object"&&t!==null&&t.$$typeof===kf}function yV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jT=/\/+/g;function jy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?yV(""+t.key):e.toString(36)}function fp(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case kf:case oV:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+jy(s,0):r,DT(i)?(n="",t!=null&&(n=t.replace(jT,"$&/")+"/"),fp(i,e,n,"",function(u){return u})):i!=null&&(w_(i)&&(i=gV(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(jT,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",DT(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+jy(o,a);s+=fp(o,e,n,l,i)}else if(l=mV(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+jy(o,a++),s+=fp(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Eh(t,e,n){if(t==null)return t;var r=[],i=0;return fp(t,r,"","",function(o){return e.call(n,o,i++)}),r}function vV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dn={current:null},hp={transition:null},xV={ReactCurrentDispatcher:Dn,ReactCurrentBatchConfig:hp,ReactCurrentOwner:b_};function vO(){throw Error("act(...) is not supported in production builds of React.")}Ve.Children={map:Eh,forEach:function(t,e,n){Eh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Eh(t,function(){e++}),e},toArray:function(t){return Eh(t,function(e){return e})||[]},only:function(t){if(!w_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ve.Component=vu;Ve.Fragment=sV;Ve.Profiler=lV;Ve.PureComponent=v_;Ve.StrictMode=aV;Ve.Suspense=fV;Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xV;Ve.act=vO;Ve.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=fO({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=b_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)mO.call(e,l)&&!gO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:kf,type:t.type,key:i,ref:o,props:r,_owner:s}};Ve.createContext=function(t){return t={$$typeof:cV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:uV,_context:t},t.Consumer=t};Ve.createElement=yO;Ve.createFactory=function(t){var e=yO.bind(null,t);return e.type=t,e};Ve.createRef=function(){return{current:null}};Ve.forwardRef=function(t){return{$$typeof:dV,render:t}};Ve.isValidElement=w_;Ve.lazy=function(t){return{$$typeof:pV,_payload:{_status:-1,_result:t},_init:vV}};Ve.memo=function(t,e){return{$$typeof:hV,type:t,compare:e===void 0?null:e}};Ve.startTransition=function(t){var e=hp.transition;hp.transition={};try{t()}finally{hp.transition=e}};Ve.unstable_act=vO;Ve.useCallback=function(t,e){return Dn.current.useCallback(t,e)};Ve.useContext=function(t){return Dn.current.useContext(t)};Ve.useDebugValue=function(){};Ve.useDeferredValue=function(t){return Dn.current.useDeferredValue(t)};Ve.useEffect=function(t,e){return Dn.current.useEffect(t,e)};Ve.useId=function(){return Dn.current.useId()};Ve.useImperativeHandle=function(t,e,n){return Dn.current.useImperativeHandle(t,e,n)};Ve.useInsertionEffect=function(t,e){return Dn.current.useInsertionEffect(t,e)};Ve.useLayoutEffect=function(t,e){return Dn.current.useLayoutEffect(t,e)};Ve.useMemo=function(t,e){return Dn.current.useMemo(t,e)};Ve.useReducer=function(t,e,n){return Dn.current.useReducer(t,e,n)};Ve.useRef=function(t){return Dn.current.useRef(t)};Ve.useState=function(t){return Dn.current.useState(t)};Ve.useSyncExternalStore=function(t,e,n){return Dn.current.useSyncExternalStore(t,e,n)};Ve.useTransition=function(){return Dn.current.useTransition()};Ve.version="18.3.1";cO.exports=Ve;var U=cO.exports;const B=et(U);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bV=U,wV=Symbol.for("react.element"),_V=Symbol.for("react.fragment"),EV=Object.prototype.hasOwnProperty,SV=bV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TV={key:!0,ref:!0,__self:!0,__source:!0};function xO(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)EV.call(e,r)&&!TV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:wV,type:t,key:o,ref:s,props:i,_owner:SV.current}}qg.Fragment=_V;qg.jsx=xO;qg.jsxs=xO;uO.exports=qg;var c=uO.exports,tx={},bO={exports:{}},ar={},wO={exports:{}},_O={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,$){var G=P.length;P.push($);e:for(;0<G;){var H=G-1>>>1,K=P[H];if(0<i(K,$))P[H]=$,P[G]=K,G=H;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var $=P[0],G=P.pop();if(G!==$){P[0]=G;e:for(var H=0,K=P.length,Y=K>>>1;H<Y;){var se=2*(H+1)-1,W=P[se],Z=se+1,de=P[Z];if(0>i(W,G))Z<K&&0>i(de,W)?(P[H]=de,P[Z]=G,H=Z):(P[H]=W,P[se]=G,H=se);else if(Z<K&&0>i(de,G))P[H]=de,P[Z]=G,H=Z;else break e}}return $}function i(P,$){var G=P.sortIndex-$.sortIndex;return G!==0?G:P.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,f=null,h=3,y=!1,v=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(P){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=P)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function C(P){if(b=!1,E(P),!v)if(n(l)!==null)v=!0,L(S);else{var $=n(u);$!==null&&z(C,$.startTime-P)}}function S(P,$){v=!1,b&&(b=!1,_(T),T=-1),y=!0;var G=h;try{for(E($),f=n(l);f!==null&&(!(f.expirationTime>$)||P&&!D());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var K=H(f.expirationTime<=$);$=t.unstable_now(),typeof K=="function"?f.callback=K:f===n(l)&&r(l),E($)}else r(l);f=n(l)}if(f!==null)var Y=!0;else{var se=n(u);se!==null&&z(C,se.startTime-$),Y=!1}return Y}finally{f=null,h=G,y=!1}}var I=!1,k=null,T=-1,N=5,M=-1;function D(){return!(t.unstable_now()-M<N)}function j(){if(k!==null){var P=t.unstable_now();M=P;var $=!0;try{$=k(!0,P)}finally{$?O():(I=!1,k=null)}}else I=!1}var O;if(typeof w=="function")O=function(){w(j)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,V=q.port2;q.port1.onmessage=j,O=function(){V.postMessage(null)}}else O=function(){x(j,0)};function L(P){k=P,I||(I=!0,O())}function z(P,$){T=x(function(){P(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,L(S))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var G=h;h=$;try{return P()}finally{h=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,$){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var G=h;h=P;try{return $()}finally{h=G}},t.unstable_scheduleCallback=function(P,$,G){var H=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?H+G:H):G=H,P){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=G+K,P={id:d++,callback:$,priorityLevel:P,startTime:G,expirationTime:K,sortIndex:-1},G>H?(P.sortIndex=G,e(u,P),n(l)===null&&P===n(u)&&(b?(_(T),T=-1):b=!0,z(C,G-H))):(P.sortIndex=K,e(l,P),v||y||(v=!0,L(S))),P},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(P){var $=h;return function(){var G=h;h=$;try{return P.apply(this,arguments)}finally{h=G}}}})(_O);wO.exports=_O;var AV=wO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kV=U,or=AV;function ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var EO=new Set,cd={};function _a(t,e){Il(t,e),Il(t+"Capture",e)}function Il(t,e){for(cd[t]=e,t=0;t<e.length;t++)EO.add(e[t])}var Wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nx=Object.prototype.hasOwnProperty,IV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$T={},LT={};function CV(t){return nx.call(LT,t)?!0:nx.call($T,t)?!1:IV.test(t)?LT[t]=!0:($T[t]=!0,!1)}function NV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function PV(t,e,n,r){if(e===null||typeof e>"u"||NV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){cn[t]=new jn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];cn[e]=new jn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){cn[t]=new jn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){cn[t]=new jn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){cn[t]=new jn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){cn[t]=new jn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){cn[t]=new jn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){cn[t]=new jn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){cn[t]=new jn(t,5,!1,t.toLowerCase(),null,!1,!1)});var __=/[\-:]([a-z])/g;function E_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(__,E_);cn[e]=new jn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(__,E_);cn[e]=new jn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(__,E_);cn[e]=new jn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){cn[t]=new jn(t,1,!1,t.toLowerCase(),null,!1,!1)});cn.xlinkHref=new jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){cn[t]=new jn(t,1,!1,t.toLowerCase(),null,!0,!0)});function S_(t,e,n,r){var i=cn.hasOwnProperty(e)?cn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(PV(e,n,i,r)&&(n=null),r||i===null?CV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var uo=kV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sh=Symbol.for("react.element"),Wa=Symbol.for("react.portal"),Ka=Symbol.for("react.fragment"),T_=Symbol.for("react.strict_mode"),rx=Symbol.for("react.profiler"),SO=Symbol.for("react.provider"),TO=Symbol.for("react.context"),A_=Symbol.for("react.forward_ref"),ix=Symbol.for("react.suspense"),ox=Symbol.for("react.suspense_list"),k_=Symbol.for("react.memo"),To=Symbol.for("react.lazy"),AO=Symbol.for("react.offscreen"),FT=Symbol.iterator;function lc(t){return t===null||typeof t!="object"?null:(t=FT&&t[FT]||t["@@iterator"],typeof t=="function"?t:null)}var _t=Object.assign,$y;function Nc(t){if($y===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$y=e&&e[1]||""}return`
`+$y+t}var Ly=!1;function Fy(t,e){if(!t||Ly)return"";Ly=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Ly=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Nc(t):""}function RV(t){switch(t.tag){case 5:return Nc(t.type);case 16:return Nc("Lazy");case 13:return Nc("Suspense");case 19:return Nc("SuspenseList");case 0:case 2:case 15:return t=Fy(t.type,!1),t;case 11:return t=Fy(t.type.render,!1),t;case 1:return t=Fy(t.type,!0),t;default:return""}}function sx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ka:return"Fragment";case Wa:return"Portal";case rx:return"Profiler";case T_:return"StrictMode";case ix:return"Suspense";case ox:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case TO:return(t.displayName||"Context")+".Consumer";case SO:return(t._context.displayName||"Context")+".Provider";case A_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k_:return e=t.displayName||null,e!==null?e:sx(t.type)||"Memo";case To:e=t._payload,t=t._init;try{return sx(t(e))}catch{}}return null}function OV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sx(e);case 8:return e===T_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ts(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function MV(t){var e=kO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Th(t){t._valueTracker||(t._valueTracker=MV(t))}function IO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=kO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Fp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ax(t,e){var n=e.checked;return _t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function VT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ts(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function CO(t,e){e=e.checked,e!=null&&S_(t,"checked",e,!1)}function lx(t,e){CO(t,e);var n=ts(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ux(t,e.type,n):e.hasOwnProperty("defaultValue")&&ux(t,e.type,ts(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function UT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ux(t,e,n){(e!=="number"||Fp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Pc=Array.isArray;function hl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ts(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function cx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ue(91));return _t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function BT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ue(92));if(Pc(n)){if(1<n.length)throw Error(ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ts(n)}}function NO(t,e){var n=ts(e.value),r=ts(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function PO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?PO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ah,RO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ah=Ah||document.createElement("div"),Ah.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ah.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function dd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Uc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DV=["Webkit","ms","Moz","O"];Object.keys(Uc).forEach(function(t){DV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Uc[e]=Uc[t]})});function OO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Uc.hasOwnProperty(t)&&Uc[t]?(""+e).trim():e+"px"}function MO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=OO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var jV=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fx(t,e){if(e){if(jV[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ue(62))}}function hx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var px=null;function I_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mx=null,pl=null,ml=null;function GT(t){if(t=Nf(t)){if(typeof mx!="function")throw Error(ue(280));var e=t.stateNode;e&&(e=Jg(e),mx(t.stateNode,t.type,e))}}function DO(t){pl?ml?ml.push(t):ml=[t]:pl=t}function jO(){if(pl){var t=pl,e=ml;if(ml=pl=null,GT(t),e)for(t=0;t<e.length;t++)GT(e[t])}}function $O(t,e){return t(e)}function LO(){}var Vy=!1;function FO(t,e,n){if(Vy)return t(e,n);Vy=!0;try{return $O(t,e,n)}finally{Vy=!1,(pl!==null||ml!==null)&&(LO(),jO())}}function fd(t,e){var n=t.stateNode;if(n===null)return null;var r=Jg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ue(231,e,typeof n));return n}var gx=!1;if(Wi)try{var uc={};Object.defineProperty(uc,"passive",{get:function(){gx=!0}}),window.addEventListener("test",uc,uc),window.removeEventListener("test",uc,uc)}catch{gx=!1}function $V(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Bc=!1,Vp=null,Up=!1,yx=null,LV={onError:function(t){Bc=!0,Vp=t}};function FV(t,e,n,r,i,o,s,a,l){Bc=!1,Vp=null,$V.apply(LV,arguments)}function VV(t,e,n,r,i,o,s,a,l){if(FV.apply(this,arguments),Bc){if(Bc){var u=Vp;Bc=!1,Vp=null}else throw Error(ue(198));Up||(Up=!0,yx=u)}}function Ea(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function VO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qT(t){if(Ea(t)!==t)throw Error(ue(188))}function UV(t){var e=t.alternate;if(!e){if(e=Ea(t),e===null)throw Error(ue(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qT(i),t;if(o===r)return qT(i),e;o=o.sibling}throw Error(ue(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ue(189))}}if(n.alternate!==r)throw Error(ue(190))}if(n.tag!==3)throw Error(ue(188));return n.stateNode.current===n?t:e}function UO(t){return t=UV(t),t!==null?BO(t):null}function BO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=BO(t);if(e!==null)return e;t=t.sibling}return null}var zO=or.unstable_scheduleCallback,HT=or.unstable_cancelCallback,BV=or.unstable_shouldYield,zV=or.unstable_requestPaint,Ct=or.unstable_now,GV=or.unstable_getCurrentPriorityLevel,C_=or.unstable_ImmediatePriority,GO=or.unstable_UserBlockingPriority,Bp=or.unstable_NormalPriority,qV=or.unstable_LowPriority,qO=or.unstable_IdlePriority,Hg=null,ui=null;function HV(t){if(ui&&typeof ui.onCommitFiberRoot=="function")try{ui.onCommitFiberRoot(Hg,t,void 0,(t.current.flags&128)===128)}catch{}}var qr=Math.clz32?Math.clz32:YV,WV=Math.log,KV=Math.LN2;function YV(t){return t>>>=0,t===0?32:31-(WV(t)/KV|0)|0}var kh=64,Ih=4194304;function Rc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Rc(a):(o&=s,o!==0&&(r=Rc(o)))}else s=n&~i,s!==0?r=Rc(s):o!==0&&(r=Rc(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qr(e),i=1<<n,r|=t[n],e&=~i;return r}function JV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-qr(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=JV(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function vx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function HO(){var t=kh;return kh<<=1,!(kh&4194240)&&(kh=64),t}function Uy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function If(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qr(e),t[e]=n}function QV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-qr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function N_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var nt=0;function WO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var KO,P_,YO,JO,XO,xx=!1,Ch=[],Uo=null,Bo=null,zo=null,hd=new Map,pd=new Map,Io=[],ZV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WT(t,e){switch(t){case"focusin":case"focusout":Uo=null;break;case"dragenter":case"dragleave":Bo=null;break;case"mouseover":case"mouseout":zo=null;break;case"pointerover":case"pointerout":hd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pd.delete(e.pointerId)}}function cc(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Nf(e),e!==null&&P_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function eU(t,e,n,r,i){switch(e){case"focusin":return Uo=cc(Uo,t,e,n,r,i),!0;case"dragenter":return Bo=cc(Bo,t,e,n,r,i),!0;case"mouseover":return zo=cc(zo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return hd.set(o,cc(hd.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,pd.set(o,cc(pd.get(o)||null,t,e,n,r,i)),!0}return!1}function QO(t){var e=Ls(t.target);if(e!==null){var n=Ea(e);if(n!==null){if(e=n.tag,e===13){if(e=VO(n),e!==null){t.blockedOn=e,XO(t.priority,function(){YO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);px=r,n.target.dispatchEvent(r),px=null}else return e=Nf(n),e!==null&&P_(e),t.blockedOn=n,!1;e.shift()}return!0}function KT(t,e,n){pp(t)&&n.delete(e)}function tU(){xx=!1,Uo!==null&&pp(Uo)&&(Uo=null),Bo!==null&&pp(Bo)&&(Bo=null),zo!==null&&pp(zo)&&(zo=null),hd.forEach(KT),pd.forEach(KT)}function dc(t,e){t.blockedOn===e&&(t.blockedOn=null,xx||(xx=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,tU)))}function md(t){function e(i){return dc(i,t)}if(0<Ch.length){dc(Ch[0],t);for(var n=1;n<Ch.length;n++){var r=Ch[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Uo!==null&&dc(Uo,t),Bo!==null&&dc(Bo,t),zo!==null&&dc(zo,t),hd.forEach(e),pd.forEach(e),n=0;n<Io.length;n++)r=Io[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Io.length&&(n=Io[0],n.blockedOn===null);)QO(n),n.blockedOn===null&&Io.shift()}var gl=uo.ReactCurrentBatchConfig,Gp=!0;function nU(t,e,n,r){var i=nt,o=gl.transition;gl.transition=null;try{nt=1,R_(t,e,n,r)}finally{nt=i,gl.transition=o}}function rU(t,e,n,r){var i=nt,o=gl.transition;gl.transition=null;try{nt=4,R_(t,e,n,r)}finally{nt=i,gl.transition=o}}function R_(t,e,n,r){if(Gp){var i=bx(t,e,n,r);if(i===null)Xy(t,e,r,qp,n),WT(t,r);else if(eU(i,t,e,n,r))r.stopPropagation();else if(WT(t,r),e&4&&-1<ZV.indexOf(t)){for(;i!==null;){var o=Nf(i);if(o!==null&&KO(o),o=bx(t,e,n,r),o===null&&Xy(t,e,r,qp,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Xy(t,e,r,null,n)}}var qp=null;function bx(t,e,n,r){if(qp=null,t=I_(r),t=Ls(t),t!==null)if(e=Ea(t),e===null)t=null;else if(n=e.tag,n===13){if(t=VO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qp=t,null}function ZO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GV()){case C_:return 1;case GO:return 4;case Bp:case qV:return 16;case qO:return 536870912;default:return 16}default:return 16}}var Do=null,O_=null,mp=null;function eM(){if(mp)return mp;var t,e=O_,n=e.length,r,i="value"in Do?Do.value:Do.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return mp=i.slice(t,1<r?1-r:void 0)}function gp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nh(){return!0}function YT(){return!1}function lr(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Nh:YT,this.isPropagationStopped=YT,this}return _t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nh)},persist:function(){},isPersistent:Nh}),e}var xu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},M_=lr(xu),Cf=_t({},xu,{view:0,detail:0}),iU=lr(Cf),By,zy,fc,Wg=_t({},Cf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:D_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fc&&(fc&&t.type==="mousemove"?(By=t.screenX-fc.screenX,zy=t.screenY-fc.screenY):zy=By=0,fc=t),By)},movementY:function(t){return"movementY"in t?t.movementY:zy}}),JT=lr(Wg),oU=_t({},Wg,{dataTransfer:0}),sU=lr(oU),aU=_t({},Cf,{relatedTarget:0}),Gy=lr(aU),lU=_t({},xu,{animationName:0,elapsedTime:0,pseudoElement:0}),uU=lr(lU),cU=_t({},xu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dU=lr(cU),fU=_t({},xu,{data:0}),XT=lr(fU),hU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mU[t])?!!e[t]:!1}function D_(){return gU}var yU=_t({},Cf,{key:function(t){if(t.key){var e=hU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:D_,charCode:function(t){return t.type==="keypress"?gp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vU=lr(yU),xU=_t({},Wg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QT=lr(xU),bU=_t({},Cf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:D_}),wU=lr(bU),_U=_t({},xu,{propertyName:0,elapsedTime:0,pseudoElement:0}),EU=lr(_U),SU=_t({},Wg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TU=lr(SU),AU=[9,13,27,32],j_=Wi&&"CompositionEvent"in window,zc=null;Wi&&"documentMode"in document&&(zc=document.documentMode);var kU=Wi&&"TextEvent"in window&&!zc,tM=Wi&&(!j_||zc&&8<zc&&11>=zc),ZT=" ",eA=!1;function nM(t,e){switch(t){case"keyup":return AU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ya=!1;function IU(t,e){switch(t){case"compositionend":return rM(e);case"keypress":return e.which!==32?null:(eA=!0,ZT);case"textInput":return t=e.data,t===ZT&&eA?null:t;default:return null}}function CU(t,e){if(Ya)return t==="compositionend"||!j_&&nM(t,e)?(t=eM(),mp=O_=Do=null,Ya=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tM&&e.locale!=="ko"?null:e.data;default:return null}}var NU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!NU[t.type]:e==="textarea"}function iM(t,e,n,r){DO(r),e=Hp(e,"onChange"),0<e.length&&(n=new M_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gc=null,gd=null;function PU(t){mM(t,0)}function Kg(t){var e=Qa(t);if(IO(e))return t}function RU(t,e){if(t==="change")return e}var oM=!1;if(Wi){var qy;if(Wi){var Hy="oninput"in document;if(!Hy){var nA=document.createElement("div");nA.setAttribute("oninput","return;"),Hy=typeof nA.oninput=="function"}qy=Hy}else qy=!1;oM=qy&&(!document.documentMode||9<document.documentMode)}function rA(){Gc&&(Gc.detachEvent("onpropertychange",sM),gd=Gc=null)}function sM(t){if(t.propertyName==="value"&&Kg(gd)){var e=[];iM(e,gd,t,I_(t)),FO(PU,e)}}function OU(t,e,n){t==="focusin"?(rA(),Gc=e,gd=n,Gc.attachEvent("onpropertychange",sM)):t==="focusout"&&rA()}function MU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kg(gd)}function DU(t,e){if(t==="click")return Kg(e)}function jU(t,e){if(t==="input"||t==="change")return Kg(e)}function $U(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qr=typeof Object.is=="function"?Object.is:$U;function yd(t,e){if(Qr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!nx.call(e,i)||!Qr(t[i],e[i]))return!1}return!0}function iA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oA(t,e){var n=iA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iA(n)}}function aM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?aM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lM(){for(var t=window,e=Fp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fp(t.document)}return e}function $_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function LU(t){var e=lM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&aM(n.ownerDocument.documentElement,n)){if(r!==null&&$_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=oA(n,o);var s=oA(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var FU=Wi&&"documentMode"in document&&11>=document.documentMode,Ja=null,wx=null,qc=null,_x=!1;function sA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_x||Ja==null||Ja!==Fp(r)||(r=Ja,"selectionStart"in r&&$_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qc&&yd(qc,r)||(qc=r,r=Hp(wx,"onSelect"),0<r.length&&(e=new M_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ja)))}function Ph(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xa={animationend:Ph("Animation","AnimationEnd"),animationiteration:Ph("Animation","AnimationIteration"),animationstart:Ph("Animation","AnimationStart"),transitionend:Ph("Transition","TransitionEnd")},Wy={},uM={};Wi&&(uM=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function Yg(t){if(Wy[t])return Wy[t];if(!Xa[t])return t;var e=Xa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in uM)return Wy[t]=e[n];return t}var cM=Yg("animationend"),dM=Yg("animationiteration"),fM=Yg("animationstart"),hM=Yg("transitionend"),pM=new Map,aA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ls(t,e){pM.set(t,e),_a(e,[t])}for(var Ky=0;Ky<aA.length;Ky++){var Yy=aA[Ky],VU=Yy.toLowerCase(),UU=Yy[0].toUpperCase()+Yy.slice(1);ls(VU,"on"+UU)}ls(cM,"onAnimationEnd");ls(dM,"onAnimationIteration");ls(fM,"onAnimationStart");ls("dblclick","onDoubleClick");ls("focusin","onFocus");ls("focusout","onBlur");ls(hM,"onTransitionEnd");Il("onMouseEnter",["mouseout","mouseover"]);Il("onMouseLeave",["mouseout","mouseover"]);Il("onPointerEnter",["pointerout","pointerover"]);Il("onPointerLeave",["pointerout","pointerover"]);_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_a("onBeforeInput",["compositionend","keypress","textInput","paste"]);_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oc));function lA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,VV(r,e,void 0,t),t.currentTarget=null}function mM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;lA(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;lA(i,a,u),o=l}}}if(Up)throw t=yx,Up=!1,yx=null,t}function ft(t,e){var n=e[kx];n===void 0&&(n=e[kx]=new Set);var r=t+"__bubble";n.has(r)||(gM(e,t,2,!1),n.add(r))}function Jy(t,e,n){var r=0;e&&(r|=4),gM(n,t,r,e)}var Rh="_reactListening"+Math.random().toString(36).slice(2);function vd(t){if(!t[Rh]){t[Rh]=!0,EO.forEach(function(n){n!=="selectionchange"&&(BU.has(n)||Jy(n,!1,t),Jy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Rh]||(e[Rh]=!0,Jy("selectionchange",!1,e))}}function gM(t,e,n,r){switch(ZO(e)){case 1:var i=nU;break;case 4:i=rU;break;default:i=R_}n=i.bind(null,e,n,t),i=void 0,!gx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Xy(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ls(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}FO(function(){var u=o,d=I_(n),f=[];e:{var h=pM.get(t);if(h!==void 0){var y=M_,v=t;switch(t){case"keypress":if(gp(n)===0)break e;case"keydown":case"keyup":y=vU;break;case"focusin":v="focus",y=Gy;break;case"focusout":v="blur",y=Gy;break;case"beforeblur":case"afterblur":y=Gy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=JT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=sU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=wU;break;case cM:case dM:case fM:y=uU;break;case hM:y=EU;break;case"scroll":y=iU;break;case"wheel":y=TU;break;case"copy":case"cut":case"paste":y=dU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=QT}var b=(e&4)!==0,x=!b&&t==="scroll",_=b?h!==null?h+"Capture":null:h;b=[];for(var w=u,E;w!==null;){E=w;var C=E.stateNode;if(E.tag===5&&C!==null&&(E=C,_!==null&&(C=fd(w,_),C!=null&&b.push(xd(w,C,E)))),x)break;w=w.return}0<b.length&&(h=new y(h,v,null,n,d),f.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==px&&(v=n.relatedTarget||n.fromElement)&&(Ls(v)||v[Ki]))break e;if((y||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?Ls(v):null,v!==null&&(x=Ea(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(b=JT,C="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(b=QT,C="onPointerLeave",_="onPointerEnter",w="pointer"),x=y==null?h:Qa(y),E=v==null?h:Qa(v),h=new b(C,w+"leave",y,n,d),h.target=x,h.relatedTarget=E,C=null,Ls(d)===u&&(b=new b(_,w+"enter",v,n,d),b.target=E,b.relatedTarget=x,C=b),x=C,y&&v)t:{for(b=y,_=v,w=0,E=b;E;E=La(E))w++;for(E=0,C=_;C;C=La(C))E++;for(;0<w-E;)b=La(b),w--;for(;0<E-w;)_=La(_),E--;for(;w--;){if(b===_||_!==null&&b===_.alternate)break t;b=La(b),_=La(_)}b=null}else b=null;y!==null&&uA(f,h,y,b,!1),v!==null&&x!==null&&uA(f,x,v,b,!0)}}e:{if(h=u?Qa(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var S=RU;else if(tA(h))if(oM)S=jU;else{S=MU;var I=OU}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=DU);if(S&&(S=S(t,u))){iM(f,S,n,d);break e}I&&I(t,h,u),t==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&ux(h,"number",h.value)}switch(I=u?Qa(u):window,t){case"focusin":(tA(I)||I.contentEditable==="true")&&(Ja=I,wx=u,qc=null);break;case"focusout":qc=wx=Ja=null;break;case"mousedown":_x=!0;break;case"contextmenu":case"mouseup":case"dragend":_x=!1,sA(f,n,d);break;case"selectionchange":if(FU)break;case"keydown":case"keyup":sA(f,n,d)}var k;if(j_)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ya?nM(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(tM&&n.locale!=="ko"&&(Ya||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ya&&(k=eM()):(Do=d,O_="value"in Do?Do.value:Do.textContent,Ya=!0)),I=Hp(u,T),0<I.length&&(T=new XT(T,t,null,n,d),f.push({event:T,listeners:I}),k?T.data=k:(k=rM(n),k!==null&&(T.data=k)))),(k=kU?IU(t,n):CU(t,n))&&(u=Hp(u,"onBeforeInput"),0<u.length&&(d=new XT("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=k))}mM(f,e)})}function xd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=fd(t,n),o!=null&&r.unshift(xd(t,o,i)),o=fd(t,e),o!=null&&r.push(xd(t,o,i))),t=t.return}return r}function La(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uA(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=fd(n,o),l!=null&&s.unshift(xd(n,l,a))):i||(l=fd(n,o),l!=null&&s.push(xd(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var zU=/\r\n?/g,GU=/\u0000|\uFFFD/g;function cA(t){return(typeof t=="string"?t:""+t).replace(zU,`
`).replace(GU,"")}function Oh(t,e,n){if(e=cA(e),cA(t)!==e&&n)throw Error(ue(425))}function Wp(){}var Ex=null,Sx=null;function Tx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ax=typeof setTimeout=="function"?setTimeout:void 0,qU=typeof clearTimeout=="function"?clearTimeout:void 0,dA=typeof Promise=="function"?Promise:void 0,HU=typeof queueMicrotask=="function"?queueMicrotask:typeof dA<"u"?function(t){return dA.resolve(null).then(t).catch(WU)}:Ax;function WU(t){setTimeout(function(){throw t})}function Qy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),md(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);md(e)}function Go(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bu=Math.random().toString(36).slice(2),si="__reactFiber$"+bu,bd="__reactProps$"+bu,Ki="__reactContainer$"+bu,kx="__reactEvents$"+bu,KU="__reactListeners$"+bu,YU="__reactHandles$"+bu;function Ls(t){var e=t[si];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ki]||n[si]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fA(t);t!==null;){if(n=t[si])return n;t=fA(t)}return e}t=n,n=t.parentNode}return null}function Nf(t){return t=t[si]||t[Ki],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ue(33))}function Jg(t){return t[bd]||null}var Ix=[],Za=-1;function us(t){return{current:t}}function mt(t){0>Za||(t.current=Ix[Za],Ix[Za]=null,Za--)}function ct(t,e){Za++,Ix[Za]=t.current,t.current=e}var ns={},En=us(ns),Un=us(!1),na=ns;function Cl(t,e){var n=t.type.contextTypes;if(!n)return ns;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Bn(t){return t=t.childContextTypes,t!=null}function Kp(){mt(Un),mt(En)}function hA(t,e,n){if(En.current!==ns)throw Error(ue(168));ct(En,e),ct(Un,n)}function yM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ue(108,OV(t)||"Unknown",i));return _t({},n,r)}function Yp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ns,na=En.current,ct(En,t),ct(Un,Un.current),!0}function pA(t,e,n){var r=t.stateNode;if(!r)throw Error(ue(169));n?(t=yM(t,e,na),r.__reactInternalMemoizedMergedChildContext=t,mt(Un),mt(En),ct(En,t)):mt(Un),ct(Un,n)}var Pi=null,Xg=!1,Zy=!1;function vM(t){Pi===null?Pi=[t]:Pi.push(t)}function JU(t){Xg=!0,vM(t)}function cs(){if(!Zy&&Pi!==null){Zy=!0;var t=0,e=nt;try{var n=Pi;for(nt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pi=null,Xg=!1}catch(i){throw Pi!==null&&(Pi=Pi.slice(t+1)),zO(C_,cs),i}finally{nt=e,Zy=!1}}return null}var el=[],tl=0,Jp=null,Xp=0,gr=[],yr=0,ra=null,Oi=1,Mi="";function Ns(t,e){el[tl++]=Xp,el[tl++]=Jp,Jp=t,Xp=e}function xM(t,e,n){gr[yr++]=Oi,gr[yr++]=Mi,gr[yr++]=ra,ra=t;var r=Oi;t=Mi;var i=32-qr(r)-1;r&=~(1<<i),n+=1;var o=32-qr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Oi=1<<32-qr(e)+i|n<<i|r,Mi=o+t}else Oi=1<<o|n<<i|r,Mi=t}function L_(t){t.return!==null&&(Ns(t,1),xM(t,1,0))}function F_(t){for(;t===Jp;)Jp=el[--tl],el[tl]=null,Xp=el[--tl],el[tl]=null;for(;t===ra;)ra=gr[--yr],gr[yr]=null,Mi=gr[--yr],gr[yr]=null,Oi=gr[--yr],gr[yr]=null}var tr=null,Zn=null,gt=!1,Ur=null;function bM(t,e){var n=xr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tr=t,Zn=Go(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tr=t,Zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ra!==null?{id:Oi,overflow:Mi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tr=t,Zn=null,!0):!1;default:return!1}}function Cx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nx(t){if(gt){var e=Zn;if(e){var n=e;if(!mA(t,e)){if(Cx(t))throw Error(ue(418));e=Go(n.nextSibling);var r=tr;e&&mA(t,e)?bM(r,n):(t.flags=t.flags&-4097|2,gt=!1,tr=t)}}else{if(Cx(t))throw Error(ue(418));t.flags=t.flags&-4097|2,gt=!1,tr=t}}}function gA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tr=t}function Mh(t){if(t!==tr)return!1;if(!gt)return gA(t),gt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Tx(t.type,t.memoizedProps)),e&&(e=Zn)){if(Cx(t))throw wM(),Error(ue(418));for(;e;)bM(t,e),e=Go(e.nextSibling)}if(gA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zn=Go(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zn=null}}else Zn=tr?Go(t.stateNode.nextSibling):null;return!0}function wM(){for(var t=Zn;t;)t=Go(t.nextSibling)}function Nl(){Zn=tr=null,gt=!1}function V_(t){Ur===null?Ur=[t]:Ur.push(t)}var XU=uo.ReactCurrentBatchConfig;function hc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ue(309));var r=n.stateNode}if(!r)throw Error(ue(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ue(284));if(!n._owner)throw Error(ue(290,t))}return t}function Dh(t,e){throw t=Object.prototype.toString.call(e),Error(ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yA(t){var e=t._init;return e(t._payload)}function _M(t){function e(_,w){if(t){var E=_.deletions;E===null?(_.deletions=[w],_.flags|=16):E.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(_,w){return _=Ko(_,w),_.index=0,_.sibling=null,_}function o(_,w,E){return _.index=E,t?(E=_.alternate,E!==null?(E=E.index,E<w?(_.flags|=2,w):E):(_.flags|=2,w)):(_.flags|=1048576,w)}function s(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,w,E,C){return w===null||w.tag!==6?(w=sv(E,_.mode,C),w.return=_,w):(w=i(w,E),w.return=_,w)}function l(_,w,E,C){var S=E.type;return S===Ka?d(_,w,E.props.children,C,E.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===To&&yA(S)===w.type)?(C=i(w,E.props),C.ref=hc(_,w,E),C.return=_,C):(C=Ep(E.type,E.key,E.props,null,_.mode,C),C.ref=hc(_,w,E),C.return=_,C)}function u(_,w,E,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=av(E,_.mode,C),w.return=_,w):(w=i(w,E.children||[]),w.return=_,w)}function d(_,w,E,C,S){return w===null||w.tag!==7?(w=Js(E,_.mode,C,S),w.return=_,w):(w=i(w,E),w.return=_,w)}function f(_,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=sv(""+w,_.mode,E),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Sh:return E=Ep(w.type,w.key,w.props,null,_.mode,E),E.ref=hc(_,null,w),E.return=_,E;case Wa:return w=av(w,_.mode,E),w.return=_,w;case To:var C=w._init;return f(_,C(w._payload),E)}if(Pc(w)||lc(w))return w=Js(w,_.mode,E,null),w.return=_,w;Dh(_,w)}return null}function h(_,w,E,C){var S=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return S!==null?null:a(_,w,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Sh:return E.key===S?l(_,w,E,C):null;case Wa:return E.key===S?u(_,w,E,C):null;case To:return S=E._init,h(_,w,S(E._payload),C)}if(Pc(E)||lc(E))return S!==null?null:d(_,w,E,C,null);Dh(_,E)}return null}function y(_,w,E,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return _=_.get(E)||null,a(w,_,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Sh:return _=_.get(C.key===null?E:C.key)||null,l(w,_,C,S);case Wa:return _=_.get(C.key===null?E:C.key)||null,u(w,_,C,S);case To:var I=C._init;return y(_,w,E,I(C._payload),S)}if(Pc(C)||lc(C))return _=_.get(E)||null,d(w,_,C,S,null);Dh(w,C)}return null}function v(_,w,E,C){for(var S=null,I=null,k=w,T=w=0,N=null;k!==null&&T<E.length;T++){k.index>T?(N=k,k=null):N=k.sibling;var M=h(_,k,E[T],C);if(M===null){k===null&&(k=N);break}t&&k&&M.alternate===null&&e(_,k),w=o(M,w,T),I===null?S=M:I.sibling=M,I=M,k=N}if(T===E.length)return n(_,k),gt&&Ns(_,T),S;if(k===null){for(;T<E.length;T++)k=f(_,E[T],C),k!==null&&(w=o(k,w,T),I===null?S=k:I.sibling=k,I=k);return gt&&Ns(_,T),S}for(k=r(_,k);T<E.length;T++)N=y(k,_,T,E[T],C),N!==null&&(t&&N.alternate!==null&&k.delete(N.key===null?T:N.key),w=o(N,w,T),I===null?S=N:I.sibling=N,I=N);return t&&k.forEach(function(D){return e(_,D)}),gt&&Ns(_,T),S}function b(_,w,E,C){var S=lc(E);if(typeof S!="function")throw Error(ue(150));if(E=S.call(E),E==null)throw Error(ue(151));for(var I=S=null,k=w,T=w=0,N=null,M=E.next();k!==null&&!M.done;T++,M=E.next()){k.index>T?(N=k,k=null):N=k.sibling;var D=h(_,k,M.value,C);if(D===null){k===null&&(k=N);break}t&&k&&D.alternate===null&&e(_,k),w=o(D,w,T),I===null?S=D:I.sibling=D,I=D,k=N}if(M.done)return n(_,k),gt&&Ns(_,T),S;if(k===null){for(;!M.done;T++,M=E.next())M=f(_,M.value,C),M!==null&&(w=o(M,w,T),I===null?S=M:I.sibling=M,I=M);return gt&&Ns(_,T),S}for(k=r(_,k);!M.done;T++,M=E.next())M=y(k,_,T,M.value,C),M!==null&&(t&&M.alternate!==null&&k.delete(M.key===null?T:M.key),w=o(M,w,T),I===null?S=M:I.sibling=M,I=M);return t&&k.forEach(function(j){return e(_,j)}),gt&&Ns(_,T),S}function x(_,w,E,C){if(typeof E=="object"&&E!==null&&E.type===Ka&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Sh:e:{for(var S=E.key,I=w;I!==null;){if(I.key===S){if(S=E.type,S===Ka){if(I.tag===7){n(_,I.sibling),w=i(I,E.props.children),w.return=_,_=w;break e}}else if(I.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===To&&yA(S)===I.type){n(_,I.sibling),w=i(I,E.props),w.ref=hc(_,I,E),w.return=_,_=w;break e}n(_,I);break}else e(_,I);I=I.sibling}E.type===Ka?(w=Js(E.props.children,_.mode,C,E.key),w.return=_,_=w):(C=Ep(E.type,E.key,E.props,null,_.mode,C),C.ref=hc(_,w,E),C.return=_,_=C)}return s(_);case Wa:e:{for(I=E.key;w!==null;){if(w.key===I)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(_,w.sibling),w=i(w,E.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=av(E,_.mode,C),w.return=_,_=w}return s(_);case To:return I=E._init,x(_,w,I(E._payload),C)}if(Pc(E))return v(_,w,E,C);if(lc(E))return b(_,w,E,C);Dh(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(_,w.sibling),w=i(w,E),w.return=_,_=w):(n(_,w),w=sv(E,_.mode,C),w.return=_,_=w),s(_)):n(_,w)}return x}var Pl=_M(!0),EM=_M(!1),Qp=us(null),Zp=null,nl=null,U_=null;function B_(){U_=nl=Zp=null}function z_(t){var e=Qp.current;mt(Qp),t._currentValue=e}function Px(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yl(t,e){Zp=t,U_=nl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Fn=!0),t.firstContext=null)}function Sr(t){var e=t._currentValue;if(U_!==t)if(t={context:t,memoizedValue:e,next:null},nl===null){if(Zp===null)throw Error(ue(308));nl=t,Zp.dependencies={lanes:0,firstContext:t}}else nl=nl.next=t;return e}var Fs=null;function G_(t){Fs===null?Fs=[t]:Fs.push(t)}function SM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,G_(e)):(n.next=i.next,i.next=n),e.interleaved=n,Yi(t,r)}function Yi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ao=!1;function q_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,qe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Yi(t,n)}return i=r.interleaved,i===null?(e.next=e,G_(r)):(e.next=i.next,i.next=e),r.interleaved=e,Yi(t,n)}function yp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,N_(t,n)}}function vA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function em(t,e,n,r){var i=t.updateQueue;Ao=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,d=u=l=null,a=o;do{var h=a.lane,y=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,b=a;switch(h=e,y=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){f=v.call(y,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,h=typeof v=="function"?v.call(y,f,h):v,h==null)break e;f=_t({},f,h);break e;case 2:Ao=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,l=f):d=d.next=y,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);oa|=s,t.lanes=s,t.memoizedState=f}}function xA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ue(191,i));i.call(r)}}}var Pf={},ci=us(Pf),wd=us(Pf),_d=us(Pf);function Vs(t){if(t===Pf)throw Error(ue(174));return t}function H_(t,e){switch(ct(_d,e),ct(wd,t),ct(ci,Pf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dx(e,t)}mt(ci),ct(ci,e)}function Rl(){mt(ci),mt(wd),mt(_d)}function AM(t){Vs(_d.current);var e=Vs(ci.current),n=dx(e,t.type);e!==n&&(ct(wd,t),ct(ci,n))}function W_(t){wd.current===t&&(mt(ci),mt(wd))}var vt=us(0);function tm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ev=[];function K_(){for(var t=0;t<ev.length;t++)ev[t]._workInProgressVersionPrimary=null;ev.length=0}var vp=uo.ReactCurrentDispatcher,tv=uo.ReactCurrentBatchConfig,ia=0,wt=null,Lt=null,Kt=null,nm=!1,Hc=!1,Ed=0,QU=0;function mn(){throw Error(ue(321))}function Y_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qr(t[n],e[n]))return!1;return!0}function J_(t,e,n,r,i,o){if(ia=o,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vp.current=t===null||t.memoizedState===null?n6:r6,t=n(r,i),Hc){o=0;do{if(Hc=!1,Ed=0,25<=o)throw Error(ue(301));o+=1,Kt=Lt=null,e.updateQueue=null,vp.current=i6,t=n(r,i)}while(Hc)}if(vp.current=rm,e=Lt!==null&&Lt.next!==null,ia=0,Kt=Lt=wt=null,nm=!1,e)throw Error(ue(300));return t}function X_(){var t=Ed!==0;return Ed=0,t}function ii(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?wt.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function Tr(){if(Lt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var e=Kt===null?wt.memoizedState:Kt.next;if(e!==null)Kt=e,Lt=t;else{if(t===null)throw Error(ue(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Kt===null?wt.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function Sd(t,e){return typeof e=="function"?e(t):e}function nv(t){var e=Tr(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=Lt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var d=u.lane;if((ia&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,wt.lanes|=d,oa|=d}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Qr(r,e.memoizedState)||(Fn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,wt.lanes|=o,oa|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function rv(t){var e=Tr(),n=e.queue;if(n===null)throw Error(ue(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Qr(o,e.memoizedState)||(Fn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function kM(){}function IM(t,e){var n=wt,r=Tr(),i=e(),o=!Qr(r.memoizedState,i);if(o&&(r.memoizedState=i,Fn=!0),r=r.queue,Q_(PM.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Kt!==null&&Kt.memoizedState.tag&1){if(n.flags|=2048,Td(9,NM.bind(null,n,r,i,e),void 0,null),Xt===null)throw Error(ue(349));ia&30||CM(n,e,i)}return i}function CM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function NM(t,e,n,r){e.value=n,e.getSnapshot=r,RM(e)&&OM(t)}function PM(t,e,n){return n(function(){RM(e)&&OM(t)})}function RM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qr(t,n)}catch{return!0}}function OM(t){var e=Yi(t,1);e!==null&&Hr(e,t,1,-1)}function bA(t){var e=ii();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sd,lastRenderedState:t},e.queue=t,t=t.dispatch=t6.bind(null,wt,t),[e.memoizedState,t]}function Td(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function MM(){return Tr().memoizedState}function xp(t,e,n,r){var i=ii();wt.flags|=t,i.memoizedState=Td(1|e,n,void 0,r===void 0?null:r)}function Qg(t,e,n,r){var i=Tr();r=r===void 0?null:r;var o=void 0;if(Lt!==null){var s=Lt.memoizedState;if(o=s.destroy,r!==null&&Y_(r,s.deps)){i.memoizedState=Td(e,n,o,r);return}}wt.flags|=t,i.memoizedState=Td(1|e,n,o,r)}function wA(t,e){return xp(8390656,8,t,e)}function Q_(t,e){return Qg(2048,8,t,e)}function DM(t,e){return Qg(4,2,t,e)}function jM(t,e){return Qg(4,4,t,e)}function $M(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function LM(t,e,n){return n=n!=null?n.concat([t]):null,Qg(4,4,$M.bind(null,e,t),n)}function Z_(){}function FM(t,e){var n=Tr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Y_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function VM(t,e){var n=Tr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Y_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function UM(t,e,n){return ia&21?(Qr(n,e)||(n=HO(),wt.lanes|=n,oa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Fn=!0),t.memoizedState=n)}function ZU(t,e){var n=nt;nt=n!==0&&4>n?n:4,t(!0);var r=tv.transition;tv.transition={};try{t(!1),e()}finally{nt=n,tv.transition=r}}function BM(){return Tr().memoizedState}function e6(t,e,n){var r=Wo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zM(t))GM(e,n);else if(n=SM(t,e,n,r),n!==null){var i=On();Hr(n,t,r,i),qM(n,e,r)}}function t6(t,e,n){var r=Wo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zM(t))GM(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Qr(a,s)){var l=e.interleaved;l===null?(i.next=i,G_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=SM(t,e,i,r),n!==null&&(i=On(),Hr(n,t,r,i),qM(n,e,r))}}function zM(t){var e=t.alternate;return t===wt||e!==null&&e===wt}function GM(t,e){Hc=nm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,N_(t,n)}}var rm={readContext:Sr,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},n6={readContext:Sr,useCallback:function(t,e){return ii().memoizedState=[t,e===void 0?null:e],t},useContext:Sr,useEffect:wA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xp(4194308,4,$M.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xp(4194308,4,t,e)},useInsertionEffect:function(t,e){return xp(4,2,t,e)},useMemo:function(t,e){var n=ii();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ii();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=e6.bind(null,wt,t),[r.memoizedState,t]},useRef:function(t){var e=ii();return t={current:t},e.memoizedState=t},useState:bA,useDebugValue:Z_,useDeferredValue:function(t){return ii().memoizedState=t},useTransition:function(){var t=bA(!1),e=t[0];return t=ZU.bind(null,t[1]),ii().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=wt,i=ii();if(gt){if(n===void 0)throw Error(ue(407));n=n()}else{if(n=e(),Xt===null)throw Error(ue(349));ia&30||CM(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,wA(PM.bind(null,r,o,t),[t]),r.flags|=2048,Td(9,NM.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ii(),e=Xt.identifierPrefix;if(gt){var n=Mi,r=Oi;n=(r&~(1<<32-qr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ed++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=QU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},r6={readContext:Sr,useCallback:FM,useContext:Sr,useEffect:Q_,useImperativeHandle:LM,useInsertionEffect:DM,useLayoutEffect:jM,useMemo:VM,useReducer:nv,useRef:MM,useState:function(){return nv(Sd)},useDebugValue:Z_,useDeferredValue:function(t){var e=Tr();return UM(e,Lt.memoizedState,t)},useTransition:function(){var t=nv(Sd)[0],e=Tr().memoizedState;return[t,e]},useMutableSource:kM,useSyncExternalStore:IM,useId:BM,unstable_isNewReconciler:!1},i6={readContext:Sr,useCallback:FM,useContext:Sr,useEffect:Q_,useImperativeHandle:LM,useInsertionEffect:DM,useLayoutEffect:jM,useMemo:VM,useReducer:rv,useRef:MM,useState:function(){return rv(Sd)},useDebugValue:Z_,useDeferredValue:function(t){var e=Tr();return Lt===null?e.memoizedState=t:UM(e,Lt.memoizedState,t)},useTransition:function(){var t=rv(Sd)[0],e=Tr().memoizedState;return[t,e]},useMutableSource:kM,useSyncExternalStore:IM,useId:BM,unstable_isNewReconciler:!1};function $r(t,e){if(t&&t.defaultProps){e=_t({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Rx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_t({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zg={isMounted:function(t){return(t=t._reactInternals)?Ea(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=On(),i=Wo(t),o=Bi(r,i);o.payload=e,n!=null&&(o.callback=n),e=qo(t,o,i),e!==null&&(Hr(e,t,i,r),yp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=On(),i=Wo(t),o=Bi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=qo(t,o,i),e!==null&&(Hr(e,t,i,r),yp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=On(),r=Wo(t),i=Bi(n,r);i.tag=2,e!=null&&(i.callback=e),e=qo(t,i,r),e!==null&&(Hr(e,t,r,n),yp(e,t,r))}};function _A(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!yd(n,r)||!yd(i,o):!0}function HM(t,e,n){var r=!1,i=ns,o=e.contextType;return typeof o=="object"&&o!==null?o=Sr(o):(i=Bn(e)?na:En.current,r=e.contextTypes,o=(r=r!=null)?Cl(t,i):ns),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function EA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Zg.enqueueReplaceState(e,e.state,null)}function Ox(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},q_(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Sr(o):(o=Bn(e)?na:En.current,i.context=Cl(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Rx(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zg.enqueueReplaceState(i,i.state,null),em(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ol(t,e){try{var n="",r=e;do n+=RV(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function iv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Mx(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var o6=typeof WeakMap=="function"?WeakMap:Map;function WM(t,e,n){n=Bi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){om||(om=!0,Gx=r),Mx(t,e)},n}function KM(t,e,n){n=Bi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Mx(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Mx(t,e),typeof r!="function"&&(Ho===null?Ho=new Set([this]):Ho.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function SA(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new o6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=x6.bind(null,t,e,n),e.then(t,t))}function TA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function AA(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Bi(-1,1),e.tag=2,qo(n,e,1))),n.lanes|=1),t)}var s6=uo.ReactCurrentOwner,Fn=!1;function In(t,e,n,r){e.child=t===null?EM(e,null,n,r):Pl(e,t.child,n,r)}function kA(t,e,n,r,i){n=n.render;var o=e.ref;return yl(e,i),r=J_(t,e,n,r,o,i),n=X_(),t!==null&&!Fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ji(t,e,i)):(gt&&n&&L_(e),e.flags|=1,In(t,e,r,i),e.child)}function IA(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!a1(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,YM(t,e,o,r,i)):(t=Ep(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:yd,n(s,r)&&t.ref===e.ref)return Ji(t,e,i)}return e.flags|=1,t=Ko(o,r),t.ref=e.ref,t.return=e,e.child=t}function YM(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(yd(o,r)&&t.ref===e.ref)if(Fn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Fn=!0);else return e.lanes=t.lanes,Ji(t,e,i)}return Dx(t,e,n,r,i)}function JM(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(il,Jn),Jn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ct(il,Jn),Jn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ct(il,Jn),Jn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ct(il,Jn),Jn|=r;return In(t,e,i,n),e.child}function XM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Dx(t,e,n,r,i){var o=Bn(n)?na:En.current;return o=Cl(e,o),yl(e,i),n=J_(t,e,n,r,o,i),r=X_(),t!==null&&!Fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ji(t,e,i)):(gt&&r&&L_(e),e.flags|=1,In(t,e,n,i),e.child)}function CA(t,e,n,r,i){if(Bn(n)){var o=!0;Yp(e)}else o=!1;if(yl(e,i),e.stateNode===null)bp(t,e),HM(e,n,r),Ox(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Sr(u):(u=Bn(n)?na:En.current,u=Cl(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&EA(e,s,r,u),Ao=!1;var h=e.memoizedState;s.state=h,em(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Un.current||Ao?(typeof d=="function"&&(Rx(e,n,d,r),l=e.memoizedState),(a=Ao||_A(e,n,a,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,TM(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:$r(e.type,a),s.props=u,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Sr(l):(l=Bn(n)?na:En.current,l=Cl(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&EA(e,s,r,l),Ao=!1,h=e.memoizedState,s.state=h,em(e,r,s,i);var v=e.memoizedState;a!==f||h!==v||Un.current||Ao?(typeof y=="function"&&(Rx(e,n,y,r),v=e.memoizedState),(u=Ao||_A(e,n,u,r,h,v,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return jx(t,e,n,r,o,i)}function jx(t,e,n,r,i,o){XM(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&pA(e,n,!1),Ji(t,e,o);r=e.stateNode,s6.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Pl(e,t.child,null,o),e.child=Pl(e,null,a,o)):In(t,e,a,o),e.memoizedState=r.state,i&&pA(e,n,!0),e.child}function QM(t){var e=t.stateNode;e.pendingContext?hA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hA(t,e.context,!1),H_(t,e.containerInfo)}function NA(t,e,n,r,i){return Nl(),V_(i),e.flags|=256,In(t,e,n,r),e.child}var $x={dehydrated:null,treeContext:null,retryLane:0};function Lx(t){return{baseLanes:t,cachePool:null,transitions:null}}function ZM(t,e,n){var r=e.pendingProps,i=vt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ct(vt,i&1),t===null)return Nx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=n0(s,r,0,null),t=Js(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Lx(n),e.memoizedState=$x,t):e1(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return a6(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ko(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ko(a,o):(o=Js(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Lx(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=$x,r}return o=t.child,t=o.sibling,r=Ko(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function e1(t,e){return e=n0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jh(t,e,n,r){return r!==null&&V_(r),Pl(e,t.child,null,n),t=e1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function a6(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=iv(Error(ue(422))),jh(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=n0({mode:"visible",children:r.children},i,0,null),o=Js(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Pl(e,t.child,null,s),e.child.memoizedState=Lx(s),e.memoizedState=$x,o);if(!(e.mode&1))return jh(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ue(419)),r=iv(o,r,void 0),jh(t,e,s,r)}if(a=(s&t.childLanes)!==0,Fn||a){if(r=Xt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Yi(t,i),Hr(r,t,i,-1))}return s1(),r=iv(Error(ue(421))),jh(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=b6.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Zn=Go(i.nextSibling),tr=e,gt=!0,Ur=null,t!==null&&(gr[yr++]=Oi,gr[yr++]=Mi,gr[yr++]=ra,Oi=t.id,Mi=t.overflow,ra=e),e=e1(e,r.children),e.flags|=4096,e)}function PA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Px(t.return,e,n)}function ov(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function eD(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(In(t,e,r.children,n),r=vt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&PA(t,n,e);else if(t.tag===19)PA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ct(vt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&tm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ov(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&tm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ov(e,!0,n,null,o);break;case"together":ov(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ji(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),oa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ue(153));if(e.child!==null){for(t=e.child,n=Ko(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ko(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function l6(t,e,n){switch(e.tag){case 3:QM(e),Nl();break;case 5:AM(e);break;case 1:Bn(e.type)&&Yp(e);break;case 4:H_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ct(Qp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ct(vt,vt.current&1),e.flags|=128,null):n&e.child.childLanes?ZM(t,e,n):(ct(vt,vt.current&1),t=Ji(t,e,n),t!==null?t.sibling:null);ct(vt,vt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return eD(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ct(vt,vt.current),r)break;return null;case 22:case 23:return e.lanes=0,JM(t,e,n)}return Ji(t,e,n)}var tD,Fx,nD,rD;tD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fx=function(){};nD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Vs(ci.current);var o=null;switch(n){case"input":i=ax(t,i),r=ax(t,r),o=[];break;case"select":i=_t({},i,{value:void 0}),r=_t({},r,{value:void 0}),o=[];break;case"textarea":i=cx(t,i),r=cx(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wp)}fx(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(cd.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(cd.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ft("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};rD=function(t,e,n,r){n!==r&&(e.flags|=4)};function pc(t,e){if(!gt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function u6(t,e,n){var r=e.pendingProps;switch(F_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(e),null;case 1:return Bn(e.type)&&Kp(),gn(e),null;case 3:return r=e.stateNode,Rl(),mt(Un),mt(En),K_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Mh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ur!==null&&(Wx(Ur),Ur=null))),Fx(t,e),gn(e),null;case 5:W_(e);var i=Vs(_d.current);if(n=e.type,t!==null&&e.stateNode!=null)nD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ue(166));return gn(e),null}if(t=Vs(ci.current),Mh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[si]=e,r[bd]=o,t=(e.mode&1)!==0,n){case"dialog":ft("cancel",r),ft("close",r);break;case"iframe":case"object":case"embed":ft("load",r);break;case"video":case"audio":for(i=0;i<Oc.length;i++)ft(Oc[i],r);break;case"source":ft("error",r);break;case"img":case"image":case"link":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"input":VT(r,o),ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ft("invalid",r);break;case"textarea":BT(r,o),ft("invalid",r)}fx(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Oh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Oh(r.textContent,a,t),i=["children",""+a]):cd.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ft("scroll",r)}switch(n){case"input":Th(r),UT(r,o,!0);break;case"textarea":Th(r),zT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Wp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=PO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[si]=e,t[bd]=r,tD(t,e,!1,!1),e.stateNode=t;e:{switch(s=hx(n,r),n){case"dialog":ft("cancel",t),ft("close",t),i=r;break;case"iframe":case"object":case"embed":ft("load",t),i=r;break;case"video":case"audio":for(i=0;i<Oc.length;i++)ft(Oc[i],t);i=r;break;case"source":ft("error",t),i=r;break;case"img":case"image":case"link":ft("error",t),ft("load",t),i=r;break;case"details":ft("toggle",t),i=r;break;case"input":VT(t,r),i=ax(t,r),ft("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=_t({},r,{value:void 0}),ft("invalid",t);break;case"textarea":BT(t,r),i=cx(t,r),ft("invalid",t);break;default:i=r}fx(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?MO(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&RO(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&dd(t,l):typeof l=="number"&&dd(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(cd.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ft("scroll",t):l!=null&&S_(t,o,l,s))}switch(n){case"input":Th(t),UT(t,r,!1);break;case"textarea":Th(t),zT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ts(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?hl(t,!!r.multiple,o,!1):r.defaultValue!=null&&hl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Wp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gn(e),null;case 6:if(t&&e.stateNode!=null)rD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ue(166));if(n=Vs(_d.current),Vs(ci.current),Mh(e)){if(r=e.stateNode,n=e.memoizedProps,r[si]=e,(o=r.nodeValue!==n)&&(t=tr,t!==null))switch(t.tag){case 3:Oh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Oh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[si]=e,e.stateNode=r}return gn(e),null;case 13:if(mt(vt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(gt&&Zn!==null&&e.mode&1&&!(e.flags&128))wM(),Nl(),e.flags|=98560,o=!1;else if(o=Mh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ue(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ue(317));o[si]=e}else Nl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gn(e),o=!1}else Ur!==null&&(Wx(Ur),Ur=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||vt.current&1?Vt===0&&(Vt=3):s1())),e.updateQueue!==null&&(e.flags|=4),gn(e),null);case 4:return Rl(),Fx(t,e),t===null&&vd(e.stateNode.containerInfo),gn(e),null;case 10:return z_(e.type._context),gn(e),null;case 17:return Bn(e.type)&&Kp(),gn(e),null;case 19:if(mt(vt),o=e.memoizedState,o===null)return gn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)pc(o,!1);else{if(Vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=tm(t),s!==null){for(e.flags|=128,pc(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ct(vt,vt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ct()>Ml&&(e.flags|=128,r=!0,pc(o,!1),e.lanes=4194304)}else{if(!r)if(t=tm(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!gt)return gn(e),null}else 2*Ct()-o.renderingStartTime>Ml&&n!==1073741824&&(e.flags|=128,r=!0,pc(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ct(),e.sibling=null,n=vt.current,ct(vt,r?n&1|2:n&1),e):(gn(e),null);case 22:case 23:return o1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Jn&1073741824&&(gn(e),e.subtreeFlags&6&&(e.flags|=8192)):gn(e),null;case 24:return null;case 25:return null}throw Error(ue(156,e.tag))}function c6(t,e){switch(F_(e),e.tag){case 1:return Bn(e.type)&&Kp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rl(),mt(Un),mt(En),K_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return W_(e),null;case 13:if(mt(vt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ue(340));Nl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mt(vt),null;case 4:return Rl(),null;case 10:return z_(e.type._context),null;case 22:case 23:return o1(),null;case 24:return null;default:return null}}var $h=!1,xn=!1,d6=typeof WeakSet=="function"?WeakSet:Set,ve=null;function rl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tt(t,e,r)}else n.current=null}function Vx(t,e,n){try{n()}catch(r){Tt(t,e,r)}}var RA=!1;function f6(t,e){if(Ex=Gp,t=lM(),$_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++d===r&&(l=s),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sx={focusedElem:t,selectionRange:n},Gp=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){e=ve;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,x=v.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?b:$r(e.type,b),x);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(C){Tt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}return v=RA,RA=!1,v}function Wc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Vx(e,n,o)}i=i.next}while(i!==r)}}function e0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ux(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function iD(t){var e=t.alternate;e!==null&&(t.alternate=null,iD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[si],delete e[bd],delete e[kx],delete e[KU],delete e[YU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function oD(t){return t.tag===5||t.tag===3||t.tag===4}function OA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||oD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wp));else if(r!==4&&(t=t.child,t!==null))for(Bx(t,e,n),t=t.sibling;t!==null;)Bx(t,e,n),t=t.sibling}function zx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(zx(t,e,n),t=t.sibling;t!==null;)zx(t,e,n),t=t.sibling}var rn=null,Lr=!1;function _o(t,e,n){for(n=n.child;n!==null;)sD(t,e,n),n=n.sibling}function sD(t,e,n){if(ui&&typeof ui.onCommitFiberUnmount=="function")try{ui.onCommitFiberUnmount(Hg,n)}catch{}switch(n.tag){case 5:xn||rl(n,e);case 6:var r=rn,i=Lr;rn=null,_o(t,e,n),rn=r,Lr=i,rn!==null&&(Lr?(t=rn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rn.removeChild(n.stateNode));break;case 18:rn!==null&&(Lr?(t=rn,n=n.stateNode,t.nodeType===8?Qy(t.parentNode,n):t.nodeType===1&&Qy(t,n),md(t)):Qy(rn,n.stateNode));break;case 4:r=rn,i=Lr,rn=n.stateNode.containerInfo,Lr=!0,_o(t,e,n),rn=r,Lr=i;break;case 0:case 11:case 14:case 15:if(!xn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Vx(n,e,s),i=i.next}while(i!==r)}_o(t,e,n);break;case 1:if(!xn&&(rl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tt(n,e,a)}_o(t,e,n);break;case 21:_o(t,e,n);break;case 22:n.mode&1?(xn=(r=xn)||n.memoizedState!==null,_o(t,e,n),xn=r):_o(t,e,n);break;default:_o(t,e,n)}}function MA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new d6),e.forEach(function(r){var i=w6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:rn=a.stateNode,Lr=!1;break e;case 3:rn=a.stateNode.containerInfo,Lr=!0;break e;case 4:rn=a.stateNode.containerInfo,Lr=!0;break e}a=a.return}if(rn===null)throw Error(ue(160));sD(o,s,i),rn=null,Lr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Tt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)aD(e,t),e=e.sibling}function aD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dr(e,t),ri(t),r&4){try{Wc(3,t,t.return),e0(3,t)}catch(b){Tt(t,t.return,b)}try{Wc(5,t,t.return)}catch(b){Tt(t,t.return,b)}}break;case 1:Dr(e,t),ri(t),r&512&&n!==null&&rl(n,n.return);break;case 5:if(Dr(e,t),ri(t),r&512&&n!==null&&rl(n,n.return),t.flags&32){var i=t.stateNode;try{dd(i,"")}catch(b){Tt(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&CO(i,o),hx(a,s);var u=hx(a,o);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?MO(i,f):d==="dangerouslySetInnerHTML"?RO(i,f):d==="children"?dd(i,f):S_(i,d,f,u)}switch(a){case"input":lx(i,o);break;case"textarea":NO(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?hl(i,!!o.multiple,y,!1):h!==!!o.multiple&&(o.defaultValue!=null?hl(i,!!o.multiple,o.defaultValue,!0):hl(i,!!o.multiple,o.multiple?[]:"",!1))}i[bd]=o}catch(b){Tt(t,t.return,b)}}break;case 6:if(Dr(e,t),ri(t),r&4){if(t.stateNode===null)throw Error(ue(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(b){Tt(t,t.return,b)}}break;case 3:if(Dr(e,t),ri(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{md(e.containerInfo)}catch(b){Tt(t,t.return,b)}break;case 4:Dr(e,t),ri(t);break;case 13:Dr(e,t),ri(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(r1=Ct())),r&4&&MA(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(xn=(u=xn)||d,Dr(e,t),xn=u):Dr(e,t),ri(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ve=t,d=t.child;d!==null;){for(f=ve=d;ve!==null;){switch(h=ve,y=h.child,h.tag){case 0:case 11:case 14:case 15:Wc(4,h,h.return);break;case 1:rl(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){Tt(r,n,b)}}break;case 5:rl(h,h.return);break;case 22:if(h.memoizedState!==null){jA(f);continue}}y!==null?(y.return=h,ve=y):jA(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=OO("display",s))}catch(b){Tt(t,t.return,b)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){Tt(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Dr(e,t),ri(t),r&4&&MA(t);break;case 21:break;default:Dr(e,t),ri(t)}}function ri(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(oD(n)){var r=n;break e}n=n.return}throw Error(ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(dd(i,""),r.flags&=-33);var o=OA(t);zx(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=OA(t);Bx(t,a,s);break;default:throw Error(ue(161))}}catch(l){Tt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function h6(t,e,n){ve=t,lD(t)}function lD(t,e,n){for(var r=(t.mode&1)!==0;ve!==null;){var i=ve,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||$h;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||xn;a=$h;var u=xn;if($h=s,(xn=l)&&!u)for(ve=i;ve!==null;)s=ve,l=s.child,s.tag===22&&s.memoizedState!==null?$A(i):l!==null?(l.return=s,ve=l):$A(i);for(;o!==null;)ve=o,lD(o),o=o.sibling;ve=i,$h=a,xn=u}DA(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,ve=o):DA(t)}}function DA(t){for(;ve!==null;){var e=ve;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xn||e0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:$r(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&xA(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}xA(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&md(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}xn||e.flags&512&&Ux(e)}catch(h){Tt(e,e.return,h)}}if(e===t){ve=null;break}if(n=e.sibling,n!==null){n.return=e.return,ve=n;break}ve=e.return}}function jA(t){for(;ve!==null;){var e=ve;if(e===t){ve=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ve=n;break}ve=e.return}}function $A(t){for(;ve!==null;){var e=ve;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{e0(4,e)}catch(l){Tt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Tt(e,i,l)}}var o=e.return;try{Ux(e)}catch(l){Tt(e,o,l)}break;case 5:var s=e.return;try{Ux(e)}catch(l){Tt(e,s,l)}}}catch(l){Tt(e,e.return,l)}if(e===t){ve=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ve=a;break}ve=e.return}}var p6=Math.ceil,im=uo.ReactCurrentDispatcher,t1=uo.ReactCurrentOwner,wr=uo.ReactCurrentBatchConfig,qe=0,Xt=null,Rt=null,ln=0,Jn=0,il=us(0),Vt=0,Ad=null,oa=0,t0=0,n1=0,Kc=null,Ln=null,r1=0,Ml=1/0,Ci=null,om=!1,Gx=null,Ho=null,Lh=!1,jo=null,sm=0,Yc=0,qx=null,wp=-1,_p=0;function On(){return qe&6?Ct():wp!==-1?wp:wp=Ct()}function Wo(t){return t.mode&1?qe&2&&ln!==0?ln&-ln:XU.transition!==null?(_p===0&&(_p=HO()),_p):(t=nt,t!==0||(t=window.event,t=t===void 0?16:ZO(t.type)),t):1}function Hr(t,e,n,r){if(50<Yc)throw Yc=0,qx=null,Error(ue(185));If(t,n,r),(!(qe&2)||t!==Xt)&&(t===Xt&&(!(qe&2)&&(t0|=n),Vt===4&&Co(t,ln)),zn(t,r),n===1&&qe===0&&!(e.mode&1)&&(Ml=Ct()+500,Xg&&cs()))}function zn(t,e){var n=t.callbackNode;XV(t,e);var r=zp(t,t===Xt?ln:0);if(r===0)n!==null&&HT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&HT(n),e===1)t.tag===0?JU(LA.bind(null,t)):vM(LA.bind(null,t)),HU(function(){!(qe&6)&&cs()}),n=null;else{switch(WO(r)){case 1:n=C_;break;case 4:n=GO;break;case 16:n=Bp;break;case 536870912:n=qO;break;default:n=Bp}n=gD(n,uD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uD(t,e){if(wp=-1,_p=0,qe&6)throw Error(ue(327));var n=t.callbackNode;if(vl()&&t.callbackNode!==n)return null;var r=zp(t,t===Xt?ln:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=am(t,r);else{e=r;var i=qe;qe|=2;var o=dD();(Xt!==t||ln!==e)&&(Ci=null,Ml=Ct()+500,Ys(t,e));do try{y6();break}catch(a){cD(t,a)}while(!0);B_(),im.current=o,qe=i,Rt!==null?e=0:(Xt=null,ln=0,e=Vt)}if(e!==0){if(e===2&&(i=vx(t),i!==0&&(r=i,e=Hx(t,i))),e===1)throw n=Ad,Ys(t,0),Co(t,r),zn(t,Ct()),n;if(e===6)Co(t,r);else{if(i=t.current.alternate,!(r&30)&&!m6(i)&&(e=am(t,r),e===2&&(o=vx(t),o!==0&&(r=o,e=Hx(t,o))),e===1))throw n=Ad,Ys(t,0),Co(t,r),zn(t,Ct()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ue(345));case 2:Ps(t,Ln,Ci);break;case 3:if(Co(t,r),(r&130023424)===r&&(e=r1+500-Ct(),10<e)){if(zp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){On(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ax(Ps.bind(null,t,Ln,Ci),e);break}Ps(t,Ln,Ci);break;case 4:if(Co(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-qr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*p6(r/1960))-r,10<r){t.timeoutHandle=Ax(Ps.bind(null,t,Ln,Ci),r);break}Ps(t,Ln,Ci);break;case 5:Ps(t,Ln,Ci);break;default:throw Error(ue(329))}}}return zn(t,Ct()),t.callbackNode===n?uD.bind(null,t):null}function Hx(t,e){var n=Kc;return t.current.memoizedState.isDehydrated&&(Ys(t,e).flags|=256),t=am(t,e),t!==2&&(e=Ln,Ln=n,e!==null&&Wx(e)),t}function Wx(t){Ln===null?Ln=t:Ln.push.apply(Ln,t)}function m6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Qr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Co(t,e){for(e&=~n1,e&=~t0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qr(e),r=1<<n;t[n]=-1,e&=~r}}function LA(t){if(qe&6)throw Error(ue(327));vl();var e=zp(t,0);if(!(e&1))return zn(t,Ct()),null;var n=am(t,e);if(t.tag!==0&&n===2){var r=vx(t);r!==0&&(e=r,n=Hx(t,r))}if(n===1)throw n=Ad,Ys(t,0),Co(t,e),zn(t,Ct()),n;if(n===6)throw Error(ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ps(t,Ln,Ci),zn(t,Ct()),null}function i1(t,e){var n=qe;qe|=1;try{return t(e)}finally{qe=n,qe===0&&(Ml=Ct()+500,Xg&&cs())}}function sa(t){jo!==null&&jo.tag===0&&!(qe&6)&&vl();var e=qe;qe|=1;var n=wr.transition,r=nt;try{if(wr.transition=null,nt=1,t)return t()}finally{nt=r,wr.transition=n,qe=e,!(qe&6)&&cs()}}function o1(){Jn=il.current,mt(il)}function Ys(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qU(n)),Rt!==null)for(n=Rt.return;n!==null;){var r=n;switch(F_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kp();break;case 3:Rl(),mt(Un),mt(En),K_();break;case 5:W_(r);break;case 4:Rl();break;case 13:mt(vt);break;case 19:mt(vt);break;case 10:z_(r.type._context);break;case 22:case 23:o1()}n=n.return}if(Xt=t,Rt=t=Ko(t.current,null),ln=Jn=e,Vt=0,Ad=null,n1=t0=oa=0,Ln=Kc=null,Fs!==null){for(e=0;e<Fs.length;e++)if(n=Fs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Fs=null}return t}function cD(t,e){do{var n=Rt;try{if(B_(),vp.current=rm,nm){for(var r=wt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}nm=!1}if(ia=0,Kt=Lt=wt=null,Hc=!1,Ed=0,t1.current=null,n===null||n.return===null){Vt=1,Ad=e,Rt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=ln,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=TA(s);if(y!==null){y.flags&=-257,AA(y,s,a,o,e),y.mode&1&&SA(o,u,e),e=y,l=u;var v=e.updateQueue;if(v===null){var b=new Set;b.add(l),e.updateQueue=b}else v.add(l);break e}else{if(!(e&1)){SA(o,u,e),s1();break e}l=Error(ue(426))}}else if(gt&&a.mode&1){var x=TA(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),AA(x,s,a,o,e),V_(Ol(l,a));break e}}o=l=Ol(l,a),Vt!==4&&(Vt=2),Kc===null?Kc=[o]:Kc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=WM(o,l,e);vA(o,_);break e;case 1:a=l;var w=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ho===null||!Ho.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=KM(o,a,e);vA(o,C);break e}}o=o.return}while(o!==null)}hD(n)}catch(S){e=S,Rt===n&&n!==null&&(Rt=n=n.return);continue}break}while(!0)}function dD(){var t=im.current;return im.current=rm,t===null?rm:t}function s1(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Xt===null||!(oa&268435455)&&!(t0&268435455)||Co(Xt,ln)}function am(t,e){var n=qe;qe|=2;var r=dD();(Xt!==t||ln!==e)&&(Ci=null,Ys(t,e));do try{g6();break}catch(i){cD(t,i)}while(!0);if(B_(),qe=n,im.current=r,Rt!==null)throw Error(ue(261));return Xt=null,ln=0,Vt}function g6(){for(;Rt!==null;)fD(Rt)}function y6(){for(;Rt!==null&&!BV();)fD(Rt)}function fD(t){var e=mD(t.alternate,t,Jn);t.memoizedProps=t.pendingProps,e===null?hD(t):Rt=e,t1.current=null}function hD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=c6(n,e),n!==null){n.flags&=32767,Rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vt=6,Rt=null;return}}else if(n=u6(n,e,Jn),n!==null){Rt=n;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);Vt===0&&(Vt=5)}function Ps(t,e,n){var r=nt,i=wr.transition;try{wr.transition=null,nt=1,v6(t,e,n,r)}finally{wr.transition=i,nt=r}return null}function v6(t,e,n,r){do vl();while(jo!==null);if(qe&6)throw Error(ue(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ue(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(QV(t,o),t===Xt&&(Rt=Xt=null,ln=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lh||(Lh=!0,gD(Bp,function(){return vl(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=wr.transition,wr.transition=null;var s=nt;nt=1;var a=qe;qe|=4,t1.current=null,f6(t,n),aD(n,t),LU(Sx),Gp=!!Ex,Sx=Ex=null,t.current=n,h6(n),zV(),qe=a,nt=s,wr.transition=o}else t.current=n;if(Lh&&(Lh=!1,jo=t,sm=i),o=t.pendingLanes,o===0&&(Ho=null),HV(n.stateNode),zn(t,Ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(om)throw om=!1,t=Gx,Gx=null,t;return sm&1&&t.tag!==0&&vl(),o=t.pendingLanes,o&1?t===qx?Yc++:(Yc=0,qx=t):Yc=0,cs(),null}function vl(){if(jo!==null){var t=WO(sm),e=wr.transition,n=nt;try{if(wr.transition=null,nt=16>t?16:t,jo===null)var r=!1;else{if(t=jo,jo=null,sm=0,qe&6)throw Error(ue(331));var i=qe;for(qe|=4,ve=t.current;ve!==null;){var o=ve,s=o.child;if(ve.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ve=u;ve!==null;){var d=ve;switch(d.tag){case 0:case 11:case 15:Wc(8,d,o)}var f=d.child;if(f!==null)f.return=d,ve=f;else for(;ve!==null;){d=ve;var h=d.sibling,y=d.return;if(iD(d),d===u){ve=null;break}if(h!==null){h.return=y,ve=h;break}ve=y}}}var v=o.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}ve=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ve=s;else e:for(;ve!==null;){if(o=ve,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Wc(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,ve=_;break e}ve=o.return}}var w=t.current;for(ve=w;ve!==null;){s=ve;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,ve=E;else e:for(s=w;ve!==null;){if(a=ve,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:e0(9,a)}}catch(S){Tt(a,a.return,S)}if(a===s){ve=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,ve=C;break e}ve=a.return}}if(qe=i,cs(),ui&&typeof ui.onPostCommitFiberRoot=="function")try{ui.onPostCommitFiberRoot(Hg,t)}catch{}r=!0}return r}finally{nt=n,wr.transition=e}}return!1}function FA(t,e,n){e=Ol(n,e),e=WM(t,e,1),t=qo(t,e,1),e=On(),t!==null&&(If(t,1,e),zn(t,e))}function Tt(t,e,n){if(t.tag===3)FA(t,t,n);else for(;e!==null;){if(e.tag===3){FA(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ho===null||!Ho.has(r))){t=Ol(n,t),t=KM(e,t,1),e=qo(e,t,1),t=On(),e!==null&&(If(e,1,t),zn(e,t));break}}e=e.return}}function x6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=On(),t.pingedLanes|=t.suspendedLanes&n,Xt===t&&(ln&n)===n&&(Vt===4||Vt===3&&(ln&130023424)===ln&&500>Ct()-r1?Ys(t,0):n1|=n),zn(t,e)}function pD(t,e){e===0&&(t.mode&1?(e=Ih,Ih<<=1,!(Ih&130023424)&&(Ih=4194304)):e=1);var n=On();t=Yi(t,e),t!==null&&(If(t,e,n),zn(t,n))}function b6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),pD(t,n)}function w6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ue(314))}r!==null&&r.delete(e),pD(t,n)}var mD;mD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Un.current)Fn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Fn=!1,l6(t,e,n);Fn=!!(t.flags&131072)}else Fn=!1,gt&&e.flags&1048576&&xM(e,Xp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bp(t,e),t=e.pendingProps;var i=Cl(e,En.current);yl(e,n),i=J_(null,e,r,t,i,n);var o=X_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bn(r)?(o=!0,Yp(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,q_(e),i.updater=Zg,e.stateNode=i,i._reactInternals=e,Ox(e,r,t,n),e=jx(null,e,r,!0,o,n)):(e.tag=0,gt&&o&&L_(e),In(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=E6(r),t=$r(r,t),i){case 0:e=Dx(null,e,r,t,n);break e;case 1:e=CA(null,e,r,t,n);break e;case 11:e=kA(null,e,r,t,n);break e;case 14:e=IA(null,e,r,$r(r.type,t),n);break e}throw Error(ue(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$r(r,i),Dx(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$r(r,i),CA(t,e,r,i,n);case 3:e:{if(QM(e),t===null)throw Error(ue(387));r=e.pendingProps,o=e.memoizedState,i=o.element,TM(t,e),em(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ol(Error(ue(423)),e),e=NA(t,e,r,n,i);break e}else if(r!==i){i=Ol(Error(ue(424)),e),e=NA(t,e,r,n,i);break e}else for(Zn=Go(e.stateNode.containerInfo.firstChild),tr=e,gt=!0,Ur=null,n=EM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nl(),r===i){e=Ji(t,e,n);break e}In(t,e,r,n)}e=e.child}return e;case 5:return AM(e),t===null&&Nx(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Tx(r,i)?s=null:o!==null&&Tx(r,o)&&(e.flags|=32),XM(t,e),In(t,e,s,n),e.child;case 6:return t===null&&Nx(e),null;case 13:return ZM(t,e,n);case 4:return H_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Pl(e,null,r,n):In(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$r(r,i),kA(t,e,r,i,n);case 7:return In(t,e,e.pendingProps,n),e.child;case 8:return In(t,e,e.pendingProps.children,n),e.child;case 12:return In(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ct(Qp,r._currentValue),r._currentValue=s,o!==null)if(Qr(o.value,s)){if(o.children===i.children&&!Un.current){e=Ji(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Bi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Px(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ue(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Px(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}In(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yl(e,n),i=Sr(i),r=r(i),e.flags|=1,In(t,e,r,n),e.child;case 14:return r=e.type,i=$r(r,e.pendingProps),i=$r(r.type,i),IA(t,e,r,i,n);case 15:return YM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:$r(r,i),bp(t,e),e.tag=1,Bn(r)?(t=!0,Yp(e)):t=!1,yl(e,n),HM(e,r,i),Ox(e,r,i,n),jx(null,e,r,!0,t,n);case 19:return eD(t,e,n);case 22:return JM(t,e,n)}throw Error(ue(156,e.tag))};function gD(t,e){return zO(t,e)}function _6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(t,e,n,r){return new _6(t,e,n,r)}function a1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function E6(t){if(typeof t=="function")return a1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===A_)return 11;if(t===k_)return 14}return 2}function Ko(t,e){var n=t.alternate;return n===null?(n=xr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ep(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")a1(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ka:return Js(n.children,i,o,e);case T_:s=8,i|=8;break;case rx:return t=xr(12,n,e,i|2),t.elementType=rx,t.lanes=o,t;case ix:return t=xr(13,n,e,i),t.elementType=ix,t.lanes=o,t;case ox:return t=xr(19,n,e,i),t.elementType=ox,t.lanes=o,t;case AO:return n0(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case SO:s=10;break e;case TO:s=9;break e;case A_:s=11;break e;case k_:s=14;break e;case To:s=16,r=null;break e}throw Error(ue(130,t==null?t:typeof t,""))}return e=xr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Js(t,e,n,r){return t=xr(7,t,r,e),t.lanes=n,t}function n0(t,e,n,r){return t=xr(22,t,r,e),t.elementType=AO,t.lanes=n,t.stateNode={isHidden:!1},t}function sv(t,e,n){return t=xr(6,t,null,e),t.lanes=n,t}function av(t,e,n){return e=xr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function S6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uy(0),this.expirationTimes=Uy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function l1(t,e,n,r,i,o,s,a,l){return t=new S6(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=xr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},q_(o),t}function T6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yD(t){if(!t)return ns;t=t._reactInternals;e:{if(Ea(t)!==t||t.tag!==1)throw Error(ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ue(171))}if(t.tag===1){var n=t.type;if(Bn(n))return yM(t,n,e)}return e}function vD(t,e,n,r,i,o,s,a,l){return t=l1(n,r,!0,t,i,o,s,a,l),t.context=yD(null),n=t.current,r=On(),i=Wo(n),o=Bi(r,i),o.callback=e??null,qo(n,o,i),t.current.lanes=i,If(t,i,r),zn(t,r),t}function r0(t,e,n,r){var i=e.current,o=On(),s=Wo(i);return n=yD(n),e.context===null?e.context=n:e.pendingContext=n,e=Bi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qo(i,e,s),t!==null&&(Hr(t,i,s,o),yp(t,i,s)),s}function lm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function VA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function u1(t,e){VA(t,e),(t=t.alternate)&&VA(t,e)}function A6(){return null}var xD=typeof reportError=="function"?reportError:function(t){console.error(t)};function c1(t){this._internalRoot=t}i0.prototype.render=c1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ue(409));r0(t,e,null,null)};i0.prototype.unmount=c1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sa(function(){r0(null,t,null,null)}),e[Ki]=null}};function i0(t){this._internalRoot=t}i0.prototype.unstable_scheduleHydration=function(t){if(t){var e=JO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Io.length&&e!==0&&e<Io[n].priority;n++);Io.splice(n,0,t),n===0&&QO(t)}};function d1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function o0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function UA(){}function k6(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=lm(s);o.call(u)}}var s=vD(e,r,t,0,null,!1,!1,"",UA);return t._reactRootContainer=s,t[Ki]=s.current,vd(t.nodeType===8?t.parentNode:t),sa(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=lm(l);a.call(u)}}var l=l1(t,0,!1,null,null,!1,!1,"",UA);return t._reactRootContainer=l,t[Ki]=l.current,vd(t.nodeType===8?t.parentNode:t),sa(function(){r0(e,l,n,r)}),l}function s0(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=lm(s);a.call(l)}}r0(e,s,t,i)}else s=k6(n,e,t,i,r);return lm(s)}KO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Rc(e.pendingLanes);n!==0&&(N_(e,n|1),zn(e,Ct()),!(qe&6)&&(Ml=Ct()+500,cs()))}break;case 13:sa(function(){var r=Yi(t,1);if(r!==null){var i=On();Hr(r,t,1,i)}}),u1(t,1)}};P_=function(t){if(t.tag===13){var e=Yi(t,134217728);if(e!==null){var n=On();Hr(e,t,134217728,n)}u1(t,134217728)}};YO=function(t){if(t.tag===13){var e=Wo(t),n=Yi(t,e);if(n!==null){var r=On();Hr(n,t,e,r)}u1(t,e)}};JO=function(){return nt};XO=function(t,e){var n=nt;try{return nt=t,e()}finally{nt=n}};mx=function(t,e,n){switch(e){case"input":if(lx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Jg(r);if(!i)throw Error(ue(90));IO(r),lx(r,i)}}}break;case"textarea":NO(t,n);break;case"select":e=n.value,e!=null&&hl(t,!!n.multiple,e,!1)}};$O=i1;LO=sa;var I6={usingClientEntryPoint:!1,Events:[Nf,Qa,Jg,DO,jO,i1]},mc={findFiberByHostInstance:Ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C6={bundleType:mc.bundleType,version:mc.version,rendererPackageName:mc.rendererPackageName,rendererConfig:mc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:uo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=UO(t),t===null?null:t.stateNode},findFiberByHostInstance:mc.findFiberByHostInstance||A6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{Hg=Fh.inject(C6),ui=Fh}catch{}}ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I6;ar.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d1(e))throw Error(ue(200));return T6(t,e,null,n)};ar.createRoot=function(t,e){if(!d1(t))throw Error(ue(299));var n=!1,r="",i=xD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=l1(t,1,!1,null,null,n,!1,r,i),t[Ki]=e.current,vd(t.nodeType===8?t.parentNode:t),new c1(e)};ar.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ue(188)):(t=Object.keys(t).join(","),Error(ue(268,t)));return t=UO(e),t=t===null?null:t.stateNode,t};ar.flushSync=function(t){return sa(t)};ar.hydrate=function(t,e,n){if(!o0(e))throw Error(ue(200));return s0(null,t,e,!0,n)};ar.hydrateRoot=function(t,e,n){if(!d1(t))throw Error(ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=xD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=vD(e,null,t,1,n??null,i,!1,o,s),t[Ki]=e.current,vd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new i0(e)};ar.render=function(t,e,n){if(!o0(e))throw Error(ue(200));return s0(null,t,e,!1,n)};ar.unmountComponentAtNode=function(t){if(!o0(t))throw Error(ue(40));return t._reactRootContainer?(sa(function(){s0(null,null,t,!1,function(){t._reactRootContainer=null,t[Ki]=null})}),!0):!1};ar.unstable_batchedUpdates=i1;ar.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!o0(n))throw Error(ue(200));if(t==null||t._reactInternals===void 0)throw Error(ue(38));return s0(t,e,n,!1,r)};ar.version="18.3.1-next-f1338f8080-20240426";function bD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bD)}catch(t){console.error(t)}}bD(),bO.exports=ar;var N6=bO.exports,BA=N6;tx.createRoot=BA.createRoot,tx.hydrateRoot=BA.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ie=(t,e)=>{const n=U.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},d)=>U.createElement("svg",{ref:d,...P6,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${R6(t)}`,a].join(" "),...u},[...e.map(([f,h])=>U.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=ie("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=ie("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=ie("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=ie("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=ie("AppWindow",[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=ie("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=ie("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=ie("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=ie("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=ie("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=ie("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=ie("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=ie("BadgeAlert",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=ie("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=ie("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=ie("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=ie("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=ie("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=ie("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=ie("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=ie("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=ie("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=ie("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=ie("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=ie("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=ie("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=ie("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=ie("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=ie("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=ie("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=ie("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=ie("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=ie("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=ie("Ghost",[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=ie("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=ie("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=ie("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=ie("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=ie("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=ie("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=ie("Hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=ie("Infinity",[["path",{d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4Zm0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4Z",key:"1z0uae"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=ie("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=ie("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=ie("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=ie("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=ie("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=ie("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=ie("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=ie("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=ie("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=ie("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=ie("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=ie("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=ie("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=ie("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=ie("MessageSquareMore",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M16 10h.01",key:"1m94wz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=ie("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=ie("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=ie("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=ie("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=ie("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=ie("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=ie("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=ie("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=ie("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=ie("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=ie("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=ie("PinOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V17h12",key:"13x2n8"}],["path",{d:"M15 9.34V6h1a2 2 0 0 0 0-4H7.89",key:"reo3ki"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=ie("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=ie("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=ie("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=ie("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=ie("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=ie("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=ie("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=ie("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=ie("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=ie("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=ie("Sigma",[["path",{d:"M18 7V4H6l6 8-6 8h12v-3",key:"zis8ev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=ie("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=ie("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=ie("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=ie("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=ie("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=ie("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=ie("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=ie("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=ie("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=ie("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=ie("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=ie("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var ge=(t=>(t.DASHBOARD="DASHBOARD",t.TRANSACTIONS="TRANSACTIONS",t.INVESTMENTS="INVESTMENTS",t.BUDGETS="BUDGETS",t.SUBSCRIPTIONS="SUBSCRIPTIONS",t.CALENDAR="CALENDAR",t.AI_ASSISTANT="AI_ASSISTANT",t.DEBTS="DEBTS",t.SHOPPING_LIST="SHOPPING_LIST",t.WEALTH_PLANNER="WEALTH_PLANNER",t.KANBAN="KANBAN",t.NOTES="NOTES",t.SETTINGS="SETTINGS",t))(ge||{}),YA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},NB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},RD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,y=u&63;l||(y=64,s||(h=64)),r.push(n[d],n[f],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new PB;const h=o<<2|a>>4;if(r.push(h),u!==64){const y=a<<4&240|u>>2;if(r.push(y),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RB=function(t){const e=PD(t);return RD.encodeByteArray(e,!0)},OD=function(t){return RB(t).replace(/\./g,"")},MD=function(t){try{return RD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB=()=>OB().__FIREBASE_DEFAULTS__,DB=()=>{if(typeof process>"u"||typeof YA>"u")return;const t=YA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&MD(t[1]);return e&&JSON.parse(e)},c0=()=>{try{return MB()||DB()||jB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$B=t=>{var e,n;return(n=(e=c0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},DD=()=>{var t;return(t=c0())===null||t===void 0?void 0:t.config},jD=t=>{var e;return(e=c0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function VB(){var t;const e=(t=c0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GB(){const t=Sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qB(){return!VB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HB(){try{return typeof indexedDB=="object"}catch{return!1}}function WB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KB="FirebaseError";class co extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KB,Object.setPrototypeOf(this,co.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Of.prototype.create)}}class Of{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?YB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new co(i,a,r)}}function YB(t,e){return t.replace(JB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const JB=/\{\$([^}]+)}/g;function XB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(JA(o)&&JA(s)){if(!Nd(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function JA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Dc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function QB(t,e){const n=new ZB(t,e);return n.subscribe.bind(n)}class ZB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");e8(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=dv),i.error===void 0&&(i.error=dv),i.complete===void 0&&(i.complete=dv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function e8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){return t&&t._delegate?t._delegate:t}class ua{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new LB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(r8(e))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rs){return this.instances.has(e)}getOptions(e=Rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:n8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Rs){return this.component?this.component.multipleInstances?e:Rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function n8(t){return t===Rs?void 0:t}function r8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new t8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ze||(ze={}));const o8={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},s8=ze.INFO,a8={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},l8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=a8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class w1{constructor(e){this.name=e,this._logLevel=s8,this._logHandler=l8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?o8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const u8=(t,e)=>e.some(n=>t instanceof n);let XA,QA;function c8(){return XA||(XA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function d8(){return QA||(QA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $D=new WeakMap,nb=new WeakMap,LD=new WeakMap,fv=new WeakMap,_1=new WeakMap;function f8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Yo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&$D.set(n,t)}).catch(()=>{}),_1.set(e,t),e}function h8(t){if(nb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});nb.set(t,e)}let rb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function p8(t){rb=t(rb)}function m8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(hv(this),e,...n);return LD.set(r,e.sort?e.sort():[e]),Yo(r)}:d8().includes(t)?function(...e){return t.apply(hv(this),e),Yo($D.get(this))}:function(...e){return Yo(t.apply(hv(this),e))}}function g8(t){return typeof t=="function"?m8(t):(t instanceof IDBTransaction&&h8(t),u8(t,c8())?new Proxy(t,rb):t)}function Yo(t){if(t instanceof IDBRequest)return f8(t);if(fv.has(t))return fv.get(t);const e=g8(t);return e!==t&&(fv.set(t,e),_1.set(e,t)),e}const hv=t=>_1.get(t);function y8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Yo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Yo(s.result),l.oldVersion,l.newVersion,Yo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const v8=["get","getKey","getAll","getAllKeys","count"],x8=["put","add","delete","clear"],pv=new Map;function ZA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pv.get(e))return pv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=x8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||v8.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return pv.set(e,o),o}p8(t=>({...t,get:(e,n,r)=>ZA(e,n)||t.get(e,n,r),has:(e,n)=>!!ZA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(w8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function w8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ib="@firebase/app",ek="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new w1("@firebase/app"),_8="@firebase/app-compat",E8="@firebase/analytics-compat",S8="@firebase/analytics",T8="@firebase/app-check-compat",A8="@firebase/app-check",k8="@firebase/auth",I8="@firebase/auth-compat",C8="@firebase/database",N8="@firebase/data-connect",P8="@firebase/database-compat",R8="@firebase/functions",O8="@firebase/functions-compat",M8="@firebase/installations",D8="@firebase/installations-compat",j8="@firebase/messaging",$8="@firebase/messaging-compat",L8="@firebase/performance",F8="@firebase/performance-compat",V8="@firebase/remote-config",U8="@firebase/remote-config-compat",B8="@firebase/storage",z8="@firebase/storage-compat",G8="@firebase/firestore",q8="@firebase/vertexai-preview",H8="@firebase/firestore-compat",W8="firebase",K8="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="[DEFAULT]",Y8={[ib]:"fire-core",[_8]:"fire-core-compat",[S8]:"fire-analytics",[E8]:"fire-analytics-compat",[A8]:"fire-app-check",[T8]:"fire-app-check-compat",[k8]:"fire-auth",[I8]:"fire-auth-compat",[C8]:"fire-rtdb",[N8]:"fire-data-connect",[P8]:"fire-rtdb-compat",[R8]:"fire-fn",[O8]:"fire-fn-compat",[M8]:"fire-iid",[D8]:"fire-iid-compat",[j8]:"fire-fcm",[$8]:"fire-fcm-compat",[L8]:"fire-perf",[F8]:"fire-perf-compat",[V8]:"fire-rc",[U8]:"fire-rc-compat",[B8]:"fire-gcs",[z8]:"fire-gcs-compat",[G8]:"fire-fst",[H8]:"fire-fst-compat",[q8]:"fire-vertex","fire-js":"fire-js",[W8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=new Map,J8=new Map,sb=new Map;function tk(t,e){try{t.container.addComponent(e)}catch(n){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jl(t){const e=t.name;if(sb.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;sb.set(e,t);for(const n of gm.values())tk(n,t);for(const n of J8.values())tk(n,t);return!0}function E1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jo=new Of("app","Firebase",X8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=K8;function FD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ob,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Jo.create("bad-app-name",{appName:String(i)});if(n||(n=DD()),!n)throw Jo.create("no-options");const o=gm.get(i);if(o){if(Nd(n,o.options)&&Nd(r,o.config))return o;throw Jo.create("duplicate-app",{appName:i})}const s=new i8(i);for(const l of sb.values())s.addComponent(l);const a=new Q8(n,r,s);return gm.set(i,a),a}function Z8(t=ob){const e=gm.get(t);if(!e&&t===ob&&DD())return FD();if(!e)throw Jo.create("no-app",{appName:t});return e}function Xo(t,e,n){var r;let i=(r=Y8[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(a.join(" "));return}jl(new ua(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7="firebase-heartbeat-database",t7=1,Pd="firebase-heartbeat-store";let mv=null;function VD(){return mv||(mv=y8(e7,t7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jo.create("idb-open",{originalErrorMessage:t.message})})),mv}async function n7(t){try{const n=(await VD()).transaction(Pd),r=await n.objectStore(Pd).get(UD(t));return await n.done,r}catch(e){if(e instanceof co)Zi.warn(e.message);else{const n=Jo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zi.warn(n.message)}}}async function nk(t,e){try{const r=(await VD()).transaction(Pd,"readwrite");await r.objectStore(Pd).put(e,UD(t)),await r.done}catch(n){if(n instanceof co)Zi.warn(n.message);else{const r=Jo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zi.warn(r.message)}}}function UD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7=1024,i7=30*24*60*60*1e3;class o7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new a7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=rk();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=i7}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Zi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rk(),{heartbeatsToSend:r,unsentEntries:i}=s7(this._heartbeatsCache.heartbeats),o=OD(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Zi.warn(n),""}}}function rk(){return new Date().toISOString().substring(0,10)}function s7(t,e=r7){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),ik(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ik(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class a7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HB()?WB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await n7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return nk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return nk(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ik(t){return OD(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l7(t){jl(new ua("platform-logger",e=>new b8(e),"PRIVATE")),jl(new ua("heartbeat",e=>new o7(e),"PRIVATE")),Xo(ib,ek,t),Xo(ib,ek,"esm2017"),Xo("fire-js","")}l7("");var u7="firebase",c7="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xo(u7,c7,"app");function S1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function BD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const d7=BD,zD=new Of("auth","Firebase",BD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=new w1("@firebase/auth");function f7(t,...e){ym.logLevel<=ze.WARN&&ym.warn(`Auth (${wu}): ${t}`,...e)}function Ap(t,...e){ym.logLevel<=ze.ERROR&&ym.error(`Auth (${wu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t,...e){throw A1(t,...e)}function Wr(t,...e){return A1(t,...e)}function T1(t,e,n){const r=Object.assign(Object.assign({},d7()),{[e]:n});return new Of("auth","Firebase",r).create(e,{appName:t.name})}function zi(t){return T1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function h7(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ar(t,"argument-error"),T1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function A1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zD.create(t,...e)}function Ie(t,e,...n){if(!t)throw A1(e,...n)}function Di(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ap(e),new Error(e)}function eo(t,e){t||Di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function p7(){return ok()==="http:"||ok()==="https:"}function ok(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p7()||BB()||"connection"in navigator)?navigator.onLine:!0}function g7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n){this.shortDelay=e,this.longDelay=n,eo(n>e,"Short delay should be less than long delay!"),this.isMobile=FB()||zB()}get(){return m7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(t,e){eo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7=new Df(3e4,6e4);function ds(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function fs(t,e,n,r,i={}){return qD(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Mf(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return UB()||(u.referrerPolicy="no-referrer"),GD.fetch()(HD(t,t.config.apiHost,n,a),u)})}async function qD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},y7),e);try{const i=new b7(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Uh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uh(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Uh(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Uh(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw T1(t,d,u);Ar(t,d)}}catch(i){if(i instanceof co)throw i;Ar(t,"network-request-failed",{message:String(i)})}}async function jf(t,e,n,r,i={}){const o=await fs(t,e,n,r,i);return"mfaPendingCredential"in o&&Ar(t,"multi-factor-auth-required",{_serverResponse:o}),o}function HD(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?k1(t.config,i):`${t.config.apiScheme}://${i}`}function x7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class b7{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Wr(this.auth,"network-request-failed")),v7.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Wr(t,e,r);return i.customData._tokenResponse=n,i}function sk(t){return t!==void 0&&t.enterprise!==void 0}class w7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return x7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function _7(t,e){return fs(t,"GET","/v2/recaptchaConfig",ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E7(t,e){return fs(t,"POST","/v1/accounts:delete",e)}async function WD(t,e){return fs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function S7(t,e=!1){const n=kt(t),r=await n.getIdToken(e),i=I1(r);Ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Jc(gv(i.auth_time)),issuedAtTime:Jc(gv(i.iat)),expirationTime:Jc(gv(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function gv(t){return Number(t)*1e3}function I1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ap("JWT malformed, contained fewer than 3 sections"),null;try{const i=MD(n);return i?JSON.parse(i):(Ap("Failed to decode base64 JWT payload"),null)}catch(i){return Ap("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function ak(t){const e=I1(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof co&&T7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function T7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jc(this.lastLoginAt),this.creationTime=Jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Rd(t,WD(n,{idToken:r}));Ie(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?KD(o.providerUserInfo):[],a=I7(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new lb(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function k7(t){const e=kt(t);await vm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function I7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KD(t){return t.map(e=>{var{providerId:n}=e,r=S1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C7(t,e){const n=await qD(t,{},async()=>{const r=Mf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=HD(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",GD.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function N7(t,e){return fs(t,"POST","/v2/accounts:revokeToken",ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ak(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=ak(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await C7(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new xl;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ie(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ie(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new xl,this.toJSON())}_performRefresh(){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ji{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=S1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new A7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new lb(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Rd(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return S7(this,e)}reload(){return k7(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ji(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gr(this.auth.app))return Promise.reject(zi(this.auth));const e=await this.getIdToken();return await Rd(this,E7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:C,isAnonymous:S,providerData:I,stsTokenManager:k}=n;Ie(E&&k,e,"internal-error");const T=xl.fromJSON(this.name,k);Ie(typeof E=="string",e,"internal-error"),Eo(f,e.name),Eo(h,e.name),Ie(typeof C=="boolean",e,"internal-error"),Ie(typeof S=="boolean",e,"internal-error"),Eo(y,e.name),Eo(v,e.name),Eo(b,e.name),Eo(x,e.name),Eo(_,e.name),Eo(w,e.name);const N=new ji({uid:E,auth:e,email:h,emailVerified:C,displayName:f,isAnonymous:S,photoURL:v,phoneNumber:y,tenantId:b,stsTokenManager:T,createdAt:_,lastLoginAt:w});return I&&Array.isArray(I)&&(N.providerData=I.map(M=>Object.assign({},M))),x&&(N._redirectEventId=x),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new xl;i.updateFromServerResponse(n);const o=new ji({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await vm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ie(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?KD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new xl;a.updateFromIdToken(r);const l=new ji({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new lb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=new Map;function $i(t){eo(t instanceof Function,"Expected a class definition");let e=lk.get(t);return e?(eo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lk.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}YD.type="NONE";const uk=YD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(t,e,n){return`firebase:${t}:${e}:${n}`}class bl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=kp(this.userKey,i.apiKey,o),this.fullPersistenceKey=kp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ji._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bl($i(uk),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||$i(uk);const s=kp(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(s);if(d){const f=ji._fromJSON(e,d);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new bl(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new bl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tj(e))return"Blackberry";if(nj(e))return"Webos";if(XD(e))return"Safari";if((e.includes("chrome/")||QD(e))&&!e.includes("edge/"))return"Chrome";if(ej(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function JD(t=Sn()){return/firefox\//i.test(t)}function XD(t=Sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QD(t=Sn()){return/crios\//i.test(t)}function ZD(t=Sn()){return/iemobile/i.test(t)}function ej(t=Sn()){return/android/i.test(t)}function tj(t=Sn()){return/blackberry/i.test(t)}function nj(t=Sn()){return/webos/i.test(t)}function C1(t=Sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function P7(t=Sn()){var e;return C1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function R7(){return GB()&&document.documentMode===10}function rj(t=Sn()){return C1(t)||ej(t)||nj(t)||tj(t)||/windows phone/i.test(t)||ZD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(t,e=[]){let n;switch(t){case"Browser":n=ck(Sn());break;case"Worker":n=`${ck(Sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M7(t,e={}){return fs(t,"GET","/v2/passwordPolicy",ds(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7=6;class j7{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:D7,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dk(this),this.idTokenSubscription=new dk(this),this.beforeStateQueue=new O7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$i(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await bl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await WD(this,{idToken:e}),r=await ji._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=g7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gr(this.app))return Promise.reject(zi(this));const n=e?kt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gr(this.app)?Promise.reject(zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gr(this.app)?Promise.reject(zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await M7(this),n=new j7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Of("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await N7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$i(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await bl.create(this,[$i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ij(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&f7(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function hs(t){return kt(t)}class dk{constructor(e){this.auth=e,this.observer=null,this.addObserver=QB(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function L7(t){d0=t}function oj(t){return d0.loadJS(t)}function F7(){return d0.recaptchaEnterpriseScript}function V7(){return d0.gapiScript}function U7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const B7="recaptcha-enterprise",z7="NO_RECAPTCHA";class G7{constructor(e){this.type=B7,this.auth=hs(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{_7(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new w7(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;sk(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(z7)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&sk(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=F7();l.length!==0&&(l+=a),oj(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function fk(t,e,n,r=!1){const i=new G7(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function ub(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await fk(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await fk(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(t,e){const n=E1(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Nd(o,e??{}))return i;Ar(i,"already-initialized")}return n.initialize({options:e})}function H7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map($i);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function W7(t,e,n){const r=hs(t);Ie(r._canInitEmulator,r,"emulator-config-failed"),Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=sj(e),{host:s,port:a}=K7(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),Y7()}function sj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function K7(t){const e=sj(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:hk(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:hk(s)}}}function hk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Y7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,n){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}}async function J7(t,e){return fs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X7(t,e){return jf(t,"POST","/v1/accounts:signInWithPassword",ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q7(t,e){return jf(t,"POST","/v1/accounts:signInWithEmailLink",ds(t,e))}async function Z7(t,e){return jf(t,"POST","/v1/accounts:signInWithEmailLink",ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od extends N1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Od(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Od(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ub(e,n,"signInWithPassword",X7);case"emailLink":return Q7(e,{email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ub(e,r,"signUpPassword",J7);case"emailLink":return Z7(e,{idToken:n,email:this._email,oobCode:this._password});default:Ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(t,e){return jf(t,"POST","/v1/accounts:signInWithIdp",ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9="http://localhost";class ca extends N1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=S1(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new ca(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return wl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,wl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wl(e,n)}buildRequest(){const e={requestUri:e9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Mf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function n9(t){const e=Mc(Dc(t)).link,n=e?Mc(Dc(e)).deep_link_id:null,r=Mc(Dc(t)).deep_link_id;return(r?Mc(Dc(r)).link:null)||r||n||e||t}class P1{constructor(e){var n,r,i,o,s,a;const l=Mc(Dc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=t9((i=l.mode)!==null&&i!==void 0?i:null);Ie(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=n9(e);try{return new P1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(){this.providerId=_u.PROVIDER_ID}static credential(e,n){return Od._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=P1.parseLink(n);return Ie(r,"argument-error"),Od._fromEmailAndCode(e,r.code,r.tenantId)}}_u.PROVIDER_ID="password";_u.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_u.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f extends R1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends $f{constructor(){super("facebook.com")}static credential(e){return ca._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return No.credentialFromTaggedObject(e)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return No.credential(e.oauthAccessToken)}catch{return null}}}No.FACEBOOK_SIGN_IN_METHOD="facebook.com";No.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends $f{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ca._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Br.credential(n,r)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends $f{constructor(){super("github.com")}static credential(e){return ca._fromParams({providerId:Po.PROVIDER_ID,signInMethod:Po.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Po.credentialFromTaggedObject(e)}static credentialFromError(e){return Po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Po.credential(e.oauthAccessToken)}catch{return null}}}Po.GITHUB_SIGN_IN_METHOD="github.com";Po.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends $f{constructor(){super("twitter.com")}static credential(e,n){return ca._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ro.credential(n,r)}catch{return null}}}Ro.TWITTER_SIGN_IN_METHOD="twitter.com";Ro.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r9(t,e){return jf(t,"POST","/v1/accounts:signUp",ds(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ji._fromIdTokenResponse(e,r,i),s=pk(r);return new da({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=pk(r);return new da({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function pk(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm extends co{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,xm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new xm(e,n,r,i)}}function aj(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?xm._fromErrorAndOperation(t,o,e,r):o})}async function i9(t,e,n=!1){const r=await Rd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return da._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o9(t,e,n=!1){const{auth:r}=t;if(Gr(r.app))return Promise.reject(zi(r));const i="reauthenticate";try{const o=await Rd(t,aj(r,i,e,t),n);Ie(o.idToken,r,"internal-error");const s=I1(o.idToken);Ie(s,r,"internal-error");const{sub:a}=s;return Ie(t.uid===a,r,"user-mismatch"),da._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ar(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(t,e,n=!1){if(Gr(t.app))return Promise.reject(zi(t));const r="signIn",i=await aj(t,r,e),o=await da._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function s9(t,e){return lj(hs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uj(t){const e=hs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function a9(t,e,n){if(Gr(t.app))return Promise.reject(zi(t));const r=hs(t),s=await ub(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",r9).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&uj(t),l}),a=await da._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function l9(t,e,n){return Gr(t.app)?Promise.reject(zi(t)):s9(kt(t),_u.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&uj(t),r})}function u9(t,e,n,r){return kt(t).onIdTokenChanged(e,n,r)}function c9(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}function d9(t,e,n,r){return kt(t).onAuthStateChanged(e,n,r)}function f9(t){return kt(t).signOut()}const bm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bm,"1"),this.storage.removeItem(bm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=1e3,p9=10;class dj extends cj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rj(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);R7()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,p9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},h9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dj.type="LOCAL";const m9=dj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj extends cj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fj.type="SESSION";const hj=fj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new f0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await g9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}f0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=O1("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return window}function v9(t){di().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(){return typeof di().WorkerGlobalScope<"u"&&typeof di().importScripts=="function"}async function x9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function b9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function w9(){return pj()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj="firebaseLocalStorageDb",_9=1,wm="firebaseLocalStorage",gj="fbase_key";class Lf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function h0(t,e){return t.transaction([wm],e?"readwrite":"readonly").objectStore(wm)}function E9(){const t=indexedDB.deleteDatabase(mj);return new Lf(t).toPromise()}function cb(){const t=indexedDB.open(mj,_9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wm,{keyPath:gj})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wm)?e(r):(r.close(),await E9(),e(await cb()))})})}async function mk(t,e,n){const r=h0(t,!0).put({[gj]:e,value:n});return new Lf(r).toPromise()}async function S9(t,e){const n=h0(t,!1).get(e),r=await new Lf(n).toPromise();return r===void 0?null:r.value}function gk(t,e){const n=h0(t,!0).delete(e);return new Lf(n).toPromise()}const T9=800,A9=3;class yj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>A9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=f0._getInstance(w9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await x9(),!this.activeServiceWorker)return;this.sender=new y9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||b9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cb();return await mk(e,bm,"1"),await gk(e,bm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>mk(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>S9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>gk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=h0(i,!1).getAll();return new Lf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yj.type="LOCAL";const k9=yj;new Df(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(t,e){return e?$i(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1 extends N1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function I9(t){return lj(t.auth,new M1(t),t.bypassAuthState)}function C9(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),o9(n,new M1(t),t.bypassAuthState)}async function N9(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),i9(n,new M1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return I9;case"linkViaPopup":case"linkViaRedirect":return N9;case"reauthViaPopup":case"reauthViaRedirect":return C9;default:Ar(this.auth,"internal-error")}}resolve(e){eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){eo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=new Df(2e3,1e4);async function bj(t,e,n){if(Gr(t.app))return Promise.reject(Wr(t,"operation-not-supported-in-this-environment"));const r=hs(t);h7(t,e,R1);const i=vj(r,n);return new Bs(r,"signInViaPopup",e,i).executeNotNull()}class Bs extends xj{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Bs.currentPopupAction&&Bs.currentPopupAction.cancel(),Bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){eo(this.filter.length===1,"Popup operations only handle one event");const e=O1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,P9.get())};e()}}Bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9="pendingRedirect",Ip=new Map;class O9 extends xj{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ip.get(this.auth._key());if(!e){try{const r=await M9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ip.set(this.auth._key(),e)}return this.bypassAuthState||Ip.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function M9(t,e){const n=$9(e),r=j9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function D9(t,e){Ip.set(t._key(),e)}function j9(t){return $i(t._redirectPersistence)}function $9(t){return kp(R9,t.config.apiKey,t.name)}async function L9(t,e,n=!1){if(Gr(t.app))return Promise.reject(zi(t));const r=hs(t),i=vj(r,e),s=await new O9(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F9=10*60*1e3;class V9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!U9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wj(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Wr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=F9&&this.cachedEventUids.clear(),this.cachedEventUids.has(yk(e))}saveEventToCache(e){this.cachedEventUids.add(yk(e)),this.lastProcessedEventTime=Date.now()}}function yk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wj({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function U9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wj(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B9(t,e={}){return fs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G9=/^https?/;async function q9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await B9(t);for(const n of e)try{if(H9(n))return}catch{}Ar(t,"unauthorized-domain")}function H9(t){const e=ab(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!G9.test(n))return!1;if(z9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9=new Df(3e4,6e4);function vk(){const t=di().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function K9(t){return new Promise((e,n)=>{var r,i,o;function s(){vk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vk(),n(Wr(t,"network-request-failed"))},timeout:W9.get()})}if(!((i=(r=di().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=di().gapi)===null||o===void 0)&&o.load)s();else{const a=U7("iframefcb");return di()[a]=()=>{gapi.load?s():n(Wr(t,"network-request-failed"))},oj(`${V7()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Cp=null,e})}let Cp=null;function Y9(t){return Cp=Cp||K9(t),Cp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=new Df(5e3,15e3),X9="__/auth/iframe",Q9="emulator/auth/iframe",Z9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ez=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tz(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?k1(e,Q9):`https://${t.config.authDomain}/${X9}`,r={apiKey:e.apiKey,appName:t.name,v:wu},i=ez.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Mf(r).slice(1)}`}async function nz(t){const e=await Y9(t),n=di().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:tz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Z9,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Wr(t,"network-request-failed"),a=di().setTimeout(()=>{o(s)},J9.get());function l(){di().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iz=500,oz=600,sz="_blank",az="http://localhost";class xk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lz(t,e,n,r=iz,i=oz){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},rz),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Sn().toLowerCase();n&&(a=QD(u)?sz:n),JD(u)&&(e=e||az,l.scrollbars="yes");const d=Object.entries(l).reduce((h,[y,v])=>`${h}${y}=${v},`,"");if(P7(u)&&a!=="_self")return uz(e||"",a),new xk(null);const f=window.open(e||"",a,d);Ie(f,t,"popup-blocked");try{f.focus()}catch{}return new xk(f)}function uz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz="__/auth/handler",dz="emulator/auth/handler",fz=encodeURIComponent("fac");async function bk(t,e,n,r,i,o){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:wu,eventId:i};if(e instanceof R1){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",XB(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))s[d]=f}if(e instanceof $f){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${fz}=${encodeURIComponent(l)}`:"";return`${hz(t)}?${Mf(a).slice(1)}${u}`}function hz({config:t}){return t.emulator?k1(t,dz):`https://${t.authDomain}/${cz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="webStorageSupport";class pz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hj,this._completeRedirectFn=L9,this._overrideRedirectResult=D9}async _openPopup(e,n,r,i){var o;eo((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await bk(e,n,r,ab(),i);return lz(e,s,O1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await bk(e,n,r,ab(),i);return v9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(eo(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await nz(e),r=new V9(e);return n.register("authEvent",i=>(Ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yv,{type:yv},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[yv];s!==void 0&&n(!!s),Ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=q9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rj()||XD()||C1()}}const mz=pz;var wk="@firebase/auth",_k="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vz(t){jl(new ua("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ie(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ij(t)},u=new $7(r,i,o,l);return H7(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),jl(new ua("auth-internal",e=>{const n=hs(e.getProvider("auth").getImmediate());return(r=>new gz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xo(wk,_k,yz(t)),Xo(wk,_k,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xz=5*60,bz=jD("authIdTokenMaxAge")||xz;let Ek=null;const wz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bz)return;const i=n==null?void 0:n.token;Ek!==i&&(Ek=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _z(t=Z8()){const e=E1(t,"auth");if(e.isInitialized())return e.getImmediate();const n=q7(t,{popupRedirectResolver:mz,persistence:[k9,m9,hj]}),r=jD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=wz(o.toString());c9(n,s,()=>s(n.currentUser)),u9(n,a=>s(a))}}const i=$B("auth");return i&&W7(n,`http://${i}`),n}function Ez(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}L7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Wr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Ez().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vz("Browser");var Sk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qs,_j;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,T){function N(){}N.prototype=T.prototype,k.D=T.prototype,k.prototype=new N,k.prototype.constructor=k,k.C=function(M,D,j){for(var O=Array(arguments.length-2),q=2;q<arguments.length;q++)O[q-2]=arguments[q];return T.prototype[D].apply(M,O)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,T,N){N||(N=0);var M=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)M[D]=T.charCodeAt(N++)|T.charCodeAt(N++)<<8|T.charCodeAt(N++)<<16|T.charCodeAt(N++)<<24;else for(D=0;16>D;++D)M[D]=T[N++]|T[N++]<<8|T[N++]<<16|T[N++]<<24;T=k.g[0],N=k.g[1],D=k.g[2];var j=k.g[3],O=T+(j^N&(D^j))+M[0]+3614090360&4294967295;T=N+(O<<7&4294967295|O>>>25),O=j+(D^T&(N^D))+M[1]+3905402710&4294967295,j=T+(O<<12&4294967295|O>>>20),O=D+(N^j&(T^N))+M[2]+606105819&4294967295,D=j+(O<<17&4294967295|O>>>15),O=N+(T^D&(j^T))+M[3]+3250441966&4294967295,N=D+(O<<22&4294967295|O>>>10),O=T+(j^N&(D^j))+M[4]+4118548399&4294967295,T=N+(O<<7&4294967295|O>>>25),O=j+(D^T&(N^D))+M[5]+1200080426&4294967295,j=T+(O<<12&4294967295|O>>>20),O=D+(N^j&(T^N))+M[6]+2821735955&4294967295,D=j+(O<<17&4294967295|O>>>15),O=N+(T^D&(j^T))+M[7]+4249261313&4294967295,N=D+(O<<22&4294967295|O>>>10),O=T+(j^N&(D^j))+M[8]+1770035416&4294967295,T=N+(O<<7&4294967295|O>>>25),O=j+(D^T&(N^D))+M[9]+2336552879&4294967295,j=T+(O<<12&4294967295|O>>>20),O=D+(N^j&(T^N))+M[10]+4294925233&4294967295,D=j+(O<<17&4294967295|O>>>15),O=N+(T^D&(j^T))+M[11]+2304563134&4294967295,N=D+(O<<22&4294967295|O>>>10),O=T+(j^N&(D^j))+M[12]+1804603682&4294967295,T=N+(O<<7&4294967295|O>>>25),O=j+(D^T&(N^D))+M[13]+4254626195&4294967295,j=T+(O<<12&4294967295|O>>>20),O=D+(N^j&(T^N))+M[14]+2792965006&4294967295,D=j+(O<<17&4294967295|O>>>15),O=N+(T^D&(j^T))+M[15]+1236535329&4294967295,N=D+(O<<22&4294967295|O>>>10),O=T+(D^j&(N^D))+M[1]+4129170786&4294967295,T=N+(O<<5&4294967295|O>>>27),O=j+(N^D&(T^N))+M[6]+3225465664&4294967295,j=T+(O<<9&4294967295|O>>>23),O=D+(T^N&(j^T))+M[11]+643717713&4294967295,D=j+(O<<14&4294967295|O>>>18),O=N+(j^T&(D^j))+M[0]+3921069994&4294967295,N=D+(O<<20&4294967295|O>>>12),O=T+(D^j&(N^D))+M[5]+3593408605&4294967295,T=N+(O<<5&4294967295|O>>>27),O=j+(N^D&(T^N))+M[10]+38016083&4294967295,j=T+(O<<9&4294967295|O>>>23),O=D+(T^N&(j^T))+M[15]+3634488961&4294967295,D=j+(O<<14&4294967295|O>>>18),O=N+(j^T&(D^j))+M[4]+3889429448&4294967295,N=D+(O<<20&4294967295|O>>>12),O=T+(D^j&(N^D))+M[9]+568446438&4294967295,T=N+(O<<5&4294967295|O>>>27),O=j+(N^D&(T^N))+M[14]+3275163606&4294967295,j=T+(O<<9&4294967295|O>>>23),O=D+(T^N&(j^T))+M[3]+4107603335&4294967295,D=j+(O<<14&4294967295|O>>>18),O=N+(j^T&(D^j))+M[8]+1163531501&4294967295,N=D+(O<<20&4294967295|O>>>12),O=T+(D^j&(N^D))+M[13]+2850285829&4294967295,T=N+(O<<5&4294967295|O>>>27),O=j+(N^D&(T^N))+M[2]+4243563512&4294967295,j=T+(O<<9&4294967295|O>>>23),O=D+(T^N&(j^T))+M[7]+1735328473&4294967295,D=j+(O<<14&4294967295|O>>>18),O=N+(j^T&(D^j))+M[12]+2368359562&4294967295,N=D+(O<<20&4294967295|O>>>12),O=T+(N^D^j)+M[5]+4294588738&4294967295,T=N+(O<<4&4294967295|O>>>28),O=j+(T^N^D)+M[8]+2272392833&4294967295,j=T+(O<<11&4294967295|O>>>21),O=D+(j^T^N)+M[11]+1839030562&4294967295,D=j+(O<<16&4294967295|O>>>16),O=N+(D^j^T)+M[14]+4259657740&4294967295,N=D+(O<<23&4294967295|O>>>9),O=T+(N^D^j)+M[1]+2763975236&4294967295,T=N+(O<<4&4294967295|O>>>28),O=j+(T^N^D)+M[4]+1272893353&4294967295,j=T+(O<<11&4294967295|O>>>21),O=D+(j^T^N)+M[7]+4139469664&4294967295,D=j+(O<<16&4294967295|O>>>16),O=N+(D^j^T)+M[10]+3200236656&4294967295,N=D+(O<<23&4294967295|O>>>9),O=T+(N^D^j)+M[13]+681279174&4294967295,T=N+(O<<4&4294967295|O>>>28),O=j+(T^N^D)+M[0]+3936430074&4294967295,j=T+(O<<11&4294967295|O>>>21),O=D+(j^T^N)+M[3]+3572445317&4294967295,D=j+(O<<16&4294967295|O>>>16),O=N+(D^j^T)+M[6]+76029189&4294967295,N=D+(O<<23&4294967295|O>>>9),O=T+(N^D^j)+M[9]+3654602809&4294967295,T=N+(O<<4&4294967295|O>>>28),O=j+(T^N^D)+M[12]+3873151461&4294967295,j=T+(O<<11&4294967295|O>>>21),O=D+(j^T^N)+M[15]+530742520&4294967295,D=j+(O<<16&4294967295|O>>>16),O=N+(D^j^T)+M[2]+3299628645&4294967295,N=D+(O<<23&4294967295|O>>>9),O=T+(D^(N|~j))+M[0]+4096336452&4294967295,T=N+(O<<6&4294967295|O>>>26),O=j+(N^(T|~D))+M[7]+1126891415&4294967295,j=T+(O<<10&4294967295|O>>>22),O=D+(T^(j|~N))+M[14]+2878612391&4294967295,D=j+(O<<15&4294967295|O>>>17),O=N+(j^(D|~T))+M[5]+4237533241&4294967295,N=D+(O<<21&4294967295|O>>>11),O=T+(D^(N|~j))+M[12]+1700485571&4294967295,T=N+(O<<6&4294967295|O>>>26),O=j+(N^(T|~D))+M[3]+2399980690&4294967295,j=T+(O<<10&4294967295|O>>>22),O=D+(T^(j|~N))+M[10]+4293915773&4294967295,D=j+(O<<15&4294967295|O>>>17),O=N+(j^(D|~T))+M[1]+2240044497&4294967295,N=D+(O<<21&4294967295|O>>>11),O=T+(D^(N|~j))+M[8]+1873313359&4294967295,T=N+(O<<6&4294967295|O>>>26),O=j+(N^(T|~D))+M[15]+4264355552&4294967295,j=T+(O<<10&4294967295|O>>>22),O=D+(T^(j|~N))+M[6]+2734768916&4294967295,D=j+(O<<15&4294967295|O>>>17),O=N+(j^(D|~T))+M[13]+1309151649&4294967295,N=D+(O<<21&4294967295|O>>>11),O=T+(D^(N|~j))+M[4]+4149444226&4294967295,T=N+(O<<6&4294967295|O>>>26),O=j+(N^(T|~D))+M[11]+3174756917&4294967295,j=T+(O<<10&4294967295|O>>>22),O=D+(T^(j|~N))+M[2]+718787259&4294967295,D=j+(O<<15&4294967295|O>>>17),O=N+(j^(D|~T))+M[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(D+(O<<21&4294967295|O>>>11))&4294967295,k.g[2]=k.g[2]+D&4294967295,k.g[3]=k.g[3]+j&4294967295}r.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var N=T-this.blockSize,M=this.B,D=this.h,j=0;j<T;){if(D==0)for(;j<=N;)i(this,k,j),j+=this.blockSize;if(typeof k=="string"){for(;j<T;)if(M[D++]=k.charCodeAt(j++),D==this.blockSize){i(this,M),D=0;break}}else for(;j<T;)if(M[D++]=k[j++],D==this.blockSize){i(this,M),D=0;break}}this.h=D,this.o+=T},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var N=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=N&255,N/=256;for(this.u(k),k=Array(16),T=N=0;4>T;++T)for(var M=0;32>M;M+=8)k[N++]=this.g[T]>>>M&255;return k};function o(k,T){var N=a;return Object.prototype.hasOwnProperty.call(N,k)?N[k]:N[k]=T(k)}function s(k,T){this.h=T;for(var N=[],M=!0,D=k.length-1;0<=D;D--){var j=k[D]|0;M&&j==T||(N[D]=j,M=!1)}this.g=N}var a={};function l(k){return-128<=k&&128>k?o(k,function(T){return new s([T|0],0>T?-1:0)}):new s([k|0],0>k?-1:0)}function u(k){if(isNaN(k)||!isFinite(k))return f;if(0>k)return x(u(-k));for(var T=[],N=1,M=0;k>=N;M++)T[M]=k/N|0,N*=4294967296;return new s(T,0)}function d(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return x(d(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=u(Math.pow(T,8)),M=f,D=0;D<k.length;D+=8){var j=Math.min(8,k.length-D),O=parseInt(k.substring(D,D+j),T);8>j?(j=u(Math.pow(T,j)),M=M.j(j).add(u(O))):(M=M.j(N),M=M.add(u(O)))}return M}var f=l(0),h=l(1),y=l(16777216);t=s.prototype,t.m=function(){if(b(this))return-x(this).m();for(var k=0,T=1,N=0;N<this.g.length;N++){var M=this.i(N);k+=(0<=M?M:4294967296+M)*T,T*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(v(this))return"0";if(b(this))return"-"+x(this).toString(k);for(var T=u(Math.pow(k,6)),N=this,M="";;){var D=C(N,T).g;N=_(N,D.j(T));var j=((0<N.g.length?N.g[0]:N.h)>>>0).toString(k);if(N=D,v(N))return j+M;for(;6>j.length;)j="0"+j;M=j+M}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function v(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function b(k){return k.h==-1}t.l=function(k){return k=_(this,k),b(k)?-1:v(k)?0:1};function x(k){for(var T=k.g.length,N=[],M=0;M<T;M++)N[M]=~k.g[M];return new s(N,~k.h).add(h)}t.abs=function(){return b(this)?x(this):this},t.add=function(k){for(var T=Math.max(this.g.length,k.g.length),N=[],M=0,D=0;D<=T;D++){var j=M+(this.i(D)&65535)+(k.i(D)&65535),O=(j>>>16)+(this.i(D)>>>16)+(k.i(D)>>>16);M=O>>>16,j&=65535,O&=65535,N[D]=O<<16|j}return new s(N,N[N.length-1]&-2147483648?-1:0)};function _(k,T){return k.add(x(T))}t.j=function(k){if(v(this)||v(k))return f;if(b(this))return b(k)?x(this).j(x(k)):x(x(this).j(k));if(b(k))return x(this.j(x(k)));if(0>this.l(y)&&0>k.l(y))return u(this.m()*k.m());for(var T=this.g.length+k.g.length,N=[],M=0;M<2*T;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(var D=0;D<k.g.length;D++){var j=this.i(M)>>>16,O=this.i(M)&65535,q=k.i(D)>>>16,V=k.i(D)&65535;N[2*M+2*D]+=O*V,w(N,2*M+2*D),N[2*M+2*D+1]+=j*V,w(N,2*M+2*D+1),N[2*M+2*D+1]+=O*q,w(N,2*M+2*D+1),N[2*M+2*D+2]+=j*q,w(N,2*M+2*D+2)}for(M=0;M<T;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=T;M<2*T;M++)N[M]=0;return new s(N,0)};function w(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function E(k,T){this.g=k,this.h=T}function C(k,T){if(v(T))throw Error("division by zero");if(v(k))return new E(f,f);if(b(k))return T=C(x(k),T),new E(x(T.g),x(T.h));if(b(T))return T=C(k,x(T)),new E(x(T.g),T.h);if(30<k.g.length){if(b(k)||b(T))throw Error("slowDivide_ only works with positive integers.");for(var N=h,M=T;0>=M.l(k);)N=S(N),M=S(M);var D=I(N,1),j=I(M,1);for(M=I(M,2),N=I(N,2);!v(M);){var O=j.add(M);0>=O.l(k)&&(D=D.add(N),j=O),M=I(M,1),N=I(N,1)}return T=_(k,D.j(T)),new E(D,T)}for(D=f;0<=k.l(T);){for(N=Math.max(1,Math.floor(k.m()/T.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),j=u(N),O=j.j(T);b(O)||0<O.l(k);)N-=M,j=u(N),O=j.j(T);v(j)&&(j=h),D=D.add(j),k=_(k,O)}return new E(D,k)}t.A=function(k){return C(this,k).h},t.and=function(k){for(var T=Math.max(this.g.length,k.g.length),N=[],M=0;M<T;M++)N[M]=this.i(M)&k.i(M);return new s(N,this.h&k.h)},t.or=function(k){for(var T=Math.max(this.g.length,k.g.length),N=[],M=0;M<T;M++)N[M]=this.i(M)|k.i(M);return new s(N,this.h|k.h)},t.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),N=[],M=0;M<T;M++)N[M]=this.i(M)^k.i(M);return new s(N,this.h^k.h)};function S(k){for(var T=k.g.length+1,N=[],M=0;M<T;M++)N[M]=k.i(M)<<1|k.i(M-1)>>>31;return new s(N,k.h)}function I(k,T){var N=T>>5;T%=32;for(var M=k.g.length-N,D=[],j=0;j<M;j++)D[j]=0<T?k.i(j+N)>>>T|k.i(j+N+1)<<32-T:k.i(j+N);return new s(D,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_j=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Qs=s}).apply(typeof Sk<"u"?Sk:typeof self<"u"?self:typeof window<"u"?window:{});var Bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ej,jc,Sj,Np,db,Tj,Aj,kj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,A,R){return m==Array.prototype||m==Object.prototype||(m[A]=R.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bh=="object"&&Bh];for(var A=0;A<m.length;++A){var R=m[A];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(m,A){if(A)e:{var R=r;m=m.split(".");for(var F=0;F<m.length-1;F++){var J=m[F];if(!(J in R))break e;R=R[J]}m=m[m.length-1],F=R[m],A=A(F),A!=F&&A!=null&&e(R,m,{configurable:!0,writable:!0,value:A})}}function o(m,A){m instanceof String&&(m+="");var R=0,F=!1,J={next:function(){if(!F&&R<m.length){var Q=R++;return{value:A(Q,m[Q]),done:!1}}return F=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(m){return m||function(){return o(this,function(A,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(m){var A=typeof m;return A=A!="object"?A:m?Array.isArray(m)?"array":A:"null",A=="array"||A=="object"&&typeof m.length=="number"}function u(m){var A=typeof m;return A=="object"&&m!=null||A=="function"}function d(m,A,R){return m.call.apply(m.bind,arguments)}function f(m,A,R){if(!m)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,F),m.apply(A,J)}}return function(){return m.apply(A,arguments)}}function h(m,A,R){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function y(m,A){var R=Array.prototype.slice.call(arguments,1);return function(){var F=R.slice();return F.push.apply(F,arguments),m.apply(this,F)}}function v(m,A){function R(){}R.prototype=A.prototype,m.aa=A.prototype,m.prototype=new R,m.prototype.constructor=m,m.Qb=function(F,J,Q){for(var he=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)he[ot-2]=arguments[ot];return A.prototype[J].apply(F,he)}}function b(m){const A=m.length;if(0<A){const R=Array(A);for(let F=0;F<A;F++)R[F]=m[F];return R}return[]}function x(m,A){for(let R=1;R<arguments.length;R++){const F=arguments[R];if(l(F)){const J=m.length||0,Q=F.length||0;m.length=J+Q;for(let he=0;he<Q;he++)m[J+he]=F[he]}else m.push(F)}}class _{constructor(A,R){this.i=A,this.j=R,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function w(m){return/^[\s\xa0]*$/.test(m)}function E(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function C(m){return C[" "](m),m}C[" "]=function(){};var S=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function I(m,A,R){for(const F in m)A.call(R,m[F],F,m)}function k(m,A){for(const R in m)A.call(void 0,m[R],R,m)}function T(m){const A={};for(const R in m)A[R]=m[R];return A}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(m,A){let R,F;for(let J=1;J<arguments.length;J++){F=arguments[J];for(R in F)m[R]=F[R];for(let Q=0;Q<N.length;Q++)R=N[Q],Object.prototype.hasOwnProperty.call(F,R)&&(m[R]=F[R])}}function D(m){var A=1;m=m.split(":");const R=[];for(;0<A&&m.length;)R.push(m.shift()),A--;return m.length&&R.push(m.join(":")),R}function j(m){a.setTimeout(()=>{throw m},0)}function O(){var m=$;let A=null;return m.g&&(A=m.g,m.g=m.g.next,m.g||(m.h=null),A.next=null),A}class q{constructor(){this.h=this.g=null}add(A,R){const F=V.get();F.set(A,R),this.h?this.h.next=F:this.g=F,this.h=F}}var V=new _(()=>new L,m=>m.reset());class L{constructor(){this.next=this.g=this.h=null}set(A,R){this.h=A,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let z,P=!1,$=new q,G=()=>{const m=a.Promise.resolve(void 0);z=()=>{m.then(H)}};var H=()=>{for(var m;m=O();){try{m.h.call(m.g)}catch(R){j(R)}var A=V;A.j(m),100>A.h&&(A.h++,m.next=A.g,A.g=m)}P=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(m,A){this.type=m,this.g=this.target=A,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,A=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const R=()=>{};a.addEventListener("test",R,A),a.removeEventListener("test",R,A)}catch{}return m}();function W(m,A){if(Y.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var R=this.type=m.type,F=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=A,A=m.relatedTarget){if(S){e:{try{C(A.nodeName);var J=!0;break e}catch{}J=!1}J||(A=null)}}else R=="mouseover"?A=m.fromElement:R=="mouseout"&&(A=m.toElement);this.relatedTarget=A,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Z[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&W.aa.h.call(this)}}v(W,Y);var Z={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),oe=0;function re(m,A,R,F,J){this.listener=m,this.proxy=null,this.src=A,this.type=R,this.capture=!!F,this.ha=J,this.key=++oe,this.da=this.fa=!1}function fe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ye(m){this.src=m,this.g={},this.h=0}ye.prototype.add=function(m,A,R,F,J){var Q=m.toString();m=this.g[Q],m||(m=this.g[Q]=[],this.h++);var he=$e(m,A,F,J);return-1<he?(A=m[he],R||(A.fa=!1)):(A=new re(A,this.src,Q,!!F,J),A.fa=R,m.push(A)),A};function te(m,A){var R=A.type;if(R in m.g){var F=m.g[R],J=Array.prototype.indexOf.call(F,A,void 0),Q;(Q=0<=J)&&Array.prototype.splice.call(F,J,1),Q&&(fe(A),m.g[R].length==0&&(delete m.g[R],m.h--))}}function $e(m,A,R,F){for(var J=0;J<m.length;++J){var Q=m[J];if(!Q.da&&Q.listener==A&&Q.capture==!!R&&Q.ha==F)return J}return-1}var Oe="closure_lm_"+(1e6*Math.random()|0),tt={};function Xe(m,A,R,F,J){if(Array.isArray(A)){for(var Q=0;Q<A.length;Q++)Xe(m,A[Q],R,F,J);return null}return R=ws(R),m&&m[de]?m.K(A,R,u(F)?!!F.capture:!1,J):Dt(m,A,R,!1,F,J)}function Dt(m,A,R,F,J,Q){if(!A)throw Error("Invalid event type");var he=u(J)?!!J.capture:!!J,ot=cr(m);if(ot||(m[Oe]=ot=new ye(m)),R=ot.add(A,R,F,he,Q),R.proxy)return R;if(F=Hn(),R.proxy=F,F.src=m,F.listener=R,m.addEventListener)se||(J=he),J===void 0&&(J=!1),m.addEventListener(A.toString(),F,J);else if(m.attachEvent)m.attachEvent(ur(A.toString()),F);else if(m.addListener&&m.removeListener)m.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Hn(){function m(R){return A.call(m.src,m.listener,R)}const A=Rr;return m}function en(m,A,R,F,J){if(Array.isArray(A))for(var Q=0;Q<A.length;Q++)en(m,A[Q],R,F,J);else F=u(F)?!!F.capture:!!F,R=ws(R),m&&m[de]?(m=m.i,A=String(A).toString(),A in m.g&&(Q=m.g[A],R=$e(Q,R,F,J),-1<R&&(fe(Q[R]),Array.prototype.splice.call(Q,R,1),Q.length==0&&(delete m.g[A],m.h--)))):m&&(m=cr(m))&&(A=m.g[A.toString()],m=-1,A&&(m=$e(A,R,F,J)),(R=-1<m?A[m]:null)&&ni(R))}function ni(m){if(typeof m!="number"&&m&&!m.da){var A=m.src;if(A&&A[de])te(A.i,m);else{var R=m.type,F=m.proxy;A.removeEventListener?A.removeEventListener(R,F,m.capture):A.detachEvent?A.detachEvent(ur(R),F):A.addListener&&A.removeListener&&A.removeListener(F),(R=cr(A))?(te(R,m),R.h==0&&(R.src=null,A[Oe]=null)):fe(m)}}}function ur(m){return m in tt?tt[m]:tt[m]="on"+m}function Rr(m,A){if(m.da)m=!0;else{A=new W(A,this);var R=m.listener,F=m.ha||m.src;m.fa&&ni(m),m=R.call(F,A)}return m}function cr(m){return m=m[Oe],m instanceof ye?m:null}var dr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ws(m){return typeof m=="function"?m:(m[dr]||(m[dr]=function(A){return m.handleEvent(A)}),m[dr])}function Gt(){K.call(this),this.i=new ye(this),this.M=this,this.F=null}v(Gt,K),Gt.prototype[de]=!0,Gt.prototype.removeEventListener=function(m,A,R,F){en(this,m,A,R,F)};function X(m,A){var R,F=m.F;if(F)for(R=[];F;F=F.F)R.push(F);if(m=m.M,F=A.type||A,typeof A=="string")A=new Y(A,m);else if(A instanceof Y)A.target=A.target||m;else{var J=A;A=new Y(F,m),M(A,J)}if(J=!0,R)for(var Q=R.length-1;0<=Q;Q--){var he=A.g=R[Q];J=ce(he,F,!0,A)&&J}if(he=A.g=m,J=ce(he,F,!0,A)&&J,J=ce(he,F,!1,A)&&J,R)for(Q=0;Q<R.length;Q++)he=A.g=R[Q],J=ce(he,F,!1,A)&&J}Gt.prototype.N=function(){if(Gt.aa.N.call(this),this.i){var m=this.i,A;for(A in m.g){for(var R=m.g[A],F=0;F<R.length;F++)fe(R[F]);delete m.g[A],m.h--}}this.F=null},Gt.prototype.K=function(m,A,R,F){return this.i.add(String(m),A,!1,R,F)},Gt.prototype.L=function(m,A,R,F){return this.i.add(String(m),A,!0,R,F)};function ce(m,A,R,F){if(A=m.i.g[String(A)],!A)return!0;A=A.concat();for(var J=!0,Q=0;Q<A.length;++Q){var he=A[Q];if(he&&!he.da&&he.capture==R){var ot=he.listener,tn=he.ha||he.src;he.fa&&te(m.i,he),J=ot.call(tn,F)!==!1&&J}}return J&&!F.defaultPrevented}function Le(m,A,R){if(typeof m=="function")R&&(m=h(m,R));else if(m&&typeof m.handleEvent=="function")m=h(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:a.setTimeout(m,A||0)}function Fe(m){m.g=Le(()=>{m.g=null,m.i&&(m.i=!1,Fe(m))},m.l);const A=m.h;m.h=null,m.m.apply(null,A)}class Be extends K{constructor(A,R){super(),this.m=A,this.l=R,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Fe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Me(m){K.call(this),this.h=m,this.g={}}v(Me,K);var fn=[];function fr(m){I(m.g,function(A,R){this.g.hasOwnProperty(R)&&ni(A)},m),m.g={}}Me.prototype.N=function(){Me.aa.N.call(this),fr(this)},Me.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qt=a.JSON.stringify,Or=a.JSON.parse,_s=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function Yu(){}Yu.prototype.h=null;function wy(m){return m.h||(m.h=m.i())}function GS(){}var Ju={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _y(){Y.call(this,"d")}v(_y,Y);function Ey(){Y.call(this,"c")}v(Ey,Y);var Es={},qS=null;function ah(){return qS=qS||new Gt}Es.La="serverreachability";function HS(m){Y.call(this,Es.La,m)}v(HS,Y);function Xu(m){const A=ah();X(A,new HS(A))}Es.STAT_EVENT="statevent";function WS(m,A){Y.call(this,Es.STAT_EVENT,m),this.stat=A}v(WS,Y);function Tn(m){const A=ah();X(A,new WS(A,m))}Es.Ma="timingevent";function KS(m,A){Y.call(this,Es.Ma,m),this.size=A}v(KS,Y);function Qu(m,A){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},A)}function Zu(){this.g=!0}Zu.prototype.xa=function(){this.g=!1};function jF(m,A,R,F,J,Q){m.info(function(){if(m.g)if(Q)for(var he="",ot=Q.split("&"),tn=0;tn<ot.length;tn++){var We=ot[tn].split("=");if(1<We.length){var hn=We[0];We=We[1];var pn=hn.split("_");he=2<=pn.length&&pn[1]=="type"?he+(hn+"="+We+"&"):he+(hn+"=redacted&")}}else he=null;else he=Q;return"XMLHTTP REQ ("+F+") [attempt "+J+"]: "+A+`
`+R+`
`+he})}function $F(m,A,R,F,J,Q,he){m.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+J+"]: "+A+`
`+R+`
`+Q+" "+he})}function Ma(m,A,R,F){m.info(function(){return"XMLHTTP TEXT ("+A+"): "+FF(m,R)+(F?" "+F:"")})}function LF(m,A){m.info(function(){return"TIMEOUT: "+A})}Zu.prototype.info=function(){};function FF(m,A){if(!m.g)return A;if(!A)return null;try{var R=JSON.parse(A);if(R){for(m=0;m<R.length;m++)if(Array.isArray(R[m])){var F=R[m];if(!(2>F.length)){var J=F[1];if(Array.isArray(J)&&!(1>J.length)){var Q=J[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var he=1;he<J.length;he++)J[he]=""}}}}return qt(R)}catch{return A}}var lh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},YS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sy;function uh(){}v(uh,Yu),uh.prototype.g=function(){return new XMLHttpRequest},uh.prototype.i=function(){return{}},Sy=new uh;function xo(m,A,R,F){this.j=m,this.i=A,this.l=R,this.R=F||1,this.U=new Me(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new JS}function JS(){this.i=null,this.g="",this.h=!1}var XS={},Ty={};function Ay(m,A,R){m.L=1,m.v=hh(Ti(A)),m.m=R,m.P=!0,QS(m,null)}function QS(m,A){m.F=Date.now(),ch(m),m.A=Ti(m.v);var R=m.A,F=m.R;Array.isArray(F)||(F=[String(F)]),fT(R.i,"t",F),m.C=0,R=m.j.J,m.h=new JS,m.g=NT(m.j,R?A:null,!m.m),0<m.O&&(m.M=new Be(h(m.Y,m,m.g),m.O)),A=m.U,R=m.g,F=m.ca;var J="readystatechange";Array.isArray(J)||(J&&(fn[0]=J.toString()),J=fn);for(var Q=0;Q<J.length;Q++){var he=Xe(R,J[Q],F||A.handleEvent,!1,A.h||A);if(!he)break;A.g[he.key]=he}A=m.H?T(m.H):{},m.m?(m.u||(m.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,A)):(m.u="GET",m.g.ea(m.A,m.u,null,A)),Xu(),jF(m.i,m.u,m.A,m.l,m.R,m.m)}xo.prototype.ca=function(m){m=m.target;const A=this.M;A&&Ai(m)==3?A.j():this.Y(m)},xo.prototype.Y=function(m){try{if(m==this.g)e:{const pn=Ai(this.g);var A=this.g.Ba();const $a=this.g.Z();if(!(3>pn)&&(pn!=3||this.g&&(this.h.h||this.g.oa()||xT(this.g)))){this.J||pn!=4||A==7||(A==8||0>=$a?Xu(3):Xu(2)),ky(this);var R=this.g.Z();this.X=R;t:if(ZS(this)){var F=xT(this.g);m="";var J=F.length,Q=Ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ss(this),ec(this);var he="";break t}this.h.i=new a.TextDecoder}for(A=0;A<J;A++)this.h.h=!0,m+=this.h.i.decode(F[A],{stream:!(Q&&A==J-1)});F.length=0,this.h.g+=m,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=R==200,$F(this.i,this.u,this.A,this.l,this.R,pn,R),this.o){if(this.T&&!this.K){t:{if(this.g){var ot,tn=this.g;if((ot=tn.g?tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(ot)){var We=ot;break t}}We=null}if(R=We)Ma(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Iy(this,R);else{this.o=!1,this.s=3,Tn(12),Ss(this),ec(this);break e}}if(this.P){R=!0;let Mr;for(;!this.J&&this.C<he.length;)if(Mr=VF(this,he),Mr==Ty){pn==4&&(this.s=4,Tn(14),R=!1),Ma(this.i,this.l,null,"[Incomplete Response]");break}else if(Mr==XS){this.s=4,Tn(15),Ma(this.i,this.l,he,"[Invalid Chunk]"),R=!1;break}else Ma(this.i,this.l,Mr,null),Iy(this,Mr);if(ZS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pn!=4||he.length!=0||this.h.h||(this.s=1,Tn(16),R=!1),this.o=this.o&&R,!R)Ma(this.i,this.l,he,"[Invalid Chunked Response]"),Ss(this),ec(this);else if(0<he.length&&!this.W){this.W=!0;var hn=this.j;hn.g==this&&hn.ba&&!hn.M&&(hn.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),My(hn),hn.M=!0,Tn(11))}}else Ma(this.i,this.l,he,null),Iy(this,he);pn==4&&Ss(this),this.o&&!this.J&&(pn==4?AT(this.j,this):(this.o=!1,ch(this)))}else rV(this.g),R==400&&0<he.indexOf("Unknown SID")?(this.s=3,Tn(12)):(this.s=0,Tn(13)),Ss(this),ec(this)}}}catch{}finally{}};function ZS(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function VF(m,A){var R=m.C,F=A.indexOf(`
`,R);return F==-1?Ty:(R=Number(A.substring(R,F)),isNaN(R)?XS:(F+=1,F+R>A.length?Ty:(A=A.slice(F,F+R),m.C=F+R,A)))}xo.prototype.cancel=function(){this.J=!0,Ss(this)};function ch(m){m.S=Date.now()+m.I,eT(m,m.I)}function eT(m,A){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Qu(h(m.ba,m),A)}function ky(m){m.B&&(a.clearTimeout(m.B),m.B=null)}xo.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(LF(this.i,this.A),this.L!=2&&(Xu(),Tn(17)),Ss(this),this.s=2,ec(this)):eT(this,this.S-m)};function ec(m){m.j.G==0||m.J||AT(m.j,m)}function Ss(m){ky(m);var A=m.M;A&&typeof A.ma=="function"&&A.ma(),m.M=null,fr(m.U),m.g&&(A=m.g,m.g=null,A.abort(),A.ma())}function Iy(m,A){try{var R=m.j;if(R.G!=0&&(R.g==m||Cy(R.h,m))){if(!m.K&&Cy(R.h,m)&&R.G==3){try{var F=R.Da.g.parse(A)}catch{F=null}if(Array.isArray(F)&&F.length==3){var J=F;if(J[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<m.F)xh(R),yh(R);else break e;Oy(R),Tn(18)}}else R.za=J[1],0<R.za-R.T&&37500>J[2]&&R.F&&R.v==0&&!R.C&&(R.C=Qu(h(R.Za,R),6e3));if(1>=rT(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else As(R,11)}else if((m.K||R.g==m)&&xh(R),!w(A))for(J=R.Da.g.parse(A),A=0;A<J.length;A++){let We=J[A];if(R.T=We[0],We=We[1],R.G==2)if(We[0]=="c"){R.K=We[1],R.ia=We[2];const hn=We[3];hn!=null&&(R.la=hn,R.j.info("VER="+R.la));const pn=We[4];pn!=null&&(R.Aa=pn,R.j.info("SVER="+R.Aa));const $a=We[5];$a!=null&&typeof $a=="number"&&0<$a&&(F=1.5*$a,R.L=F,R.j.info("backChannelRequestTimeoutMs_="+F)),F=R;const Mr=m.g;if(Mr){const wh=Mr.g?Mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wh){var Q=F.h;Q.g||wh.indexOf("spdy")==-1&&wh.indexOf("quic")==-1&&wh.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ny(Q,Q.h),Q.h=null))}if(F.D){const Dy=Mr.g?Mr.g.getResponseHeader("X-HTTP-Session-Id"):null;Dy&&(F.ya=Dy,dt(F.I,F.D,Dy))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-m.F,R.j.info("Handshake RTT: "+R.R+"ms")),F=R;var he=m;if(F.qa=CT(F,F.J?F.ia:null,F.W),he.K){iT(F.h,he);var ot=he,tn=F.L;tn&&(ot.I=tn),ot.B&&(ky(ot),ch(ot)),F.g=he}else ST(F);0<R.i.length&&vh(R)}else We[0]!="stop"&&We[0]!="close"||As(R,7);else R.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?As(R,7):Ry(R):We[0]!="noop"&&R.l&&R.l.ta(We),R.v=0)}}Xu(4)}catch{}}var UF=class{constructor(m,A){this.g=m,this.map=A}};function tT(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nT(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function rT(m){return m.h?1:m.g?m.g.size:0}function Cy(m,A){return m.h?m.h==A:m.g?m.g.has(A):!1}function Ny(m,A){m.g?m.g.add(A):m.h=A}function iT(m,A){m.h&&m.h==A?m.h=null:m.g&&m.g.has(A)&&m.g.delete(A)}tT.prototype.cancel=function(){if(this.i=oT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function oT(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let A=m.i;for(const R of m.g.values())A=A.concat(R.D);return A}return b(m.i)}function BF(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var A=[],R=m.length,F=0;F<R;F++)A.push(m[F]);return A}A=[],R=0;for(F in m)A[R++]=m[F];return A}function zF(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var A=[];m=m.length;for(var R=0;R<m;R++)A.push(R);return A}A=[],R=0;for(const F in m)A[R++]=F;return A}}}function sT(m,A){if(m.forEach&&typeof m.forEach=="function")m.forEach(A,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,A,void 0);else for(var R=zF(m),F=BF(m),J=F.length,Q=0;Q<J;Q++)A.call(void 0,F[Q],R&&R[Q],m)}var aT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function GF(m,A){if(m){m=m.split("&");for(var R=0;R<m.length;R++){var F=m[R].indexOf("="),J=null;if(0<=F){var Q=m[R].substring(0,F);J=m[R].substring(F+1)}else Q=m[R];A(Q,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Ts(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Ts){this.h=m.h,dh(this,m.j),this.o=m.o,this.g=m.g,fh(this,m.s),this.l=m.l;var A=m.i,R=new rc;R.i=A.i,A.g&&(R.g=new Map(A.g),R.h=A.h),lT(this,R),this.m=m.m}else m&&(A=String(m).match(aT))?(this.h=!1,dh(this,A[1]||"",!0),this.o=tc(A[2]||""),this.g=tc(A[3]||"",!0),fh(this,A[4]),this.l=tc(A[5]||"",!0),lT(this,A[6]||"",!0),this.m=tc(A[7]||"")):(this.h=!1,this.i=new rc(null,this.h))}Ts.prototype.toString=function(){var m=[],A=this.j;A&&m.push(nc(A,uT,!0),":");var R=this.g;return(R||A=="file")&&(m.push("//"),(A=this.o)&&m.push(nc(A,uT,!0),"@"),m.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&m.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&m.push("/"),m.push(nc(R,R.charAt(0)=="/"?WF:HF,!0))),(R=this.i.toString())&&m.push("?",R),(R=this.m)&&m.push("#",nc(R,YF)),m.join("")};function Ti(m){return new Ts(m)}function dh(m,A,R){m.j=R?tc(A,!0):A,m.j&&(m.j=m.j.replace(/:$/,""))}function fh(m,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);m.s=A}else m.s=null}function lT(m,A,R){A instanceof rc?(m.i=A,JF(m.i,m.h)):(R||(A=nc(A,KF)),m.i=new rc(A,m.h))}function dt(m,A,R){m.i.set(A,R)}function hh(m){return dt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function tc(m,A){return m?A?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function nc(m,A,R){return typeof m=="string"?(m=encodeURI(m).replace(A,qF),R&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function qF(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var uT=/[#\/\?@]/g,HF=/[#\?:]/g,WF=/[#\?]/g,KF=/[#\?@]/g,YF=/#/g;function rc(m,A){this.h=this.g=null,this.i=m||null,this.j=!!A}function bo(m){m.g||(m.g=new Map,m.h=0,m.i&&GF(m.i,function(A,R){m.add(decodeURIComponent(A.replace(/\+/g," ")),R)}))}t=rc.prototype,t.add=function(m,A){bo(this),this.i=null,m=Da(this,m);var R=this.g.get(m);return R||this.g.set(m,R=[]),R.push(A),this.h+=1,this};function cT(m,A){bo(m),A=Da(m,A),m.g.has(A)&&(m.i=null,m.h-=m.g.get(A).length,m.g.delete(A))}function dT(m,A){return bo(m),A=Da(m,A),m.g.has(A)}t.forEach=function(m,A){bo(this),this.g.forEach(function(R,F){R.forEach(function(J){m.call(A,J,F,this)},this)},this)},t.na=function(){bo(this);const m=Array.from(this.g.values()),A=Array.from(this.g.keys()),R=[];for(let F=0;F<A.length;F++){const J=m[F];for(let Q=0;Q<J.length;Q++)R.push(A[F])}return R},t.V=function(m){bo(this);let A=[];if(typeof m=="string")dT(this,m)&&(A=A.concat(this.g.get(Da(this,m))));else{m=Array.from(this.g.values());for(let R=0;R<m.length;R++)A=A.concat(m[R])}return A},t.set=function(m,A){return bo(this),this.i=null,m=Da(this,m),dT(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[A]),this.h+=1,this},t.get=function(m,A){return m?(m=this.V(m),0<m.length?String(m[0]):A):A};function fT(m,A,R){cT(m,A),0<R.length&&(m.i=null,m.g.set(Da(m,A),b(R)),m.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],A=Array.from(this.g.keys());for(var R=0;R<A.length;R++){var F=A[R];const Q=encodeURIComponent(String(F)),he=this.V(F);for(F=0;F<he.length;F++){var J=Q;he[F]!==""&&(J+="="+encodeURIComponent(String(he[F]))),m.push(J)}}return this.i=m.join("&")};function Da(m,A){return A=String(A),m.j&&(A=A.toLowerCase()),A}function JF(m,A){A&&!m.j&&(bo(m),m.i=null,m.g.forEach(function(R,F){var J=F.toLowerCase();F!=J&&(cT(this,F),fT(this,J,R))},m)),m.j=A}function XF(m,A){const R=new Zu;if(a.Image){const F=new Image;F.onload=y(wo,R,"TestLoadImage: loaded",!0,A,F),F.onerror=y(wo,R,"TestLoadImage: error",!1,A,F),F.onabort=y(wo,R,"TestLoadImage: abort",!1,A,F),F.ontimeout=y(wo,R,"TestLoadImage: timeout",!1,A,F),a.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=m}else A(!1)}function QF(m,A){const R=new Zu,F=new AbortController,J=setTimeout(()=>{F.abort(),wo(R,"TestPingServer: timeout",!1,A)},1e4);fetch(m,{signal:F.signal}).then(Q=>{clearTimeout(J),Q.ok?wo(R,"TestPingServer: ok",!0,A):wo(R,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(J),wo(R,"TestPingServer: error",!1,A)})}function wo(m,A,R,F,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),F(R)}catch{}}function ZF(){this.g=new _s}function eV(m,A,R){const F=R||"";try{sT(m,function(J,Q){let he=J;u(J)&&(he=qt(J)),A.push(F+Q+"="+encodeURIComponent(he))})}catch(J){throw A.push(F+"type="+encodeURIComponent("_badmap")),J}}function ph(m){this.l=m.Ub||null,this.j=m.eb||!1}v(ph,Yu),ph.prototype.g=function(){return new mh(this.l,this.j)},ph.prototype.i=function(m){return function(){return m}}({});function mh(m,A){Gt.call(this),this.D=m,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(mh,Gt),t=mh.prototype,t.open=function(m,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=A,this.readyState=1,oc(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(A.body=m),(this.D||a).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ic(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,oc(this)),this.g&&(this.readyState=3,oc(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hT(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function hT(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var A=m.value?m.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!m.done}))&&(this.response=this.responseText+=A)}m.done?ic(this):oc(this),this.readyState==3&&hT(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,ic(this))},t.Qa=function(m){this.g&&(this.response=m,ic(this))},t.ga=function(){this.g&&ic(this)};function ic(m){m.readyState=4,m.l=null,m.j=null,m.v=null,oc(m)}t.setRequestHeader=function(m,A){this.u.append(m,A)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],A=this.h.entries();for(var R=A.next();!R.done;)R=R.value,m.push(R[0]+": "+R[1]),R=A.next();return m.join(`\r
`)};function oc(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(mh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function pT(m){let A="";return I(m,function(R,F){A+=F,A+=":",A+=R,A+=`\r
`}),A}function Py(m,A,R){e:{for(F in R){var F=!1;break e}F=!0}F||(R=pT(R),typeof m=="string"?R!=null&&encodeURIComponent(String(R)):dt(m,A,R))}function St(m){Gt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(St,Gt);var tV=/^https?$/i,nV=["POST","PUT"];t=St.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,A,R,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);A=A?A.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sy.g(),this.v=this.o?wy(this.o):wy(Sy),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(A,String(m),!0),this.B=!1}catch(Q){mT(this,Q);return}if(m=R||"",R=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var J in F)R.set(J,F[J]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const Q of F.keys())R.set(Q,F.get(Q));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(R.keys()).find(Q=>Q.toLowerCase()=="content-type"),J=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(nV,A,void 0))||F||J||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,he]of R)this.g.setRequestHeader(Q,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vT(this),this.u=!0,this.g.send(m),this.u=!1}catch(Q){mT(this,Q)}};function mT(m,A){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=A,m.m=5,gT(m),gh(m)}function gT(m){m.A||(m.A=!0,X(m,"complete"),X(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,X(this,"complete"),X(this,"abort"),gh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gh(this,!0)),St.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?yT(this):this.bb())},t.bb=function(){yT(this)};function yT(m){if(m.h&&typeof s<"u"&&(!m.v[1]||Ai(m)!=4||m.Z()!=2)){if(m.u&&Ai(m)==4)Le(m.Ea,0,m);else if(X(m,"readystatechange"),Ai(m)==4){m.h=!1;try{const he=m.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var R;if(!(R=A)){var F;if(F=he===0){var J=String(m.D).match(aT)[1]||null;!J&&a.self&&a.self.location&&(J=a.self.location.protocol.slice(0,-1)),F=!tV.test(J?J.toLowerCase():"")}R=F}if(R)X(m,"complete"),X(m,"success");else{m.m=6;try{var Q=2<Ai(m)?m.g.statusText:""}catch{Q=""}m.l=Q+" ["+m.Z()+"]",gT(m)}}finally{gh(m)}}}}function gh(m,A){if(m.g){vT(m);const R=m.g,F=m.v[0]?()=>{}:null;m.g=null,m.v=null,A||X(m,"ready");try{R.onreadystatechange=F}catch{}}}function vT(m){m.I&&(a.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Ai(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Ai(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var A=this.g.responseText;return m&&A.indexOf(m)==0&&(A=A.substring(m.length)),Or(A)}};function xT(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function rV(m){const A={};m=(m.g&&2<=Ai(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<m.length;F++){if(w(m[F]))continue;var R=D(m[F]);const J=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const Q=A[J]||[];A[J]=Q,Q.push(R)}k(A,function(F){return F.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sc(m,A,R){return R&&R.internalChannelParams&&R.internalChannelParams[m]||A}function bT(m){this.Aa=0,this.i=[],this.j=new Zu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sc("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sc("baseRetryDelayMs",5e3,m),this.cb=sc("retryDelaySeedMs",1e4,m),this.Wa=sc("forwardChannelMaxRetries",2,m),this.wa=sc("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new tT(m&&m.concurrentRequestLimit),this.Da=new ZF,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=bT.prototype,t.la=8,t.G=1,t.connect=function(m,A,R,F){Tn(0),this.W=m,this.H=A||{},R&&F!==void 0&&(this.H.OSID=R,this.H.OAID=F),this.F=this.X,this.I=CT(this,null,this.W),vh(this)};function Ry(m){if(wT(m),m.G==3){var A=m.U++,R=Ti(m.I);if(dt(R,"SID",m.K),dt(R,"RID",A),dt(R,"TYPE","terminate"),ac(m,R),A=new xo(m,m.j,A),A.L=2,A.v=hh(Ti(R)),R=!1,a.navigator&&a.navigator.sendBeacon)try{R=a.navigator.sendBeacon(A.v.toString(),"")}catch{}!R&&a.Image&&(new Image().src=A.v,R=!0),R||(A.g=NT(A.j,null),A.g.ea(A.v)),A.F=Date.now(),ch(A)}IT(m)}function yh(m){m.g&&(My(m),m.g.cancel(),m.g=null)}function wT(m){yh(m),m.u&&(a.clearTimeout(m.u),m.u=null),xh(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function vh(m){if(!nT(m.h)&&!m.s){m.s=!0;var A=m.Ga;z||G(),P||(z(),P=!0),$.add(A,m),m.B=0}}function iV(m,A){return rT(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=A.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Qu(h(m.Ga,m,A),kT(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const J=new xo(this,this.j,m);let Q=this.o;if(this.S&&(Q?(Q=T(Q),M(Q,this.S)):Q=this.S),this.m!==null||this.O||(J.H=Q,Q=null),this.P)e:{for(var A=0,R=0;R<this.i.length;R++){t:{var F=this.i[R];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(A+=F,4096<A){A=R;break e}if(A===4096||R===this.i.length-1){A=R+1;break e}}A=1e3}else A=1e3;A=ET(this,J,A),R=Ti(this.I),dt(R,"RID",m),dt(R,"CVER",22),this.D&&dt(R,"X-HTTP-Session-Id",this.D),ac(this,R),Q&&(this.O?A="headers="+encodeURIComponent(String(pT(Q)))+"&"+A:this.m&&Py(R,this.m,Q)),Ny(this.h,J),this.Ua&&dt(R,"TYPE","init"),this.P?(dt(R,"$req",A),dt(R,"SID","null"),J.T=!0,Ay(J,R,null)):Ay(J,R,A),this.G=2}}else this.G==3&&(m?_T(this,m):this.i.length==0||nT(this.h)||_T(this))};function _T(m,A){var R;A?R=A.l:R=m.U++;const F=Ti(m.I);dt(F,"SID",m.K),dt(F,"RID",R),dt(F,"AID",m.T),ac(m,F),m.m&&m.o&&Py(F,m.m,m.o),R=new xo(m,m.j,R,m.B+1),m.m===null&&(R.H=m.o),A&&(m.i=A.D.concat(m.i)),A=ET(m,R,1e3),R.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Ny(m.h,R),Ay(R,F,A)}function ac(m,A){m.H&&I(m.H,function(R,F){dt(A,F,R)}),m.l&&sT({},function(R,F){dt(A,F,R)})}function ET(m,A,R){R=Math.min(m.i.length,R);var F=m.l?h(m.l.Na,m.l,m):null;e:{var J=m.i;let Q=-1;for(;;){const he=["count="+R];Q==-1?0<R?(Q=J[0].g,he.push("ofs="+Q)):Q=0:he.push("ofs="+Q);let ot=!0;for(let tn=0;tn<R;tn++){let We=J[tn].g;const hn=J[tn].map;if(We-=Q,0>We)Q=Math.max(0,J[tn].g-100),ot=!1;else try{eV(hn,he,"req"+We+"_")}catch{F&&F(hn)}}if(ot){F=he.join("&");break e}}}return m=m.i.splice(0,R),A.D=m,F}function ST(m){if(!m.g&&!m.u){m.Y=1;var A=m.Fa;z||G(),P||(z(),P=!0),$.add(A,m),m.v=0}}function Oy(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Qu(h(m.Fa,m),kT(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,TT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Qu(h(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tn(10),yh(this),TT(this))};function My(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function TT(m){m.g=new xo(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var A=Ti(m.qa);dt(A,"RID","rpc"),dt(A,"SID",m.K),dt(A,"AID",m.T),dt(A,"CI",m.F?"0":"1"),!m.F&&m.ja&&dt(A,"TO",m.ja),dt(A,"TYPE","xmlhttp"),ac(m,A),m.m&&m.o&&Py(A,m.m,m.o),m.L&&(m.g.I=m.L);var R=m.g;m=m.ia,R.L=1,R.v=hh(Ti(A)),R.m=null,R.P=!0,QS(R,m)}t.Za=function(){this.C!=null&&(this.C=null,yh(this),Oy(this),Tn(19))};function xh(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function AT(m,A){var R=null;if(m.g==A){xh(m),My(m),m.g=null;var F=2}else if(Cy(m.h,A))R=A.D,iT(m.h,A),F=1;else return;if(m.G!=0){if(A.o)if(F==1){R=A.m?A.m.length:0,A=Date.now()-A.F;var J=m.B;F=ah(),X(F,new KS(F,R)),vh(m)}else ST(m);else if(J=A.s,J==3||J==0&&0<A.X||!(F==1&&iV(m,A)||F==2&&Oy(m)))switch(R&&0<R.length&&(A=m.h,A.i=A.i.concat(R)),J){case 1:As(m,5);break;case 4:As(m,10);break;case 3:As(m,6);break;default:As(m,2)}}}function kT(m,A){let R=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(R*=2),R*A}function As(m,A){if(m.j.info("Error code "+A),A==2){var R=h(m.fb,m),F=m.Xa;const J=!F;F=new Ts(F||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||dh(F,"https"),hh(F),J?XF(F.toString(),R):QF(F.toString(),R)}else Tn(2);m.G=0,m.l&&m.l.sa(A),IT(m),wT(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Tn(2)):(this.j.info("Failed to ping google.com"),Tn(1))};function IT(m){if(m.G=0,m.ka=[],m.l){const A=oT(m.h);(A.length!=0||m.i.length!=0)&&(x(m.ka,A),x(m.ka,m.i),m.h.i.length=0,b(m.i),m.i.length=0),m.l.ra()}}function CT(m,A,R){var F=R instanceof Ts?Ti(R):new Ts(R);if(F.g!="")A&&(F.g=A+"."+F.g),fh(F,F.s);else{var J=a.location;F=J.protocol,A=A?A+"."+J.hostname:J.hostname,J=+J.port;var Q=new Ts(null);F&&dh(Q,F),A&&(Q.g=A),J&&fh(Q,J),R&&(Q.l=R),F=Q}return R=m.D,A=m.ya,R&&A&&dt(F,R,A),dt(F,"VER",m.la),ac(m,F),F}function NT(m,A,R){if(A&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=m.Ca&&!m.pa?new St(new ph({eb:R})):new St(m.pa),A.Ha(m.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function PT(){}t=PT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function bh(){}bh.prototype.g=function(m,A){return new Wn(m,A)};function Wn(m,A){Gt.call(this),this.g=new bT(A),this.l=m,this.h=A&&A.messageUrlParams||null,m=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(m?m["X-WebChannel-Content-Type"]=A.messageContentType:m={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(m?m["X-WebChannel-Client-Profile"]=A.va:m={"X-WebChannel-Client-Profile":A.va}),this.g.S=m,(m=A&&A.Sb)&&!w(m)&&(this.g.m=m),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!w(A)&&(this.g.D=A,m=this.h,m!==null&&A in m&&(m=this.h,A in m&&delete m[A])),this.j=new ja(this)}v(Wn,Gt),Wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wn.prototype.close=function(){Ry(this.g)},Wn.prototype.o=function(m){var A=this.g;if(typeof m=="string"){var R={};R.__data__=m,m=R}else this.u&&(R={},R.__data__=qt(m),m=R);A.i.push(new UF(A.Ya++,m)),A.G==3&&vh(A)},Wn.prototype.N=function(){this.g.l=null,delete this.j,Ry(this.g),delete this.g,Wn.aa.N.call(this)};function RT(m){_y.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var A=m.__sm__;if(A){e:{for(const R in A){m=R;break e}m=void 0}(this.i=m)&&(m=this.i,A=A!==null&&m in A?A[m]:void 0),this.data=A}else this.data=m}v(RT,_y);function OT(){Ey.call(this),this.status=1}v(OT,Ey);function ja(m){this.g=m}v(ja,PT),ja.prototype.ua=function(){X(this.g,"a")},ja.prototype.ta=function(m){X(this.g,new RT(m))},ja.prototype.sa=function(m){X(this.g,new OT)},ja.prototype.ra=function(){X(this.g,"b")},bh.prototype.createWebChannel=bh.prototype.g,Wn.prototype.send=Wn.prototype.o,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,kj=function(){return new bh},Aj=function(){return ah()},Tj=Es,db={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lh.NO_ERROR=0,lh.TIMEOUT=8,lh.HTTP_ERROR=6,Np=lh,YS.COMPLETE="complete",Sj=YS,GS.EventType=Ju,Ju.OPEN="a",Ju.CLOSE="b",Ju.ERROR="c",Ju.MESSAGE="d",Gt.prototype.listen=Gt.prototype.K,jc=GS,St.prototype.listenOnce=St.prototype.L,St.prototype.getLastError=St.prototype.Ka,St.prototype.getLastErrorCode=St.prototype.Ba,St.prototype.getStatus=St.prototype.Z,St.prototype.getResponseJson=St.prototype.Oa,St.prototype.getResponseText=St.prototype.oa,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Ha,Ej=St}).apply(typeof Bh<"u"?Bh:typeof self<"u"?self:typeof window<"u"?window:{});const Tk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$n.UNAUTHENTICATED=new $n(null),$n.GOOGLE_CREDENTIALS=new $n("google-credentials-uid"),$n.FIRST_PARTY=new $n("first-party-uid"),$n.MOCK_USER=new $n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new w1("@firebase/firestore");function gc(){return fa.logLevel}function we(t,...e){if(fa.logLevel<=ze.DEBUG){const n=e.map(D1);fa.debug(`Firestore (${Eu}): ${t}`,...n)}}function to(t,...e){if(fa.logLevel<=ze.ERROR){const n=e.map(D1);fa.error(`Firestore (${Eu}): ${t}`,...n)}}function Md(t,...e){if(fa.logLevel<=ze.WARN){const n=e.map(D1);fa.warn(`Firestore (${Eu}): ${t}`,...n)}}function D1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t="Unexpected state"){const e=`FIRESTORE (${Eu}) INTERNAL ASSERTION FAILED: `+t;throw to(e),new Error(e)}function He(t,e){t||Ae()}function Pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends co{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sz{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Tz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($n.UNAUTHENTICATED))}shutdown(){}}class Az{constructor(e){this.t=e,this.currentUser=$n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Gi,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Gi)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new Sz(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new $n(e)}}class kz{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=$n.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Iz{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new kz(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cz{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nz{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){He(this.o===void 0);const r=o=>{o.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,we("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new Cz(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Pz(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ke(t,e){return t<e?-1:t>e?1:0}function $l(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Bt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Bt(0,0))}static max(){return new ke(new Bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(),r===void 0?r=e.length-n:r>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Dd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Dd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class st extends Dd{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new st(n)}static emptyPath(){return new st([])}}const Rz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Dd{construct(e,n,r){return new an(e,n,r)}static isValidIdentifier(e){return Rz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new an(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new pe(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new pe(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new pe(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(st.fromString(e))}static fromName(e){return new _e(st.fromString(e).popFirst(5))}static empty(){return new _e(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new st(e.slice()))}}function Oz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new Bt(n+1,0):new Bt(n,r));return new is(i,_e.empty(),e)}function Mz(t){return new is(t.readTime,t.key,-1)}class is{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new is(ke.min(),_e.empty(),-1)}static max(){return new is(ke.max(),_e.empty(),-1)}}function Dz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $z{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ff(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==jz)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ae((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ae?n:ae.resolve(n)}catch(n){return ae.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ae.reject(n)}static resolve(e){return new ae((n,r)=>{n(e)})}static reject(e){return new ae((n,r)=>{r(e)})}static waitFor(e){return new ae((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=ae.resolve(!1);for(const r of e)n=n.next(i=>i?ae.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ae((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new ae((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function Lz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}j1.oe=-1;function Uf(t){return t==null}function _m(t){return t===0&&1/t==-1/0}function Fz(t){return typeof t=="number"&&Number.isInteger(t)&&!_m(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Sa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Cj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zh(this.root,e,this.comparator,!1)}getReverseIterator(){return new zh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zh(this.root,e,this.comparator,!0)}}class zh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??on.RED,this.left=i??on.EMPTY,this.right=o??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new on(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return on.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,r,i,o){return this}insert(e,n,r){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kk(this.data.getIterator())}getIteratorFrom(e){return new kk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new un(this.comparator);return n.data=e,n}}class kk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new er([])}unionWith(e){let n=new un(an.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new er(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return $l(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Nj("Invalid base64 string: "+o):o}}(e);return new dn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const Vz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(t){if(He(!!t),typeof t=="string"){let e=0;const n=Vz.exec(t);if(He(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(t.seconds),nanos:It(t.nanos)}}function It(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ha(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function L1(t){const e=t.mapValue.fields.__previous_value__;return $1(e)?L1(e):e}function jd(t){const e=os(t.mapValue.fields.__local_write_time__.timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class $d{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $d("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $d&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh={mapValue:{}};function pa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$1(t)?4:zz(t)?9007199254740991:Bz(t)?10:11:Ae()}function gi(t,e){if(t===e)return!0;const n=pa(t);if(n!==pa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jd(t).isEqual(jd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=os(i.timestampValue),a=os(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ha(i.bytesValue).isEqual(ha(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return It(i.geoPointValue.latitude)===It(o.geoPointValue.latitude)&&It(i.geoPointValue.longitude)===It(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return It(i.integerValue)===It(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=It(i.doubleValue),a=It(o.doubleValue);return s===a?_m(s)===_m(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return $l(t.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Ak(s)!==Ak(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!gi(s[l],a[l])))return!1;return!0}(t,e);default:return Ae()}}function Ld(t,e){return(t.values||[]).find(n=>gi(n,e))!==void 0}function Ll(t,e){if(t===e)return 0;const n=pa(t),r=pa(e);if(n!==r)return Ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=It(o.integerValue||o.doubleValue),l=It(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Ik(t.timestampValue,e.timestampValue);case 4:return Ik(jd(t),jd(e));case 5:return Ke(t.stringValue,e.stringValue);case 6:return function(o,s){const a=ha(o),l=ha(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Ke(a[u],l[u]);if(d!==0)return d}return Ke(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ke(It(o.latitude),It(s.latitude));return a!==0?a:Ke(It(o.longitude),It(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ck(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,d;const f=o.fields||{},h=s.fields||{},y=(a=f.value)===null||a===void 0?void 0:a.arrayValue,v=(l=h.value)===null||l===void 0?void 0:l.arrayValue,b=Ke(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return b!==0?b:Ck(y,v)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Gh.mapValue&&s===Gh.mapValue)return 0;if(o===Gh.mapValue)return 1;if(s===Gh.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const h=Ke(l[f],d[f]);if(h!==0)return h;const y=Ll(a[l[f]],u[d[f]]);if(y!==0)return y}return Ke(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Ae()}}function Ik(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=os(t),r=os(e),i=Ke(n.seconds,r.seconds);return i!==0?i:Ke(n.nanos,r.nanos)}function Ck(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ll(n[i],r[i]);if(o)return o}return Ke(n.length,r.length)}function Fl(t){return fb(t)}function fb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=os(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ha(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=fb(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${fb(n.fields[s])}`;return i+"}"}(t.mapValue):Ae()}function Nk(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hb(t){return!!t&&"integerValue"in t}function F1(t){return!!t&&"arrayValue"in t}function Pk(t){return!!t&&"nullValue"in t}function Rk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pp(t){return!!t&&"mapValue"in t}function Bz(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Xc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Sa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Pp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xc(n)}setAll(e){let n=an.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Xc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Pp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Pp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Sa(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Cn(Xc(this.value))}}function Pj(t){const e=[];return Sa(t.fields,(n,r)=>{const i=new an([n]);if(Pp(r)){const o=Pj(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Yt(e,0,ke.min(),ke.min(),ke.min(),Cn.empty(),0)}static newFoundDocument(e,n,r,i){return new Yt(e,1,n,ke.min(),r,i,0)}static newNoDocument(e,n){return new Yt(e,2,n,ke.min(),ke.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,ke.min(),ke.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n){this.position=e,this.inclusive=n}}function Ok(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(s.referenceValue),n.key):r=Ll(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Mk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n="asc"){this.field=e,this.dir=n}}function Gz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{}class Ot extends Rj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Hz(e,n,r):n==="array-contains"?new Yz(e,r):n==="in"?new Jz(e,r):n==="not-in"?new Xz(e,r):n==="array-contains-any"?new Qz(e,r):new Ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Wz(e,r):new Kz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ll(n,this.value)):n!==null&&pa(this.value)===pa(n)&&this.matchesComparison(Ll(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zr extends Rj{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Zr(e,n)}matches(e){return Oj(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Oj(t){return t.op==="and"}function Mj(t){return qz(t)&&Oj(t)}function qz(t){for(const e of t.filters)if(e instanceof Zr)return!1;return!0}function pb(t){if(t instanceof Ot)return t.field.canonicalString()+t.op.toString()+Fl(t.value);if(Mj(t))return t.filters.map(e=>pb(e)).join(",");{const e=t.filters.map(n=>pb(n)).join(",");return`${t.op}(${e})`}}function Dj(t,e){return t instanceof Ot?function(r,i){return i instanceof Ot&&r.op===i.op&&r.field.isEqual(i.field)&&gi(r.value,i.value)}(t,e):t instanceof Zr?function(r,i){return i instanceof Zr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Dj(s,i.filters[a]),!0):!1}(t,e):void Ae()}function jj(t){return t instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Fl(n.value)}`}(t):t instanceof Zr?function(n){return n.op.toString()+" {"+n.getFilters().map(jj).join(" ,")+"}"}(t):"Filter"}class Hz extends Ot{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class Wz extends Ot{constructor(e,n){super(e,"in",n),this.keys=$j("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Kz extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=$j("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $j(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class Yz extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return F1(n)&&Ld(n.arrayValue,this.value)}}class Jz extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ld(this.value.arrayValue,n)}}class Xz extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ld(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ld(this.value.arrayValue,n)}}class Qz extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!F1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ld(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function Dk(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Zz(t,e,n,r,i,o,s)}function V1(t){const e=Pe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Uf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fl(r)).join(",")),e.ue=n}return e.ue}function U1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Gz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Dj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mk(t.startAt,e.startAt)&&Mk(t.endAt,e.endAt)}function mb(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function eG(t,e,n,r,i,o,s,a){return new Su(t,e,n,r,i,o,s,a)}function B1(t){return new Su(t)}function jk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Lj(t){return t.collectionGroup!==null}function Qc(t){const e=Pe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new un(an.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Fd(o,r))}),n.has(an.keyField().canonicalString())||e.ce.push(new Fd(an.keyField(),r))}return e.ce}function fi(t){const e=Pe(t);return e.le||(e.le=tG(e,Qc(t))),e.le}function tG(t,e){if(t.limitType==="F")return Dk(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Fd(i.field,o)});const n=t.endAt?new Em(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Em(t.startAt.position,t.startAt.inclusive):null;return Dk(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gb(t,e){const n=t.filters.concat([e]);return new Su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sm(t,e,n){return new Su(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function p0(t,e){return U1(fi(t),fi(e))&&t.limitType===e.limitType}function Fj(t){return`${V1(fi(t))}|lt:${t.limitType}`}function za(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>jj(i)).join(", ")}]`),Uf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Fl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Fl(i)).join(",")),`Target(${r})`}(fi(t))}; limitType=${t.limitType})`}function m0(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Qc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=Ok(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Qc(r),i)||r.endAt&&!function(s,a,l){const u=Ok(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Qc(r),i))}(t,e)}function nG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Vj(t){return(e,n)=>{let r=!1;for(const i of Qc(t)){const o=rG(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function rG(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Ll(l,u):Ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Sa(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Cj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iG=new Et(_e.comparator);function no(){return iG}const Uj=new Et(_e.comparator);function $c(...t){let e=Uj;for(const n of t)e=e.insert(n.key,n);return e}function Bj(t){let e=Uj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zs(){return Zc()}function zj(){return Zc()}function Zc(){return new Tu(t=>t.toString(),(t,e)=>t.isEqual(e))}const oG=new Et(_e.comparator),sG=new un(_e.comparator);function Ue(...t){let e=sG;for(const n of t)e=e.add(n);return e}const aG=new un(Ke);function lG(){return aG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_m(e)?"-0":e}}function Gj(t){return{integerValue:""+t}}function uG(t,e){return Fz(e)?Gj(e):z1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(){this._=void 0}}function cG(t,e,n){return t instanceof Tm?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&$1(o)&&(o=L1(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Vd?Hj(t,e):t instanceof Ud?Wj(t,e):function(i,o){const s=qj(i,o),a=$k(s)+$k(i.Pe);return hb(s)&&hb(i.Pe)?Gj(a):z1(i.serializer,a)}(t,e)}function dG(t,e,n){return t instanceof Vd?Hj(t,e):t instanceof Ud?Wj(t,e):n}function qj(t,e){return t instanceof Am?function(r){return hb(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Tm extends g0{}class Vd extends g0{constructor(e){super(),this.elements=e}}function Hj(t,e){const n=Kj(e);for(const r of t.elements)n.some(i=>gi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ud extends g0{constructor(e){super(),this.elements=e}}function Wj(t,e){let n=Kj(e);for(const r of t.elements)n=n.filter(i=>!gi(i,r));return{arrayValue:{values:n}}}class Am extends g0{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function $k(t){return It(t.integerValue||t.doubleValue)}function Kj(t){return F1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function fG(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Vd&&i instanceof Vd||r instanceof Ud&&i instanceof Ud?$l(r.elements,i.elements,gi):r instanceof Am&&i instanceof Am?gi(r.Pe,i.Pe):r instanceof Tm&&i instanceof Tm}(t.transform,e.transform)}class hG{constructor(e,n){this.version=e,this.transformResults=n}}class Ft{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ft}static exists(e){return new Ft(void 0,e)}static updateTime(e){return new Ft(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class y0{}function Yj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zf(t.key,Ft.none()):new Bf(t.key,t.data,Ft.none());{const n=t.data,r=Cn.empty();let i=new un(an.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ps(t.key,r,new er(i.toArray()),Ft.none())}}function pG(t,e,n){t instanceof Bf?function(i,o,s){const a=i.value.clone(),l=Fk(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ps?function(i,o,s){if(!Rp(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Fk(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(Jj(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ed(t,e,n,r){return t instanceof Bf?function(o,s,a,l){if(!Rp(o.precondition,s))return a;const u=o.value.clone(),d=Vk(o.fieldTransforms,l,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ps?function(o,s,a,l){if(!Rp(o.precondition,s))return a;const u=Vk(o.fieldTransforms,l,s),d=s.data;return d.setAll(Jj(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Rp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function mG(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=qj(r.transform,i||null);o!=null&&(n===null&&(n=Cn.empty()),n.set(r.field,o))}return n||null}function Lk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&$l(r,i,(o,s)=>fG(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bf extends y0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ps extends y0{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Jj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Fk(t,e,n){const r=new Map;He(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,dG(s,a,n[i]))}return r}function Vk(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,cG(o,s,e))}return r}class zf extends y0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xj extends y0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&pG(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ed(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ed(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=zj();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=Yj(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&$l(this.mutations,e.mutations,(n,r)=>Lk(n,r))&&$l(this.baseMutations,e.baseMutations,(n,r)=>Lk(n,r))}}class G1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){He(e.mutations.length===r.length);let i=function(){return oG}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new G1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,Ge;function Qj(t){switch(t){default:return Ae();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function Zj(t){if(t===void 0)return to("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Nt.OK:return ne.OK;case Nt.CANCELLED:return ne.CANCELLED;case Nt.UNKNOWN:return ne.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return ne.INTERNAL;case Nt.UNAVAILABLE:return ne.UNAVAILABLE;case Nt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Nt.NOT_FOUND:return ne.NOT_FOUND;case Nt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Nt.ABORTED:return ne.ABORTED;case Nt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Nt.DATA_LOSS:return ne.DATA_LOSS;default:return Ae()}}(Ge=Nt||(Nt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bG=new Qs([4294967295,4294967295],0);function Uk(t){const e=xG().encode(t),n=new _j;return n.update(e),new Uint8Array(n.digest())}function Bk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Qs([n,r],0),new Qs([i,o],0)]}class q1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Lc(`Invalid padding: ${n}`);if(r<0)throw new Lc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Lc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Lc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Qs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Qs.fromNumber(r)));return i.compare(bG)===1&&(i=new Qs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Uk(e),[r,i]=Bk(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new q1(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=Uk(e),[r,i]=Bk(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Gf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new v0(ke.min(),i,new Et(Ke),no(),Ue())}}class Gf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Gf(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class e${constructor(e,n){this.targetId=e,this.me=n}}class t${constructor(e,n,r=dn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class zk{constructor(){this.fe=0,this.ge=qk(),this.pe=dn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ue(),n=Ue(),r=Ue();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ae()}}),new Gf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=qk()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,He(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class wG{constructor(e){this.Le=e,this.Be=new Map,this.ke=no(),this.qe=Gk(),this.Qe=new Et(Ke)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(mb(o))if(r===0){const s=new _e(o.path);this.Ue(n,s,Yt.newNoDocument(s,ke.min()))}else He(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=ha(r).toUint8Array()}catch(l){if(l instanceof Nj)return Md("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new q1(s,i,o)}catch(l){return Md(l instanceof Lc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&mb(a.target)){const l=new _e(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Yt.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Ue();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new v0(e,n,this.Qe,this.ke,r);return this.ke=no(),this.qe=Gk(),this.Qe=new Et(Ke),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new zk,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new un(Ke),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new zk),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Gk(){return new Et(_e.comparator)}function qk(){return new Et(_e.comparator)}const _G={asc:"ASCENDING",desc:"DESCENDING"},EG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SG={and:"AND",or:"OR"};class TG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yb(t,e){return t.useProto3Json||Uf(e)?e:{value:e}}function km(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function n$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AG(t,e){return km(t,e.toTimestamp())}function nr(t){return He(!!t),ke.fromTimestamp(function(n){const r=os(n);return new Bt(r.seconds,r.nanos)}(t))}function H1(t,e){return vb(t,e).canonicalString()}function vb(t,e){const n=function(i){return new st(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function r$(t){const e=st.fromString(t);return He(u$(e)),e}function Im(t,e){return H1(t.databaseId,e.path)}function td(t,e){const n=r$(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(o$(n))}function i$(t,e){return H1(t.databaseId,e)}function kG(t){const e=r$(t);return e.length===4?st.emptyPath():o$(e)}function xb(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function o$(t){return He(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Hk(t,e,n){return{name:Im(t,e),fields:n.value.mapValue.fields}}function IG(t,e){return"found"in e?function(r,i){He(!!i.found),i.found.name,i.found.updateTime;const o=td(r,i.found.name),s=nr(i.found.updateTime),a=i.found.createTime?nr(i.found.createTime):ke.min(),l=new Cn({mapValue:{fields:i.found.fields}});return Yt.newFoundDocument(o,s,a,l)}(t,e):"missing"in e?function(r,i){He(!!i.missing),He(!!i.readTime);const o=td(r,i.missing),s=nr(i.readTime);return Yt.newNoDocument(o,s)}(t,e):Ae()}function CG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(He(d===void 0||typeof d=="string"),dn.fromBase64String(d||"")):(He(d===void 0||d instanceof Buffer||d instanceof Uint8Array),dn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const d=u.code===void 0?ne.UNKNOWN:Zj(u.code);return new pe(d,u.message||"")}(s);n=new t$(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=td(t,r.document.name),o=nr(r.document.updateTime),s=r.document.createTime?nr(r.document.createTime):ke.min(),a=new Cn({mapValue:{fields:r.document.fields}}),l=Yt.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new Op(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=td(t,r.document),o=r.readTime?nr(r.readTime):ke.min(),s=Yt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Op([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=td(t,r.document),o=r.removedTargetIds||[];n=new Op([],o,i,null)}else{if(!("filter"in e))return Ae();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new vG(i,o),a=r.targetId;n=new e$(a,s)}}return n}function s$(t,e){let n;if(e instanceof Bf)n={update:Hk(t,e.key,e.value)};else if(e instanceof zf)n={delete:Im(t,e.key)};else if(e instanceof ps)n={update:Hk(t,e.key,e.data),updateMask:LG(e.fieldMask)};else{if(!(e instanceof Xj))return Ae();n={verify:Im(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Tm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ud)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Am)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:AG(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ae()}(t,e.precondition)),n}function NG(t,e){return t&&t.length>0?(He(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?nr(i.updateTime):nr(o);return s.isEqual(ke.min())&&(s=nr(o)),new hG(s,i.transformResults||[])}(n,e))):[]}function PG(t,e){return{documents:[i$(t,e.path)]}}function RG(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=i$(t,i);const o=function(u){if(u.length!==0)return l$(Zr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:Ga(h.field),direction:DG(h.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=yb(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function OG(t){let e=kG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){He(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const h=a$(f);return h instanceof Zr&&Mj(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(v){return new Fd(qa(v.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Uf(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,y=f.values||[];return new Em(y,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,y=f.values||[];return new Em(y,h)}(n.endAt)),eG(e,i,s,o,a,"F",l,u)}function MG(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function a$(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qa(n.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=qa(n.unaryFilter.field);return Ot.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=qa(n.unaryFilter.field);return Ot.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=qa(n.unaryFilter.field);return Ot.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(t):t.fieldFilter!==void 0?function(n){return Ot.create(qa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Zr.create(n.compositeFilter.filters.map(r=>a$(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(t):Ae()}function DG(t){return _G[t]}function jG(t){return EG[t]}function $G(t){return SG[t]}function Ga(t){return{fieldPath:t.canonicalString()}}function qa(t){return an.fromServerFormat(t.fieldPath)}function l$(t){return t instanceof Ot?function(n){if(n.op==="=="){if(Rk(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NAN"}};if(Pk(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Rk(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NAN"}};if(Pk(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(n.field),op:jG(n.op),value:n.value}}}(t):t instanceof Zr?function(n){const r=n.getFilters().map(i=>l$(i));return r.length===1?r[0]:{compositeFilter:{op:$G(n.op),filters:r}}}(t):Ae()}function LG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function u$(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n,r,i,o=ke.min(),s=ke.min(),a=dn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new $o(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(e){this.ct=e}}function VG(t){const e=OG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(){this.un=new BG}addToCollectionParentIndex(e,n){return this.un.add(n),ae.resolve()}getCollectionParents(e,n){return ae.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ae.resolve()}deleteFieldIndex(e,n){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,n){return ae.resolve()}getDocumentsMatchingTarget(e,n){return ae.resolve(null)}getIndexType(e,n){return ae.resolve(0)}getFieldIndexes(e,n){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,n){return ae.resolve(is.min())}getMinOffsetFromCollectionGroup(e,n){return ae.resolve(is.min())}updateCollectionGroup(e,n,r){return ae.resolve()}updateIndexEntries(e,n){return ae.resolve()}}class BG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new un(st.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new un(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Vl(0)}static kn(){return new Vl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zG{constructor(){this.changes=new Tu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ae.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ed(r.mutation,i,er.empty(),Bt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ue()){const i=zs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=$c();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=zs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=no();const s=Zc(),a=function(){return Zc()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof ps)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),ed(d.mutation,u,d.mutation.getFieldMask(),Bt.now())):s.set(u.key,er.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,d)=>s.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new GG(d,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Zc();let i=new Et((s,a)=>s-a),o=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||er.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(i.get(a.batchId)||Ue()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=zj();d.forEach(h=>{if(!o.has(h)){const y=Yj(n.get(h),r.get(h));y!==null&&f.set(h,y),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ae.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Lj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ae.resolve(zs());let a=-1,l=o;return s.next(u=>ae.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?ae.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{l=l.insert(d,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ue())).next(d=>({batchId:a,changes:Bj(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let i=$c();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=$c();return this.indexManager.getCollectionParents(e,o).next(a=>ae.forEach(a,l=>{const u=function(f,h){return new Su(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const d=u.getKey();s.get(d)===null&&(s=s.insert(d,Yt.newInvalidDocument(d)))});let a=$c();return s.forEach((l,u)=>{const d=o.get(l);d!==void 0&&ed(d.mutation,u,er.empty(),Bt.now()),m0(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ae.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:nr(i.createTime)}}(n)),ae.resolve()}getNamedQuery(e,n){return ae.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:VG(i.bundledQuery),readTime:nr(i.readTime)}}(n)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(){this.overlays=new Et(_e.comparator),this.Ir=new Map}getOverlay(e,n){return ae.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zs();return ae.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),ae.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),ae.resolve()}getOverlaysForCollection(e,n,r){const i=zs(),o=n.length+1,s=new _e(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ae.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Et((u,d)=>u-d);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=zs(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=zs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return ae.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new yG(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ue(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this.Tr=new un(Ht.Er),this.dr=new un(Ht.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ht(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ht(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new _e(new st([])),r=new Ht(n,e),i=new Ht(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new _e(new st([])),r=new Ht(n,e),i=new Ht(n,e+1);let o=Ue();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ht(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ht{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return _e.comparator(e.key,n.key)||Ke(e.wr,n.wr)}static Ar(e,n){return Ke(e.wr,n.wr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new un(Ht.Er)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new gG(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Ht(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ae.resolve(s)}lookupMutationBatch(e,n){return ae.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ht(n,0),i=new Ht(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new un(Ke);return n.forEach(i=>{const o=new Ht(i,0),s=new Ht(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),ae.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const s=new Ht(new _e(o),0);let a=new un(Ke);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),ae.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){He(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ae.forEach(n.mutations,i=>{const o=new Ht(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ht(n,0),i=this.br.firstAfterOrEqual(r);return ae.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JG{constructor(e){this.Mr=e,this.docs=function(){return new Et(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ae.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let r=no();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Yt.newInvalidDocument(i))}),ae.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=no();const s=n.path,a=new _e(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Dz(Mz(d),r)<=0||(i.has(d.key)||m0(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return ae.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ae()}Or(e,n){return ae.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new XG(this)}getSize(e){return ae.resolve(this.size)}}class XG extends zG{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ae.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(e){this.persistence=e,this.Nr=new Tu(n=>V1(n),U1),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Lr=0,this.Br=new W1,this.targetCount=0,this.kr=Vl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ae.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Vl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ae.resolve()}updateTargetData(e,n){return this.Kn(n),ae.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ae.waitFor(o).next(()=>i)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ae.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ae.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ae.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ae.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ae.resolve(r)}containsKey(e,n){return ae.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(e,n){this.qr={},this.overlays={},this.Qr=new j1(0),this.Kr=!1,this.Kr=!0,this.$r=new KG,this.referenceDelegate=e(this),this.Ur=new QG(this),this.indexManager=new UG,this.remoteDocumentCache=function(i){return new JG(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new FG(n),this.Gr=new HG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new YG(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new eq(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return ae.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class eq extends $z{constructor(e){super(),this.currentSequenceNumber=e}}class K1{constructor(e){this.persistence=e,this.Jr=new W1,this.Yr=null}static Zr(e){return new K1(e)}get Xr(){if(this.Yr)return this.Yr;throw Ae()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ae.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ae.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ae.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Xr,r=>{const i=_e.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ke.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ae.or([()=>ae.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ue(),i=Ue();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Y1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return qB()?8:Lz(Sn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new tq;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(gc()<=ze.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ae.resolve()):(gc()<=ze.DEBUG&&we("QueryEngine","Query:",za(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(gc()<=ze.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fi(n))):ae.resolve())}Yi(e,n){if(jk(n))return ae.resolve(null);let r=fi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Sm(n,null,"F"),r=fi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ue(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,Sm(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return jk(n)||i.isEqual(ke.min())?ae.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?ae.resolve(null):(gc()<=ze.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),za(n)),this.rs(e,s,n,Oz(i,-1)).next(a=>a))})}ts(e,n){let r=new un(Vj(e));return n.forEach((i,o)=>{m0(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return gc()<=ze.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",za(n)),this.Ji.getDocumentsMatchingQuery(e,n,is.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Et(Ke),this._s=new Tu(o=>V1(o),U1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qG(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function iq(t,e,n,r){return new rq(t,e,n,r)}async function c$(t,e){const n=Pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ue();for(const u of i){s.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of o){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function oq(t,e){const n=Pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,h=f.keys();let y=ae.resolve();return h.forEach(v=>{y=y.next(()=>d.getEntry(l,v)).next(b=>{const x=u.docVersions.get(v);He(x!==null),b.version.compareTo(x)<0&&(f.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),d.addEntry(b)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function d$(t){const e=Pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function sq(t,e){const n=Pe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,f)=>{const h=i.get(f);if(!h)return;a.push(n.Ur.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,d.addedDocuments,f)));let y=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(dn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(f,y),function(b,x,_){return b.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(h,y,d)&&a.push(n.Ur.updateTargetData(o,y))});let l=no(),u=Ue();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(aq(o,s,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(ke.min())){const d=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return ae.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function aq(t,e,n){let r=Ue(),i=Ue();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=no();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ke.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):we("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function lq(t,e){const n=Pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uq(t,e){const n=Pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,ae.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new $o(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function bb(t,e,n){const r=Pe(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Vf(s))throw s;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Wk(t,e,n){const r=Pe(t);let i=ke.min(),o=Ue();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,d){const f=Pe(l),h=f._s.get(d);return h!==void 0?ae.resolve(f.os.get(h)):f.Ur.getTargetData(u,d)}(r,s,fi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ke.min(),n?o:Ue())).next(a=>(cq(r,nG(e),a),{documents:a,Ts:o})))}function cq(t,e,n){let r=t.us.get(e)||ke.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class Kk{constructor(){this.activeTargetIds=lG()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dq{constructor(){this.so=new Kk,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Kk,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh=null;function vv(){return qh===null?qh=function(){return 268435456+Math.round(2147483648*Math.random())}():qh++,"0x"+qh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class mq extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=vv(),l=this.xo(n,r.toUriEncodedString());we("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(d=>(we("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Md("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Eu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=hq[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=vv();return new Promise((s,a)=>{const l=new Ej;l.setWithCredentials(!0),l.listenOnce(Sj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Np.NO_ERROR:const d=l.getResponseJson();we(yn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case Np.TIMEOUT:we(yn,`RPC '${e}' ${o} timed out`),a(new pe(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Np.HTTP_ERROR:const f=l.getStatus();if(we(yn,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const y=h==null?void 0:h.error;if(y&&y.status&&y.message){const v=function(x){const _=x.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(_)>=0?_:ne.UNKNOWN}(y.status);a(new pe(v,y.message))}else a(new pe(ne.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new pe(ne.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{we(yn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);we(yn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=vv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=kj(),a=Aj(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=o.join("");we(yn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=s.createWebChannel(d,l);let h=!1,y=!1;const v=new pq({Io:x=>{y?we(yn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(we(yn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),we(yn,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},To:()=>f.close()}),b=(x,_,w)=>{x.listen(_,E=>{try{w(E)}catch(C){setTimeout(()=>{throw C},0)}})};return b(f,jc.EventType.OPEN,()=>{y||(we(yn,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),b(f,jc.EventType.CLOSE,()=>{y||(y=!0,we(yn,`RPC '${e}' stream ${i} transport closed`),v.So())}),b(f,jc.EventType.ERROR,x=>{y||(y=!0,Md(yn,`RPC '${e}' stream ${i} transport errored:`,x),v.So(new pe(ne.UNAVAILABLE,"The operation could not be completed")))}),b(f,jc.EventType.MESSAGE,x=>{var _;if(!y){const w=x.data[0];He(!!w);const E=w,C=E.error||((_=E[0])===null||_===void 0?void 0:_.error);if(C){we(yn,`RPC '${e}' stream ${i} received error:`,C);const S=C.status;let I=function(N){const M=Nt[N];if(M!==void 0)return Zj(M)}(S),k=C.message;I===void 0&&(I=ne.INTERNAL,k="Unknown error status: "+S+" with message "+C.message),y=!0,v.So(new pe(I,k)),f.close()}else we(yn,`RPC '${e}' stream ${i} received:`,w),v.bo(w)}}),b(a,Tj.STAT_EVENT,x=>{x.stat===db.PROXY?we(yn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===db.NOPROXY&&we(yn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function xv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(t){return new TG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new J1(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(to(n.toString()),to("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new pe(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gq extends f${constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=CG(this.serializer,e),r=function(o){if(!("targetChange"in o))return ke.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ke.min():s.readTime?nr(s.readTime):ke.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=xb(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=mb(l)?{documents:PG(o,l)}:{query:RG(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=n$(o,s.resumeToken);const u=yb(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ke.min())>0){a.readTime=km(o,s.snapshotVersion.toTimestamp());const u=yb(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=MG(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=xb(this.serializer),n.removeTarget=e,this.a_(n)}}class yq extends f${constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return He(!!e.streamToken),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=NG(e.writeResults,e.commitTime),r=nr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=xb(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>s$(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,vb(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pe(ne.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,vb(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new pe(ne.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class xq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(to(n),this.D_=!1):we("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{Ta(this)&&(we("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Pe(l);u.L_.add(4),await qf(u),u.q_.set("Unknown"),u.L_.delete(4),await b0(u)}(this))})}),this.q_=new xq(r,i)}}async function b0(t){if(Ta(t))for(const e of t.B_)await e(!0)}async function qf(t){for(const e of t.B_)await e(!1)}function h$(t,e){const n=Pe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),eE(n)?Z1(n):Au(n).r_()&&Q1(n,e))}function X1(t,e){const n=Pe(t),r=Au(n);n.N_.delete(e),r.r_()&&p$(n,e),n.N_.size===0&&(r.r_()?r.o_():Ta(n)&&n.q_.set("Unknown"))}function Q1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Au(t).A_(e)}function p$(t,e){t.Q_.xe(e),Au(t).R_(e)}function Z1(t){t.Q_=new wG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Au(t).start(),t.q_.v_()}function eE(t){return Ta(t)&&!Au(t).n_()&&t.N_.size>0}function Ta(t){return Pe(t).L_.size===0}function m$(t){t.Q_=void 0}async function wq(t){t.q_.set("Online")}async function _q(t){t.N_.forEach((e,n)=>{Q1(t,e)})}async function Eq(t,e){m$(t),eE(t)?(t.q_.M_(e),Z1(t)):t.q_.set("Unknown")}async function Sq(t,e,n){if(t.q_.set("Online"),e instanceof t$&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cm(t,r)}else if(e instanceof Op?t.Q_.Ke(e):e instanceof e$?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ke.min()))try{const r=await d$(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=o.N_.get(u);d&&o.N_.set(u,d.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const d=o.N_.get(l);if(!d)return;o.N_.set(l,d.withResumeToken(dn.EMPTY_BYTE_STRING,d.snapshotVersion)),p$(o,l);const f=new $o(d.target,l,u,d.sequenceNumber);Q1(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){we("RemoteStore","Failed to raise snapshot:",r),await Cm(t,r)}}async function Cm(t,e,n){if(!Vf(e))throw e;t.L_.add(1),await qf(t),t.q_.set("Offline"),n||(n=()=>d$(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await b0(t)})}function g$(t,e){return e().catch(n=>Cm(t,n,e))}async function w0(t){const e=Pe(t),n=ss(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Tq(e);)try{const i=await lq(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Aq(e,i)}catch(i){await Cm(e,i)}y$(e)&&v$(e)}function Tq(t){return Ta(t)&&t.O_.length<10}function Aq(t,e){t.O_.push(e);const n=ss(t);n.r_()&&n.V_&&n.m_(e.mutations)}function y$(t){return Ta(t)&&!ss(t).n_()&&t.O_.length>0}function v$(t){ss(t).start()}async function kq(t){ss(t).p_()}async function Iq(t){const e=ss(t);for(const n of t.O_)e.m_(n.mutations)}async function Cq(t,e,n){const r=t.O_.shift(),i=G1.from(r,e,n);await g$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await w0(t)}async function Nq(t,e){e&&ss(t).V_&&await async function(r,i){if(function(s){return Qj(s)&&s!==ne.ABORTED}(i.code)){const o=r.O_.shift();ss(r).s_(),await g$(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await w0(r)}}(t,e),y$(t)&&v$(t)}async function Jk(t,e){const n=Pe(t);n.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const r=Ta(n);n.L_.add(3),await qf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await b0(n)}async function Pq(t,e){const n=Pe(t);e?(n.L_.delete(2),await b0(n)):e||(n.L_.add(2),await qf(n),n.q_.set("Unknown"))}function Au(t){return t.K_||(t.K_=function(n,r,i){const o=Pe(n);return o.w_(),new gq(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:wq.bind(null,t),Ro:_q.bind(null,t),mo:Eq.bind(null,t),d_:Sq.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),eE(t)?Z1(t):t.q_.set("Unknown")):(await t.K_.stop(),m$(t))})),t.K_}function ss(t){return t.U_||(t.U_=function(n,r,i){const o=Pe(n);return o.w_(),new yq(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:kq.bind(null,t),mo:Nq.bind(null,t),f_:Iq.bind(null,t),g_:Cq.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await w0(t)):(await t.U_.stop(),t.O_.length>0&&(we("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new tE(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nE(t,e){if(to("AsyncQueue",`${e}: ${t}`),Vf(t))return new pe(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=$c(),this.sortedSet=new Et(this.comparator)}static emptySet(e){return new _l(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _l)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _l;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.W_=new Et(_e.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ae():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ul{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ul(e,n,_l.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&p0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Oq{constructor(){this.queries=Qk(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Pe(n),o=i.queries;i.queries=Qk(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new pe(ne.ABORTED,"Firestore shutting down"))}}function Qk(){return new Tu(t=>Fj(t),p0)}async function x$(t,e){const n=Pe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new Rq,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=nE(s,`Initialization of query '${za(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&rE(n)}async function b$(t,e){const n=Pe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Mq(t,e){const n=Pe(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&rE(n)}function Dq(t,e,n){const r=Pe(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function rE(t){t.Y_.forEach(e=>{e.next()})}var wb,Zk;(Zk=wb||(wb={})).ea="default",Zk.Cache="cache";class w${constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ul(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ul.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==wb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _${constructor(e){this.key=e}}class E${constructor(e){this.key=e}}class jq{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ue(),this.mutatedKeys=Ue(),this.Aa=Vj(e),this.Ra=new _l(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Xk,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const h=i.get(d),y=m0(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let x=!1;h&&y?h.data.isEqual(y.data)?v!==b&&(r.track({type:3,doc:y}),x=!0):this.ga(h,y)||(r.track({type:2,doc:y}),x=!0,(l&&this.Aa(y,l)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!h&&y?(r.track({type:0,doc:y}),x=!0):h&&!y&&(r.track({type:1,doc:h}),x=!0,(l||u)&&(a=!0)),x&&(y?(s=s.add(y),o=b?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((d,f)=>function(y,v){const b=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return b(y)-b(v)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new Ul(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Xk,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new E$(r))}),this.da.forEach(r=>{e.has(r)||n.push(new _$(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ue();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ul.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class $q{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Lq{constructor(e){this.key=e,this.va=!1}}class Fq{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Tu(a=>Fj(a),p0),this.Ma=new Map,this.xa=new Set,this.Oa=new Et(_e.comparator),this.Na=new Map,this.La=new W1,this.Ba={},this.ka=new Map,this.qa=Vl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Vq(t,e,n=!0){const r=C$(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await S$(r,e,n,!0),i}async function Uq(t,e){const n=C$(t);await S$(n,e,!0,!1)}async function S$(t,e,n,r){const i=await uq(t.localStore,fi(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Bq(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&h$(t.remoteStore,i),a}async function Bq(t,e,n,r,i){t.Ka=(f,h,y)=>async function(b,x,_,w){let E=x.view.ma(_);E.ns&&(E=await Wk(b.localStore,x.query,!1).then(({documents:k})=>x.view.ma(k,E)));const C=w&&w.targetChanges.get(x.targetId),S=w&&w.targetMismatches.get(x.targetId)!=null,I=x.view.applyChanges(E,b.isPrimaryClient,C,S);return tI(b,x.targetId,I.wa),I.snapshot}(t,f,h,y);const o=await Wk(t.localStore,e,!0),s=new jq(e,o.Ts),a=s.ma(o.documents),l=Gf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);tI(t,n,u.wa);const d=new $q(e,n,s);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function zq(t,e,n){const r=Pe(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!p0(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&X1(r.remoteStore,i.targetId),_b(r,i.targetId)}).catch(Ff)):(_b(r,i.targetId),await bb(r.localStore,i.targetId,!0))}async function Gq(t,e){const n=Pe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),X1(n.remoteStore,r.targetId))}async function qq(t,e,n){const r=Qq(t);try{const i=await function(s,a){const l=Pe(s),u=Bt.now(),d=a.reduce((y,v)=>y.add(v.key),Ue());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let v=no(),b=Ue();return l.cs.getEntries(y,d).next(x=>{v=x,v.forEach((_,w)=>{w.isValidDocument()||(b=b.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,v)).next(x=>{f=x;const _=[];for(const w of a){const E=mG(w,f.get(w.key).overlayedDocument);E!=null&&_.push(new ps(w.key,E,Pj(E.value.mapValue),Ft.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,_,a)}).next(x=>{h=x;const _=x.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(y,x.batchId,_)})}).then(()=>({batchId:h.batchId,changes:Bj(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new Et(Ke)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await Hf(r,i.changes),await w0(r.remoteStore)}catch(i){const o=nE(i,"Failed to persist write");n.reject(o)}}async function T$(t,e){const n=Pe(t);try{const r=await sq(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?He(s.va):i.removedDocuments.size>0&&(He(s.va),s.va=!1))}),await Hf(n,r,e)}catch(r){await Ff(r)}}function eI(t,e,n){const r=Pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Pe(s);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const h of f.j_)h.Z_(a)&&(u=!0)}),u&&rE(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Hq(t,e,n){const r=Pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new Et(_e.comparator);s=s.insert(o,Yt.newNoDocument(o,ke.min()));const a=Ue().add(o),l=new v0(ke.min(),new Map,new Et(Ke),s,a);await T$(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),iE(r)}else await bb(r.localStore,e,!1).then(()=>_b(r,e,n)).catch(Ff)}async function Wq(t,e){const n=Pe(t),r=e.batch.batchId;try{const i=await oq(n.localStore,e);k$(n,r,null),A$(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hf(n,i)}catch(i){await Ff(i)}}async function Kq(t,e,n){const r=Pe(t);try{const i=await function(s,a){const l=Pe(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(He(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);k$(r,e,n),A$(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hf(r,i)}catch(i){await Ff(i)}}function A$(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function k$(t,e,n){const r=Pe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function _b(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||I$(t,r)})}function I$(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(X1(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),iE(t))}function tI(t,e,n){for(const r of n)r instanceof _$?(t.La.addReference(r.key,e),Yq(t,r)):r instanceof E$?(we("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||I$(t,r.key)):Ae()}function Yq(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(we("SyncEngine","New document in limbo: "+n),t.xa.add(r),iE(t))}function iE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new _e(st.fromString(e)),r=t.qa.next();t.Na.set(r,new Lq(n)),t.Oa=t.Oa.insert(n,r),h$(t.remoteStore,new $o(fi(B1(n.path)),r,"TargetPurposeLimboResolution",j1.oe))}}async function Hf(t,e,n){const r=Pe(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Y1.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const d=Pe(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ae.forEach(u,h=>ae.forEach(h.$i,y=>d.persistence.referenceDelegate.addReference(f,h.targetId,y)).next(()=>ae.forEach(h.Ui,y=>d.persistence.referenceDelegate.removeReference(f,h.targetId,y)))))}catch(f){if(!Vf(f))throw f;we("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const y=d.os.get(h),v=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(v);d.os=d.os.insert(h,b)}}}(r.localStore,o))}async function Jq(t,e){const n=Pe(t);if(!n.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const r=await c$(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new pe(ne.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hf(n,r.hs)}}function Xq(t,e){const n=Pe(t),r=n.Na.get(e);if(r&&r.va)return Ue().add(r.key);{let i=Ue();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function C$(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=T$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hq.bind(null,e),e.Ca.d_=Mq.bind(null,e.eventManager),e.Ca.$a=Dq.bind(null,e.eventManager),e}function Qq(t){const e=Pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Wq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Kq.bind(null,e),e}class Nm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=x0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return iq(this.persistence,new nq,e.initialUser,this.serializer)}Ga(e){return new ZG(K1.Zr,this.serializer)}Wa(e){return new dq}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nm.provider={build:()=>new Nm};class Eb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Jq.bind(null,this.syncEngine),await Pq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Oq}()}createDatastore(e){const n=x0(e.databaseInfo.databaseId),r=function(o){return new mq(o)}(e.databaseInfo);return function(o,s,a,l){return new vq(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new bq(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>eI(this.syncEngine,n,0),function(){return Yk.D()?new Yk:new fq}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,d){const f=new Fq(i,o,s,a,l,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Pe(i);we("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await qf(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Eb.provider={build:()=>new Eb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):to("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new pe(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,o){const s=Pe(i),a={documents:o.map(f=>Im(s.serializer,f))},l=await s.Lo("BatchGetDocuments",s.serializer.databaseId,st.emptyPath(),a,o.length),u=new Map;l.forEach(f=>{const h=IG(s.serializer,f);u.set(h.key.toString(),h)});const d=[];return o.forEach(f=>{const h=u.get(f.toString());He(!!h),d.push(h)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new zf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=_e.fromPath(r);this.mutations.push(new Xj(i,this.precondition(i)))}),await async function(r,i){const o=Pe(r),s={writes:i.map(a=>s$(o.serializer,a))};await o.Mo("Commit",o.serializer.databaseId,st.emptyPath(),s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ae();n=ke.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new pe(ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ke.min())?Ft.exists(!1):Ft.updateTime(n):Ft.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ke.min()))throw new pe(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ft.updateTime(n)}return Ft.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this._u=r.maxAttempts,this.t_=new J1(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new Zq(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!Uf(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Qj(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$n.UNAUTHENTICATED,this.clientId=Ij.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{we("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(we("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=nE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bv(t,e){t.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await c$(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function nI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await nH(t);we("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Jk(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Jk(e.remoteStore,i)),t._onlineComponents=e}async function nH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{await bv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Md("Error using user provided cache. Falling back to memory cache: "+n),await bv(t,new Nm)}}else we("FirestoreClient","Using default OfflineComponentProvider"),await bv(t,new Nm);return t._offlineComponents}async function oE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),await nI(t,t._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),await nI(t,new Eb))),t._onlineComponents}function rH(t){return oE(t).then(e=>e.syncEngine)}function iH(t){return oE(t).then(e=>e.datastore)}async function Sb(t){const e=await oE(t),n=e.eventManager;return n.onListen=Vq.bind(null,e.syncEngine),n.onUnlisten=zq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Uq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Gq.bind(null,e.syncEngine),n}function oH(t,e,n={}){const r=new Gi;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const d=new N$({next:h=>{d.Za(),s.enqueueAndForget(()=>b$(o,f)),h.fromCache&&l.source==="server"?u.reject(new pe(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new w$(a,d,{includeMetadataChanges:!0,_a:!0});return x$(o,f)}(await Sb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P$(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R$(t,e,n){if(!n)throw new pe(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sH(t,e,n,r){if(e===!0&&r===!0)throw new pe(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function iI(t){if(!_e.isDocumentKey(t))throw new pe(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oI(t){if(_e.isDocumentKey(t))throw new pe(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae()}function _r(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_0(t);throw new pe(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=P$((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new pe(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sE{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Tz;switch(r.type){case"firstParty":return new Iz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=rI.get(n);r&&(we("ComponentProvider","Removing Datastore"),rI.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fo(this.firestore,e,this._query)}}class _n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class Qo extends fo{constructor(e,n,r){super(e,n,B1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new _e(e))}withConverter(e){return new Qo(this.firestore,e,this._path)}}function oi(t,e,...n){if(t=kt(t),R$("collection","path",e),t instanceof sE){const r=st.fromString(e,...n);return oI(r),new Qo(t,null,r)}{if(!(t instanceof _n||t instanceof Qo))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return oI(r),new Qo(t.firestore,null,r)}}function je(t,e,...n){if(t=kt(t),arguments.length===1&&(e=Ij.newId()),R$("doc","path",e),t instanceof sE){const r=st.fromString(e,...n);return iI(r),new _n(t,null,new _e(r))}{if(!(t instanceof _n||t instanceof Qo))throw new pe(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(st.fromString(e,...n));return iI(r),new _n(t.firestore,t instanceof Qo?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new J1(this,"async_queue_retry"),this.Vu=()=>{const r=xv();r&&we("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=xv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=xv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Gi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Vf(e))throw e;we("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw to("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=tE.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Ae()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function lI(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class ro extends sE{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new aI,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new aI(e),this._firestoreClient=void 0,await e}}}function aH(t,e,n){n||(n="(default)");const r=E1(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),o=r.getOptions(n);if(Nd(o,e))return i;throw new pe(ne.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new pe(ne.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new pe(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function Wf(t){if(t._terminated)throw new pe(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||lH(t),t._firestoreClient}function lH(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,d){return new Uz(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,P$(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new tH(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ma(dn.fromBase64String(e))}catch(n){throw new pe(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ma(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uH=/^__.*__$/;class cH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ps(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bf(e,this.data,n,this.fieldTransforms)}}class O${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ps(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function M$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class cE{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new cE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Pm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(M$(this.Cu)&&uH.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class dH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||x0(e)}Qu(e,n,r,i=!1){return new cE({Cu:e,methodName:n,qu:r,path:an.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kf(t){const e=t._freezeSettings(),n=x0(t._databaseId);return new dH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function dE(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);pE("Data must be an object, but it was:",s,r);const a=D$(r,s);let l,u;if(o.merge)l=new er(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const h=Tb(e,f,n);if(!s.contains(h))throw new pe(ne.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);$$(d,h)||d.push(h)}l=new er(d),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new cH(new Cn(a),l,u)}class E0 extends aE{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof E0}}function fE(t,e,n,r){const i=t.Qu(1,e,n);pE("Data must be an object, but it was:",i,r);const o=[],s=Cn.empty();Sa(r,(l,u)=>{const d=mE(e,l,n);u=kt(u);const f=i.Nu(d);if(u instanceof E0)o.push(d);else{const h=Yf(u,f);h!=null&&(o.push(d),s.set(d,h))}});const a=new er(o);return new O$(s,a,i.fieldTransforms)}function hE(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[Tb(e,r,n)],l=[i];if(o.length%2!=0)throw new pe(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(Tb(e,o[h])),l.push(o[h+1]);const u=[],d=Cn.empty();for(let h=a.length-1;h>=0;--h)if(!$$(u,a[h])){const y=a[h];let v=l[h];v=kt(v);const b=s.Nu(y);if(v instanceof E0)u.push(y);else{const x=Yf(v,b);x!=null&&(u.push(y),d.set(y,x))}}const f=new er(u);return new O$(d,f,s.fieldTransforms)}function fH(t,e,n,r=!1){return Yf(n,t.Qu(r?4:3,e))}function Yf(t,e){if(j$(t=kt(t)))return pE("Unsupported field value:",e,t),D$(t,e);if(t instanceof aE)return function(r,i){if(!M$(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Yf(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uG(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Bt.fromDate(r);return{timestampValue:km(i.serializer,o)}}if(r instanceof Bt){const o=new Bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:km(i.serializer,o)}}if(r instanceof lE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ma)return{bytesValue:n$(i.serializer,r._byteString)};if(r instanceof _n){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:H1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof uE)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return z1(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${_0(r)}`)}(t,e)}function D$(t,e){const n={};return Cj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sa(t,(r,i)=>{const o=Yf(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function j$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Bt||t instanceof lE||t instanceof ma||t instanceof _n||t instanceof aE||t instanceof uE)}function pE(t,e,n){if(!j$(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=_0(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Tb(t,e,n){if((e=kt(e))instanceof ku)return e._internalPath;if(typeof e=="string")return mE(t,e);throw Pm("Field path arguments must be of type string or ",t,!1,void 0,n)}const hH=new RegExp("[~\\*/\\[\\]]");function mE(t,e,n){if(e.search(hH)>=0)throw Pm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ku(...e.split("."))._internalPath}catch{throw Pm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pm(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new pe(ne.INVALID_ARGUMENT,a+t+l)}function $$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pH extends Rm{data(){return super.data()}}function gE(t,e){return typeof e=="string"?mE(t,e):e instanceof ku?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new pe(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yE{}class vE extends yE{}function nd(t,e,...n){let r=[];e instanceof yE&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof bE).length,a=o.filter(l=>l instanceof xE).length;if(s>1||s>0&&a>0)throw new pe(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class xE extends vE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xE(e,n,r)}_apply(e){const n=this._parse(e);return F$(e._query,n),new fo(e.firestore,e.converter,gb(e._query,n))}_parse(e){const n=Kf(e.firestore);return function(o,s,a,l,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new pe(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){cI(f,d);const y=[];for(const v of f)y.push(uI(l,o,v));h={arrayValue:{values:y}}}else h=uI(l,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||cI(f,d),h=fH(a,s,f,d==="in"||d==="not-in");return Ot.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class bE extends yE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Zr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)F$(s,l),s=gb(s,l)}(e._query,n),new fo(e.firestore,e.converter,gb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wE extends vE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new wE(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new pe(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new pe(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fd(o,s)}(e._query,this._field,this._direction);return new fo(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new Su(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function wv(t,e="asc"){const n=e,r=gE("orderBy",t);return wE._create(r,n)}class _E extends vE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new _E(e,n,r)}_apply(e){return new fo(e.firestore,e.converter,Sm(e._query,this._limit,this._limitType))}}function mH(t){return _E._create("limit",t,"F")}function uI(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new pe(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lj(e)&&n.indexOf("/")!==-1)throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!_e.isDocumentKey(r))throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Nk(t,new _e(r))}if(n instanceof _n)return Nk(t,n._key);throw new pe(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_0(n)}.`)}function cI(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function F$(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class V${convertValue(e,n="none"){switch(pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Sa(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>It(s.doubleValue));return new uE(o)}convertGeoPoint(e){return new lE(It(e.latitude),It(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=L1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jd(e));default:return null}}convertTimestamp(e){const n=os(e);return new Bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);He(u$(r));const i=new $d(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(n)||to(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class gH extends V${constructor(e){super(),this.firestore=e}convertBytes(e){return new ma(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class SE extends Rm{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Mp extends SE{data(e={}){return super.data(e)}}class U${constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ol(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Mp(this._firestore,this._userDataWriter,r.key,r,new ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Mp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ol(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Mp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ol(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:yH(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function yH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}class S0 extends V${constructor(e){super(),this.firestore=e}convertBytes(e){return new ma(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function B$(t){t=_r(t,fo);const e=_r(t.firestore,ro),n=Wf(e),r=new S0(e);return L$(t._query),oH(n,t._query).then(i=>new U$(e,r,t,i))}function wi(t,e,n){t=_r(t,_n);const r=_r(t.firestore,ro),i=EE(t.converter,e,n);return T0(r,[dE(Kf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ft.none())])}function Iu(t,e,n,...r){t=_r(t,_n);const i=_r(t.firestore,ro),o=Kf(i);let s;return s=typeof(e=kt(e))=="string"||e instanceof ku?hE(o,"updateDoc",t._key,e,n,r):fE(o,"updateDoc",t._key,e),T0(i,[s.toMutation(t._key,Ft.exists(!0))])}function Aa(t){return T0(_r(t.firestore,ro),[new zf(t._key,Ft.none())])}function ki(t,...e){var n,r,i;t=kt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||lI(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(lI(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,d;if(t instanceof _n)u=_r(t.firestore,ro),d=B1(t._key.path),l={next:f=>{e[s]&&e[s](vH(u,t,f))},error:e[s+1],complete:e[s+2]};else{const f=_r(t,fo);u=_r(f.firestore,ro),d=f._query;const h=new S0(u);l={next:y=>{e[s]&&e[s](new U$(u,h,f,y))},error:e[s+1],complete:e[s+2]},L$(t._query)}return function(h,y,v,b){const x=new N$(b),_=new w$(y,x,v);return h.asyncQueue.enqueueAndForget(async()=>x$(await Sb(h),_)),()=>{x.Za(),h.asyncQueue.enqueueAndForget(async()=>b$(await Sb(h),_))}}(Wf(u),d,a,l)}function T0(t,e){return function(r,i){const o=new Gi;return r.asyncQueue.enqueueAndForget(async()=>qq(await rH(r),i,o)),o.promise}(Wf(t),e)}function vH(t,e,n){const r=n.docs.get(e._key),i=new S0(t);return new SE(t,i,e._key,r,new ol(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xH={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Kf(e)}set(e,n,r){this._verifyNotCommitted();const i=Oo(e,this._firestore),o=EE(i.converter,n,r),s=dE(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Ft.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=Oo(e,this._firestore);let s;return s=typeof(n=kt(n))=="string"||n instanceof ku?hE(this._dataReader,"WriteBatch.update",o._key,n,r,i):fE(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Ft.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Oo(e,this._firestore);return this._mutations=this._mutations.concat(new zf(n._key,Ft.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new pe(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Oo(t,e){if((t=kt(t)).firestore!==e)throw new pe(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Kf(n)}get(n){const r=Oo(n,this._firestore),i=new gH(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||o.length!==1)return Ae();const s=o[0];if(s.isFoundDocument())return new Rm(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new Rm(this._firestore,i,r._key,null,r.converter);throw Ae()})}set(n,r,i){const o=Oo(n,this._firestore),s=EE(o.converter,r,i),a=dE(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){const s=Oo(n,this._firestore);let a;return a=typeof(r=kt(r))=="string"||r instanceof ku?hE(this._dataReader,"Transaction.update",s._key,r,i,o):fE(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){const r=Oo(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Oo(e,this._firestore),r=new S0(this._firestore);return super.get(e).then(i=>new SE(this._firestore,r,n._key,i._document,new ol(!1,!1),n.converter))}}function TE(t,e,n){t=_r(t,ro);const r=Object.assign(Object.assign({},xH),n);return function(o){if(o.maxAttempts<1)throw new pe(ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const l=new Gi;return o.asyncQueue.enqueueAndForget(async()=>{const u=await iH(o);new eH(o.asyncQueue,u,a,s,l).au()}),l.promise}(Wf(t),i=>e(new wH(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z$(t){return Wf(t=_r(t,ro)),new bH(t,e=>T0(t,e))}(function(e,n=!0){(function(i){Eu=i})(wu),jl(new ua("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ro(new Az(r.getProvider("auth-internal")),new Nz(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new pe(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $d(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Xo(Tk,"4.7.3",e),Xo(Tk,"4.7.3","esm2017")})();const _H={apiKey:"AIzaSyAp9vMuLIhE-W8sEVpuzSWr7vvRHOu1pSc",authDomain:"nexo-bbbe5.firebaseapp.com",projectId:"nexo-bbbe5",storageBucket:"nexo-bbbe5.firebasestorage.app",messagingSenderId:"133978874707",appId:"1:133978874707:web:ba5e00d4c5e35b3c5df7a6"},G$=FD(_H),Li=_z(G$),Ee=aH(G$,{ignoreUndefinedProperties:!0}),EH="finansmart_data_v2",AE=[{id:"cat_salario",name:"Salrio",type:"income",color:"emerald",isDefault:!0},{id:"cat_renda_extra",name:"Renda Extra",type:"income",color:"blue",isDefault:!0},{id:"cat_investimentos_in",name:"Investimentos",type:"income",color:"indigo",isDefault:!0},{id:"cat_casa",name:"Casa",type:"expense",color:"orange",isDefault:!0},{id:"cat_mobilidade",name:"Mobilidade",type:"expense",color:"blue",isDefault:!0},{id:"cat_alimentos",name:"Alimentos",type:"expense",color:"red",isDefault:!0},{id:"cat_lazer",name:"Lazer",type:"expense",color:"purple",isDefault:!0},{id:"cat_saude",name:"Sade",type:"expense",color:"teal",isDefault:!0},{id:"cat_educacao",name:"Educao",type:"expense",color:"yellow",isDefault:!0},{id:"cat_pets",name:"Pets",type:"expense",color:"amber",isDefault:!0},{id:"cat_outros",name:"Outros",type:"expense",color:"slate",isDefault:!0}],dI={transactions:[],categories:AE,investments:[],budgets:[],debts:[],shoppingList:[],shoppingBudget:0,kanbanColumns:[],notes:[],unlockedBadges:[],walletBalance:0},q$=t=>`${EH}_${t}`,fI=t=>{try{const e=q$(t),n=localStorage.getItem(e);if(!n)return dI;const r=JSON.parse(n);return r.transactions||(r.transactions=[]),r.investments||(r.investments=[]),r.unlockedBadges||(r.unlockedBadges=[]),r.debts||(r.debts=[]),r.shoppingList||(r.shoppingList=[]),r.kanbanColumns||(r.kanbanColumns=[]),r.notes||(r.notes=[]),(!r.categories||r.categories.length===0)&&(r.categories=AE),r.shoppingBudget===void 0&&(r.shoppingBudget=0),r.budgets?r.budgets=r.budgets.map(i=>({...i,isRecurring:i.isRecurring!==void 0?i.isRecurring:!0,month:i.month||void 0})):r.budgets=[],r.walletBalance===void 0&&(r.walletBalance=r.transactions.reduce((i,o)=>o.status==="paid"?i+(o.type==="income"?o.amount:-o.amount):i,0)),r}catch(e){return console.error("Failed to load data",e),dI}},SH=(t,e)=>{try{const n=q$(e),r=t.transactions.reduce((o,s)=>s.status==="paid"?o+(s.type==="income"?s.amount:-s.amount):o,0),i={...t,walletBalance:r};localStorage.setItem(n,JSON.stringify(i))}catch(n){console.error("Failed to save data",n)}},Bl=t=>t.status==="pending"?0:t.type==="income"?t.amount:-t.amount,TH=(t,e)=>{const n=nd(oi(Ee,"users",t,"transactions"),wv("date","desc"),mH(300)),r=ki(n,h=>{const y=h.docs.map(v=>v.data());e({transactions:y})}),i=ki(oi(Ee,"users",t,"investments"),h=>{const y=h.docs.map(v=>v.data());e({investments:y})}),o=ki(oi(Ee,"users",t,"budgets"),h=>{const y=h.docs.map(v=>v.data());e({budgets:y})}),s=ki(oi(Ee,"users",t,"debts"),h=>{const y=h.docs.map(v=>v.data());e({debts:y})}),a=ki(oi(Ee,"users",t,"shopping_list"),h=>{const y=h.docs.map(v=>v.data());e({shoppingList:y})}),l=ki(nd(oi(Ee,"users",t,"kanban_columns"),wv("order")),h=>{const y=h.docs.map(v=>v.data());e({kanbanColumns:y})}),u=ki(nd(oi(Ee,"users",t,"notes"),wv("date","desc")),h=>{const y=h.docs.map(v=>v.data());e({notes:y})}),d=ki(oi(Ee,"users",t,"categories"),h=>{const y=h.docs.map(v=>v.data());y.length>0&&e({categories:y})}),f=ki(je(Ee,"users",t),h=>{if(h.exists()){const y=h.data(),v={};y.unlockedBadges&&(v.unlockedBadges=y.unlockedBadges),y.wealthProfile&&(v.wealthProfile=y.wealthProfile),y.shoppingBudget!==void 0&&(v.shoppingBudget=y.shoppingBudget),y.walletBalance!==void 0&&(v.walletBalance=y.walletBalance),Object.keys(v).length>0&&e(v)}});return()=>{r(),i(),o(),s(),a(),l(),u(),d(),f()}},hI=async(t,e)=>{await TE(Ee,async n=>{var l;const r=je(Ee,"users",t),o=((l=(await n.get(r)).data())==null?void 0:l.walletBalance)||0,s=Bl(e),a=je(Ee,"users",t,"transactions",e.id);n.set(a,e),n.update(r,{walletBalance:o+s})})},Dp=async(t,e,n)=>{await TE(Ee,async r=>{var y;const i=je(Ee,"users",t,"transactions",e),o=je(Ee,"users",t),s=await r.get(i);if(!s.exists())throw new Error("Transaction not found");const a=s.data(),u=((y=(await r.get(o)).data())==null?void 0:y.walletBalance)||0,d=Bl(a),f={...a,...n},h=Bl(f);r.update(i,n),r.update(o,{walletBalance:u-d+h})})},AH=async(t,e)=>{await TE(Ee,async n=>{var d;const r=je(Ee,"users",t,"transactions",e),i=je(Ee,"users",t),o=await n.get(r);if(!o.exists())throw new Error("Transaction not found");const s=o.data(),l=((d=(await n.get(i)).data())==null?void 0:d.walletBalance)||0,u=Bl(s);n.delete(r),n.update(i,{walletBalance:l-u})})},kH=async t=>{const e=nd(oi(Ee,"users",t,"transactions")),n=await B$(e);let r=0;return n.forEach(i=>{const o=i.data();r+=Bl(o)}),await Iu(je(Ee,"users",t),{walletBalance:r}),r},IH=async(t,e)=>{await wi(je(Ee,"users",t,"investments",e.id),e)},CH=async(t,e,n)=>{await Iu(je(Ee,"users",t,"investments",e),n)},NH=async(t,e)=>{await Aa(je(Ee,"users",t,"investments",e))},PH=async(t,e)=>{await wi(je(Ee,"users",t,"budgets",e.id),e)},RH=async(t,e,n)=>{await Iu(je(Ee,"users",t,"budgets",e),n)},OH=async(t,e)=>{await Aa(je(Ee,"users",t,"budgets",e))},MH=async(t,e)=>{await wi(je(Ee,"users",t,"debts",e.id),e)},pI=async(t,e,n)=>{await Iu(je(Ee,"users",t,"debts",e),n)},DH=async(t,e)=>{await Aa(je(Ee,"users",t,"debts",e))},jH=async(t,e)=>{await wi(je(Ee,"users",t,"shopping_list",e.id),e)},$H=async(t,e,n)=>{await Iu(je(Ee,"users",t,"shopping_list",e),n)},LH=async(t,e)=>{await Aa(je(Ee,"users",t,"shopping_list",e))},FH=async t=>{const e=nd(oi(Ee,"users",t,"shopping_list")),n=await B$(e),r=z$(Ee);n.docs.forEach(i=>{r.delete(i.ref)}),await r.commit()},VH=async(t,e)=>{await wi(je(Ee,"users",t),{shoppingBudget:e},{merge:!0})},UH=async(t,e)=>{await wi(je(Ee,"users",t,"kanban_columns",e.id),e)},BH=async(t,e)=>{await Aa(je(Ee,"users",t,"kanban_columns",e))},zH=async(t,e)=>{await wi(je(Ee,"users",t,"notes",e.id),e)},GH=async(t,e,n)=>{await Iu(je(Ee,"users",t,"notes",e),n)},qH=async(t,e)=>{await Aa(je(Ee,"users",t,"notes",e))},HH=async(t,e)=>{await wi(je(Ee,"users",t,"categories",e.id),e)},WH=async(t,e)=>{await Aa(je(Ee,"users",t,"categories",e))},KH=async(t,e,n)=>{n.includes(e)||await wi(je(Ee,"users",t),{unlockedBadges:[...n,e]},{merge:!0})},YH=async(t,e)=>{await wi(je(Ee,"users",t),{wealthProfile:e},{merge:!0})},mI=async(t,e)=>{const n=z$(Ee);let r=0;e.transactions.forEach(a=>{const l=je(Ee,"users",t,"transactions",a.id);n.set(l,a),r+=Bl(a)}),e.investments.forEach(a=>{const l=je(Ee,"users",t,"investments",a.id);n.set(l,a)}),e.budgets.forEach(a=>{const l=je(Ee,"users",t,"budgets",a.id);n.set(l,a)}),e.debts.forEach(a=>{const l=je(Ee,"users",t,"debts",a.id);n.set(l,a)}),e.shoppingList.forEach(a=>{const l=je(Ee,"users",t,"shopping_list",a.id);n.set(l,a)}),e.kanbanColumns.forEach(a=>{const l=je(Ee,"users",t,"kanban_columns",a.id);n.set(l,a)}),e.notes.forEach(a=>{const l=je(Ee,"users",t,"notes",a.id);n.set(l,a)}),(e.categories&&e.categories.length>0?e.categories:AE).forEach(a=>{const l=je(Ee,"users",t,"categories",a.id);n.set(l,a)});const o=je(Ee,"users",t),s={unlockedBadges:e.unlockedBadges,walletBalance:r,shoppingBudget:e.shoppingBudget||0};e.wealthProfile&&(s.wealthProfile=e.wealthProfile),n.set(o,s,{merge:!0}),await n.commit()};var JH={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let XH,QH;function ZH(){return{geminiUrl:XH,vertexUrl:QH}}function eW(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=ZH();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ho{}function me(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const d=l[u];g(d,e.slice(o+1),n[u])}else for(const u of l)g(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];g(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(a=>p(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function tW(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&o.length>a)for(let l=a;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}Ab(t,i,o,0,s)}}function Ab(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(const l of a[s])Ab(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,a=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of a)l[u]=s[u];for(const[u,d]of Object.entries(l)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);g(s,f,d)}for(const u of a)delete s[u]}}else{const s=t;o in s&&Ab(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kE(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nW(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=p(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function rW(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response","generateVideoResponse"]);return s!=null&&g(e,["response"],oW(s)),e}function iW(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],sW(s)),e}function oW(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>aW(s))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function sW(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>lW(s))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function aW(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],pW(n)),e}function lW(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],mW(n)),e}function uW(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function cW(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function dW(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],fW(s)),e}function fW(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function H$(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],hW(s)),e}function hW(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function pW(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],kE(r));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function mW(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],kE(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var gI;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(gI||(gI={}));var yI;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(yI||(yI={}));var vI;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(vI||(vI={}));var Lo;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Lo||(Lo={}));var xI;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(xI||(xI={}));var bI;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(bI||(bI={}));var wI;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(wI||(wI={}));var _I;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(_I||(_I={}));var EI;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(EI||(EI={}));var SI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(SI||(SI={}));var TI;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(TI||(TI={}));var AI;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(AI||(AI={}));var kI;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(kI||(kI={}));var II;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(II||(II={}));var CI;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(CI||(CI={}));var NI;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(NI||(NI={}));var PI;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(PI||(PI={}));var RI;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(RI||(RI={}));var OI;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(OI||(OI={}));var MI;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(MI||(MI={}));var DI;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(DI||(DI={}));var Om;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Om||(Om={}));var jI;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(jI||(jI={}));var $I;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})($I||($I={}));var LI;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(LI||(LI={}));var kb;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(kb||(kb={}));var FI;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(FI||(FI={}));var VI;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(VI||(VI={}));var Ib;(function(t){t.COLLECTION="COLLECTION"})(Ib||(Ib={}));var UI;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(UI||(UI={}));var BI;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(BI||(BI={}));var zI;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(zI||(zI={}));var GI;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(GI||(GI={}));var qI;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(qI||(qI={}));var HI;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(HI||(HI={}));var WI;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(WI||(WI={}));var KI;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(KI||(KI={}));var YI;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(YI||(YI={}));var JI;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(JI||(JI={}));var XI;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(XI||(XI={}));var QI;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(QI||(QI={}));var ZI;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(ZI||(ZI={}));var eC;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(eC||(eC={}));var tC;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(tC||(tC={}));var nC;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(nC||(nC={}));var rC;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(rC||(rC={}));var iC;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(iC||(iC={}));var oC;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(oC||(oC={}));var sC;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(sC||(sC={}));var aC;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(aC||(aC={}));var lC;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(lC||(lC={}));var uC;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(uC||(uC={}));var cC;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(cC||(cC={}));var dC;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(dC||(dC={}));var fC;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(fC||(fC={}));var hC;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(hC||(hC={}));var sl;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(sl||(sl={}));class Cb{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class yc{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",d=!1;const f=[];for(const h of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[y,v]of Object.entries(h))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(v!==null||v!==void 0)&&f.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const d=[];for(const f of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[h,y]of Object.entries(f))h!=="inlineData"&&(y!==null||y!==void 0)&&d.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return(u=d==null?void 0:d[0])===null||u===void 0?void 0:u.output}}class pC{}class mC{}class gW{}class yW{}class vW{}class xW{}class gC{}class yC{}class vC{}class bW{}class Mm{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Mm;let i;const o=e;return n?i=iW(o):i=rW(o),Object.assign(r,i),r}}class xC{}class bC{}class wC{}class _C{}class wW{}class _W{}class EW{}class IE{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new IE,o=dW(e);return Object.assign(r,o),r}}class SW{}class TW{}class AW{}class EC{}class kW{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class IW{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class CE{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new CE,o=H$(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ye(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function W$(t,e){const n=Ye(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function K$(t){return Array.isArray(t)?t.map(e=>Dm(e)):[Dm(t)]}function Dm(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Y$(t){const e=Dm(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function J$(t){const e=Dm(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function SC(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function X$(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>SC(e)):[SC(t)]}function Nb(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function TC(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function AC(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function wn(t){if(t==null)throw new Error("ContentUnion is required");return Nb(t)?t:{role:"user",parts:X$(t)}}function NE(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=wn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=wn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>wn(n)):[wn(e)]}function Er(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(TC(t)||AC(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[wn(t)]}const e=[],n=[],r=Nb(t[0]);for(const i of t){const o=Nb(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(TC(i)||AC(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:X$(n)}),e}function CW(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Lo).includes(n[0].toUpperCase())?n[0].toUpperCase():Lo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Lo).includes(r.toUpperCase())?r.toUpperCase():Lo.TYPE_UNSPECIFIED})}}function El(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&CW(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(Lo).includes(a.toUpperCase())?a.toUpperCase():Lo.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=El(a);else if(r.includes(s)){const l=[];for(const u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(El(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,d]of Object.entries(a))l[u]=El(d);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function PE(t){return El(t)}function RE(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function OE(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Cu(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=El(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=El(e.response));return t}function Nu(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function NW(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function po(t,e){if(typeof e!="string")throw new Error("name must be a string");return NW(t,e,"cachedContents")}function Q$(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ms(t){return kE(t)}function PW(t){return t!=null&&typeof t=="object"&&"name"in t}function RW(t){return t!=null&&typeof t=="object"&&"video"in t}function OW(t){return t!=null&&typeof t=="object"&&"uri"in t}function Z$(t){var e;let n;if(PW(t)&&(n=t.name),!(OW(t)&&(n=t.uri,n===void 0))&&!(RW(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function eL(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function tL(t){for(const e of["models","tunedModels","publisherModels"])if(MW(t,e))return t[e];return[]}function MW(t,e){return t!==null&&typeof t=="object"&&e in t}function DW(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function jW(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=DW(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function nL(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function $W(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function rL(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Pu(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function iL(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LW(t){const e={},n=p(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>vK(s))),g(e,["inlinedResponses"],o)}const i=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["inlinedEmbedContentResponses"],o)}return e}function FW(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function VW(t){const e={},n=p(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function jp(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&g(e,["state"],iL(i));const o=p(t,["metadata","createTime"]);o!=null&&g(e,["createTime"],o);const s=p(t,["metadata","endTime"]);s!=null&&g(e,["endTime"],s);const a=p(t,["metadata","updateTime"]);a!=null&&g(e,["updateTime"],a);const l=p(t,["metadata","model"]);l!=null&&g(e,["model"],l);const u=p(t,["metadata","output"]);return u!=null&&g(e,["dest"],LW(rL(u))),e}function Pb(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["state"]);i!=null&&g(e,["state"],iL(i));const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["createTime"]);s!=null&&g(e,["createTime"],s);const a=p(t,["startTime"]);a!=null&&g(e,["startTime"],a);const l=p(t,["endTime"]);l!=null&&g(e,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&g(e,["updateTime"],u);const d=p(t,["model"]);d!=null&&g(e,["model"],d);const f=p(t,["inputConfig"]);f!=null&&g(e,["src"],UW(f));const h=p(t,["outputConfig"]);h!=null&&g(e,["dest"],FW(rL(h)));const y=p(t,["completionStats"]);return y!=null&&g(e,["completionStats"],y),e}function UW(t){const e={},n=p(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function BW(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&g(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>yK(t,s))),g(n,["requests","requests"],o)}return n}function zW(t){const e={},n=p(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function GW(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function qW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Pu(t,r)),n}function HW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Pu(t,r)),n}function WW(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],KW(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const s=p(t,["avgLogprobs"]);s!=null&&g(e,["avgLogprobs"],s);const a=p(t,["groundingMetadata"]);a!=null&&g(e,["groundingMetadata"],a);const l=p(t,["index"]);l!=null&&g(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(y=>y)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function KW(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function oL(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>TK(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function YW(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function JW(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&g(e,["outputConfig"],VW($W(i))),n}function kC(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["src"]);i!=null&&g(n,["batch","inputConfig"],BW(t,nL(t,i)));const o=p(e,["config"]);return o!=null&&YW(o,n),n}function XW(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],Ye(t,r));const i=p(e,["src"]);i!=null&&g(n,["inputConfig"],zW(nL(t,i)));const o=p(e,["config"]);return o!=null&&JW(o,n),n}function QW(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function ZW(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["src"]);i!=null&&g(n,["batch","inputConfig"],sK(t,i));const o=p(e,["config"]);return o!=null&&QW(o,n),n}function eK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Pu(t,r)),n}function tK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Pu(t,r)),n}function nK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);return o!=null&&g(e,["error"],o),e}function rK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);return o!=null&&g(e,["error"],o),e}function iK(t,e){const n={},r=p(e,["contents"]);if(r!=null){let o=NE(t,r);Array.isArray(o)&&(o=o.map(s=>s)),g(n,["requests[]","request","content"],o)}const i=p(e,["config"]);return i!=null&&(g(n,["_self"],oK(i,n)),tW(n,{"requests[].*":"requests[].request.*"})),n}function oK(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function sK(t,e){const n={},r=p(e,["fileName"]);r!=null&&g(n,["file_name"],r);const i=p(e,["inlinedRequests"]);return i!=null&&g(n,["requests"],iK(t,i)),n}function aK(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function lK(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function uK(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function cK(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],oL(wn(i)));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&g(r,["topP"],s);const a=p(e,["topK"]);a!=null&&g(r,["topK"],a);const l=p(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=p(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const v=p(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const x=p(e,["responseMimeType"]);x!=null&&g(r,["responseMimeType"],x);const _=p(e,["responseSchema"]);_!=null&&g(r,["responseSchema"],PE(_));const w=p(e,["responseJsonSchema"]);if(w!=null&&g(r,["responseJsonSchema"],w),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=p(e,["safetySettings"]);if(n!==void 0&&E!=null){let O=E;Array.isArray(O)&&(O=O.map(q=>AK(q))),g(n,["safetySettings"],O)}const C=p(e,["tools"]);if(n!==void 0&&C!=null){let O=Nu(C);Array.isArray(O)&&(O=O.map(q=>IK(Cu(q)))),g(n,["tools"],O)}const S=p(e,["toolConfig"]);if(n!==void 0&&S!=null&&g(n,["toolConfig"],kK(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=p(e,["cachedContent"]);n!==void 0&&I!=null&&g(n,["cachedContent"],po(t,I));const k=p(e,["responseModalities"]);k!=null&&g(r,["responseModalities"],k);const T=p(e,["mediaResolution"]);T!=null&&g(r,["mediaResolution"],T);const N=p(e,["speechConfig"]);if(N!=null&&g(r,["speechConfig"],RE(N)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=p(e,["thinkingConfig"]);M!=null&&g(r,["thinkingConfig"],M);const D=p(e,["imageConfig"]);D!=null&&g(r,["imageConfig"],gK(D));const j=p(e,["enableEnhancedCivicAnswers"]);if(j!=null&&g(r,["enableEnhancedCivicAnswers"],j),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function dK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>WW(u))),g(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const s=p(t,["responseId"]);s!=null&&g(e,["responseId"],s);const a=p(t,["usageMetadata"]);return a!=null&&g(e,["usageMetadata"],a),e}function fK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Pu(t,r)),n}function hK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Pu(t,r)),n}function pK(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function mK(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function gK(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function yK(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["request","model"],Ye(t,r));const i=p(e,["contents"]);if(i!=null){let a=Er(i);Array.isArray(a)&&(a=a.map(l=>oL(l))),g(n,["request","contents"],a)}const o=p(e,["metadata"]);o!=null&&g(n,["metadata"],o);const s=p(e,["config"]);return s!=null&&g(n,["request","generationConfig"],cK(t,s,p(n,["request"],{}))),n}function vK(t){const e={},n=p(t,["response"]);n!=null&&g(e,["response"],dK(n));const r=p(t,["error"]);return r!=null&&g(e,["error"],r),e}function xK(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function bK(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),n}function wK(t){const e={},n=p(t,["config"]);return n!=null&&xK(n,e),e}function _K(t){const e={},n=p(t,["config"]);return n!=null&&bK(n,e),e}function EK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>jp(s))),g(e,["batchJobs"],o)}return e}function SK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Pb(s))),g(e,["batchJobs"],o)}return e}function TK(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],aK(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],lK(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],GW(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function AK(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function kK(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],uK(r)),e}function IK(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],pK(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],mK(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var io;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(io||(io={}));class ka{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CK extends ho{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ka(io.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=kC(this.apiClient,e),r=n._url,i=me("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(const d of l){const f=Object.assign({},d);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const y=f.request;y.systemInstruction=h,f.request=y}u.push(f)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=XW(this.apiClient,e);return a=me("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>Pb(d))}else{const u=kC(this.apiClient,e);return a=me("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>jp(d))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=ZW(this.apiClient,e);return o=me("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>jp(l))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=hK(this.apiClient,e);return a=me("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>Pb(d))}else{const u=fK(this.apiClient,e);return a=me("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>jp(d))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=HW(this.apiClient,e);s=me("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=qW(this.apiClient,e);s=me("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=_K(e);return a=me("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const f=SK(d),h=new EC;return Object.assign(h,f),h})}else{const u=wK(e);return a=me("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const f=EK(d),h=new EC;return Object.assign(h,f),h})}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=tK(this.apiClient,e);return a=me("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>rK(d))}else{const u=eK(this.apiClient,e);return a=me("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>nK(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NK(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function IC(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ZK(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function PK(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const s=p(t,["contents"]);if(e!==void 0&&s!=null){let d=Er(s);Array.isArray(d)&&(d=d.map(f=>IC(f))),g(e,["contents"],d)}const a=p(t,["systemInstruction"]);e!==void 0&&a!=null&&g(e,["systemInstruction"],IC(wn(a)));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(f=>tY(f))),g(e,["tools"],d)}const u=p(t,["toolConfig"]);if(e!==void 0&&u!=null&&g(e,["toolConfig"],eY(u)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function RK(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const s=p(t,["contents"]);if(e!==void 0&&s!=null){let f=Er(s);Array.isArray(f)&&(f=f.map(h=>h)),g(e,["contents"],f)}const a=p(t,["systemInstruction"]);e!==void 0&&a!=null&&g(e,["systemInstruction"],wn(a));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>nY(h))),g(e,["tools"],f)}const u=p(t,["toolConfig"]);e!==void 0&&u!=null&&g(e,["toolConfig"],u);const d=p(t,["kmsKeyName"]);return e!==void 0&&d!=null&&g(e,["encryption_spec","kmsKeyName"],d),n}function OK(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],W$(t,r));const i=p(e,["config"]);return i!=null&&PK(i,n),n}function MK(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],W$(t,r));const i=p(e,["config"]);return i!=null&&RK(i,n),n}function DK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],po(t,r)),n}function jK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],po(t,r)),n}function $K(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function LK(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function FK(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function VK(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function UK(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function BK(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&g(e,["response"],s);const a=p(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function zK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],po(t,r)),n}function GK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],po(t,r)),n}function qK(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function HK(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function WK(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function KK(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function YK(t){const e={},n=p(t,["config"]);return n!=null&&WK(n,e),e}function JK(t){const e={},n=p(t,["config"]);return n!=null&&KK(n,e),e}function XK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["cachedContents"],o)}return e}function QK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["cachedContents"],o)}return e}function ZK(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],FK(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],VK(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],NK(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function eY(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],UK(r)),e}function tY(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],qK(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],HK(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function nY(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=p(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=p(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>BK(h))),g(e,["functionDeclarations"],f)}const a=p(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function rY(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function iY(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function oY(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],po(t,r));const i=p(e,["config"]);return i!=null&&rY(i,n),n}function sY(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],po(t,r));const i=p(e,["config"]);return i!=null&&iY(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aY extends ho{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ka(io.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=MK(this.apiClient,e);return a=me("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const u=OK(this.apiClient,e);return a=me("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=GK(this.apiClient,e);return a=me("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const u=zK(this.apiClient,e);return a=me("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=jK(this.apiClient,e);return a=me("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const f=LK(d),h=new wC;return Object.assign(h,f),h})}else{const u=DK(this.apiClient,e);return a=me("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const f=$K(d),h=new wC;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=sY(this.apiClient,e);return a=me("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>d)}else{const u=oY(this.apiClient,e);return a=me("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>d)}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=JK(e);return a=me("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const f=QK(d),h=new _C;return Object.assign(h,f),h})}else{const u=YK(e);return a=me("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const f=XK(d),h=new _C;return Object.assign(h,f),h})}}}function jm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function CC(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Re(t){return this instanceof Re?(this.v=t,this):new Re(t)}function Kr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(v){return Promise.resolve(v).then(y,f)}}function a(y,v){r[y]&&(i[y]=function(b){return new Promise(function(x,_){o.push([y,b,x,_])>1||l(y,b)})},v&&(i[y]=v(i[y])))}function l(y,v){try{u(r[y](v))}catch(b){h(o[0][3],b)}}function u(y){y.value instanceof Re?Promise.resolve(y.value.v).then(d,f):h(o[0][2],y)}function d(y){l("next",y)}function f(y){l("throw",y)}function h(y,v){y(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Yr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof CC=="function"?CC(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lY(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:sL(n)}function sL(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function uY(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function NC(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!sL(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class cY{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new dY(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class dY{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),uY(o)}async sendMessage(e){var n;await this.sendPromise;const r=wn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const l=await i,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,d=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];d!=null&&(h=(a=d.slice(f))!==null&&a!==void 0?a:[]);const y=u?[u]:[];this.recordHistory(r,y,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=wn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?NC(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Kr(this,arguments,function*(){var i,o,s,a,l,u;const d=[];try{for(var f=!0,h=Yr(e),y;y=yield Re(h.next()),i=y.done,!i;f=!0){a=y.value,f=!1;const v=a;if(lY(v)){const b=(u=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;b!==void 0&&d.push(b)}yield yield Re(v)}}catch(v){o={error:v}}finally{try{!f&&!i&&(s=h.return)&&(yield Re(s.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,d)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...NC(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bd extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Bd.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fY(t){const e={},n=p(t,["file"]);return n!=null&&g(e,["file"],n),e}function hY(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function pY(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],Z$(n)),e}function mY(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function gY(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],Z$(n)),e}function yY(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function vY(t){const e={},n=p(t,["config"]);return n!=null&&yY(n,e),e}function xY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bY extends ho{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ka(io.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=vY(e);return o=me("files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=xY(l),d=new SW;return Object.assign(d,u),d})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=fY(e);return o=me("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=hY(l),d=new TW;return Object.assign(d,u),d})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=gY(e);return o=me("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=pY(e);return o=me("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=mY(l),d=new AW;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $p(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function wY(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>$Y(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function _Y(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function EY(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function SY(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&g(e,["response"],s);const a=p(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function TY(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const s=p(t,["enableAffectiveDialog"]);s!=null&&g(e,["enableAffectiveDialog"],s);const a=p(t,["frequencyPenalty"]);a!=null&&g(e,["frequencyPenalty"],a);const l=p(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&g(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const y=p(t,["responseMimeType"]);y!=null&&g(e,["responseMimeType"],y);const v=p(t,["responseModalities"]);v!=null&&g(e,["responseModalities"],v);const b=p(t,["responseSchema"]);b!=null&&g(e,["responseSchema"],b);const x=p(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const _=p(t,["seed"]);_!=null&&g(e,["seed"],_);const w=p(t,["speechConfig"]);w!=null&&g(e,["speechConfig"],w);const E=p(t,["stopSequences"]);E!=null&&g(e,["stopSequences"],E);const C=p(t,["temperature"]);C!=null&&g(e,["temperature"],C);const S=p(t,["thinkingConfig"]);S!=null&&g(e,["thinkingConfig"],S);const I=p(t,["topK"]);I!=null&&g(e,["topK"],I);const k=p(t,["topP"]);if(k!=null&&g(e,["topP"],k),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function AY(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function kY(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function IY(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=p(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],OE(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=p(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],wY(wn(v)));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let I=Nu(b);Array.isArray(I)&&(I=I.map(k=>FY(Cu(k)))),g(e,["setup","tools"],I)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],LY(x));const _=p(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","inputAudioTranscription"],_);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","outputAudioTranscription"],w);const E=p(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&g(e,["setup","realtimeInputConfig"],E);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&g(e,["setup","contextWindowCompression"],C);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&g(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function CY(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],TY(r));const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=p(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],OE(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=p(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],wn(v));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let k=Nu(b);Array.isArray(k)&&(k=k.map(T=>VY(Cu(T)))),g(e,["setup","tools"],k)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],x);const _=p(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","inputAudioTranscription"],_);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","outputAudioTranscription"],w);const E=p(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&g(e,["setup","realtimeInputConfig"],E);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&g(e,["setup","contextWindowCompression"],C);const S=p(t,["proactivity"]);e!==void 0&&S!=null&&g(e,["setup","proactivity"],S);const I=p(t,["explicitVadSignal"]);return e!==void 0&&I!=null&&g(e,["setup","explicitVadSignal"],I),n}function NY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Ye(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],IY(i,n)),n}function PY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Ye(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],CY(i,n)),n}function RY(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function OY(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["weightedPrompts"],r)}return e}function MY(t){const e={},n=p(t,["media"]);if(n!=null){let u=K$(n);Array.isArray(u)&&(u=u.map(d=>$p(d))),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],$p(J$(r)));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&g(e,["video"],$p(Y$(o)));const s=p(t,["text"]);s!=null&&g(e,["text"],s);const a=p(t,["activityStart"]);a!=null&&g(e,["activityStart"],a);const l=p(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function DY(t){const e={},n=p(t,["media"]);if(n!=null){let u=K$(n);Array.isArray(u)&&(u=u.map(d=>d)),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],J$(r));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&g(e,["video"],Y$(o));const s=p(t,["text"]);s!=null&&g(e,["text"],s);const a=p(t,["activityStart"]);a!=null&&g(e,["activityStart"],a);const l=p(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function jY(t){const e={},n=p(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=p(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const i=p(t,["toolCall"]);i!=null&&g(e,["toolCall"],i);const o=p(t,["toolCallCancellation"]);o!=null&&g(e,["toolCallCancellation"],o);const s=p(t,["usageMetadata"]);s!=null&&g(e,["usageMetadata"],UY(s));const a=p(t,["goAway"]);a!=null&&g(e,["goAway"],a);const l=p(t,["sessionResumptionUpdate"]);l!=null&&g(e,["sessionResumptionUpdate"],l);const u=p(t,["voiceActivityDetectionSignal"]);u!=null&&g(e,["voiceActivityDetectionSignal"],u);const d=p(t,["voiceActivity"]);return d!=null&&g(e,["voiceActivity"],BY(d)),e}function $Y(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],_Y(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],EY(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],$p(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function LY(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function FY(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],AY(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],kY(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function VY(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=p(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=p(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>SY(h))),g(e,["functionDeclarations"],f)}const a=p(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function UY(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&g(e,["toolUsePromptTokenCount"],o);const s=p(t,["thoughtsTokenCount"]);s!=null&&g(e,["thoughtsTokenCount"],s);const a=p(t,["totalTokenCount"]);a!=null&&g(e,["totalTokenCount"],a);const l=p(t,["promptTokensDetails"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["promptTokensDetails"],y)}const u=p(t,["cacheTokensDetails"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["cacheTokensDetails"],y)}const d=p(t,["candidatesTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["responseTokensDetails"],y)}const f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["toolUsePromptTokensDetails"],y)}const h=p(t,["trafficType"]);return h!=null&&g(e,["trafficType"],h),e}function BY(t){const e={},n=p(t,["type"]);return n!=null&&g(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zY(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function GY(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],qY(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const s=p(t,["avgLogprobs"]);s!=null&&g(e,["avgLogprobs"],s);const a=p(t,["groundingMetadata"]);a!=null&&g(e,["groundingMetadata"],a);const l=p(t,["index"]);l!=null&&g(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const d=p(t,["safetyRatings"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(y=>y)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function qY(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function HY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["contents"]);if(i!=null){let o=Er(i);Array.isArray(o)&&(o=o.map(s=>s)),g(n,["contents"],o)}return n}function WY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["tokensInfo"],i)}return e}function KY(t){const e={},n=p(t,["values"]);n!=null&&g(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&g(e,["statistics"],YY(r)),e}function YY(t){const e={},n=p(t,["truncated"]);n!=null&&g(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&g(e,["tokenCount"],r),e}function A0(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>iX(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function JY(t){const e={},n=p(t,["controlType"]);n!=null&&g(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&g(e,["computeControl"],r),e}function XY(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function QY(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],wn(r));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>cL(a))),g(e,["tools"],s)}const o=p(t,["generationConfig"]);return e!==void 0&&o!=null&&g(e,["generationConfig"],zJ(o)),n}function ZY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["contents"]);if(i!=null){let s=Er(i);Array.isArray(s)&&(s=s.map(a=>A0(a))),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&XY(o),n}function eJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["contents"]);if(i!=null){let s=Er(i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&QY(o,n),n}function tJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&g(e,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&g(e,["cachedContentTokenCount"],i),e}function nJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&g(e,["totalTokens"],r),e}function rJ(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Ye(t,r)),n}function iJ(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Ye(t,r)),n}function oJ(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function sJ(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function aJ(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const a=p(t,["guidanceScale"]);e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const y=p(t,["language"]);e!==void 0&&y!=null&&g(e,["parameters","language"],y);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const b=p(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","compressionQuality"],b);const x=p(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const _=p(t,["labels"]);e!==void 0&&_!=null&&g(e,["labels"],_);const w=p(t,["editMode"]);e!==void 0&&w!=null&&g(e,["parameters","editMode"],w);const E=p(t,["baseSteps"]);return e!==void 0&&E!=null&&g(e,["parameters","editConfig","baseSteps"],E),n}function lJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>cX(l))),g(n,["instances[0]","referenceImages"],a)}const s=p(e,["config"]);return s!=null&&aJ(s,n),n}function uJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>k0(o))),g(e,["generatedImages"],i)}return e}function cJ(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function dJ(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["instances[]","title"],i);const o=p(t,["outputDimensionality"]);e!==void 0&&o!=null&&g(e,["parameters","outputDimensionality"],o);const s=p(t,["mimeType"]);e!==void 0&&s!=null&&g(e,["instances[]","mimeType"],s);const a=p(t,["autoTruncate"]);return e!==void 0&&a!=null&&g(e,["parameters","autoTruncate"],a),n}function fJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["contents"]);if(i!=null){let a=NE(t,i);Array.isArray(a)&&(a=a.map(l=>l)),g(n,["requests[]","content"],a)}const o=p(e,["config"]);o!=null&&cJ(o,n);const s=p(e,["model"]);return s!==void 0&&g(n,["requests[]","model"],Ye(t,s)),n}function hJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["contents"]);if(i!=null){let s=NE(t,i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["instances[]","content"],s)}const o=p(e,["config"]);return o!=null&&dJ(o,n),n}function pJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function mJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>KY(s))),g(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function gJ(t){const e={},n=p(t,["endpoint"]);n!=null&&g(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&g(e,["deployedModelId"],r),e}function yJ(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function vJ(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function xJ(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function bJ(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&g(e,["response"],s);const a=p(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function wJ(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],A0(wn(i)));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&g(r,["topP"],s);const a=p(e,["topK"]);a!=null&&g(r,["topK"],a);const l=p(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=p(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const v=p(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const x=p(e,["responseMimeType"]);x!=null&&g(r,["responseMimeType"],x);const _=p(e,["responseSchema"]);_!=null&&g(r,["responseSchema"],PE(_));const w=p(e,["responseJsonSchema"]);if(w!=null&&g(r,["responseJsonSchema"],w),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=p(e,["safetySettings"]);if(n!==void 0&&E!=null){let O=E;Array.isArray(O)&&(O=O.map(q=>dX(q))),g(n,["safetySettings"],O)}const C=p(e,["tools"]);if(n!==void 0&&C!=null){let O=Nu(C);Array.isArray(O)&&(O=O.map(q=>vX(Cu(q)))),g(n,["tools"],O)}const S=p(e,["toolConfig"]);if(n!==void 0&&S!=null&&g(n,["toolConfig"],yX(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=p(e,["cachedContent"]);n!==void 0&&I!=null&&g(n,["cachedContent"],po(t,I));const k=p(e,["responseModalities"]);k!=null&&g(r,["responseModalities"],k);const T=p(e,["mediaResolution"]);T!=null&&g(r,["mediaResolution"],T);const N=p(e,["speechConfig"]);if(N!=null&&g(r,["speechConfig"],RE(N)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=p(e,["thinkingConfig"]);M!=null&&g(r,["thinkingConfig"],M);const D=p(e,["imageConfig"]);D!=null&&g(r,["imageConfig"],KJ(D));const j=p(e,["enableEnhancedCivicAnswers"]);if(j!=null&&g(r,["enableEnhancedCivicAnswers"],j),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function _J(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],wn(i));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&g(r,["topP"],s);const a=p(e,["topK"]);a!=null&&g(r,["topK"],a);const l=p(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const d=p(e,["stopSequences"]);d!=null&&g(r,["stopSequences"],d);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=p(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const v=p(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const x=p(e,["responseMimeType"]);x!=null&&g(r,["responseMimeType"],x);const _=p(e,["responseSchema"]);_!=null&&g(r,["responseSchema"],PE(_));const w=p(e,["responseJsonSchema"]);w!=null&&g(r,["responseJsonSchema"],w);const E=p(e,["routingConfig"]);E!=null&&g(r,["routingConfig"],E);const C=p(e,["modelSelectionConfig"]);C!=null&&g(r,["modelConfig"],C);const S=p(e,["safetySettings"]);if(n!==void 0&&S!=null){let z=S;Array.isArray(z)&&(z=z.map(P=>P)),g(n,["safetySettings"],z)}const I=p(e,["tools"]);if(n!==void 0&&I!=null){let z=Nu(I);Array.isArray(z)&&(z=z.map(P=>cL(Cu(P)))),g(n,["tools"],z)}const k=p(e,["toolConfig"]);n!==void 0&&k!=null&&g(n,["toolConfig"],k);const T=p(e,["labels"]);n!==void 0&&T!=null&&g(n,["labels"],T);const N=p(e,["cachedContent"]);n!==void 0&&N!=null&&g(n,["cachedContent"],po(t,N));const M=p(e,["responseModalities"]);M!=null&&g(r,["responseModalities"],M);const D=p(e,["mediaResolution"]);D!=null&&g(r,["mediaResolution"],D);const j=p(e,["speechConfig"]);j!=null&&g(r,["speechConfig"],RE(j));const O=p(e,["audioTimestamp"]);O!=null&&g(r,["audioTimestamp"],O);const q=p(e,["thinkingConfig"]);q!=null&&g(r,["thinkingConfig"],q);const V=p(e,["imageConfig"]);if(V!=null&&g(r,["imageConfig"],YJ(V)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const L=p(e,["modelArmorConfig"]);return n!==void 0&&L!=null&&g(n,["modelArmorConfig"],L),r}function PC(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["contents"]);if(i!=null){let s=Er(i);Array.isArray(s)&&(s=s.map(a=>A0(a))),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&g(n,["generationConfig"],wJ(t,o,n)),n}function RC(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["contents"]);if(i!=null){let s=Er(i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&g(n,["generationConfig"],_J(t,o,n)),n}function OC(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>GY(u))),g(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const s=p(t,["responseId"]);s!=null&&g(e,["responseId"],s);const a=p(t,["usageMetadata"]);return a!=null&&g(e,["usageMetadata"],a),e}function MC(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>d)),g(e,["candidates"],u)}const i=p(t,["createTime"]);i!=null&&g(e,["createTime"],i);const o=p(t,["modelVersion"]);o!=null&&g(e,["modelVersion"],o);const s=p(t,["promptFeedback"]);s!=null&&g(e,["promptFeedback"],s);const a=p(t,["responseId"]);a!=null&&g(e,["responseId"],a);const l=p(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function EJ(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const o=p(t,["guidanceScale"]);if(e!==void 0&&o!=null&&g(e,["parameters","guidanceScale"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&g(e,["parameters","safetySetting"],s);const a=p(t,["personGeneration"]);e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a);const l=p(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&g(e,["parameters","includeSafetyAttributes"],l);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const d=p(t,["language"]);e!==void 0&&d!=null&&g(e,["parameters","language"],d);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","mimeType"],f);const h=p(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&g(e,["parameters","outputOptions","compressionQuality"],h),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=p(t,["imageSize"]);if(e!==void 0&&y!=null&&g(e,["parameters","sampleImageSize"],y),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function SJ(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const a=p(t,["guidanceScale"]);e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const y=p(t,["language"]);e!==void 0&&y!=null&&g(e,["parameters","language"],y);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const b=p(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","compressionQuality"],b);const x=p(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const _=p(t,["labels"]);e!==void 0&&_!=null&&g(e,["labels"],_);const w=p(t,["imageSize"]);e!==void 0&&w!=null&&g(e,["parameters","sampleImageSize"],w);const E=p(t,["enhancePrompt"]);return e!==void 0&&E!=null&&g(e,["parameters","enhancePrompt"],E),n}function TJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&EJ(o,n),n}function AJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&SJ(o,n),n}function kJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>FJ(s))),g(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],lL(i)),e}function IJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>k0(s))),g(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],uL(i)),e}function CJ(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&g(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const s=p(t,["resolution"]);e!==void 0&&s!=null&&g(e,["parameters","resolution"],s);const a=p(t,["personGeneration"]);if(e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=p(t,["negativePrompt"]);e!==void 0&&l!=null&&g(e,["parameters","negativePrompt"],l);const u=p(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&g(e,["parameters","enhancePrompt"],u),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=p(t,["lastFrame"]);e!==void 0&&d!=null&&g(e,["instances[0]","lastFrame"],I0(d));const f=p(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>PX(y))),g(e,["instances[0]","referenceImages"],h)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function NJ(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const o=p(t,["fps"]);e!==void 0&&o!=null&&g(e,["parameters","fps"],o);const s=p(t,["durationSeconds"]);e!==void 0&&s!=null&&g(e,["parameters","durationSeconds"],s);const a=p(t,["seed"]);e!==void 0&&a!=null&&g(e,["parameters","seed"],a);const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const u=p(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const d=p(t,["personGeneration"]);e!==void 0&&d!=null&&g(e,["parameters","personGeneration"],d);const f=p(t,["pubsubTopic"]);e!==void 0&&f!=null&&g(e,["parameters","pubsubTopic"],f);const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","negativePrompt"],h);const y=p(t,["enhancePrompt"]);e!==void 0&&y!=null&&g(e,["parameters","enhancePrompt"],y);const v=p(t,["generateAudio"]);e!==void 0&&v!=null&&g(e,["parameters","generateAudio"],v);const b=p(t,["lastFrame"]);e!==void 0&&b!=null&&g(e,["instances[0]","lastFrame"],ei(b));const x=p(t,["referenceImages"]);if(e!==void 0&&x!=null){let E=x;Array.isArray(E)&&(E=E.map(C=>RX(C))),g(e,["instances[0]","referenceImages"],E)}const _=p(t,["mask"]);e!==void 0&&_!=null&&g(e,["instances[0]","mask"],NX(_));const w=p(t,["compressionQuality"]);return e!==void 0&&w!=null&&g(e,["parameters","compressionQuality"],w),n}function PJ(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response","generateVideoResponse"]);return s!=null&&g(e,["response"],DJ(s)),e}function RJ(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],jJ(s)),e}function OJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&g(n,["instances[0]","image"],I0(o));const s=p(e,["video"]);s!=null&&g(n,["instances[0]","video"],dL(s));const a=p(e,["source"]);a!=null&&$J(a,n);const l=p(e,["config"]);return l!=null&&CJ(l,n),n}function MJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&g(n,["instances[0]","image"],ei(o));const s=p(e,["video"]);s!=null&&g(n,["instances[0]","video"],fL(s));const a=p(e,["source"]);a!=null&&LJ(a,n);const l=p(e,["config"]);return l!=null&&NJ(l,n),n}function DJ(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>UJ(s))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function jJ(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>BJ(s))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function $J(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],I0(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],dL(o)),n}function LJ(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],ei(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],fL(o)),n}function FJ(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],JJ(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&g(e,["safetyAttributes"],lL(i)),e}function k0(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],aL(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&g(e,["safetyAttributes"],uL(i));const o=p(t,["prompt"]);return o!=null&&g(e,["enhancedPrompt"],o),e}function VJ(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["mask"],aL(n));const r=p(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["labels"],i)}return e}function UJ(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],IX(n)),e}function BJ(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],CX(n)),e}function zJ(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const s=p(t,["enableAffectiveDialog"]);s!=null&&g(e,["enableAffectiveDialog"],s);const a=p(t,["frequencyPenalty"]);a!=null&&g(e,["frequencyPenalty"],a);const l=p(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const d=p(t,["mediaResolution"]);d!=null&&g(e,["mediaResolution"],d);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const y=p(t,["responseMimeType"]);y!=null&&g(e,["responseMimeType"],y);const v=p(t,["responseModalities"]);v!=null&&g(e,["responseModalities"],v);const b=p(t,["responseSchema"]);b!=null&&g(e,["responseSchema"],b);const x=p(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const _=p(t,["seed"]);_!=null&&g(e,["seed"],_);const w=p(t,["speechConfig"]);w!=null&&g(e,["speechConfig"],w);const E=p(t,["stopSequences"]);E!=null&&g(e,["stopSequences"],E);const C=p(t,["temperature"]);C!=null&&g(e,["temperature"],C);const S=p(t,["thinkingConfig"]);S!=null&&g(e,["thinkingConfig"],S);const I=p(t,["topK"]);I!=null&&g(e,["topK"],I);const k=p(t,["topP"]);if(k!=null&&g(e,["topP"],k),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function GJ(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Ye(t,r)),n}function qJ(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Ye(t,r)),n}function HJ(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function WJ(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function KJ(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function YJ(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);r!=null&&g(e,["imageSize"],r);const i=p(t,["personGeneration"]);i!=null&&g(e,["personGeneration"],i);const o=p(t,["outputMimeType"]);o!=null&&g(e,["imageOutputOptions","mimeType"],o);const s=p(t,["outputCompressionQuality"]);return s!=null&&g(e,["imageOutputOptions","compressionQuality"],s),e}function JJ(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],ms(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function aL(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],ms(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function I0(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],ms(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function ei(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],ms(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function XJ(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const s=p(e,["filter"]);n!==void 0&&s!=null&&g(n,["_query","filter"],s);const a=p(e,["queryBase"]);return n!==void 0&&a!=null&&g(n,["_url","models_url"],eL(t,a)),r}function QJ(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const s=p(e,["filter"]);n!==void 0&&s!=null&&g(n,["_query","filter"],s);const a=p(e,["queryBase"]);return n!==void 0&&a!=null&&g(n,["_url","models_url"],eL(t,a)),r}function ZJ(t,e){const n={},r=p(e,["config"]);return r!=null&&XJ(t,r,n),n}function eX(t,e){const n={},r=p(e,["config"]);return r!=null&&QJ(t,r,n),n}function tX(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=tL(i);Array.isArray(o)&&(o=o.map(s=>Rb(s))),g(e,["models"],o)}return e}function nX(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=tL(i);Array.isArray(o)&&(o=o.map(s=>Ob(s))),g(e,["models"],o)}return e}function rX(t){const e={},n=p(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&g(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&g(e,["dilation"],i),e}function Rb(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const o=p(t,["version"]);o!=null&&g(e,["version"],o);const s=p(t,["_self"]);s!=null&&g(e,["tunedModelInfo"],xX(s));const a=p(t,["inputTokenLimit"]);a!=null&&g(e,["inputTokenLimit"],a);const l=p(t,["outputTokenLimit"]);l!=null&&g(e,["outputTokenLimit"],l);const u=p(t,["supportedGenerationMethods"]);u!=null&&g(e,["supportedActions"],u);const d=p(t,["temperature"]);d!=null&&g(e,["temperature"],d);const f=p(t,["maxTemperature"]);f!=null&&g(e,["maxTemperature"],f);const h=p(t,["topP"]);h!=null&&g(e,["topP"],h);const y=p(t,["topK"]);y!=null&&g(e,["topK"],y);const v=p(t,["thinking"]);return v!=null&&g(e,["thinking"],v),e}function Ob(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const o=p(t,["versionId"]);o!=null&&g(e,["version"],o);const s=p(t,["deployedModels"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>gJ(h))),g(e,["endpoints"],f)}const a=p(t,["labels"]);a!=null&&g(e,["labels"],a);const l=p(t,["_self"]);l!=null&&g(e,["tunedModelInfo"],bX(l));const u=p(t,["defaultCheckpointId"]);u!=null&&g(e,["defaultCheckpointId"],u);const d=p(t,["checkpoints"]);if(d!=null){let f=d;Array.isArray(f)&&(f=f.map(h=>h)),g(e,["checkpoints"],f)}return e}function iX(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],yJ(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],vJ(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],zY(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function oX(t){const e={},n=p(t,["productImage"]);return n!=null&&g(e,["image"],ei(n)),e}function sX(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&g(e,["parameters","baseSteps"],i);const o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const s=p(t,["seed"]);e!==void 0&&s!=null&&g(e,["parameters","seed"],s);const a=p(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&g(e,["parameters","safetySetting"],a);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const u=p(t,["addWatermark"]);e!==void 0&&u!=null&&g(e,["parameters","addWatermark"],u);const d=p(t,["outputMimeType"]);e!==void 0&&d!=null&&g(e,["parameters","outputOptions","mimeType"],d);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","compressionQuality"],f);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","enhancePrompt"],h);const y=p(t,["labels"]);return e!==void 0&&y!=null&&g(e,["labels"],y),n}function aX(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["source"]);i!=null&&uX(i,n);const o=p(e,["config"]);return o!=null&&sX(o,n),n}function lX(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>k0(i))),g(e,["generatedImages"],r)}return e}function uX(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["personImage"]);e!==void 0&&i!=null&&g(e,["instances[0]","personImage","image"],ei(i));const o=p(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>oX(a))),g(e,["instances[0]","productImages"],s)}return n}function cX(t){const e={},n=p(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],ei(n));const r=p(t,["referenceId"]);r!=null&&g(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&g(e,["referenceType"],i);const o=p(t,["maskImageConfig"]);o!=null&&g(e,["maskImageConfig"],rX(o));const s=p(t,["controlImageConfig"]);s!=null&&g(e,["controlImageConfig"],JY(s));const a=p(t,["styleImageConfig"]);a!=null&&g(e,["styleImageConfig"],a);const l=p(t,["subjectImageConfig"]);return l!=null&&g(e,["subjectImageConfig"],l),e}function lL(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function uL(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function dX(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function fX(t){const e={},n=p(t,["image"]);return n!=null&&g(e,["image"],ei(n)),e}function hX(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&g(e,["parameters","mode"],r);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&g(e,["parameters","maxPredictions"],i);const o=p(t,["confidenceThreshold"]);e!==void 0&&o!=null&&g(e,["parameters","confidenceThreshold"],o);const s=p(t,["maskDilation"]);e!==void 0&&s!=null&&g(e,["parameters","maskDilation"],s);const a=p(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&g(e,["parameters","binaryColorThreshold"],a);const l=p(t,["labels"]);return e!==void 0&&l!=null&&g(e,["labels"],l),n}function pX(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["source"]);i!=null&&gX(i,n);const o=p(e,["config"]);return o!=null&&hX(o,n),n}function mX(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>VJ(i))),g(e,["generatedMasks"],r)}return e}function gX(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],ei(i));const o=p(t,["scribbleImage"]);return e!==void 0&&o!=null&&g(e,["instances[0]","scribble"],fX(o)),n}function yX(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],xJ(r)),e}function vX(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],HJ(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],WJ(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function cL(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=p(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=p(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>bJ(h))),g(e,["functionDeclarations"],f)}const a=p(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const d=p(t,["urlContext"]);return d!=null&&g(e,["urlContext"],d),e}function xX(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function bX(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function wX(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function _X(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function EX(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","name"],Ye(t,r));const i=p(e,["config"]);return i!=null&&wX(i,n),n}function SX(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["config"]);return i!=null&&_X(i,n),n}function TX(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&g(e,["parameters","safetySetting"],i);const o=p(t,["personGeneration"]);e!==void 0&&o!=null&&g(e,["parameters","personGeneration"],o);const s=p(t,["includeRaiReason"]);e!==void 0&&s!=null&&g(e,["parameters","includeRaiReason"],s);const a=p(t,["outputMimeType"]);e!==void 0&&a!=null&&g(e,["parameters","outputOptions","mimeType"],a);const l=p(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&g(e,["parameters","outputOptions","compressionQuality"],l);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],u);const d=p(t,["imagePreservationFactor"]);e!==void 0&&d!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],d);const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["numberOfImages"]);e!==void 0&&h!=null&&g(e,["parameters","sampleCount"],h);const y=p(t,["mode"]);return e!==void 0&&y!=null&&g(e,["parameters","mode"],y),n}function AX(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["image"]);i!=null&&g(n,["instances[0]","image"],ei(i));const o=p(e,["upscaleFactor"]);o!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=p(e,["config"]);return s!=null&&TX(s,n),n}function kX(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>k0(o))),g(e,["generatedImages"],i)}return e}function IX(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],ms(r));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function CX(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],ms(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function NX(t){const e={},n=p(t,["image"]);n!=null&&g(e,["_self"],ei(n));const r=p(t,["maskMode"]);return r!=null&&g(e,["maskMode"],r),e}function PX(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],I0(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function RX(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],ei(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function dL(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["encodedVideo"],ms(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["encoding"],i),e}function fL(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["bytesBase64Encoded"],ms(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OX(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function MX(t){const e={},n=p(t,["config"]);return n!=null&&OX(n,e),e}function DX(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function jX(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&DX(r,e),e}function $X(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function LX(t,e){const n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["customMetadata"],o)}const i=p(t,["chunkingConfig"]);return e!==void 0&&i!=null&&g(e,["chunkingConfig"],i),n}function FX(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],UX(s)),e}function VX(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["fileName"]);r!=null&&g(e,["fileName"],r);const i=p(t,["config"]);return i!=null&&LX(i,e),e}function UX(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function BX(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function zX(t){const e={},n=p(t,["config"]);return n!=null&&BX(n,e),e}function GX(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["fileSearchStores"],o)}return e}function hL(t,e){const n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=p(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["customMetadata"],a)}const s=p(t,["chunkingConfig"]);return e!==void 0&&s!=null&&g(e,["chunkingConfig"],s),n}function qX(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["config"]);return r!=null&&hL(r,e),e}function HX(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WX="Content-Type",KX="X-Server-Timeout",YX="User-Agent",Mb="x-goog-api-client",JX="1.38.0",XX=`google-genai-sdk/${JX}`,QX="v1beta1",ZX="v1beta";class eQ{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const a=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!a?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:QX}else{if(!this.clientOptions.apiKey)throw new Bd({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:ZX,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===Ib.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&tQ(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await DC(i),new Cb(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await DC(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Kr(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const a="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:d}=yield Re(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(d,{stream:!0});try{const v=JSON.parse(f);if("error"in v){const b=JSON.parse(JSON.stringify(v.error)),x=b.status,_=b.code,w=`got status: ${x}. ${JSON.stringify(v)}`;if(_>=400&&_<600)throw new Bd({message:w,status:_})}}catch(v){if(v.name==="ApiError")throw v}s+=f;let h=-1,y=0;for(;;){h=-1,y=0;for(const x of l){const _=s.indexOf(x);_!==-1&&(h===-1||_<h)&&(h=_,y=x.length)}if(h===-1)break;const v=s.substring(0,h);s=s.substring(h+y);const b=v.trim();if(b.startsWith(a)){const x=b.substring(a.length).trim();try{const _=new Response(x,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Re(new Cb(_))}catch(_){throw new Error(`exception parsing stream chunk ${x}. ${_}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=XX+" "+this.clientOptions.userAgentExtra;return e[YX]=n,e[Mb]=n,e[WX]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(KX,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l={file:i},u=this.getFileName(e),d=me("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(d,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),a=String(s.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,d=this.getFileName(n),f={};r!=null&&hL(r,f);const h=await this.fetchUploadUrl(u,a,l,d,f,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var a;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function DC(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Bd({message:i,status:n}):new Error(i)}}function tQ(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],d=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&d&&typeof d=="object"&&!Array.isArray(d)?a[l]=r(d,u):(d&&u&&typeof d!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof d}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nQ="mcp_used/unknown";let rQ=!1;function pL(t){for(const e of t)if(iQ(e)||typeof e=="object"&&"inputSchema"in e)return!0;return rQ}function mL(t){var e;const n=(e=t[Mb])!==null&&e!==void 0?e:"";t[Mb]=(n+` ${nQ}`).trimStart()}function iQ(t){return t!==null&&typeof t=="object"&&t instanceof ME}function oQ(t){return Kr(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const s=yield Re(n.listTools({cursor:i}));for(const a of s.tools)yield yield Re(a),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class ME{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new ME(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const d of this.mcpClients)try{for(var a=!0,l=(n=void 0,Yr(oQ(d))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const f=i;s.push(f);const h=f.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=d}}catch(f){n={error:f}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),jW(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function sQ(t,e,n){const r=new IW;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class aQ{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=cQ(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const d=new Promise(E=>{u=E}),f=e.callbacks,h=function(){u({})},y=this.apiClient,v={onopen:h,onmessage:E=>{sQ(y,f.onmessage,E)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(E){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(E){}},b=this.webSocketFactory.create(l,uQ(s),v);b.connect(),await d;const w={setup:{model:Ye(this.apiClient,e.model)}};return b.send(JSON.stringify(w)),new lQ(b,this.apiClient)}}class lQ{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=OY(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=RY(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(sl.PLAY)}pause(){this.sendPlaybackControl(sl.PAUSE)}stop(){this.sendPlaybackControl(sl.STOP)}resetContext(){this.sendPlaybackControl(sl.RESET_CONTEXT)}close(){this.conn.close()}}function uQ(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function cQ(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dQ="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function fQ(t,e,n){const r=new kW;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=jY(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class hQ{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new aQ(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let d;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&pL(e.config.tools)&&mL(f);const h=yQ(f);if(this.apiClient.isVertexAI()){const N=this.apiClient.getProject(),M=this.apiClient.getLocation(),D=this.apiClient.getApiKey(),j=!!N&&!!M||!!D;this.apiClient.getCustomBaseUrl()&&!j?d=l:(d=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,d))}else{const N=this.apiClient.getApiKey();let M="BidiGenerateContent",D="key";N!=null&&N.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),M="BidiGenerateContentConstrained",D="access_token"),d=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${M}?${D}=${N}`}let y=()=>{};const v=new Promise(N=>{y=N}),b=e.callbacks,x=function(){var N;(N=b==null?void 0:b.onopen)===null||N===void 0||N.call(b),y({})},_=this.apiClient,w={onopen:x,onmessage:N=>{fQ(_,b.onmessage,N)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(N){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(N){}},E=this.webSocketFactory.create(d,gQ(h),w);E.connect(),await v;let C=Ye(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const N=this.apiClient.getProject(),M=this.apiClient.getLocation();N&&M&&(C=`projects/${N}/locations/${M}/`+C)}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Om.AUDIO]}:e.config.responseModalities=[Om.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const I=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],k=[];for(const N of I)if(this.isCallableTool(N)){const M=N;k.push(await M.tool())}else k.push(N);k.length>0&&(e.config.tools=k);const T={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=PY(this.apiClient,T):S=NY(this.apiClient,T),delete S.config,E.send(JSON.stringify(S)),new mQ(E,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const pQ={turnComplete:!0};class mQ{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Er(n.turns),e.isVertexAI()||(r=r.map(i=>A0(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(dQ)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},pQ),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:DY(e)}:n={realtimeInput:MY(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function gQ(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function yQ(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jC=10;function $C(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Sl(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Sl(t){return"callTool"in t&&typeof t.callTool=="function"}function vQ(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Sl(i)))!==null&&r!==void 0?r:!1}function LC(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Sl(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function FC(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xQ extends ho{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!vQ(n)||$C(n.config))return await this.generateContentInternal(l);const u=LC(n);if(u.length>0){const b=u.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let d,f;const h=Er(l.contents),y=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:jC;let v=0;for(;v<y&&(d=await this.generateContentInternal(l),!(!d.functionCalls||d.functionCalls.length===0));){const b=d.candidates[0].content,x=[];for(const _ of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(Sl(_)){const E=await _.callTool(d.functionCalls);x.push(...E)}v++,f={role:"user",parts:x},l.contents=Er(l.contents),l.contents.push(b),l.contents.push(f),FC(l.config)&&(h.push(b),h.push(f))}return FC(l.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async n=>{var r,i,o,s,a;if(this.maybeMoveToResponseJsonSchem(n),$C(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=LC(n);if(l.length>0){const f=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,d=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new ka(io.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async l=>Sl(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&pL(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),mL(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Sl(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:jC;let s=!1,a=0;const l=await this.initAfcToolsMap(e);return function(u,d,f){return Kr(this,arguments,function*(){for(var h,y,v,b,x,_;a<o;){s&&(a++,s=!1);const S=yield Re(u.processParamsMaybeAddMcpUsage(f)),I=yield Re(u.generateContentStreamInternal(S)),k=[],T=[];try{for(var w=!0,E=(y=void 0,Yr(I)),C;C=yield Re(E.next()),h=C.done,!h;w=!0){b=C.value,w=!1;const N=b;if(yield yield Re(N),N.candidates&&(!((x=N.candidates[0])===null||x===void 0)&&x.content)){T.push(N.candidates[0].content);for(const M of(_=N.candidates[0].content.parts)!==null&&_!==void 0?_:[])if(a<o&&M.functionCall){if(!M.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(M.functionCall.name)){const D=yield Re(d.get(M.functionCall.name).callTool([M.functionCall]));k.push(...D)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${M.functionCall.name}`)}}}}catch(N){y={error:N}}finally{try{!w&&!h&&(v=E.return)&&(yield Re(v.call(E)))}finally{if(y)throw y.error}}if(k.length>0){s=!0;const N=new yc;N.candidates=[{content:{role:"user",parts:k}}],yield yield Re(N);const M=[];M.push(...T),M.push({role:"user",parts:k});const D=Er(f.contents).concat(M);f.contents=D}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=RC(this.apiClient,e);return a=me("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const f=MC(d),h=new yc;return Object.assign(h,f),h})}else{const u=PC(this.apiClient,e);return a=me("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const f=OC(d),h=new yc;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=RC(this.apiClient,e);return a=me("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(f){return Kr(this,arguments,function*(){var h,y,v,b;try{for(var x=!0,_=Yr(f),w;w=yield Re(_.next()),h=w.done,!h;x=!0){b=w.value,x=!1;const E=b,C=MC(yield Re(E.json()));C.sdkHttpResponse={headers:E.headers};const S=new yc;Object.assign(S,C),yield yield Re(S)}}catch(E){y={error:E}}finally{try{!x&&!h&&(v=_.return)&&(yield Re(v.call(_)))}finally{if(y)throw y.error}}})})}else{const u=PC(this.apiClient,e);return a=me("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(f){return Kr(this,arguments,function*(){var h,y,v,b;try{for(var x=!0,_=Yr(f),w;w=yield Re(_.next()),h=w.done,!h;x=!0){b=w.value,x=!1;const E=b,C=OC(yield Re(E.json()));C.sdkHttpResponse={headers:E.headers};const S=new yc;Object.assign(S,C),yield yield Re(S)}}catch(E){y={error:E}}finally{try{!x&&!h&&(v=_.return)&&(yield Re(v.call(_)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=hJ(this.apiClient,e);return a=me("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const f=mJ(d),h=new pC;return Object.assign(h,f),h})}else{const u=fJ(this.apiClient,e);return a=me("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const f=pJ(d),h=new pC;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=AJ(this.apiClient,e);return a=me("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const f=IJ(d),h=new mC;return Object.assign(h,f),h})}else{const u=TJ(this.apiClient,e);return a=me("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const f=kJ(d),h=new mC;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=lJ(this.apiClient,e);return o=me("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=uJ(l),d=new gW;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=AX(this.apiClient,e);return o=me("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=kX(l),d=new yW;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=aX(this.apiClient,e);return o=me("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=lX(l),d=new vW;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=pX(this.apiClient,e);return o=me("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=mX(l),d=new xW;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=qJ(this.apiClient,e);return a=me("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>Ob(d))}else{const u=GJ(this.apiClient,e);return a=me("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>Rb(d))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=eX(this.apiClient,e);return a=me("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const f=nX(d),h=new gC;return Object.assign(h,f),h})}else{const u=ZJ(this.apiClient,e);return a=me("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const f=tX(d),h=new gC;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=SX(this.apiClient,e);return a=me("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>Ob(d))}else{const u=EX(this.apiClient,e);return a=me("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>Rb(d))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=iJ(this.apiClient,e);return a=me("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const f=sJ(d),h=new yC;return Object.assign(h,f),h})}else{const u=rJ(this.apiClient,e);return a=me("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const f=oJ(d),h=new yC;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=eJ(this.apiClient,e);return a=me("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const f=nJ(d),h=new vC;return Object.assign(h,f),h})}else{const u=ZY(this.apiClient,e);return a=me("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const f=tJ(d),h=new vC;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=HY(this.apiClient,e);return o=me("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>{const u=WY(l),d=new bW;return Object.assign(d,u),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=MJ(this.apiClient,e);return a=me("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const f=RJ(d),h=new Mm;return Object.assign(h,f),h})}else{const u=OJ(this.apiClient,e);return a=me("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s.then(d=>{const f=PJ(d),h=new Mm;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bQ extends ho{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=cW(e);return a=me("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s}else{const u=uW(e);return a=me("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=nW(e);return o=me("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wQ(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function _Q(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>PQ(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function EQ(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&g(n,["expireTime"],i);const o=p(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&g(n,["newSessionExpireTime"],o);const s=p(e,["uses"]);n!==void 0&&s!=null&&g(n,["uses"],s);const a=p(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&g(n,["bidiGenerateContentSetup"],NQ(t,a));const l=p(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&g(n,["fieldMask"],l),r}function SQ(t,e){const n={},r=p(e,["config"]);return r!=null&&g(n,["config"],EQ(t,r,n)),n}function TQ(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function AQ(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function kQ(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function IQ(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function CQ(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=p(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const d=p(t,["seed"]);e!==void 0&&d!=null&&g(e,["setup","generationConfig","seed"],d);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],OE(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=p(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],_Q(wn(v)));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let I=Nu(b);Array.isArray(I)&&(I=I.map(k=>OQ(Cu(k)))),g(e,["setup","tools"],I)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],RQ(x));const _=p(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&g(e,["setup","inputAudioTranscription"],_);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","outputAudioTranscription"],w);const E=p(t,["realtimeInputConfig"]);e!==void 0&&E!=null&&g(e,["setup","realtimeInputConfig"],E);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&g(e,["setup","contextWindowCompression"],C);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&g(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function NQ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Ye(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],CQ(i,n)),n}function PQ(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],TQ(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],AQ(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],wQ(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const d=p(t,["thought"]);d!=null&&g(e,["thought"],d);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function RQ(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function OQ(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),g(e,["functionDeclarations"],d)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],kQ(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],IQ(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MQ(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function DQ(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=MQ(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class jQ extends ho{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=SQ(this.apiClient,e);o=me("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=DQ(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $Q(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function LQ(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&$Q(r,e),e}function FQ(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function VQ(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function UQ(t){const e={},n=p(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=p(t,["config"]);return r!=null&&VQ(r,e),e}function BQ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zQ extends ho{constructor(e){super(),this.apiClient=e,this.list=async n=>new ka(io.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=FQ(e);return o=me("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=LQ(e);i=me("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=UQ(e);return o=me("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=BQ(l),d=new wW;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GQ extends ho{constructor(e,n=new zQ(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new ka(io.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=MX(e);return o=me("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=$X(e);return o=me("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=jX(e);i=me("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=zX(e);return o=me("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=GX(l),d=new _W;return Object.assign(d,u),d})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=qX(e);return o=me("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=HX(l),d=new EW;return Object.assign(d,u),d})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=VX(e);return o=me("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=FX(l),d=new IE;return Object.assign(d,u),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let gL=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return gL=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const qQ=()=>gL();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Db(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const jb=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kr extends Error{}class Mn extends kr{constructor(e,n,r,i){super(`${Mn.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new C0({message:r,cause:jb(n)});const o=n;return e===400?new vL(e,o,r,i):e===401?new xL(e,o,r,i):e===403?new bL(e,o,r,i):e===404?new wL(e,o,r,i):e===409?new _L(e,o,r,i):e===422?new EL(e,o,r,i):e===429?new SL(e,o,r,i):e>=500?new TL(e,o,r,i):new Mn(e,o,r,i)}}class $b extends Mn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class C0 extends Mn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class yL extends C0{constructor({message:e}={}){super({message:e??"Request timed out."})}}class vL extends Mn{}class xL extends Mn{}class bL extends Mn{}class wL extends Mn{}class _L extends Mn{}class EL extends Mn{}class SL extends Mn{}class TL extends Mn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HQ=/^[a-z][a-z0-9+.-]*:/i,WQ=t=>HQ.test(t);let Lb=t=>(Lb=Array.isArray,Lb(t));const KQ=Lb;let YQ=KQ;const VC=YQ;function JQ(t){if(!t)return!0;for(const e in t)return!1;return!0}function XQ(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const QQ=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new kr(`${t} must be an integer`);if(e<0)throw new kr(`${t} must be a positive integer`);return e},ZQ=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eZ=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ha="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tZ(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const nZ=()=>{var t,e,n,r,i;const o=tZ();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ha,"X-Stainless-OS":BC(Deno.build.os),"X-Stainless-Arch":UC(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ha,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ha,"X-Stainless-OS":BC((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":UC((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=rZ();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ha,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ha,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function rZ(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}const UC=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",BC=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Hh;const iZ=()=>Hh??(Hh=nZ());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oZ(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function AL(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function sZ(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return AL({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function kL(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function aZ(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lZ=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IL=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function _v(t,e,n){return IL(),new File(t,e??"unknown_file",n)}function uZ(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const cZ=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CL=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",dZ=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&CL(t),fZ=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function hZ(t,e,n){if(IL(),t=await t,dZ(t))return t instanceof File?t:_v([await t.arrayBuffer()],t.name);if(fZ(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),_v(await Fb(i),e,n)}const r=await Fb(t);if(e||(e=uZ(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return _v(r,e,n)}async function Fb(t){var e,n,r,i,o;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(CL(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(cZ(t))try{for(var a=!0,l=Yr(t),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const d=i;s.push(...await Fb(d))}}catch(d){n={error:d}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const d=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${d?`; constructor: ${d}`:""}${pZ(t)}`)}return s}function pZ(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NL{constructor(e){this._client=e}}NL._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PL(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const zC=Object.freeze(Object.create(null)),mZ=(t=PL)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],s=n.reduce((d,f,h)=>{var y,v,b;/[?#]/.test(f)&&(i=!0);const x=r[h];let _=(i?encodeURIComponent:t)(""+x);return h!==r.length&&(x==null||typeof x=="object"&&x.toString===((b=Object.getPrototypeOf((v=Object.getPrototypeOf((y=x.hasOwnProperty)!==null&&y!==void 0?y:zC))!==null&&v!==void 0?v:zC))===null||b===void 0?void 0:b.toString))&&(_=x+"",o.push({start:d.length+f.length,length:_.length,error:`Value of type ${Object.prototype.toString.call(x).slice(8,-1)} is not a valid path parameter`})),d+f+(h===r.length?"":_)},""),a=s.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(a))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((d,f)=>d.start-f.start),o.length>0){let d=0;const f=o.reduce((h,y)=>{const v=" ".repeat(y.start-d),b="^".repeat(y.length);return d=y.start+y.length,h+v+b},"");throw new kr(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${s}
${f}`)}return s},Wh=mZ(PL);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RL extends NL{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=jm(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new kr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new kr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Wh`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Wh`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Wh`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:s=this._client.apiVersion}=o,a=jm(o,["api_version"]);return this._client.get(Wh`/${s}/interactions/${e}`,Object.assign(Object.assign({query:a},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}RL._key=Object.freeze(["interactions"]);class OL extends RL{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gZ(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Kh;function DE(t){let e;return(Kh??(e=new globalThis.TextEncoder,Kh=e.encode.bind(e)))(t)}let Yh;function GC(t){let e;return(Yh??(e=new globalThis.TextDecoder,Yh=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class N0{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?DE(e):e;this.buffer=gZ([this.buffer,n]);const r=[];let i;for(;(i=yZ(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(GC(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=GC(this.buffer.subarray(0,o));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}N0.NEWLINE_CHARS=new Set([`
`,"\r"]);N0.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function yZ(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function vZ(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $m={off:0,error:200,warn:300,info:400,debug:500},qC=(t,e,n)=>{if(t){if(XQ($m,t))return t;An(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys($m))}`)}};function Fc(){}function Jh(t,e,n){return!e||$m[t]>$m[n]?Fc:e[t].bind(e)}const xZ={error:Fc,warn:Fc,info:Fc,debug:Fc};let HC=new WeakMap;function An(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return xZ;const i=HC.get(n);if(i&&i[0]===r)return i[1];const o={error:Jh("error",n,r),warn:Jh("warn",n,r),info:Jh("info",n,r),debug:Jh("debug",n,r)};return HC.set(n,[r,o]),o}const Os=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class al{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?An(r):console;function s(){return Kr(this,arguments,function*(){var l,u,d,f;if(i)throw new kr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,v=Yr(bZ(e,n)),b;b=yield Re(v.next()),l=b.done,!l;y=!0){f=b.value,y=!1;const x=f;if(!h)if(x.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield Re(JSON.parse(x.data))}catch(_){throw o.error("Could not parse message into JSON:",x.data),o.error("From chunk:",x.raw),_}}}catch(x){u={error:x}}finally{try{!y&&!l&&(d=v.return)&&(yield Re(d.call(v)))}finally{if(u)throw u.error}}h=!0}catch(x){if(Db(x))return yield Re(void 0);throw x}finally{h||n.abort()}})}return new al(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return Kr(this,arguments,function*(){var l,u,d,f;const h=new N0,y=kL(e);try{for(var v=!0,b=Yr(y),x;x=yield Re(b.next()),l=x.done,!l;v=!0){f=x.value,v=!1;const _=f;for(const w of h.decode(_))yield yield Re(w)}}catch(_){u={error:_}}finally{try{!v&&!l&&(d=b.return)&&(yield Re(d.call(b)))}finally{if(u)throw u.error}}for(const _ of h.flush())yield yield Re(_)})}function s(){return Kr(this,arguments,function*(){var l,u,d,f;if(i)throw new kr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,v=Yr(o()),b;b=yield Re(v.next()),l=b.done,!l;y=!0){f=b.value,y=!1;const x=f;h||x&&(yield yield Re(JSON.parse(x)))}}catch(x){u={error:x}}finally{try{!y&&!l&&(d=v.return)&&(yield Re(d.call(v)))}finally{if(u)throw u.error}}h=!0}catch(x){if(Db(x))return yield Re(void 0);throw x}finally{h||n.abort()}})}return new al(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();e.push(s),n.push(s)}return o.shift()}});return[new al(()=>i(e),this.controller,this.client),new al(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return AL({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const s=DE(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function bZ(t,e){return Kr(this,arguments,function*(){var r,i,o,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new kr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new kr("Attempted to iterate over a response with no body");const a=new _Z,l=new N0,u=kL(t.body);try{for(var d=!0,f=Yr(wZ(u)),h;h=yield Re(f.next()),r=h.done,!r;d=!0){s=h.value,d=!1;const y=s;for(const v of l.decode(y)){const b=a.decode(v);b&&(yield yield Re(b))}}}catch(y){i={error:y}}finally{try{!d&&!r&&(o=f.return)&&(yield Re(o.call(f)))}finally{if(i)throw i.error}}for(const y of l.flush()){const v=a.decode(y);v&&(yield yield Re(v))}})}function wZ(t){return Kr(this,arguments,function*(){var n,r,i,o;let s=new Uint8Array;try{for(var a=!0,l=Yr(t),u;u=yield Re(l.next()),n=u.done,!n;a=!0){o=u.value,a=!1;const d=o;if(d==null)continue;const f=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?DE(d):d;let h=new Uint8Array(s.length+f.length);h.set(s),h.set(f,s.length),s=h;let y;for(;(y=vZ(s))!==-1;)yield yield Re(s.slice(0,y)),s=s.slice(y)}}catch(d){r={error:d}}finally{try{!a&&!n&&(i=l.return)&&(yield Re(i.call(l)))}finally{if(r)throw r.error}}s.length>0&&(yield yield Re(s))})}class _Z{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=EZ(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function EZ(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function SZ(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{var a;if(e.options.stream)return An(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):al.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(a=l==null?void 0:l.split(";")[0])===null||a===void 0?void 0:a.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return An(t).debug(`[${r}] response parsed`,Os({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-o})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jE extends Promise{constructor(e,n,r=SZ){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new jE(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ML=Symbol("brand.privateNullableHeaders");function*TZ(t){if(!t)return;if(ML in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():VC(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=VC(r[1])?r[1]:[r[1]];let s=!1;for(const a of o)a!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,a])}}const vc=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,s]of TZ(r)){const a=o.toLowerCase();i.has(a)||(e.delete(o),i.add(a)),s===null?(e.delete(o),n.add(a)):(e.append(o,s),n.delete(a))}}return{[ML]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ev=t=>{var e,n,r,i,o,s;if(typeof globalThis.process<"u")return(r=(n=(e=JH)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var DL;class P0{constructor(e){var n,r,i,o,s,a,l,{baseURL:u=Ev("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:d=(n=Ev("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,h=jm(e,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:d,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(r=y.timeout)!==null&&r!==void 0?r:P0.DEFAULT_TIMEOUT,this.logger=(i=y.logger)!==null&&i!==void 0?i:console;const v="warn";this.logLevel=v,this.logLevel=(s=(o=qC(y.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:qC(Ev("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:v,this.fetchOptions=y.fetchOptions,this.maxRetries=(a=y.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(l=y.fetch)!==null&&l!==void 0?l:oZ(),this.encoder=lZ,this._options=y,this.apiKey=d,this.apiVersion=f,this.clientAdapter=y.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=vc([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return vc([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return vc([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new kr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ha}`}defaultIdempotencyKey(){return`stainless-node-retry-${qQ()}`}makeStatusError(e,n,r,i){return Mn.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=WQ(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return JQ(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new jE(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,s;const a=await e,l=(i=a.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(a);const{req:u,url:d,timeout:f}=await this.buildRequest(a,{retryCount:l-n});await this.prepareRequest(u,{url:d,options:a});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(An(this).debug(`[${h}] sending request`,Os({retryOfRequestLogID:r,method:a.method,url:d,options:a,headers:u.headers})),!((o=a.signal)===null||o===void 0)&&o.aborted)throw new $b;const b=new AbortController,x=await this.fetchWithTimeout(d,u,f,b).catch(jb),_=Date.now();if(x instanceof globalThis.Error){const E=`retrying, ${n} attempts remaining`;if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new $b;const C=Db(x)||/timed? ?out/i.test(String(x)+("cause"in x?String(x.cause):""));if(n)return An(this).info(`[${h}] connection ${C?"timed out":"failed"} - ${E}`),An(this).debug(`[${h}] connection ${C?"timed out":"failed"} (${E})`,Os({retryOfRequestLogID:r,url:d,durationMs:_-v,message:x.message})),this.retryRequest(a,n,r??h);throw An(this).info(`[${h}] connection ${C?"timed out":"failed"} - error; no more retries left`),An(this).debug(`[${h}] connection ${C?"timed out":"failed"} (error; no more retries left)`,Os({retryOfRequestLogID:r,url:d,durationMs:_-v,message:x.message})),C?new yL:new C0({cause:x})}const w=`[${h}${y}] ${u.method} ${d} ${x.ok?"succeeded":"failed"} with status ${x.status} in ${_-v}ms`;if(!x.ok){const E=await this.shouldRetry(x);if(n&&E){const N=`retrying, ${n} attempts remaining`;return await aZ(x.body),An(this).info(`${w} - ${N}`),An(this).debug(`[${h}] response error (${N})`,Os({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,durationMs:_-v})),this.retryRequest(a,n,r??h,x.headers)}const C=E?"error; no more retries left":"error; not retryable";An(this).info(`${w} - ${C}`);const S=await x.text().catch(N=>jb(N).message),I=ZQ(S),k=I?void 0:S;throw An(this).debug(`[${h}] response error (${C})`,Os({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,message:k,durationMs:Date.now()-v})),this.makeStatusError(x.status,I,k,x.headers)}return An(this).info(w),An(this).debug(`[${h}] response start`,Os({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,durationMs:_-v})),{response:x,options:a,controller:b,requestLogID:h,retryOfRequestLogID:r,startTime:v}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:s,method:a}=o,l=jm(o,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),d=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},d?{duplex:"half"}:{}),{method:"GET"}),l);a&&(f.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let s;const a=i==null?void 0:i.get("retry-after-ms");if(a){const u=parseFloat(a);Number.isNaN(u)||(s=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!s){const u=parseFloat(l);Number.isNaN(u)?s=Date.parse(l)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,u)}return await eZ(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,s=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const s=Object.assign({},e),{method:a,path:l,query:u,defaultBaseURL:d}=s,f=this.buildURL(l,u,d);"timeout"in s&&QQ("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:y}=this.buildBody({options:s}),v=await this.buildHeaders({options:e,method:a,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:v},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=s.fetchOptions)!==null&&o!==void 0?o:{}),url:f,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let a=vc([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),iZ()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=vc([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:sZ(e)}:this.encoder({body:e,headers:r})}}P0.DEFAULT_TIMEOUT=6e4;class Qt extends P0{constructor(){super(...arguments),this.interactions=new OL(this)}}DL=Qt;Qt.GeminiNextGenAPIClient=DL;Qt.GeminiNextGenAPIClientError=kr;Qt.APIError=Mn;Qt.APIConnectionError=C0;Qt.APIConnectionTimeoutError=yL;Qt.APIUserAbortError=$b;Qt.NotFoundError=wL;Qt.ConflictError=_L;Qt.RateLimitError=SL;Qt.BadRequestError=vL;Qt.AuthenticationError=xL;Qt.InternalServerError=TL;Qt.PermissionDeniedError=bL;Qt.UnprocessableEntityError=EL;Qt.toFile=hZ;Qt.Interactions=OL;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AZ(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function kZ(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function IZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function CZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function NZ(t,e,n){const r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&g(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=p(t,["epochCount"]);e!==void 0&&o!=null&&g(e,["tuningTask","hyperparameters","epochCount"],o);const s=p(t,["learningRateMultiplier"]);if(s!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=p(t,["batchSize"]);e!==void 0&&a!=null&&g(e,["tuningTask","hyperparameters","batchSize"],a);const l=p(t,["learningRate"]);if(e!==void 0&&l!=null&&g(e,["tuningTask","hyperparameters","learningRate"],l),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function PZ(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const y=p(t,["validationDataset"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec"],WC(y))}else if(i==="PREFERENCE_TUNING"){const y=p(t,["validationDataset"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec"],WC(y))}const o=p(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&g(e,["tunedModelDisplayName"],o);const s=p(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);let a=p(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const y=p(t,["epochCount"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(a==="PREFERENCE_TUNING"){const y=p(t,["epochCount"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let l=p(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const y=p(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(l==="PREFERENCE_TUNING"){const y=p(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let u=p(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=p(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(u==="PREFERENCE_TUNING"){const y=p(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let d=p(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const y=p(t,["adapterSize"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(d==="PREFERENCE_TUNING"){const y=p(t,["adapterSize"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["beta"]);return e!==void 0&&h!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function RZ(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&zZ(o);const s=p(t,["config"]);return s!=null&&NZ(s,n),n}function OZ(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&GZ(o,n,e);const s=p(t,["config"]);return s!=null&&PZ(s,n,e),n}function MZ(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function DZ(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function jZ(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const s=p(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),r}function $Z(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const s=p(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),r}function LZ(t,e){const n={},r=p(t,["config"]);return r!=null&&jZ(r,n),n}function FZ(t,e){const n={},r=p(t,["config"]);return r!=null&&$Z(r,n),n}function VZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=p(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>jL(a))),g(n,["tuningJobs"],s)}return n}function UZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=p(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>Vb(a))),g(n,["tuningJobs"],s)}return n}function BZ(t,e){const n={},r=p(t,["name"]);r!=null&&g(n,["model"],r);const i=p(t,["name"]);return i!=null&&g(n,["endpoint"],i),n}function zZ(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=p(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(n,["examples","examples"],i)}return n}function GZ(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=p(t,["gcsUri"]);e!==void 0&&s!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=p(t,["gcsUri"]);e!==void 0&&s!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=p(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=p(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=p(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function jL(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const o=p(t,["state"]);o!=null&&g(n,["state"],Q$(o));const s=p(t,["createTime"]);s!=null&&g(n,["createTime"],s);const a=p(t,["tuningTask","startTime"]);a!=null&&g(n,["startTime"],a);const l=p(t,["tuningTask","completeTime"]);l!=null&&g(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const d=p(t,["description"]);d!=null&&g(n,["description"],d);const f=p(t,["baseModel"]);f!=null&&g(n,["baseModel"],f);const h=p(t,["_self"]);return h!=null&&g(n,["tunedModel"],BZ(h)),n}function Vb(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const o=p(t,["state"]);o!=null&&g(n,["state"],Q$(o));const s=p(t,["createTime"]);s!=null&&g(n,["createTime"],s);const a=p(t,["startTime"]);a!=null&&g(n,["startTime"],a);const l=p(t,["endTime"]);l!=null&&g(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const d=p(t,["error"]);d!=null&&g(n,["error"],d);const f=p(t,["description"]);f!=null&&g(n,["description"],f);const h=p(t,["baseModel"]);h!=null&&g(n,["baseModel"],h);const y=p(t,["tunedModel"]);y!=null&&g(n,["tunedModel"],y);const v=p(t,["preTunedModel"]);v!=null&&g(n,["preTunedModel"],v);const b=p(t,["supervisedTuningSpec"]);b!=null&&g(n,["supervisedTuningSpec"],b);const x=p(t,["preferenceOptimizationSpec"]);x!=null&&g(n,["preferenceOptimizationSpec"],x);const _=p(t,["tuningDataStats"]);_!=null&&g(n,["tuningDataStats"],_);const w=p(t,["encryptionSpec"]);w!=null&&g(n,["encryptionSpec"],w);const E=p(t,["partnerModelTuningSpec"]);E!=null&&g(n,["partnerModelTuningSpec"],E);const C=p(t,["customBaseModel"]);C!=null&&g(n,["customBaseModel"],C);const S=p(t,["experiment"]);S!=null&&g(n,["experiment"],S);const I=p(t,["labels"]);I!=null&&g(n,["labels"],I);const k=p(t,["outputUri"]);k!=null&&g(n,["outputUri"],k);const T=p(t,["pipelineJob"]);T!=null&&g(n,["pipelineJob"],T);const N=p(t,["serviceAccount"]);N!=null&&g(n,["serviceAccount"],N);const M=p(t,["tunedModelDisplayName"]);M!=null&&g(n,["tunedModelDisplayName"],M);const D=p(t,["veoTuningSpec"]);return D!=null&&g(n,["veoTuningSpec"],D),n}function qZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const o=p(t,["metadata"]);o!=null&&g(n,["metadata"],o);const s=p(t,["done"]);s!=null&&g(n,["done"],s);const a=p(t,["error"]);return a!=null&&g(n,["error"],a),n}function WC(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return i!=null&&g(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HZ extends ho{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ka(io.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:kb.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=DZ(e);return a=me("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>Vb(d))}else{const u=MZ(e);return a=me("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>jL(d))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=FZ(e);return a=me("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const f=UZ(d),h=new xC;return Object.assign(h,f),h})}else{const u=LZ(e);return a=me("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const f=VZ(d),h=new xC;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=kZ(e);return a=me("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const f=CZ(d),h=new bC;return Object.assign(h,f),h})}else{const u=AZ(e);return a=me("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:d.headers},h})),s.then(d=>{const f=IZ(d),h=new bC;return Object.assign(h,f),h})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=OZ(e,e);return o=me("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>Vb(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=RZ(e);return o=me("tunedModels",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const d=u;return d.sdkHttpResponse={headers:l.headers},d})),i.then(l=>qZ(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WZ{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const KZ=1024*1024*8,YZ=3,JZ=1e3,XZ=2,Lm="x-goog-upload-status";async function QZ(t,e,n){var r;const i=await $L(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Lm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function ZZ(t,e,n){var r;const i=await $L(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Lm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=H$(o),a=new CE;return Object.assign(a,s),a}async function $L(t,e,n){var r,i;let o=0,s=0,a=new Cb(new Response),l="upload";for(o=t.size;s<o;){const u=Math.min(KZ,o-s),d=t.slice(s,s+u);s+u>=o&&(l+=", finalize");let f=0,h=JZ;for(;f<YZ&&(a=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[Lm]));)f++,await tee(h),h=h*XZ;if(s+=u,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[Lm])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function eee(t){return{size:t.size,type:t.type}}function tee(t){return new Promise(e=>setTimeout(e,t))}class nee{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await QZ(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ZZ(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await eee(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ree{create(e,n,r){return new iee(e,n,r)}}class iee{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KC="x-goog-api-key";class oee{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(KC)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(KC,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const see="gl-node/";class Jf{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Qt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=eW(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new oee(this.apiKey);this.apiClient=new eQ({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:see+"web",uploader:new nee,downloader:new WZ}),this.models=new xQ(this.apiClient),this.live=new hQ(this.apiClient,i,new ree),this.batches=new CK(this.apiClient),this.chats=new cY(this.models,this.apiClient),this.caches=new aY(this.apiClient),this.files=new bY(this.apiClient),this.operations=new bQ(this.apiClient),this.authTokens=new jQ(this.apiClient),this.tunings=new HZ(this.apiClient),this.fileSearchStores=new GQ(this.apiClient)}}const YC=["Casa","Mobilidade","Alimentos","Lazer","Pets","Outros"],R0="nexo_user_api_key",Ru=()=>{const t=localStorage.getItem(R0);return t||null},JC=t=>{localStorage.setItem(R0,t)},aee=()=>{localStorage.removeItem(R0)},XC=()=>!!localStorage.getItem(R0),lee=async t=>{var i;const e=Ru();if(!e)return[];const n=new Jf({apiKey:e}),r=`
    Voc  um assistente de compras inteligente.
    O usurio vai pedir uma receita, evento ou lista genrica.
    Gere uma lista de compras JSON com ingredientes/itens.
    
    CATEGORIAS PERMITIDAS: 'Hortifruti', 'Carnes', 'Laticnios', 'Mercearia', 'Bebidas', 'Limpeza', 'Higiene', 'Padaria', 'Outros'.

    RESPONDA APENAS JSON VLIDO neste formato:
    [
      { "name": "Nome do item", "quantity": 1, "category": "Categoria" }
    ]
  `;try{const s=((i=(await n.models.generateContent({model:"gemini-3-flash-preview",contents:`Gere a lista para: ${t}`,config:{systemInstruction:r,responseMimeType:"application/json"}})).text)==null?void 0:i.trim())||"[]";return JSON.parse(s)}catch(o){return console.error("Erro ao gerar lista:",o),[]}},uee=async t=>{var i;const e=Ru();if(!e)return"Outros";const n=new Jf({apiKey:e}),r=`Classifique "${t}" em: ${YC.join(", ")}. Responda S a categoria.`;try{const s=((i=(await n.models.generateContent({model:"gemini-3-flash-preview",contents:r})).text)==null?void 0:i.trim())||"Outros";return YC.includes(s)?s:"Outros"}catch{return"Outros"}},cee=async t=>{var s,a,l;const e=Ru();if(!e)return{text:"Configure sua API Key nas preferncias para receber recomendaes de investimentos.",sources:[]};const n=new Jf({apiKey:e}),r=t.map(u=>`${u.name} (${u.type}): R$ ${u.amount}`).join(", "),o=`
    Voc  um consultor de investimentos snior especialista no mercado brasileiro.
    Carteira Atual: R$ ${t.reduce((u,d)=>u+d.amount,0)} (${r||"Vazia"}).

    TAREFA:
    Encontre oportunidades REAIS e ATUAIS para diversificao.
    
    FORMATO OBRIGATRIO (Siga estritamente):
    
    ###  Baixo Risco
    1. **[Nome]** - [Taxa/Preo] - [Motivo curto]
    2. **[Nome]** - [Taxa/Preo] - [Motivo curto]
    3. **[Nome]** - [Taxa/Preo] - [Motivo curto]

    ###  Mdio Risco
    (3 opes no mesmo formato)

    ###  Alto Risco
    (3 opes no mesmo formato)

    ---SECTION-BREAK---

    ###  Anlise Tcnica
    (Sua anlise detalhada aqui sobre cenrio macro, inflao e porqus)
  `;try{const u=await n.models.generateContent({model:"gemini-3-flash-preview",contents:o,config:{tools:[{googleSearch:{}}]}}),d=[],f=(l=(a=(s=u.candidates)==null?void 0:s[0])==null?void 0:a.groundingMetadata)==null?void 0:l.groundingChunks;f&&f.forEach(y=>{y.web&&d.push({title:y.web.title||"Fonte Web",uri:y.web.uri||"#"})});const h=d.filter((y,v,b)=>b.findIndex(x=>x.uri===y.uri)===v);return{text:u.text||"No foi possvel gerar recomendaes no momento.",sources:h}}catch(u){console.warn("Google Search Grounding failed, retrying without search...",u);try{return{text:((await n.models.generateContent({model:"gemini-3-flash-preview",contents:o+`

(Nota: A pesquisa em tempo real falhou. Use seu conhecimento geral.)`})).text||"Sem resposta.")+`

 *Nota: O acesso  pesquisa em tempo real falhou. As taxas mencionadas podem ser estimativas baseadas no conhecimento geral do modelo.*`,sources:[]}}catch(d){return console.error("Investment Advice Error (Fallback):",d),{text:`Erro ao consultar IA: ${d.message||"Erro desconhecido"}. Verifique sua chave API ou tente novamente mais tarde.`,sources:[]}}}},dee=async(t,e,n)=>{var l;const r=Ru();if(!r)return null;const i=new Jf({apiKey:r}),o=new Map;t.forEach(u=>{o.set(u.type,(o.get(u.type)||0)+u.amount)});const s=Array.from(o.entries()).map(([u,d])=>`${u}: R$ ${d.toFixed(2)}`).join(", "),a=`
      Atue como um Gestor de Private Banking. O cliente tem ${n} anos e perfil de risco: ${e.toUpperCase()}.
      
      Carteira Atual Agregada: ${s||"R$ 0,00 (Vazia)"}

      Sua tarefa  analisar a alocao de ativos e sugerir o rebalanceamento ideal baseado nas melhores prticas de Wealth Management (como Bridgewater/Arta) adaptado ao Brasil.
      
      RETORNE APENAS JSON VLIDO. NO USE MARKDOWN. Siga este esquema:
      {
        "analysisText": "Pargrafo curto (max 300 chars) com sua viso macro sobre a carteira do cliente.",
        "currentAllocation": [ {"name": "Categoria", "value": %_atual (0-100)} ],
        "suggestedAllocation": [ {"name": "Categoria", "value": %_ideal (0-100)} ],
        "actionItems": [
           {"title": "Ao Ttica", "type": "buy" | "sell" | "hold", "description": "Explicao curta"}
        ]
      }
      
      Regras:
      1. 'suggestedAllocation' deve somar 100.
      2. Categorias sugeridas podem ser: 'Renda Fixa Ps', 'Renda Fixa Pr/IPCA', 'Aes Brasil', 'Aes Global', 'FIIs', 'Cripto/Alternativos', 'Reserva'.
      3. Se a carteira estiver vazia, sugira a alocao ideal do zero.
    `;try{const d=((l=(await i.models.generateContent({model:"gemini-3-flash-preview",contents:a,config:{responseMimeType:"application/json"}})).text)==null?void 0:l.trim())||"{}";return JSON.parse(d)}catch(u){return console.error("Wealth Analysis Error:",u),null}};async function*fee(t,e,n){const r=Ru();if(!r){yield"Por favor, configure sua API Key nas preferncias do menu.";return}const i=new Jf({apiKey:r}),o=n.transactions.filter(w=>w.type==="income").reduce((w,E)=>w+E.amount,0),s=n.transactions.filter(w=>w.type==="expense").reduce((w,E)=>w+E.amount,0),a=n.investments.reduce((w,E)=>w+E.amount,0),l=n.debts.reduce((w,E)=>w+E.currentAmount,0),u=n.transactions.sort((w,E)=>new Date(E.date).getTime()-new Date(w.date).getTime()).slice(0,30).map(w=>`- ${w.date}: ${w.description} (${w.type}) R$ ${w.amount} [${w.category}] Status: ${w.status}`).join(`
`),d=n.investments.map(w=>`- ${w.name} (${w.type}): R$ ${w.amount} (Meta: R$ ${w.targetAmount})`).join(`
`),f=n.debts.map(w=>`- ${w.creditor}: R$ ${w.currentAmount} (Status: ${w.status}, Vence: ${w.dueDate})`).join(`
`);let h="Neutro";l>a*2?h="Endividado (Foco em quitao)":a>s*6?h="Investidor (Foco em otimizao)":o<s&&(h="Dficit (Foco em corte de gastos)");const y=`
    RELATRIO FINANCEIRO DO USURIO (Contexto Interno):
    
    1. PERFIL IDENTIFICADO: ${h}
    2. RESUMO:
       - Renda Total: R$ ${o.toFixed(2)}
       - Despesas Totais: R$ ${s.toFixed(2)}
       - Saldo: R$ ${(o-s).toFixed(2)}
       - Total Investido: R$ ${a.toFixed(2)}
       - Dvidas Ativas: R$ ${l.toFixed(2)}
    3. LTIMAS TRANSAES:
    ${u}
    4. INVESTIMENTOS:
    ${d}
    5. DVIDAS:
    ${f}
  `,v=`
    Voc  o NEXO AI, um assistente financeiro pessoal de elite.
    OBJETIVO: Ajudar o usurio a gerenciar suas finanas com base no perfil identificado: ${h}.
    CONTEXTO: ${y}
    DIRETRIZES:
    - Responda de forma concisa e amigvel.
    - Se o usurio perguntar sobre o saldo, gastos especficos ou investimentos, consulte o relatrio acima.
    - Seja proativo: se vir uma dvida vencendo ou gasto alto, pode alertar sutilmente.
    - Use Markdown para formatar valores e listas.
  `,b=i.chats.create({model:"gemini-3-flash-preview",config:{systemInstruction:v}}),_=`
    [Histrico Recente]:
    ${e.slice(-6).map(w=>`${w.role==="user"?"Usurio":"Modelo"}: ${w.content}`).join(`
`)}
    
    [Nova Mensagem]: ${t}
  `;try{const w=await b.sendMessageStream({message:_});for await(const E of w)E.text&&(yield E.text)}catch(w){console.error(w),yield"Erro de conexo com o crebro digital. Verifique sua Chave de API."}}const hee=({onGuestLogin:t})=>{const[e,n]=U.useState(!1),[r,i]=U.useState(""),[o,s]=U.useState(""),[a,l]=U.useState(""),[u,d]=U.useState(""),[f,h]=U.useState(!1),[y,v]=U.useState(!1),[b,x]=U.useState(!1),_="028.268.001-24",w="Alexandre Magno S. Linhares";U.useEffect(()=>{const T=Li.app.options.apiKey;(!T||T==="SUA_API_KEY_AQUI"||T.includes("SUA_API_KEY"))&&v(!0)},[]);const E=T=>{console.error(T);let N="Erro ao autenticar. Verifique suas credenciais.";T.code==="auth/email-already-in-use"&&(N="Este e-mail j est em uso."),T.code==="auth/invalid-email"&&(N="E-mail invlido."),T.code==="auth/weak-password"&&(N="A senha deve ter pelo menos 6 caracteres."),(T.code==="auth/user-not-found"||T.code==="auth/wrong-password")&&(N="E-mail ou senha incorretos."),T.code==="auth/invalid-credential"&&(N="Credenciais invlidas."),T.code==="auth/invalid-api-key"&&(N="Chave de API invlida.",v(!0)),T.code==="auth/unauthorized-domain"?(N="Domnio no autorizado pelo Firebase.",d(window.location.hostname)):d(""),l(N)},C=async T=>{T.preventDefault(),l(""),d(""),h(!0);try{e?await a9(Li,r,o):await l9(Li,r,o)}catch(N){E(N)}finally{h(!1)}},S=async()=>{l(""),d(""),h(!0);const T=new Br;T.addScope("https://www.googleapis.com/auth/calendar");try{await bj(Li,T)}catch(N){E(N)}finally{h(!1)}},I=()=>{navigator.clipboard.writeText(u),alert("Domnio copiado!")},k=()=>{navigator.clipboard.writeText(_),x(!0),setTimeout(()=>x(!1),2e3)};return y?c.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden border border-slate-700 animate-scale-in flex flex-col md:flex-row",children:[c.jsxs("div",{className:"bg-indigo-600 p-8 text-white md:w-1/3 flex flex-col items-center justify-center text-center",children:[c.jsx(x1,{className:"w-16 h-16 mb-4 opacity-80"}),c.jsx("h2",{className:"text-xl font-bold",children:"Configurao Necessria"}),c.jsx("p",{className:"text-indigo-100 text-sm mt-2",children:"Para usar o modo online, voc precisa conectar seu Firebase."})]}),c.jsxs("div",{className:"p-8 md:w-2/3",children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-4",children:"Siga estes passos:"}),c.jsxs("div",{className:"space-y-4 text-sm text-slate-600 dark:text-slate-300",children:[c.jsxs("div",{className:"flex gap-3",children:[c.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-2 rounded h-fit font-bold",children:"1"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:"Crie o Banco de Dados"}),c.jsxs("p",{children:["No Console do Firebase, v em ",c.jsx("strong",{children:"Firestore Database"}),', clique em "Criar banco de dados", escolha a regio (nam5) e clique em "Iniciar no modo de produo".']})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-2 rounded h-fit font-bold",children:"2"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:"Ative o Login"}),c.jsxs("p",{children:["V em ",c.jsx("strong",{children:"Authentication"}),' > Sign-in method e ative "E-mail/senha".']})]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-2 rounded h-fit font-bold",children:"3"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:"Copie as Chaves"}),c.jsxs("p",{children:['V nas Configuraes do Projeto (), role at "Seus aplicativos" e copie o objeto ',c.jsx("code",{children:"firebaseConfig"}),"."]})]})]}),c.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-3 rounded-lg text-xs",children:[c.jsxs("p",{className:"font-bold text-amber-700 dark:text-amber-400 flex items-center gap-1",children:[c.jsx(Rf,{className:"w-3 h-3"})," Ao Necessria no Cdigo"]}),c.jsxs("p",{className:"mt-1",children:["Abra o arquivo ",c.jsx("code",{children:"services/firebase.ts"})," e substitua ",c.jsx("code",{children:'"SUA_API_KEY_AQUI"'})," pelos dados reais que voc copiou."]})]})]}),c.jsxs("button",{onClick:t,className:"w-full mt-6 py-3 bg-slate-200 hover:bg-slate-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-xl font-bold transition-colors flex items-center justify-center gap-2",children:[c.jsx(KA,{className:"w-4 h-4"}),"Pular e Usar Modo Offline (Convidado)"]})]})]})}):c.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-900 flex font-sans",children:[c.jsxs("div",{className:"w-full md:w-[45%] lg:w-[40%] flex flex-col justify-center p-8 md:p-12 lg:p-16 relative overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-10",children:[c.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg shadow-lg shadow-indigo-500/30",children:c.jsx(m1,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{className:"leading-tight",children:[c.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white tracking-tight",children:"NEXO"}),c.jsx("p",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-widest",children:"Financial Hub"})]})]}),c.jsxs("div",{className:"max-w-sm w-full mx-auto",children:[c.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:e?"Criar Conta":"Acesse sua Conta"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:e?"Comece a controlar suas finanas hoje.":"Bem-vindo de volta! Por favor, insira seus dados."}),a&&c.jsxs("div",{className:"mb-6 p-4 bg-rose-50 dark:bg-rose-900/20 border-l-4 border-rose-500 rounded-r-lg flex flex-col gap-1 animate-fade-in",children:[c.jsxs("div",{className:"flex items-center gap-2 text-rose-700 dark:text-rose-400 font-semibold text-sm",children:[c.jsx(Kx,{className:"w-4 h-4"}),c.jsx("span",{children:a})]}),u&&c.jsxs("div",{className:"mt-2 pl-6",children:[c.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"Domnio no autorizado:"}),c.jsx("code",{className:"text-xs bg-white px-1 py-0.5 rounded border border-rose-200 block mb-2",children:u}),c.jsx("button",{onClick:I,className:"text-xs underline text-rose-600",children:"Copiar Domnio"})]})]}),c.jsxs("form",{onSubmit:C,className:"space-y-5",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-1.5",children:"E-mail"}),c.jsx("input",{type:"email",required:!0,value:r,onChange:T=>i(T.target.value),className:"w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-800 dark:text-white outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all placeholder:text-slate-400",placeholder:"nome@exemplo.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-1.5",children:"Senha"}),c.jsx("input",{type:"password",required:!0,minLength:6,value:o,onChange:T=>s(T.target.value),className:"w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-800 dark:text-white outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all placeholder:text-slate-400",placeholder:""}),!e&&c.jsx("div",{className:"flex justify-end mt-1",children:c.jsx("button",{type:"button",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-700 dark:text-indigo-400",children:"Esqueceu a senha?"})})]}),c.jsx("button",{type:"submit",disabled:f,className:"w-full py-3.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-bold shadow-lg shadow-indigo-500/20 transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed mt-2",children:f?c.jsx(u0,{className:"w-5 h-5 animate-spin"}):e?"Cadastrar":"Entrar"})]}),c.jsxs("div",{className:"relative my-8",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-700"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-4 bg-white dark:bg-slate-900 text-slate-400 font-medium",children:"ou continue com"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{type:"button",onClick:S,disabled:f,className:"flex items-center justify-center gap-2 px-4 py-2.5 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors font-medium text-slate-700 dark:text-slate-300 text-sm",children:[c.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",color:"#4285F4"}),c.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",color:"#34A853"}),c.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",color:"#FBBC05"}),c.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",color:"#EA4335"})]}),"Google"]}),c.jsxs("button",{type:"button",onClick:t,className:"flex items-center justify-center gap-2 px-4 py-2.5 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors font-medium text-slate-700 dark:text-slate-300 text-sm",children:[c.jsx(KA,{className:"w-5 h-5 text-slate-500"}),"Convidado"]})]}),c.jsx("div",{className:"mt-8 text-center",children:c.jsxs("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:[e?"J  cliente?":"Ainda no tem conta?",c.jsx("button",{onClick:()=>n(!e),className:"ml-1 text-indigo-600 dark:text-indigo-400 font-bold hover:underline",children:e?"Fazer Login":"Cadastre-se grtis"})]})}),c.jsx("div",{className:"mt-10 mb-4",children:c.jsxs("div",{onClick:k,className:"group relative overflow-hidden bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-slate-800 dark:to-indigo-900/20 border-2 border-dashed border-indigo-200 dark:border-indigo-700/50 hover:border-indigo-400 dark:hover:border-indigo-500 rounded-xl p-4 cursor-pointer hover:shadow-xl hover:shadow-indigo-500/10 transition-all transform hover:-translate-y-1",children:[c.jsx("div",{className:"absolute top-0 right-0 bg-indigo-600 text-white text-[10px] font-bold px-3 py-1 rounded-bl-xl shadow-sm z-10",children:"Apoie o Dev "}),c.jsxs("div",{className:"flex items-center gap-4 relative z-0",children:[c.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/50 p-3 rounded-full group-hover:scale-110 transition-transform shadow-inner",children:c.jsx(kD,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400 fill-indigo-200 dark:fill-indigo-900"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-xs font-bold text-indigo-800 dark:text-indigo-300 uppercase tracking-wide mb-1",children:"Gostou? Mande um Pix!"}),c.jsxs("div",{className:"flex items-center gap-2 bg-white/50 dark:bg-black/20 p-1.5 rounded-lg border border-indigo-100 dark:border-indigo-800/50",children:[c.jsx("p",{className:"text-sm font-mono font-bold text-slate-700 dark:text-slate-200 truncate select-all",children:_}),c.jsx("span",{className:"text-[9px] bg-indigo-200 dark:bg-indigo-800 text-indigo-800 dark:text-indigo-200 px-1.5 rounded font-sans font-bold",children:"Chave CPF"})]})]}),c.jsx("div",{className:"text-indigo-300 group-hover:text-indigo-600 transition-colors",children:b?c.jsx(Us,{className:"w-6 h-6 text-emerald-500"}):c.jsx(SD,{className:"w-6 h-6"})})]}),b&&c.jsx("div",{className:"absolute inset-0 bg-indigo-900/90 backdrop-blur-sm flex items-center justify-center text-white font-bold rounded-xl animate-fade-in z-20",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Us,{className:"w-5 h-5 text-emerald-400"}),"Chave Pix Copiada!"]})}),c.jsx("p",{className:"text-[10px] text-slate-400 mt-2 text-center opacity-60 group-hover:opacity-100 transition-opacity",children:w})]})}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("a",{href:"https://www.linkedin.com/in/alemagnobr/",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-slate-400 hover:text-indigo-500 transition-colors inline-flex items-center gap-1",children:[c.jsx(CD,{className:"w-3 h-3"})," Alexandre Magno"]})})]})]}),c.jsxs("div",{className:"hidden md:flex flex-1 relative bg-[#4c35de] overflow-hidden items-center justify-center p-8",children:[c.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-white opacity-5 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/3"}),c.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-purple-400 opacity-10 rounded-full blur-[80px] translate-y-1/3 -translate-x-1/4"}),c.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(#fff 1px, transparent 1px), linear-gradient(90deg, #fff 1px, transparent 1px)",backgroundSize:"40px 40px"}}),c.jsxs("div",{className:"relative z-10 w-full max-w-lg",children:[c.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6 shadow-2xl mb-12 transform hover:scale-[1.02] transition-transform duration-500",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-white/10 pb-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white/60 text-xs font-semibold uppercase",children:"Performance Visualisation"}),c.jsx("p",{className:"text-white text-lg font-bold mt-1",children:"Crescimento Patrimonial"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("div",{className:"px-2 py-1 bg-emerald-500/20 text-emerald-300 rounded text-xs font-bold",children:"+6.9%"}),c.jsx("div",{className:"p-1 bg-white/10 rounded text-white/70",children:c.jsx(kd,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:"h-48 flex items-end justify-between gap-3 px-2",children:[35,55,45,70,60,85,75].map((T,N)=>c.jsxs("div",{className:"w-full bg-white/10 rounded-t-lg relative group overflow-hidden",style:{height:"100%"},children:[c.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-indigo-400 to-purple-300 rounded-t-lg transition-all duration-1000 group-hover:opacity-90",style:{height:`${T}%`}}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] bg-white/30",style:{bottom:`${T}%`}})]},N))}),c.jsxs("div",{className:"flex justify-between mt-3 text-xs text-white/40 font-medium px-2",children:[c.jsx("span",{children:"Jan"}),c.jsx("span",{children:"Fev"}),c.jsx("span",{children:"Mar"}),c.jsx("span",{children:"Abr"}),c.jsx("span",{children:"Mai"}),c.jsx("span",{children:"Jun"}),c.jsx("span",{children:"Jul"})]})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("h2",{className:"text-3xl font-bold text-white mb-3",children:"Bem-vindo de volta"}),c.jsxs("p",{className:"text-indigo-200 text-lg leading-relaxed",children:["Gerencie suas finanas com inteligncia, ",c.jsx("br",{}),"segurana e clareza total."]})]})]}),c.jsx("div",{className:"absolute top-8 right-8",children:c.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 backdrop-blur flex items-center justify-center border border-white/20 text-xl shadow-lg cursor-default",children:""})})]})]})};function LL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=LL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ne(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=LL(t))&&(r&&(r+=" "),r+=e);return r}var pee=Array.isArray,qn=pee,mee=typeof _h=="object"&&_h&&_h.Object===Object&&_h,FL=mee,gee=FL,yee=typeof self=="object"&&self&&self.Object===Object&&self,vee=gee||yee||Function("return this")(),_i=vee,xee=_i,bee=xee.Symbol,Xf=bee,QC=Xf,VL=Object.prototype,wee=VL.hasOwnProperty,_ee=VL.toString,xc=QC?QC.toStringTag:void 0;function Eee(t){var e=wee.call(t,xc),n=t[xc];try{t[xc]=void 0;var r=!0}catch{}var i=_ee.call(t);return r&&(e?t[xc]=n:delete t[xc]),i}var See=Eee,Tee=Object.prototype,Aee=Tee.toString;function kee(t){return Aee.call(t)}var Iee=kee,ZC=Xf,Cee=See,Nee=Iee,Pee="[object Null]",Ree="[object Undefined]",eN=ZC?ZC.toStringTag:void 0;function Oee(t){return t==null?t===void 0?Ree:Pee:eN&&eN in Object(t)?Cee(t):Nee(t)}var mo=Oee;function Mee(t){return t!=null&&typeof t=="object"}var go=Mee,Dee=mo,jee=go,$ee="[object Symbol]";function Lee(t){return typeof t=="symbol"||jee(t)&&Dee(t)==$ee}var Ou=Lee,Fee=qn,Vee=Ou,Uee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bee=/^\w*$/;function zee(t,e){if(Fee(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Vee(t)?!0:Bee.test(t)||!Uee.test(t)||e!=null&&t in Object(e)}var $E=zee;function Gee(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var gs=Gee;const Mu=et(gs);var qee=mo,Hee=gs,Wee="[object AsyncFunction]",Kee="[object Function]",Yee="[object GeneratorFunction]",Jee="[object Proxy]";function Xee(t){if(!Hee(t))return!1;var e=qee(t);return e==Kee||e==Yee||e==Wee||e==Jee}var LE=Xee;const Se=et(LE);var Qee=_i,Zee=Qee["__core-js_shared__"],ete=Zee,Sv=ete,tN=function(){var t=/[^.]+$/.exec(Sv&&Sv.keys&&Sv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function tte(t){return!!tN&&tN in t}var nte=tte,rte=Function.prototype,ite=rte.toString;function ote(t){if(t!=null){try{return ite.call(t)}catch{}try{return t+""}catch{}}return""}var UL=ote,ste=LE,ate=nte,lte=gs,ute=UL,cte=/[\\^$.*+?()[\]{}|]/g,dte=/^\[object .+?Constructor\]$/,fte=Function.prototype,hte=Object.prototype,pte=fte.toString,mte=hte.hasOwnProperty,gte=RegExp("^"+pte.call(mte).replace(cte,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function yte(t){if(!lte(t)||ate(t))return!1;var e=ste(t)?gte:dte;return e.test(ute(t))}var vte=yte;function xte(t,e){return t==null?void 0:t[e]}var bte=xte,wte=vte,_te=bte;function Ete(t,e){var n=_te(t,e);return wte(n)?n:void 0}var Ia=Ete,Ste=Ia,Tte=Ste(Object,"create"),O0=Tte,nN=O0;function Ate(){this.__data__=nN?nN(null):{},this.size=0}var kte=Ate;function Ite(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Cte=Ite,Nte=O0,Pte="__lodash_hash_undefined__",Rte=Object.prototype,Ote=Rte.hasOwnProperty;function Mte(t){var e=this.__data__;if(Nte){var n=e[t];return n===Pte?void 0:n}return Ote.call(e,t)?e[t]:void 0}var Dte=Mte,jte=O0,$te=Object.prototype,Lte=$te.hasOwnProperty;function Fte(t){var e=this.__data__;return jte?e[t]!==void 0:Lte.call(e,t)}var Vte=Fte,Ute=O0,Bte="__lodash_hash_undefined__";function zte(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ute&&e===void 0?Bte:e,this}var Gte=zte,qte=kte,Hte=Cte,Wte=Dte,Kte=Vte,Yte=Gte;function Du(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Du.prototype.clear=qte;Du.prototype.delete=Hte;Du.prototype.get=Wte;Du.prototype.has=Kte;Du.prototype.set=Yte;var Jte=Du;function Xte(){this.__data__=[],this.size=0}var Qte=Xte;function Zte(t,e){return t===e||t!==t&&e!==e}var FE=Zte,ene=FE;function tne(t,e){for(var n=t.length;n--;)if(ene(t[n][0],e))return n;return-1}var M0=tne,nne=M0,rne=Array.prototype,ine=rne.splice;function one(t){var e=this.__data__,n=nne(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():ine.call(e,n,1),--this.size,!0}var sne=one,ane=M0;function lne(t){var e=this.__data__,n=ane(e,t);return n<0?void 0:e[n][1]}var une=lne,cne=M0;function dne(t){return cne(this.__data__,t)>-1}var fne=dne,hne=M0;function pne(t,e){var n=this.__data__,r=hne(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var mne=pne,gne=Qte,yne=sne,vne=une,xne=fne,bne=mne;function ju(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ju.prototype.clear=gne;ju.prototype.delete=yne;ju.prototype.get=vne;ju.prototype.has=xne;ju.prototype.set=bne;var D0=ju,wne=Ia,_ne=_i,Ene=wne(_ne,"Map"),VE=Ene,rN=Jte,Sne=D0,Tne=VE;function Ane(){this.size=0,this.__data__={hash:new rN,map:new(Tne||Sne),string:new rN}}var kne=Ane;function Ine(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Cne=Ine,Nne=Cne;function Pne(t,e){var n=t.__data__;return Nne(e)?n[typeof e=="string"?"string":"hash"]:n.map}var j0=Pne,Rne=j0;function One(t){var e=Rne(this,t).delete(t);return this.size-=e?1:0,e}var Mne=One,Dne=j0;function jne(t){return Dne(this,t).get(t)}var $ne=jne,Lne=j0;function Fne(t){return Lne(this,t).has(t)}var Vne=Fne,Une=j0;function Bne(t,e){var n=Une(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var zne=Bne,Gne=kne,qne=Mne,Hne=$ne,Wne=Vne,Kne=zne;function $u(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$u.prototype.clear=Gne;$u.prototype.delete=qne;$u.prototype.get=Hne;$u.prototype.has=Wne;$u.prototype.set=Kne;var UE=$u,BL=UE,Yne="Expected a function";function BE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Yne);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(BE.Cache||BL),n}BE.Cache=BL;var zL=BE;const Jne=et(zL);var Xne=zL,Qne=500;function Zne(t){var e=Xne(t,function(r){return n.size===Qne&&n.clear(),r}),n=e.cache;return e}var ere=Zne,tre=ere,nre=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rre=/\\(\\)?/g,ire=tre(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(nre,function(n,r,i,o){e.push(i?o.replace(rre,"$1"):r||n)}),e}),ore=ire;function sre(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var zE=sre,iN=Xf,are=zE,lre=qn,ure=Ou,oN=iN?iN.prototype:void 0,sN=oN?oN.toString:void 0;function GL(t){if(typeof t=="string")return t;if(lre(t))return are(t,GL)+"";if(ure(t))return sN?sN.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var cre=GL,dre=cre;function fre(t){return t==null?"":dre(t)}var qL=fre,hre=qn,pre=$E,mre=ore,gre=qL;function yre(t,e){return hre(t)?t:pre(t,e)?[t]:mre(gre(t))}var HL=yre,vre=Ou;function xre(t){if(typeof t=="string"||vre(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var $0=xre,bre=HL,wre=$0;function _re(t,e){e=bre(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[wre(e[n++])];return n&&n==r?t:void 0}var GE=_re,Ere=GE;function Sre(t,e,n){var r=t==null?void 0:Ere(t,e);return r===void 0?n:r}var WL=Sre;const rr=et(WL);function Tre(t){return t==null}var Are=Tre;const Ce=et(Are);var kre=mo,Ire=qn,Cre=go,Nre="[object String]";function Pre(t){return typeof t=="string"||!Ire(t)&&Cre(t)&&kre(t)==Nre}var Rre=Pre;const ga=et(Rre);var KL={exports:{}},rt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE=Symbol.for("react.element"),HE=Symbol.for("react.portal"),L0=Symbol.for("react.fragment"),F0=Symbol.for("react.strict_mode"),V0=Symbol.for("react.profiler"),U0=Symbol.for("react.provider"),B0=Symbol.for("react.context"),Ore=Symbol.for("react.server_context"),z0=Symbol.for("react.forward_ref"),G0=Symbol.for("react.suspense"),q0=Symbol.for("react.suspense_list"),H0=Symbol.for("react.memo"),W0=Symbol.for("react.lazy"),Mre=Symbol.for("react.offscreen"),YL;YL=Symbol.for("react.module.reference");function Nr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case qE:switch(t=t.type,t){case L0:case V0:case F0:case G0:case q0:return t;default:switch(t=t&&t.$$typeof,t){case Ore:case B0:case z0:case W0:case H0:case U0:return t;default:return e}}case HE:return e}}}rt.ContextConsumer=B0;rt.ContextProvider=U0;rt.Element=qE;rt.ForwardRef=z0;rt.Fragment=L0;rt.Lazy=W0;rt.Memo=H0;rt.Portal=HE;rt.Profiler=V0;rt.StrictMode=F0;rt.Suspense=G0;rt.SuspenseList=q0;rt.isAsyncMode=function(){return!1};rt.isConcurrentMode=function(){return!1};rt.isContextConsumer=function(t){return Nr(t)===B0};rt.isContextProvider=function(t){return Nr(t)===U0};rt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===qE};rt.isForwardRef=function(t){return Nr(t)===z0};rt.isFragment=function(t){return Nr(t)===L0};rt.isLazy=function(t){return Nr(t)===W0};rt.isMemo=function(t){return Nr(t)===H0};rt.isPortal=function(t){return Nr(t)===HE};rt.isProfiler=function(t){return Nr(t)===V0};rt.isStrictMode=function(t){return Nr(t)===F0};rt.isSuspense=function(t){return Nr(t)===G0};rt.isSuspenseList=function(t){return Nr(t)===q0};rt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===L0||t===V0||t===F0||t===G0||t===q0||t===Mre||typeof t=="object"&&t!==null&&(t.$$typeof===W0||t.$$typeof===H0||t.$$typeof===U0||t.$$typeof===B0||t.$$typeof===z0||t.$$typeof===YL||t.getModuleId!==void 0)};rt.typeOf=Nr;KL.exports=rt;var Dre=KL.exports,jre=mo,$re=go,Lre="[object Number]";function Fre(t){return typeof t=="number"||$re(t)&&jre(t)==Lre}var JL=Fre;const Vre=et(JL);var Ure=JL;function Bre(t){return Ure(t)&&t!=+t}var zre=Bre;const Lu=et(zre);var Nn=function(e){return e===0?0:e>0?1:-1},Gs=function(e){return ga(e)&&e.indexOf("%")===e.length-1},le=function(e){return Vre(e)&&!Lu(e)},Gre=function(e){return Ce(e)},Ut=function(e){return le(e)||ga(e)},qre=0,Ca=function(e){var n=++qre;return"".concat(e||"").concat(n)},Pn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!le(e)&&!ga(e))return r;var o;if(Gs(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Lu(o)&&(o=r),i&&o>n&&(o=n),o},Mo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Hre=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},xt=function(e,n){return le(e)&&le(n)?function(r){return e+r*(n-e)}:function(){return n}};function Fm(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):rr(r,e))===n})}var Wre=function(e,n){return le(e)&&le(n)?e-n:ga(e)&&ga(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Tl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Ub(t){"@babel/helpers - typeof";return Ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ub(t)}var Kre=["viewBox","children"],Yre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],aN=["points","pathLength"],Tv={svg:Kre,polygon:aN,polyline:aN},WE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Vm=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(U.isValidElement(e)&&(r=e.props),!Mu(r))return null;var i={};return Object.keys(r).forEach(function(o){WE.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},Jre=function(e,n,r){return function(i){return e(n,r,i),null}},ya=function(e,n,r){if(!Mu(e)||Ub(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];WE.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=Jre(s,n,r))}),i},Xre=["children"],Qre=["children"];function lN(t,e){if(t==null)return{};var n=Zre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bb(t){"@babel/helpers - typeof";return Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bb(t)}var uN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},qi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},cN=null,Av=null,KE=function t(e){if(e===cN&&Array.isArray(Av))return Av;var n=[];return U.Children.forEach(e,function(r){Ce(r)||(Dre.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Av=n,cN=e,n};function ir(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return qi(i)}):r=[qi(e)],KE(t).forEach(function(i){var o=rr(i,"type.displayName")||rr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Xn(t,e){var n=ir(t,e);return n&&n[0]}var dN=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!le(r)||r<=0||!le(i)||i<=0)},eie=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],tie=function(e){return e&&e.type&&ga(e.type)&&eie.indexOf(e.type)>=0},XL=function(e){return e&&Bb(e)==="object"&&"clipDot"in e},nie=function(e,n,r,i){var o,s=(o=Tv==null?void 0:Tv[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!Se(e)&&(i&&s.includes(n)||Yre.includes(n))||r&&WE.includes(n)},be=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(U.isValidElement(e)&&(i=e.props),!Mu(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;nie((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},zb=function t(e,n){if(e===n)return!0;var r=U.Children.count(e);if(r!==U.Children.count(n))return!1;if(r===0)return!0;if(r===1)return fN(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!fN(o,s))return!1}return!0},fN=function(e,n){if(Ce(e)&&Ce(n))return!0;if(!Ce(e)&&!Ce(n)){var r=e.props||{},i=r.children,o=lN(r,Xre),s=n.props||{},a=s.children,l=lN(s,Qre);return i&&a?Tl(o,l)&&zb(i,a):!i&&!a?Tl(o,l):!1}return!1},hN=function(e,n){var r=[],i={};return KE(e).forEach(function(o,s){if(tie(o))r.push(o);else if(o){var a=qi(o.type),l=n[a]||{},u=l.handler,d=l.once;if(u&&(!d||!i[a])){var f=u(o,a,s);r.push(f),i[a]=!0}}}),r},rie=function(e){var n=e&&e.type;return n&&uN[n]?uN[n]:null},iie=function(e,n){return KE(n).indexOf(e)},oie=["children","width","height","viewBox","className","style","title","desc"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gb.apply(this,arguments)}function sie(t,e){if(t==null)return{};var n=aie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qb(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=sie(t,oie),d=i||{width:n,height:r,x:0,y:0},f=Ne("recharts-surface",o);return B.createElement("svg",Gb({},be(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),B.createElement("title",null,a),B.createElement("desc",null,l),e)}var lie=["children","className"];function Hb(){return Hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hb.apply(this,arguments)}function uie(t,e){if(t==null)return{};var n=cie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var De=B.forwardRef(function(t,e){var n=t.children,r=t.className,i=uie(t,lie),o=Ne("recharts-layer",r);return B.createElement("g",Hb({className:o},be(i,!0),{ref:e}),n)}),Jr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function die(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var fie=die,hie=fie;function pie(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:hie(t,e,n)}var mie=pie,gie="\\ud800-\\udfff",yie="\\u0300-\\u036f",vie="\\ufe20-\\ufe2f",xie="\\u20d0-\\u20ff",bie=yie+vie+xie,wie="\\ufe0e\\ufe0f",_ie="\\u200d",Eie=RegExp("["+_ie+gie+bie+wie+"]");function Sie(t){return Eie.test(t)}var QL=Sie;function Tie(t){return t.split("")}var Aie=Tie,ZL="\\ud800-\\udfff",kie="\\u0300-\\u036f",Iie="\\ufe20-\\ufe2f",Cie="\\u20d0-\\u20ff",Nie=kie+Iie+Cie,Pie="\\ufe0e\\ufe0f",Rie="["+ZL+"]",Wb="["+Nie+"]",Kb="\\ud83c[\\udffb-\\udfff]",Oie="(?:"+Wb+"|"+Kb+")",e4="[^"+ZL+"]",t4="(?:\\ud83c[\\udde6-\\uddff]){2}",n4="[\\ud800-\\udbff][\\udc00-\\udfff]",Mie="\\u200d",r4=Oie+"?",i4="["+Pie+"]?",Die="(?:"+Mie+"(?:"+[e4,t4,n4].join("|")+")"+i4+r4+")*",jie=i4+r4+Die,$ie="(?:"+[e4+Wb+"?",Wb,t4,n4,Rie].join("|")+")",Lie=RegExp(Kb+"(?="+Kb+")|"+$ie+jie,"g");function Fie(t){return t.match(Lie)||[]}var Vie=Fie,Uie=Aie,Bie=QL,zie=Vie;function Gie(t){return Bie(t)?zie(t):Uie(t)}var qie=Gie,Hie=mie,Wie=QL,Kie=qie,Yie=qL;function Jie(t){return function(e){e=Yie(e);var n=Wie(e)?Kie(e):void 0,r=n?n[0]:e.charAt(0),i=n?Hie(n,1).join(""):e.slice(1);return r[t]()+i}}var Xie=Jie,Qie=Xie,Zie=Qie("toUpperCase"),eoe=Zie;const K0=et(eoe);function ut(t){return function(){return t}}const o4=Math.cos,Um=Math.sin,ti=Math.sqrt,Bm=Math.PI,Y0=2*Bm,Yb=Math.PI,Jb=2*Yb,Ms=1e-6,toe=Jb-Ms;function s4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function noe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return s4;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class roe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?s4:noe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,d=s-e,f=a-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Ms)if(!(Math.abs(f*l-u*d)>Ms)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-s,v=i-a,b=l*l+u*u,x=y*y+v*v,_=Math.sqrt(b),w=Math.sqrt(h),E=o*Math.tan((Yb-Math.acos((b+h-x)/(2*_*w)))/2),C=E/w,S=E/_;Math.abs(C-1)>Ms&&this._append`L${e+C*d},${n+C*f}`,this._append`A${o},${o},0,0,${+(f*y>d*v)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,d=n+l,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ms||Math.abs(this._y1-d)>Ms)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%Jb+Jb),h>toe?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ms&&this._append`A${r},${r},0,${+(h>=Yb)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function YE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new roe(e)}function JE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function a4(t){this._context=t}a4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function J0(t){return new a4(t)}function l4(t){return t[0]}function u4(t){return t[1]}function c4(t,e){var n=ut(!0),r=null,i=J0,o=null,s=YE(a);t=typeof t=="function"?t:t===void 0?l4:ut(t),e=typeof e=="function"?e:e===void 0?u4:ut(e);function a(l){var u,d=(l=JE(l)).length,f,h=!1,y;for(r==null&&(o=i(y=s())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(y)return o=null,y+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:ut(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:ut(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ut(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Xh(t,e,n){var r=null,i=ut(!0),o=null,s=J0,a=null,l=YE(u);t=typeof t=="function"?t:t===void 0?l4:ut(+t),e=typeof e=="function"?e:ut(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?u4:ut(+n);function u(f){var h,y,v,b=(f=JE(f)).length,x,_=!1,w,E=new Array(b),C=new Array(b);for(o==null&&(a=s(w=l())),h=0;h<=b;++h){if(!(h<b&&i(x=f[h],h,f))===_)if(_=!_)y=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=h-1;v>=y;--v)a.point(E[v],C[v]);a.lineEnd(),a.areaEnd()}_&&(E[h]=+t(x,h,f),C[h]=+e(x,h,f),a.point(r?+r(x,h,f):E[h],n?+n(x,h,f):C[h]))}if(w)return a=null,w+""||null}function d(){return c4().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:ut(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ut(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ut(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:ut(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ut(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ut(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(n)},u.lineX1=function(){return d().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ut(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}class d4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ioe(t){return new d4(t,!0)}function ooe(t){return new d4(t,!1)}const XE={draw(t,e){const n=ti(e/Bm);t.moveTo(n,0),t.arc(0,0,n,0,Y0)}},soe={draw(t,e){const n=ti(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},f4=ti(1/3),aoe=f4*2,loe={draw(t,e){const n=ti(e/aoe),r=n*f4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},uoe={draw(t,e){const n=ti(e),r=-n/2;t.rect(r,r,n,n)}},coe=.8908130915292852,h4=Um(Bm/10)/Um(7*Bm/10),doe=Um(Y0/10)*h4,foe=-o4(Y0/10)*h4,hoe={draw(t,e){const n=ti(e*coe),r=doe*n,i=foe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=Y0*o/5,a=o4(s),l=Um(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},kv=ti(3),poe={draw(t,e){const n=-ti(e/(kv*3));t.moveTo(0,n*2),t.lineTo(-kv*n,-n),t.lineTo(kv*n,-n),t.closePath()}},hr=-.5,pr=ti(3)/2,Xb=1/ti(12),moe=(Xb/2+1)*3,goe={draw(t,e){const n=ti(e/moe),r=n/2,i=n*Xb,o=r,s=n*Xb+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(hr*r-pr*i,pr*r+hr*i),t.lineTo(hr*o-pr*s,pr*o+hr*s),t.lineTo(hr*a-pr*l,pr*a+hr*l),t.lineTo(hr*r+pr*i,hr*i-pr*r),t.lineTo(hr*o+pr*s,hr*s-pr*o),t.lineTo(hr*a+pr*l,hr*l-pr*a),t.closePath()}};function yoe(t,e){let n=null,r=YE(i);t=typeof t=="function"?t:ut(t||XE),e=typeof e=="function"?e:ut(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:ut(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:ut(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function zm(){}function Gm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function p4(t){this._context=t}p4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function voe(t){return new p4(t)}function m4(t){this._context=t}m4.prototype={areaStart:zm,areaEnd:zm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Gm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xoe(t){return new m4(t)}function g4(t){this._context=t}g4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Gm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function boe(t){return new g4(t)}function y4(t){this._context=t}y4.prototype={areaStart:zm,areaEnd:zm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function woe(t){return new y4(t)}function pN(t){return t<0?-1:1}function mN(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(pN(o)+pN(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function gN(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Iv(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function qm(t){this._context=t}qm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Iv(this,this._t0,gN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Iv(this,gN(this,n=mN(this,t,e)),n);break;default:Iv(this,this._t0,n=mN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function v4(t){this._context=new x4(t)}(v4.prototype=Object.create(qm.prototype)).point=function(t,e){qm.prototype.point.call(this,e,t)};function x4(t){this._context=t}x4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function _oe(t){return new qm(t)}function Eoe(t){return new v4(t)}function b4(t){this._context=t}b4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=yN(t),i=yN(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function yN(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Soe(t){return new b4(t)}function X0(t,e){this._context=t,this._t=e}X0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Toe(t){return new X0(t,.5)}function Aoe(t){return new X0(t,0)}function koe(t){return new X0(t,1)}function zl(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Qb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Ioe(t,e){return t[e]}function Coe(t){const e=[];return e.key=t,e}function Noe(){var t=ut([]),e=Qb,n=zl,r=Ioe;function i(o){var s=Array.from(t.apply(this,arguments),Coe),a,l=s.length,u=-1,d;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,d=JE(e(s));a<l;++a)s[d[a]].index=a;return n(s,d),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:ut(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ut(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Qb:typeof o=="function"?o:ut(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??zl,i):n},i}function Poe(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}zl(t,e)}}function Roe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}zl(t,e)}}function Ooe(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var d=t[e[a]],f=d[r][1]||0,h=d[r-1][1]||0,y=(f-h)/2,v=0;v<a;++v){var b=t[e[v]],x=b[r][1]||0,_=b[r-1][1]||0;y+=x-_}l+=f,u+=y*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,zl(t,e)}}function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}var Moe=["type","size","sizeType"];function Zb(){return Zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zb.apply(this,arguments)}function vN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vN(Object(n),!0).forEach(function(r){Doe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Doe(t,e,n){return e=joe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function joe(t){var e=$oe(t,"string");return zd(e)=="symbol"?e:e+""}function $oe(t,e){if(zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Loe(t,e){if(t==null)return{};var n=Foe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Foe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var w4={symbolCircle:XE,symbolCross:soe,symbolDiamond:loe,symbolSquare:uoe,symbolStar:hoe,symbolTriangle:poe,symbolWye:goe},Voe=Math.PI/180,Uoe=function(e){var n="symbol".concat(K0(e));return w4[n]||XE},Boe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Voe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},zoe=function(e,n){w4["symbol".concat(K0(e))]=n},QE=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=Loe(e,Moe),u=xN(xN({},l),{},{type:r,size:o,sizeType:a}),d=function(){var x=Uoe(r),_=yoe().type(x).size(Boe(o,a,r));return _()},f=u.className,h=u.cx,y=u.cy,v=be(u,!0);return h===+h&&y===+y&&o===+o?B.createElement("path",Zb({},v,{className:Ne("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(y,")"),d:d()})):null};QE.registerSymbol=zoe;function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function ew(){return ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ew.apply(this,arguments)}function bN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Goe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bN(Object(n),!0).forEach(function(r){Gd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E4(r.key),r)}}function Woe(t,e,n){return e&&Hoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Koe(t,e,n){return e=Hm(e),Yoe(t,_4()?Reflect.construct(e,n||[],Hm(t).constructor):e.apply(t,n))}function Yoe(t,e){if(e&&(Gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Joe(t)}function Joe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_4=function(){return!!t})()}function Hm(t){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hm(t)}function Xoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tw(t,e)}function tw(t,e){return tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tw(t,e)}function Gd(t,e,n){return e=E4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E4(t){var e=Qoe(t,"string");return Gl(e)=="symbol"?e:e+""}function Qoe(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mr=32,ZE=function(t){function e(){return qoe(this,e),Koe(this,e,arguments)}return Xoe(e,t),Woe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=mr/2,s=mr/6,a=mr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:mr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(mr,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return B.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(mr/8,"h").concat(mr,"v").concat(mr*3/4,"h").concat(-mr,"z"),className:"recharts-legend-icon"});if(B.isValidElement(r.legendIcon)){var u=Goe({},r);return delete u.legendIcon,B.cloneElement(r.legendIcon,u)}return B.createElement(QE,{fill:l,cx:o,cy:o,size:mr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:mr,height:mr},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(y,v){var b=y.formatter||l,x=Ne(Gd(Gd({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",y.inactive));if(y.type==="none")return null;var _=Se(y.value)?null:y.value;Jr(!Se(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=y.inactive?u:y.color;return B.createElement("li",ew({className:x,style:f,key:"legend-item-".concat(v)},ya(r.props,y,v)),B.createElement(qb,{width:s,height:s,viewBox:d,style:h},r.renderIcon(y)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},b?b(_,y,v):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(U.PureComponent);Gd(ZE,"displayName","Legend");Gd(ZE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Zoe=D0;function ese(){this.__data__=new Zoe,this.size=0}var tse=ese;function nse(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var rse=nse;function ise(t){return this.__data__.get(t)}var ose=ise;function sse(t){return this.__data__.has(t)}var ase=sse,lse=D0,use=VE,cse=UE,dse=200;function fse(t,e){var n=this.__data__;if(n instanceof lse){var r=n.__data__;if(!use||r.length<dse-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new cse(r)}return n.set(t,e),this.size=n.size,this}var hse=fse,pse=D0,mse=tse,gse=rse,yse=ose,vse=ase,xse=hse;function Fu(t){var e=this.__data__=new pse(t);this.size=e.size}Fu.prototype.clear=mse;Fu.prototype.delete=gse;Fu.prototype.get=yse;Fu.prototype.has=vse;Fu.prototype.set=xse;var S4=Fu,bse="__lodash_hash_undefined__";function wse(t){return this.__data__.set(t,bse),this}var _se=wse;function Ese(t){return this.__data__.has(t)}var Sse=Ese,Tse=UE,Ase=_se,kse=Sse;function Wm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Tse;++e<n;)this.add(t[e])}Wm.prototype.add=Wm.prototype.push=Ase;Wm.prototype.has=kse;var T4=Wm;function Ise(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var A4=Ise;function Cse(t,e){return t.has(e)}var k4=Cse,Nse=T4,Pse=A4,Rse=k4,Ose=1,Mse=2;function Dse(t,e,n,r,i,o){var s=n&Ose,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),d=o.get(e);if(u&&d)return u==e&&d==t;var f=-1,h=!0,y=n&Mse?new Nse:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var v=t[f],b=e[f];if(r)var x=s?r(b,v,f,e,t,o):r(v,b,f,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(y){if(!Pse(e,function(_,w){if(!Rse(y,w)&&(v===_||i(v,_,n,r,o)))return y.push(w)})){h=!1;break}}else if(!(v===b||i(v,b,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var I4=Dse,jse=_i,$se=jse.Uint8Array,Lse=$se;function Fse(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Vse=Fse;function Use(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var eS=Use,wN=Xf,_N=Lse,Bse=FE,zse=I4,Gse=Vse,qse=eS,Hse=1,Wse=2,Kse="[object Boolean]",Yse="[object Date]",Jse="[object Error]",Xse="[object Map]",Qse="[object Number]",Zse="[object RegExp]",eae="[object Set]",tae="[object String]",nae="[object Symbol]",rae="[object ArrayBuffer]",iae="[object DataView]",EN=wN?wN.prototype:void 0,Cv=EN?EN.valueOf:void 0;function oae(t,e,n,r,i,o,s){switch(n){case iae:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case rae:return!(t.byteLength!=e.byteLength||!o(new _N(t),new _N(e)));case Kse:case Yse:case Qse:return Bse(+t,+e);case Jse:return t.name==e.name&&t.message==e.message;case Zse:case tae:return t==e+"";case Xse:var a=Gse;case eae:var l=r&Hse;if(a||(a=qse),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=Wse,s.set(t,e);var d=zse(a(t),a(e),r,i,o,s);return s.delete(t),d;case nae:if(Cv)return Cv.call(t)==Cv.call(e)}return!1}var sae=oae;function aae(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var C4=aae,lae=C4,uae=qn;function cae(t,e,n){var r=e(t);return uae(t)?r:lae(r,n(t))}var dae=cae;function fae(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var hae=fae;function pae(){return[]}var mae=pae,gae=hae,yae=mae,vae=Object.prototype,xae=vae.propertyIsEnumerable,SN=Object.getOwnPropertySymbols,bae=SN?function(t){return t==null?[]:(t=Object(t),gae(SN(t),function(e){return xae.call(t,e)}))}:yae,wae=bae;function _ae(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Eae=_ae,Sae=mo,Tae=go,Aae="[object Arguments]";function kae(t){return Tae(t)&&Sae(t)==Aae}var Iae=kae,TN=Iae,Cae=go,N4=Object.prototype,Nae=N4.hasOwnProperty,Pae=N4.propertyIsEnumerable,Rae=TN(function(){return arguments}())?TN:function(t){return Cae(t)&&Nae.call(t,"callee")&&!Pae.call(t,"callee")},tS=Rae,Km={exports:{}};function Oae(){return!1}var Mae=Oae;Km.exports;(function(t,e){var n=_i,r=Mae,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Km,Km.exports);var P4=Km.exports,Dae=9007199254740991,jae=/^(?:0|[1-9]\d*)$/;function $ae(t,e){var n=typeof t;return e=e??Dae,!!e&&(n=="number"||n!="symbol"&&jae.test(t))&&t>-1&&t%1==0&&t<e}var nS=$ae,Lae=9007199254740991;function Fae(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Lae}var rS=Fae,Vae=mo,Uae=rS,Bae=go,zae="[object Arguments]",Gae="[object Array]",qae="[object Boolean]",Hae="[object Date]",Wae="[object Error]",Kae="[object Function]",Yae="[object Map]",Jae="[object Number]",Xae="[object Object]",Qae="[object RegExp]",Zae="[object Set]",ele="[object String]",tle="[object WeakMap]",nle="[object ArrayBuffer]",rle="[object DataView]",ile="[object Float32Array]",ole="[object Float64Array]",sle="[object Int8Array]",ale="[object Int16Array]",lle="[object Int32Array]",ule="[object Uint8Array]",cle="[object Uint8ClampedArray]",dle="[object Uint16Array]",fle="[object Uint32Array]",ht={};ht[ile]=ht[ole]=ht[sle]=ht[ale]=ht[lle]=ht[ule]=ht[cle]=ht[dle]=ht[fle]=!0;ht[zae]=ht[Gae]=ht[nle]=ht[qae]=ht[rle]=ht[Hae]=ht[Wae]=ht[Kae]=ht[Yae]=ht[Jae]=ht[Xae]=ht[Qae]=ht[Zae]=ht[ele]=ht[tle]=!1;function hle(t){return Bae(t)&&Uae(t.length)&&!!ht[Vae(t)]}var ple=hle;function mle(t){return function(e){return t(e)}}var R4=mle,Ym={exports:{}};Ym.exports;(function(t,e){var n=FL,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Ym,Ym.exports);var gle=Ym.exports,yle=ple,vle=R4,AN=gle,kN=AN&&AN.isTypedArray,xle=kN?vle(kN):yle,O4=xle,ble=Eae,wle=tS,_le=qn,Ele=P4,Sle=nS,Tle=O4,Ale=Object.prototype,kle=Ale.hasOwnProperty;function Ile(t,e){var n=_le(t),r=!n&&wle(t),i=!n&&!r&&Ele(t),o=!n&&!r&&!i&&Tle(t),s=n||r||i||o,a=s?ble(t.length,String):[],l=a.length;for(var u in t)(e||kle.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Sle(u,l)))&&a.push(u);return a}var Cle=Ile,Nle=Object.prototype;function Ple(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Nle;return t===n}var Rle=Ple;function Ole(t,e){return function(n){return t(e(n))}}var M4=Ole,Mle=M4,Dle=Mle(Object.keys,Object),jle=Dle,$le=Rle,Lle=jle,Fle=Object.prototype,Vle=Fle.hasOwnProperty;function Ule(t){if(!$le(t))return Lle(t);var e=[];for(var n in Object(t))Vle.call(t,n)&&n!="constructor"&&e.push(n);return e}var Ble=Ule,zle=LE,Gle=rS;function qle(t){return t!=null&&Gle(t.length)&&!zle(t)}var Qf=qle,Hle=Cle,Wle=Ble,Kle=Qf;function Yle(t){return Kle(t)?Hle(t):Wle(t)}var Q0=Yle,Jle=dae,Xle=wae,Qle=Q0;function Zle(t){return Jle(t,Qle,Xle)}var eue=Zle,IN=eue,tue=1,nue=Object.prototype,rue=nue.hasOwnProperty;function iue(t,e,n,r,i,o){var s=n&tue,a=IN(t),l=a.length,u=IN(e),d=u.length;if(l!=d&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:rue.call(e,h)))return!1}var y=o.get(t),v=o.get(e);if(y&&v)return y==e&&v==t;var b=!0;o.set(t,e),o.set(e,t);for(var x=s;++f<l;){h=a[f];var _=t[h],w=e[h];if(r)var E=s?r(w,_,h,e,t,o):r(_,w,h,t,e,o);if(!(E===void 0?_===w||i(_,w,n,r,o):E)){b=!1;break}x||(x=h=="constructor")}if(b&&!x){var C=t.constructor,S=e.constructor;C!=S&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof S=="function"&&S instanceof S)&&(b=!1)}return o.delete(t),o.delete(e),b}var oue=iue,sue=Ia,aue=_i,lue=sue(aue,"DataView"),uue=lue,cue=Ia,due=_i,fue=cue(due,"Promise"),hue=fue,pue=Ia,mue=_i,gue=pue(mue,"Set"),D4=gue,yue=Ia,vue=_i,xue=yue(vue,"WeakMap"),bue=xue,nw=uue,rw=VE,iw=hue,ow=D4,sw=bue,j4=mo,Vu=UL,CN="[object Map]",wue="[object Object]",NN="[object Promise]",PN="[object Set]",RN="[object WeakMap]",ON="[object DataView]",_ue=Vu(nw),Eue=Vu(rw),Sue=Vu(iw),Tue=Vu(ow),Aue=Vu(sw),Ds=j4;(nw&&Ds(new nw(new ArrayBuffer(1)))!=ON||rw&&Ds(new rw)!=CN||iw&&Ds(iw.resolve())!=NN||ow&&Ds(new ow)!=PN||sw&&Ds(new sw)!=RN)&&(Ds=function(t){var e=j4(t),n=e==wue?t.constructor:void 0,r=n?Vu(n):"";if(r)switch(r){case _ue:return ON;case Eue:return CN;case Sue:return NN;case Tue:return PN;case Aue:return RN}return e});var kue=Ds,Nv=S4,Iue=I4,Cue=sae,Nue=oue,MN=kue,DN=qn,jN=P4,Pue=O4,Rue=1,$N="[object Arguments]",LN="[object Array]",Qh="[object Object]",Oue=Object.prototype,FN=Oue.hasOwnProperty;function Mue(t,e,n,r,i,o){var s=DN(t),a=DN(e),l=s?LN:MN(t),u=a?LN:MN(e);l=l==$N?Qh:l,u=u==$N?Qh:u;var d=l==Qh,f=u==Qh,h=l==u;if(h&&jN(t)){if(!jN(e))return!1;s=!0,d=!1}if(h&&!d)return o||(o=new Nv),s||Pue(t)?Iue(t,e,n,r,i,o):Cue(t,e,l,n,r,i,o);if(!(n&Rue)){var y=d&&FN.call(t,"__wrapped__"),v=f&&FN.call(e,"__wrapped__");if(y||v){var b=y?t.value():t,x=v?e.value():e;return o||(o=new Nv),i(b,x,n,r,o)}}return h?(o||(o=new Nv),Nue(t,e,n,r,i,o)):!1}var Due=Mue,jue=Due,VN=go;function $4(t,e,n,r,i){return t===e?!0:t==null||e==null||!VN(t)&&!VN(e)?t!==t&&e!==e:jue(t,e,n,r,$4,i)}var iS=$4,$ue=S4,Lue=iS,Fue=1,Vue=2;function Uue(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],d=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new $ue;if(r)var h=r(u,d,l,t,e,f);if(!(h===void 0?Lue(d,u,Fue|Vue,r,f):h))return!1}}return!0}var Bue=Uue,zue=gs;function Gue(t){return t===t&&!zue(t)}var L4=Gue,que=L4,Hue=Q0;function Wue(t){for(var e=Hue(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,que(i)]}return e}var Kue=Wue;function Yue(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var F4=Yue,Jue=Bue,Xue=Kue,Que=F4;function Zue(t){var e=Xue(t);return e.length==1&&e[0][2]?Que(e[0][0],e[0][1]):function(n){return n===t||Jue(n,t,e)}}var ece=Zue;function tce(t,e){return t!=null&&e in Object(t)}var nce=tce,rce=HL,ice=tS,oce=qn,sce=nS,ace=rS,lce=$0;function uce(t,e,n){e=rce(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=lce(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&ace(i)&&sce(s,i)&&(oce(t)||ice(t)))}var cce=uce,dce=nce,fce=cce;function hce(t,e){return t!=null&&fce(t,e,dce)}var pce=hce,mce=iS,gce=WL,yce=pce,vce=$E,xce=L4,bce=F4,wce=$0,_ce=1,Ece=2;function Sce(t,e){return vce(t)&&xce(e)?bce(wce(t),e):function(n){var r=gce(n,t);return r===void 0&&r===e?yce(n,t):mce(e,r,_ce|Ece)}}var Tce=Sce;function Ace(t){return t}var Uu=Ace;function kce(t){return function(e){return e==null?void 0:e[t]}}var Ice=kce,Cce=GE;function Nce(t){return function(e){return Cce(e,t)}}var Pce=Nce,Rce=Ice,Oce=Pce,Mce=$E,Dce=$0;function jce(t){return Mce(t)?Rce(Dce(t)):Oce(t)}var $ce=jce,Lce=ece,Fce=Tce,Vce=Uu,Uce=qn,Bce=$ce;function zce(t){return typeof t=="function"?t:t==null?Vce:typeof t=="object"?Uce(t)?Fce(t[0],t[1]):Lce(t):Bce(t)}var Ei=zce;function Gce(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var V4=Gce;function qce(t){return t!==t}var Hce=qce;function Wce(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Kce=Wce,Yce=V4,Jce=Hce,Xce=Kce;function Qce(t,e,n){return e===e?Xce(t,e,n):Yce(t,Jce,n)}var Zce=Qce,ede=Zce;function tde(t,e){var n=t==null?0:t.length;return!!n&&ede(t,e,0)>-1}var nde=tde;function rde(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var ide=rde;function ode(){}var sde=ode,Pv=D4,ade=sde,lde=eS,ude=1/0,cde=Pv&&1/lde(new Pv([,-0]))[1]==ude?function(t){return new Pv(t)}:ade,dde=cde,fde=T4,hde=nde,pde=ide,mde=k4,gde=dde,yde=eS,vde=200;function xde(t,e,n){var r=-1,i=hde,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=pde;else if(o>=vde){var u=e?null:gde(t);if(u)return yde(u);s=!1,i=mde,l=new fde}else l=e?[]:a;e:for(;++r<o;){var d=t[r],f=e?e(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(d)}else i(l,f,n)||(l!==a&&l.push(f),a.push(d))}return a}var bde=xde,wde=Ei,_de=bde;function Ede(t,e){return t&&t.length?_de(t,wde(e)):[]}var Sde=Ede;const UN=et(Sde);function U4(t,e,n){return e===!0?UN(t,n):Se(e)?UN(t,e):t}function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}var Tde=["ref"];function BN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BN(Object(n),!0).forEach(function(r){Z0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ade(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z4(r.key),r)}}function kde(t,e,n){return e&&zN(t.prototype,e),n&&zN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ide(t,e,n){return e=Jm(e),Cde(t,B4()?Reflect.construct(e,n||[],Jm(t).constructor):e.apply(t,n))}function Cde(t,e){if(e&&(ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nde(t)}function Nde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B4=function(){return!!t})()}function Jm(t){return Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jm(t)}function Pde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aw(t,e)}function aw(t,e){return aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aw(t,e)}function Z0(t,e,n){return e=z4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z4(t){var e=Rde(t,"string");return ql(e)=="symbol"?e:e+""}function Rde(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ode(t,e){if(t==null)return{};var n=Mde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dde(t){return t.value}function jde(t,e){if(B.isValidElement(t))return B.cloneElement(t,e);if(typeof t=="function")return B.createElement(t,e);e.ref;var n=Ode(e,Tde);return B.createElement(ZE,n)}var GN=1,hi=function(t){function e(){var n;Ade(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Ide(this,e,[].concat(i)),Z0(n,"lastBoundingBox",{width:-1,height:-1}),n}return Pde(e,t),kde(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>GN||Math.abs(i.height-this.lastBoundingBox.height)>GN)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ii({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var y=this.getBBoxSnapshot();f={left:((u||0)-y.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var v=this.getBBoxSnapshot();h={top:((d||0)-v.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ii(Ii({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Ii(Ii({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return B.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(y){r.wrapperNode=y}},jde(o,Ii(Ii({},this.props),{},{payload:U4(d,u,Dde)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Ii(Ii({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&le(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(U.PureComponent);Z0(hi,"displayName","Legend");Z0(hi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var qN=Xf,$de=tS,Lde=qn,HN=qN?qN.isConcatSpreadable:void 0;function Fde(t){return Lde(t)||$de(t)||!!(HN&&t&&t[HN])}var Vde=Fde,Ude=C4,Bde=Vde;function G4(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Bde),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?G4(a,e-1,n,r,i):Ude(i,a):r||(i[i.length]=a)}return i}var q4=G4;function zde(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var Gde=zde,qde=Gde,Hde=qde(),Wde=Hde,Kde=Wde,Yde=Q0;function Jde(t,e){return t&&Kde(t,e,Yde)}var H4=Jde,Xde=Qf;function Qde(t,e){return function(n,r){if(n==null)return n;if(!Xde(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Zde=Qde,efe=H4,tfe=Zde,nfe=tfe(efe),oS=nfe,rfe=oS,ife=Qf;function ofe(t,e){var n=-1,r=ife(t)?Array(t.length):[];return rfe(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var W4=ofe;function sfe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var afe=sfe,WN=Ou;function lfe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=WN(t),s=e!==void 0,a=e===null,l=e===e,u=WN(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var ufe=lfe,cfe=ufe;function dfe(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=cfe(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var ffe=dfe,Rv=zE,hfe=GE,pfe=Ei,mfe=W4,gfe=afe,yfe=R4,vfe=ffe,xfe=Uu,bfe=qn;function wfe(t,e,n){e.length?e=Rv(e,function(o){return bfe(o)?function(s){return hfe(s,o.length===1?o[0]:o)}:o}):e=[xfe];var r=-1;e=Rv(e,yfe(pfe));var i=mfe(t,function(o,s,a){var l=Rv(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return gfe(i,function(o,s){return vfe(o,s,n)})}var _fe=wfe;function Efe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Sfe=Efe,Tfe=Sfe,KN=Math.max;function Afe(t,e,n){return e=KN(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=KN(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),Tfe(t,this,a)}}var kfe=Afe;function Ife(t){return function(){return t}}var Cfe=Ife,Nfe=Ia,Pfe=function(){try{var t=Nfe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),K4=Pfe,Rfe=Cfe,YN=K4,Ofe=Uu,Mfe=YN?function(t,e){return YN(t,"toString",{configurable:!0,enumerable:!1,value:Rfe(e),writable:!0})}:Ofe,Dfe=Mfe,jfe=800,$fe=16,Lfe=Date.now;function Ffe(t){var e=0,n=0;return function(){var r=Lfe(),i=$fe-(r-n);if(n=r,i>0){if(++e>=jfe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Vfe=Ffe,Ufe=Dfe,Bfe=Vfe,zfe=Bfe(Ufe),Gfe=zfe,qfe=Uu,Hfe=kfe,Wfe=Gfe;function Kfe(t,e){return Wfe(Hfe(t,e,qfe),t+"")}var Yfe=Kfe,Jfe=FE,Xfe=Qf,Qfe=nS,Zfe=gs;function ehe(t,e,n){if(!Zfe(n))return!1;var r=typeof e;return(r=="number"?Xfe(n)&&Qfe(e,n.length):r=="string"&&e in n)?Jfe(n[e],t):!1}var ey=ehe,the=q4,nhe=_fe,rhe=Yfe,JN=ey,ihe=rhe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&JN(t,e[0],e[1])?e=[]:n>2&&JN(e[0],e[1],e[2])&&(e=[e[0]]),nhe(t,the(e,1),[])}),ohe=ihe;const sS=et(ohe);function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(this,arguments)}function she(t,e){return che(t)||uhe(t,e)||lhe(t,e)||ahe()}function ahe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lhe(t,e){if(t){if(typeof t=="string")return XN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XN(t,e)}}function XN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function che(t){if(Array.isArray(t))return t}function QN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ov(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QN(Object(n),!0).forEach(function(r){dhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dhe(t,e,n){return e=fhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fhe(t){var e=hhe(t,"string");return qd(e)=="symbol"?e:e+""}function hhe(t,e){if(qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function phe(t){return Array.isArray(t)&&Ut(t[0])&&Ut(t[1])?t.join(" ~ "):t}var mhe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,f=e.formatter,h=e.itemSorter,y=e.wrapperClassName,v=e.labelClassName,b=e.label,x=e.labelFormatter,_=e.accessibilityLayer,w=_===void 0?!1:_,E=function(){if(d&&d.length){var j={padding:0,margin:0},O=(h?sS(d,h):d).map(function(q,V){if(q.type==="none")return null;var L=Ov({display:"block",paddingTop:4,paddingBottom:4,color:q.color||"#000"},a),z=q.formatter||f||phe,P=q.value,$=q.name,G=P,H=$;if(z&&G!=null&&H!=null){var K=z(P,$,q,V,d);if(Array.isArray(K)){var Y=she(K,2);G=Y[0],H=Y[1]}else G=K}return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:L},Ut(H)?B.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Ut(H)?B.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,B.createElement("span",{className:"recharts-tooltip-item-value"},G),B.createElement("span",{className:"recharts-tooltip-item-unit"},q.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:j},O)}return null},C=Ov({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=Ov({margin:0},u),I=!Ce(b),k=I?b:"",T=Ne("recharts-default-tooltip",y),N=Ne("recharts-tooltip-label",v);I&&x&&d!==void 0&&d!==null&&(k=x(b,d));var M=w?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",lw({className:T,style:C},M),B.createElement("p",{className:N,style:S},B.isValidElement(k)?k:"".concat(k)),E())};function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function Zh(t,e,n){return e=ghe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ghe(t){var e=yhe(t,"string");return Hd(e)=="symbol"?e:e+""}function yhe(t,e){if(Hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bc="recharts-tooltip-wrapper",vhe={visibility:"hidden"};function xhe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ne(bc,Zh(Zh(Zh(Zh({},"".concat(bc,"-right"),le(n)&&e&&le(e.x)&&n>=e.x),"".concat(bc,"-left"),le(n)&&e&&le(e.x)&&n<e.x),"".concat(bc,"-bottom"),le(r)&&e&&le(e.y)&&r>=e.y),"".concat(bc,"-top"),le(r)&&e&&le(e.y)&&r<e.y))}function ZN(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&le(o[r]))return o[r];var d=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?d:f;if(s[r]){var h=d,y=l[r];return h<y?Math.max(f,l[r]):Math.max(d,l[r])}var v=f+a,b=l[r]+u;return v>b?Math.max(d,l[r]):Math.max(f,l[r])}function bhe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function whe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,d,f;return s.height>0&&s.width>0&&n?(d=ZN({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=ZN({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=bhe({translateX:d,translateY:f,useTranslate3d:a})):u=vhe,{cssProperties:u,cssClasses:xhe({translateX:d,translateY:f,coordinate:n})}}function Hl(t){"@babel/helpers - typeof";return Hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(t)}function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){cw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _he(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ehe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J4(r.key),r)}}function She(t,e,n){return e&&Ehe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function The(t,e,n){return e=Xm(e),Ahe(t,Y4()?Reflect.construct(e,n||[],Xm(t).constructor):e.apply(t,n))}function Ahe(t,e){if(e&&(Hl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return khe(t)}function khe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y4=function(){return!!t})()}function Xm(t){return Xm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xm(t)}function Ihe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uw(t,e)}function uw(t,e){return uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uw(t,e)}function cw(t,e,n){return e=J4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J4(t){var e=Che(t,"string");return Hl(e)=="symbol"?e:e+""}function Che(t,e){if(Hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nP=1,Nhe=function(t){function e(){var n;_he(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=The(this,e,[].concat(i)),cw(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),cw(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return Ihe(e,t),She(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>nP||Math.abs(r.height-this.state.lastBoundingBox.height)>nP)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,y=i.offset,v=i.position,b=i.reverseDirection,x=i.useTranslate3d,_=i.viewBox,w=i.wrapperStyle,E=whe({allowEscapeViewBox:s,coordinate:d,offsetTopLeft:y,position:v,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:_}),C=E.cssClasses,S=E.cssProperties,I=tP(tP({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return B.createElement("div",{tabIndex:-1,className:C,style:I,ref:function(T){r.wrapperNode=T}},u)}}])}(U.PureComponent),Phe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},yo={isSsr:Phe()};function Wl(t){"@babel/helpers - typeof";return Wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wl(t)}function rP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rP(Object(n),!0).forEach(function(r){aS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ohe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q4(r.key),r)}}function Mhe(t,e,n){return e&&Ohe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dhe(t,e,n){return e=Qm(e),jhe(t,X4()?Reflect.construct(e,n||[],Qm(t).constructor):e.apply(t,n))}function jhe(t,e){if(e&&(Wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $he(t)}function $he(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X4=function(){return!!t})()}function Qm(t){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qm(t)}function Lhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dw(t,e)}function dw(t,e){return dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dw(t,e)}function aS(t,e,n){return e=Q4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q4(t){var e=Fhe(t,"string");return Wl(e)=="symbol"?e:e+""}function Fhe(t,e){if(Wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Vhe(t){return t.dataKey}function Uhe(t,e){return B.isValidElement(t)?B.cloneElement(t,e):typeof t=="function"?B.createElement(t,e):B.createElement(mhe,e)}var sn=function(t){function e(){return Rhe(this,e),Dhe(this,e,arguments)}return Lhe(e,t),Mhe(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,y=i.offset,v=i.payload,b=i.payloadUniqBy,x=i.position,_=i.reverseDirection,w=i.useTranslate3d,E=i.viewBox,C=i.wrapperStyle,S=v??[];f&&S.length&&(S=U4(v.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),b,Vhe));var I=S.length>0;return B.createElement(Nhe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:d,hasPayload:I,offset:y,position:x,reverseDirection:_,useTranslate3d:w,viewBox:E,wrapperStyle:C},Uhe(u,iP(iP({},this.props),{},{payload:S})))}}])}(U.PureComponent);aS(sn,"displayName","Tooltip");aS(sn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!yo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Bhe=_i,zhe=function(){return Bhe.Date.now()},Ghe=zhe,qhe=/\s/;function Hhe(t){for(var e=t.length;e--&&qhe.test(t.charAt(e)););return e}var Whe=Hhe,Khe=Whe,Yhe=/^\s+/;function Jhe(t){return t&&t.slice(0,Khe(t)+1).replace(Yhe,"")}var Xhe=Jhe,Qhe=Xhe,oP=gs,Zhe=Ou,sP=NaN,epe=/^[-+]0x[0-9a-f]+$/i,tpe=/^0b[01]+$/i,npe=/^0o[0-7]+$/i,rpe=parseInt;function ipe(t){if(typeof t=="number")return t;if(Zhe(t))return sP;if(oP(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=oP(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Qhe(t);var n=tpe.test(t);return n||npe.test(t)?rpe(t.slice(2),n?2:8):epe.test(t)?sP:+t}var Z4=ipe,ope=gs,Mv=Ghe,aP=Z4,spe="Expected a function",ape=Math.max,lpe=Math.min;function upe(t,e,n){var r,i,o,s,a,l,u=0,d=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(spe);e=aP(e)||0,ope(n)&&(d=!!n.leading,f="maxWait"in n,o=f?ape(aP(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function y(I){var k=r,T=i;return r=i=void 0,u=I,s=t.apply(T,k),s}function v(I){return u=I,a=setTimeout(_,e),d?y(I):s}function b(I){var k=I-l,T=I-u,N=e-k;return f?lpe(N,o-T):N}function x(I){var k=I-l,T=I-u;return l===void 0||k>=e||k<0||f&&T>=o}function _(){var I=Mv();if(x(I))return w(I);a=setTimeout(_,b(I))}function w(I){return a=void 0,h&&r?y(I):(r=i=void 0,s)}function E(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function C(){return a===void 0?s:w(Mv())}function S(){var I=Mv(),k=x(I);if(r=arguments,i=this,l=I,k){if(a===void 0)return v(l);if(f)return clearTimeout(a),a=setTimeout(_,e),y(l)}return a===void 0&&(a=setTimeout(_,e)),s}return S.cancel=E,S.flush=C,S}var cpe=upe,dpe=cpe,fpe=gs,hpe="Expected a function";function ppe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(hpe);return fpe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),dpe(t,e,{leading:r,maxWait:e,trailing:i})}var mpe=ppe;const e5=et(mpe);function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function lP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ep(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(n),!0).forEach(function(r){gpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gpe(t,e,n){return e=ype(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ype(t){var e=vpe(t,"string");return Wd(e)=="symbol"?e:e+""}function vpe(t,e){if(Wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xpe(t,e){return Epe(t)||_pe(t,e)||wpe(t,e)||bpe()}function bpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wpe(t,e){if(t){if(typeof t=="string")return uP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uP(t,e)}}function uP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _pe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Epe(t){if(Array.isArray(t))return t}var Zo=U.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,y=t.children,v=t.debounce,b=v===void 0?0:v,x=t.id,_=t.className,w=t.onResize,E=t.style,C=E===void 0?{}:E,S=U.useRef(null),I=U.useRef();I.current=w,U.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var k=U.useState({containerWidth:i.width,containerHeight:i.height}),T=xpe(k,2),N=T[0],M=T[1],D=U.useCallback(function(O,q){M(function(V){var L=Math.round(O),z=Math.round(q);return V.containerWidth===L&&V.containerHeight===z?V:{containerWidth:L,containerHeight:z}})},[]);U.useEffect(function(){var O=function($){var G,H=$[0].contentRect,K=H.width,Y=H.height;D(K,Y),(G=I.current)===null||G===void 0||G.call(I,K,Y)};b>0&&(O=e5(O,b,{trailing:!0,leading:!1}));var q=new ResizeObserver(O),V=S.current.getBoundingClientRect(),L=V.width,z=V.height;return D(L,z),q.observe(S.current),function(){q.disconnect()}},[D,b]);var j=U.useMemo(function(){var O=N.containerWidth,q=N.containerHeight;if(O<0||q<0)return null;Jr(Gs(s)||Gs(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Jr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var V=Gs(s)?O:s,L=Gs(l)?q:l;n&&n>0&&(V?L=V/n:L&&(V=L*n),h&&L>h&&(L=h)),Jr(V>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,L,s,l,d,f,n);var z=!Array.isArray(y)&&qi(y.type).endsWith("Chart");return B.Children.map(y,function(P){return B.isValidElement(P)?U.cloneElement(P,ep({width:V,height:L},z?{style:ep({height:"100%",width:"100%",maxHeight:L,maxWidth:V},P.props.style)}:{})):P})},[n,y,l,h,f,d,N,s]);return B.createElement("div",{id:x?"".concat(x):void 0,className:Ne("recharts-responsive-container",_),style:ep(ep({},C),{},{width:s,height:l,minWidth:d,minHeight:f,maxHeight:h}),ref:S},j)}),Na=function(e){return null};Na.displayName="Cell";function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function cP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(n),!0).forEach(function(r){Spe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Spe(t,e,n){return e=Tpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tpe(t){var e=Ape(t,"string");return Kd(e)=="symbol"?e:e+""}function Ape(t,e){if(Kd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fa={widthCache:{},cacheCount:0},kpe=2e3,Ipe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},dP="recharts_measurement_span";function Cpe(t){var e=fw({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var rd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||yo.isSsr)return{width:0,height:0};var r=Cpe(n),i=JSON.stringify({text:e,copyStyle:r});if(Fa.widthCache[i])return Fa.widthCache[i];try{var o=document.getElementById(dP);o||(o=document.createElement("span"),o.setAttribute("id",dP),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=fw(fw({},Ipe),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return Fa.widthCache[i]=l,++Fa.cacheCount>kpe&&(Fa.cacheCount=0,Fa.widthCache={}),l}catch{return{width:0,height:0}}},Npe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function Zm(t,e){return Mpe(t)||Ope(t,e)||Rpe(t,e)||Ppe()}function Ppe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rpe(t,e){if(t){if(typeof t=="string")return fP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fP(t,e)}}function fP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ope(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Mpe(t){if(Array.isArray(t))return t}function Dpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$pe(r.key),r)}}function jpe(t,e,n){return e&&hP(t.prototype,e),n&&hP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $pe(t){var e=Lpe(t,"string");return Yd(e)=="symbol"?e:e+""}function Lpe(t,e){if(Yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Fpe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Vpe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,t5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Upe=Object.keys(t5),ll="NaN";function Bpe(t,e){return t*t5[e]}var tp=function(){function t(e,n){Dpe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Fpe.test(n)&&(this.num=NaN,this.unit=""),Upe.includes(n)&&(this.num=Bpe(e,n),this.unit="px")}return jpe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Vpe.exec(n))!==null&&r!==void 0?r:[],o=Zm(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function n5(t){if(t.includes(ll))return ll;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=pP.exec(e))!==null&&n!==void 0?n:[],i=Zm(r,4),o=i[1],s=i[2],a=i[3],l=tp.parse(o??""),u=tp.parse(a??""),d=s==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return ll;e=e.replace(pP,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=mP.exec(e))!==null&&f!==void 0?f:[],y=Zm(h,4),v=y[1],b=y[2],x=y[3],_=tp.parse(v??""),w=tp.parse(x??""),E=b==="+"?_.add(w):_.subtract(w);if(E.isNaN())return ll;e=e.replace(mP,E.toString())}return e}var gP=/\(([^()]*)\)/;function zpe(t){for(var e=t;e.includes("(");){var n=gP.exec(e),r=Zm(n,2),i=r[1];e=e.replace(gP,n5(i))}return e}function Gpe(t){var e=t.replace(/\s+/g,"");return e=zpe(e),e=n5(e),e}function qpe(t){try{return Gpe(t)}catch{return ll}}function Dv(t){var e=qpe(t.slice(5,-1));return e===ll?"":e}var Hpe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Wpe=["dx","dy","angle","className","breakAll"];function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hw.apply(this,arguments)}function yP(t,e){if(t==null)return{};var n=Kpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vP(t,e){return Qpe(t)||Xpe(t,e)||Jpe(t,e)||Ype()}function Ype(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jpe(t,e){if(t){if(typeof t=="string")return xP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xP(t,e)}}function xP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Qpe(t){if(Array.isArray(t))return t}var r5=/[ \f\n\r\t\v\u2028\u2029]+/,i5=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Ce(n)||(r?o=n.toString().split(""):o=n.toString().split(r5));var s=o.map(function(l){return{word:l,width:rd(l,i).width}}),a=r?0:rd("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Zpe=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,d=le(s),f=a,h=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(L,z){var P=z.word,$=z.width,G=L[L.length-1];if(G&&(i==null||o||G.width+$+r<Number(i)))G.words.push(P),G.width+=$+r;else{var H={words:[P],width:$};L.push(H)}return L},[])},y=h(n),v=function(V){return V.reduce(function(L,z){return L.width>z.width?L:z})};if(!d)return y;for(var b="",x=function(V){var L=f.slice(0,V),z=i5({breakAll:u,style:l,children:L+b}).wordsWithComputedWidth,P=h(z),$=P.length>s||v(P).width>Number(i);return[$,P]},_=0,w=f.length-1,E=0,C;_<=w&&E<=f.length-1;){var S=Math.floor((_+w)/2),I=S-1,k=x(I),T=vP(k,2),N=T[0],M=T[1],D=x(S),j=vP(D,1),O=j[0];if(!N&&!O&&(_=S+1),N&&O&&(w=S-1),!N&&O){C=M;break}E++}return C||y},bP=function(e){var n=Ce(e)?[]:e.toString().split(r5);return[{words:n}]},eme=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!yo.isSsr){var l,u,d=i5({breakAll:s,children:i,style:o});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;l=f,u=h}else return bP(i);return Zpe({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return bP(i)},wP="#808080",va=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,f=d===void 0?!1:d,h=e.textAnchor,y=h===void 0?"start":h,v=e.verticalAnchor,b=v===void 0?"end":v,x=e.fill,_=x===void 0?wP:x,w=yP(e,Hpe),E=U.useMemo(function(){return eme({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),C=w.dx,S=w.dy,I=w.angle,k=w.className,T=w.breakAll,N=yP(w,Wpe);if(!Ut(r)||!Ut(o))return null;var M=r+(le(C)?C:0),D=o+(le(S)?S:0),j;switch(b){case"start":j=Dv("calc(".concat(u,")"));break;case"middle":j=Dv("calc(".concat((E.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:j=Dv("calc(".concat(E.length-1," * -").concat(a,")"));break}var O=[];if(f){var q=E[0].width,V=w.width;O.push("scale(".concat((le(V)?V/q:1)/q,")"))}return I&&O.push("rotate(".concat(I,", ").concat(M,", ").concat(D,")")),O.length&&(N.transform=O.join(" ")),B.createElement("text",hw({},be(N,!0),{x:M,y:D,className:Ne("recharts-text",k),textAnchor:y,fill:_.includes("url")?wP:_}),E.map(function(L,z){var P=L.words.join(T?"":" ");return B.createElement("tspan",{x:M,dy:z===0?j:a,key:"".concat(P,"-").concat(z)},P)}))};function es(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tme(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lS(t){let e,n,r;t.length!==2?(e=es,n=(a,l)=>es(t(a),l),r=(a,l)=>t(a)-l):(e=t===es||t===tme?t:nme,n=t,r=t);function i(a,l,u=0,d=a.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(a[f],l)<0?u=f+1:d=f}while(u<d)}return u}function o(a,l,u=0,d=a.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;n(a[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function s(a,l,u=0,d=a.length){const f=i(a,l,u,d-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function nme(){return 0}function o5(t){return t===null?NaN:+t}function*rme(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const ime=lS(es),Zf=ime.right;lS(o5).center;class _P extends Map{constructor(e,n=ame){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(EP(this,e))}has(e){return super.has(EP(this,e))}set(e,n){return super.set(ome(this,e),n)}delete(e){return super.delete(sme(this,e))}}function EP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ome({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function sme({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ame(t){return t!==null&&typeof t=="object"?t.valueOf():t}function lme(t=es){if(t===es)return s5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function s5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const ume=Math.sqrt(50),cme=Math.sqrt(10),dme=Math.sqrt(2);function eg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=ume?10:o>=cme?5:o>=dme?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?eg(t,e,n*2):[a,l,u]}function pw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?eg(e,t,n):eg(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function mw(t,e,n){return e=+e,t=+t,n=+n,eg(t,e,n)[2]}function gw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?mw(e,t,n):mw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function SP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function TP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function a5(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?s5:lme(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),y=Math.max(n,Math.floor(e-u*f/l+h)),v=Math.min(r,Math.floor(e+(l-u)*f/l+h));a5(t,e,y,v,i)}const o=t[e];let s=n,a=r;for(wc(t,n,e),i(t[r],o)>0&&wc(t,n,r);s<a;){for(wc(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?wc(t,n,a):(++a,wc(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function wc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function fme(t,e,n){if(t=Float64Array.from(rme(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return TP(t);if(e>=1)return SP(t);var r,i=(r-1)*e,o=Math.floor(i),s=SP(a5(t,o).subarray(0,o+1)),a=TP(t.subarray(o+1));return s+(a-s)*(i-o)}}function hme(t,e,n=o5){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function pme(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Pr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function vo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const yw=Symbol("implicit");function uS(){var t=new _P,e=[],n=[],r=yw;function i(o){let s=t.get(o);if(s===void 0){if(r!==yw)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new _P;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return uS(e,n).unknown(r)},Pr.apply(i,arguments),i}function Jd(){var t=uS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var h=e().length,y=i<r,v=y?i:r,b=y?r:i;o=(b-v)/Math.max(1,h-l+u*2),a&&(o=Math.floor(o)),v+=(b-v-o*(h-l))*d,s=o*(1-l),a&&(v=Math.round(v),s=Math.round(s));var x=pme(h).map(function(_){return v+o*_});return n(y?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},t.copy=function(){return Jd(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(d)},Pr.apply(f(),arguments)}function l5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return l5(e())},t}function id(){return l5(Jd.apply(null,arguments).paddingInner(1))}function cS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function u5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function eh(){}var Xd=.7,tg=1/Xd,Al="\\s*([+-]?\\d+)\\s*",Qd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mme=/^#([0-9a-f]{3,8})$/,gme=new RegExp(`^rgb\\(${Al},${Al},${Al}\\)$`),yme=new RegExp(`^rgb\\(${pi},${pi},${pi}\\)$`),vme=new RegExp(`^rgba\\(${Al},${Al},${Al},${Qd}\\)$`),xme=new RegExp(`^rgba\\(${pi},${pi},${pi},${Qd}\\)$`),bme=new RegExp(`^hsl\\(${Qd},${pi},${pi}\\)$`),wme=new RegExp(`^hsla\\(${Qd},${pi},${pi},${Qd}\\)$`),AP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cS(eh,Zd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:kP,formatHex:kP,formatHex8:_me,formatHsl:Eme,formatRgb:IP,toString:IP});function kP(){return this.rgb().formatHex()}function _me(){return this.rgb().formatHex8()}function Eme(){return c5(this).formatHsl()}function IP(){return this.rgb().formatRgb()}function Zd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=mme.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?CP(e):n===3?new Vn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?np(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?np(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gme.exec(t))?new Vn(e[1],e[2],e[3],1):(e=yme.exec(t))?new Vn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=vme.exec(t))?np(e[1],e[2],e[3],e[4]):(e=xme.exec(t))?np(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=bme.exec(t))?RP(e[1],e[2]/100,e[3]/100,1):(e=wme.exec(t))?RP(e[1],e[2]/100,e[3]/100,e[4]):AP.hasOwnProperty(t)?CP(AP[t]):t==="transparent"?new Vn(NaN,NaN,NaN,0):null}function CP(t){return new Vn(t>>16&255,t>>8&255,t&255,1)}function np(t,e,n,r){return r<=0&&(t=e=n=NaN),new Vn(t,e,n,r)}function Sme(t){return t instanceof eh||(t=Zd(t)),t?(t=t.rgb(),new Vn(t.r,t.g,t.b,t.opacity)):new Vn}function vw(t,e,n,r){return arguments.length===1?Sme(t):new Vn(t,e,n,r??1)}function Vn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}cS(Vn,vw,u5(eh,{brighter(t){return t=t==null?tg:Math.pow(tg,t),new Vn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Xd:Math.pow(Xd,t),new Vn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Vn(Zs(this.r),Zs(this.g),Zs(this.b),ng(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:NP,formatHex:NP,formatHex8:Tme,formatRgb:PP,toString:PP}));function NP(){return`#${qs(this.r)}${qs(this.g)}${qs(this.b)}`}function Tme(){return`#${qs(this.r)}${qs(this.g)}${qs(this.b)}${qs((isNaN(this.opacity)?1:this.opacity)*255)}`}function PP(){const t=ng(this.opacity);return`${t===1?"rgb(":"rgba("}${Zs(this.r)}, ${Zs(this.g)}, ${Zs(this.b)}${t===1?")":`, ${t})`}`}function ng(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Zs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function qs(t){return t=Zs(t),(t<16?"0":"")+t.toString(16)}function RP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new zr(t,e,n,r)}function c5(t){if(t instanceof zr)return new zr(t.h,t.s,t.l,t.opacity);if(t instanceof eh||(t=Zd(t)),!t)return new zr;if(t instanceof zr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new zr(s,a,l,t.opacity)}function Ame(t,e,n,r){return arguments.length===1?c5(t):new zr(t,e,n,r??1)}function zr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}cS(zr,Ame,u5(eh,{brighter(t){return t=t==null?tg:Math.pow(tg,t),new zr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xd:Math.pow(Xd,t),new zr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Vn(jv(t>=240?t-240:t+120,i,r),jv(t,i,r),jv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new zr(OP(this.h),rp(this.s),rp(this.l),ng(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ng(this.opacity);return`${t===1?"hsl(":"hsla("}${OP(this.h)}, ${rp(this.s)*100}%, ${rp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function OP(t){return t=(t||0)%360,t<0?t+360:t}function rp(t){return Math.max(0,Math.min(1,t||0))}function jv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const dS=t=>()=>t;function kme(t,e){return function(n){return t+n*e}}function Ime(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Cme(t){return(t=+t)==1?d5:function(e,n){return n-e?Ime(e,n,t):dS(isNaN(e)?n:e)}}function d5(t,e){var n=e-t;return n?kme(t,n):dS(isNaN(t)?e:t)}const MP=function t(e){var n=Cme(e);function r(i,o){var s=n((i=vw(i)).r,(o=vw(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=d5(i.opacity,o.opacity);return function(d){return i.r=s(d),i.g=a(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=t,r}(1);function Nme(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Pme(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Rme(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Bu(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Ome(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function rg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Mme(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Bu(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var xw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$v=new RegExp(xw.source,"g");function Dme(t){return function(){return t}}function jme(t){return function(e){return t(e)+""}}function $me(t,e){var n=xw.lastIndex=$v.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=xw.exec(t))&&(i=$v.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:rg(r,i)})),n=$v.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?jme(l[0].x):Dme(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)a[(f=l[d]).i]=f.x(u);return a.join("")})}function Bu(t,e){var n=typeof e,r;return e==null||n==="boolean"?dS(e):(n==="number"?rg:n==="string"?(r=Zd(e))?(e=r,MP):$me:e instanceof Zd?MP:e instanceof Date?Ome:Pme(e)?Nme:Array.isArray(e)?Rme:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Mme:rg)(t,e)}function fS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Lme(t,e){e===void 0&&(e=t,t=Bu);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function Fme(t){return function(){return t}}function ig(t){return+t}var DP=[0,1];function Rn(t){return t}function bw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Fme(isNaN(e)?NaN:.5)}function Vme(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Ume(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=bw(i,r),o=n(s,o)):(r=bw(r,i),o=n(o,s)),function(a){return o(r(a))}}function Bme(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=bw(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=Zf(t,a,1,r)-1;return o[l](i[l](a))}}function th(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ty(){var t=DP,e=DP,n=Bu,r,i,o,s=Rn,a,l,u;function d(){var h=Math.min(t.length,e.length);return s!==Rn&&(s=Vme(t[0],t[h-1])),a=h>2?Bme:Ume,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=a(e,t.map(r),rg)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,ig),d()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),d()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=fS,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Rn,d()):s!==Rn},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,y){return r=h,i=y,d()}}function hS(){return ty()(Rn,Rn)}function zme(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function og(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Kl(t){return t=og(Math.abs(t)),t?t[1]:NaN}function Gme(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function qme(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Hme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ef(t){if(!(e=Hme.exec(t)))throw new Error("invalid format: "+t);var e;return new pS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ef.prototype=pS.prototype;function pS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}pS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Wme(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var sg;function Kme(t,e){var n=og(t,e);if(!n)return sg=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(sg=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+og(t,Math.max(0,e+o-1))[0]}function jP(t,e){var n=og(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const $P={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:zme,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>jP(t*100,e),r:jP,s:Kme,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function LP(t){return t}var FP=Array.prototype.map,VP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Yme(t){var e=t.grouping===void 0||t.thousands===void 0?LP:Gme(FP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?LP:qme(FP.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f,h){f=ef(f);var y=f.fill,v=f.align,b=f.sign,x=f.symbol,_=f.zero,w=f.width,E=f.comma,C=f.precision,S=f.trim,I=f.type;I==="n"?(E=!0,I="g"):$P[I]||(C===void 0&&(C=12),S=!0,I="g"),(_||y==="0"&&v==="=")&&(_=!0,y="0",v="=");var k=(h&&h.prefix!==void 0?h.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():""),T=(x==="$"?r:/[%p]/.test(I)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),N=$P[I],M=/[defgprs%]/.test(I);C=C===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function D(j){var O=k,q=T,V,L,z;if(I==="c")q=N(j)+q,j="";else{j=+j;var P=j<0||1/j<0;if(j=isNaN(j)?l:N(Math.abs(j),C),S&&(j=Wme(j)),P&&+j==0&&b!=="+"&&(P=!1),O=(P?b==="("?b:a:b==="-"||b==="("?"":b)+O,q=(I==="s"&&!isNaN(j)&&sg!==void 0?VP[8+sg/3]:"")+q+(P&&b==="("?")":""),M){for(V=-1,L=j.length;++V<L;)if(z=j.charCodeAt(V),48>z||z>57){q=(z===46?i+j.slice(V+1):j.slice(V))+q,j=j.slice(0,V);break}}}E&&!_&&(j=e(j,1/0));var $=O.length+j.length+q.length,G=$<w?new Array(w-$+1).join(y):"";switch(E&&_&&(j=e(G+j,G.length?w-q.length:1/0),G=""),v){case"<":j=O+j+q+G;break;case"=":j=O+G+j+q;break;case"^":j=G.slice(0,$=G.length>>1)+O+j+q+G.slice($);break;default:j=G+O+j+q;break}return o(j)}return D.toString=function(){return f+""},D}function d(f,h){var y=Math.max(-8,Math.min(8,Math.floor(Kl(h)/3)))*3,v=Math.pow(10,-y),b=u((f=ef(f),f.type="f",f),{suffix:VP[8+y/3]});return function(x){return b(v*x)}}return{format:u,formatPrefix:d}}var ip,mS,f5;Jme({thousands:",",grouping:[3],currency:["$",""]});function Jme(t){return ip=Yme(t),mS=ip.format,f5=ip.formatPrefix,ip}function Xme(t){return Math.max(0,-Kl(Math.abs(t)))}function Qme(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kl(e)/3)))*3-Kl(Math.abs(t)))}function Zme(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Kl(e)-Kl(t))+1}function h5(t,e,n,r){var i=gw(t,e,n),o;switch(r=ef(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Qme(i,s))&&(r.precision=o),f5(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Zme(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Xme(i))&&(r.precision=o-(r.type==="%")*2);break}}return mS(r)}function ys(t){var e=t.domain;return t.ticks=function(n){var r=e();return pw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return h5(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,d=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);d-- >0;){if(u=mw(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function ag(){var t=hS();return t.copy=function(){return th(t,ag())},Pr.apply(t,arguments),ys(t)}function p5(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ig),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return p5(t).unknown(e)},t=arguments.length?Array.from(t,ig):[0,1],ys(n)}function m5(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function UP(t){return Math.log(t)}function BP(t){return Math.exp(t)}function ege(t){return-Math.log(-t)}function tge(t){return-Math.exp(-t)}function nge(t){return isFinite(t)?+("1e"+t):t<0?0:t}function rge(t){return t===10?nge:t===Math.E?Math.exp:e=>Math.pow(t,e)}function ige(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function zP(t){return(e,n)=>-t(-e,n)}function gS(t){const e=t(UP,BP),n=e.domain;let r=10,i,o;function s(){return i=ige(r),o=rge(r),n()[0]<0?(i=zP(i),o=zP(o),t(ege,tge)):t(UP,BP),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),y=i(d),v,b;const x=a==null?10:+a;let _=[];if(!(r%1)&&y-h<x){if(h=Math.floor(h),y=Math.ceil(y),u>0){for(;h<=y;++h)for(v=1;v<r;++v)if(b=h<0?v/o(-h):v*o(h),!(b<u)){if(b>d)break;_.push(b)}}else for(;h<=y;++h)for(v=r-1;v>=1;--v)if(b=h>0?v/o(-h):v*o(h),!(b<u)){if(b>d)break;_.push(b)}_.length*2<x&&(_=pw(u,d,x))}else _=pw(h,y,Math.min(y-h,x)).map(o);return f?_.reverse():_},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=ef(l)).precision==null&&(l.trim=!0),l=mS(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return d=>{let f=d/o(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?l(d):""}},e.nice=()=>n(m5(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function g5(){const t=gS(ty()).domain([1,10]);return t.copy=()=>th(t,g5()).base(t.base()),Pr.apply(t,arguments),t}function GP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function qP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function yS(t){var e=1,n=t(GP(e),qP(e));return n.constant=function(r){return arguments.length?t(GP(e=+r),qP(e)):e},ys(n)}function y5(){var t=yS(ty());return t.copy=function(){return th(t,y5()).constant(t.constant())},Pr.apply(t,arguments)}function HP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function oge(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function sge(t){return t<0?-t*t:t*t}function vS(t){var e=t(Rn,Rn),n=1;function r(){return n===1?t(Rn,Rn):n===.5?t(oge,sge):t(HP(n),HP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},ys(e)}function xS(){var t=vS(ty());return t.copy=function(){return th(t,xS()).exponent(t.exponent())},Pr.apply(t,arguments),t}function age(){return xS.apply(null,arguments).exponent(.5)}function WP(t){return Math.sign(t)*t*t}function lge(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function v5(){var t=hS(),e=[0,1],n=!1,r;function i(o){var s=lge(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(WP(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,ig)).map(WP)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return v5(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Pr.apply(i,arguments),ys(i)}function x5(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=hme(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Zf(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(es),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return x5().domain(t).range(e).unknown(r)},Pr.apply(o,arguments)}function b5(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Zf(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return b5().domain([t,e]).range(i).unknown(o)},Pr.apply(ys(s),arguments)}function w5(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Zf(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return w5().domain(t).range(e).unknown(n)},Pr.apply(i,arguments)}const Lv=new Date,Fv=new Date;function zt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>zt(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(Lv.setTime(+o),Fv.setTime(+s),t(Lv),t(Fv),Math.floor(n(Lv,Fv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const lg=zt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);lg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?zt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):lg);lg.range;const Fi=1e3,br=Fi*60,Vi=br*60,oo=Vi*24,bS=oo*7,KP=oo*30,Vv=oo*365,Hs=zt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Fi)},(t,e)=>(e-t)/Fi,t=>t.getUTCSeconds());Hs.range;const wS=zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Fi)},(t,e)=>{t.setTime(+t+e*br)},(t,e)=>(e-t)/br,t=>t.getMinutes());wS.range;const _S=zt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*br)},(t,e)=>(e-t)/br,t=>t.getUTCMinutes());_S.range;const ES=zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Fi-t.getMinutes()*br)},(t,e)=>{t.setTime(+t+e*Vi)},(t,e)=>(e-t)/Vi,t=>t.getHours());ES.range;const SS=zt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Vi)},(t,e)=>(e-t)/Vi,t=>t.getUTCHours());SS.range;const nh=zt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*br)/oo,t=>t.getDate()-1);nh.range;const ny=zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/oo,t=>t.getUTCDate()-1);ny.range;const _5=zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/oo,t=>Math.floor(t/oo));_5.range;function Pa(t){return zt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*br)/bS)}const ry=Pa(0),ug=Pa(1),uge=Pa(2),cge=Pa(3),Yl=Pa(4),dge=Pa(5),fge=Pa(6);ry.range;ug.range;uge.range;cge.range;Yl.range;dge.range;fge.range;function Ra(t){return zt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/bS)}const iy=Ra(0),cg=Ra(1),hge=Ra(2),pge=Ra(3),Jl=Ra(4),mge=Ra(5),gge=Ra(6);iy.range;cg.range;hge.range;pge.range;Jl.range;mge.range;gge.range;const TS=zt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());TS.range;const AS=zt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());AS.range;const so=zt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());so.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});so.range;const ao=zt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ao.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ao.range;function E5(t,e,n,r,i,o){const s=[[Hs,1,Fi],[Hs,5,5*Fi],[Hs,15,15*Fi],[Hs,30,30*Fi],[o,1,br],[o,5,5*br],[o,15,15*br],[o,30,30*br],[i,1,Vi],[i,3,3*Vi],[i,6,6*Vi],[i,12,12*Vi],[r,1,oo],[r,2,2*oo],[n,1,bS],[e,1,KP],[e,3,3*KP],[t,1,Vv]];function a(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const y=f&&typeof f.range=="function"?f:l(u,d,f),v=y?y.range(u,+d+1):[];return h?v.reverse():v}function l(u,d,f){const h=Math.abs(d-u)/f,y=lS(([,,x])=>x).right(s,h);if(y===s.length)return t.every(gw(u/Vv,d/Vv,f));if(y===0)return lg.every(Math.max(gw(u,d,f),1));const[v,b]=s[h/s[y-1][2]<s[y][2]/h?y-1:y];return v.every(b)}return[a,l]}const[yge,vge]=E5(ao,AS,iy,_5,SS,_S),[xge,bge]=E5(so,TS,ry,nh,ES,wS);function Uv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Bv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function _c(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function wge(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=Ec(i),d=Sc(i),f=Ec(o),h=Sc(o),y=Ec(s),v=Sc(s),b=Ec(a),x=Sc(a),_=Ec(l),w=Sc(l),E={a:z,A:P,b:$,B:G,c:null,d:e2,e:e2,f:Gge,g:e0e,G:n0e,H:Uge,I:Bge,j:zge,L:S5,m:qge,M:Hge,p:H,q:K,Q:r2,s:i2,S:Wge,u:Kge,U:Yge,V:Jge,w:Xge,W:Qge,x:null,X:null,y:Zge,Y:t0e,Z:r0e,"%":n2},C={a:Y,A:se,b:W,B:Z,c:null,d:t2,e:t2,f:a0e,g:y0e,G:x0e,H:i0e,I:o0e,j:s0e,L:A5,m:l0e,M:u0e,p:de,q:oe,Q:r2,s:i2,S:c0e,u:d0e,U:f0e,V:h0e,w:p0e,W:m0e,x:null,X:null,y:g0e,Y:v0e,Z:b0e,"%":n2},S={a:M,A:D,b:j,B:O,c:q,d:QP,e:QP,f:$ge,g:XP,G:JP,H:ZP,I:ZP,j:Oge,L:jge,m:Rge,M:Mge,p:N,q:Pge,Q:Fge,s:Vge,S:Dge,u:Age,U:kge,V:Ige,w:Tge,W:Cge,x:V,X:L,y:XP,Y:JP,Z:Nge,"%":Lge};E.x=I(n,E),E.X=I(r,E),E.c=I(e,E),C.x=I(n,C),C.X=I(r,C),C.c=I(e,C);function I(re,fe){return function(ye){var te=[],$e=-1,Oe=0,tt=re.length,Xe,Dt,Hn;for(ye instanceof Date||(ye=new Date(+ye));++$e<tt;)re.charCodeAt($e)===37&&(te.push(re.slice(Oe,$e)),(Dt=YP[Xe=re.charAt(++$e)])!=null?Xe=re.charAt(++$e):Dt=Xe==="e"?" ":"0",(Hn=fe[Xe])&&(Xe=Hn(ye,Dt)),te.push(Xe),Oe=$e+1);return te.push(re.slice(Oe,$e)),te.join("")}}function k(re,fe){return function(ye){var te=_c(1900,void 0,1),$e=T(te,re,ye+="",0),Oe,tt;if($e!=ye.length)return null;if("Q"in te)return new Date(te.Q);if("s"in te)return new Date(te.s*1e3+("L"in te?te.L:0));if(fe&&!("Z"in te)&&(te.Z=0),"p"in te&&(te.H=te.H%12+te.p*12),te.m===void 0&&(te.m="q"in te?te.q:0),"V"in te){if(te.V<1||te.V>53)return null;"w"in te||(te.w=1),"Z"in te?(Oe=Bv(_c(te.y,0,1)),tt=Oe.getUTCDay(),Oe=tt>4||tt===0?cg.ceil(Oe):cg(Oe),Oe=ny.offset(Oe,(te.V-1)*7),te.y=Oe.getUTCFullYear(),te.m=Oe.getUTCMonth(),te.d=Oe.getUTCDate()+(te.w+6)%7):(Oe=Uv(_c(te.y,0,1)),tt=Oe.getDay(),Oe=tt>4||tt===0?ug.ceil(Oe):ug(Oe),Oe=nh.offset(Oe,(te.V-1)*7),te.y=Oe.getFullYear(),te.m=Oe.getMonth(),te.d=Oe.getDate()+(te.w+6)%7)}else("W"in te||"U"in te)&&("w"in te||(te.w="u"in te?te.u%7:"W"in te?1:0),tt="Z"in te?Bv(_c(te.y,0,1)).getUTCDay():Uv(_c(te.y,0,1)).getDay(),te.m=0,te.d="W"in te?(te.w+6)%7+te.W*7-(tt+5)%7:te.w+te.U*7-(tt+6)%7);return"Z"in te?(te.H+=te.Z/100|0,te.M+=te.Z%100,Bv(te)):Uv(te)}}function T(re,fe,ye,te){for(var $e=0,Oe=fe.length,tt=ye.length,Xe,Dt;$e<Oe;){if(te>=tt)return-1;if(Xe=fe.charCodeAt($e++),Xe===37){if(Xe=fe.charAt($e++),Dt=S[Xe in YP?fe.charAt($e++):Xe],!Dt||(te=Dt(re,ye,te))<0)return-1}else if(Xe!=ye.charCodeAt(te++))return-1}return te}function N(re,fe,ye){var te=u.exec(fe.slice(ye));return te?(re.p=d.get(te[0].toLowerCase()),ye+te[0].length):-1}function M(re,fe,ye){var te=y.exec(fe.slice(ye));return te?(re.w=v.get(te[0].toLowerCase()),ye+te[0].length):-1}function D(re,fe,ye){var te=f.exec(fe.slice(ye));return te?(re.w=h.get(te[0].toLowerCase()),ye+te[0].length):-1}function j(re,fe,ye){var te=_.exec(fe.slice(ye));return te?(re.m=w.get(te[0].toLowerCase()),ye+te[0].length):-1}function O(re,fe,ye){var te=b.exec(fe.slice(ye));return te?(re.m=x.get(te[0].toLowerCase()),ye+te[0].length):-1}function q(re,fe,ye){return T(re,e,fe,ye)}function V(re,fe,ye){return T(re,n,fe,ye)}function L(re,fe,ye){return T(re,r,fe,ye)}function z(re){return s[re.getDay()]}function P(re){return o[re.getDay()]}function $(re){return l[re.getMonth()]}function G(re){return a[re.getMonth()]}function H(re){return i[+(re.getHours()>=12)]}function K(re){return 1+~~(re.getMonth()/3)}function Y(re){return s[re.getUTCDay()]}function se(re){return o[re.getUTCDay()]}function W(re){return l[re.getUTCMonth()]}function Z(re){return a[re.getUTCMonth()]}function de(re){return i[+(re.getUTCHours()>=12)]}function oe(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var fe=I(re+="",E);return fe.toString=function(){return re},fe},parse:function(re){var fe=k(re+="",!1);return fe.toString=function(){return re},fe},utcFormat:function(re){var fe=I(re+="",C);return fe.toString=function(){return re},fe},utcParse:function(re){var fe=k(re+="",!0);return fe.toString=function(){return re},fe}}}var YP={"-":"",_:" ",0:"0"},Zt=/^\s*\d+/,_ge=/^%/,Ege=/[\\^$*+?|[\]().{}]/g;function Je(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Sge(t){return t.replace(Ege,"\\$&")}function Ec(t){return new RegExp("^(?:"+t.map(Sge).join("|")+")","i")}function Sc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Tge(t,e,n){var r=Zt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Age(t,e,n){var r=Zt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function kge(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ige(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Cge(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function JP(t,e,n){var r=Zt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function XP(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Nge(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Pge(t,e,n){var r=Zt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Rge(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function QP(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Oge(t,e,n){var r=Zt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ZP(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Mge(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Dge(t,e,n){var r=Zt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function jge(t,e,n){var r=Zt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function $ge(t,e,n){var r=Zt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Lge(t,e,n){var r=_ge.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Fge(t,e,n){var r=Zt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Vge(t,e,n){var r=Zt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function e2(t,e){return Je(t.getDate(),e,2)}function Uge(t,e){return Je(t.getHours(),e,2)}function Bge(t,e){return Je(t.getHours()%12||12,e,2)}function zge(t,e){return Je(1+nh.count(so(t),t),e,3)}function S5(t,e){return Je(t.getMilliseconds(),e,3)}function Gge(t,e){return S5(t,e)+"000"}function qge(t,e){return Je(t.getMonth()+1,e,2)}function Hge(t,e){return Je(t.getMinutes(),e,2)}function Wge(t,e){return Je(t.getSeconds(),e,2)}function Kge(t){var e=t.getDay();return e===0?7:e}function Yge(t,e){return Je(ry.count(so(t)-1,t),e,2)}function T5(t){var e=t.getDay();return e>=4||e===0?Yl(t):Yl.ceil(t)}function Jge(t,e){return t=T5(t),Je(Yl.count(so(t),t)+(so(t).getDay()===4),e,2)}function Xge(t){return t.getDay()}function Qge(t,e){return Je(ug.count(so(t)-1,t),e,2)}function Zge(t,e){return Je(t.getFullYear()%100,e,2)}function e0e(t,e){return t=T5(t),Je(t.getFullYear()%100,e,2)}function t0e(t,e){return Je(t.getFullYear()%1e4,e,4)}function n0e(t,e){var n=t.getDay();return t=n>=4||n===0?Yl(t):Yl.ceil(t),Je(t.getFullYear()%1e4,e,4)}function r0e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Je(e/60|0,"0",2)+Je(e%60,"0",2)}function t2(t,e){return Je(t.getUTCDate(),e,2)}function i0e(t,e){return Je(t.getUTCHours(),e,2)}function o0e(t,e){return Je(t.getUTCHours()%12||12,e,2)}function s0e(t,e){return Je(1+ny.count(ao(t),t),e,3)}function A5(t,e){return Je(t.getUTCMilliseconds(),e,3)}function a0e(t,e){return A5(t,e)+"000"}function l0e(t,e){return Je(t.getUTCMonth()+1,e,2)}function u0e(t,e){return Je(t.getUTCMinutes(),e,2)}function c0e(t,e){return Je(t.getUTCSeconds(),e,2)}function d0e(t){var e=t.getUTCDay();return e===0?7:e}function f0e(t,e){return Je(iy.count(ao(t)-1,t),e,2)}function k5(t){var e=t.getUTCDay();return e>=4||e===0?Jl(t):Jl.ceil(t)}function h0e(t,e){return t=k5(t),Je(Jl.count(ao(t),t)+(ao(t).getUTCDay()===4),e,2)}function p0e(t){return t.getUTCDay()}function m0e(t,e){return Je(cg.count(ao(t)-1,t),e,2)}function g0e(t,e){return Je(t.getUTCFullYear()%100,e,2)}function y0e(t,e){return t=k5(t),Je(t.getUTCFullYear()%100,e,2)}function v0e(t,e){return Je(t.getUTCFullYear()%1e4,e,4)}function x0e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Jl(t):Jl.ceil(t),Je(t.getUTCFullYear()%1e4,e,4)}function b0e(){return"+0000"}function n2(){return"%"}function r2(t){return+t}function i2(t){return Math.floor(+t/1e3)}var Va,I5,C5;w0e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function w0e(t){return Va=wge(t),I5=Va.format,Va.parse,C5=Va.utcFormat,Va.utcParse,Va}function _0e(t){return new Date(t)}function E0e(t){return t instanceof Date?+t:+new Date(+t)}function kS(t,e,n,r,i,o,s,a,l,u){var d=hS(),f=d.invert,h=d.domain,y=u(".%L"),v=u(":%S"),b=u("%I:%M"),x=u("%I %p"),_=u("%a %d"),w=u("%b %d"),E=u("%B"),C=u("%Y");function S(I){return(l(I)<I?y:a(I)<I?v:s(I)<I?b:o(I)<I?x:r(I)<I?i(I)<I?_:w:n(I)<I?E:C)(I)}return d.invert=function(I){return new Date(f(I))},d.domain=function(I){return arguments.length?h(Array.from(I,E0e)):h().map(_0e)},d.ticks=function(I){var k=h();return t(k[0],k[k.length-1],I??10)},d.tickFormat=function(I,k){return k==null?S:u(k)},d.nice=function(I){var k=h();return(!I||typeof I.range!="function")&&(I=e(k[0],k[k.length-1],I??10)),I?h(m5(k,I)):d},d.copy=function(){return th(d,kS(t,e,n,r,i,o,s,a,l,u))},d}function S0e(){return Pr.apply(kS(xge,bge,so,TS,ry,nh,ES,wS,Hs,I5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function T0e(){return Pr.apply(kS(yge,vge,ao,AS,iy,ny,SS,_S,Hs,C5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function oy(){var t=0,e=1,n,r,i,o,s=Rn,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var y,v;return arguments.length?([y,v]=h,s=f(y,v),u):[s(0),s(1)]}}return u.range=d(Bu),u.rangeRound=d(fS),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function vs(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function N5(){var t=ys(oy()(Rn));return t.copy=function(){return vs(t,N5())},vo.apply(t,arguments)}function P5(){var t=gS(oy()).domain([1,10]);return t.copy=function(){return vs(t,P5()).base(t.base())},vo.apply(t,arguments)}function R5(){var t=yS(oy());return t.copy=function(){return vs(t,R5()).constant(t.constant())},vo.apply(t,arguments)}function IS(){var t=vS(oy());return t.copy=function(){return vs(t,IS()).exponent(t.exponent())},vo.apply(t,arguments)}function A0e(){return IS.apply(null,arguments).exponent(.5)}function O5(){var t=[],e=Rn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Zf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(es),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>fme(t,o/r))},n.copy=function(){return O5(e).domain(t)},vo.apply(n,arguments)}function sy(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=Rn,d,f=!1,h;function y(b){return isNaN(b=+b)?h:(b=.5+((b=+d(b))-o)*(r*b<r*o?a:l),u(f?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([t,e,n]=b,i=d(t=+t),o=d(e=+e),s=d(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y):[t,e,n]},y.clamp=function(b){return arguments.length?(f=!!b,y):f},y.interpolator=function(b){return arguments.length?(u=b,y):u};function v(b){return function(x){var _,w,E;return arguments.length?([_,w,E]=x,u=Lme(b,[_,w,E]),y):[u(0),u(.5),u(1)]}}return y.range=v(Bu),y.rangeRound=v(fS),y.unknown=function(b){return arguments.length?(h=b,y):h},function(b){return d=b,i=b(t),o=b(e),s=b(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y}}function M5(){var t=ys(sy()(Rn));return t.copy=function(){return vs(t,M5())},vo.apply(t,arguments)}function D5(){var t=gS(sy()).domain([.1,1,10]);return t.copy=function(){return vs(t,D5()).base(t.base())},vo.apply(t,arguments)}function j5(){var t=yS(sy());return t.copy=function(){return vs(t,j5()).constant(t.constant())},vo.apply(t,arguments)}function CS(){var t=vS(sy());return t.copy=function(){return vs(t,CS()).exponent(t.exponent())},vo.apply(t,arguments)}function k0e(){return CS.apply(null,arguments).exponent(.5)}const o2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jd,scaleDiverging:M5,scaleDivergingLog:D5,scaleDivergingPow:CS,scaleDivergingSqrt:k0e,scaleDivergingSymlog:j5,scaleIdentity:p5,scaleImplicit:yw,scaleLinear:ag,scaleLog:g5,scaleOrdinal:uS,scalePoint:id,scalePow:xS,scaleQuantile:x5,scaleQuantize:b5,scaleRadial:v5,scaleSequential:N5,scaleSequentialLog:P5,scaleSequentialPow:IS,scaleSequentialQuantile:O5,scaleSequentialSqrt:A0e,scaleSequentialSymlog:R5,scaleSqrt:age,scaleSymlog:y5,scaleThreshold:w5,scaleTime:S0e,scaleUtc:T0e,tickFormat:h5},Symbol.toStringTag,{value:"Module"}));var I0e=Ou;function C0e(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!I0e(s):n(s,a)))var a=s,l=o}return l}var ay=C0e;function N0e(t,e){return t>e}var $5=N0e,P0e=ay,R0e=$5,O0e=Uu;function M0e(t){return t&&t.length?P0e(t,O0e,R0e):void 0}var D0e=M0e;const Fo=et(D0e);function j0e(t,e){return t<e}var L5=j0e,$0e=ay,L0e=L5,F0e=Uu;function V0e(t){return t&&t.length?$0e(t,F0e,L0e):void 0}var U0e=V0e;const ly=et(U0e);var B0e=zE,z0e=Ei,G0e=W4,q0e=qn;function H0e(t,e){var n=q0e(t)?B0e:G0e;return n(t,z0e(e))}var W0e=H0e,K0e=q4,Y0e=W0e;function J0e(t,e){return K0e(Y0e(t,e),1)}var X0e=J0e;const Q0e=et(X0e);var Z0e=iS;function eye(t,e){return Z0e(t,e)}var tye=eye;const as=et(tye);var zu=1e9,nye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},PS,yt=!0,Ir="[DecimalError] ",ea=Ir+"Invalid argument: ",NS=Ir+"Exponent out of range: ",Gu=Math.floor,js=Math.pow,rye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qn,Wt=1e7,pt=7,F5=9007199254740991,dg=Gu(F5/pt),xe={};xe.absoluteValue=xe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};xe.comparedTo=xe.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};xe.decimalPlaces=xe.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*pt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};xe.dividedBy=xe.div=function(t){return Hi(this,new this.constructor(t))};xe.dividedToIntegerBy=xe.idiv=function(t){var e=this,n=e.constructor;return at(Hi(e,new n(t),0,1),n.precision)};xe.equals=xe.eq=function(t){return!this.cmp(t)};xe.exponent=function(){return Mt(this)};xe.greaterThan=xe.gt=function(t){return this.cmp(t)>0};xe.greaterThanOrEqualTo=xe.gte=function(t){return this.cmp(t)>=0};xe.isInteger=xe.isint=function(){return this.e>this.d.length-2};xe.isNegative=xe.isneg=function(){return this.s<0};xe.isPositive=xe.ispos=function(){return this.s>0};xe.isZero=function(){return this.s===0};xe.lessThan=xe.lt=function(t){return this.cmp(t)<0};xe.lessThanOrEqualTo=xe.lte=function(t){return this.cmp(t)<1};xe.logarithm=xe.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Qn))throw Error(Ir+"NaN");if(n.s<1)throw Error(Ir+(n.s?"NaN":"-Infinity"));return n.eq(Qn)?new r(0):(yt=!1,e=Hi(tf(n,o),tf(t,o),o),yt=!0,at(e,i))};xe.minus=xe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?B5(e,t):V5(e,(t.s=-t.s,t))};xe.modulo=xe.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ir+"NaN");return n.s?(yt=!1,e=Hi(n,t,0,1).times(t),yt=!0,n.minus(e)):at(new r(n),i)};xe.naturalExponential=xe.exp=function(){return U5(this)};xe.naturalLogarithm=xe.ln=function(){return tf(this)};xe.negated=xe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};xe.plus=xe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?V5(e,t):B5(e,(t.s=-t.s,t))};xe.precision=xe.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ea+t);if(e=Mt(i)+1,r=i.d.length-1,n=r*pt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};xe.squareRoot=xe.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Ir+"NaN")}for(t=Mt(a),yt=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=ai(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Gu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(Hi(a,o,s+2)).times(.5),ai(o.d).slice(0,s)===(e=ai(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(at(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return yt=!0,at(r,n)};xe.times=xe.mul=function(t){var e,n,r,i,o,s,a,l,u,d=this,f=d.constructor,h=d.d,y=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,n=d.e+t.e,l=h.length,u=y.length,l<u&&(o=h,h=y,y=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+y[r]*h[i-r-1]+e,o[i--]=a%Wt|0,e=a/Wt|0;o[i]=(o[i]+e)%Wt|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,yt?at(t,f.precision):t};xe.toDecimalPlaces=xe.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(yi(t,0,zu),e===void 0?e=r.rounding:yi(e,0,8),at(n,t+Mt(n)+1,e))};xe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=xa(r,!0):(yi(t,0,zu),e===void 0?e=i.rounding:yi(e,0,8),r=at(new i(r),t+1,e),n=xa(r,!0,t+1)),n};xe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?xa(i):(yi(t,0,zu),e===void 0?e=o.rounding:yi(e,0,8),r=at(new o(i),t+Mt(i)+1,e),n=xa(r.abs(),!1,t+Mt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};xe.toInteger=xe.toint=function(){var t=this,e=t.constructor;return at(new e(t),Mt(t)+1,e.rounding)};xe.toNumber=function(){return+this};xe.toPower=xe.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(Qn);if(a=new l(a),!a.s){if(t.s<1)throw Error(Ir+"Infinity");return a}if(a.eq(Qn))return a;if(r=l.precision,t.eq(Qn))return at(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=d<0?-d:d)<=F5){for(i=new l(Qn),e=Math.ceil(r/pt+4),yt=!1;n%2&&(i=i.times(a),a2(i.d,e)),n=Gu(n/2),n!==0;)a=a.times(a),a2(a.d,e);return yt=!0,t.s<0?new l(Qn).div(i):at(i,r)}}else if(o<0)throw Error(Ir+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,yt=!1,i=t.times(tf(a,r+u)),yt=!0,i=U5(i),i.s=o,i};xe.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Mt(i),r=xa(i,n<=o.toExpNeg||n>=o.toExpPos)):(yi(t,1,zu),e===void 0?e=o.rounding:yi(e,0,8),i=at(new o(i),t,e),n=Mt(i),r=xa(i,t<=n||n<=o.toExpNeg,t)),r};xe.toSignificantDigits=xe.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(yi(t,1,zu),e===void 0?e=r.rounding:yi(e,0,8)),at(new r(n),t,e)};xe.toString=xe.valueOf=xe.val=xe.toJSON=xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Mt(t),n=t.constructor;return xa(t,e<=n.toExpNeg||e>=n.toExpPos)};function V5(t,e){var n,r,i,o,s,a,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),yt?at(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(f/pt),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Wt|0,l[o]%=Wt;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,yt?at(e,f):e}function yi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ea+t)}function ai(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=pt-r.length,n&&(o+=ko(n)),o+=r;s=t[e],r=s+"",n=pt-r.length,n&&(o+=ko(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Hi=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Wt|0,s=o/Wt|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Wt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,d,f,h,y,v,b,x,_,w,E,C,S,I,k,T,N=r.constructor,M=r.s==i.s?1:-1,D=r.d,j=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(Ir+"Division by zero");for(l=r.e-i.e,k=j.length,S=D.length,y=new N(M),v=y.d=[],u=0;j[u]==(D[u]||0);)++u;if(j[u]>(D[u]||0)&&--l,o==null?w=o=N.precision:s?w=o+(Mt(r)-Mt(i))+1:w=o,w<0)return new N(0);if(w=w/pt+2|0,u=0,k==1)for(d=0,j=j[0],w++;(u<S||d)&&w--;u++)E=d*Wt+(D[u]||0),v[u]=E/j|0,d=E%j|0;else{for(d=Wt/(j[0]+1)|0,d>1&&(j=t(j,d),D=t(D,d),k=j.length,S=D.length),C=k,b=D.slice(0,k),x=b.length;x<k;)b[x++]=0;T=j.slice(),T.unshift(0),I=j[0],j[1]>=Wt/2&&++I;do d=0,a=e(j,b,k,x),a<0?(_=b[0],k!=x&&(_=_*Wt+(b[1]||0)),d=_/I|0,d>1?(d>=Wt&&(d=Wt-1),f=t(j,d),h=f.length,x=b.length,a=e(f,b,h,x),a==1&&(d--,n(f,k<h?T:j,h))):(d==0&&(a=d=1),f=j.slice()),h=f.length,h<x&&f.unshift(0),n(b,f,x),a==-1&&(x=b.length,a=e(j,b,k,x),a<1&&(d++,n(b,k<x?T:j,x))),x=b.length):a===0&&(d++,b=[0]),v[u++]=d,a&&b[0]?b[x++]=D[C]||0:(b=[D[C]],x=1);while((C++<S||b[0]!==void 0)&&w--)}return v[0]||v.shift(),y.e=l,at(y,s?o+Mt(y)+1:o)}}();function U5(t,e){var n,r,i,o,s,a,l=0,u=0,d=t.constructor,f=d.precision;if(Mt(t)>16)throw Error(NS+Mt(t));if(!t.s)return new d(Qn);for(yt=!1,a=f,s=new d(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(js(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new d(Qn),d.precision=a;;){if(i=at(i.times(t),a),n=n.times(++l),s=o.plus(Hi(i,n,a)),ai(s.d).slice(0,a)===ai(o.d).slice(0,a)){for(;u--;)o=at(o.times(o),a);return d.precision=f,e==null?(yt=!0,at(o,f)):o}o=s}}function Mt(t){for(var e=t.e*pt,n=t.d[0];n>=10;n/=10)e++;return e}function zv(t,e,n){if(e>t.LN10.sd())throw yt=!0,n&&(t.precision=n),Error(Ir+"LN10 precision limit exceeded");return at(new t(t.LN10),e)}function ko(t){for(var e="";t--;)e+="0";return e}function tf(t,e){var n,r,i,o,s,a,l,u,d,f=1,h=10,y=t,v=y.d,b=y.constructor,x=b.precision;if(y.s<1)throw Error(Ir+(y.s?"NaN":"-Infinity"));if(y.eq(Qn))return new b(0);if(e==null?(yt=!1,u=x):u=e,y.eq(10))return e==null&&(yt=!0),zv(b,u);if(u+=h,b.precision=u,n=ai(v),r=n.charAt(0),o=Mt(y),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=ai(y.d),r=n.charAt(0),f++;o=Mt(y),r>1?(y=new b("0."+n),o++):y=new b(r+"."+n.slice(1))}else return l=zv(b,u+2,x).times(o+""),y=tf(new b(r+"."+n.slice(1)),u-h).plus(l),b.precision=x,e==null?(yt=!0,at(y,x)):y;for(a=s=y=Hi(y.minus(Qn),y.plus(Qn),u),d=at(y.times(y),u),i=3;;){if(s=at(s.times(d),u),l=a.plus(Hi(s,new b(i),u)),ai(l.d).slice(0,u)===ai(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(zv(b,u+2,x).times(o+""))),a=Hi(a,new b(f),u),b.precision=x,e==null?(yt=!0,at(a,x)):a;a=l,i+=2}}function s2(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Gu(n/pt),t.d=[],r=(n+1)%pt,n<0&&(r+=pt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=pt;r<i;)t.d.push(+e.slice(r,r+=pt));e=e.slice(r),r=pt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),yt&&(t.e>dg||t.e<-dg))throw Error(NS+n)}else t.s=0,t.e=0,t.d=[0];return t}function at(t,e,n){var r,i,o,s,a,l,u,d,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=pt,i=e,u=f[d=0];else{if(d=Math.ceil((r+1)/pt),o=f.length,d>=o)return t;for(u=o=f[d],s=1;o>=10;o/=10)s++;r%=pt,i=r-pt+s}if(n!==void 0&&(o=js(10,s-i-1),a=u/o%10|0,l=e<0||f[d+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/js(10,s-i):0:f[d-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Mt(t),f.length=1,e=e-o-1,f[0]=js(10,(pt-e%pt)%pt),t.e=Gu(-e/pt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=d,o=1,d--):(f.length=d+1,o=js(10,pt-r),f[d]=i>0?(u/js(10,s-i)%js(10,i)|0)*o:0),l)for(;;)if(d==0){(f[0]+=o)==Wt&&(f[0]=1,++t.e);break}else{if(f[d]+=o,f[d]!=Wt)break;f[d--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(yt&&(t.e>dg||t.e<-dg))throw Error(NS+Mt(t));return t}function B5(t,e){var n,r,i,o,s,a,l,u,d,f,h=t.constructor,y=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),yt?at(e,y):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(d=s<0,d?(n=l,s=-s,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(y/pt),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,d=i<a,d&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Wt-1;--l[o],l[i]+=Wt}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,yt?at(e,y):e):new h(0)}function xa(t,e,n){var r,i=Mt(t),o=ai(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+ko(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+ko(-i-1)+o,n&&(r=n-s)>0&&(o+=ko(r))):i>=s?(o+=ko(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+ko(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=ko(r))),t.s<0?"-"+o:o}function a2(t,e){if(t.length>e)return t.length=e,!0}function z5(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ea+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return s2(s,o.toString())}else if(typeof o!="string")throw Error(ea+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,rye.test(o))s2(s,o);else throw Error(ea+o)}if(i.prototype=xe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=z5,i.config=i.set=iye,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function iye(t){if(!t||typeof t!="object")throw Error(Ir+"Object expected");var e,n,r,i=["precision",1,zu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Gu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(ea+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ea+n+": "+r);return this}var PS=z5(nye);Qn=new PS(1);const it=PS;function oye(t){return uye(t)||lye(t)||aye(t)||sye()}function sye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aye(t,e){if(t){if(typeof t=="string")return ww(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ww(t,e)}}function lye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function uye(t){if(Array.isArray(t))return ww(t)}function ww(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cye=function(e){return e},G5={},q5=function(e){return e===G5},l2=function(e){return function n(){return arguments.length===0||arguments.length===1&&q5(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},dye=function t(e,n){return e===1?n:l2(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==G5}).length;return s>=e?n.apply(void 0,i):t(e-s,l2(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var d=i.map(function(f){return q5(f)?l.shift():f});return n.apply(void 0,oye(d).concat(l))}))})},uy=function(e){return dye(e.length,e)},_w=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},fye=uy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),hye=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return cye;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},Ew=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},H5=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function pye(t){var e;return t===0?e=1:e=Math.floor(new it(t).abs().log(10).toNumber())+1,e}function mye(t,e,n){for(var r=new it(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var gye=uy(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),yye=uy(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),vye=uy(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const cy={rangeStep:mye,getDigitCount:pye,interpolateNumber:gye,uninterpolateNumber:yye,uninterpolateTruncation:vye};function Sw(t){return wye(t)||bye(t)||W5(t)||xye()}function xye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function wye(t){if(Array.isArray(t))return Tw(t)}function nf(t,e){return Sye(t)||Eye(t,e)||W5(t,e)||_ye()}function _ye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W5(t,e){if(t){if(typeof t=="string")return Tw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tw(t,e)}}function Tw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eye(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function Sye(t){if(Array.isArray(t))return t}function K5(t){var e=nf(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function Y5(t,e,n){if(t.lte(0))return new it(0);var r=cy.getDigitCount(t.toNumber()),i=new it(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new it(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new it(Math.ceil(l))}function Tye(t,e,n){var r=1,i=new it(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new it(10).pow(cy.getDigitCount(t)-1),i=new it(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new it(Math.floor(t)))}else t===0?i=new it(Math.floor((e-1)/2)):n||(i=new it(Math.floor(t)));var s=Math.floor((e-1)/2),a=hye(fye(function(l){return i.add(new it(l-s).mul(r)).toNumber()}),_w);return a(0,e)}function J5(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new it(0),tickMin:new it(0),tickMax:new it(0)};var o=Y5(new it(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new it(0):(s=new it(t).add(e).div(2),s=s.sub(new it(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new it(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?J5(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new it(a).mul(o)),tickMax:s.add(new it(l).mul(o))})}function Aye(t){var e=nf(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=K5([n,r]),l=nf(a,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Sw(_w(0,i-1).map(function(){return 1/0}))):[].concat(Sw(_w(0,i-1).map(function(){return-1/0})),[d]);return n>r?Ew(f):f}if(u===d)return Tye(u,i,o);var h=J5(u,d,s,o),y=h.step,v=h.tickMin,b=h.tickMax,x=cy.rangeStep(v,b.add(new it(.1).mul(y)),y);return n>r?Ew(x):x}function kye(t,e){var n=nf(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=K5([r,i]),a=nf(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var d=Math.max(e,2),f=Y5(new it(u).sub(l).div(d-1),o,0),h=[].concat(Sw(cy.rangeStep(new it(l),new it(u).sub(new it(.99).mul(f)),f)),[u]);return r>i?Ew(h):h}var Iye=H5(Aye),Cye=H5(kye),Nye="Invariant failed";function ba(t,e){throw new Error(Nye)}var Pye=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function fg(){return fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fg.apply(this,arguments)}function Rye(t,e){return jye(t)||Dye(t,e)||Mye(t,e)||Oye()}function Oye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mye(t,e){if(t){if(typeof t=="string")return u2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u2(t,e)}}function u2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function jye(t){if(Array.isArray(t))return t}function $ye(t,e){if(t==null)return{};var n=Lye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z5(r.key),r)}}function Uye(t,e,n){return e&&Vye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bye(t,e,n){return e=hg(e),zye(t,X5()?Reflect.construct(e,n||[],hg(t).constructor):e.apply(t,n))}function zye(t,e){if(e&&(Xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gye(t)}function Gye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X5=function(){return!!t})()}function hg(t){return hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hg(t)}function qye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Aw(t,e)}function Aw(t,e){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Aw(t,e)}function Q5(t,e,n){return e=Z5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z5(t){var e=Hye(t,"string");return Xl(e)=="symbol"?e:e+""}function Hye(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rh=function(t){function e(){return Fye(this,e),Bye(this,e,arguments)}return qye(e,t),Uye(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,h=$ye(r,Pye),y=be(h,!1);this.props.direction==="x"&&d.type!=="number"&&ba();var v=l.map(function(b){var x=u(b,a),_=x.x,w=x.y,E=x.value,C=x.errorVal;if(!C)return null;var S=[],I,k;if(Array.isArray(C)){var T=Rye(C,2);I=T[0],k=T[1]}else I=k=C;if(o==="vertical"){var N=d.scale,M=w+i,D=M+s,j=M-s,O=N(E-I),q=N(E+k);S.push({x1:q,y1:D,x2:q,y2:j}),S.push({x1:O,y1:M,x2:q,y2:M}),S.push({x1:O,y1:D,x2:O,y2:j})}else if(o==="horizontal"){var V=f.scale,L=_+i,z=L-s,P=L+s,$=V(E-I),G=V(E+k);S.push({x1:z,y1:G,x2:P,y2:G}),S.push({x1:L,y1:$,x2:L,y2:G}),S.push({x1:z,y1:$,x2:P,y2:$})}return B.createElement(De,fg({className:"recharts-errorBar",key:"bar-".concat(S.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},y),S.map(function(H){return B.createElement("line",fg({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return B.createElement(De,{className:"recharts-errorBars"},v)}}])}(B.Component);Q5(rh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Q5(rh,"displayName","ErrorBar");function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function c2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ks(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c2(Object(n),!0).forEach(function(r){Wye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wye(t,e,n){return e=Kye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kye(t){var e=Yye(t,"string");return rf(e)=="symbol"?e:e+""}function Yye(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e3=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Xn(n,hi);if(!s)return null;var a=hi.defaultProps,l=a!==void 0?ks(ks({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(d,f){var h=f.item,y=f.props,v=y.sectors||y.data||[];return d.concat(v.map(function(b){return{type:s.props.iconType||h.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(d){var f=d.item,h=f.type.defaultProps,y=h!==void 0?ks(ks({},h),f.props):{},v=y.dataKey,b=y.name,x=y.legendType,_=y.hide;return{inactive:_,dataKey:v,type:l.iconType||x||"square",color:RS(f),value:b||v,payload:y}}),ks(ks(ks({},l),hi.getWithHeight(s,i)),{},{payload:u,item:s})};function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function d2(t){return Zye(t)||Qye(t)||Xye(t)||Jye()}function Jye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xye(t,e){if(t){if(typeof t=="string")return kw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kw(t,e)}}function Qye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zye(t){if(Array.isArray(t))return kw(t)}function kw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f2(Object(n),!0).forEach(function(r){kl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kl(t,e,n){return e=eve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eve(t){var e=tve(t,"string");return of(e)=="symbol"?e:e+""}function tve(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bt(t,e,n){return Ce(t)||Ce(e)?n:Ut(e)?rr(t,e,n):Se(e)?e(t):n}function od(t,e,n,r){var i=Q0e(t,function(a){return bt(a,e)});if(n==="number"){var o=i.filter(function(a){return le(a)||parseFloat(a)});return o.length?[ly(o),Fo(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!Ce(a)}):i;return s.map(function(a){return Ut(a)||a instanceof Date?a:""})}var nve=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var d=u>0?i[u-1].coordinate:i[a-1].coordinate,f=i[u].coordinate,h=u>=a-1?i[0].coordinate:i[u+1].coordinate,y=void 0;if(Nn(f-d)!==Nn(h-f)){var v=[];if(Nn(h-f)===Nn(l[1]-l[0])){y=h;var b=f+l[1]-l[0];v[0]=Math.min(b,(b+d)/2),v[1]=Math.max(b,(b+d)/2)}else{y=d;var x=h+l[1]-l[0];v[0]=Math.min(f,(x+f)/2),v[1]=Math.max(f,(x+f)/2)}var _=[Math.min(f,(y+f)/2),Math.max(f,(y+f)/2)];if(e>_[0]&&e<=_[1]||e>=v[0]&&e<=v[1]){s=i[u].index;break}}else{var w=Math.min(d,h),E=Math.max(d,h);if(e>(w+f)/2&&e<=(E+f)/2){s=i[u].index;break}}}else for(var C=0;C<a;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){s=r[C].index;break}return s},RS=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?At(At({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},rve=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var d=o[a[l]].stackGroups,f=Object.keys(d),h=0,y=f.length;h<y;h++){var v=d[f[h]],b=v.items,x=v.cateAxisId,_=b.filter(function(k){return qi(k.type).indexOf("Bar")>=0});if(_&&_.length){var w=_[0].type.defaultProps,E=w!==void 0?At(At({},w),_[0].props):_[0].props,C=E.barSize,S=E[x];s[S]||(s[S]=[]);var I=Ce(C)?n:C;s[S].push({item:_[0],stackList:_.slice(1),barSize:Ce(I)?void 0:Pn(I,r,0)})}}return s},ive=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=Pn(n,i,0,!0),d,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,y=i/l,v=s.reduce(function(C,S){return C+S.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&y>0&&(h=!0,y*=.9,v=l*y);var b=(i-v)/2>>0,x={offset:b-u,size:0};d=s.reduce(function(C,S){var I={item:S.item,position:{offset:x.offset+x.size+u,size:h?y:S.barSize}},k=[].concat(d2(C),[I]);return x=k[k.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){k.push({item:T,position:x})}),k},f)}else{var _=Pn(r,i,0,!0);i-2*_-(l-1)*u<=0&&(u=0);var w=(i-2*_-(l-1)*u)/l;w>1&&(w>>=0);var E=a===+a?Math.min(w,a):w;d=s.reduce(function(C,S,I){var k=[].concat(d2(C),[{item:S.item,position:{offset:_+(w+u)*I+(w-E)/2,size:E}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){k.push({item:T,position:k[k.length-1].position})}),k},f)}return d},ove=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=e3({children:o,legendWidth:l});if(u){var d=i||{},f=d.width,h=d.height,y=u.align,v=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&v==="middle")&&y!=="center"&&le(e[y]))return At(At({},e),{},kl({},y,e[y]+(f||0)));if((b==="horizontal"||b==="vertical"&&y==="center")&&v!=="middle"&&le(e[v]))return At(At({},e),{},kl({},v,e[v]+(h||0)))}return e},sve=function(e,n,r){return Ce(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},t3=function(e,n,r,i,o){var s=n.props.children,a=ir(s,rh).filter(function(u){return sve(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=bt(d,r);if(Ce(f))return u;var h=Array.isArray(f)?[ly(f),Fo(f)]:[f,f],y=l.reduce(function(v,b){var x=bt(d,b,0),_=h[0]-Math.abs(Array.isArray(x)?x[0]:x),w=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(_,v[0]),Math.max(w,v[1])]},[1/0,-1/0]);return[Math.min(y[0],u[0]),Math.max(y[1],u[1])]},[1/0,-1/0])}return null},ave=function(e,n,r,i,o){var s=n.map(function(a){return t3(e,a,r,o,i)}).filter(function(a){return!Ce(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},n3=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&t3(e,l,u,i)||od(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var d=0,f=u.length;d<f;d++)a[u[d]]||(a[u[d]]=!0,l.push(u[d]));return l},[])},r3=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},i3=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},Ui=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Nn(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!Lu(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},Gv=new WeakMap,op=function(e,n){if(typeof n!="function")return e;Gv.has(e)||Gv.set(e,new WeakMap);var r=Gv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},o3=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:Jd(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:ag(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:id(),realScaleType:"point"}:o==="category"?{scale:Jd(),realScaleType:"band"}:{scale:ag(),realScaleType:"linear"};if(ga(i)){var l="scale".concat(K0(i));return{scale:(o2[l]||id)(),realScaleType:o2[l]?l:"point"}}return Se(i)?{scale:i}:{scale:id(),realScaleType:"point"}},h2=1e-4,s3=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-h2,s=Math.max(i[0],i[1])+h2,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},lve=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},uve=function(e,n){if(!n||n.length!==2||!le(n[0])||!le(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!le(e[0])||e[0]<r)&&(o[0]=r),(!le(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},cve=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=Lu(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},dve=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=Lu(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},fve={sign:cve,expand:Poe,none:zl,silhouette:Roe,wiggle:Ooe,positive:dve},hve=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=fve[r],s=Noe().keys(i).value(function(a,l){return+bt(a,l,0)}).order(Qb).offset(o);return s(e)},pve=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(f,h){var y,v=(y=h.type)!==null&&y!==void 0&&y.defaultProps?At(At({},h.type.defaultProps),h.props):h.props,b=v.stackId,x=v.hide;if(x)return f;var _=v[r],w=f[_]||{hasStack:!1,stackGroups:{}};if(Ut(b)){var E=w.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};E.items.push(h),w.hasStack=!0,w.stackGroups[b]=E}else w.stackGroups[Ca("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return At(At({},f),{},kl({},_,w))},l),d={};return Object.keys(u).reduce(function(f,h){var y=u[h];if(y.hasStack){var v={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(b,x){var _=y.stackGroups[x];return At(At({},b),{},kl({},x,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:hve(e,_.items,o)}))},v)}return At(At({},f),{},kl({},h,y))},d)},a3=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=Iye(u,o,a);return e.domain([ly(d),Fo(d)]),{niceTicks:d}}if(o&&i==="number"){var f=e.domain(),h=Cye(f,o,a);return{niceTicks:h}}return null};function pg(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ce(i[e.dataKey])){var a=Fm(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=bt(i,Ce(s)?e.dataKey:s);return Ce(l)?null:e.scale(l)}var p2=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=bt(s,n.dataKey,n.domain[a]);return Ce(l)?null:n.scale(l)-o/2+i},mve=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},gve=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?At(At({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Ut(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},yve=function(e){return e.reduce(function(n,r){return[ly(r.concat([n[0]]).filter(le)),Fo(r.concat([n[1]]).filter(le))]},[1/0,-1/0])},l3=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,d){var f=yve(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},m2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,g2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Iw=function(e,n,r){if(Se(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(le(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(m2.test(e[0])){var o=+m2.exec(e[0])[1];i[0]=n[0]-o}else Se(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(le(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(g2.test(e[1])){var s=+g2.exec(e[1])[1];i[1]=n[1]+s}else Se(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},mg=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=sS(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],d=o[a-1];s=Math.min((u.coordinate||0)-(d.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},y2=function(e,n,r){return!e||!e.length||as(e,rr(r,"type.defaultProps.domain"))?n:e},u3=function(e,n){var r=e.type.defaultProps?At(At({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,d=r.hide;return At(At({},be(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:RS(e),value:bt(n,i),type:l,payload:n,chartType:u,hide:d})};function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function v2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ni(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(n),!0).forEach(function(r){c3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c3(t,e,n){return e=vve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vve(t){var e=xve(t,"string");return sf(e)=="symbol"?e:e+""}function xve(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bve(t,e){return Sve(t)||Eve(t,e)||_ve(t,e)||wve()}function wve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ve(t,e){if(t){if(typeof t=="string")return x2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x2(t,e)}}function x2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Sve(t){if(Array.isArray(t))return t}var gg=Math.PI/180,Tve=function(e){return e*180/Math.PI},Qe=function(e,n,r,i){return{x:e+Math.cos(-gg*i)*r,y:n+Math.sin(-gg*i)*r}},d3=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},f3=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.startAngle,u=e.endAngle,d=Pn(e.cx,s,s/2),f=Pn(e.cy,a,a/2),h=d3(s,a,r),y=Pn(e.innerRadius,h,0),v=Pn(e.outerRadius,h,h*.8),b=Object.keys(n);return b.reduce(function(x,_){var w=n[_],E=w.domain,C=w.reversed,S;if(Ce(w.range))i==="angleAxis"?S=[l,u]:i==="radiusAxis"&&(S=[y,v]),C&&(S=[S[1],S[0]]);else{S=w.range;var I=S,k=bve(I,2);l=k[0],u=k[1]}var T=o3(w,o),N=T.realScaleType,M=T.scale;M.domain(E).range(S),s3(M);var D=a3(M,Ni(Ni({},w),{},{realScaleType:N})),j=Ni(Ni(Ni({},w),D),{},{range:S,radius:v,realScaleType:N,scale:M,cx:d,cy:f,innerRadius:y,outerRadius:v,startAngle:l,endAngle:u});return Ni(Ni({},x),{},c3({},_,j))},{})},Ave=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},kve=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=Ave({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:Tve(u),angleInRadian:u}},Ive=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},Cve=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},b2=function(e,n){var r=e.x,i=e.y,o=kve({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var d=Ive(n),f=d.startAngle,h=d.endAngle,y=a,v;if(f<=h){for(;y>h;)y-=360;for(;y<f;)y+=360;v=y>=f&&y<=h}else{for(;y>f;)y-=360;for(;y<h;)y+=360;v=y>=h&&y<=f}return v?Ni(Ni({},n),{},{radius:s,angle:Cve(y,n)}):null},h3=function(e){return!U.isValidElement(e)&&!Se(e)&&typeof e!="boolean"?e.className:""};function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}var Nve=["offset"];function Pve(t){return Dve(t)||Mve(t)||Ove(t)||Rve()}function Rve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ove(t,e){if(t){if(typeof t=="string")return Cw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cw(t,e)}}function Mve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dve(t){if(Array.isArray(t))return Cw(t)}function Cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jve(t,e){if(t==null)return{};var n=$ve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $ve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function w2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(n),!0).forEach(function(r){Lve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lve(t,e,n){return e=Fve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fve(t){var e=Vve(t,"string");return af(e)=="symbol"?e:e+""}function Vve(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lf(){return lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lf.apply(this,arguments)}var Uve=function(e){var n=e.value,r=e.formatter,i=Ce(e.children)?n:e.children;return Se(r)?r(i):i},Bve=function(e,n){var r=Nn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},zve=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,d=l.cy,f=l.innerRadius,h=l.outerRadius,y=l.startAngle,v=l.endAngle,b=l.clockWise,x=(f+h)/2,_=Bve(y,v),w=_>=0?1:-1,E,C;i==="insideStart"?(E=y+w*s,C=b):i==="insideEnd"?(E=v-w*s,C=!b):i==="end"&&(E=v+w*s,C=b),C=_<=0?C:!C;var S=Qe(u,d,x,E),I=Qe(u,d,x,E+(C?1:-1)*359),k="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(C?0:1,`,
    `).concat(I.x,",").concat(I.y),T=Ce(e.id)?Ca("recharts-radial-line-"):e.id;return B.createElement("text",lf({},r,{dominantBaseline:"central",className:Ne("recharts-radial-bar-label",a)}),B.createElement("defs",null,B.createElement("path",{id:T,d:k})),B.createElement("textPath",{xlinkHref:"#".concat(T)},n))},Gve=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,d=o.startAngle,f=o.endAngle,h=(d+f)/2;if(i==="outside"){var y=Qe(s,a,u+r,h),v=y.x,b=y.y;return{x:v,y:b,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,_=Qe(s,a,x,h),w=_.x,E=_.y;return{x:w,y:E,textAnchor:"middle",verticalAnchor:"middle"}},qve=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,d=s.height,f=d>=0?1:-1,h=f*i,y=f>0?"end":"start",v=f>0?"start":"end",b=u>=0?1:-1,x=b*i,_=b>0?"end":"start",w=b>0?"start":"end";if(o==="top"){var E={x:a+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:y};return $t($t({},E),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var C={x:a+u/2,y:l+d+h,textAnchor:"middle",verticalAnchor:v};return $t($t({},C),r?{height:Math.max(r.y+r.height-(l+d),0),width:u}:{})}if(o==="left"){var S={x:a-x,y:l+d/2,textAnchor:_,verticalAnchor:"middle"};return $t($t({},S),r?{width:Math.max(S.x-r.x,0),height:d}:{})}if(o==="right"){var I={x:a+u+x,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return $t($t({},I),r?{width:Math.max(r.x+r.width-I.x,0),height:d}:{})}var k=r?{width:u,height:d}:{};return o==="insideLeft"?$t({x:a+x,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},k):o==="insideRight"?$t({x:a+u-x,y:l+d/2,textAnchor:_,verticalAnchor:"middle"},k):o==="insideTop"?$t({x:a+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},k):o==="insideBottom"?$t({x:a+u/2,y:l+d-h,textAnchor:"middle",verticalAnchor:y},k):o==="insideTopLeft"?$t({x:a+x,y:l+h,textAnchor:w,verticalAnchor:v},k):o==="insideTopRight"?$t({x:a+u-x,y:l+h,textAnchor:_,verticalAnchor:v},k):o==="insideBottomLeft"?$t({x:a+x,y:l+d-h,textAnchor:w,verticalAnchor:y},k):o==="insideBottomRight"?$t({x:a+u-x,y:l+d-h,textAnchor:_,verticalAnchor:y},k):Mu(o)&&(le(o.x)||Gs(o.x))&&(le(o.y)||Gs(o.y))?$t({x:a+Pn(o.x,u),y:l+Pn(o.y,d),textAnchor:"end",verticalAnchor:"end"},k):$t({x:a+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},Hve=function(e){return"cx"in e&&le(e.cx)};function Jt(t){var e=t.offset,n=e===void 0?5:e,r=jve(t,Nve),i=$t({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!o||Ce(a)&&Ce(l)&&!U.isValidElement(u)&&!Se(u))return null;if(U.isValidElement(u))return U.cloneElement(u,i);var y;if(Se(u)){if(y=U.createElement(u,i),U.isValidElement(y))return y}else y=Uve(i);var v=Hve(o),b=be(i,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return zve(i,y,b);var x=v?Gve(i):qve(i);return B.createElement(va,lf({className:Ne("recharts-label",f)},b,x,{breakAll:h}),y)}Jt.displayName="Label";var p3=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,h=e.y,y=e.top,v=e.left,b=e.width,x=e.height,_=e.clockWise,w=e.labelViewBox;if(w)return w;if(le(b)&&le(x)){if(le(f)&&le(h))return{x:f,y:h,width:b,height:x};if(le(y)&&le(v))return{x:y,y:v,width:b,height:x}}return le(f)&&le(h)?{x:f,y:h,width:0,height:0}:le(n)&&le(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:d||l||a||0,clockWise:_}:e.viewBox?e.viewBox:{}},Wve=function(e,n){return e?e===!0?B.createElement(Jt,{key:"label-implicit",viewBox:n}):Ut(e)?B.createElement(Jt,{key:"label-implicit",viewBox:n,value:e}):U.isValidElement(e)?e.type===Jt?U.cloneElement(e,{key:"label-implicit",viewBox:n}):B.createElement(Jt,{key:"label-implicit",content:e,viewBox:n}):Se(e)?B.createElement(Jt,{key:"label-implicit",content:e,viewBox:n}):Mu(e)?B.createElement(Jt,lf({viewBox:n},e,{key:"label-implicit"})):null:null},Kve=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=p3(e),s=ir(i,Jt).map(function(l,u){return U.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=Wve(e.label,n||o);return[a].concat(Pve(s))};Jt.parseViewBox=p3;Jt.renderCallByParent=Kve;function Yve(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Jve=Yve;const m3=et(Jve);function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}var Xve=["valueAccessor"],Qve=["data","dataKey","clockWise","id","textBreakAll"];function Zve(t){return rxe(t)||nxe(t)||txe(t)||exe()}function exe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function txe(t,e){if(t){if(typeof t=="string")return Nw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nw(t,e)}}function nxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rxe(t){if(Array.isArray(t))return Nw(t)}function Nw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yg(){return yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yg.apply(this,arguments)}function _2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(n),!0).forEach(function(r){ixe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ixe(t,e,n){return e=oxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oxe(t){var e=sxe(t,"string");return uf(e)=="symbol"?e:e+""}function sxe(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S2(t,e){if(t==null)return{};var n=axe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function axe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var lxe=function(e){return Array.isArray(e.value)?m3(e.value):e.value};function Xr(t){var e=t.valueAccessor,n=e===void 0?lxe:e,r=S2(t,Xve),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=S2(r,Qve);return!i||!i.length?null:B.createElement(De,{className:"recharts-label-list"},i.map(function(d,f){var h=Ce(o)?n(d,f):bt(d&&d.payload,o),y=Ce(a)?{}:{id:"".concat(a,"-").concat(f)};return B.createElement(Jt,yg({},be(d,!0),u,y,{parentViewBox:d.parentViewBox,value:h,textBreakAll:l,viewBox:Jt.parseViewBox(Ce(s)?d:E2(E2({},d),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Xr.displayName="LabelList";function uxe(t,e){return t?t===!0?B.createElement(Xr,{key:"labelList-implicit",data:e}):B.isValidElement(t)||Se(t)?B.createElement(Xr,{key:"labelList-implicit",data:e,content:t}):Mu(t)?B.createElement(Xr,yg({data:e},t,{key:"labelList-implicit"})):null:null}function cxe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ir(r,Xr).map(function(s,a){return U.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=uxe(t.label,e);return[o].concat(Zve(i))}Xr.renderCallByParent=cxe;function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pw.apply(this,arguments)}function T2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(n),!0).forEach(function(r){dxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dxe(t,e,n){return e=fxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fxe(t){var e=hxe(t,"string");return cf(e)=="symbol"?e:e+""}function hxe(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pxe=function(e,n){var r=Nn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},sp=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(a?1:-1)+i,f=Math.asin(l/d)/gg,h=u?o:o+s*f,y=Qe(n,r,d,h),v=Qe(n,r,i,h),b=u?o-s*f:o,x=Qe(n,r,d*Math.cos(f*gg),b);return{center:y,circleTangency:v,lineTangency:x,theta:f}},g3=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=pxe(s,a),u=s+l,d=Qe(n,r,o,s),f=Qe(n,r,o,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var y=Qe(n,r,i,s),v=Qe(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},mxe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=Nn(d-u),h=sp({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),y=h.circleTangency,v=h.lineTangency,b=h.theta,x=sp({cx:n,cy:r,radius:o,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),_=x.circleTangency,w=x.lineTangency,E=x.theta,C=l?Math.abs(u-d):Math.abs(u-d)-b-E;if(C<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):g3({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:d});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var I=sp({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),k=I.circleTangency,T=I.lineTangency,N=I.theta,M=sp({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),D=M.circleTangency,j=M.lineTangency,O=M.theta,q=l?Math.abs(u-d):Math.abs(u-d)-N-O;if(q<0&&s===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(j.x,",").concat(j.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(q>180),",").concat(+(f>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},gxe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},y3=function(e){var n=A2(A2({},gxe),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,h=n.className;if(s<o||d===f)return null;var y=Ne("recharts-sector",h),v=s-o,b=Pn(a,v,0,!0),x;return b>0&&Math.abs(d-f)<360?x=mxe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(b,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:f}):x=g3({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:d,endAngle:f}),B.createElement("path",Pw({},be(n,!0),{className:y,d:x,role:"img"}))};function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function Rw(){return Rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rw.apply(this,arguments)}function k2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k2(Object(n),!0).forEach(function(r){yxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yxe(t,e,n){return e=vxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vxe(t){var e=xxe(t,"string");return df(e)=="symbol"?e:e+""}function xxe(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C2={curveBasisClosed:xoe,curveBasisOpen:boe,curveBasis:voe,curveBumpX:ioe,curveBumpY:ooe,curveLinearClosed:woe,curveLinear:J0,curveMonotoneX:_oe,curveMonotoneY:Eoe,curveNatural:Soe,curveStep:Toe,curveStepAfter:koe,curveStepBefore:Aoe},ap=function(e){return e.x===+e.x&&e.y===+e.y},Tc=function(e){return e.x},Ac=function(e){return e.y},bxe=function(e,n){if(Se(e))return e;var r="curve".concat(K0(e));return(r==="curveMonotone"||r==="curveBump")&&n?C2["".concat(r).concat(n==="vertical"?"Y":"X")]:C2[r]||J0},wxe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=bxe(r,a),f=u?o.filter(function(b){return ap(b)}):o,h;if(Array.isArray(s)){var y=u?s.filter(function(b){return ap(b)}):s,v=f.map(function(b,x){return I2(I2({},b),{},{base:y[x]})});return a==="vertical"?h=Xh().y(Ac).x1(Tc).x0(function(b){return b.base.x}):h=Xh().x(Tc).y1(Ac).y0(function(b){return b.base.y}),h.defined(ap).curve(d),h(v)}return a==="vertical"&&le(s)?h=Xh().y(Ac).x1(Tc).x0(s):le(s)?h=Xh().x(Tc).y1(Ac).y0(s):h=c4().x(Tc).y(Ac),h.defined(ap).curve(d),h(f)},ta=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?wxe(e):i;return U.createElement("path",Rw({},be(e,!1),Vm(e),{className:Ne("recharts-curve",n),d:s,ref:o}))},v3={exports:{}},_xe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Exe=_xe,Sxe=Exe;function x3(){}function b3(){}b3.resetWarningCache=x3;var Txe=function(){function t(r,i,o,s,a,l){if(l!==Sxe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:b3,resetWarningCache:x3};return n.PropTypes=n,n};v3.exports=Txe();var Axe=v3.exports;const Ze=et(Axe),{getOwnPropertyNames:kxe,getOwnPropertySymbols:Ixe}=Object,{hasOwnProperty:Cxe}=Object.prototype;function qv(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function lp(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function Nxe(t){return t!=null?t[Symbol.toStringTag]:void 0}function N2(t){return kxe(t).concat(Ixe(t))}const Pxe=Object.hasOwn||((t,e)=>Cxe.call(t,e));function Oa(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Rxe="__v",Oxe="__o",Mxe="_owner",{getOwnPropertyDescriptor:P2,keys:R2}=Object;function Dxe(t,e){return t.byteLength===e.byteLength&&vg(new Uint8Array(t),new Uint8Array(e))}function jxe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function $xe(t,e){return t.byteLength===e.byteLength&&vg(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Lxe(t,e){return Oa(t.getTime(),e.getTime())}function Fxe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Vxe(t,e){return t===e}function O2(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,a,l=0;for(;(s=o.next())&&!s.done;){const u=e.entries();let d=!1,f=0;for(;(a=u.next())&&!a.done;){if(i[f]){f++;continue}const h=s.value,y=a.value;if(n.equals(h[0],y[0],l,f,t,e,n)&&n.equals(h[1],y[1],h[0],y[0],t,e,n)){d=i[f]=!0;break}f++}if(!d)return!1;l++}return!0}const Uxe=Oa;function Bxe(t,e,n){const r=R2(t);let i=r.length;if(R2(e).length!==i)return!1;for(;i-- >0;)if(!w3(t,e,n,r[i]))return!1;return!0}function kc(t,e,n){const r=N2(t);let i=r.length;if(N2(e).length!==i)return!1;let o,s,a;for(;i-- >0;)if(o=r[i],!w3(t,e,n,o)||(s=P2(t,o),a=P2(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function zxe(t,e){return Oa(t.valueOf(),e.valueOf())}function Gxe(t,e){return t.source===e.source&&t.flags===e.flags}function M2(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,a;for(;(s=o.next())&&!s.done;){const l=e.values();let u=!1,d=0;for(;(a=l.next())&&!a.done;){if(!i[d]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function vg(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function qxe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function w3(t,e,n,r){return(r===Mxe||r===Oxe||r===Rxe)&&(t.$$typeof||e.$$typeof)?!0:Pxe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const Hxe="[object ArrayBuffer]",Wxe="[object Arguments]",Kxe="[object Boolean]",Yxe="[object DataView]",Jxe="[object Date]",Xxe="[object Error]",Qxe="[object Map]",Zxe="[object Number]",ebe="[object Object]",tbe="[object RegExp]",nbe="[object Set]",rbe="[object String]",ibe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},obe="[object URL]",sbe=Object.prototype.toString;function abe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:y,unknownTagComparators:v}){return function(x,_,w){if(x===_)return!0;if(x==null||_==null)return!1;const E=typeof x;if(E!==typeof _)return!1;if(E!=="object")return E==="number"?a(x,_,w):E==="function"?o(x,_,w):!1;const C=x.constructor;if(C!==_.constructor)return!1;if(C===Object)return l(x,_,w);if(Array.isArray(x))return e(x,_,w);if(C===Date)return r(x,_,w);if(C===RegExp)return d(x,_,w);if(C===Map)return s(x,_,w);if(C===Set)return f(x,_,w);const S=sbe.call(x);if(S===Jxe)return r(x,_,w);if(S===tbe)return d(x,_,w);if(S===Qxe)return s(x,_,w);if(S===nbe)return f(x,_,w);if(S===ebe)return typeof x.then!="function"&&typeof _.then!="function"&&l(x,_,w);if(S===obe)return y(x,_,w);if(S===Xxe)return i(x,_,w);if(S===Wxe)return l(x,_,w);if(ibe[S])return h(x,_,w);if(S===Hxe)return t(x,_,w);if(S===Yxe)return n(x,_,w);if(S===Kxe||S===Zxe||S===rbe)return u(x,_,w);if(v){let I=v[S];if(!I){const k=Nxe(x);k&&(I=v[k])}if(I)return I(x,_,w)}return!1}}function lbe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Dxe,areArraysEqual:n?kc:jxe,areDataViewsEqual:$xe,areDatesEqual:Lxe,areErrorsEqual:Fxe,areFunctionsEqual:Vxe,areMapsEqual:n?qv(O2,kc):O2,areNumbersEqual:Uxe,areObjectsEqual:n?kc:Bxe,arePrimitiveWrappersEqual:zxe,areRegExpsEqual:Gxe,areSetsEqual:n?qv(M2,kc):M2,areTypedArraysEqual:n?qv(vg,kc):vg,areUrlsEqual:qxe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=lp(r.areArraysEqual),o=lp(r.areMapsEqual),s=lp(r.areObjectsEqual),a=lp(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:a})}return r}function ube(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function cbe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(a,l){const{cache:u=t?new WeakMap:void 0,meta:d}=n();return e(a,l,{cache:u,equals:r,meta:d,strict:i})};if(t)return function(a,l){return e(a,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(a,l){return e(a,l,o)}}const dbe=xs();xs({strict:!0});xs({circular:!0});xs({circular:!0,strict:!0});xs({createInternalComparator:()=>Oa});xs({strict:!0,createInternalComparator:()=>Oa});xs({circular:!0,createInternalComparator:()=>Oa});xs({circular:!0,createInternalComparator:()=>Oa,strict:!0});function xs(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=lbe(t),s=abe(o),a=n?n(s):ube(s);return cbe({circular:e,comparator:s,createState:r,equals:a,strict:i})}function fbe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function D2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):fbe(i)};requestAnimationFrame(r)}function Ow(t){"@babel/helpers - typeof";return Ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ow(t)}function hbe(t){return ybe(t)||gbe(t)||mbe(t)||pbe()}function pbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mbe(t,e){if(t){if(typeof t=="string")return j2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j2(t,e)}}function j2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ybe(t){if(Array.isArray(t))return t}function vbe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=hbe(s),l=a[0],u=a.slice(1);if(typeof l=="number"){D2(i.bind(null,u),l);return}i(l),D2(i.bind(null,u));return}Ow(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function $2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$2(Object(n),!0).forEach(function(r){_3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _3(t,e,n){return e=xbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xbe(t){var e=bbe(t,"string");return ff(e)==="symbol"?e:String(e)}function bbe(t,e){if(ff(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wbe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},_be=function(e){return e},Ebe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},sd=function(e,n){return Object.keys(n).reduce(function(r,i){return L2(L2({},r),{},_3({},i,e(i,n[i])))},{})},F2=function(e,n,r){return e.map(function(i){return"".concat(Ebe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Sbe(t,e){return kbe(t)||Abe(t,e)||E3(t,e)||Tbe()}function Tbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Abe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function kbe(t){if(Array.isArray(t))return t}function Ibe(t){return Pbe(t)||Nbe(t)||E3(t)||Cbe()}function Cbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E3(t,e){if(t){if(typeof t=="string")return Mw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mw(t,e)}}function Nbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pbe(t){if(Array.isArray(t))return Mw(t)}function Mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xg=1e-4,S3=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},T3=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},V2=function(e,n){return function(r){var i=S3(e,n);return T3(i,r)}},Rbe=function(e,n){return function(r){var i=S3(e,n),o=[].concat(Ibe(i.map(function(s,a){return s*a}).slice(1)),[0]);return T3(o,r)}},U2=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=Sbe(u,4);i=d[0],o=d[1],s=d[2],a=d[3]}}}var f=V2(i,s),h=V2(o,a),y=Rbe(i,s),v=function(_){return _>1?1:_<0?0:_},b=function(_){for(var w=_>1?1:_,E=w,C=0;C<8;++C){var S=f(E)-w,I=y(E);if(Math.abs(S-w)<xg||I<xg)return h(E);E=v(E-S/I)}return h(E)};return b.isStepper=!1,b},Obe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(d,f,h){var y=-(d-f)*r,v=h*o,b=h+(y-v)*a/1e3,x=h*a/1e3+d;return Math.abs(x-f)<xg&&Math.abs(b)<xg?[f,0]:[x,b]};return l.isStepper=!0,l.dt=a,l},Mbe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return U2(i);case"spring":return Obe();default:if(i.split("(")[0]==="cubic-bezier")return U2(i)}return typeof i=="function"?i:null};function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function B2(t){return $be(t)||jbe(t)||A3(t)||Dbe()}function Dbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $be(t){if(Array.isArray(t))return jw(t)}function z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z2(Object(n),!0).forEach(function(r){Dw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dw(t,e,n){return e=Lbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lbe(t){var e=Fbe(t,"string");return hf(e)==="symbol"?e:String(e)}function Fbe(t,e){if(hf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vbe(t,e){return zbe(t)||Bbe(t,e)||A3(t,e)||Ube()}function Ube(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A3(t,e){if(t){if(typeof t=="string")return jw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jw(t,e)}}function jw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function zbe(t){if(Array.isArray(t))return t}var bg=function(e,n,r){return e+(n-e)*r},$w=function(e){var n=e.from,r=e.to;return n!==r},Gbe=function t(e,n,r){var i=sd(function(o,s){if($w(s)){var a=e(s.from,s.to,s.velocity),l=Vbe(a,2),u=l[0],d=l[1];return nn(nn({},s),{},{from:u,velocity:d})}return s},n);return r<1?sd(function(o,s){return $w(s)?nn(nn({},s),{},{velocity:bg(s.velocity,i[o].velocity,r),from:bg(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const qbe=function(t,e,n,r,i){var o=wbe(t,e),s=o.reduce(function(x,_){return nn(nn({},x),{},Dw({},_,[t[_],e[_]]))},{}),a=o.reduce(function(x,_){return nn(nn({},x),{},Dw({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,u,d,f=function(){return null},h=function(){return sd(function(_,w){return w.from},a)},y=function(){return!Object.values(a).filter($w).length},v=function(_){u||(u=_);var w=_-u,E=w/n.dt;a=Gbe(n,a,E),i(nn(nn(nn({},t),e),h())),u=_,y()||(l=requestAnimationFrame(f))},b=function(_){d||(d=_);var w=(_-d)/r,E=sd(function(S,I){return bg.apply(void 0,B2(I).concat([n(w)]))},s);if(i(nn(nn(nn({},t),e),E)),w<1)l=requestAnimationFrame(f);else{var C=sd(function(S,I){return bg.apply(void 0,B2(I).concat([n(1)]))},s);i(nn(nn(nn({},t),e),C))}};return f=n.isStepper?v:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}var Hbe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Wbe(t,e){if(t==null)return{};var n=Kbe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kbe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Hv(t){return Qbe(t)||Xbe(t)||Jbe(t)||Ybe()}function Ybe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jbe(t,e){if(t){if(typeof t=="string")return Lw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lw(t,e)}}function Xbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qbe(t){if(Array.isArray(t))return Lw(t)}function Lw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G2(Object(n),!0).forEach(function(r){Vc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vc(t,e,n){return e=k3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ewe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k3(r.key),r)}}function twe(t,e,n){return e&&ewe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function k3(t){var e=nwe(t,"string");return Ql(e)==="symbol"?e:String(e)}function nwe(t,e){if(Ql(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ql(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fw(t,e)}function Fw(t,e){return Fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fw(t,e)}function iwe(t){var e=owe();return function(){var r=wg(t),i;if(e){var o=wg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Vw(this,i)}}function Vw(t,e){if(e&&(Ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uw(t)}function Uw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function owe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wg(t){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wg(t)}var Cr=function(t){rwe(n,t);var e=iwe(n);function n(r,i){var o;Zbe(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,d=s.to,f=s.steps,h=s.children,y=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Uw(o)),o.changeStyle=o.changeStyle.bind(Uw(o)),!a||y<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:d}),Vw(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},Vw(o);o.state={style:l?Vc({},l,u):u}}else o.state={style:{}};return o}return twe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,d=o.to,f=o.from,h=this.state.style;if(a){if(!s){var y={style:l?Vc({},l,d):d};this.state&&h&&(l&&h[l]!==d||!l&&h!==d)&&this.setState(y);return}if(!(dbe(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=v||u?f:i.to;if(this.state&&h){var x={style:l?Vc({},l,b):b};(l&&h[l]!==b||!l&&h!==b)&&this.setState(x)}this.runAnimation(jr(jr({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,y=qbe(s,a,Mbe(u),l,this.changeStyle),v=function(){o.stopJSAnimation=y()};this.manager.start([h,d,v,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],d=u.style,f=u.duration,h=f===void 0?0:f,y=function(b,x,_){if(_===0)return b;var w=x.duration,E=x.easing,C=E===void 0?"ease":E,S=x.style,I=x.properties,k=x.onAnimationEnd,T=_>0?s[_-1]:x,N=I||Object.keys(S);if(typeof C=="function"||C==="spring")return[].concat(Hv(b),[o.runJSAnimation.bind(o,{from:T.style,to:S,duration:w,easing:C}),w]);var M=F2(N,w,C),D=jr(jr(jr({},T.style),S),{},{transition:M});return[].concat(Hv(b),[D,w,k]).filter(_be)};return this.manager.start([l].concat(Hv(s.reduce(y,[d,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=vbe());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,y=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof y=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var b=a?Vc({},a,l):l,x=F2(Object.keys(b),s,u);v.start([d,o,jr(jr({},b),{},{transition:x}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Wbe(i,Hbe),u=U.Children.count(o),d=this.state.style;if(typeof o=="function")return o(d);if(!a||u===0||s<=0)return o;var f=function(y){var v=y.props,b=v.style,x=b===void 0?{}:b,_=v.className,w=U.cloneElement(y,jr(jr({},l),{},{style:jr(jr({},x),d),className:_}));return w};return u===1?f(U.Children.only(o)):B.createElement("div",null,U.Children.map(o,function(h){return f(h)}))}}]),n}(U.PureComponent);Cr.displayName="Animate";Cr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Cr.propTypes={from:Ze.oneOfType([Ze.object,Ze.string]),to:Ze.oneOfType([Ze.object,Ze.string]),attributeName:Ze.string,duration:Ze.number,begin:Ze.number,easing:Ze.oneOfType([Ze.string,Ze.func]),steps:Ze.arrayOf(Ze.shape({duration:Ze.number.isRequired,style:Ze.object.isRequired,easing:Ze.oneOfType([Ze.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ze.func]),properties:Ze.arrayOf("string"),onAnimationEnd:Ze.func})),children:Ze.oneOfType([Ze.node,Ze.func]),isActive:Ze.bool,canBegin:Ze.bool,onAnimationEnd:Ze.func,shouldReAnimate:Ze.bool,onAnimationStart:Ze.func,onAnimationReStart:Ze.func};function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function _g(){return _g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_g.apply(this,arguments)}function swe(t,e){return cwe(t)||uwe(t,e)||lwe(t,e)||awe()}function awe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lwe(t,e){if(t){if(typeof t=="string")return q2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q2(t,e)}}function q2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function cwe(t){if(Array.isArray(t))return t}function H2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H2(Object(n),!0).forEach(function(r){dwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dwe(t,e,n){return e=fwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fwe(t){var e=hwe(t,"string");return pf(e)=="symbol"?e:e+""}function hwe(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K2=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,y=4;h<y;h++)f[h]=o[h]>s?s:o[h];d="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),d+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*f[1])),d+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),d+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*f[3])),d+="Z"}else if(s>0&&o===+o&&o>0){var v=Math.min(s,o);d="M ".concat(e,",").concat(n+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*v,`
            L `).concat(e+r,",").concat(n+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*v," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},pwe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),d=Math.max(o,o+a),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=u&&r<=d&&i>=f&&i<=h}return!1},mwe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},OS=function(e){var n=W2(W2({},mwe),e),r=U.useRef(),i=U.useState(-1),o=swe(i,2),s=o[0],a=o[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&a(C)}catch{}},[]);var l=n.x,u=n.y,d=n.width,f=n.height,h=n.radius,y=n.className,v=n.animationEasing,b=n.animationDuration,x=n.animationBegin,_=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var E=Ne("recharts-rectangle",y);return w?B.createElement(Cr,{canBegin:s>0,from:{width:d,height:f,x:l,y:u},to:{width:d,height:f,x:l,y:u},duration:b,animationEasing:v,isActive:w},function(C){var S=C.width,I=C.height,k=C.x,T=C.y;return B.createElement(Cr,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,isActive:_,easing:v},B.createElement("path",_g({},be(n,!0),{className:E,d:K2(k,T,S,I,h),ref:r})))}):B.createElement("path",_g({},be(n,!0),{className:E,d:K2(l,u,d,f,h)}))},gwe=["points","className","baseLinePoints","connectNulls"];function ul(){return ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ul.apply(this,arguments)}function ywe(t,e){if(t==null)return{};var n=vwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Y2(t){return _we(t)||wwe(t)||bwe(t)||xwe()}function xwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bwe(t,e){if(t){if(typeof t=="string")return Bw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bw(t,e)}}function wwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _we(t){if(Array.isArray(t))return Bw(t)}function Bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var J2=function(e){return e&&e.x===+e.x&&e.y===+e.y},Ewe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){J2(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),J2(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},ad=function(e,n){var r=Ewe(e);n&&(r=[r.reduce(function(o,s){return[].concat(Y2(o),Y2(s))},[])]);var i=r.map(function(o){return o.reduce(function(s,a,l){return"".concat(s).concat(l===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Swe=function(e,n,r){var i=ad(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(ad(n.reverse(),r).slice(1))},I3=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,s=ywe(e,gwe);if(!n||!n.length)return null;var a=Ne("recharts-polygon",r);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",u=Swe(n,i,o);return B.createElement("g",{className:a},B.createElement("path",ul({},be(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),l?B.createElement("path",ul({},be(s,!0),{fill:"none",d:ad(n,o)})):null,l?B.createElement("path",ul({},be(s,!0),{fill:"none",d:ad(i,o)})):null)}var d=ad(n,o);return B.createElement("path",ul({},be(s,!0),{fill:d.slice(-1)==="Z"?s.fill:"none",className:a,d}))};function zw(){return zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zw.apply(this,arguments)}var qu=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=Ne("recharts-dot",o);return n===+n&&r===+r&&i===+i?U.createElement("circle",zw({},be(e,!1),Vm(e),{className:s,cx:n,cy:r,r:i})):null};function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}var Twe=["x","y","top","left","width","height","className"];function Gw(){return Gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gw.apply(this,arguments)}function X2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Awe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X2(Object(n),!0).forEach(function(r){kwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kwe(t,e,n){return e=Iwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iwe(t){var e=Cwe(t,"string");return mf(e)=="symbol"?e:e+""}function Cwe(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nwe(t,e){if(t==null)return{};var n=Pwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Rwe=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},Owe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,d=e.width,f=d===void 0?0:d,h=e.height,y=h===void 0?0:h,v=e.className,b=Nwe(e,Twe),x=Awe({x:r,y:o,top:a,left:u,width:f,height:y},b);return!le(r)||!le(o)||!le(f)||!le(y)||!le(a)||!le(u)?null:B.createElement("path",Gw({},be(x,!0),{className:Ne("recharts-cross",v),d:Rwe(r,o,f,y,a,u)}))},Mwe=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function Dwe(t,e){if(t==null)return{};var n=jwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lo(){return lo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lo.apply(this,arguments)}function Q2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q2(Object(n),!0).forEach(function(r){$we(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $we(t,e,n){return e=Lwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lwe(t){var e=Fwe(t,"string");return gf(e)=="symbol"?e:e+""}function Fwe(t,e){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vwe=function(e,n,r,i){var o="";return i.forEach(function(s,a){var l=Qe(n,r,e,s);a?o+="L ".concat(l.x,",").concat(l.y):o+="M ".concat(l.x,",").concat(l.y)}),o+="Z",o},Uwe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.polarAngles,a=e.radialLines;if(!s||!s.length||!a)return null;var l=yf({stroke:"#ccc"},be(e,!1));return B.createElement("g",{className:"recharts-polar-grid-angle"},s.map(function(u){var d=Qe(n,r,i,u),f=Qe(n,r,o,u);return B.createElement("line",lo({},l,{key:"line-".concat(u),x1:d.x,y1:d.y,x2:f.x,y2:f.y}))}))},Bwe=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.index,s=yf(yf({stroke:"#ccc"},be(e,!1)),{},{fill:"none"});return B.createElement("circle",lo({},s,{className:Ne("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(o),cx:n,cy:r,r:i}))},zwe=function(e){var n=e.radius,r=e.index,i=yf(yf({stroke:"#ccc"},be(e,!1)),{},{fill:"none"});return B.createElement("path",lo({},i,{className:Ne("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:Vwe(n,e.cx,e.cy,e.polarAngles)}))},Gwe=function(e){var n=e.polarRadius,r=e.gridType;return!n||!n.length?null:B.createElement("g",{className:"recharts-polar-grid-concentric"},n.map(function(i,o){var s=o;return r==="circle"?B.createElement(Bwe,lo({key:s},e,{radius:i,index:o})):B.createElement(zwe,lo({key:s},e,{radius:i,index:o}))}))},C3=function(e){var n=e.cx,r=n===void 0?0:n,i=e.cy,o=i===void 0?0:i,s=e.innerRadius,a=s===void 0?0:s,l=e.outerRadius,u=l===void 0?0:l,d=e.gridType,f=d===void 0?"polygon":d,h=e.radialLines,y=h===void 0?!0:h,v=Dwe(e,Mwe);return u<=0?null:B.createElement("g",{className:"recharts-polar-grid"},B.createElement(Uwe,lo({cx:r,cy:o,innerRadius:a,outerRadius:u,gridType:f,radialLines:y},v)),B.createElement(Gwe,lo({cx:r,cy:o,innerRadius:a,outerRadius:u,gridType:f,radialLines:y},v)))};C3.displayName="PolarGrid";var qwe=ay,Hwe=$5,Wwe=Ei;function Kwe(t,e){return t&&t.length?qwe(t,Wwe(e),Hwe):void 0}var Ywe=Kwe;const Jwe=et(Ywe);var Xwe=ay,Qwe=Ei,Zwe=L5;function e_e(t,e){return t&&t.length?Xwe(t,Qwe(e),Zwe):void 0}var t_e=e_e;const n_e=et(t_e);var r_e=["cx","cy","angle","ticks","axisLine"],i_e=["ticks","tick","angle","tickFormatter","stroke"];function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function ld(){return ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ld.apply(this,arguments)}function Z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(n),!0).forEach(function(r){dy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eR(t,e){if(t==null)return{};var n=o_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function o_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function s_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P3(r.key),r)}}function a_e(t,e,n){return e&&tR(t.prototype,e),n&&tR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function l_e(t,e,n){return e=Eg(e),u_e(t,N3()?Reflect.construct(e,n||[],Eg(t).constructor):e.apply(t,n))}function u_e(t,e){if(e&&(Zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c_e(t)}function c_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N3=function(){return!!t})()}function Eg(t){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eg(t)}function d_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qw(t,e)}function qw(t,e){return qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qw(t,e)}function dy(t,e,n){return e=P3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P3(t){var e=f_e(t,"string");return Zl(e)=="symbol"?e:e+""}function f_e(t,e){if(Zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hu=function(t){function e(){return s_e(this,e),l_e(this,e,arguments)}return d_e(e,t),a_e(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,s=o.angle,a=o.cx,l=o.cy;return Qe(a,l,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,l=Jwe(a,function(d){return d.coordinate||0}),u=n_e(a,function(d){return d.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,l=r.axisLine,u=eR(r,r_e),d=a.reduce(function(v,b){return[Math.min(v[0],b.coordinate),Math.max(v[1],b.coordinate)]},[1/0,-1/0]),f=Qe(i,o,d[0],s),h=Qe(i,o,d[1],s),y=Is(Is(Is({},be(u,!1)),{},{fill:"none"},be(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return B.createElement("line",ld({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.angle,l=i.tickFormatter,u=i.stroke,d=eR(i,i_e),f=this.getTickTextAnchor(),h=be(d,!1),y=be(s,!1),v=o.map(function(b,x){var _=r.getTickValueCoord(b),w=Is(Is(Is(Is({textAnchor:f,transform:"rotate(".concat(90-a,", ").concat(_.x,", ").concat(_.y,")")},h),{},{stroke:"none",fill:u},y),{},{index:x},_),{},{payload:b});return B.createElement(De,ld({className:Ne("recharts-polar-radius-axis-tick",h3(s)),key:"tick-".concat(b.coordinate)},ya(r.props,b,x)),e.renderTickItem(s,w,l?l(b.value,x):b.value))});return B.createElement(De,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,s=r.tick;return!i||!i.length?null:B.createElement(De,{className:Ne("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),Jt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var s;return B.isValidElement(r)?s=B.cloneElement(r,i):Se(r)?s=r(i):s=B.createElement(va,ld({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])}(U.PureComponent);dy(Hu,"displayName","PolarRadiusAxis");dy(Hu,"axisType","radiusAxis");dy(Hu,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function $s(){return $s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$s.apply(this,arguments)}function nR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nR(Object(n),!0).forEach(function(r){fy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O3(r.key),r)}}function p_e(t,e,n){return e&&rR(t.prototype,e),n&&rR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function m_e(t,e,n){return e=Sg(e),g_e(t,R3()?Reflect.construct(e,n||[],Sg(t).constructor):e.apply(t,n))}function g_e(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y_e(t)}function y_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R3=function(){return!!t})()}function Sg(t){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sg(t)}function v_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hw(t,e)}function Hw(t,e){return Hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hw(t,e)}function fy(t,e,n){return e=O3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O3(t){var e=x_e(t,"string");return eu(e)=="symbol"?e:e+""}function x_e(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var b_e=Math.PI/180,iR=1e-5,Wu=function(t){function e(){return h_e(this,e),m_e(this,e,arguments)}return v_e(e,t),p_e(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,s=i.cy,a=i.radius,l=i.orientation,u=i.tickSize,d=u||8,f=Qe(o,s,a,r.coordinate),h=Qe(o,s,a+(l==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*b_e),s;return o>iR?s=i==="outer"?"start":"end":o<-iR?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.radius,a=r.axisLine,l=r.axisLineType,u=Cs(Cs({},be(this.props,!1)),{},{fill:"none"},be(a,!1));if(l==="circle")return B.createElement(qu,$s({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:s}));var d=this.props.ticks,f=d.map(function(h){return Qe(i,o,s,h.coordinate)});return B.createElement(I3,$s({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.tickLine,l=i.tickFormatter,u=i.stroke,d=be(this.props,!1),f=be(s,!1),h=Cs(Cs({},d),{},{fill:"none"},be(a,!1)),y=o.map(function(v,b){var x=r.getTickLineCoord(v),_=r.getTickTextAnchor(v),w=Cs(Cs(Cs({textAnchor:_},d),{},{stroke:"none",fill:u},f),{},{index:b,payload:v,x:x.x2,y:x.y2});return B.createElement(De,$s({className:Ne("recharts-polar-angle-axis-tick",h3(s)),key:"tick-".concat(v.coordinate)},ya(r.props,v,b)),a&&B.createElement("line",$s({className:"recharts-polar-angle-axis-tick-line"},h,x)),s&&e.renderTickItem(s,w,l?l(v.value,b):v.value))});return B.createElement(De,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,s=r.axisLine;return o<=0||!i||!i.length?null:B.createElement(De,{className:Ne("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var s;return B.isValidElement(r)?s=B.cloneElement(r,i):Se(r)?s=r(i):s=B.createElement(va,$s({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])}(U.PureComponent);fy(Wu,"displayName","PolarAngleAxis");fy(Wu,"axisType","angleAxis");fy(Wu,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var w_e=M4,__e=w_e(Object.getPrototypeOf,Object),E_e=__e,S_e=mo,T_e=E_e,A_e=go,k_e="[object Object]",I_e=Function.prototype,C_e=Object.prototype,M3=I_e.toString,N_e=C_e.hasOwnProperty,P_e=M3.call(Object);function R_e(t){if(!A_e(t)||S_e(t)!=k_e)return!1;var e=T_e(t);if(e===null)return!0;var n=N_e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&M3.call(n)==P_e}var O_e=R_e;const M_e=et(O_e);var D_e=mo,j_e=go,$_e="[object Boolean]";function L_e(t){return t===!0||t===!1||j_e(t)&&D_e(t)==$_e}var F_e=L_e;const V_e=et(F_e);function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function Tg(){return Tg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tg.apply(this,arguments)}function U_e(t,e){return q_e(t)||G_e(t,e)||z_e(t,e)||B_e()}function B_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z_e(t,e){if(t){if(typeof t=="string")return oR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oR(t,e)}}function oR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function G_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function q_e(t){if(Array.isArray(t))return t}function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){H_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H_e(t,e,n){return e=W_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W_e(t){var e=K_e(t,"string");return vf(e)=="symbol"?e:e+""}function K_e(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lR=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},Y_e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},J_e=function(e){var n=aR(aR({},Y_e),e),r=U.useRef(),i=U.useState(-1),o=U_e(i,2),s=o[0],a=o[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&a(E)}catch{}},[]);var l=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,h=n.height,y=n.className,v=n.animationEasing,b=n.animationDuration,x=n.animationBegin,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var w=Ne("recharts-trapezoid",y);return _?B.createElement(Cr,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:l,y:u},duration:b,animationEasing:v,isActive:_},function(E){var C=E.upperWidth,S=E.lowerWidth,I=E.height,k=E.x,T=E.y;return B.createElement(Cr,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,easing:v},B.createElement("path",Tg({},be(n,!0),{className:w,d:lR(k,T,C,S,I),ref:r})))}):B.createElement("g",null,B.createElement("path",Tg({},be(n,!0),{className:w,d:lR(l,u,d,f,h)})))},X_e=["option","shapeType","propTransformer","activeClassName","isActive"];function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function Q_e(t,e){if(t==null)return{};var n=Z_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Z_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ag(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uR(Object(n),!0).forEach(function(r){e1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e1e(t,e,n){return e=t1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t1e(t){var e=n1e(t,"string");return xf(e)=="symbol"?e:e+""}function n1e(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r1e(t,e){return Ag(Ag({},e),t)}function i1e(t,e){return t==="symbols"}function cR(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return B.createElement(OS,n);case"trapezoid":return B.createElement(J_e,n);case"sector":return B.createElement(y3,n);case"symbols":if(i1e(e))return B.createElement(QE,n);break;default:return null}}function o1e(t){return U.isValidElement(t)?t.props:t}function D3(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?r1e:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=Q_e(t,X_e),u;if(U.isValidElement(e))u=U.cloneElement(e,Ag(Ag({},l),o1e(e)));else if(Se(e))u=e(l);else if(M_e(e)&&!V_e(e)){var d=i(e,l);u=B.createElement(cR,{shapeType:n,elementProps:d})}else{var f=l;u=B.createElement(cR,{shapeType:n,elementProps:f})}return a?B.createElement(De,{className:s},u):u}function hy(t,e){return e!=null&&"trapezoids"in t.props}function py(t,e){return e!=null&&"sectors"in t.props}function bf(t,e){return e!=null&&"points"in t.props}function s1e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function a1e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function l1e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function u1e(t,e){var n;return hy(t,e)?n=s1e:py(t,e)?n=a1e:bf(t,e)&&(n=l1e),n}function c1e(t,e){var n;return hy(t,e)?n="trapezoids":py(t,e)?n="sectors":bf(t,e)&&(n="points"),n}function d1e(t,e){if(hy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(py(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return bf(t,e)?e.payload:{}}function f1e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=c1e(n,e),o=d1e(n,e),s=r.filter(function(l,u){var d=as(o,l),f=n.props[i].filter(function(v){var b=u1e(n,e);return b(v,e)}),h=n.props[i].indexOf(f[f.length-1]),y=u===h;return d&&y}),a=r.indexOf(s[s.length-1]);return a}var Lp;function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cl.apply(this,arguments)}function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){vr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function h1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$3(r.key),r)}}function p1e(t,e,n){return e&&fR(t.prototype,e),n&&fR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function m1e(t,e,n){return e=kg(e),g1e(t,j3()?Reflect.construct(e,n||[],kg(t).constructor):e.apply(t,n))}function g1e(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y1e(t)}function y1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j3=function(){return!!t})()}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kg(t)}function v1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ww(t,e)}function Ww(t,e){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ww(t,e)}function vr(t,e,n){return e=$3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $3(t){var e=x1e(t,"string");return tu(e)=="symbol"?e:e+""}function x1e(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Si=function(t){function e(n){var r;return h1e(this,e),r=m1e(this,e,[n]),vr(r,"pieRef",null),vr(r,"sectorRefs",[]),vr(r,"id",Ca("recharts-pie-")),vr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Se(i)&&i()}),vr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Se(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return v1e(e,t),p1e(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,a=o.labelLine,l=o.dataKey,u=o.valueKey,d=be(this.props,!1),f=be(s,!1),h=be(a,!1),y=s&&s.offsetRadius||20,v=r.map(function(b,x){var _=(b.startAngle+b.endAngle)/2,w=Qe(b.cx,b.cy,b.outerRadius+y,_),E=lt(lt(lt(lt({},d),b),{},{stroke:"none"},f),{},{index:x,textAnchor:e.getTextAnchor(w.x,b.cx)},w),C=lt(lt(lt(lt({},d),b),{},{fill:"none",stroke:b.fill},h),{},{index:x,points:[Qe(b.cx,b.cy,b.outerRadius,_),w]}),S=l;return Ce(l)&&Ce(u)?S="value":Ce(l)&&(S=u),B.createElement(De,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(x)},a&&e.renderLabelLineItem(a,C,"line"),e.renderLabelItem(s,E,bt(b,S)))});return B.createElement(De,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,s=o.activeShape,a=o.blendStroke,l=o.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(d),h=l&&i.hasActiveIndex()?l:null,y=f?s:h,v=lt(lt({},u),{},{stroke:a?u.fill:u.stroke,tabIndex:-1});return B.createElement(De,cl({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},ya(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),B.createElement(D3,cl({option:y,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,s=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,y=f.prevIsAnimationActive;return B.createElement(Cr,{begin:a,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var b=v.t,x=[],_=o&&o[0],w=_.startAngle;return o.forEach(function(E,C){var S=h&&h[C],I=C>0?rr(E,"paddingAngle",0):0;if(S){var k=xt(S.endAngle-S.startAngle,E.endAngle-E.startAngle),T=lt(lt({},E),{},{startAngle:w+I,endAngle:w+k(b)+I});x.push(T),w=T.endAngle}else{var N=E.endAngle,M=E.startAngle,D=xt(0,N-M),j=D(b),O=lt(lt({},E),{},{startAngle:w+I,endAngle:w+j+I});x.push(O),w=O.endAngle}}),B.createElement(De,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,s=this.state.prevSectors;return o&&i&&i.length&&(!s||!as(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,s=i.sectors,a=i.className,l=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,y=i.isAnimationActive,v=this.state.isAnimationFinished;if(o||!s||!s.length||!le(u)||!le(d)||!le(f)||!le(h))return null;var b=Ne("recharts-pie",a);return B.createElement(De,{tabIndex:this.props.rootTabIndex,className:b,ref:function(_){r.pieRef=_}},this.renderSectors(),l&&this.renderLabels(s),Jt.renderCallByParent(this.props,null,!1),(!y||v)&&Xr.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(B.isValidElement(r))return B.cloneElement(r,i);if(Se(r))return r(i);var s=Ne("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return B.createElement(ta,cl({},i,{key:o,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,o){if(B.isValidElement(r))return B.cloneElement(r,i);var s=o;if(Se(r)&&(s=r(i),B.isValidElement(s)))return s;var a=Ne("recharts-pie-label-text",typeof r!="boolean"&&!Se(r)?r.className:"");return B.createElement(va,cl({},i,{alignmentBaseline:"middle",className:a}),s)}}])}(U.PureComponent);Lp=Si;vr(Si,"displayName","Pie");vr(Si,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!yo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});vr(Si,"parseDeltaAngle",function(t,e){var n=Nn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});vr(Si,"getRealPieData",function(t){var e=t.data,n=t.children,r=be(t,!1),i=ir(n,Na);return e&&e.length?e.map(function(o,s){return lt(lt(lt({payload:o},r),o),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(o){return lt(lt({},r),o.props)}):[]});vr(Si,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,s=d3(i,o),a=r+Pn(t.cx,i,i/2),l=n+Pn(t.cy,o,o/2),u=Pn(t.innerRadius,s,0),d=Pn(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:a,cy:l,innerRadius:u,outerRadius:d,maxRadius:f}});vr(Si,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?lt(lt({},e.type.defaultProps),e.props):e.props,i=Lp.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,s=r.startAngle,a=r.endAngle,l=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,h=r.tooltipType,y=Math.abs(r.minAngle),v=Lp.parseCoordinateOfPie(r,n),b=Lp.parseDeltaAngle(s,a),x=Math.abs(b),_=u;Ce(u)&&Ce(f)?(Jr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):Ce(u)&&(Jr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=f);var w=i.filter(function(T){return bt(T,_,0)!==0}).length,E=(x>=360?w:w-1)*l,C=x-w*y-E,S=i.reduce(function(T,N){var M=bt(N,_,0);return T+(le(M)?M:0)},0),I;if(S>0){var k;I=i.map(function(T,N){var M=bt(T,_,0),D=bt(T,d,N),j=(le(M)?M:0)/S,O;N?O=k.endAngle+Nn(b)*l*(M!==0?1:0):O=s;var q=O+Nn(b)*((M!==0?y:0)+j*C),V=(O+q)/2,L=(v.innerRadius+v.outerRadius)/2,z=[{name:D,value:M,payload:T,dataKey:_,type:h}],P=Qe(v.cx,v.cy,L,V);return k=lt(lt(lt({percent:j,cornerRadius:o,name:D,tooltipPayload:z,midAngle:V,middleRadius:L,tooltipPosition:P},T),v),{},{value:bt(T,_),startAngle:O,endAngle:q,payload:T,paddingAngle:Nn(b)*l}),k})}return lt(lt({},v),{},{sectors:I,data:i})});function b1e(t){return t&&t.length?t[0]:void 0}var w1e=b1e,_1e=w1e;const E1e=et(_1e);var S1e=["key"];function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function T1e(t,e){if(t==null)return{};var n=A1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function A1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ig.apply(this,arguments)}function hR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hR(Object(n),!0).forEach(function(r){Ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F3(r.key),r)}}function I1e(t,e,n){return e&&pR(t.prototype,e),n&&pR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function C1e(t,e,n){return e=Cg(e),N1e(t,L3()?Reflect.construct(e,n||[],Cg(t).constructor):e.apply(t,n))}function N1e(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P1e(t)}function P1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L3=function(){return!!t})()}function Cg(t){return Cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cg(t)}function R1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kw(t,e)}function Kw(t,e){return Kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kw(t,e)}function Ri(t,e,n){return e=F3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F3(t){var e=O1e(t,"string");return nu(e)=="symbol"?e:e+""}function O1e(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ru=function(t){function e(){var n;k1e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=C1e(this,e,[].concat(i)),Ri(n,"state",{isAnimationFinished:!1}),Ri(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Se(s)&&s()}),Ri(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Se(s)&&s()}),Ri(n,"handleMouseEnter",function(s){var a=n.props.onMouseEnter;a&&a(n.props,s)}),Ri(n,"handleMouseLeave",function(s){var a=n.props.onMouseLeave;a&&a(n.props,s)}),n}return R1e(e,t),I1e(e,[{key:"renderDots",value:function(r){var i=this.props,o=i.dot,s=i.dataKey,a=be(this.props,!1),l=be(o,!0),u=r.map(function(d,f){var h=kn(kn(kn({key:"dot-".concat(f),r:3},a),l),{},{dataKey:s,cx:d.x,cy:d.y,index:f,payload:d});return e.renderDotItem(o,h)});return B.createElement(De,{className:"recharts-radar-dots"},u)}},{key:"renderPolygonStatically",value:function(r){var i=this.props,o=i.shape,s=i.dot,a=i.isRange,l=i.baseLinePoints,u=i.connectNulls,d;return B.isValidElement(o)?d=B.cloneElement(o,kn(kn({},this.props),{},{points:r})):Se(o)?d=o(kn(kn({},this.props),{},{points:r})):d=B.createElement(I3,Ig({},be(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:r,baseLinePoints:a?l:null,connectNulls:u})),B.createElement(De,{className:"recharts-radar-polygon"},d,s?this.renderDots(r):null)}},{key:"renderPolygonWithAnimation",value:function(){var r=this,i=this.props,o=i.points,s=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state.prevPoints;return B.createElement(Cr,{begin:a,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"radar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var y=h.t,v=f&&f.length/o.length,b=o.map(function(x,_){var w=f&&f[Math.floor(_*v)];if(w){var E=xt(w.x,x.x),C=xt(w.y,x.y);return kn(kn({},x),{},{x:E(y),y:C(y)})}var S=xt(x.cx,x.x),I=xt(x.cy,x.y);return kn(kn({},x),{},{x:S(y),y:I(y)})});return r.renderPolygonStatically(b)})}},{key:"renderPolygon",value:function(){var r=this.props,i=r.points,o=r.isAnimationActive,s=r.isRange,a=this.state.prevPoints;return o&&i&&i.length&&!s&&(!a||!as(a,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.className,s=r.points,a=r.isAnimationActive;if(i||!s||!s.length)return null;var l=this.state.isAnimationFinished,u=Ne("recharts-radar",o);return B.createElement(De,{className:u},this.renderPolygon(),(!a||l)&&Xr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"renderDotItem",value:function(r,i){var o;if(B.isValidElement(r))o=B.cloneElement(r,i);else if(Se(r))o=r(i);else{var s=i.key,a=T1e(i,S1e);o=B.createElement(qu,Ig({},a,{key:s,className:Ne("recharts-radar-dot",typeof r!="boolean"?r.className:"")}))}return o}}])}(U.PureComponent);Ri(ru,"displayName","Radar");Ri(ru,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!yo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ri(ru,"getComposedData",function(t){var e=t.radiusAxis,n=t.angleAxis,r=t.displayedData,i=t.dataKey,o=t.bandSize,s=n.cx,a=n.cy,l=!1,u=[],d=n.type!=="number"?o??0:0;r.forEach(function(h,y){var v=bt(h,n.dataKey,y),b=bt(h,i),x=n.scale(v)+d,_=Array.isArray(b)?m3(b):b,w=Ce(_)?void 0:e.scale(_);Array.isArray(b)&&b.length>=2&&(l=!0),u.push(kn(kn({},Qe(s,a,w,x)),{},{name:v,value:b,cx:s,cy:a,radius:w,angle:x,payload:h}))});var f=[];return l&&u.forEach(function(h){if(Array.isArray(h.value)){var y=E1e(h.value),v=Ce(y)?void 0:e.scale(y);f.push(kn(kn({},h),{},{radius:v},Qe(s,a,v,h.angle)))}else f.push(h)}),{points:u,isRange:l,baseLinePoints:f}});var M1e=Math.ceil,D1e=Math.max;function j1e(t,e,n,r){for(var i=-1,o=D1e(M1e((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var $1e=j1e,L1e=Z4,mR=1/0,F1e=17976931348623157e292;function V1e(t){if(!t)return t===0?t:0;if(t=L1e(t),t===mR||t===-mR){var e=t<0?-1:1;return e*F1e}return t===t?t:0}var V3=V1e,U1e=$1e,B1e=ey,Wv=V3;function z1e(t){return function(e,n,r){return r&&typeof r!="number"&&B1e(e,n,r)&&(n=r=void 0),e=Wv(e),n===void 0?(n=e,e=0):n=Wv(n),r=r===void 0?e<n?1:-1:Wv(r),U1e(e,n,r,t)}}var G1e=z1e,q1e=G1e,H1e=q1e(),W1e=H1e;const Ng=et(W1e);function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){U3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U3(t,e,n){return e=K1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K1e(t){var e=Y1e(t,"string");return wf(e)=="symbol"?e:e+""}function Y1e(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var J1e=["Webkit","Moz","O","ms"],X1e=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=J1e.reduce(function(o,s){return yR(yR({},o),{},U3({},s+r,n))},{});return i[e]=n,i};function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pg.apply(this,arguments)}function vR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vR(Object(n),!0).forEach(function(r){Yn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z3(r.key),r)}}function Z1e(t,e,n){return e&&xR(t.prototype,e),n&&xR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eEe(t,e,n){return e=Rg(e),tEe(t,B3()?Reflect.construct(e,n||[],Rg(t).constructor):e.apply(t,n))}function tEe(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nEe(t)}function nEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B3=function(){return!!t})()}function Rg(t){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rg(t)}function rEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yw(t,e)}function Yw(t,e){return Yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yw(t,e)}function Yn(t,e,n){return e=z3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z3(t){var e=iEe(t,"string");return iu(e)=="symbol"?e:e+""}function iEe(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oEe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=id().domain(Ng(0,l)).range([o,o+s-a]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},bR=function(e){return e.changedTouches&&!!e.changedTouches.length},ou=function(t){function e(n){var r;return Q1e(this,e),r=eEe(this,e,[n]),Yn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Yn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Yn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Yn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Yn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Yn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Yn(r,"handleSlideDragStart",function(i){var o=bR(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return rEe(e,t),Z1e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,d=u.length-1,f=Math.min(i,o),h=Math.max(i,o),y=e.getIndexInRange(s,f),v=e.getIndexInRange(s,h);return{startIndex:y-y%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=bt(o[r],a,r);return Se(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,d=l.width,f=l.travellerWidth,h=l.startIndex,y=l.endIndex,v=l.onChange,b=r.pageX-o;b>0?b=Math.min(b,u+d-f-a,u+d-f-s):b<0&&(b=Math.max(b,u-s,u-a));var x=this.getIndex({startX:s+b,endX:a+b});(x.startIndex!==h||x.endIndex!==y)&&v&&v(x),this.setState({startX:s+b,endX:a+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=bR(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],d=this.props,f=d.x,h=d.width,y=d.travellerWidth,v=d.onChange,b=d.gap,x=d.data,_={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,f+h-y-u):w<0&&(w=Math.max(w,f-u)),_[s]=u+w;var E=this.getIndex(_),C=E.startIndex,S=E.endIndex,I=function(){var T=x.length-1;return s==="startX"&&(a>l?C%b===0:S%b===0)||a<l&&S===T||s==="endX"&&(a>l?S%b===0:C%b===0)||a>l&&S===T};this.setState(Yn(Yn({},s,u+w),"brushMoveStartX",r.pageX),function(){v&&I()&&v(E)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,d=this.state[i],f=a.indexOf(d);if(f!==-1){var h=f+r;if(!(h===-1||h>=a.length)){var y=a[h];i==="startX"&&y>=u||i==="endX"&&y<=l||this.setState(Yn({},i,y),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return B.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,d=r.padding,f=U.Children.only(u);return f?B.cloneElement(f,{x:i,y:o,width:s,height:a,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,d=l.travellerWidth,f=l.height,h=l.traveller,y=l.ariaLabel,v=l.data,b=l.startIndex,x=l.endIndex,_=Math.max(r,this.props.x),w=Kv(Kv({},be(this.props,!1)),{},{x:_,y:u,width:d,height:f}),E=y||"Min value: ".concat((o=v[b])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=v[x])===null||s===void 0?void 0:s.name);return B.createElement(De,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),a.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return B.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,h=d.endX,y=5,v={pointerEvents:"none",fill:u};return B.createElement(De,{className:"recharts-brush-texts"},B.createElement(va,Pg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-y,y:s+a/2},v),this.getTextOfTick(i)),B.createElement(va,Pg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+y,y:s+a/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,d=r.height,f=r.alwaysShowText,h=this.state,y=h.startX,v=h.endX,b=h.isTextActive,x=h.isSlideMoving,_=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!le(a)||!le(l)||!le(u)||!le(d)||u<=0||d<=0)return null;var E=Ne("recharts-brush",o),C=B.Children.count(s)===1,S=X1e("userSelect","none");return B.createElement(De,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(y,v),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(v,"endX"),(b||x||_||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return B.createElement(B.Fragment,null,B.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),B.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),B.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return B.isValidElement(r)?o=B.cloneElement(r,i):Se(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Kv({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?oEe({data:o,width:s,x:a,travellerWidth:l,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(U.PureComponent);Yn(ou,"displayName","Brush");Yn(ou,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var sEe=oS;function aEe(t,e){var n;return sEe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var lEe=aEe,uEe=A4,cEe=Ei,dEe=lEe,fEe=qn,hEe=ey;function pEe(t,e,n){var r=fEe(t)?uEe:dEe;return n&&hEe(t,e,n)&&(e=void 0),r(t,cEe(e))}var mEe=pEe;const gEe=et(mEe);var mi=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},wR=K4;function yEe(t,e,n){e=="__proto__"&&wR?wR(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var vEe=yEe,xEe=vEe,bEe=H4,wEe=Ei;function _Ee(t,e){var n={};return e=wEe(e),bEe(t,function(r,i,o){xEe(n,i,e(r,i,o))}),n}var EEe=_Ee;const SEe=et(EEe);function TEe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var AEe=TEe,kEe=oS;function IEe(t,e){var n=!0;return kEe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var CEe=IEe,NEe=AEe,PEe=CEe,REe=Ei,OEe=qn,MEe=ey;function DEe(t,e,n){var r=OEe(t)?NEe:PEe;return n&&MEe(t,e,n)&&(e=void 0),r(t,REe(e))}var jEe=DEe;const G3=et(jEe);var $Ee=["x","y"];function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jw.apply(this,arguments)}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ic(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){LEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LEe(t,e,n){return e=FEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FEe(t){var e=VEe(t,"string");return _f(e)=="symbol"?e:e+""}function VEe(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UEe(t,e){if(t==null)return{};var n=BEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zEe(t,e){var n=t.x,r=t.y,i=UEe(t,$Ee),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Ic(Ic(Ic(Ic(Ic({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:d,width:h,name:e.name,radius:e.radius})}function ER(t){return B.createElement(D3,Jw({shapeType:"rectangle",propTransformer:zEe,activeClassName:"recharts-active-bar"},t))}var GEe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=le(r)||Gre(r);return o?e(r,i):(o||ba(),n)}},qEe=["value","background"],q3;function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function HEe(t,e){if(t==null)return{};var n=WEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Og(){return Og=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Og.apply(this,arguments)}function SR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(n),!0).forEach(function(r){Vo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W3(r.key),r)}}function YEe(t,e,n){return e&&TR(t.prototype,e),n&&TR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function JEe(t,e,n){return e=Mg(e),XEe(t,H3()?Reflect.construct(e,n||[],Mg(t).constructor):e.apply(t,n))}function XEe(t,e){if(e&&(su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QEe(t)}function QEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H3=function(){return!!t})()}function Mg(t){return Mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mg(t)}function ZEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xw(t,e)}function Xw(t,e){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xw(t,e)}function Vo(t,e,n){return e=W3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W3(t){var e=eSe(t,"string");return su(e)=="symbol"?e:e+""}function eSe(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vi=function(t){function e(){var n;KEe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=JEe(this,e,[].concat(i)),Vo(n,"state",{isAnimationFinished:!1}),Vo(n,"id",Ca("recharts-bar-")),Vo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Vo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return ZEe(e,t),YEe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,d=be(this.props,!1);return r&&r.map(function(f,h){var y=h===l,v=y?u:s,b=Pt(Pt(Pt({},d),f),{},{isActive:y,option:v,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return B.createElement(De,Og({className:"recharts-bar-rectangle"},ya(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),B.createElement(ER,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return B.createElement(Cr,{begin:l,duration:u,isActive:a,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var v=y.t,b=o.map(function(x,_){var w=h&&h[_];if(w){var E=xt(w.x,x.x),C=xt(w.y,x.y),S=xt(w.width,x.width),I=xt(w.height,x.height);return Pt(Pt({},x),{},{x:E(v),y:C(v),width:S(v),height:I(v)})}if(s==="horizontal"){var k=xt(0,x.height),T=k(v);return Pt(Pt({},x),{},{y:x.y+x.height-T,height:T})}var N=xt(0,x.width),M=N(v);return Pt(Pt({},x),{},{width:M})});return B.createElement(De,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!as(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=be(this.props.background,!1);return o.map(function(u,d){u.value;var f=u.background,h=HEe(u,qEe);if(!f)return null;var y=Pt(Pt(Pt(Pt(Pt({},h),{},{fill:"#eee"},f),l),ya(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:d,className:"recharts-bar-background-rectangle"});return B.createElement(ER,Og({key:"background-bar-".concat(d),option:r.props.background,isActive:d===a},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=ir(d,rh);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,y=function(x,_){var w=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:w,errorVal:bt(x,_)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return B.createElement(De,v,f.map(function(b){return B.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:h,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,d=r.top,f=r.width,h=r.height,y=r.isAnimationActive,v=r.background,b=r.id;if(i||!o||!o.length)return null;var x=this.state.isAnimationFinished,_=Ne("recharts-bar",s),w=a&&a.allowDataOverflow,E=l&&l.allowDataOverflow,C=w||E,S=Ce(b)?this.id:b;return B.createElement(De,{className:_},w||E?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(S)},B.createElement("rect",{x:w?u:u-f/2,y:E?d:d-h/2,width:w?f:f*2,height:E?h:h*2}))):null,B.createElement(De,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,S),(!y||x)&&Xr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(U.PureComponent);q3=vi;Vo(vi,"displayName","Bar");Vo(vi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!yo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Vo(vi,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,y=lve(r,n);if(!y)return null;var v=e.layout,b=n.type.defaultProps,x=b!==void 0?Pt(Pt({},b),n.props):n.props,_=x.dataKey,w=x.children,E=x.minPointSize,C=v==="horizontal"?s:o,S=u?C.scale.domain():null,I=mve({numericAxis:C}),k=ir(w,Na),T=f.map(function(N,M){var D,j,O,q,V,L;u?D=uve(u[d+M],S):(D=bt(N,_),Array.isArray(D)||(D=[I,D]));var z=GEe(E,q3.defaultProps.minPointSize)(D[1],M);if(v==="horizontal"){var P,$=[s.scale(D[0]),s.scale(D[1])],G=$[0],H=$[1];j=p2({axis:o,ticks:a,bandSize:i,offset:y.offset,entry:N,index:M}),O=(P=H??G)!==null&&P!==void 0?P:void 0,q=y.size;var K=G-H;if(V=Number.isNaN(K)?0:K,L={x:j,y:s.y,width:q,height:s.height},Math.abs(z)>0&&Math.abs(V)<Math.abs(z)){var Y=Nn(V||z)*(Math.abs(z)-Math.abs(V));O-=Y,V+=Y}}else{var se=[o.scale(D[0]),o.scale(D[1])],W=se[0],Z=se[1];if(j=W,O=p2({axis:s,ticks:l,bandSize:i,offset:y.offset,entry:N,index:M}),q=Z-W,V=y.size,L={x:o.x,y:O,width:o.width,height:V},Math.abs(z)>0&&Math.abs(q)<Math.abs(z)){var de=Nn(q||z)*(Math.abs(z)-Math.abs(q));q+=de}}return Pt(Pt(Pt({},N),{},{x:j,y:O,width:q,height:V,value:u?D:D[1],payload:N,background:L},k&&k[M]&&k[M].props),{},{tooltipPayload:[u3(n,N)],tooltipPosition:{x:j+q/2,y:O+V/2}})});return Pt({data:T,layout:v},h)});function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function tSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K3(r.key),r)}}function nSe(t,e,n){return e&&AR(t.prototype,e),n&&AR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){my(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function my(t,e,n){return e=K3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K3(t){var e=rSe(t,"string");return Ef(e)=="symbol"?e:e+""}function rSe(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MS=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!Xn(u,vi);return d.reduce(function(y,v){var b=n[v],x=b.orientation,_=b.domain,w=b.padding,E=w===void 0?{}:w,C=b.mirror,S=b.reversed,I="".concat(x).concat(C?"Mirror":""),k,T,N,M,D;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var j=_[1]-_[0],O=1/0,q=b.categoricalDomain.sort(Wre);if(q.forEach(function(se,W){W>0&&(O=Math.min((se||0)-(q[W-1]||0),O))}),Number.isFinite(O)){var V=O/j,L=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(k=V*L/2),b.padding==="no-gap"){var z=Pn(e.barCategoryGap,V*L),P=V*L/2;k=P-z-(P-z)/L*z}}}i==="xAxis"?T=[r.left+(E.left||0)+(k||0),r.left+r.width-(E.right||0)-(k||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(E.bottom||0),r.top+(E.top||0)]:[r.top+(E.top||0)+(k||0),r.top+r.height-(E.bottom||0)-(k||0)]:T=b.range,S&&(T=[T[1],T[0]]);var $=o3(b,o,h),G=$.scale,H=$.realScaleType;G.domain(_).range(T),s3(G);var K=a3(G,Fr(Fr({},b),{},{realScaleType:H}));i==="xAxis"?(D=x==="top"&&!C||x==="bottom"&&C,N=r.left,M=f[I]-D*b.height):i==="yAxis"&&(D=x==="left"&&!C||x==="right"&&C,N=f[I]-D*b.width,M=r.top);var Y=Fr(Fr(Fr({},b),K),{},{realScaleType:H,x:N,y:M,scale:G,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return Y.bandSize=mg(Y,K),!b.hide&&i==="xAxis"?f[I]+=(D?-1:1)*Y.height:b.hide||(f[I]+=(D?-1:1)*Y.width),Fr(Fr({},y),{},my({},v,Y))},{})},Y3=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},iSe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return Y3({x:n,y:r},{x:i,y:o})},J3=function(){function t(e){tSe(this,t),this.scale=e}return nSe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();my(J3,"EPS",1e-4);var DS=function(e){var n=Object.keys(e).reduce(function(r,i){return Fr(Fr({},r),{},my({},i,J3.create(e[i])))},{});return Fr(Fr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return SEe(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return G3(i,function(o,s){return n[s].isInRange(o)})}})};function oSe(t){return(t%180+180)%180}var sSe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=oSe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},aSe=Ei,lSe=Qf,uSe=Q0;function cSe(t){return function(e,n,r){var i=Object(e);if(!lSe(e)){var o=aSe(n);e=uSe(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var dSe=cSe,fSe=V3;function hSe(t){var e=fSe(t),n=e%1;return e===e?n?e-n:e:0}var pSe=hSe,mSe=V4,gSe=Ei,ySe=pSe,vSe=Math.max;function xSe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:ySe(n);return i<0&&(i=vSe(r+i,0)),mSe(t,gSe(e),i)}var bSe=xSe,wSe=dSe,_Se=bSe,ESe=wSe(_Se),SSe=ESe;const TSe=et(SSe);var ASe=Jne(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),jS=U.createContext(void 0),$S=U.createContext(void 0),X3=U.createContext(void 0),Q3=U.createContext({}),Z3=U.createContext(void 0),eF=U.createContext(0),tF=U.createContext(0),IR=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,d=ASe(o);return B.createElement(jS.Provider,{value:r},B.createElement($S.Provider,{value:i},B.createElement(Q3.Provider,{value:o},B.createElement(X3.Provider,{value:d},B.createElement(Z3.Provider,{value:s},B.createElement(eF.Provider,{value:u},B.createElement(tF.Provider,{value:l},a)))))))},kSe=function(){return U.useContext(Z3)},nF=function(e){var n=U.useContext(jS);n==null&&ba();var r=n[e];return r==null&&ba(),r},ISe=function(){var e=U.useContext(jS);return Mo(e)},CSe=function(){var e=U.useContext($S),n=TSe(e,function(r){return G3(r.domain,Number.isFinite)});return n||Mo(e)},rF=function(e){var n=U.useContext($S);n==null&&ba();var r=n[e];return r==null&&ba(),r},NSe=function(){var e=U.useContext(X3);return e},PSe=function(){return U.useContext(Q3)},LS=function(){return U.useContext(tF)},FS=function(){return U.useContext(eF)};function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function RSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oF(r.key),r)}}function MSe(t,e,n){return e&&OSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DSe(t,e,n){return e=Dg(e),jSe(t,iF()?Reflect.construct(e,n||[],Dg(t).constructor):e.apply(t,n))}function jSe(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Se(t)}function $Se(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iF=function(){return!!t})()}function Dg(t){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dg(t)}function LSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qw(t,e)}function Qw(t,e){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qw(t,e)}function CR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(n),!0).forEach(function(r){VS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VS(t,e,n){return e=oF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oF(t){var e=FSe(t,"string");return au(e)=="symbol"?e:e+""}function FSe(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function VSe(t,e){return GSe(t)||zSe(t,e)||BSe(t,e)||USe()}function USe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BSe(t,e){if(t){if(typeof t=="string")return PR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PR(t,e)}}function PR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function GSe(t){if(Array.isArray(t))return t}function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(this,arguments)}var qSe=function(e,n){var r;return B.isValidElement(e)?r=B.cloneElement(e,n):Se(e)?r=e(n):r=B.createElement("line",Zw({},n,{className:"recharts-reference-line-line"})),r},HSe=function(e,n,r,i,o,s,a,l,u){var d=o.x,f=o.y,h=o.width,y=o.height;if(r){var v=u.y,b=e.y.apply(v,{position:s});if(mi(u,"discard")&&!e.y.isInRange(b))return null;var x=[{x:d+h,y:b},{x:d,y:b}];return l==="left"?x.reverse():x}if(n){var _=u.x,w=e.x.apply(_,{position:s});if(mi(u,"discard")&&!e.x.isInRange(w))return null;var E=[{x:w,y:f+y},{x:w,y:f}];return a==="top"?E.reverse():E}if(i){var C=u.segment,S=C.map(function(I){return e.apply(I,{position:s})});return mi(u,"discard")&&gEe(S,function(I){return!e.isInRange(I)})?null:S}return null};function WSe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=kSe(),d=nF(i),f=rF(o),h=NSe();if(!u||!h)return null;Jr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=DS({x:d.scale,y:f.scale}),v=Ut(e),b=Ut(n),x=r&&r.length===2,_=HSe(y,v,b,x,h,t.position,d.orientation,f.orientation,t);if(!_)return null;var w=VSe(_,2),E=w[0],C=E.x,S=E.y,I=w[1],k=I.x,T=I.y,N=mi(t,"hidden")?"url(#".concat(u,")"):void 0,M=NR(NR({clipPath:N},be(t,!0)),{},{x1:C,y1:S,x2:k,y2:T});return B.createElement(De,{className:Ne("recharts-reference-line",a)},qSe(s,M),Jt.renderCallByParent(t,iSe({x1:C,y1:S,x2:k,y2:T})))}var ih=function(t){function e(){return RSe(this,e),DSe(this,e,arguments)}return LSe(e,t),MSe(e,[{key:"render",value:function(){return B.createElement(WSe,this.props)}}])}(B.Component);VS(ih,"displayName","ReferenceLine");VS(ih,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function e_(){return e_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e_.apply(this,arguments)}function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){gy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aF(r.key),r)}}function JSe(t,e,n){return e&&YSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XSe(t,e,n){return e=jg(e),QSe(t,sF()?Reflect.construct(e,n||[],jg(t).constructor):e.apply(t,n))}function QSe(t,e){if(e&&(lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZSe(t)}function ZSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sF=function(){return!!t})()}function jg(t){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jg(t)}function eTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t_(t,e)}function t_(t,e){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t_(t,e)}function gy(t,e,n){return e=aF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aF(t){var e=tTe(t,"string");return lu(e)=="symbol"?e:e+""}function tTe(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nTe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=DS({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return mi(e,"discard")&&!s.isInRange(a)?null:a},yy=function(t){function e(){return KSe(this,e),XSe(this,e,arguments)}return eTe(e,t),JSe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=Ut(i),d=Ut(o);if(Jr(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=nTe(this.props);if(!f)return null;var h=f.x,y=f.y,v=this.props,b=v.shape,x=v.className,_=mi(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=OR(OR({clipPath:_},be(this.props,!0)),{},{cx:h,cy:y});return B.createElement(De,{className:Ne("recharts-reference-dot",x)},e.renderDot(b,w),Jt.renderCallByParent(this.props,{x:h-s,y:y-s,width:2*s,height:2*s}))}}])}(B.Component);gy(yy,"displayName","ReferenceDot");gy(yy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});gy(yy,"renderDot",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):Se(t)?n=t(e):n=B.createElement(qu,e_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function n_(){return n_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n_.apply(this,arguments)}function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){vy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uF(r.key),r)}}function oTe(t,e,n){return e&&iTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sTe(t,e,n){return e=$g(e),aTe(t,lF()?Reflect.construct(e,n||[],$g(t).constructor):e.apply(t,n))}function aTe(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lTe(t)}function lTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lF=function(){return!!t})()}function $g(t){return $g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$g(t)}function uTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r_(t,e)}function r_(t,e){return r_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},r_(t,e)}function vy(t,e,n){return e=uF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uF(t){var e=cTe(t,"string");return uu(e)=="symbol"?e:e+""}function cTe(t,e){if(uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dTe=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,d=o.xAxis,f=o.yAxis;if(!d||!f)return null;var h=DS({x:d.scale,y:f.scale}),y={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return mi(o,"discard")&&(!h.isInRange(y)||!h.isInRange(v))?null:Y3(y,v)},xy=function(t){function e(){return rTe(this,e),sTe(this,e,arguments)}return uTe(e,t),oTe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,d=r.clipPathId;Jr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ut(i),h=Ut(o),y=Ut(s),v=Ut(a),b=this.props.shape;if(!f&&!h&&!y&&!v&&!b)return null;var x=dTe(f,h,y,v,this.props);if(!x&&!b)return null;var _=mi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return B.createElement(De,{className:Ne("recharts-reference-area",l)},e.renderRect(b,DR(DR({clipPath:_},be(this.props,!0)),x)),Jt.renderCallByParent(this.props,x))}}])}(B.Component);vy(xy,"displayName","ReferenceArea");vy(xy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});vy(xy,"renderRect",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):Se(t)?n=t(e):n=B.createElement(OS,n_({},e,{className:"recharts-reference-area-rect"})),n});function cF(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function fTe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return sSe(r,n)}function hTe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Lg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function pTe(t,e){return cF(t,e+1)}function mTe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,d=s,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:cF(r,u)};var b=l,x,_=function(){return x===void 0&&(x=n(v,b)),x},w=v.coordinate,E=l===0||Lg(t,w,_,d,a);E||(l=0,d=s,u+=1),E&&(d=w+t*(_()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){gTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gTe(t,e,n){return e=yTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yTe(t){var e=vTe(t,"string");return Sf(e)=="symbol"?e:e+""}function vTe(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xTe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(h){var y=o[h],v,b=function(){return v===void 0&&(v=n(y,h)),v};if(h===s-1){var x=t*(y.coordinate+t*b()/2-l);o[h]=y=vn(vn({},y),{},{tickCoord:x>0?y.coordinate-x*t:y.coordinate})}else o[h]=y=vn(vn({},y),{},{tickCoord:y.coordinate});var _=Lg(t,y.tickCoord,b,a,l);_&&(l=y.tickCoord-t*(b()/2+i),o[h]=vn(vn({},y),{},{isShow:!0}))},d=s-1;d>=0;d--)u(d);return o}function bTe(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var d=r[a-1],f=n(d,a-1),h=t*(d.coordinate+t*f/2-u);s[a-1]=d=vn(vn({},d),{},{tickCoord:h>0?d.coordinate-h*t:d.coordinate});var y=Lg(t,d.tickCoord,function(){return f},l,u);y&&(u=d.tickCoord-t*(f/2+i),s[a-1]=vn(vn({},d),{},{isShow:!0}))}for(var v=o?a-1:a,b=function(w){var E=s[w],C,S=function(){return C===void 0&&(C=n(E,w)),C};if(w===0){var I=t*(E.coordinate-t*S()/2-l);s[w]=E=vn(vn({},E),{},{tickCoord:I<0?E.coordinate-I*t:E.coordinate})}else s[w]=E=vn(vn({},E),{},{tickCoord:E.coordinate});var k=Lg(t,E.tickCoord,S,l,u);k&&(l=E.tickCoord+t*(S()/2+i),s[w]=vn(vn({},E),{},{isShow:!0}))},x=0;x<v;x++)b(x);return s}function US(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(le(l)||yo.isSsr)return pTe(i,typeof l=="number"&&le(l)?l:0);var h=[],y=a==="top"||a==="bottom"?"width":"height",v=d&&y==="width"?rd(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(E,C){var S=Se(u)?u(E.value,C):E.value;return y==="width"?fTe(rd(S,{fontSize:e,letterSpacing:n}),v,f):rd(S,{fontSize:e,letterSpacing:n})[y]},x=i.length>=2?Nn(i[1].coordinate-i[0].coordinate):1,_=hTe(o,x,y);return l==="equidistantPreserveStart"?mTe(x,_,b,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=bTe(x,_,b,i,s,l==="preserveStartEnd"):h=xTe(x,_,b,i,s),h.filter(function(w){return w.isShow}))}var wTe=["viewBox"],_Te=["viewBox"],ETe=["ticks"];function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dl.apply(this,arguments)}function $R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(n),!0).forEach(function(r){BS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yv(t,e){if(t==null)return{};var n=STe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function STe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function TTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fF(r.key),r)}}function ATe(t,e,n){return e&&LR(t.prototype,e),n&&LR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kTe(t,e,n){return e=Fg(e),ITe(t,dF()?Reflect.construct(e,n||[],Fg(t).constructor):e.apply(t,n))}function ITe(t,e){if(e&&(cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CTe(t)}function CTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dF=function(){return!!t})()}function Fg(t){return Fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fg(t)}function NTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i_(t,e)}function i_(t,e){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},i_(t,e)}function BS(t,e,n){return e=fF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fF(t){var e=PTe(t,"string");return cu(e)=="symbol"?e:e+""}function PTe(t,e){if(cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ku=function(t){function e(n){var r;return TTe(this,e),r=kTe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return NTe(e,t),ATe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=Yv(r,wTe),a=this.props,l=a.viewBox,u=Yv(a,_Te);return!Tl(o,l)||!Tl(s,u)||!Tl(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,y,v,b,x,_,w,E=f?-1:1,C=r.tickSize||d,S=le(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":y=v=r.coordinate,x=s+ +!f*l,b=x-E*C,w=b-E*h,_=S;break;case"left":b=x=r.coordinate,v=o+ +!f*a,y=v-E*C,_=y-E*h,w=S;break;case"right":b=x=r.coordinate,v=o+ +f*a,y=v+E*C,_=y+E*h,w=S;break;default:y=v=r.coordinate,x=s+ +f*l,b=x+E*C,w=b+E*h,_=S;break}return{line:{x1:y,y1:b,x2:v,y2:x},tick:{x:_,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,d=r.axisLine,f=jt(jt(jt({},be(this.props,!1)),be(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=jt(jt({},f),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var y=+(l==="left"&&!u||l==="right"&&u);f=jt(jt({},f),{},{x1:i+y*s,y1:o,x2:i+y*s,y2:o+a})}return B.createElement("line",dl({},f,{className:Ne("recharts-cartesian-axis-line",rr(d,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,d=a.tick,f=a.tickFormatter,h=a.unit,y=US(jt(jt({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),x=be(this.props,!1),_=be(d,!1),w=jt(jt({},x),{},{fill:"none"},be(l,!1)),E=y.map(function(C,S){var I=s.getTickLineCoord(C),k=I.line,T=I.tick,N=jt(jt(jt(jt({textAnchor:v,verticalAnchor:b},x),{},{stroke:"none",fill:u},_),T),{},{index:S,payload:C,visibleTicksCount:y.length,tickFormatter:f});return B.createElement(De,dl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},ya(s.props,C,S)),l&&B.createElement("line",dl({},w,k,{className:Ne("recharts-cartesian-axis-tick-line",rr(l,"className"))})),d&&e.renderTickItem(d,N,"".concat(Se(f)?f(C.value,S):C.value).concat(h||"")))});return B.createElement("g",{className:"recharts-cartesian-axis-ticks"},E)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,y=Yv(f,ETe),v=h;return Se(l)&&(v=h&&h.length>0?l(this.props):l(y)),s<=0||a<=0||!v||!v.length?null:B.createElement(De,{className:Ne("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Jt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=Ne(i.className,"recharts-cartesian-axis-tick-value");return B.isValidElement(r)?s=B.cloneElement(r,jt(jt({},i),{},{className:a})):Se(r)?s=r(jt(jt({},i),{},{className:a})):s=B.createElement(va,dl({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(U.Component);BS(Ku,"displayName","CartesianAxis");BS(Ku,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var RTe=["x1","y1","x2","y2","key"],OTe=["offset"];function wa(t){"@babel/helpers - typeof";return wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wa(t)}function FR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FR(Object(n),!0).forEach(function(r){MTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MTe(t,e,n){return e=DTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DTe(t){var e=jTe(t,"string");return wa(e)=="symbol"?e:e+""}function jTe(t,e){if(wa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ws(){return Ws=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ws.apply(this,arguments)}function VR(t,e){if(t==null)return{};var n=$Te(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Te(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var LTe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return B.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function hF(t,e){var n;if(B.isValidElement(t))n=B.cloneElement(t,e);else if(Se(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=VR(e,RTe),u=be(l,!1);u.offset;var d=VR(u,OTe);n=B.createElement("line",Ws({},d,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function FTe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=bn(bn({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return hF(i,u)});return B.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function VTe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=bn(bn({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return hF(i,u)});return B.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function UTe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=a.map(function(h){return Math.round(h+i-i)}).sort(function(h,y){return h-y});i!==d[0]&&d.unshift(0);var f=d.map(function(h,y){var v=!d[y+1],b=v?i+s-h:d[y+1]-h;if(b<=0)return null;var x=y%e.length;return B.createElement("rect",{key:"react-".concat(y),y:h,x:r,height:b,width:o,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function BTe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,y){return h-y});o!==d[0]&&d.unshift(0);var f=d.map(function(h,y){var v=!d[y+1],b=v?o+a-h:d[y+1]-h;if(b<=0)return null;var x=y%r.length;return B.createElement("rect",{key:"react-".concat(y),x:h,y:s,width:b,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var zTe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return i3(US(bn(bn(bn({},Ku.defaultProps),r),{},{ticks:Ui(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},GTe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return i3(US(bn(bn(bn({},Ku.defaultProps),r),{},{ticks:Ui(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},Ua={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function du(t){var e,n,r,i,o,s,a=LS(),l=FS(),u=PSe(),d=bn(bn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ua.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ua.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ua.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ua.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Ua.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Ua.verticalFill,x:le(t.x)?t.x:u.left,y:le(t.y)?t.y:u.top,width:le(t.width)?t.width:u.width,height:le(t.height)?t.height:u.height}),f=d.x,h=d.y,y=d.width,v=d.height,b=d.syncWithTicks,x=d.horizontalValues,_=d.verticalValues,w=ISe(),E=CSe();if(!le(y)||y<=0||!le(v)||v<=0||!le(f)||f!==+f||!le(h)||h!==+h)return null;var C=d.verticalCoordinatesGenerator||zTe,S=d.horizontalCoordinatesGenerator||GTe,I=d.horizontalPoints,k=d.verticalPoints;if((!I||!I.length)&&Se(S)){var T=x&&x.length,N=S({yAxis:E?bn(bn({},E),{},{ticks:T?x:E.ticks}):void 0,width:a,height:l,offset:u},T?!0:b);Jr(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(wa(N),"]")),Array.isArray(N)&&(I=N)}if((!k||!k.length)&&Se(C)){var M=_&&_.length,D=C({xAxis:w?bn(bn({},w),{},{ticks:M?_:w.ticks}):void 0,width:a,height:l,offset:u},M?!0:b);Jr(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(wa(D),"]")),Array.isArray(D)&&(k=D)}return B.createElement("g",{className:"recharts-cartesian-grid"},B.createElement(LTe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),B.createElement(FTe,Ws({},d,{offset:u,horizontalPoints:I,xAxis:w,yAxis:E})),B.createElement(VTe,Ws({},d,{offset:u,verticalPoints:k,xAxis:w,yAxis:E})),B.createElement(UTe,Ws({},d,{horizontalPoints:I})),B.createElement(BTe,Ws({},d,{verticalPoints:k})))}du.displayName="CartesianGrid";var qTe=["type","layout","connectNulls","ref"],HTe=["key"];function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function UR(t,e){if(t==null)return{};var n=WTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ud(){return ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ud.apply(this,arguments)}function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){Vr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ba(t){return XTe(t)||JTe(t)||YTe(t)||KTe()}function KTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YTe(t,e){if(t){if(typeof t=="string")return o_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o_(t,e)}}function JTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XTe(t){if(Array.isArray(t))return o_(t)}function o_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mF(r.key),r)}}function ZTe(t,e,n){return e&&zR(t.prototype,e),n&&zR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eAe(t,e,n){return e=Vg(e),tAe(t,pF()?Reflect.construct(e,n||[],Vg(t).constructor):e.apply(t,n))}function tAe(t,e){if(e&&(fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nAe(t)}function nAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pF=function(){return!!t})()}function Vg(t){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vg(t)}function rAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s_(t,e)}function s_(t,e){return s_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},s_(t,e)}function Vr(t,e,n){return e=mF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mF(t){var e=iAe(t,"string");return fu(e)=="symbol"?e:e+""}function iAe(t,e){if(fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oh=function(t){function e(){var n;QTe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=eAe(this,e,[].concat(i)),Vr(n,"state",{isAnimationFinished:!0,totalLength:0}),Vr(n,"generateSimpleStrokeDasharray",function(s,a){return"".concat(a,"px ").concat(s-a,"px")}),Vr(n,"getStrokeDasharray",function(s,a,l){var u=l.reduce(function(_,w){return _+w});if(!u)return n.generateSimpleStrokeDasharray(a,s);for(var d=Math.floor(s/u),f=s%u,h=a-s,y=[],v=0,b=0;v<l.length;b+=l[v],++v)if(b+l[v]>f){y=[].concat(Ba(l.slice(0,v)),[f-b]);break}var x=y.length%2===0?[0,h]:[h];return[].concat(Ba(e.repeat(l,d)),Ba(y),x).map(function(_){return"".concat(_,"px")}).join(", ")}),Vr(n,"id",Ca("recharts-line-")),Vr(n,"pathRef",function(s){n.mainCurve=s}),Vr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Vr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return rAe(e,t),ZTe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,a=o.xAxis,l=o.yAxis,u=o.layout,d=o.children,f=ir(d,rh);if(!f)return null;var h=function(b,x){return{x:b.x,y:b.y,value:b.value,errorVal:bt(b.payload,x)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return B.createElement(De,y,f.map(function(v){return B.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,u=a.points,d=a.dataKey,f=be(this.props,!1),h=be(l,!0),y=u.map(function(b,x){var _=Kn(Kn(Kn({key:"dot-".concat(x),r:3},f),h),{},{index:x,cx:b.x,cy:b.y,value:b.value,dataKey:d,payload:b.payload,points:u});return e.renderDotItem(l,_)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return B.createElement(De,ud({className:"recharts-line-dots",key:"dots"},v),y)}},{key:"renderCurveStatically",value:function(r,i,o,s){var a=this.props,l=a.type,u=a.layout,d=a.connectNulls;a.ref;var f=UR(a,qTe),h=Kn(Kn(Kn({},be(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:l,layout:u,connectNulls:d});return B.createElement(ta,ud({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.strokeDasharray,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,y=s.animationId,v=s.animateNewValues,b=s.width,x=s.height,_=this.state,w=_.prevPoints,E=_.totalLength;return B.createElement(Cr,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var S=C.t;if(w){var I=w.length/a.length,k=a.map(function(j,O){var q=Math.floor(O*I);if(w[q]){var V=w[q],L=xt(V.x,j.x),z=xt(V.y,j.y);return Kn(Kn({},j),{},{x:L(S),y:z(S)})}if(v){var P=xt(b*2,j.x),$=xt(x/2,j.y);return Kn(Kn({},j),{},{x:P(S),y:$(S)})}return Kn(Kn({},j),{},{x:j.x,y:j.y})});return o.renderCurveStatically(k,r,i)}var T=xt(0,E),N=T(S),M;if(l){var D="".concat(l).split(/[,\s]+/gim).map(function(j){return parseFloat(j)});M=o.getStrokeDasharray(N,E,D)}else M=o.generateSimpleStrokeDasharray(E,N);return o.renderCurveStatically(a,r,i,{strokeDasharray:M})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,a=o.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return a&&s&&s.length&&(!u&&d>0||!as(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,y=i.width,v=i.height,b=i.isAnimationActive,x=i.id;if(o||!a||!a.length)return null;var _=this.state.isAnimationFinished,w=a.length===1,E=Ne("recharts-line",l),C=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,I=C||S,k=Ce(x)?this.id:x,T=(r=be(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=T.r,M=N===void 0?3:N,D=T.strokeWidth,j=D===void 0?2:D,O=XL(s)?s:{},q=O.clipDot,V=q===void 0?!0:q,L=M*2+j;return B.createElement(De,{className:E},C||S?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(k)},B.createElement("rect",{x:C?h:h-y/2,y:S?f:f-v/2,width:C?y:y*2,height:S?v:v*2})),!V&&B.createElement("clipPath",{id:"clipPath-dots-".concat(k)},B.createElement("rect",{x:h-L/2,y:f-L/2,width:y+L,height:v+L}))):null,!w&&this.renderCurve(I,k),this.renderErrorBar(I,k),(w||s)&&this.renderDots(I,V,k),(!b||_)&&Xr.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Ba(r),[0]):r,s=[],a=0;a<i;++a)s=[].concat(Ba(s),Ba(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if(B.isValidElement(r))o=B.cloneElement(r,i);else if(Se(r))o=r(i);else{var s=i.key,a=UR(i,HTe),l=Ne("recharts-line-dot",typeof r!="boolean"?r.className:"");o=B.createElement(qu,ud({key:s},a,{className:l}))}return o}}])}(U.PureComponent);Vr(oh,"displayName","Line");Vr(oh,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!yo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Vr(oh,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,u=t.offset,d=e.layout,f=l.map(function(h,y){var v=bt(h,s);return d==="horizontal"?{x:pg({axis:n,ticks:i,bandSize:a,entry:h,index:y}),y:Ce(v)?null:r.scale(v),value:v,payload:h}:{x:Ce(v)?null:n.scale(v),y:pg({axis:r,ticks:o,bandSize:a,entry:h,index:y}),value:v,payload:h}});return Kn({points:f,layout:d},u)});var oAe=["layout","type","stroke","connectNulls","isRange","ref"],sAe=["key"],gF;function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function yF(t,e){if(t==null)return{};var n=aAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ks(){return Ks=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ks.apply(this,arguments)}function GR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function So(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GR(Object(n),!0).forEach(function(r){li(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xF(r.key),r)}}function uAe(t,e,n){return e&&qR(t.prototype,e),n&&qR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cAe(t,e,n){return e=Ug(e),dAe(t,vF()?Reflect.construct(e,n||[],Ug(t).constructor):e.apply(t,n))}function dAe(t,e){if(e&&(hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fAe(t)}function fAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vF=function(){return!!t})()}function Ug(t){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ug(t)}function hAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a_(t,e)}function a_(t,e){return a_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},a_(t,e)}function li(t,e,n){return e=xF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xF(t){var e=pAe(t,"string");return hu(e)=="symbol"?e:e+""}function pAe(t,e){if(hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bs=function(t){function e(){var n;lAe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=cAe(this,e,[].concat(i)),li(n,"state",{isAnimationFinished:!0}),li(n,"id",Ca("recharts-area-")),li(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Se(s)&&s()}),li(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Se(s)&&s()}),n}return hAe(e,t),uAe(e,[{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(s&&!a)return null;var l=this.props,u=l.dot,d=l.points,f=l.dataKey,h=be(this.props,!1),y=be(u,!0),v=d.map(function(x,_){var w=So(So(So({key:"dot-".concat(_),r:3},h),y),{},{index:_,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:d});return e.renderDotItem(u,w)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return B.createElement(De,Ks({className:"recharts-area-dots"},b),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].x,u=s[s.length-1].x,d=r*Math.abs(l-u),f=Fo(s.map(function(h){return h.y||0}));return le(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Fo(o.map(function(h){return h.y||0})),f)),le(f)?B.createElement("rect",{x:l<u?l:l-d,y:0,width:d,height:Math.floor(f+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].y,u=s[s.length-1].y,d=r*Math.abs(l-u),f=Fo(s.map(function(h){return h.x||0}));return le(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Fo(o.map(function(h){return h.x||0})),f)),le(f)?B.createElement("rect",{x:0,y:l<u?l:l-d,width:f+(a?parseInt("".concat(a),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,s){var a=this.props,l=a.layout,u=a.type,d=a.stroke,f=a.connectNulls,h=a.isRange;a.ref;var y=yF(a,oAe);return B.createElement(De,{clipPath:o?"url(#clipPath-".concat(s,")"):null},B.createElement(ta,Ks({},be(y,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&B.createElement(ta,Ks({},be(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:r})),d!=="none"&&h&&B.createElement(ta,Ks({},be(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.baseLine,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,h=s.animationEasing,y=s.animationId,v=this.state,b=v.prevPoints,x=v.prevBaseLine;return B.createElement(Cr,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var w=_.t;if(b){var E=b.length/a.length,C=a.map(function(T,N){var M=Math.floor(N*E);if(b[M]){var D=b[M],j=xt(D.x,T.x),O=xt(D.y,T.y);return So(So({},T),{},{x:j(w),y:O(w)})}return T}),S;if(le(l)&&typeof l=="number"){var I=xt(x,l);S=I(w)}else if(Ce(l)||Lu(l)){var k=xt(x,0);S=k(w)}else S=l.map(function(T,N){var M=Math.floor(N*E);if(x[M]){var D=x[M],j=xt(D.x,T.x),O=xt(D.y,T.y);return So(So({},T),{},{x:j(w),y:O(w)})}return T});return o.renderAreaStatically(C,S,r,i)}return B.createElement(De,null,B.createElement("defs",null,B.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(w))),B.createElement(De,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(a,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,s=o.points,a=o.baseLine,l=o.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&s&&s.length&&(!d&&h>0||!as(d,s)||!as(f,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,y=i.width,v=i.height,b=i.isAnimationActive,x=i.id;if(o||!a||!a.length)return null;var _=this.state.isAnimationFinished,w=a.length===1,E=Ne("recharts-area",l),C=f&&f.allowDataOverflow,S=h&&h.allowDataOverflow,I=C||S,k=Ce(x)?this.id:x,T=(r=be(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=T.r,M=N===void 0?3:N,D=T.strokeWidth,j=D===void 0?2:D,O=XL(s)?s:{},q=O.clipDot,V=q===void 0?!0:q,L=M*2+j;return B.createElement(De,{className:E},C||S?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(k)},B.createElement("rect",{x:C?d:d-y/2,y:S?u:u-v/2,width:C?y:y*2,height:S?v:v*2})),!V&&B.createElement("clipPath",{id:"clipPath-dots-".concat(k)},B.createElement("rect",{x:d-L/2,y:u-L/2,width:y+L,height:v+L}))):null,w?null:this.renderArea(I,k),(s||w)&&this.renderDots(I,V,k),(!b||_)&&Xr.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(U.PureComponent);gF=bs;li(bs,"displayName","Area");li(bs,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!yo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});li(bs,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,s=e.props.baseValue,a=s??o;if(le(a)&&typeof a=="number")return a;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return a==="dataMin"?f:a==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]});li(bs,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,a=t.bandSize,l=t.dataKey,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,h=t.offset,y=e.layout,v=u&&u.length,b=gF.getBaseValue(e,n,r,i),x=y==="horizontal",_=!1,w=f.map(function(C,S){var I;v?I=u[d+S]:(I=bt(C,l),Array.isArray(I)?_=!0:I=[b,I]);var k=I[1]==null||v&&bt(C,l)==null;return x?{x:pg({axis:r,ticks:o,bandSize:a,entry:C,index:S}),y:k?null:i.scale(I[1]),value:I,payload:C}:{x:k?null:r.scale(I[1]),y:pg({axis:i,ticks:s,bandSize:a,entry:C,index:S}),value:I,payload:C}}),E;return v||_?E=w.map(function(C){var S=Array.isArray(C.value)?C.value[0]:null;return x?{x:C.x,y:S!=null&&C.y!=null?i.scale(S):null}:{x:S!=null?r.scale(S):null,y:C.y}}):E=x?i.scale(b):r.scale(b),So({points:w,baseLine:E,layout:y,isRange:_},h)});li(bs,"renderDotItem",function(t,e){var n;if(B.isValidElement(t))n=B.cloneElement(t,e);else if(Se(t))n=t(e);else{var r=Ne("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=yF(e,sAe);n=B.createElement(qu,Ks({},o,{key:i,className:r}))}return n});function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function mAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_F(r.key),r)}}function yAe(t,e,n){return e&&gAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vAe(t,e,n){return e=Bg(e),xAe(t,bF()?Reflect.construct(e,n||[],Bg(t).constructor):e.apply(t,n))}function xAe(t,e){if(e&&(pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bAe(t)}function bAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bF=function(){return!!t})()}function Bg(t){return Bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bg(t)}function wAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l_(t,e)}function l_(t,e){return l_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},l_(t,e)}function wF(t,e,n){return e=_F(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _F(t){var e=_Ae(t,"string");return pu(e)=="symbol"?e:e+""}function _Ae(t,e){if(pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function u_(){return u_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u_.apply(this,arguments)}function EAe(t){var e=t.xAxisId,n=LS(),r=FS(),i=nF(e);return i==null?null:U.createElement(Ku,u_({},i,{className:Ne("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Ui(s,!0)}}))}var xi=function(t){function e(){return mAe(this,e),vAe(this,e,arguments)}return wAe(e,t),yAe(e,[{key:"render",value:function(){return U.createElement(EAe,this.props)}}])}(U.Component);wF(xi,"displayName","XAxis");wF(xi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function SAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TF(r.key),r)}}function AAe(t,e,n){return e&&TAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kAe(t,e,n){return e=zg(e),IAe(t,EF()?Reflect.construct(e,n||[],zg(t).constructor):e.apply(t,n))}function IAe(t,e){if(e&&(mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CAe(t)}function CAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EF=function(){return!!t})()}function zg(t){return zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zg(t)}function NAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c_(t,e)}function c_(t,e){return c_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},c_(t,e)}function SF(t,e,n){return e=TF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TF(t){var e=PAe(t,"string");return mu(e)=="symbol"?e:e+""}function PAe(t,e){if(mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function d_(){return d_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d_.apply(this,arguments)}var RAe=function(e){var n=e.yAxisId,r=LS(),i=FS(),o=rF(n);return o==null?null:U.createElement(Ku,d_({},o,{className:Ne("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Ui(a,!0)}}))},bi=function(t){function e(){return SAe(this,e),kAe(this,e,arguments)}return NAe(e,t),AAe(e,[{key:"render",value:function(){return U.createElement(RAe,this.props)}}])}(U.Component);SF(bi,"displayName","YAxis");SF(bi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function HR(t){return jAe(t)||DAe(t)||MAe(t)||OAe()}function OAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MAe(t,e){if(t){if(typeof t=="string")return f_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f_(t,e)}}function DAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jAe(t){if(Array.isArray(t))return f_(t)}function f_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var h_=function(e,n,r,i,o){var s=ir(e,ih),a=ir(e,yy),l=[].concat(HR(s),HR(a)),u=ir(e,xy),d="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(b,x){if(x.props[d]===r&&mi(x.props,"extendDomain")&&le(x.props[f])){var _=x.props[f];return[Math.min(b[0],_),Math.max(b[1],_)]}return b},h)),u.length){var y="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(b,x){if(x.props[d]===r&&mi(x.props,"extendDomain")&&le(x.props[y])&&le(x.props[v])){var _=x.props[y],w=x.props[v];return[Math.min(b[0],_,w),Math.max(b[1],_,w)]}return b},h)}return o&&o.length&&(h=o.reduce(function(b,x){return le(x)?[Math.min(b[0],x),Math.max(b[1],x)]:b},h)),h},AF={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function o(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var y=new i(d,f||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],y]:l._events[v].push(y):(l._events[v]=y,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},a.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,y=f.length,v=new Array(y);h<y;h++)v[h]=f[h].fn;return v},a.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,d,f,h,y,v){var b=n?n+u:u;if(!this._events[b])return!1;var x=this._events[b],_=arguments.length,w,E;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),_){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,y),!0;case 6:return x.fn.call(x.context,d,f,h,y,v),!0}for(E=1,w=new Array(_-1);E<_;E++)w[E-1]=arguments[E];x.fn.apply(x.context,w)}else{var C=x.length,S;for(E=0;E<C;E++)switch(x[E].once&&this.removeListener(u,x[E].fn,void 0,!0),_){case 1:x[E].fn.call(x[E].context);break;case 2:x[E].fn.call(x[E].context,d);break;case 3:x[E].fn.call(x[E].context,d,f);break;case 4:x[E].fn.call(x[E].context,d,f,h);break;default:if(!w)for(S=1,w=new Array(_-1);S<_;S++)w[S-1]=arguments[S];x[E].fn.apply(x[E].context,w)}}return!0},a.prototype.on=function(u,d,f){return o(this,u,d,f,!1)},a.prototype.once=function(u,d,f){return o(this,u,d,f,!0)},a.prototype.removeListener=function(u,d,f,h){var y=n?n+u:u;if(!this._events[y])return this;if(!d)return s(this,y),this;var v=this._events[y];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&s(this,y);else{for(var b=0,x=[],_=v.length;b<_;b++)(v[b].fn!==d||h&&!v[b].once||f&&v[b].context!==f)&&x.push(v[b]);x.length?this._events[y]=x.length===1?x[0]:x:s(this,y)}return this},a.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(AF);var $Ae=AF.exports;const LAe=et($Ae);var Jv=new LAe,Xv="recharts.syncMouseEvents";function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function FAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kF(r.key),r)}}function UAe(t,e,n){return e&&VAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qv(t,e,n){return e=kF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kF(t){var e=BAe(t,"string");return Tf(e)=="symbol"?e:e+""}function BAe(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zAe=function(){function t(){FAe(this,t),Qv(this,"activeIndex",0),Qv(this,"coordinateList",[]),Qv(this,"layout","horizontal")}return UAe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,d=n.offset,f=d===void 0?null:d,h=n.mouseHandlerCallback,y=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=s+this.offset.top+a/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function GAe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&le(r)&&le(i))return!0}return!1}function qAe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function IF(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Qe(e,n,r,i),a=Qe(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function HAe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,h=Qe(a,l,u,f),y=Qe(a,l,d,f);r=h.x,i=h.y,o=y.x,s=y.y}else return IF(e);return[{x:r,y:i},{x:o,y:s}]}function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function WR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function up(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WR(Object(n),!0).forEach(function(r){WAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WAe(t,e,n){return e=KAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KAe(t){var e=YAe(t,"string");return Af(e)=="symbol"?e:e+""}function YAe(t,e){if(Af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JAe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,y=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!y||!o||!s||h!=="ScatterChart"&&i!=="axis")return null;var v,b=ta;if(h==="ScatterChart")v=s,b=Owe;else if(h==="BarChart")v=qAe(f,s,l,d),b=OS;else if(f==="radial"){var x=IF(s),_=x.cx,w=x.cy,E=x.radius,C=x.startAngle,S=x.endAngle;v={cx:_,cy:w,startAngle:C,endAngle:S,innerRadius:E,outerRadius:E},b=y3}else v={points:HAe(f,s,l)},b=ta;var I=up(up(up(up({stroke:"#ccc",pointerEvents:"none"},l),v),be(y,!1)),{},{payload:a,payloadIndex:u,className:Ne("recharts-tooltip-cursor",y.className)});return U.isValidElement(y)?U.cloneElement(y,I):U.createElement(b,I)}var XAe=["item"],QAe=["children","className","width","height","style","compact","title","desc"];function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function fl(){return fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fl.apply(this,arguments)}function KR(t,e){return tke(t)||eke(t,e)||NF(t,e)||ZAe()}function ZAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function tke(t){if(Array.isArray(t))return t}function YR(t,e){if(t==null)return{};var n=nke(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ike(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PF(r.key),r)}}function oke(t,e,n){return e&&ike(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ske(t,e,n){return e=Gg(e),ake(t,CF()?Reflect.construct(e,n||[],Gg(t).constructor):e.apply(t,n))}function ake(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lke(t)}function lke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CF=function(){return!!t})()}function Gg(t){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gg(t)}function uke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p_(t,e)}function p_(t,e){return p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},p_(t,e)}function yu(t){return fke(t)||dke(t)||NF(t)||cke()}function cke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NF(t,e){if(t){if(typeof t=="string")return m_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m_(t,e)}}function dke(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fke(t){if(Array.isArray(t))return m_(t)}function m_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function JR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JR(Object(n),!0).forEach(function(r){Te(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Te(t,e,n){return e=PF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PF(t){var e=hke(t,"string");return gu(e)=="symbol"?e:e+""}function hke(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pke={xAxis:["bottom","top"],yAxis:["left","right"]},mke={width:"100%",height:"100%"},RF={x:0,y:0};function cp(t){return t}var gke=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},yke=function(e,n,r,i){var o=n.find(function(d){return d&&d.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return ee(ee(ee({},i),Qe(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return ee(ee(ee({},i),Qe(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return RF},by=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(yu(a),yu(u)):a},[]);return s.length>0?s:e&&e.length&&le(i)&&le(o)?e.slice(i,o+1):[]};function OF(t){return t==="number"?[0,"auto"]:void 0}var g_=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=by(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var y=f===void 0?a:f;h=Fm(y,s.dataKey,i)}else h=f&&f[r]||a[r];return h?[].concat(yu(l),[u3(u,h)]):l},[])},XR=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=gke(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=nve(s,a,u,l);if(d>=0&&u){var f=u[d]&&u[d].value,h=g_(e,n,d,f),y=yke(r,a,d,o);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:y}}return null},vke=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=e.stackOffset,y=r3(d,o);return r.reduce(function(v,b){var x,_=b.type.defaultProps!==void 0?ee(ee({},b.type.defaultProps),b.props):b.props,w=_.type,E=_.dataKey,C=_.allowDataOverflow,S=_.allowDuplicatedCategory,I=_.scale,k=_.ticks,T=_.includeHidden,N=_[s];if(v[N])return v;var M=by(e.data,{graphicalItems:i.filter(function(K){var Y,se=s in K.props?K.props[s]:(Y=K.type.defaultProps)===null||Y===void 0?void 0:Y[s];return se===N}),dataStartIndex:l,dataEndIndex:u}),D=M.length,j,O,q;GAe(_.domain,C,w)&&(j=Iw(_.domain,null,C),y&&(w==="number"||I!=="auto")&&(q=od(M,E,"category")));var V=OF(w);if(!j||j.length===0){var L,z=(L=_.domain)!==null&&L!==void 0?L:V;if(E){if(j=od(M,E,w),w==="category"&&y){var P=Hre(j);S&&P?(O=j,j=Ng(0,D)):S||(j=y2(z,j,b).reduce(function(K,Y){return K.indexOf(Y)>=0?K:[].concat(yu(K),[Y])},[]))}else if(w==="category")S?j=j.filter(function(K){return K!==""&&!Ce(K)}):j=y2(z,j,b).reduce(function(K,Y){return K.indexOf(Y)>=0||Y===""||Ce(Y)?K:[].concat(yu(K),[Y])},[]);else if(w==="number"){var $=ave(M,i.filter(function(K){var Y,se,W=s in K.props?K.props[s]:(Y=K.type.defaultProps)===null||Y===void 0?void 0:Y[s],Z="hide"in K.props?K.props.hide:(se=K.type.defaultProps)===null||se===void 0?void 0:se.hide;return W===N&&(T||!Z)}),E,o,d);$&&(j=$)}y&&(w==="number"||I!=="auto")&&(q=od(M,E,"category"))}else y?j=Ng(0,D):a&&a[N]&&a[N].hasStack&&w==="number"?j=h==="expand"?[0,1]:l3(a[N].stackGroups,l,u):j=n3(M,i.filter(function(K){var Y=s in K.props?K.props[s]:K.type.defaultProps[s],se="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return Y===N&&(T||!se)}),w,d,!0);if(w==="number")j=h_(f,j,N,o,k),z&&(j=Iw(z,j,C));else if(w==="category"&&z){var G=z,H=j.every(function(K){return G.indexOf(K)>=0});H&&(j=G)}}return ee(ee({},v),{},Te({},N,ee(ee({},_),{},{axisType:o,domain:j,categoricalDomain:q,duplicateDomain:O,originalDomain:(x=_.domain)!==null&&x!==void 0?x:V,isCategorical:y,layout:d})))},{})},xke=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.layout,f=e.children,h=by(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),y=h.length,v=r3(d,o),b=-1;return r.reduce(function(x,_){var w=_.type.defaultProps!==void 0?ee(ee({},_.type.defaultProps),_.props):_.props,E=w[s],C=OF("number");if(!x[E]){b++;var S;return v?S=Ng(0,y):a&&a[E]&&a[E].hasStack?(S=l3(a[E].stackGroups,l,u),S=h_(f,S,E,o)):(S=Iw(C,n3(h,r.filter(function(I){var k,T,N=s in I.props?I.props[s]:(k=I.type.defaultProps)===null||k===void 0?void 0:k[s],M="hide"in I.props?I.props.hide:(T=I.type.defaultProps)===null||T===void 0?void 0:T.hide;return N===E&&!M}),"number",d),i.defaultProps.allowDataOverflow),S=h_(f,S,E,o)),ee(ee({},x),{},Te({},E,ee(ee({axisType:o},i.defaultProps),{},{hide:!0,orientation:rr(pke,"".concat(o,".").concat(b%2),null),domain:S,originalDomain:C,isCategorical:v,layout:d})))}return x},{})},bke=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,d=e.children,f="".concat(i,"Id"),h=ir(d,o),y={};return h&&h.length?y=vke(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(y=xke(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),y},wke=function(e){var n=Mo(e),r=Ui(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:sS(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:mg(n,r)}},QR=function(e){var n=e.children,r=e.defaultShowTooltip,i=Xn(n,ou),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},_ke=function(e){return!e||!e.length?!1:e.some(function(n){var r=qi(n&&n.type);return r&&r.indexOf("Bar")>=0})},ZR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Eke=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,d=r.height,f=r.children,h=r.margin||{},y=Xn(f,ou),v=Xn(f,hi),b=Object.keys(l).reduce(function(S,I){var k=l[I],T=k.orientation;return!k.mirror&&!k.hide?ee(ee({},S),{},Te({},T,S[T]+k.width)):S},{left:h.left||0,right:h.right||0}),x=Object.keys(s).reduce(function(S,I){var k=s[I],T=k.orientation;return!k.mirror&&!k.hide?ee(ee({},S),{},Te({},T,rr(S,"".concat(T))+k.height)):S},{top:h.top||0,bottom:h.bottom||0}),_=ee(ee({},x),b),w=_.bottom;y&&(_.bottom+=y.props.height||ou.defaultProps.height),v&&n&&(_=ove(_,i,r,n));var E=u-_.left-_.right,C=d-_.top-_.bottom;return ee(ee({brushBottom:w},_),{},{width:Math.max(E,0),height:Math.max(C,0)})},Ske=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},sh=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,h=function(_,w){var E=w.graphicalItems,C=w.stackGroups,S=w.offset,I=w.updateId,k=w.dataStartIndex,T=w.dataEndIndex,N=_.barSize,M=_.layout,D=_.barGap,j=_.barCategoryGap,O=_.maxBarSize,q=ZR(M),V=q.numericAxisName,L=q.cateAxisName,z=_ke(E),P=[];return E.forEach(function($,G){var H=by(_.data,{graphicalItems:[$],dataStartIndex:k,dataEndIndex:T}),K=$.type.defaultProps!==void 0?ee(ee({},$.type.defaultProps),$.props):$.props,Y=K.dataKey,se=K.maxBarSize,W=K["".concat(V,"Id")],Z=K["".concat(L,"Id")],de={},oe=l.reduce(function(ur,Rr){var cr=w["".concat(Rr.axisType,"Map")],dr=K["".concat(Rr.axisType,"Id")];cr&&cr[dr]||Rr.axisType==="zAxis"||ba();var ws=cr[dr];return ee(ee({},ur),{},Te(Te({},Rr.axisType,ws),"".concat(Rr.axisType,"Ticks"),Ui(ws)))},de),re=oe[L],fe=oe["".concat(L,"Ticks")],ye=C&&C[W]&&C[W].hasStack&&gve($,C[W].stackGroups),te=qi($.type).indexOf("Bar")>=0,$e=mg(re,fe),Oe=[],tt=z&&rve({barSize:N,stackGroups:C,totalSize:Ske(oe,L)});if(te){var Xe,Dt,Hn=Ce(se)?O:se,en=(Xe=(Dt=mg(re,fe,!0))!==null&&Dt!==void 0?Dt:Hn)!==null&&Xe!==void 0?Xe:0;Oe=ive({barGap:D,barCategoryGap:j,bandSize:en!==$e?en:$e,sizeList:tt[Z],maxBarSize:Hn}),en!==$e&&(Oe=Oe.map(function(ur){return ee(ee({},ur),{},{position:ee(ee({},ur.position),{},{offset:ur.position.offset-en/2})})}))}var ni=$&&$.type&&$.type.getComposedData;ni&&P.push({props:ee(ee({},ni(ee(ee({},oe),{},{displayedData:H,props:_,dataKey:Y,item:$,bandSize:$e,barPosition:Oe,offset:S,stackedData:ye,layout:M,dataStartIndex:k,dataEndIndex:T}))),{},Te(Te(Te({key:$.key||"item-".concat(G)},V,oe[V]),L,oe[L]),"animationId",I)),childIndex:iie($,_.children),item:$})}),P},y=function(_,w){var E=_.props,C=_.dataStartIndex,S=_.dataEndIndex,I=_.updateId;if(!dN({props:E}))return null;var k=E.children,T=E.layout,N=E.stackOffset,M=E.data,D=E.reverseStackOrder,j=ZR(T),O=j.numericAxisName,q=j.cateAxisName,V=ir(k,r),L=pve(M,V,"".concat(O,"Id"),"".concat(q,"Id"),N,D),z=l.reduce(function(K,Y){var se="".concat(Y.axisType,"Map");return ee(ee({},K),{},Te({},se,bke(E,ee(ee({},Y),{},{graphicalItems:V,stackGroups:Y.axisType===O&&L,dataStartIndex:C,dataEndIndex:S}))))},{}),P=Eke(ee(ee({},z),{},{props:E,graphicalItems:V}),w==null?void 0:w.legendBBox);Object.keys(z).forEach(function(K){z[K]=d(E,z[K],P,K.replace("Map",""),n)});var $=z["".concat(q,"Map")],G=wke($),H=h(E,ee(ee({},z),{},{dataStartIndex:C,dataEndIndex:S,updateId:I,graphicalItems:V,stackGroups:L,offset:P}));return ee(ee({formattedGraphicalItems:H,graphicalItems:V,offset:P,stackGroups:L},G),z)},v=function(x){function _(w){var E,C,S;return rke(this,_),S=ske(this,_,[w]),Te(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Te(S,"accessibilityManager",new zAe),Te(S,"handleLegendBBoxUpdate",function(I){if(I){var k=S.state,T=k.dataStartIndex,N=k.dataEndIndex,M=k.updateId;S.setState(ee({legendBBox:I},y({props:S.props,dataStartIndex:T,dataEndIndex:N,updateId:M},ee(ee({},S.state),{},{legendBBox:I}))))}}),Te(S,"handleReceiveSyncEvent",function(I,k,T){if(S.props.syncId===I){if(T===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(k)}}),Te(S,"handleBrushChange",function(I){var k=I.startIndex,T=I.endIndex;if(k!==S.state.dataStartIndex||T!==S.state.dataEndIndex){var N=S.state.updateId;S.setState(function(){return ee({dataStartIndex:k,dataEndIndex:T},y({props:S.props,dataStartIndex:k,dataEndIndex:T,updateId:N},S.state))}),S.triggerSyncEvent({dataStartIndex:k,dataEndIndex:T})}}),Te(S,"handleMouseEnter",function(I){var k=S.getMouseInfo(I);if(k){var T=ee(ee({},k),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var N=S.props.onMouseEnter;Se(N)&&N(T,I)}}),Te(S,"triggeredAfterMouseMove",function(I){var k=S.getMouseInfo(I),T=k?ee(ee({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(T),S.triggerSyncEvent(T);var N=S.props.onMouseMove;Se(N)&&N(T,I)}),Te(S,"handleItemMouseEnter",function(I){S.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),Te(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Te(S,"handleMouseMove",function(I){I.persist(),S.throttleTriggeredAfterMouseMove(I)}),Te(S,"handleMouseLeave",function(I){S.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};S.setState(k),S.triggerSyncEvent(k);var T=S.props.onMouseLeave;Se(T)&&T(k,I)}),Te(S,"handleOuterEvent",function(I){var k=rie(I),T=rr(S.props,"".concat(k));if(k&&Se(T)){var N,M;/.*touch.*/i.test(k)?M=S.getMouseInfo(I.changedTouches[0]):M=S.getMouseInfo(I),T((N=M)!==null&&N!==void 0?N:{},I)}}),Te(S,"handleClick",function(I){var k=S.getMouseInfo(I);if(k){var T=ee(ee({},k),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var N=S.props.onClick;Se(N)&&N(T,I)}}),Te(S,"handleMouseDown",function(I){var k=S.props.onMouseDown;if(Se(k)){var T=S.getMouseInfo(I);k(T,I)}}),Te(S,"handleMouseUp",function(I){var k=S.props.onMouseUp;if(Se(k)){var T=S.getMouseInfo(I);k(T,I)}}),Te(S,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),Te(S,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&S.handleMouseDown(I.changedTouches[0])}),Te(S,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&S.handleMouseUp(I.changedTouches[0])}),Te(S,"handleDoubleClick",function(I){var k=S.props.onDoubleClick;if(Se(k)){var T=S.getMouseInfo(I);k(T,I)}}),Te(S,"handleContextMenu",function(I){var k=S.props.onContextMenu;if(Se(k)){var T=S.getMouseInfo(I);k(T,I)}}),Te(S,"triggerSyncEvent",function(I){S.props.syncId!==void 0&&Jv.emit(Xv,S.props.syncId,I,S.eventEmitterSymbol)}),Te(S,"applySyncEvent",function(I){var k=S.props,T=k.layout,N=k.syncMethod,M=S.state.updateId,D=I.dataStartIndex,j=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)S.setState(ee({dataStartIndex:D,dataEndIndex:j},y({props:S.props,dataStartIndex:D,dataEndIndex:j,updateId:M},S.state)));else if(I.activeTooltipIndex!==void 0){var O=I.chartX,q=I.chartY,V=I.activeTooltipIndex,L=S.state,z=L.offset,P=L.tooltipTicks;if(!z)return;if(typeof N=="function")V=N(P,I);else if(N==="value"){V=-1;for(var $=0;$<P.length;$++)if(P[$].value===I.activeLabel){V=$;break}}var G=ee(ee({},z),{},{x:z.left,y:z.top}),H=Math.min(O,G.x+G.width),K=Math.min(q,G.y+G.height),Y=P[V]&&P[V].value,se=g_(S.state,S.props.data,V),W=P[V]?{x:T==="horizontal"?P[V].coordinate:H,y:T==="horizontal"?K:P[V].coordinate}:RF;S.setState(ee(ee({},I),{},{activeLabel:Y,activeCoordinate:W,activePayload:se,activeTooltipIndex:V}))}else S.setState(I)}),Te(S,"renderCursor",function(I){var k,T=S.state,N=T.isTooltipActive,M=T.activeCoordinate,D=T.activePayload,j=T.offset,O=T.activeTooltipIndex,q=T.tooltipAxisBandSize,V=S.getTooltipEventType(),L=(k=I.props.active)!==null&&k!==void 0?k:N,z=S.props.layout,P=I.key||"_recharts-cursor";return B.createElement(JAe,{key:P,activeCoordinate:M,activePayload:D,activeTooltipIndex:O,chartName:n,element:I,isActive:L,layout:z,offset:j,tooltipAxisBandSize:q,tooltipEventType:V})}),Te(S,"renderPolarAxis",function(I,k,T){var N=rr(I,"type.axisType"),M=rr(S.state,"".concat(N,"Map")),D=I.type.defaultProps,j=D!==void 0?ee(ee({},D),I.props):I.props,O=M&&M[j["".concat(N,"Id")]];return U.cloneElement(I,ee(ee({},O),{},{className:Ne(N,O.className),key:I.key||"".concat(k,"-").concat(T),ticks:Ui(O,!0)}))}),Te(S,"renderPolarGrid",function(I){var k=I.props,T=k.radialLines,N=k.polarAngles,M=k.polarRadius,D=S.state,j=D.radiusAxisMap,O=D.angleAxisMap,q=Mo(j),V=Mo(O),L=V.cx,z=V.cy,P=V.innerRadius,$=V.outerRadius;return U.cloneElement(I,{polarAngles:Array.isArray(N)?N:Ui(V,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(M)?M:Ui(q,!0).map(function(G){return G.coordinate}),cx:L,cy:z,innerRadius:P,outerRadius:$,key:I.key||"polar-grid",radialLines:T})}),Te(S,"renderLegend",function(){var I=S.state.formattedGraphicalItems,k=S.props,T=k.children,N=k.width,M=k.height,D=S.props.margin||{},j=N-(D.left||0)-(D.right||0),O=e3({children:T,formattedGraphicalItems:I,legendWidth:j,legendContent:u});if(!O)return null;var q=O.item,V=YR(O,XAe);return U.cloneElement(q,ee(ee({},V),{},{chartWidth:N,chartHeight:M,margin:D,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Te(S,"renderTooltip",function(){var I,k=S.props,T=k.children,N=k.accessibilityLayer,M=Xn(T,sn);if(!M)return null;var D=S.state,j=D.isTooltipActive,O=D.activeCoordinate,q=D.activePayload,V=D.activeLabel,L=D.offset,z=(I=M.props.active)!==null&&I!==void 0?I:j;return U.cloneElement(M,{viewBox:ee(ee({},L),{},{x:L.left,y:L.top}),active:z,label:V,payload:z?q:[],coordinate:O,accessibilityLayer:N})}),Te(S,"renderBrush",function(I){var k=S.props,T=k.margin,N=k.data,M=S.state,D=M.offset,j=M.dataStartIndex,O=M.dataEndIndex,q=M.updateId;return U.cloneElement(I,{key:I.key||"_recharts-brush",onChange:op(S.handleBrushChange,I.props.onChange),data:N,x:le(I.props.x)?I.props.x:D.left,y:le(I.props.y)?I.props.y:D.top+D.height+D.brushBottom-(T.bottom||0),width:le(I.props.width)?I.props.width:D.width,startIndex:j,endIndex:O,updateId:"brush-".concat(q)})}),Te(S,"renderReferenceElement",function(I,k,T){if(!I)return null;var N=S,M=N.clipPathId,D=S.state,j=D.xAxisMap,O=D.yAxisMap,q=D.offset,V=I.type.defaultProps||{},L=I.props,z=L.xAxisId,P=z===void 0?V.xAxisId:z,$=L.yAxisId,G=$===void 0?V.yAxisId:$;return U.cloneElement(I,{key:I.key||"".concat(k,"-").concat(T),xAxis:j[P],yAxis:O[G],viewBox:{x:q.left,y:q.top,width:q.width,height:q.height},clipPathId:M})}),Te(S,"renderActivePoints",function(I){var k=I.item,T=I.activePoint,N=I.basePoint,M=I.childIndex,D=I.isRange,j=[],O=k.props.key,q=k.item.type.defaultProps!==void 0?ee(ee({},k.item.type.defaultProps),k.item.props):k.item.props,V=q.activeDot,L=q.dataKey,z=ee(ee({index:M,dataKey:L,cx:T.x,cy:T.y,r:4,fill:RS(k.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},be(V,!1)),Vm(V));return j.push(_.renderActiveDot(V,z,"".concat(O,"-activePoint-").concat(M))),N?j.push(_.renderActiveDot(V,ee(ee({},z),{},{cx:N.x,cy:N.y}),"".concat(O,"-basePoint-").concat(M))):D&&j.push(null),j}),Te(S,"renderGraphicChild",function(I,k,T){var N=S.filterFormatItem(I,k,T);if(!N)return null;var M=S.getTooltipEventType(),D=S.state,j=D.isTooltipActive,O=D.tooltipAxis,q=D.activeTooltipIndex,V=D.activeLabel,L=S.props.children,z=Xn(L,sn),P=N.props,$=P.points,G=P.isRange,H=P.baseLine,K=N.item.type.defaultProps!==void 0?ee(ee({},N.item.type.defaultProps),N.item.props):N.item.props,Y=K.activeDot,se=K.hide,W=K.activeBar,Z=K.activeShape,de=!!(!se&&j&&z&&(Y||W||Z)),oe={};M!=="axis"&&z&&z.props.trigger==="click"?oe={onClick:op(S.handleItemMouseEnter,I.props.onClick)}:M!=="axis"&&(oe={onMouseLeave:op(S.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:op(S.handleItemMouseEnter,I.props.onMouseEnter)});var re=U.cloneElement(I,ee(ee({},N.props),oe));function fe(Rr){return typeof O.dataKey=="function"?O.dataKey(Rr.payload):null}if(de)if(q>=0){var ye,te;if(O.dataKey&&!O.allowDuplicatedCategory){var $e=typeof O.dataKey=="function"?fe:"payload.".concat(O.dataKey.toString());ye=Fm($,$e,V),te=G&&H&&Fm(H,$e,V)}else ye=$==null?void 0:$[q],te=G&&H&&H[q];if(Z||W){var Oe=I.props.activeIndex!==void 0?I.props.activeIndex:q;return[U.cloneElement(I,ee(ee(ee({},N.props),oe),{},{activeIndex:Oe})),null,null]}if(!Ce(ye))return[re].concat(yu(S.renderActivePoints({item:N,activePoint:ye,basePoint:te,childIndex:q,isRange:G})))}else{var tt,Xe=(tt=S.getItemByXY(S.state.activeCoordinate))!==null&&tt!==void 0?tt:{graphicalItem:re},Dt=Xe.graphicalItem,Hn=Dt.item,en=Hn===void 0?I:Hn,ni=Dt.childIndex,ur=ee(ee(ee({},N.props),oe),{},{activeIndex:ni});return[U.cloneElement(en,ur),null,null]}return G?[re,null,null]:[re,null]}),Te(S,"renderCustomized",function(I,k,T){return U.cloneElement(I,ee(ee({key:"recharts-customized-".concat(T)},S.props),S.state))}),Te(S,"renderMap",{CartesianGrid:{handler:cp,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:cp},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:cp},YAxis:{handler:cp},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((E=w.id)!==null&&E!==void 0?E:Ca("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=e5(S.triggeredAfterMouseMove,(C=w.throttleDelay)!==null&&C!==void 0?C:1e3/60),S.state={},S}return uke(_,x),oke(_,[{key:"componentDidMount",value:function(){var E,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,C=E.children,S=E.data,I=E.height,k=E.layout,T=Xn(C,sn);if(T){var N=T.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,D=g_(this.state,S,N,M),j=this.state.tooltipTicks[N].coordinate,O=(this.state.offset.top+I)/2,q=k==="horizontal",V=q?{x:j,y:O}:{y:j,x:O},L=this.state.formattedGraphicalItems.find(function(P){var $=P.item;return $.type.name==="Scatter"});L&&(V=ee(ee({},V),L.props.points[N].tooltipPosition),D=L.props.points[N].tooltipPayload);var z={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:M,activePayload:D,activeCoordinate:V};this.setState(z),this.renderCursor(T),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var S,I;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(E){zb([Xn(E.children,sn)],[Xn(this.props.children,sn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=Xn(this.props.children,sn);if(E&&typeof E.props.shared=="boolean"){var C=E.props.shared?"axis":"item";return a.indexOf(C)>=0?C:o}return o}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var C=this.container,S=C.getBoundingClientRect(),I=Npe(S),k={chartX:Math.round(E.pageX-I.left),chartY:Math.round(E.pageY-I.top)},T=S.width/C.offsetWidth||1,N=this.inRange(k.chartX,k.chartY,T);if(!N)return null;var M=this.state,D=M.xAxisMap,j=M.yAxisMap,O=this.getTooltipEventType(),q=XR(this.state,this.props.data,this.props.layout,N);if(O!=="axis"&&D&&j){var V=Mo(D).scale,L=Mo(j).scale,z=V&&V.invert?V.invert(k.chartX):null,P=L&&L.invert?L.invert(k.chartY):null;return ee(ee({},k),{},{xValue:z,yValue:P},q)}return q?ee(ee({},k),q):null}},{key:"inRange",value:function(E,C){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,k=E/S,T=C/S;if(I==="horizontal"||I==="vertical"){var N=this.state.offset,M=k>=N.left&&k<=N.left+N.width&&T>=N.top&&T<=N.top+N.height;return M?{x:k,y:T}:null}var D=this.state,j=D.angleAxisMap,O=D.radiusAxisMap;if(j&&O){var q=Mo(j);return b2({x:k,y:T},q)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,C=this.getTooltipEventType(),S=Xn(E,sn),I={};S&&C==="axis"&&(S.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Vm(this.props,this.handleOuterEvent);return ee(ee({},k),I)}},{key:"addListener",value:function(){Jv.on(Xv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Jv.removeListener(Xv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,C,S){for(var I=this.state.formattedGraphicalItems,k=0,T=I.length;k<T;k++){var N=I[k];if(N.item===E||N.props.key===E.key||C===qi(N.item.type)&&S===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,C=this.state.offset,S=C.left,I=C.top,k=C.height,T=C.width;return B.createElement("defs",null,B.createElement("clipPath",{id:E},B.createElement("rect",{x:S,y:I,height:k,width:T})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(C,S){var I=KR(S,2),k=I[0],T=I[1];return ee(ee({},C),{},Te({},k,T.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(C,S){var I=KR(S,2),k=I[0],T=I[1];return ee(ee({},C),{},Te({},k,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[E])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(E){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[E])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(E){var C=this.state,S=C.formattedGraphicalItems,I=C.activeItem;if(S&&S.length)for(var k=0,T=S.length;k<T;k++){var N=S[k],M=N.props,D=N.item,j=D.type.defaultProps!==void 0?ee(ee({},D.type.defaultProps),D.props):D.props,O=qi(D.type);if(O==="Bar"){var q=(M.data||[]).find(function(P){return pwe(E,P)});if(q)return{graphicalItem:N,payload:q}}else if(O==="RadialBar"){var V=(M.data||[]).find(function(P){return b2(E,P)});if(V)return{graphicalItem:N,payload:V}}else if(hy(N,I)||py(N,I)||bf(N,I)){var L=f1e({graphicalItem:N,activeTooltipItem:I,itemData:j.data}),z=j.activeIndex===void 0?L:j.activeIndex;return{graphicalItem:ee(ee({},N),{},{childIndex:z}),payload:bf(N,I)?j.data[L]:N.props.data[L]}}}return null}},{key:"render",value:function(){var E=this;if(!dN(this))return null;var C=this.props,S=C.children,I=C.className,k=C.width,T=C.height,N=C.style,M=C.compact,D=C.title,j=C.desc,O=YR(C,QAe),q=be(O,!1);if(M)return B.createElement(IR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement(qb,fl({},q,{width:k,height:T,title:D,desc:j}),this.renderClipPath(),hN(S,this.renderMap)));if(this.props.accessibilityLayer){var V,L;q.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,q.role=(L=this.props.role)!==null&&L!==void 0?L:"application",q.onKeyDown=function(P){E.accessibilityManager.keyboardEvent(P)},q.onFocus=function(){E.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return B.createElement(IR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement("div",fl({className:Ne("recharts-wrapper",I),style:ee({position:"relative",cursor:"default",width:k,height:T},N)},z,{ref:function($){E.container=$}}),B.createElement(qb,fl({},q,{width:k,height:T,title:D,desc:j,style:mke}),this.renderClipPath(),hN(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(U.Component);Te(v,"displayName",n),Te(v,"defaultProps",ee({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Te(v,"getDerivedStateFromProps",function(x,_){var w=x.dataKey,E=x.data,C=x.children,S=x.width,I=x.height,k=x.layout,T=x.stackOffset,N=x.margin,M=_.dataStartIndex,D=_.dataEndIndex;if(_.updateId===void 0){var j=QR(x);return ee(ee(ee({},j),{},{updateId:0},y(ee(ee({props:x},j),{},{updateId:0}),_)),{},{prevDataKey:w,prevData:E,prevWidth:S,prevHeight:I,prevLayout:k,prevStackOffset:T,prevMargin:N,prevChildren:C})}if(w!==_.prevDataKey||E!==_.prevData||S!==_.prevWidth||I!==_.prevHeight||k!==_.prevLayout||T!==_.prevStackOffset||!Tl(N,_.prevMargin)){var O=QR(x),q={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},V=ee(ee({},XR(_,E,k)),{},{updateId:_.updateId+1}),L=ee(ee(ee({},O),q),V);return ee(ee(ee({},L),y(ee({props:x},L),_)),{},{prevDataKey:w,prevData:E,prevWidth:S,prevHeight:I,prevLayout:k,prevStackOffset:T,prevMargin:N,prevChildren:C})}if(!zb(C,_.prevChildren)){var z,P,$,G,H=Xn(C,ou),K=H&&(z=(P=H.props)===null||P===void 0?void 0:P.startIndex)!==null&&z!==void 0?z:M,Y=H&&($=(G=H.props)===null||G===void 0?void 0:G.endIndex)!==null&&$!==void 0?$:D,se=K!==M||Y!==D,W=!Ce(E),Z=W&&!se?_.updateId:_.updateId+1;return ee(ee({updateId:Z},y(ee(ee({props:x},_),{},{updateId:Z,dataStartIndex:K,dataEndIndex:Y}),_)),{},{prevChildren:C,dataStartIndex:K,dataEndIndex:Y})}return null}),Te(v,"renderActiveDot",function(x,_,w){var E;return U.isValidElement(x)?E=U.cloneElement(x,_):Se(x)?E=x(_):E=B.createElement(qu,_),B.createElement(De,{className:"recharts-active-dot",key:w},E)});var b=U.forwardRef(function(_,w){return B.createElement(v,fl({},_,{ref:w}))});return b.displayName=v.displayName,b},Tke=sh({chartName:"LineChart",GraphicalChild:oh,axisComponents:[{axisType:"xAxis",AxisComp:xi},{axisType:"yAxis",AxisComp:bi}],formatAxisMap:MS}),zS=sh({chartName:"BarChart",GraphicalChild:vi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:xi},{axisType:"yAxis",AxisComp:bi}],formatAxisMap:MS}),MF=sh({chartName:"PieChart",GraphicalChild:Si,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Wu},{axisType:"radiusAxis",AxisComp:Hu}],formatAxisMap:f3,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Ake=sh({chartName:"RadarChart",GraphicalChild:ru,axisComponents:[{axisType:"angleAxis",AxisComp:Wu},{axisType:"radiusAxis",AxisComp:Hu}],formatAxisMap:f3,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),kke=sh({chartName:"AreaChart",GraphicalChild:bs,axisComponents:[{axisType:"xAxis",AxisComp:xi},{axisType:"yAxis",AxisComp:bi}],formatAxisMap:MS});const eO=[{id:"first_invest",name:"Investidor Iniciante",description:"Realizou o primeiro investimento.",icon:"",condition:t=>t.investments.length>0,getProgress:t=>t.investments.length>0?100:0},{id:"controlled",name:"No Controle",description:"Tem mais receitas que despesas no ms.",icon:"",condition:t=>{const e=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="expense").reduce((r,i)=>r+i.amount,0);return e>n&&e>0},getProgress:t=>{const e=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="expense").reduce((r,i)=>r+i.amount,0);return e===0?0:e>n?100:Math.min(99,e/n*100)}},{id:"saver",name:"Poupador",description:"Acumulou mais de R$ 5.000 em investimentos.",icon:"",condition:t=>t.investments.reduce((e,n)=>e+n.amount,0)>=5e3,getProgress:t=>Math.min(100,t.investments.reduce((e,n)=>e+n.amount,0)/5e3*100)},{id:"diversified",name:"Mente Diversificada",description:"Investiu em 3 ou mais categorias diferentes.",icon:"",condition:t=>new Set(t.investments.map(n=>n.type)).size>=3,getProgress:t=>{const e=new Set(t.investments.map(n=>n.type));return Math.min(100,e.size/3*100)}},{id:"debt_free",name:"Zero Pendncias",description:"No possui nenhuma conta pendente.",icon:"",condition:t=>{const e=t.transactions.some(r=>r.type==="expense"),n=t.transactions.filter(r=>r.type==="expense"&&r.status==="pending");return e&&n.length===0},getProgress:t=>{const e=t.transactions.filter(r=>r.type==="expense");if(e.length===0)return 0;const n=e.filter(r=>r.status==="paid").length;return Math.min(100,n/e.length*100)}},{id:"goal_hitter",name:"Na Mosca",description:"Atingiu 100% da meta de um investimento.",icon:"",condition:t=>t.investments.some(e=>e.targetAmount>0&&e.amount>=e.targetAmount),getProgress:t=>{const e=t.investments.map(n=>n.targetAmount>0?n.amount/n.targetAmount*100:0);return Math.min(100,Math.max(0,...e))}},{id:"club_10k",name:"Clube dos 10k",description:"Patrimnio total superou R$ 10.000.",icon:"",condition:t=>{const e=t.investments.reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0)-t.transactions.filter(r=>r.type==="expense"&&r.status==="paid").reduce((r,i)=>r+i.amount,0);return e+n>=1e4},getProgress:t=>{const e=t.investments.reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0)-t.transactions.filter(r=>r.type==="expense"&&r.status==="paid").reduce((r,i)=>r+i.amount,0);return Math.min(100,(e+n)/1e4*100)}}],Ike=(t,e,n)=>{const r=n.toISOString().slice(0,7),i=t.find(o=>o.category===e&&o.month===r);return i||t.find(o=>o.category===e&&o.isRecurring)},tO=({data:t,privacyMode:e,onUnlockBadge:n,onNavigate:r})=>{const[i,o]=U.useState(()=>{const P=new Date;P.setMonth(P.getMonth()-5);const $=String(P.getMonth()+1).padStart(2,"0");return`${P.getFullYear()}-${$}`}),[s,a]=U.useState("flow"),l=U.useMemo(()=>{const P=new Date().getHours();return P<12?"Bom dia":P<18?"Boa tarde":"Boa noite"},[]);U.useEffect(()=>{eO.forEach(P=>{!t.unlockedBadges.includes(P.id)&&P.condition(t)&&n(P.id)})},[t,n]);const u=U.useMemo(()=>{const P=[],$=new Date,G=$.getMonth(),H=$.getFullYear(),K=Array.from(new Set(t.budgets.map(Y=>Y.category)));return $.getDate()<=25&&K.forEach(Y=>{const se=Ike(t.budgets,Y,$);if(!se)return;const W=t.transactions.filter(Z=>Z.type==="expense"&&Z.category===Y&&new Date(Z.date).getMonth()===G&&new Date(Z.date).getFullYear()===H).reduce((Z,de)=>Z+de.amount,0);W>=se.limit*.8&&W<se.limit?P.push({title:`Ateno: ${Y}`,message:`Voc j usou ${(W/se.limit*100).toFixed(0)}% do oramento e ainda  dia ${$.getDate()}. Cuidado!`,type:"warning"}):W>=se.limit&&P.push({title:`Limite Excedido: ${Y}`,message:"Voc estourou o teto definido para esta categoria.",type:"warning"})}),P},[t.budgets,t.transactions]),d=U.useMemo(()=>t.notes.sort((P,$)=>P.isPinned!==$.isPinned?P.isPinned?-1:1:new Date($.date).getTime()-new Date(P.date).getTime()).slice(0,3),[t.notes]),f=P=>e?"":`R$ ${P.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,h=t.transactions.filter(P=>P.type==="income").reduce((P,$)=>P+$.amount,0),y=t.transactions.filter(P=>P.type==="expense").reduce((P,$)=>P+$.amount,0),v=t.transactions.filter(P=>P.type==="expense"&&P.status==="pending").reduce((P,$)=>P+$.amount,0),b=t.transactions.filter(P=>P.status==="paid").reduce((P,$)=>P+($.type==="income"?$.amount:-$.amount),0),x=t.transactions.length===0?0:t.transactions.length<300?b:t.walletBalance!==void 0?t.walletBalance:b,_=t.transactions.filter(P=>P.status==="pending"&&P.type==="income").reduce((P,$)=>P+$.amount,0),w=y-v,E=t.investments.reduce((P,$)=>P+$.amount,0),C=U.useMemo(()=>t.transactions.filter($=>$.type==="expense"&&$.status==="pending").sort(($,G)=>new Date($.date).getTime()-new Date(G.date).getTime()).slice(0,3),[t.transactions]),S=U.useMemo(()=>[...t.investments].sort((P,$)=>$.amount-P.amount).slice(0,3),[t.investments]),I=U.useMemo(()=>{const P=y>0?y:h*.5||1e3;return x/P},[x,y,h]),{healthScore:k,scoreLabel:T,scoreColor:N,factors:M}=U.useMemo(()=>{let P=0;const $=[],G=re=>{const fe=new Date(re);return(new Date().getTime()-fe.getTime())/(1e3*60*60*24*365.25)>=5},H=t.debts.filter(re=>(re.status==="open"||re.status==="negotiating")&&!G(re.dueDate)),K=H.length>0;K?(P+=200,$.push({text:`Negativado: ${H.length} dvidas`,type:"bad"})):(P+=350,$.push({text:"Nome Limpo",type:"good"}));const Y=y>0?y:1e3,se=E/Y;se>=6?(P+=200,$.push({text:"Reserva Robusta",type:"good"})):se>=1?(P+=100,$.push({text:"Reserva Iniciada",type:"neutral"})):$.push({text:"Sem Reserva",type:"bad"});const W=h-y,Z=h>0?W/h:0;Z>=.2?(P+=150,$.push({text:"Poupador (20%+)",type:"good"})):Z<0&&(P-=50,$.push({text:"Dficit Mensal",type:"bad"})),x>=v?P+=150:(P-=100,$.push({text:"Risco de Calote",type:"bad"})),K&&(P=Math.min(P,550)),P=Math.max(0,Math.min(1e3,Math.round(P)));let de="",oe="";return P>=850?(de="Elite",oe="text-emerald-500"):P>=700?(de="Excelente",oe="text-emerald-600"):P>=500?(de="Regular",oe="text-amber-500"):P>=300?(de="Ruim",oe="text-orange-500"):(de="Crtico",oe="text-rose-600"),{healthScore:P,scoreLabel:de,scoreColor:oe,factors:$}},[t.debts,h,y,v,x,E]),D=U.useMemo(()=>{const P=new Map,[$,G]=i.split("-").map(Number),H=new Date($,G-1,1),K=new Date;for(;H<=K||H.getMonth()===K.getMonth()&&H.getFullYear()===K.getFullYear();){const Y=H.getFullYear(),se=String(H.getMonth()+1).padStart(2,"0");P.set(`${Y}-${se}`,0),H.setMonth(H.getMonth()+1)}return t.transactions.forEach(Y=>{if(Y.type==="expense"){const se=Y.date.slice(0,7);P.has(se)&&P.set(se,(P.get(se)||0)+Y.amount)}}),Array.from(P.entries()).map(([Y,se])=>{const[W,Z]=Y.split("-").map(Number);return{name:new Date(W,Z-1,1).toLocaleDateString("pt-BR",{month:"short",year:"2-digit"}),amount:se,fullDate:Y}})},[t.transactions,i]),j=U.useMemo(()=>{const P=new Map;for(let $=5;$>=0;$--){const G=new Date;G.setMonth(G.getMonth()-$),P.set(G.toISOString().slice(0,7),{income:0,expense:0})}return t.transactions.forEach($=>{const G=$.date.slice(0,7);if(P.has(G)){const H=P.get(G);$.type==="income"?H.income+=$.amount:H.expense+=$.amount}}),Array.from(P.entries()).map(([$,G])=>{const[H,K]=$.split("-");return{name:new Date(parseInt(H),parseInt(K)-1,2).toLocaleDateString("pt-BR",{month:"short"}),Receitas:G.income,Despesas:G.expense}})},[t.transactions]),O=[{name:"Saldo Livre",value:Math.max(0,x),color:"#10b981"},{name:"Contas Pendentes",value:v,color:"#ef4444"},{name:"Investido",value:E,color:"#3b82f6"}].filter(P=>P.value>0),q=()=>{const P=`data:text/csv;charset=utf-8,Data,Descricao,Categoria,Tipo,Valor,Status
`+t.transactions.map(H=>`${H.date},${H.description},${H.category},${H.type},${H.amount},${H.status}`).join(`
`),$=encodeURI(P),G=document.createElement("a");G.setAttribute("href",$),G.setAttribute("download","finansmart_relatorio.csv"),document.body.appendChild(G),G.click(),document.body.removeChild(G)},V=c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 h-full",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[c.jsx(kd,{className:"w-5 h-5 text-indigo-500"}),c.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Fluxo de Caixa (6 Meses)"})]}),c.jsx("div",{className:"h-[300px] w-full",children:c.jsx(Zo,{width:"100%",height:"100%",children:c.jsxs(zS,{data:j,margin:{top:10,right:10,bottom:20,left:0},children:[c.jsx(du,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0",opacity:.5}),c.jsx(xi,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},dy:10}),c.jsx(bi,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},tickFormatter:P=>`R$${P>=1e3?(P/1e3).toFixed(0)+"k":P}`,width:60}),c.jsx(sn,{cursor:{fill:"transparent"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:P=>[e?"":`R$ ${P.toLocaleString("pt-BR")}`,""]}),c.jsx(hi,{iconType:"circle"}),c.jsx(vi,{dataKey:"Receitas",fill:"#10b981",radius:[4,4,0,0]}),c.jsx(vi,{dataKey:"Despesas",fill:"#f43f5e",radius:[4,4,0,0]})]})})})]}),L=c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 h-full",children:[c.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[c.jsx(Tp,{className:"w-5 h-5 text-indigo-500"}),"Distribuio de Patrimnio"]}),c.jsx("div",{className:"h-[300px]",children:c.jsx(Zo,{width:"100%",height:"100%",children:c.jsxs(MF,{children:[c.jsx(Si,{data:O,cx:"50%",cy:"50%",innerRadius:80,outerRadius:110,paddingAngle:5,dataKey:"value",children:O.map((P,$)=>c.jsx(Na,{fill:P.color},`cell-${$}`))}),c.jsx(sn,{formatter:P=>e?"":`R$ ${P.toLocaleString("pt-BR")}`}),c.jsx(hi,{verticalAlign:"bottom",height:36})]})})})]}),z=c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(mm,{className:"w-5 h-5 text-rose-500"}),"Tendncia de Despesas"]}),c.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 dark:bg-slate-700/50 p-2 rounded-lg border border-slate-100 dark:border-slate-700",children:[c.jsx(Xi,{className:"w-4 h-4 text-slate-400"}),c.jsx("span",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase",children:"Incio:"}),c.jsx("input",{type:"month",value:i,onChange:P=>o(P.target.value),className:"bg-transparent text-sm text-slate-700 dark:text-slate-200 focus:outline-none font-medium"})]})]}),c.jsx("div",{className:"h-[200px] w-full",children:c.jsx(Zo,{width:"100%",height:"100%",children:c.jsxs(Tke,{data:D,margin:{top:10,right:10,bottom:25,left:10},children:[c.jsx(du,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0",opacity:.5}),c.jsx(xi,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},dy:10,padding:{left:10,right:10}}),c.jsx(bi,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},tickFormatter:P=>`R$${P>=1e3?(P/1e3).toFixed(0)+"k":P}`,width:60}),c.jsx(sn,{cursor:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"5 5"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:P=>[e?"":`R$ ${P.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,"Despesas"],labelStyle:{color:"#64748b",marginBottom:"0.25rem"}}),c.jsx(oh,{type:"monotone",dataKey:"amount",stroke:"#f43f5e",strokeWidth:3,dot:{r:4,fill:"#f43f5e",strokeWidth:2,stroke:"#fff"},activeDot:{r:6,stroke:"#f43f5e",strokeWidth:2,fill:"#fff"},isAnimationActive:!1})]})})})]});return c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.length>0&&c.jsx("div",{className:"space-y-2",children:u.map((P,$)=>c.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-4 rounded-xl flex items-start gap-3 animate-fade-in-down",children:[c.jsx("div",{className:"bg-amber-100 dark:bg-amber-800 p-2 rounded-full flex-shrink-0",children:c.jsx(f1,{className:"w-5 h-5 text-amber-600 dark:text-amber-300"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-amber-800 dark:text-amber-300 text-sm",children:P.title}),c.jsx("p",{className:"text-amber-700 dark:text-amber-400 text-xs mt-0.5",children:P.message})]})]},$))}),c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-2",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 w-full md:flex-1 min-w-0",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white whitespace-nowrap",children:[l,"!"]}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Viso geral das suas finanas."})]}),c.jsx("div",{className:"flex-1 flex items-center gap-2 px-4 py-2 sm:border-l sm:border-slate-300 dark:sm:border-slate-600 overflow-x-auto no-scrollbar mask-gradient w-full",children:eO.map(P=>{const $=t.unlockedBadges.includes(P.id),G=P.getProgress(t);return c.jsxs("div",{className:"group relative flex-shrink-0 cursor-help",children:[c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:`text-xl md:text-2xl transition-all duration-300 block ${$?"filter-none opacity-100 scale-100":"grayscale opacity-30 scale-90"}`,children:P.icon}),!$&&G>0&&c.jsx("div",{className:"absolute -bottom-1 left-0 w-full h-1 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${G}%`}})})]}),c.jsxs("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-3 w-max max-w-[180px] hidden group-hover:block z-50 pointer-events-none animate-fade-in",children:[c.jsxs("div",{className:"bg-slate-800 text-white text-xs px-3 py-2 rounded-lg shadow-xl text-center border border-slate-700",children:[c.jsx("p",{className:"font-bold mb-0.5",children:P.name}),c.jsx("p",{className:"opacity-80 mb-2",children:P.description}),c.jsx("div",{className:"flex items-center justify-between text-[10px] uppercase font-semibold",children:c.jsx("span",{className:$?"text-emerald-400":"text-slate-400",children:$?"Desbloqueado":`${G.toFixed(0)}% Concludo`})}),!$&&c.jsx("div",{className:"w-full h-1.5 bg-slate-700 rounded-full mt-1 overflow-hidden",children:c.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-500",style:{width:`${G}%`}})})]}),c.jsx("div",{className:"w-2 h-2 bg-slate-800 rotate-45 absolute -top-1 left-1/2 -translate-x-1/2 border-t border-l border-slate-700"})]})]},P.id)})})]}),c.jsxs("button",{onClick:q,className:"flex items-center gap-2 text-sm font-medium text-slate-500 hover:text-indigo-600 dark:text-slate-400 dark:hover:text-indigo-400 transition-colors self-end md:self-auto flex-shrink-0",children:[c.jsx(p1,{className:"w-4 h-4"})," Exportar CSV"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 relative overflow-hidden group flex flex-col justify-between hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:c.jsx(xB,{className:"w-20 h-20 text-slate-400"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Score Financeiro"}),c.jsx($6,{className:`w-4 h-4 ${N}`})]}),c.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[c.jsx("span",{className:`text-3xl font-black ${N} tracking-tighter`,children:k}),c.jsx("span",{className:"text-[10px] text-slate-400 font-medium",children:"/ 1000"})]}),c.jsx("p",{className:`text-xs font-bold uppercase tracking-wide ${N}`,children:T})]}),c.jsx("div",{className:"mt-3 pt-3 border-t border-slate-100 dark:border-slate-700/50 space-y-1",children:M.slice(0,2).map((P,$)=>c.jsxs("div",{className:"flex items-center gap-1.5 text-[10px]",children:[P.type==="good"&&c.jsx(Jx,{className:"w-3 h-3 text-emerald-500"}),P.type==="bad"&&c.jsx(Cd,{className:"w-3 h-3 text-rose-500"}),P.type==="neutral"&&c.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300"}),c.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate",children:P.text})]},$))})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between hover:shadow-md transition-shadow",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Saldo em Caixa"}),c.jsx(b1,{className:"w-4 h-4 text-emerald-500"})]}),c.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white truncate",children:f(x)}),_>0&&c.jsxs("div",{className:"flex items-center gap-1 mt-1 bg-emerald-50 dark:bg-emerald-900/20 px-2 py-1 rounded w-fit border border-emerald-100 dark:border-emerald-800/30",children:[c.jsx(cm,{className:"w-3 h-3 text-emerald-500"}),c.jsxs("span",{className:"text-xs font-bold text-emerald-600 dark:text-emerald-400",children:["+",f(_)]}),c.jsx("span",{className:"text-[10px] text-emerald-600/70 dark:text-emerald-400/70 uppercase font-medium",children:"A Receber"})]})]}),c.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-medium uppercase",children:"Sobrevivncia"}),c.jsx("span",{className:`text-xs font-bold ${I<1?"text-rose-500":I<3?"text-amber-500":"text-emerald-500"}`,children:I<.1?"Crtico":`${I.toFixed(1)} Meses`})]}),c.jsx("div",{className:"w-full h-1.5 bg-slate-100 dark:bg-slate-700 rounded-full mt-1.5 overflow-hidden",children:c.jsx("div",{className:`h-full rounded-full ${I<1?"bg-rose-500":I<3?"bg-amber-400":"bg-emerald-500"}`,style:{width:`${Math.min(100,I/6*100)}%`}})})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between hover:shadow-md transition-shadow",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Sadas (Ms)"}),c.jsx(Sp,{className:"w-4 h-4 text-rose-500"})]}),c.jsxs("p",{className:"text-2xl font-bold text-rose-600 dark:text-rose-400 truncate",children:["-",f(w)]}),v>0?c.jsxs("div",{className:"flex items-center gap-1 mt-1 bg-amber-50 dark:bg-amber-900/20 px-2 py-1 rounded w-fit border border-amber-100 dark:border-amber-800/30",children:[c.jsx(cm,{className:"w-3 h-3 text-amber-500"}),c.jsxs("span",{className:"text-xs font-bold text-amber-600 dark:text-amber-400",children:["-",f(v)]}),c.jsx("span",{className:"text-[10px] text-amber-600/70 dark:text-amber-400/70 uppercase font-medium",children:"A Pagar"})]}):c.jsxs("div",{className:"flex items-center gap-1 mt-1 px-2 py-1",children:[c.jsx(Jx,{className:"w-3 h-3 text-emerald-500"}),c.jsx("span",{className:"text-[10px] text-emerald-500 font-bold uppercase",children:"Tudo Pago"})]})]}),c.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-100 dark:border-slate-700/50 flex-1 flex flex-col justify-end space-y-2",children:[c.jsx("p",{className:"text-[10px] text-slate-400 font-semibold uppercase pb-1",children:"Prximos Vencimentos"}),C.length===0?c.jsx("div",{className:"text-xs text-slate-400 italic",children:"Nada pendente."}):C.map(P=>{const $=new Date(P.date)<new Date(new Date().setHours(0,0,0,0));return c.jsxs("div",{className:"flex justify-between items-center text-xs",children:[c.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[c.jsx("div",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${$?"bg-rose-500":"bg-amber-400"}`}),c.jsx("span",{className:"truncate text-slate-600 dark:text-slate-300 max-w-[80px]",children:P.description})]}),c.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[c.jsx("span",{className:"text-slate-400 text-[10px]",children:new Date(P.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}),c.jsx("span",{className:`font-semibold ${$?"text-rose-500":"text-slate-700 dark:text-slate-200"}`,children:f(P.amount).replace("R$","")})]})]},P.id)})]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between hover:shadow-md transition-shadow",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Total Investido"}),c.jsx("p",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400 mt-1",children:f(E)})]}),c.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded-lg",children:c.jsx(Qi,{className:"w-5 h-5 text-indigo-500"})})]}),c.jsxs("div",{className:"flex-1 flex flex-col justify-end space-y-2",children:[c.jsxs("p",{className:"text-[10px] text-slate-400 font-semibold uppercase border-b border-slate-100 dark:border-slate-700/50 pb-1 flex justify-between",children:[c.jsx("span",{children:"Maiores Posies"}),c.jsx(Tp,{className:"w-3 h-3"})]}),S.length===0?c.jsx("div",{className:"text-xs text-slate-400 italic",children:"Carteira vazia."}):S.map((P,$)=>c.jsxs("div",{className:"flex justify-between items-center text-xs",children:[c.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[c.jsxs("span",{className:"text-slate-400 font-mono text-[10px]",children:[$+1,"."]}),c.jsx("span",{className:"truncate text-slate-600 dark:text-slate-300 max-w-[90px]",title:P.name,children:P.name})]}),c.jsx("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400 flex-shrink-0",children:f(P.amount).replace("R$","")})]},P.id))]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col hover:shadow-md transition-shadow h-full min-h-[180px]",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider flex items-center gap-2",children:[c.jsx(Dl,{className:"w-4 h-4"})," Notas Fixadas"]}),c.jsx("button",{onClick:()=>r(ge.NOTES),className:"text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 p-1 rounded transition-colors",title:"Ver todas",children:c.jsx(a0,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"flex-1 space-y-2 overflow-y-auto max-h-[140px] no-scrollbar",children:d.length===0?c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 gap-1 opacity-70",children:[c.jsx(Dl,{className:"w-6 h-6 opacity-30"}),c.jsx("p",{className:"text-xs italic text-center",children:"Nenhuma nota fixada."})]}):d.map(P=>{const $=P.color==="slate"?"border-slate-200 dark:border-slate-600":`border-${P.color}-200 dark:border-${P.color}-800`,G=P.color==="slate"?"bg-slate-50 dark:bg-slate-700/50":`bg-${P.color}-50 dark:bg-${P.color}-900/20`;return c.jsxs("div",{onClick:()=>r(ge.NOTES),className:`text-xs p-2.5 rounded-lg border cursor-pointer hover:opacity-80 transition-opacity ${$} ${G}`,children:[c.jsx("span",{className:"font-bold mr-1 block truncate mb-0.5 text-slate-800 dark:text-slate-200",children:P.title||"Sem ttulo"}),c.jsx("span",{className:"text-slate-500 dark:text-slate-400 line-clamp-2 leading-relaxed",children:P.content})]},P.id)})})]})]}),c.jsxs("div",{className:"hidden lg:block space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[V,L]}),z]}),c.jsxs("div",{className:"lg:hidden space-y-4",children:[c.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl gap-1 border border-slate-200 dark:border-slate-700",children:[c.jsxs("button",{onClick:()=>a("flow"),className:`flex-1 py-2 text-xs font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-1.5
                    ${s==="flow"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[c.jsx(kd,{className:"w-3.5 h-3.5"}),"Fluxo"]}),c.jsxs("button",{onClick:()=>a("allocation"),className:`flex-1 py-2 text-xs font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-1.5
                    ${s==="allocation"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[c.jsx(Tp,{className:"w-3.5 h-3.5"}),"Carteira"]}),c.jsxs("button",{onClick:()=>a("history"),className:`flex-1 py-2 text-xs font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-1.5
                    ${s==="history"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[c.jsx(mm,{className:"w-3.5 h-3.5"}),"Histrico"]})]}),c.jsxs("div",{className:"min-h-[350px]",children:[s==="flow"&&V,s==="allocation"&&L,s==="history"&&z]})]})]})},Cke=({data:t,privacyMode:e})=>{const[n,r]=U.useState([]),[i,o]=U.useState(""),[s,a]=U.useState(!1),[l,u]=U.useState(!1),d=U.useRef(null),f=U.useRef(null);U.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const x=window.SpeechRecognition||window.webkitSpeechRecognition;f.current=new x,f.current.continuous=!1,f.current.lang="pt-BR",f.current.interimResults=!1,f.current.onresult=_=>{const w=_.results[0][0].transcript;o(w),u(!1)},f.current.onerror=_=>{console.error("Speech error",_),u(!1)},f.current.onend=()=>{u(!1)}}},[]);const h=()=>{var x;(x=d.current)==null||x.scrollIntoView({behavior:"smooth"})};U.useEffect(()=>{h()},[n,s]);const y=()=>{var x;if(l)(x=f.current)==null||x.stop(),u(!1);else if(f.current)try{f.current.start(),u(!0)}catch(_){console.error(_)}else alert("Seu navegador no suporta reconhecimento de voz.")},v=async x=>{const _=i;if(!_.trim())return;const w={id:crypto.randomUUID(),role:"user",content:_,timestamp:new Date};r(S=>[...S,w]),o(""),a(!0);const E=crypto.randomUUID(),C={id:E,role:"assistant",content:"",timestamp:new Date};r(S=>[...S,C]);try{const S=fee(_,n,t);let I="";for await(const k of S)I+=k,r(T=>T.map(N=>N.id===E?{...N,content:I}:N))}catch{r(I=>I.map(k=>k.id===E?{...k,content:"Desculpe, tive um erro ao processar sua resposta."}:k))}finally{a(!1)}},b=x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),v())};return c.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] animate-fade-in",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"bg-gradient-to-tr from-indigo-500 to-purple-600 p-3 rounded-xl shadow-lg shadow-indigo-500/20",children:c.jsx(Xs,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Assistente Inteligente"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Pergunte sobre seus gastos, investimentos ou pea conselhos."})]})]}),c.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden flex flex-col",children:[c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 dark:bg-slate-900/50",children:[n.length===0&&c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 space-y-4 opacity-60",children:[c.jsx(Yx,{className:"w-16 h-16"}),c.jsxs("p",{className:"text-sm",children:["Estou analisando seus dados em tempo real.",c.jsx("br",{}),"Como posso ajudar hoje?"]})]}),n.map(x=>c.jsx("div",{className:`flex w-full ${x.role==="user"?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`flex max-w-[85%] md:max-w-[75%] gap-3 ${x.role==="user"?"flex-row-reverse":"flex-row"}`,children:[c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${x.role==="user"?"bg-slate-200 dark:bg-slate-700":"bg-indigo-600"}`,children:x.role==="user"?c.jsx(IB,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"}):c.jsx(Yx,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{className:`p-4 rounded-2xl shadow-sm text-sm whitespace-pre-line leading-relaxed
                      ${x.role==="user"?"bg-white dark:bg-slate-700 text-slate-800 dark:text-white rounded-tr-none":"bg-indigo-600 text-white rounded-tl-none prose prose-invert max-w-none"}`,children:[x.content,s&&x.content===""&&c.jsxs("span",{className:"inline-flex gap-1",children:[c.jsx("span",{className:"w-1.5 h-1.5 bg-white/60 rounded-full animate-bounce"}),c.jsx("span",{className:"w-1.5 h-1.5 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"100ms"}}),c.jsx("span",{className:"w-1.5 h-1.5 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"200ms"}})]})]})]})},x.id)),c.jsx("div",{ref:d})]}),c.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"relative flex items-center gap-2",children:[c.jsx("button",{onClick:y,className:`p-3 rounded-xl transition-all ${l?"bg-rose-500 text-white animate-pulse shadow-lg shadow-rose-500/30":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,title:"Falar comando",children:l?c.jsx(TB,{className:"w-5 h-5"}):c.jsx(sB,{className:"w-5 h-5"})}),c.jsx("input",{type:"text",value:i,onChange:x=>o(x.target.value),onKeyDown:b,placeholder:l?"Ouvindo...":"Digite uma mensagem...",className:"flex-1 bg-slate-100 dark:bg-slate-700 dark:text-white border-0 rounded-xl px-4 py-3 focus:ring-2 focus:ring-indigo-500 outline-none",disabled:s}),c.jsx("button",{onClick:()=>v(),disabled:!i.trim()||s,className:"p-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-lg shadow-indigo-500/20",children:c.jsx(bB,{className:"w-5 h-5"})})]}),c.jsx("p",{className:"text-center text-[10px] text-slate-400 mt-2",children:"A IA pode cometer erros. Verifique informaes importantes."})]})]})]})},Nke=({user:t,isGuest:e,mobileMenuOpen:n,setMobileMenuOpen:r,currentView:i,onNavigate:o,onLogout:s,privacyMode:a,setPrivacyMode:l,darkMode:u,setDarkMode:d,isFullscreen:f,toggleFullscreen:h,hasKey:y,onOpenKeyModal:v,onOpenDonateModal:b,onExportBackup:x,onImportBackup:_,onFactoryReset:w,canInstall:E,onInstall:C})=>{var M,D;const S=j=>{o(j),r(!1)},I=({active:j,onClick:O,icon:q,label:V,customClass:L=""})=>c.jsxs("button",{onClick:O,className:`flex w-full items-center gap-3 px-3 py-2.5 rounded-lg transition-all text-sm font-medium ${L} ${j?"bg-indigo-600 text-white shadow-md shadow-indigo-900/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[c.jsx(q,{className:`w-5 h-5 ${!j&&L?"text-purple-400 group-hover:text-white":""}`}),c.jsx("div",{className:"flex-1 flex justify-between items-center",children:c.jsx("span",{children:V})})]}),k=[ge.TRANSACTIONS,ge.CALENDAR,ge.SUBSCRIPTIONS,ge.DEBTS].includes(i),T=[ge.INVESTMENTS,ge.BUDGETS,ge.WEALTH_PLANNER].includes(i),N=[ge.KANBAN,ge.NOTES,ge.SHOPPING_LIST].includes(i);return c.jsxs("nav",{className:`
         fixed md:sticky top-0 left-0 h-screen z-50 w-72 md:w-64 bg-slate-900 border-r border-slate-800 
         transform transition-transform duration-300 ease-in-out shadow-2xl flex flex-col
         ${n?"translate-x-0":"-translate-x-full md:translate-x-0"}
       `,children:[c.jsxs("div",{className:"flex items-center justify-between p-4 md:p-4 border-b border-slate-800 shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"bg-indigo-600 p-2 rounded-xl shadow-lg shadow-indigo-900/50",children:c.jsx(m1,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold text-white tracking-tight leading-none",children:"NEXO"}),c.jsx("span",{className:"text-[10px] text-slate-400 font-medium uppercase tracking-wider",children:"Financial Hub"})]})]}),c.jsx("button",{onClick:()=>r(!1),className:"md:hidden text-slate-400 hover:text-white",children:c.jsx(Gn,{className:"w-6 h-6"})})]}),c.jsx("div",{className:"p-4 shrink-0",children:c.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 bg-slate-800/50 rounded-lg border border-slate-700/50 backdrop-blur-sm",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center border border-slate-600 overflow-hidden text-xs text-white",children:t!=null&&t.photoURL?c.jsx("img",{src:t.photoURL,alt:"User"}):((M=t==null?void 0:t.email)==null?void 0:M.substring(0,2).toUpperCase())||"CV"}),c.jsxs("div",{className:"overflow-hidden flex-1 min-w-0",children:[c.jsx("p",{className:"text-xs font-bold text-white truncate",title:(t==null?void 0:t.email)||"Convidado",children:((D=t==null?void 0:t.email)==null?void 0:D.split("@")[0])||"Convidado"}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${t?"bg-emerald-500":"bg-amber-500"}`}),c.jsx("p",{className:"text-[10px] text-slate-400",children:t?"Online (Cloud)":"Offline (Local)"})]})]}),c.jsx("button",{onClick:s,className:"text-slate-400 hover:text-rose-500",title:"Sair",children:c.jsx(nB,{className:"w-4 h-4"})})]})}),c.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-2 flex flex-col no-scrollbar space-y-1",children:[c.jsx("p",{className:"px-2 text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2 mt-2",children:"Menu Principal"}),c.jsx(I,{active:i===ge.DASHBOARD,onClick:()=>S(ge.DASHBOARD),icon:eB,label:"Viso Geral"}),c.jsx(I,{active:k,onClick:()=>S(ge.TRANSACTIONS),icon:D6,label:"Movimentaes"}),c.jsx(I,{active:T,onClick:()=>S(ge.INVESTMENTS),icon:y1,label:"Patrimnio"}),c.jsx(I,{active:N,onClick:()=>S(ge.KANBAN),icon:hB,label:"Organizao"}),c.jsx("div",{className:"mt-6 pt-4 border-t border-slate-800",children:c.jsx("button",{onClick:()=>y?S(ge.AI_ASSISTANT):v(),className:`w-full relative group overflow-hidden rounded-xl p-[1px] transition-all duration-300 ${i===ge.AI_ASSISTANT?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 shadow-lg shadow-purple-500/20":"bg-slate-700/50 hover:bg-gradient-to-r hover:from-indigo-500 hover:via-purple-500 hover:to-pink-500"}`,children:c.jsxs("div",{className:"relative flex items-center gap-3 px-3 py-3 rounded-[11px] bg-slate-900 transition-colors h-full",children:[c.jsx("div",{className:`p-1.5 rounded-lg ${i===ge.AI_ASSISTANT?"bg-indigo-500/20":"bg-slate-800 group-hover:bg-slate-800"}`,children:c.jsx(oB,{className:`w-5 h-5 ${i===ge.AI_ASSISTANT?"text-indigo-400":"text-slate-400 group-hover:text-white"}`})}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("p",{className:`text-sm font-bold ${i===ge.AI_ASSISTANT?"text-white":"text-slate-300 group-hover:text-white"}`,children:"NEXO AI"}),c.jsx("p",{className:"text-[10px] text-slate-500 group-hover:text-slate-400",children:"Assistente Virtual"})]}),!y&&c.jsx(Rf,{className:"w-3 h-3 text-rose-500 animate-pulse"})]})})})]}),c.jsxs("div",{className:"mt-auto p-4 border-t border-slate-800 bg-slate-900 shrink-0",children:[E&&c.jsxs("button",{onClick:C,className:"w-full mb-4 flex items-center justify-center gap-2 p-2 rounded-lg bg-emerald-600 text-white text-xs font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-500/20",children:[c.jsx(_D,{className:"w-3 h-3"})," Instalar App (PWA)"]}),c.jsxs("div",{className:"flex justify-between items-center gap-2",children:[c.jsx("button",{onClick:()=>S(ge.SETTINGS),className:`flex-1 flex items-center justify-center p-2 rounded-lg transition-all border border-slate-800 hover:border-slate-700 ${i===ge.SETTINGS?"bg-indigo-600 text-white":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,title:"Configuraes e Dados",children:c.jsx(x1,{className:"w-5 h-5"})}),c.jsx("button",{onClick:h,className:"flex-1 flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-white transition-all border border-slate-800 hover:border-slate-700",title:f?"Sair da Tela Cheia":"Tela Cheia",children:f?c.jsx(aB,{className:"w-5 h-5"}):c.jsx(rB,{className:"w-5 h-5"})}),c.jsx("button",{onClick:b,className:"flex-1 flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-pink-500 transition-all border border-slate-800 hover:border-slate-700",title:"Apoiar Projeto",children:c.jsx(kD,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"pt-4 mt-3 border-t border-slate-800 text-center",children:[c.jsx("p",{className:"text-[10px] text-slate-500 font-mono",children:"v2.6.0 Config"}),c.jsxs("a",{href:"https://www.linkedin.com/in/alemagnobr/",target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-slate-400 hover:text-indigo-400 transition-colors flex items-center justify-center gap-1.5 mt-1",children:[c.jsx(CD,{className:"w-3 h-3"})," Alexandre Magno S. Linhares"]})]})]})]})},Pke=({showWelcome:t,isDonateModalOpen:e,isKeyModalOpen:n,userKeyInput:r,hasKey:i,PIX_KEY:o,PIX_NAME:s,setShowWelcome:a,setIsDonateModalOpen:l,setIsKeyModalOpen:u,setUserKeyInput:d,handleSaveKey:f,handleRemoveKey:h,handleFinishWelcome:y,copyPix:v})=>c.jsxs(c.Fragment,{children:[t&&c.jsx("div",{className:"fixed inset-0 bg-slate-900/90 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in overflow-y-auto",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-4xl border border-slate-200 dark:border-slate-700 animate-scale-in my-8",children:[c.jsx("div",{className:"bg-slate-900 p-8 text-white relative overflow-hidden rounded-t-2xl",children:c.jsxs("div",{className:"relative z-10",children:[c.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Bem-vindo ao NEXO"}),c.jsx("p",{className:"text-slate-300 text-lg",children:"Seu novo comando central financeiro."})]})}),c.jsxs("div",{className:"p-8",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-3 flex items-center gap-2",children:[c.jsx(hm,{className:"w-5 h-5 text-indigo-500"})," Privacidade Total"]}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed",children:"Seus dados financeiros no so vendidos. No modo Offline, tudo fica no seu navegador."})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-3 flex items-center gap-2",children:[c.jsx(Yx,{className:"w-5 h-5 text-purple-500"})," Inteligncia Artificial"]}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed",children:"Conecte sua chave do Gemini para ter um consultor financeiro pessoal."})]})]}),c.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-100 dark:border-indigo-800 p-4 rounded-xl mb-8",children:[c.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"J possui uma chave de API do Gemini? (Opcional)"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"password",value:r,onChange:b=>d(b.target.value),placeholder:"Cole sua chave AIza...",className:"flex-1 p-2 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 outline-none"}),c.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:["Obter Chave ",c.jsx(TD,{className:"w-3 h-3"})]})]})]}),c.jsxs("button",{onClick:y,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold text-lg shadow-xl shadow-indigo-500/30 transition-all flex items-center justify-center gap-2",children:["Comear Agora ",c.jsx(l0,{className:"w-5 h-5"})]})]})]})}),e&&c.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-sm p-6 border border-slate-200 dark:border-slate-700 animate-scale-in text-center relative overflow-hidden",children:[c.jsx("button",{onClick:()=>l(!1),className:"absolute top-2 right-2 p-2 text-slate-400 hover:text-slate-600",children:c.jsx(Gn,{className:"w-5 h-5"})}),c.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Y6,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),c.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:"Apoie o Projeto"}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-6",children:"O NEXO  desenvolvido de forma independente. Considere apoiar! "}),c.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-700 mb-6 relative group cursor-pointer",onClick:v,children:[c.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"Chave Pix (CPF)"}),c.jsx("p",{className:"text-sm font-mono font-bold text-slate-700 dark:text-slate-200 break-all select-all",children:o}),c.jsx("div",{className:"absolute inset-0 bg-black/5 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-xl",children:c.jsxs("span",{className:"bg-white dark:bg-slate-800 text-xs font-bold px-2 py-1 rounded shadow flex items-center gap-1",children:[c.jsx(SD,{className:"w-3 h-3"})," Copiar"]})})]}),c.jsxs("p",{className:"text-xs text-slate-400 mb-6",children:["Nome: ",s]})]})}),n&&c.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 border border-slate-200 dark:border-slate-700 animate-scale-in flex flex-col max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[c.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(Rf,{className:"w-6 h-6 text-indigo-500"})," Configurar Chave API"]}),c.jsx("button",{onClick:()=>u(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:c.jsx(Gn,{className:"w-6 h-6"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-3 rounded-lg text-sm text-indigo-800 dark:text-indigo-300 border border-indigo-100 dark:border-indigo-800",children:[c.jsxs("p",{className:"font-bold flex items-center gap-1 mb-1",children:[c.jsx(Xs,{className:"w-3 h-3"})," Por que preciso disso?"]}),c.jsx("p",{children:"O Google Gemini  o crebro por trs da IA do NEXO. Para us-lo gratuitamente, voc precisa gerar sua prpria chave de acesso."})]}),c.jsxs("ol",{className:"list-decimal list-inside text-sm text-slate-600 dark:text-slate-400 space-y-2 ml-1",children:[c.jsxs("li",{children:["Acesse o ",c.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-indigo-600 font-bold hover:underline",children:"Google AI Studio"}),"."]}),c.jsx("li",{children:"Faa login com sua conta Google."}),c.jsxs("li",{children:["Clique em ",c.jsx("strong",{children:"Create API Key"}),"."]}),c.jsx("li",{children:'Copie o cdigo gerado (comea com "AIza...") e cole abaixo.'})]}),c.jsx("input",{type:"password",value:r,onChange:b=>d(b.target.value),placeholder:"Cole sua chave aqui (AIza...)",className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:f,disabled:!r,className:"flex-1 px-4 py-2 bg-indigo-600 text-white hover:bg-indigo-700 rounded-lg text-sm font-bold shadow-lg shadow-indigo-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Salvar e Conectar"}),c.jsx("button",{onClick:h,disabled:!i,className:"px-4 py-2 bg-rose-100 text-rose-600 hover:bg-rose-200 dark:bg-rose-900/30 dark:text-rose-400 dark:hover:bg-rose-900/50 rounded-lg text-sm font-bold disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Remover"})]})]})]})})]}),Rke={transactions:[],investments:[],budgets:[],debts:[],shoppingList:[],shoppingBudget:0,kanbanColumns:[],notes:[],unlockedBadges:[],walletBalance:0,categories:[]},Oke=(t,e)=>{const[n,r]=U.useState(Rke);return U.useEffect(()=>{if(t&&!e){const V=TH(t.uid,L=>{r(z=>({...z,...L}))});return()=>V()}},[t,e]),U.useEffect(()=>{t&&!e&&n.transactions.length>0&&n.walletBalance===void 0&&(console.log("Migrando para sistema de Saldo Otimizado..."),kH(t.uid))},[t,e,n.transactions.length,n.walletBalance]),U.useEffect(()=>{if(t||e){const L=setTimeout(async()=>{const z=new Date,P=z.getFullYear(),$=String(z.getMonth()+1).padStart(2,"0"),G=String(z.getDate()).padStart(2,"0"),H=`${P}-${$}-${G}`,K=n.transactions.filter(Y=>Y.status==="pending"&&Y.autoPay&&Y.date<=H);if(K.length>0)if(t)for(const Y of K)await Dp(t.uid,Y.id,{status:"paid"});else r(Y=>({...Y,transactions:Y.transactions.map(se=>se.status==="pending"&&se.autoPay&&se.date<=H?{...se,status:"paid"}:se)}))},2e3);return()=>clearTimeout(L)}},[t,e,n.transactions]),U.useEffect(()=>{(t||e)&&(async()=>{const L=new Date,z=L.getMonth(),P=L.getFullYear(),$=new Map;n.transactions.forEach(H=>{if(H.isRecurring){const K=$.get(H.description);(!K||new Date(H.date)>new Date(K.date))&&$.set(H.description,H)}});const G=[];if($.forEach((H,K)=>{const[Y,se]=H.date.split("-").map(Number),W=new Date(P,z,1),Z=new Date(Y,se-1,1);if(W<Z)return;if(!n.transactions.some(oe=>{const re=new Date(oe.date);return oe.description===K&&oe.amount===H.amount&&re.getMonth()===z&&re.getFullYear()===P})){const re=new Date(H.date+"T00:00:00").getDate(),fe=new Date(P,z+1,0).getDate(),ye=Math.min(re,fe),te=String(z+1).padStart(2,"0"),$e=String(ye).padStart(2,"0"),Oe=`${P}-${te}-${$e}`;G.push({...H,id:crypto.randomUUID(),date:Oe,status:"pending",isRecurring:!0})}}),G.length>0)if(t)for(const H of G)await hI(t.uid,H);else r(H=>({...H,transactions:[...H.transactions,...G]}))})()},[t,e,n.transactions]),{data:n,setData:r,actions:{addTransaction:async V=>{const L={...V,id:crypto.randomUUID()};t?await hI(t.uid,L):r(z=>({...z,transactions:[...z.transactions,L]}))},updateTransaction:async(V,L)=>{t?await Dp(t.uid,V,L):r(z=>({...z,transactions:z.transactions.map(P=>P.id===V?{...P,...L}:P)}))},deleteTransaction:async V=>{t?await AH(t.uid,V):r(L=>({...L,transactions:L.transactions.filter(z=>z.id!==V)}))},toggleTransactionStatus:async V=>{const L=n.transactions.find(P=>P.id===V);if(!L)return;const z=L.status==="paid"?"pending":"paid";if(t){if(await Dp(t.uid,V,{status:z}),L.debtId){const P=n.debts.find($=>$.id===L.debtId);if(P){const H=n.transactions.filter(K=>K.debtId===L.debtId).every(K=>K.id===V?z==="paid":K.status==="paid")?"paid":"agreement";P.status!==H&&await pI(t.uid,P.id,{status:H})}}}else r(P=>{const $=P.transactions.map(H=>H.id===V?{...H,status:z}:H);let G=P.debts;if(L.debtId){const Y=$.filter(se=>se.debtId===L.debtId).every(se=>se.status==="paid")?"paid":"agreement";G=P.debts.map(se=>se.id===L.debtId?{...se,status:Y}:se)}return{...P,transactions:$,debts:G}})},addInvestment:async V=>{const L={...V,id:crypto.randomUUID()};t?await IH(t.uid,L):r(z=>({...z,investments:[...z.investments,L]}))},updateInvestment:async(V,L)=>{t?await CH(t.uid,V,L):r(z=>({...z,investments:z.investments.map(P=>P.id===V?{...P,...L}:P)}))},deleteInvestment:async V=>{t?await NH(t.uid,V):r(L=>({...L,investments:L.investments.filter(z=>z.id!==V)}))},addBudget:async V=>{const L={...V,id:crypto.randomUUID()};t?await PH(t.uid,L):r(z=>({...z,budgets:[...z.budgets||[],L]}))},updateBudget:async(V,L)=>{t?await RH(t.uid,V,L):r(z=>({...z,budgets:z.budgets.map(P=>P.id===V?{...P,...L}:P)}))},deleteBudget:async V=>{t?await OH(t.uid,V):r(L=>({...L,budgets:L.budgets.filter(z=>z.id!==V)}))},addDebt:async V=>{const L={...V,id:crypto.randomUUID()};t?await MH(t.uid,L):r(z=>({...z,debts:[...z.debts||[],L]}))},updateDebt:async(V,L)=>{t?await pI(t.uid,V,L):r(z=>({...z,debts:z.debts.map(P=>P.id===V?{...P,...L}:P)}))},deleteDebt:async V=>{t?await DH(t.uid,V):r(L=>({...L,debts:L.debts.filter(z=>z.id!==V)}))},addShoppingItem:async V=>{const L={...V,id:crypto.randomUUID()};t?await jH(t.uid,L):r(z=>({...z,shoppingList:[...z.shoppingList||[],L]}))},updateShoppingItem:async(V,L)=>{t?await $H(t.uid,V,L):r(z=>({...z,shoppingList:z.shoppingList.map(P=>P.id===V?{...P,...L}:P)}))},deleteShoppingItem:async V=>{t?await LH(t.uid,V):r(L=>({...L,shoppingList:L.shoppingList.filter(z=>z.id!==V)}))},clearShoppingList:async()=>{t?await FH(t.uid):r(V=>({...V,shoppingList:[]}))},setShoppingBudget:async V=>{t?await VH(t.uid,V):r(L=>({...L,shoppingBudget:V}))},saveKanbanColumn:async V=>{t?await UH(t.uid,V):r(L=>L.kanbanColumns.some(P=>P.id===V.id)?{...L,kanbanColumns:L.kanbanColumns.map(P=>P.id===V.id?V:P)}:{...L,kanbanColumns:[...L.kanbanColumns,V]})},deleteKanbanColumn:async V=>{t?await BH(t.uid,V):r(L=>({...L,kanbanColumns:L.kanbanColumns.filter(z=>z.id!==V)}))},addNote:async V=>{const L={...V,id:crypto.randomUUID()};t?await zH(t.uid,L):r(z=>({...z,notes:[L,...z.notes]}))},updateNote:async(V,L)=>{t?await GH(t.uid,V,L):r(z=>({...z,notes:z.notes.map(P=>P.id===V?{...P,...L}:P)}))},deleteNote:async V=>{t?await qH(t.uid,V):r(L=>({...L,notes:L.notes.filter(z=>z.id!==V)}))},addCategory:async V=>{t?await HH(t.uid,V):r(L=>({...L,categories:[...L.categories||[],V]}))},deleteCategory:async V=>{t?await WH(t.uid,V):r(L=>({...L,categories:L.categories.filter(z=>z.id!==V)}))},unlockBadge:V=>{n.unlockedBadges.includes(V)||(t?KH(t.uid,V,n.unlockedBadges):r(L=>({...L,unlockedBadges:[...L.unlockedBadges,V]})))},saveWealthProfile:async V=>{t?await YH(t.uid,V):r(L=>({...L,wealthProfile:V}))}}}},Mke=[{name:"emerald",bg:"bg-emerald-500"},{name:"blue",bg:"bg-blue-500"},{name:"rose",bg:"bg-rose-500"},{name:"amber",bg:"bg-amber-500"},{name:"purple",bg:"bg-purple-500"},{name:"indigo",bg:"bg-indigo-500"},{name:"pink",bg:"bg-pink-500"},{name:"orange",bg:"bg-orange-500"},{name:"teal",bg:"bg-teal-500"},{name:"cyan",bg:"bg-cyan-500"},{name:"slate",bg:"bg-slate-500"}],Dke=({data:t,actions:e,privacyMode:n,setPrivacyMode:r,darkMode:i,setDarkMode:o,hasApiKey:s,onOpenKeyModal:a,onExportBackup:l,onImportBackup:u,onFactoryReset:d})=>{const[f,h]=U.useState("general"),[y,v]=U.useState(""),[b,x]=U.useState("expense"),[_,w]=U.useState("slate"),E=U.useRef(null),C=U.useRef(null),S=T=>{if(T.preventDefault(),!y.trim())return;const N={id:`cat_${Date.now()}`,name:y.trim(),type:b,color:_,isDefault:!1};e.addCategory(N),v("")},I=T=>{var D;const N=(D=T.target.files)==null?void 0:D[0];if(!N)return;const M=new FileReader;M.onload=j=>{var L;const O=(L=j.target)==null?void 0:L.result;if(!O)return;const q=O.split(`
`);let V=0;for(let z=1;z<q.length;z++){const P=q[z].trim();if(!P)continue;const $=P.split(",");if($.length>=3){const G=$[0].trim(),H=$[1].trim(),K=$[2].trim(),Y=parseFloat(K);if(!isNaN(Y)){const se=Math.abs(Y),W=Y<0?"expense":"income";e.addTransaction({description:H||"Importado",amount:se,type:W,category:"Outros",date:G.includes("/")?G.split("/").reverse().join("-"):G,status:"paid",paymentMethod:"credit_card",isRecurring:!1}),V++}}}alert(`${V} transaes importadas com sucesso! Verifique as datas e categorias.`)},M.readAsText(N)},k=t.categories||[];return c.jsxs("div",{className:"space-y-6 animate-fade-in pb-20",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"bg-slate-200 dark:bg-slate-700 p-2.5 rounded-xl",children:c.jsx(x1,{className:"w-6 h-6 text-slate-700 dark:text-slate-200"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Configuraes"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Personalize sua experincia no NEXO."})]})]}),c.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl gap-1 border border-slate-200 dark:border-slate-700 overflow-x-auto",children:[c.jsxs("button",{onClick:()=>h("general"),className:`flex-1 py-2 px-4 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 whitespace-nowrap
               ${f==="general"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-white"}`,children:[c.jsx(uB,{className:"w-4 h-4"})," Geral & API"]}),c.jsxs("button",{onClick:()=>h("categories"),className:`flex-1 py-2 px-4 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 whitespace-nowrap
               ${f==="categories"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-white"}`,children:[c.jsx(fB,{className:"w-4 h-4"})," Categorias"]}),c.jsxs("button",{onClick:()=>h("data"),className:`flex-1 py-2 px-4 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 whitespace-nowrap
               ${f==="data"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-white"}`,children:[c.jsx(H6,{className:"w-4 h-4"})," Dados & Backup"]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 p-6 min-h-[400px]",children:[f==="general"&&c.jsx("div",{className:"space-y-8 animate-fade-in",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Preferncias Visuais"}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl border border-slate-100 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg text-indigo-600 dark:text-indigo-400",children:i?c.jsx(cB,{className:"w-5 h-5"}):c.jsx(AB,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:"Modo Escuro"}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Alternar tema claro/escuro"})]})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:i,onChange:T=>o(T.target.checked),className:"sr-only peer"}),c.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 rounded-full peer dark:bg-slate-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-indigo-600"})]})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl border border-slate-100 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg text-emerald-600 dark:text-emerald-400",children:n?c.jsx(_B,{className:"w-5 h-5"}):c.jsx(hm,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:"Modo Privacidade"}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Ocultar valores monetrios"})]})]}),c.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:n,onChange:T=>r(T.target.checked),className:"sr-only peer"}),c.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-emerald-300 dark:peer-focus:ring-emerald-800 rounded-full peer dark:bg-slate-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-emerald-600"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Integraes"}),c.jsxs("div",{className:"p-6 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-xl text-white shadow-lg",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsxs("h4",{className:"font-bold text-lg flex items-center gap-2",children:[c.jsx(Rf,{className:"w-5 h-5"})," Google Gemini API"]}),c.jsx("p",{className:"text-indigo-100 text-xs mt-1",children:"Inteligncia Artificial para anlises e categorizao."})]}),c.jsx("div",{className:`px-2 py-1 rounded text-[10px] font-bold uppercase border ${s?"bg-emerald-500 border-emerald-400 text-white":"bg-rose-500 border-rose-400 text-white"}`,children:s?"Conectado":"Desconectado"})]}),c.jsx("button",{onClick:a,className:"w-full py-2 bg-white/20 hover:bg-white/30 backdrop-blur-sm rounded-lg text-sm font-bold transition-colors",children:s?"Gerenciar Chave":"Configurar Chave"})]})]})]})}),f==="categories"&&c.jsxs("div",{className:"animate-fade-in h-full flex flex-col",children:[c.jsxs("form",{onSubmit:S,className:"flex flex-col md:flex-row gap-3 bg-slate-50 dark:bg-slate-700/30 p-4 rounded-xl border border-slate-200 dark:border-slate-700 mb-6",children:[c.jsx("div",{className:"flex-1",children:c.jsx("input",{type:"text",placeholder:"Nome da nova categoria...",value:y,onChange:T=>v(T.target.value),className:"w-full p-2.5 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500"})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("select",{value:b,onChange:T=>x(T.target.value),className:"p-2.5 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none",children:[c.jsx("option",{value:"expense",children:"Despesa"}),c.jsx("option",{value:"income",children:"Receita"})]}),c.jsx("div",{className:"flex items-center gap-1 bg-white dark:bg-slate-700 p-1 rounded-lg border border-slate-300 dark:border-slate-600",children:Mke.map(T=>c.jsx("button",{type:"button",onClick:()=>w(T.name),className:`w-6 h-6 rounded-full transition-transform hover:scale-110 ${T.bg} ${_===T.name?"ring-2 ring-offset-2 ring-indigo-500 scale-110":""}`},T.name))}),c.jsx("button",{type:"submit",disabled:!y.trim(),className:"px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:c.jsx(sr,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400 uppercase mb-3 flex items-center gap-2 border-b border-emerald-200 dark:border-emerald-800 pb-2",children:"Entradas"}),c.jsx("div",{className:"space-y-2",children:k.filter(T=>T.type==="income").map(T=>c.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg border border-slate-100 dark:border-slate-700 group hover:border-indigo-200 dark:hover:border-indigo-800 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-3 h-3 rounded-full bg-${T.color}-500`}),c.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:T.name})]}),!T.isDefault&&c.jsx("button",{onClick:()=>{confirm(`Excluir categoria "${T.name}"?`)&&e.deleteCategory(T.id)},className:"text-slate-400 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(rs,{className:"w-4 h-4"})})]},T.id))})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-bold text-rose-600 dark:text-rose-400 uppercase mb-3 flex items-center gap-2 border-b border-rose-200 dark:border-rose-800 pb-2",children:"Sadas"}),c.jsx("div",{className:"space-y-2",children:k.filter(T=>T.type==="expense").map(T=>c.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg border border-slate-100 dark:border-slate-700 group hover:border-indigo-200 dark:hover:border-indigo-800 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-3 h-3 rounded-full bg-${T.color}-500`}),c.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:T.name})]}),!T.isDefault&&c.jsx("button",{onClick:()=>{confirm(`Excluir categoria "${T.name}"?`)&&e.deleteCategory(T.id)},className:"text-slate-400 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(rs,{className:"w-4 h-4"})})]},T.id))})]})]})]}),f==="data"&&c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-700/30 rounded-xl border border-slate-200 dark:border-slate-700 flex flex-col justify-between",children:[c.jsxs("div",{children:[c.jsxs("h4",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(p1,{className:"w-5 h-5 text-indigo-500"})," Exportar Backup"]}),c.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Baixe todos os seus dados em um arquivo JSON seguro. Ideal para migrar entre dispositivos."})]}),c.jsx("button",{onClick:l,className:"mt-6 w-full py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg font-bold text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700",children:"Baixar JSON"})]}),c.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-700/30 rounded-xl border border-slate-200 dark:border-slate-700 flex flex-col justify-between",children:[c.jsxs("div",{children:[c.jsxs("h4",{className:"font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(kB,{className:"w-5 h-5 text-emerald-500"})," Restaurar Backup"]}),c.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"Recupere seus dados a partir de um arquivo JSON exportado anteriormente."})]}),c.jsxs("label",{className:"mt-6 w-full py-2 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg font-bold text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 cursor-pointer text-center block",children:["Selecionar Arquivo",c.jsx("input",{type:"file",ref:E,className:"hidden",accept:".json",onChange:u})]})]})]}),c.jsxs("div",{className:"p-6 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800",children:[c.jsx("h4",{className:"font-bold text-blue-800 dark:text-blue-300 mb-2",children:"Importar Transaes (CSV Simples)"}),c.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-400 mb-4",children:["Importe extratos simples. Formato esperado: ",c.jsx("code",{children:"Data,Descrio,Valor"})," (sem cabealho).",c.jsx("br",{}),c.jsx("span",{className:"text-xs opacity-70",children:"Ex: 2024-03-20,Mercado,-150.00"})]}),c.jsx("input",{type:"file",ref:C,accept:".csv",onChange:I,className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-100 file:text-blue-700 hover:file:bg-blue-200"})]}),c.jsx("div",{className:"pt-6 border-t border-slate-200 dark:border-slate-700",children:c.jsxs("div",{className:"p-4 border border-rose-200 dark:border-rose-900/50 bg-rose-50 dark:bg-rose-900/10 rounded-xl flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-rose-700 dark:text-rose-400",children:"Zona de Perigo"}),c.jsx("p",{className:"text-xs text-rose-600/80 dark:text-rose-400/70",children:"Isso apagar todos os dados locais deste navegador."})]}),c.jsx("button",{onClick:d,className:"px-4 py-2 bg-rose-600 text-white rounded-lg font-bold text-sm hover:bg-rose-700",children:"Resetar App"})]})})]})]})]})},Zv={credit_card:"Crdito",debit_card:"Dbito",cash:"Dinheiro",pix:"PIX",direct_debit:"Db. Auto",bank_transfer:"TED/DOC",deposit:"Depsito"},nO=(t,e,n)=>{let r=new Date(t,e,1),i=0,o=0;for(;i<n&&o<31;){const s=r.getDay();if(s!==0&&s!==6&&i++,i===n)break;r.setDate(r.getDate()+1),o++}return r.toISOString().split("T")[0]},jke=({method:t,className:e})=>{switch(t){case"credit_card":return c.jsx(dm,{className:e});case"debit_card":return c.jsx(dm,{className:e});case"cash":return c.jsx(L6,{className:e});case"pix":return c.jsx(SB,{className:e});default:return c.jsx(ID,{className:e})}},rO=["credit_card","debit_card","direct_debit","pix","cash"],iO=["pix","bank_transfer","cash","deposit"],$ke=({transactions:t,budgets:e,categories:n=[],onAdd:r,onUpdate:i,onDelete:o,onToggleStatus:s,onNavigate:a,privacyMode:l,hasApiKey:u,quickActionSignal:d})=>{const[f,h]=U.useState(!1),[y,v]=U.useState(!1),[b,x]=U.useState(!1),[_,w]=U.useState(new Date),[E,C]=U.useState("all"),[S,I]=U.useState(""),[k,T]=U.useState("all"),[N,M]=U.useState("all"),[D,j]=U.useState(!1),[O,q]=U.useState(null),[V,L]=U.useState("monthly"),[z,P]=U.useState([]),[$,G]=U.useState(!1),[H,K]=U.useState(""),[Y,se]=U.useState(!1),[W,Z]=U.useState("5"),de=U.useRef(null),[oe,re]=U.useState({description:"",amount:"",type:"expense",category:"Outros",date:new Date().toISOString().split("T")[0],status:"paid",paymentMethod:"credit_card",isRecurring:!1,autoPay:!1,installments:"",observation:""}),fe=U.useMemo(()=>n.length===0?["Outros"]:n.filter(X=>X.type===oe.type).map(X=>X.name),[n,oe.type]),ye=X=>{const ce=n.find(Fe=>Fe.name===X),Le=(ce==null?void 0:ce.color)||"slate";return`bg-${Le}-100 text-${Le}-700 border-${Le}-200 dark:bg-${Le}-900/30 dark:text-${Le}-300 dark:border-${Le}-800`};U.useEffect(()=>{d&&Date.now()-d<2e3&&(h(!0),cr())},[d]),U.useEffect(()=>{f&&de.current&&setTimeout(()=>{var X;(X=de.current)==null||X.scrollIntoView({behavior:"smooth",block:"center"})},100)},[f,O]),U.useEffect(()=>{if(Y&&oe.category==="Salrio"){const[X,ce]=oe.date.split("-").map(Number),Le=parseInt(W)||5,Fe=nO(X,ce-1,Le);Fe!==oe.date&&re(Be=>({...Be,date:Fe}))}},[Y,W,oe.category]);const te=U.useMemo(()=>oe.type==="income"?iO:rO,[oe.type]),$e=()=>w(X=>new Date(X.getFullYear(),X.getMonth()-1,1)),Oe=()=>w(X=>new Date(X.getFullYear(),X.getMonth()+1,1)),tt=U.useMemo(()=>{const X=[],ce=new Date,Le=ce.getMonth(),Fe=ce.getFullYear(),Be=ce.toISOString().slice(0,7);return e.forEach(Me=>{if(!(Me.isRecurring&&!e.some(qt=>qt.category===Me.category&&qt.month===Be&&!qt.isRecurring)||Me.month===Be))return;t.filter(qt=>qt.type==="expense"&&qt.category===Me.category&&new Date(qt.date).getMonth()===Le&&new Date(qt.date).getFullYear()===Fe).reduce((qt,Or)=>qt+Or.amount,0)>=Me.limit&&X.push({title:`Limite Excedido: ${Me.category}`,message:"Voc estourou o teto definido para esta categoria.",type:"warning"})}),X},[e,t]),Xe=U.useMemo(()=>{const X=t.filter(Fe=>{const[Be,Me]=Fe.date.split("-");return parseInt(Be)===_.getFullYear()&&parseInt(Me)===_.getMonth()+1}),ce=X.filter(Fe=>Fe.type==="income").reduce((Fe,Be)=>Fe+Be.amount,0),Le=X.filter(Fe=>Fe.type==="expense").reduce((Fe,Be)=>Fe+Be.amount,0);return{income:ce,expense:Le,balance:ce-Le}},[t,_]),Dt=U.useMemo(()=>t.filter(X=>{const[ce,Le]=X.date.split("-");return!(!(parseInt(ce)===_.getFullYear()&&parseInt(Le)===_.getMonth()+1)||E!=="all"&&X.type!==E||S&&!X.description.toLowerCase().includes(S.toLowerCase())||k!=="all"&&X.category!==k||N!=="all"&&X.paymentMethod!==N)}).sort((X,ce)=>new Date(ce.date).getTime()-new Date(X.date).getTime()),[t,_,E,S,k,N]),Hn=U.useMemo(()=>{const X={};Dt.forEach(Me=>{X[Me.date]||(X[Me.date]={transactions:[],total:0}),X[Me.date].transactions.push(Me);const fn=Me.type==="income"?Me.amount:-Me.amount;X[Me.date].total+=fn});const Le=[...Object.entries(X).map(([Me,fn])=>({date:Me,...fn})).sort((Me,fn)=>new Date(fn.date).getTime()-new Date(Me.date).getTime())].reverse();let Fe=0;return Le.map(Me=>(Fe+=Me.total,{...Me,runningBalance:Fe})).reverse()},[Dt]),en=X=>l?"":`R$ ${X.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,ni=X=>{const ce=new Date(X+"T12:00:00"),Le=new Date,Fe=new Date;if(Fe.setDate(Fe.getDate()-1),ce.toDateString()===Le.toDateString())return"Hoje";if(ce.toDateString()===Fe.toDateString())return"Ontem";const Be=ce.toLocaleDateString("pt-BR",{weekday:"long"}),Me=ce.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"});return`${Be.split("-")[0]}, ${Me}`},ur=async()=>{if(!oe.description)return;v(!0);const X=await uee(oe.description),ce=fe.includes(X);re(Le=>({...Le,category:ce?X:"Outros"})),v(!1)},Rr=X=>{const ce=X.target.value,Le=n.filter(Be=>Be.type===ce).map(Be=>Be.name),Fe=ce==="income"?"pix":"credit_card";re(Be=>({...Be,type:ce,category:Le[0]||"Outros",paymentMethod:Fe}))},cr=()=>{re({description:"",amount:"",type:"expense",category:"Outros",date:new Date().toISOString().split("T")[0],status:"paid",paymentMethod:"credit_card",isRecurring:!1,autoPay:!1,installments:"",observation:""}),q(null),L("monthly"),P([]),G(!1),K(""),se(!1),Z("5")},dr=X=>{re({description:X.description||"",amount:(X.amount||0).toString(),type:X.type||"expense",category:X.category||"Outros",date:X.date||new Date().toISOString().split("T")[0],status:X.status||"paid",paymentMethod:X.paymentMethod||(X.type==="income"?"pix":"credit_card"),isRecurring:X.isRecurring||!1,autoPay:X.autoPay||!1,installments:"",observation:X.observation||""}),q(X.id),h(!0)},ws=X=>{P(ce=>ce.includes(X)?ce.filter(Le=>Le!==X):[...ce,X])},Gt=X=>{X.preventDefault();let ce=parseFloat(oe.amount),Le=oe.observation;if(oe.type==="income"&&oe.category==="Salrio"&&$){const Be=parseFloat(H);if(!isNaN(Be)&&Be>0&&Be<100){const Me=ce*(Be/100),fn=ce;ce=ce-Me;const fr=`(Salrio Bruto: R$ ${fn.toFixed(2)} | Desc. Penso: ${Be}%)`;Le=Le?`${Le} ${fr}`:fr}}const Fe={description:oe.description,amount:ce,type:oe.type,category:oe.category,date:oe.date,status:oe.status,paymentMethod:oe.paymentMethod,isRecurring:oe.isRecurring,autoPay:oe.status==="pending"?oe.autoPay:!1,observation:Le};if(oe.isRecurring)if(V==="days"&&z.length>0){const[Be,Me]=oe.date.split("-").map(Number),fn=new Date(Be,Me,0).getDate();z.forEach(fr=>{if(fr<=fn){const qt=String(fr).padStart(2,"0"),Or=String(Me).padStart(2,"0"),_s=`${Be}-${Or}-${qt}`;r({...Fe,description:`${oe.description} (Dia ${fr})`,date:_s,isRecurring:!1})}})}else{const Be=parseInt(oe.installments);if(!isNaN(Be)&&Be>1){const[Me,fn,fr]=oe.date.split("-").map(Number),qt=parseInt(W)||5;for(let Or=0;Or<Be;Or++){let _s;Y&&oe.category==="Salrio"&&oe.type==="income"?_s=nO(Me,fn-1+Or,qt):_s=new Date(Me,fn-1+Or,fr).toISOString().split("T")[0];const Yu=`${oe.description} (${Or+1}/${Be})`;r({...Fe,description:Yu,date:_s,isRecurring:!1})}}else O?i(O,Fe):r(Fe)}else O?i(O,Fe):r(Fe);cr(),h(!1)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white hidden md:block",children:"Transaes"}),c.jsxs("div",{className:"flex flex-1 w-full md:w-auto gap-3 items-center",children:[c.jsxs("div",{className:"flex-1 relative group",children:[c.jsx(tb,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2 group-focus-within:text-indigo-500 transition-colors"}),c.jsx("input",{type:"text",placeholder:"Buscar...",value:S,onChange:X=>I(X.target.value),className:"w-full pl-9 pr-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 text-sm transition-all shadow-sm"}),S&&c.jsx("button",{onClick:()=>I(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:c.jsx(Gn,{className:"w-3 h-3"})})]}),c.jsx("button",{onClick:()=>j(!D),className:`p-2.5 rounded-xl border transition-all ${D?"bg-indigo-50 border-indigo-200 text-indigo-600 dark:bg-indigo-900/30 dark:border-indigo-800 dark:text-indigo-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-500"}`,children:c.jsx(AD,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-1 shrink-0",children:[c.jsx("button",{onClick:$e,className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-600 dark:text-slate-300",children:c.jsx(h1,{className:"w-4 h-4"})}),c.jsx("span",{className:"px-2 text-xs font-bold text-slate-700 dark:text-slate-200 capitalize min-w-[80px] text-center",children:_.toLocaleDateString("pt-BR",{month:"short",year:"2-digit"})}),c.jsx("button",{onClick:Oe,className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-600 dark:text-slate-300",children:c.jsx(l0,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"hidden md:flex gap-2",children:[c.jsxs("button",{onClick:()=>a(ge.SUBSCRIPTIONS),className:"flex items-center gap-2 bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700 px-4 py-2.5 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors font-medium text-sm shadow-sm",children:[c.jsx(aa,{className:"w-4 h-4 text-indigo-500"}),"Assinaturas"]}),c.jsxs("button",{onClick:()=>{cr(),h(!f)},className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2.5 rounded-xl hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-500/20 font-bold text-sm",children:[c.jsx(sr,{className:"w-4 h-4"})," Nova"]})]})]}),D&&c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 bg-slate-50 dark:bg-slate-800/50 p-3 rounded-xl border border-slate-200 dark:border-slate-700 animate-fade-in-down",children:[c.jsxs("select",{value:k,onChange:X=>T(X.target.value),className:"p-2 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white text-xs outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsx("option",{value:"all",children:"Todas Categorias"}),n.map(X=>c.jsx("option",{value:X.name,children:X.name},X.id))]}),c.jsxs("select",{value:N,onChange:X=>M(X.target.value),className:"p-2 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white text-xs outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsx("option",{value:"all",children:"Todos Mtodos"}),[...rO,...iO].map(X=>c.jsx("option",{value:X,children:Zv[X]},X))]})]})]}),tt.length>0&&c.jsx("div",{className:"space-y-2",children:tt.map((X,ce)=>c.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-4 rounded-xl flex items-start gap-3 animate-fade-in-down shadow-sm",children:[c.jsx("div",{className:"bg-amber-100 dark:bg-amber-800 p-2 rounded-full flex-shrink-0",children:c.jsx(f1,{className:"w-5 h-5 text-amber-600 dark:text-amber-300"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-amber-800 dark:text-amber-300 text-sm",children:X.title}),c.jsx("p",{className:"text-amber-700 dark:text-amber-400 text-xs mt-0.5",children:X.message})]})]},ce))}),c.jsxs("div",{className:"grid grid-cols-3 gap-3 md:gap-4",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 md:p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-[10px] md:text-xs font-bold uppercase tracking-wider",children:"Entradas"}),c.jsx("p",{className:"text-sm md:text-lg font-bold text-emerald-600 dark:text-emerald-400 truncate",children:en(Xe.income)})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 md:p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-[10px] md:text-xs font-bold uppercase tracking-wider",children:"Sadas"}),c.jsx("p",{className:"text-sm md:text-lg font-bold text-rose-600 dark:text-rose-400 truncate",children:en(Xe.expense)})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 md:p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-[10px] md:text-xs font-bold uppercase tracking-wider",children:"Resultado (Ms)"}),c.jsx("p",{className:`text-sm md:text-lg font-bold truncate ${Xe.balance>=0?"text-indigo-600 dark:text-indigo-400":"text-rose-600"}`,children:en(Xe.balance)})]})]}),c.jsx("div",{ref:de,className:"scroll-mt-24",children:f&&c.jsxs("form",{onSubmit:Gt,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[c.jsx("div",{className:"col-span-1 md:col-span-2",children:c.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:O?"Editar Transao":"Adicionar Transao"})}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{required:!0,type:"text",placeholder:"Descrio",value:oe.description,onChange:X=>re({...oe,description:X.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none w-full pr-10"}),c.jsx("button",{type:"button",onClick:ur,disabled:y||!oe.description||!u,className:`absolute right-2 top-2 ${u?"text-indigo-500 hover:text-indigo-700":"text-slate-400 opacity-50 cursor-not-allowed"} disabled:opacity-30`,children:y?c.jsx(u0,{className:"w-5 h-5 animate-spin"}):c.jsx(CB,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("input",{required:!0,type:"number",placeholder:"Valor (R$)",value:oe.amount,onChange:X=>re({...oe,amount:X.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 outline-none"}),oe.type==="income"&&oe.category==="Salrio"&&!O&&c.jsxs("div",{className:"flex items-center gap-2 mt-1 px-1 animate-fade-in",children:[c.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group select-none",onClick:()=>G(!$),children:[c.jsx("div",{className:`w-3.5 h-3.5 rounded border flex items-center justify-center transition-colors ${$?"bg-indigo-600 border-indigo-600":"border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800"}`,children:$&&c.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),c.jsxs("span",{className:"text-[10px] font-medium text-slate-500 dark:text-slate-400 group-hover:text-indigo-500 transition-colors flex items-center gap-1",children:[c.jsx(j6,{className:"w-3 h-3"})," Descontar Penso?"]})]}),$&&c.jsxs("div",{className:"flex items-center gap-1 animate-scale-in ml-auto",children:[c.jsx("input",{autoFocus:!0,type:"number",placeholder:"%",className:"w-12 py-0.5 px-1 text-xs border border-slate-300 rounded text-center outline-none focus:border-indigo-500 dark:bg-slate-700 dark:border-slate-600 dark:text-white font-bold",value:H,onChange:X=>K(X.target.value)}),c.jsx("span",{className:"text-[10px] text-slate-400 font-bold",children:"%"})]})]})]}),c.jsxs("select",{value:oe.type,onChange:Rr,className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:[c.jsx("option",{value:"expense",children:"Despesa"}),c.jsx("option",{value:"income",children:"Receita"})]}),c.jsx("select",{value:oe.category,onChange:X=>re({...oe,category:X.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:fe.map(X=>c.jsx("option",{value:X,children:X},X))}),c.jsxs("div",{children:[c.jsx("input",{required:!0,type:"date",value:oe.date,onChange:X=>re({...oe,date:X.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 w-full"}),oe.category==="Salrio"&&oe.type==="income"&&c.jsxs("div",{className:"flex items-center gap-2 p-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg border border-emerald-100 dark:border-emerald-800/30 animate-fade-in mt-2",children:[c.jsx("input",{type:"checkbox",id:"useBusinessDay",checked:Y,onChange:X=>se(X.target.checked),className:"w-3.5 h-3.5 text-emerald-600 rounded"}),c.jsxs("label",{htmlFor:"useBusinessDay",className:"text-xs font-bold text-emerald-700 dark:text-emerald-400 flex items-center gap-1 cursor-pointer flex-1",children:[c.jsx(V6,{className:"w-3 h-3"})," Considerar dia til?"]}),Y&&c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("input",{type:"number",min:"1",max:"20",value:W,onChange:X=>Z(X.target.value),className:"w-10 py-0.5 px-1 text-xs border border-emerald-300 rounded text-center outline-none focus:border-emerald-500 font-bold dark:bg-slate-700 dark:text-white"}),c.jsx("span",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 font-bold",children:" dia"})]})]})]}),c.jsxs("select",{value:oe.status,onChange:X=>re({...oe,status:X.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:[c.jsx("option",{value:"paid",children:"Pago/Recebido"}),c.jsx("option",{value:"pending",children:"Pendente"})]}),oe.status==="pending"&&c.jsxs("div",{className:"flex items-center gap-2 p-2 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg border border-indigo-100 dark:border-indigo-800/30 animate-fade-in mt-1 md:col-span-2 md:mt-0",children:[c.jsx("input",{type:"checkbox",id:"autoPay",checked:oe.autoPay||!1,onChange:X=>re({...oe,autoPay:X.target.checked}),className:"w-4 h-4 text-indigo-600 rounded"}),c.jsxs("label",{htmlFor:"autoPay",className:"text-xs font-bold text-indigo-700 dark:text-indigo-400 flex items-center gap-1 cursor-pointer flex-1",children:[c.jsx(cv,{className:"w-3 h-3"})," Lanamento Automtico na Data?"]})]}),c.jsx("select",{value:oe.paymentMethod,onChange:X=>re({...oe,paymentMethod:X.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:te.map(X=>c.jsx("option",{value:X,children:Zv[X]},X))}),c.jsx("div",{className:"md:col-span-2",children:c.jsx("textarea",{placeholder:"Observaes (opcional)",value:oe.observation,onChange:X=>re({...oe,observation:X.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 w-full outline-none resize-none h-20 text-sm"})}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsxs("div",{className:"flex items-center gap-2 p-2 border border-dashed border-slate-300 dark:border-slate-600 rounded-lg",children:[c.jsx("input",{type:"checkbox",id:"recurring",checked:oe.isRecurring,onChange:X=>re({...oe,isRecurring:X.target.checked}),className:"w-4 h-4 text-indigo-600 rounded"}),c.jsxs("label",{htmlFor:"recurring",className:"text-sm text-slate-700 dark:text-slate-200 font-medium flex items-center gap-1 cursor-pointer",children:[c.jsx(aa,{className:"w-4 h-4 text-indigo-500"})," Assinatura / Recorrente / Parcelado"]})]}),oe.isRecurring&&c.jsxs("div",{className:"mt-2 pl-2 md:pl-6 animate-fade-in space-y-3",children:[c.jsxs("div",{className:"flex gap-2 mb-3",children:[c.jsx("button",{type:"button",onClick:()=>L("monthly"),className:`flex-1 py-1.5 px-3 rounded-lg text-xs font-bold border transition-colors ${V==="monthly"?"bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800":"bg-slate-50 text-slate-500 border-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700"}`,children:"Mensal / Parcelado"}),c.jsx("button",{type:"button",onClick:()=>L("days"),className:`flex-1 py-1.5 px-3 rounded-lg text-xs font-bold border transition-colors ${V==="days"?"bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800":"bg-slate-50 text-slate-500 border-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700"}`,children:"Dias Especficos"})]}),V==="monthly"?c.jsx("div",{className:"space-y-3",children:c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Repetir por quantas vezes? (Opcional)"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(g1,{className:"w-4 h-4 text-slate-400"}),c.jsx("input",{type:"number",placeholder:"Ex: 12 (Deixe vazio para assinatura infinita)",value:oe.installments,onChange:X=>re({...oe,installments:X.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 text-sm w-full outline-none focus:ring-2 focus:ring-indigo-500"})]})]})}):c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsxs("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase flex items-center gap-1",children:[c.jsx(U6,{className:"w-3 h-3"})," Selecione os dias do ms"]}),c.jsx("div",{className:"grid grid-cols-7 gap-2",children:[...Array(31)].map((X,ce)=>{const Le=ce+1,Fe=z.includes(Le);return c.jsx("button",{type:"button",onClick:()=>ws(Le),className:`h-8 rounded-md text-xs font-bold transition-all ${Fe?"bg-indigo-600 text-white shadow-md shadow-indigo-500/30 transform scale-105":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:Le},Le)})}),c.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"Uma transao ser criada para cada dia selecionado neste ms."})]})]})]}),c.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-2 mt-2",children:[c.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:O?"Atualizar":"Salvar"})]})]})}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-1 flex",children:[c.jsxs("button",{onClick:()=>C("all"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${E==="all"?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-300":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[c.jsx(Zx,{className:"w-4 h-4"})," Todas"]}),c.jsxs("button",{onClick:()=>C("income"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${E==="income"?"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-300":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[c.jsx(lv,{className:"w-4 h-4"})," Entradas"]}),c.jsxs("button",{onClick:()=>C("expense"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${E==="expense"?"bg-rose-50 text-rose-600 dark:bg-rose-900/30 dark:text-rose-300":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[c.jsx(Sp,{className:"w-4 h-4"})," Sadas"]})]}),c.jsx("div",{className:"space-y-4 pb-20 md:pb-0",children:Hn.length===0?c.jsxs("div",{className:"text-center py-16 text-slate-400",children:[c.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(tb,{className:"w-8 h-8 opacity-50"})}),c.jsx("p",{children:"Nenhuma transao encontrada."}),c.jsx("p",{className:"text-xs mt-1",children:"Tente mudar os filtros ou adicione uma nova."})]}):Hn.map(X=>c.jsxs("div",{className:"animate-fade-in",children:[c.jsxs("div",{className:"flex items-center justify-between px-3 py-2 mb-1 sticky top-0 z-10 bg-slate-50/95 dark:bg-slate-900/95 backdrop-blur-sm rounded-lg border-b border-slate-100 dark:border-slate-800",children:[c.jsxs("h3",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[c.jsx(Xi,{className:"w-3 h-3"}),ni(X.date)]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:`text-xs font-bold ${X.total>=0?"text-emerald-600 dark:text-emerald-400":"text-rose-500"}`,children:X.total!==0&&(X.total>0?"+":"")+en(X.total)}),c.jsx("div",{className:"h-4 w-px bg-slate-300 dark:bg-slate-700"}),c.jsxs("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-400 flex items-center gap-1",title:"Saldo acumulado at este dia",children:[c.jsx(EB,{className:"w-3 h-3"}),en(X.runningBalance)]})]})]}),c.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden divide-y divide-slate-100 dark:divide-slate-700",children:X.transactions.map(ce=>c.jsxs("div",{className:"group hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[c.jsxs("div",{className:"md:hidden p-4 flex items-center gap-3 relative",children:[c.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 ${ce.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30":"bg-rose-100 text-rose-600 dark:bg-rose-900/30"}`,children:ce.type==="income"?c.jsx(lv,{className:"w-5 h-5"}):c.jsx(Sp,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>dr(ce),children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("h4",{className:"font-bold text-slate-800 dark:text-white truncate pr-2 text-sm",children:ce.description}),c.jsxs("span",{className:`font-bold text-sm whitespace-nowrap ${ce.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:[ce.type==="expense"&&"- ",en(ce.amount)]})]}),c.jsx("div",{className:"flex justify-between items-center mt-1",children:c.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400",children:[c.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium border ${ye(ce.category)}`,children:ce.category}),ce.isRecurring&&c.jsxs("span",{className:"flex items-center gap-0.5 text-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 px-1.5 py-0.5 rounded",title:"Recorrente Infinito",children:[c.jsx(HA,{className:"w-3 h-3"}),"Fixo"]}),ce.status==="pending"&&ce.autoPay&&c.jsxs("span",{className:"flex items-center gap-0.5 text-amber-600 bg-amber-50 dark:bg-amber-900/30 px-1.5 py-0.5 rounded",title:"Lanamento Automtico",children:[c.jsx(cv,{className:"w-3 h-3"})," Auto"]})]})}),ce.observation&&c.jsxs("p",{className:"text-[10px] text-slate-400 mt-1 italic truncate flex items-center gap-1",children:[c.jsx(Dl,{className:"w-3 h-3"})," ",ce.observation]})]}),c.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[c.jsx("button",{onClick:()=>s(ce.id),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${ce.status==="paid"?"bg-emerald-500 border-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-emerald-400"}`,children:c.jsx(Xx,{className:"w-3.5 h-3.5"})}),c.jsx("button",{onClick:()=>dr(ce),className:"p-1 text-slate-400",children:c.jsx(dB,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"hidden md:flex items-center gap-4 p-3 text-sm",children:[c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 ${ce.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30":"bg-rose-100 text-rose-600 dark:bg-rose-900/30"}`,children:ce.type==="income"?c.jsx(lv,{className:"w-4 h-4"}):c.jsx(Sp,{className:"w-4 h-4"})}),c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-8 text-center font-bold text-slate-400 text-xs",children:parseInt(ce.date.split("-")[2])}),c.jsx("div",{className:"w-24 shrink-0",children:c.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-medium border block text-center truncate ${ye(ce.category)}`,children:ce.category})}),c.jsxs("div",{className:"flex-1 font-medium text-slate-700 dark:text-slate-200 truncate cursor-pointer hover:text-indigo-500 flex flex-col justify-center",onClick:()=>dr(ce),title:"Clique para editar",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[ce.description,ce.isRecurring&&c.jsxs("span",{className:"text-[10px] text-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 px-1.5 py-0.5 rounded flex items-center gap-0.5",title:"Recorrncia Infinita",children:[c.jsx(HA,{className:"w-3 h-3"})," Recorrente"]}),ce.status==="pending"&&ce.autoPay&&c.jsxs("span",{className:"text-[10px] text-amber-600 bg-amber-50 dark:bg-amber-900/30 px-1.5 py-0.5 rounded flex items-center gap-0.5",title:"Lanamento Automtico",children:[c.jsx(cv,{className:"w-3 h-3"})," Auto"]})]}),ce.observation&&c.jsx("span",{className:"text-[10px] text-slate-400 font-normal truncate max-w-[300px]",children:ce.observation})]}),c.jsxs("div",{className:"w-24 text-xs text-slate-500 flex items-center gap-1",children:[c.jsx(jke,{method:ce.paymentMethod||"",className:"w-3 h-3"}),c.jsx("span",{className:"truncate",children:Zv[ce.paymentMethod||""]||"-"})]}),c.jsx("div",{className:`w-28 text-right font-bold cursor-pointer hover:text-indigo-500 ${ce.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-slate-700 dark:text-slate-200"}`,onClick:()=>dr(ce),children:en(ce.amount)}),c.jsx("div",{className:"w-8 flex justify-center",children:c.jsx("button",{onClick:()=>s(ce.id),className:`transition-all hover:scale-110 ${ce.status==="paid"?"text-emerald-500":"text-slate-300 hover:text-emerald-400"}`,title:ce.status==="paid"?"Marcar como pendente":"Marcar como pago",children:c.jsx(Xx,{className:"w-5 h-5"})})}),c.jsxs("div",{className:"w-16 flex justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:()=>dr(ce),className:"p-1.5 text-slate-400 hover:text-indigo-500 rounded hover:bg-slate-100 dark:hover:bg-slate-700",children:c.jsx(pB,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>o(ce.id),className:"p-1.5 text-slate-400 hover:text-rose-500 rounded hover:bg-slate-100 dark:hover:bg-slate-700",children:c.jsx(rs,{className:"w-4 h-4"})})]})]})]})]},ce.id))})]},X.date))}),c.jsx("button",{onClick:()=>{cr(),h(!0)},className:"md:hidden fixed bottom-20 right-4 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-lg shadow-indigo-600/30 flex items-center justify-center z-40 hover:scale-105 transition-transform",children:c.jsx(sr,{className:"w-7 h-7"})})]})},oO="NEXO Finanas",Lke=async()=>{const t=new Br;t.addScope("https://www.googleapis.com/auth/calendar");try{const e=await bj(Li,t),n=Br.credentialFromResult(e);return(n==null?void 0:n.accessToken)||null}catch(e){return console.error("Error getting access token:",e),null}},y_=async(t,e,n,r)=>{var o;const i=await fetch(t,{method:e,headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:r?JSON.stringify(r):void 0});if(!i.ok){const s=await i.json();throw new Error(((o=s.error)==null?void 0:o.message)||"Google API Error")}return i.status===204?null:i.json()},Fke=async t=>{const n=(await y_("https://www.googleapis.com/calendar/v3/users/me/calendarList","GET",t)).items.find(i=>i.summary===oO);return n?n.id:(await y_("https://www.googleapis.com/calendar/v3/calendars","POST",t,{summary:oO,description:"Calendrio financeiro gerado pelo app NEXO."})).id},Vke=async(t,e,n)=>{const r={summary:` Pagar: ${t.description}`,description:`Valor: R$ ${t.amount.toFixed(2)}
Categoria: ${t.category}
Obs: ${t.observation||"-"}`,start:{date:t.date},end:{date:t.date},colorId:"11",reminders:{useDefault:!1,overrides:[{method:"popup",minutes:1440},{method:"popup",minutes:540}]}};return(await y_(`https://www.googleapis.com/calendar/v3/calendars/${n}/events`,"POST",e,r)).id},Uke=async(t,e)=>{const n=await Lke();if(!n)throw new Error("Acesso ao Google Agenda negado.");const r=await Fke(n),i=t.filter(s=>s.type==="expense"&&s.status==="pending"&&!s.googleEventId&&new Date(s.date)>=new Date);if(i.length===0)return 0;let o=0;for(const s of i)try{const a=await Vke(s,n,r);e(s.id,{googleEventId:a}),o++}catch(a){console.error(`Failed to sync transaction ${s.description}`,a)}return o},Bke=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],zke=["Casa","Mobilidade","Alimentos","Lazer","Sade","Educao","Pets","Salrio","Renda Extra","Investimentos","Outros"],Gke=[{value:"credit_card",label:"Crdito"},{value:"debit_card",label:"Dbito"},{value:"pix",label:"PIX"},{value:"cash",label:"Dinheiro"},{value:"direct_debit",label:"Dbito Auto."}],qke=t=>{let e=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//NEXO Finance//PT-BR
`;t.forEach(i=>{const o=i.date.replace(/-/g,"");e+=`BEGIN:VEVENT
`,e+=`DTSTART;VALUE=DATE:${o}
`,e+=`DTEND;VALUE=DATE:${o}
`,e+=`SUMMARY:${i.description} (${i.type==="income"?"+":"-"} R$ ${i.amount})
`,e+=`DESCRIPTION:Categoria: ${i.category} | Status: ${i.status} ${i.observation?"| Obs: "+i.observation:""}
`,e+=`END:VEVENT
`}),e+="END:VCALENDAR";const n=new Blob([e],{type:"text/calendar;charset=utf-8"}),r=document.createElement("a");r.href=window.URL.createObjectURL(n),r.setAttribute("download","nexo_agenda.ics"),document.body.appendChild(r),r.click(),document.body.removeChild(r)},Hke=({transactions:t,budgets:e,onAddTransaction:n,privacyMode:r})=>{const[i,o]=U.useState(new Date),[s,a]=U.useState(new Date().getDate()),[l,u]=U.useState("all"),[d,f]=U.useState(!1),[h,y]=U.useState(!1),[v,b]=U.useState({description:"",amount:"",type:"expense",category:"Outros",paymentMethod:"credit_card",status:"pending",observation:""}),x=i.getFullYear(),_=i.getMonth(),w=(P,$)=>new Date(P,$+1,0).getDate(),E=(P,$)=>new Date(P,$,1).getDay(),C=w(x,_),S=E(x,_),I=U.useMemo(()=>{const P=[],$=new Date,G=$.getMonth(),H=$.getFullYear(),K=$.toISOString().slice(0,7);return e.forEach(Y=>{if(!(Y.isRecurring&&!e.some(Z=>Z.category===Y.category&&Z.month===K&&!Z.isRecurring)||Y.month===K))return;t.filter(Z=>Z.type==="expense"&&Z.category===Y.category&&new Date(Z.date).getMonth()===G&&new Date(Z.date).getFullYear()===H).reduce((Z,de)=>Z+de.amount,0)>=Y.limit&&P.push({title:`Limite Excedido: ${Y.category}`,message:"Voc estourou o teto definido para esta categoria.",type:"warning"})}),P},[e,t]),k=U.useMemo(()=>{const P=t.filter(Y=>{const[se,W]=Y.date.split("-").map(Number);return se===x&&W===_+1}),$=new Map;t.forEach(Y=>{if(Y.isRecurring){const se=$.get(Y.description);(!se||new Date(Y.date)>new Date(se.date))&&$.set(Y.description,Y)}});const G=[],H=new Date;return new Date(x,_,1)>=new Date(H.getFullYear(),H.getMonth(),1)&&$.forEach(Y=>{if(!P.some(W=>W.description===Y.description&&W.amount===Y.amount)){const W=new Date(Y.date),Z=W.getDate(),de=Math.min(Z,C);W<new Date(x,_+1,0)&&G.push({...Y,id:`ghost-${Y.id}-${x}-${_}`,date:`${x}-${String(_+1).padStart(2,"0")}-${String(de).padStart(2,"0")}`,status:"pending",isGhost:!0})}}),[...P,...G].filter(Y=>l==="all"?!0:l==="pending"?Y.status==="pending":Y.type===l)},[t,x,_,C,l]),T=U.useMemo(()=>s===null?[]:k.filter(P=>parseInt(P.date.split("-")[2])===s),[k,s]),N=U.useMemo(()=>{let P=0;for(let $=1;$<=C;$++){const G=k.filter(H=>parseInt(H.date.split("-")[2])===$&&H.type==="expense").reduce((H,K)=>H+K.amount,0);G>P&&(P=G)}return P||1},[k,C]),M=()=>{o(new Date(x,_-1,1)),a(null)},D=()=>{o(new Date(x,_+1,1)),a(null)},j=()=>{s&&(b({description:"",amount:"",type:"expense",category:"Outros",paymentMethod:"credit_card",status:"pending",observation:""}),y(!0))},O=P=>{if(P.preventDefault(),!s)return;const $=`${x}-${String(_+1).padStart(2,"0")}-${String(s).padStart(2,"0")}`;n({description:v.description,amount:parseFloat(v.amount),type:v.type,category:v.category,date:$,status:v.status,paymentMethod:v.paymentMethod,isRecurring:!1,observation:v.observation}),y(!1)},q=async()=>{if(!Li.currentUser){alert("Voc precisa estar logado para sincronizar.");return}f(!0);try{const P=await Uke(t,($,G)=>{Dp(Li.currentUser.uid,$,G)});P>0?alert(`${P} eventos criados na sua Google Agenda!`):alert("Tudo sincronizado! Nenhuma nova conta pendente encontrada.")}catch(P){console.error(P),alert("Erro ao sincronizar: "+P.message)}finally{f(!1)}},V=P=>r?"":P>=1e3?(P/1e3).toFixed(1)+"k":P.toFixed(0),L=P=>r?"":`R$ ${P.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,z=[];for(let P=0;P<S;P++)z.push(c.jsx("div",{className:"h-28 bg-slate-50/30 dark:bg-slate-800/30 border border-slate-100 dark:border-slate-700/50"},`empty-${P}`));for(let P=1;P<=C;P++){const $=k.filter(Z=>parseInt(Z.date.split("-")[2])===P),G=$.filter(Z=>Z.type==="income").reduce((Z,de)=>Z+de.amount,0),H=$.filter(Z=>Z.type==="expense").reduce((Z,de)=>Z+de.amount,0),K=Math.min(1,H/N);let Y="bg-white dark:bg-slate-800";H>0&&(K>.7?Y="bg-rose-100 dark:bg-rose-900/40":K>.4?Y="bg-rose-50 dark:bg-rose-900/20":Y="bg-slate-50 dark:bg-slate-800");const se=new Date().getDate()===P&&new Date().getMonth()===_&&new Date().getFullYear()===x,W=s===P;z.push(c.jsxs("div",{onClick:()=>a(P),className:`h-28 p-1.5 border border-slate-100 dark:border-slate-700 relative cursor-pointer transition-all hover:brightness-95
          ${W?"ring-2 ring-inset ring-indigo-500 z-10":""}
          ${Y}
        `,children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("span",{className:`text-xs font-bold inline-flex w-6 h-6 items-center justify-center rounded-full ${se?"bg-indigo-600 text-white shadow-lg":"text-slate-500 dark:text-slate-400"}`,children:P}),$.some(Z=>Z.status==="pending")&&c.jsx("div",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full animate-pulse",title:"Pagamentos Pendentes"})]}),c.jsxs("div",{className:"mt-2 flex flex-col gap-0.5",children:[G>0&&c.jsxs("div",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-100/50 dark:bg-emerald-900/30 px-1 rounded truncate",children:["+",V(G)]}),H>0&&c.jsxs("div",{className:"text-[10px] font-bold text-rose-600 dark:text-rose-400 px-1 rounded truncate",children:["-",V(H)]}),$.some(Z=>Z.isGhost)&&c.jsx("div",{className:"absolute bottom-1 right-1 opacity-50",children:c.jsx(g1,{className:"w-3 h-3 text-slate-400"})})]})]},P))}return c.jsxs("div",{className:"space-y-6 animate-fade-in pb-20 md:pb-0 relative",children:[I.length>0&&c.jsx("div",{className:"space-y-2 mb-4",children:I.map((P,$)=>c.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-4 rounded-xl flex items-start gap-3 animate-fade-in-down shadow-sm",children:[c.jsx("div",{className:"bg-amber-100 dark:bg-amber-800 p-2 rounded-full flex-shrink-0",children:c.jsx(f1,{className:"w-5 h-5 text-amber-600 dark:text-amber-300"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-bold text-amber-800 dark:text-amber-300 text-sm",children:P.title}),c.jsx("p",{className:"text-amber-700 dark:text-amber-400 text-xs mt-0.5",children:P.message})]})]},$))}),h&&c.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-scale-in border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Nova Transao"}),c.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-semibold flex items-center gap-1",children:[c.jsx(Id,{className:"w-3 h-3"}),s," de ",i.toLocaleDateString("pt-BR",{month:"long"})]})]}),c.jsx("button",{onClick:()=>y(!1),className:"text-slate-400 hover:text-slate-600",children:c.jsx(Gn,{className:"w-5 h-5"})})]}),c.jsxs("form",{onSubmit:O,className:"p-6 space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"O que ?"}),c.jsxs("div",{className:"relative",children:[c.jsx(O6,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"}),c.jsx("input",{autoFocus:!0,required:!0,type:"text",placeholder:"Ex: Mercado, Conta de Luz...",value:v.description,onChange:P=>b({...v,description:P.target.value}),className:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Valor (R$)"}),c.jsxs("div",{className:"relative",children:[c.jsx(fm,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"}),c.jsx("input",{required:!0,type:"number",step:"0.01",placeholder:"0,00",value:v.amount,onChange:P=>b({...v,amount:P.target.value}),className:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Tipo"}),c.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 rounded-xl p-1",children:[c.jsx("button",{type:"button",onClick:()=>b({...v,type:"expense"}),className:`flex-1 py-1.5 text-xs font-bold rounded-lg transition-colors ${v.type==="expense"?"bg-white dark:bg-slate-600 text-rose-600 shadow-sm":"text-slate-500"}`,children:"Sada"}),c.jsx("button",{type:"button",onClick:()=>b({...v,type:"income"}),className:`flex-1 py-1.5 text-xs font-bold rounded-lg transition-colors ${v.type==="income"?"bg-white dark:bg-slate-600 text-emerald-600 shadow-sm":"text-slate-500"}`,children:"Entrada"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Categoria"}),c.jsxs("div",{className:"relative",children:[c.jsx(ND,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"}),c.jsx("select",{value:v.category,onChange:P=>b({...v,category:P.target.value}),className:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 appearance-none",children:zke.map(P=>c.jsx("option",{value:P,children:P},P))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Pagamento"}),c.jsxs("div",{className:"relative",children:[c.jsx(dm,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"}),c.jsx("select",{value:v.paymentMethod,onChange:P=>b({...v,paymentMethod:P.target.value}),className:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 appearance-none",children:Gke.map(P=>c.jsx("option",{value:P.value,children:P.label},P.value))})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Status"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("label",{className:`flex-1 cursor-pointer border rounded-xl p-3 flex items-center justify-center gap-2 transition-all ${v.status==="paid"?"bg-emerald-50 border-emerald-500 text-emerald-700 dark:bg-emerald-900/20":"border-slate-200 dark:border-slate-700"}`,children:[c.jsx("input",{type:"radio",name:"status",className:"hidden",checked:v.status==="paid",onChange:()=>b({...v,status:"paid"})}),c.jsx(Qx,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-semibold",children:"Pago / Recebido"})]}),c.jsxs("label",{className:`flex-1 cursor-pointer border rounded-xl p-3 flex items-center justify-center gap-2 transition-all ${v.status==="pending"?"bg-amber-50 border-amber-500 text-amber-700 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700"}`,children:[c.jsx("input",{type:"radio",name:"status",className:"hidden",checked:v.status==="pending",onChange:()=>b({...v,status:"pending"})}),c.jsx(cm,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-semibold",children:"Pendente"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Observaes (Opcional)"}),c.jsx("input",{type:"text",placeholder:"Detalhes adicionais...",value:v.observation,onChange:P=>b({...v,observation:P.target.value}),className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500"})]}),c.jsxs("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-lg shadow-indigo-500/20 transition-all flex items-center justify-center gap-2 mt-4",children:[c.jsx(sr,{className:"w-5 h-5"})," Adicionar Transao"]})]})]})}),c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(Xi,{className:"w-7 h-7 text-indigo-600"}),"Agenda Financeira"]}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Previso de gastos e controle de vencimentos."})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full md:w-auto",children:[c.jsxs("button",{onClick:q,disabled:d,className:`flex items-center gap-2 px-3 py-2 rounded-lg text-xs font-bold transition-all shadow-sm border ${d?"bg-slate-100 text-slate-400 border-slate-200 cursor-not-allowed":"bg-white hover:bg-slate-50 text-indigo-600 border-indigo-100 hover:border-indigo-300 dark:bg-slate-800 dark:text-indigo-400 dark:border-slate-700"}`,title:"Sincronizar contas pendentes com Google Agenda",children:[c.jsx(yB,{className:`w-4 h-4 ${d?"animate-spin":""}`}),d?"Sincronizando...":"Sincronizar Agenda"]}),c.jsx("button",{onClick:()=>qke(k),className:"p-2 text-slate-500 hover:text-indigo-600 border border-slate-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800",title:"Exportar para Arquivo (.ics)",children:c.jsx(p1,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-1 flex-1 md:flex-none justify-center",children:[c.jsx("button",{onClick:M,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:c.jsx(h1,{className:"w-5 h-5"})}),c.jsx("div",{className:"px-4 font-semibold text-slate-700 dark:text-slate-200 capitalize min-w-[140px] text-center",children:i.toLocaleDateString("pt-BR",{month:"long",year:"numeric"})}),c.jsx("button",{onClick:D,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:c.jsx(l0,{className:"w-5 h-5"})})]})]})]}),c.jsx("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl gap-1 overflow-x-auto",children:[{id:"all",label:"Tudo",icon:AD},{id:"expense",label:"Sadas",icon:zA},{id:"income",label:"Entradas",icon:GA},{id:"pending",label:"Pendentes",icon:cm}].map(P=>c.jsxs("button",{onClick:()=>u(P.id),className:`flex-1 min-w-[80px] py-2 text-xs font-semibold rounded-lg transition-all flex items-center justify-center gap-2
                    ${l===P.id?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[c.jsx(P.icon,{className:"w-3 h-3"})," ",P.label]},P.id))}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[c.jsx("div",{className:"grid grid-cols-7 bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:Bke.map(P=>c.jsx("div",{className:"py-3 text-center text-xs font-bold uppercase text-slate-500 dark:text-slate-400",children:P},P))}),c.jsx("div",{className:"grid grid-cols-7",children:z})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-0 overflow-hidden flex flex-col h-full min-h-[400px]",children:[c.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-900/50",children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:s?`${s} de ${i.toLocaleDateString("pt-BR",{month:"long"})}`:"Resumo do Ms"}),s&&c.jsxs("button",{onClick:j,className:"mt-3 w-full py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-colors",children:[c.jsx(sr,{className:"w-4 h-4"})," Adicionar neste dia"]})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[s&&T.length===0&&c.jsxs("div",{className:"text-center py-10",children:[c.jsx(Id,{className:"w-12 h-12 text-slate-200 mx-auto mb-3"}),c.jsx("p",{className:"text-slate-400 text-sm",children:"Nenhuma movimentao."})]}),!s&&c.jsxs("div",{className:"text-center py-10",children:[c.jsx("div",{className:"inline-block p-4 rounded-full bg-slate-100 dark:bg-slate-700 mb-4",children:c.jsx(Xi,{className:"w-8 h-8 text-indigo-500"})}),c.jsx("p",{className:"text-slate-500 font-medium",children:"Selecione um dia"}),c.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Clique no calendrio para ver detalhes ou adicionar contas."})]}),T.map((P,$)=>c.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${P.isGhost?"bg-slate-50 dark:bg-slate-800 border-dashed border-indigo-300 dark:border-indigo-700":"bg-white dark:bg-slate-700/50 border-slate-100 dark:border-slate-700"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`p-2 rounded-full ${P.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100 text-rose-600 dark:bg-rose-900/30 dark:text-rose-400"}`,children:P.type==="income"?c.jsx(GA,{className:"w-4 h-4"}):c.jsx(zA,{className:"w-4 h-4"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:"font-semibold text-slate-800 dark:text-white text-sm line-clamp-1",children:P.description}),P.isGhost&&c.jsx("span",{className:"text-[9px] bg-indigo-100 text-indigo-600 px-1.5 rounded uppercase font-bold",children:"Previsto"})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:P.category}),P.observation&&c.jsx("p",{className:"text-[10px] text-slate-400 italic mt-0.5",children:P.observation})]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:`font-bold text-sm ${P.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-slate-700 dark:text-slate-300"}`,children:L(P.amount)}),P.type==="expense"&&c.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${P.status==="pending"?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"}`,children:P.status==="pending"?"Pendente":"Pago"})]})]},P.id||$))]})]})]})]})},Wke=({transactions:t,onUpdateTransaction:e,onDeleteTransaction:n,privacyMode:r})=>{const i=U.useMemo(()=>{const h=new Map;return t.filter(v=>v.type==="expense"&&v.isRecurring).forEach(v=>{const b=h.get(v.description);(!b||new Date(v.date)>new Date(b.date))&&h.set(v.description,v)}),Array.from(h.values()).sort((v,b)=>b.amount-v.amount)},[t]),o=i.reduce((h,y)=>h+y.amount,0),s=o*12,a=U.useMemo(()=>i.slice(0,10).map(h=>({name:h.description,amount:h.amount,annual:h.amount*12,color:h.amount>200?"#ef4444":h.amount>50?"#f59e0b":"#3b82f6"})),[i]),l=h=>r?"":`R$ ${h.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,u=h=>{confirm("Deseja parar de considerar este item como recorrente? Ele continuar como uma transao comum.")&&e(h,{isRecurring:!1})},d=h=>{const v=new Date(h).getDate(),b=new Date;let x=new Date(b.getFullYear(),b.getMonth(),v);x.setHours(0,0,0,0)<b.setHours(0,0,0,0)&&x.setMonth(x.getMonth()+1);const _=x.getTime()-b.getTime(),w=Math.ceil(_/(1e3*60*60*24));return w===0?{label:"Hoje",color:"text-rose-500 font-bold bg-rose-100 dark:bg-rose-900/30"}:w===1?{label:"Amanh",color:"text-amber-500 font-bold bg-amber-100 dark:bg-amber-900/30"}:{label:`em ${w} dias`,color:"text-slate-500 bg-slate-100 dark:bg-slate-700"}},f=({active:h,payload:y,label:v})=>{if(h&&y&&y.length){const b=y[0].payload;return c.jsxs("div",{className:"bg-white/95 dark:bg-slate-800/95 p-3 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 backdrop-blur-sm",children:[c.jsx("p",{className:"font-bold text-slate-800 dark:text-white mb-2 border-b border-slate-100 dark:border-slate-700 pb-1",children:b.name}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex justify-between gap-6 text-xs text-slate-500 dark:text-slate-400",children:[c.jsx("span",{children:"Mensalidade:"}),c.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:r?"":`R$ ${b.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})}`})]}),c.jsxs("div",{className:"flex justify-between gap-6 text-xs text-slate-500 dark:text-slate-400",children:[c.jsx("span",{children:"Custo Anual:"}),c.jsx("span",{className:"font-bold text-emerald-600 dark:text-emerald-400",children:r?"":`R$ ${b.annual.toLocaleString("pt-BR",{minimumFractionDigits:2})}`})]})]})]})}return null};return c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(aa,{className:"w-7 h-7 text-indigo-600"}),"Gesto de Assinaturas"]}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Gerencie seus gastos recorrentes e descubra o impacto anual das pequenas mensalidades."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-indigo-600 text-white p-6 rounded-xl shadow-lg relative overflow-hidden",children:[c.jsxs("div",{className:"relative z-10",children:[c.jsx("p",{className:"text-indigo-200 text-sm font-medium mb-1 uppercase tracking-wider",children:"Custo Mensal Real"}),c.jsx("h3",{className:"text-3xl font-bold",children:l(o)}),c.jsxs("p",{className:"text-indigo-200 text-xs mt-2 opacity-80",children:[i.length," assinaturas ativas"]})]}),c.jsx(Id,{className:"absolute right-4 bottom-4 w-24 h-24 text-indigo-500 opacity-20"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 p-6 rounded-xl shadow-sm relative overflow-hidden",children:[c.jsxs("div",{className:"relative z-10",children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1 uppercase tracking-wider",children:"Impacto Anual"}),c.jsx("h3",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:l(s)}),c.jsxs("p",{className:"text-emerald-500 text-xs mt-2 font-medium flex items-center gap-1",children:[c.jsx(Qi,{className:"w-3 h-3"}),"Projeo de 12 meses"]})]}),c.jsx(fm,{className:"absolute right-4 bottom-4 w-24 h-24 text-slate-100 dark:text-slate-700"})]})]}),a.length>0&&c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[c.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 mb-4",children:[c.jsx(kd,{className:"w-5 h-5 text-indigo-500"}),"Ranking de Custos (Top 10)"]}),c.jsx("div",{className:"h-[250px] w-full",children:c.jsx(Zo,{width:"100%",height:"100%",children:c.jsxs(zS,{data:a,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[c.jsx(du,{strokeDasharray:"3 3",horizontal:!1,stroke:"#e2e8f0",opacity:.5}),c.jsx(xi,{type:"number",hide:!0}),c.jsx(bi,{dataKey:"name",type:"category",width:120,tick:{fill:"#64748b",fontSize:11,fontWeight:500},axisLine:!1,tickLine:!1}),c.jsx(sn,{content:c.jsx(f,{}),cursor:{fill:"transparent"}}),c.jsx(vi,{dataKey:"amount",radius:[0,4,4,0],barSize:20,children:a.map((h,y)=>c.jsx(Na,{fill:h.color},`cell-${y}`))})]})})})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.length===0?c.jsxs("div",{className:"col-span-full py-12 text-center bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[c.jsx(aa,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"Nenhuma assinatura encontrada."}),c.jsx("p",{className:"text-slate-400 text-sm",children:'Marque a opo "Recorrente" ao adicionar uma despesa.'})]}):i.map(h=>{const y=d(h.date);return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-all group relative",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{className:"overflow-hidden mr-2",children:[c.jsx("h4",{className:"font-bold text-slate-800 dark:text-white text-lg truncate mb-1",children:h.description}),c.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400",children:h.category})]}),c.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[c.jsx("button",{onClick:()=>u(h.id),className:"p-1.5 text-slate-400 hover:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/30 rounded-lg transition-colors",title:"Remover recorrncia",children:c.jsx(wD,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>n(h.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors",title:"Excluir assinatura",children:c.jsx(Gn,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:"flex items-center justify-between mt-2 mb-4",children:c.jsxs("div",{className:`flex items-center gap-1.5 text-[10px] uppercase font-bold px-2 py-1 rounded-md ${y.color}`,children:[c.jsx(Xi,{className:"w-3 h-3"}),"Renova ",y.label]})}),c.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-xs text-slate-400 block",children:"Mensal"}),c.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:l(h.amount)})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"text-xs text-slate-400 block",children:"Anual"}),c.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:l(h.amount*12)})]})]})]},h.id)})})]})},Kke=["Serasa Limpa Nome","Acordo Certo","Desenrola Brasil","SPC Brasil","Boa Vista (Consumidor Positivo)","Direto com Banco/Credor","QueroQuitar","Pessoal/Famlia","Outros"],Yke=({debts:t,onAdd:e,onUpdate:n,onDelete:r,onAddTransaction:i,privacyMode:o,quickActionSignal:s})=>{const[a,l]=U.useState(!1),[u,d]=U.useState("all"),[f,h]=U.useState({isOpen:!1,debtId:""}),[y,v]=U.useState({date:new Date().toISOString().split("T")[0],amount:"",installments:1}),[b,x]=U.useState({isOpen:!1,debtId:"",currentValue:0}),[_,w]=U.useState("1"),[E,C]=U.useState({creditor:"",originalAmount:"",currentAmount:"",targetAmount:"",dueDate:"",status:"open",platform:"Serasa Limpa Nome",customPlatform:"",notes:""});U.useEffect(()=>{s&&Date.now()-s<2e3&&(l(!0),C({creditor:"",originalAmount:"",currentAmount:"",targetAmount:"",dueDate:"",status:"open",platform:"Serasa Limpa Nome",customPlatform:"",notes:""}))},[s]);const S=L=>{const z=new Date(L);return(new Date().getTime()-z.getTime())/(1e3*60*60*24*365.25)>=5},I=U.useMemo(()=>{let L=[...t];return u==="active"?L=L.filter(z=>!S(z.dueDate)):u==="prescribed"&&(L=L.filter(z=>S(z.dueDate))),L.sort((z,P)=>{const $=K=>K.status==="paid"?500:K.status==="agreement"?1:K.status==="negotiating"?2:S(K.dueDate)?4:3,G=$(z),H=$(P);return G!==H?G-H:P.currentAmount-z.currentAmount})},[t,u]),k=L=>{L.preventDefault();const z=E.targetAmount?parseFloat(E.targetAmount):0,P=E.platform==="Outros"?E.customPlatform:E.platform;e({creditor:E.creditor,originalAmount:parseFloat(E.originalAmount),currentAmount:parseFloat(E.currentAmount),targetAmount:z,dueDate:E.dueDate,status:E.status,platform:P,notes:E.notes}),C({creditor:"",originalAmount:"",currentAmount:"",targetAmount:"",dueDate:"",status:"open",platform:"Serasa Limpa Nome",customPlatform:"",notes:""}),l(!1)},T=(L,z)=>{if(z==="agreement"&&L.status!=="agreement"){h({isOpen:!0,debtId:L.id});const P=L.targetAmount>0?L.targetAmount:L.currentAmount;v({date:new Date().toISOString().split("T")[0],amount:P.toString(),installments:1})}else n(L.id,{status:z})},N=L=>{L.preventDefault();const z=t.find(K=>K.id===f.debtId);if(!z)return;const P=parseFloat(y.amount),$=Math.max(1,Math.floor(y.installments)),G=P/$;n(z.id,{status:"agreement",agreedAmount:P});const H=new Date(y.date);for(let K=0;K<$;K++){const Y=new Date(H);Y.setMonth(H.getMonth()+K);const se=$>1?`Acordo: ${z.creditor} (${K+1}/${$})`:`Acordo: ${z.creditor}`;i({description:se,amount:parseFloat(G.toFixed(2)),type:"expense",category:"Outros",date:Y.toISOString().split("T")[0],status:"pending",paymentMethod:"pix",debtId:z.id})}alert(`Acordo registrado! ${$>1?`${$} parcelas agendadas`:"Pagamento agendado"}. A dvida ser quitada automaticamente quando todas as parcelas forem pagas.`),h({isOpen:!1,debtId:""})},M=L=>{x({isOpen:!0,debtId:L.id,currentValue:L.currentAmount}),w("1")},D=()=>{const L=t.find(z=>z.id===b.debtId);if(L){const z=parseFloat(_),P=L.currentAmount*(1+z/100);n(L.id,{currentAmount:P})}x({isOpen:!1,debtId:"",currentValue:0})},j=L=>o?"":`R$ ${L.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,O=t.filter(L=>L.status!=="paid").reduce((L,z)=>L+z.currentAmount,0),q=t.filter(L=>L.status!=="paid").reduce((L,z)=>L+z.targetAmount,0),V=t.filter(L=>L.status!=="paid"&&L.targetAmount>0).reduce((L,z)=>L+(z.currentAmount-z.targetAmount),0);return c.jsxs("div",{className:"space-y-6 animate-fade-in relative",children:[b.isOpen&&c.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-sm p-6 animate-scale-in",children:[c.jsx("div",{className:"flex justify-between items-center mb-4",children:c.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(Qi,{className:"w-5 h-5 text-rose-500"})," Atualizar Juros"]})}),c.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"O efeito bola de neve  real. Atualize o valor para manter o controle."}),c.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700 p-3 rounded-lg mb-4 flex justify-between items-center",children:[c.jsx("span",{className:"text-xs font-bold uppercase text-slate-500",children:"Valor Atual"}),c.jsx("span",{className:"font-mono font-bold text-slate-700 dark:text-white",children:j(b.currentValue)})]}),c.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[c.jsx("button",{onClick:()=>w("1"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-colors ${_==="1"?"bg-rose-100 text-rose-600 border border-rose-200":"bg-slate-50 dark:bg-slate-700 text-slate-500"}`,children:"+1%"}),c.jsx("button",{onClick:()=>w("2"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-colors ${_==="2"?"bg-rose-100 text-rose-600 border border-rose-200":"bg-slate-50 dark:bg-slate-700 text-slate-500"}`,children:"+2%"}),c.jsx("button",{onClick:()=>w("5"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-colors ${_==="5"?"bg-rose-100 text-rose-600 border border-rose-200":"bg-slate-50 dark:bg-slate-700 text-slate-500"}`,children:"+5%"}),c.jsxs("div",{className:"relative w-20",children:[c.jsx("input",{type:"number",value:_,onChange:L=>w(L.target.value),className:"w-full py-2 pl-2 pr-4 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 text-xs font-bold text-center outline-none focus:border-rose-500"}),c.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-slate-400",children:"%"})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>x({isOpen:!1,debtId:"",currentValue:0}),className:"flex-1 py-2.5 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg text-sm font-bold",children:"Cancelar"}),c.jsx("button",{onClick:D,className:"flex-1 py-2.5 bg-rose-600 text-white rounded-lg text-sm font-bold shadow-lg shadow-rose-500/20",children:"Aplicar"})]})]})}),f.isOpen&&c.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 border border-emerald-500/30 animate-scale-in",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4 text-emerald-600 dark:text-emerald-400",children:[c.jsx(Vh,{className:"w-8 h-8"}),c.jsx("h3",{className:"text-xl font-bold",children:"Oficializar Acordo"})]}),c.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm mb-6",children:"Qual foi o valor final negociado? Vamos atualizar o card e agendar o(s) pagamento(s)."}),c.jsxs("form",{onSubmit:N,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Valor Total Fechado (R$)"}),c.jsx("input",{type:"number",required:!0,step:"0.01",placeholder:"Valor total a pagar",value:y.amount,onChange:L=>v({...y,amount:L.target.value}),className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white font-bold text-lg outline-none focus:ring-2 focus:ring-emerald-500"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"1 Parcela"}),c.jsx("input",{type:"date",required:!0,value:y.date,onChange:L=>v({...y,date:L.target.value}),className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-emerald-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"N Parcelas"}),c.jsxs("div",{className:"relative",children:[c.jsx(g1,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),c.jsx("input",{type:"number",required:!0,min:"1",max:"60",value:y.installments,onChange:L=>v({...y,installments:parseInt(L.target.value)}),className:"w-full p-3 pl-9 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-emerald-500"})]})]})]}),c.jsxs("div",{className:"flex gap-3 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>h({isOpen:!1,debtId:""}),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-200 rounded-lg font-medium",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"flex-1 py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-bold shadow-lg shadow-emerald-500/30",children:"Gerar Parcelas"})]})]})]})}),c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(Cd,{className:"w-7 h-7 text-rose-600"}),"Gesto de Dvidas (Limpa Nome)"]}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Controle suas pendncias e foque no que realmente importa."})]}),c.jsxs("button",{onClick:()=>l(!a),className:"flex items-center gap-2 bg-rose-600 text-white px-4 py-2 rounded-lg hover:bg-rose-700 transition-colors shadow-sm",children:[c.jsx(sr,{className:"w-4 h-4"}),"Registrar Dvida"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-rose-100 dark:border-rose-900/30 shadow-sm",children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-semibold uppercase",children:"Total da Dvida (Banco)"}),c.jsx("h3",{className:"text-2xl font-bold text-rose-600 dark:text-rose-400",children:j(O)}),c.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Valor cheio com juros"})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-emerald-100 dark:border-emerald-900/30 shadow-sm",children:[c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-semibold uppercase",children:"Valor para Quitao (Alvo)"}),c.jsx("h3",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:j(q)}),c.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Soma das metas definidas"})]}),c.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-600 text-white p-6 rounded-xl shadow-lg",children:[c.jsx("p",{className:"text-indigo-100 text-xs font-semibold uppercase",children:"Economia Potencial"}),c.jsx("h3",{className:"text-2xl font-bold",children:j(V)}),c.jsx("p",{className:"text-indigo-100 text-xs mt-1",children:"Baseado nas suas metas"})]})]}),a&&c.jsxs("form",{onSubmit:k,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-rose-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[c.jsx("div",{className:"col-span-1 md:col-span-2",children:c.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Registrar Nova Pendncia"})}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Instituio / Credor"}),c.jsx("input",{required:!0,type:"text",placeholder:"Ex: Banco X, Loja Y",value:E.creditor,onChange:L=>C({...E,creditor:L.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-rose-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Valor Original (R$)"}),c.jsx("input",{required:!0,type:"number",value:E.originalAmount,onChange:L=>C({...E,originalAmount:L.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Valor Atual c/ Juros (R$)"}),c.jsx("input",{required:!0,type:"number",value:E.currentAmount,onChange:L=>C({...E,currentAmount:L.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Data Vencimento Original"}),c.jsx("input",{required:!0,type:"date",value:E.dueDate,onChange:L=>C({...E,dueDate:L.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none"}),c.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"Importante para calcular a prescrio."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Meta de Acordo (Opcional)"}),c.jsx("input",{type:"number",placeholder:"Deixe em branco se no houver meta",value:E.targetAmount,onChange:L=>C({...E,targetAmount:L.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-emerald-500"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Plataforma de Negociao"}),c.jsx("select",{value:E.platform,onChange:L=>C({...E,platform:L.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none mb-2",children:Kke.map(L=>c.jsx("option",{value:L,children:L},L))}),E.platform==="Outros"&&c.jsx("div",{className:"animate-fade-in",children:c.jsx("input",{type:"text",placeholder:"Digite o nome da plataforma ou pessoa...",value:E.customPlatform,onChange:L=>C({...E,customPlatform:L.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-rose-500",autoFocus:!0})})]}),c.jsxs("div",{className:"md:col-span-2 flex justify-end gap-2 mt-2",children:[c.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 font-medium",children:"Salvar Dvida"})]})]}),c.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl gap-1 border border-slate-200 dark:border-slate-700",children:[c.jsxs("button",{onClick:()=>d("all"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2
               ${u==="all"?"bg-white dark:bg-slate-700 text-rose-600 dark:text-rose-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200/50 dark:hover:bg-slate-700/50"}`,children:[c.jsx(Zx,{className:"w-4 h-4"}),"Todas"]}),c.jsxs("button",{onClick:()=>d("active"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2
               ${u==="active"?"bg-white dark:bg-slate-700 text-amber-600 dark:text-amber-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200/50 dark:hover:bg-slate-700/50"}`,children:[c.jsx(wD,{className:"w-4 h-4"}),"Ativas"]}),c.jsxs("button",{onClick:()=>d("prescribed"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2
               ${u==="prescribed"?"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200/50 dark:hover:bg-slate-700/50"}`,children:[c.jsx(M6,{className:"w-4 h-4"}),"Prescritas"]})]}),c.jsx("div",{className:"flex flex-col gap-4",children:t.length===0?c.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[c.jsx(Us,{className:"w-12 h-12 text-emerald-500 mx-auto mb-3"}),c.jsx("p",{className:"text-slate-800 dark:text-white font-medium",children:"Nome Limpo!"}),c.jsx("p",{className:"text-slate-400 text-sm",children:"Nenhuma dvida registrada."})]}):I.length===0?c.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[c.jsx(Zx,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Nenhuma dvida encontrada neste filtro."})]}):I.map(L=>{const z=S(L.dueDate),P=L.status==="paid",$=L.status==="agreement",G=L.targetAmount&&L.targetAmount>0,H=L.agreedAmount&&L.agreedAmount>0,K=H?L.agreedAmount:L.targetAmount,Y=G||H?(L.currentAmount-K)/L.currentAmount*100:0;return c.jsxs("div",{className:`p-6 rounded-xl border transition-all relative overflow-hidden group ${P?"bg-slate-50 border-slate-200 opacity-75 grayscale-[0.8] dark:bg-slate-900 dark:border-slate-700":$?"bg-gradient-to-r from-emerald-50 to-white border-emerald-300 dark:from-emerald-900/10 dark:to-slate-800 dark:border-emerald-800 shadow-md ring-1 ring-emerald-500/20":z?"bg-slate-50 border-slate-200 dark:bg-slate-800 dark:border-slate-700":"bg-white border-rose-100 dark:bg-slate-800 dark:border-slate-700 shadow-sm hover:shadow-md hover:border-rose-300"}`,children:[P&&c.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10 pointer-events-none opacity-80 rotate-[-15deg]",children:c.jsxs("div",{className:"border-4 border-slate-400 text-slate-400 text-6xl font-black px-4 py-1 rounded-lg uppercase tracking-widest flex items-center gap-2",children:[c.jsx(Jx,{className:"w-12 h-12"})," RESOLVIDO"]})}),c.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-start gap-4 relative z-0",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[$?c.jsxs("span",{className:"bg-emerald-100 text-emerald-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[c.jsx(Vh,{className:"w-3 h-3"})," ACORDO FECHADO"]}):L.status==="negotiating"?c.jsxs("span",{className:"bg-amber-100 text-amber-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[c.jsx(Vh,{className:"w-3 h-3"})," EM NEGOCIAO"]}):z?c.jsxs("span",{className:"bg-slate-200 text-slate-600 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[c.jsx(qA,{className:"w-3 h-3"})," PRESCRITA"]}):P?c.jsxs("span",{className:"bg-emerald-100 text-emerald-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[c.jsx(Us,{className:"w-3 h-3"})," QUITADA"]}):c.jsxs("span",{className:"bg-rose-100 text-rose-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[c.jsx(um,{className:"w-3 h-3"})," ATIVA"]}),L.platform&&c.jsxs("span",{className:"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1 border border-indigo-100 dark:border-indigo-800",children:[c.jsx(J6,{className:"w-3 h-3"})," ",L.platform]}),c.jsxs("span",{className:"text-xs text-slate-400 flex items-center gap-1 ml-auto md:ml-0",children:[c.jsx(Id,{className:"w-3 h-3"}),new Date(L.dueDate).toLocaleDateString("pt-BR")]})]}),c.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:L.creditor}),c.jsxs("div",{className:"mt-3 flex flex-wrap gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-slate-500",children:"Valor Original"}),c.jsx("p",{className:"font-medium text-slate-700 dark:text-slate-300",children:j(L.originalAmount)})]}),c.jsx("div",{className:"flex items-center text-slate-400",children:c.jsx(a0,{className:"w-4 h-4"})}),c.jsxs("div",{className:"group/value cursor-pointer",onClick:()=>!P&&!$&&M(L),title:"Clique para atualizar juros",children:[c.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1",children:["Valor Atual",!P&&!$&&c.jsx(Qi,{className:"w-3 h-3 text-rose-500 opacity-50 group-hover/value:opacity-100"})]}),c.jsx("p",{className:`font-bold transition-colors ${P?"text-slate-500":z?"text-slate-600 dark:text-slate-400":"text-rose-600 group-hover/value:text-rose-700"}`,children:j(L.currentAmount)})]})]})]}),c.jsx("div",{className:`p-3 rounded-lg border min-w-[200px] flex flex-col justify-center ${$?"bg-white border-emerald-200 shadow-sm":"bg-slate-50 dark:bg-slate-700/50 border-slate-100 dark:border-slate-700"}`,children:$&&H?c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-xs text-emerald-500 font-bold mb-1 flex items-center gap-1",children:[c.jsx(Us,{className:"w-3 h-3"})," Valor Acordado"]}),c.jsx("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:j(L.agreedAmount)}),c.jsxs("p",{className:"text-[10px] text-emerald-600/70 mt-1",children:["Economia de ",Y.toFixed(0),"%"]})]}):G?c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium mb-1 flex items-center gap-1",children:[c.jsx(la,{className:"w-3 h-3 text-slate-400"})," Meta de Acordo"]}),c.jsx("p",{className:"text-xl font-bold text-emerald-600 dark:text-emerald-400",children:j(L.targetAmount)}),c.jsxs("p",{className:"text-[10px] text-emerald-600/70 mt-1",children:["Desconto Alvo: ",Y.toFixed(0),"%"]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-xs text-slate-400 font-medium mb-1 flex items-center gap-1",children:[c.jsx(Q6,{className:"w-3 h-3"})," Meta"]}),c.jsx("p",{className:"text-sm font-semibold text-slate-400 dark:text-slate-500 italic",children:"Sem meta definida"})]})}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsxs("select",{value:L.status,onChange:se=>T(L,se.target.value),className:`text-xs border rounded-lg p-1.5 outline-none font-medium cursor-pointer ${$?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-200"}`,children:[c.jsx("option",{value:"open",children:"Em Aberto"}),c.jsx("option",{value:"negotiating",children:"Em Negociao"}),c.jsx("option",{value:"agreement",children:"Acordo Fechado"}),c.jsx("option",{value:"paid",children:"Quitado"})]}),c.jsx("button",{onClick:()=>r(L.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors self-end",title:"Excluir Registro",children:c.jsx(rs,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:"mt-4 pt-3 border-t border-slate-100 dark:border-slate-700/50 text-xs flex items-start gap-2",children:P?c.jsxs("p",{className:"text-emerald-600 dark:text-emerald-400 flex items-center gap-1 font-medium",children:[c.jsx(Us,{className:"w-4 h-4"})," Dvida liquidada com sucesso. Parabns pela organizao!"]}):$?c.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-2 rounded w-full",children:[c.jsxs("p",{className:"text-emerald-700 dark:text-emerald-300 flex items-center gap-1 font-semibold",children:[c.jsx(Xi,{className:"w-4 h-4"})," Acordo Firmado: ",j(L.agreedAmount||0)]}),c.jsxs("p",{className:"text-emerald-600/80 dark:text-emerald-400/80 mt-1 pl-5",children:["No esquea de pagar na data combinada. ",L.agreedAmount&&L.agreedAmount>0?"As parcelas j foram lanadas no seu fluxo.":""]})]}):L.status==="negotiating"?c.jsxs("p",{className:"text-amber-600 dark:text-amber-400 flex items-center gap-1",children:[c.jsx(Vh,{className:"w-4 h-4"})," Voc iniciou contatos. Mantenha a presso para conseguir o melhor desconto."]}):z?c.jsxs("p",{className:"text-slate-500 flex items-center gap-1",children:[c.jsx(qA,{className:"w-4 h-4"})," Dvida antiga (+5 anos). No afeta score, negocie apenas se tiver sobra de caixa."]}):c.jsxs("p",{className:"text-rose-600 dark:text-rose-400 flex items-center gap-1 font-medium",children:[c.jsx(Cd,{className:"w-4 h-4"})," Prioridade Alta! Esta dvida est ativa e impactando seu crdito. Tente negociar."]})})]},L.id)})})]})},Jke=({currentView:t,onNavigate:e,data:n,actions:r,privacyMode:i,hasApiKey:o,quickActionSignal:s})=>{const a=[{id:ge.TRANSACTIONS,label:"Transaes",icon:gB},{id:ge.CALENDAR,label:"Agenda",icon:Xi},{id:ge.SUBSCRIPTIONS,label:"Assinaturas",icon:aa},{id:ge.DEBTS,label:"Dvidas",icon:Cd}];return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 px-1",children:"Navegao"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 md:gap-3",children:a.map(l=>{const u=t===l.id;return c.jsxs("button",{onClick:()=>e(l.id),className:`
                  relative flex flex-col md:flex-row items-center justify-center gap-2 py-3 px-4 rounded-xl font-bold transition-all duration-200 border-2
                  ${u?"bg-indigo-600 border-indigo-600 text-white shadow-lg shadow-indigo-500/30 scale-[1.02]":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400 hover:border-indigo-300 dark:hover:border-indigo-500 hover:bg-slate-50 dark:hover:bg-slate-700"}
                `,children:[c.jsx(l.icon,{className:`w-5 h-5 ${u?"text-white":"text-slate-400"}`}),c.jsx("span",{className:"text-sm",children:l.label}),u&&c.jsx("span",{className:"absolute -bottom-1.5 left-1/2 -translate-x-1/2 w-8 h-1 bg-indigo-400/50 rounded-full blur-sm md:hidden"})]},l.id)})})]}),c.jsxs("div",{className:"animate-fade-in bg-slate-50/50 dark:bg-slate-900/50 rounded-2xl",children:[t===ge.TRANSACTIONS&&c.jsx($ke,{transactions:n.transactions,categories:n.categories,budgets:n.budgets,onAdd:r.addTransaction,onUpdate:r.updateTransaction,onDelete:r.deleteTransaction,onToggleStatus:r.toggleTransactionStatus,onNavigate:e,privacyMode:i,hasApiKey:o,quickActionSignal:s}),t===ge.CALENDAR&&c.jsx(Hke,{transactions:n.transactions,budgets:n.budgets,onAddTransaction:r.addTransaction,privacyMode:i}),t===ge.SUBSCRIPTIONS&&c.jsx(Wke,{transactions:n.transactions,onUpdateTransaction:r.updateTransaction,onDeleteTransaction:r.deleteTransaction,privacyMode:i}),t===ge.DEBTS&&c.jsx(Yke,{debts:n.debts||[],onAdd:r.addDebt,onUpdate:r.updateDebt,onDelete:r.deleteDebt,onAddTransaction:r.addTransaction,privacyMode:i,quickActionSignal:s})]})]})},sO=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899","#6366f1"],Xke=({investments:t,onAdd:e,onUpdate:n,onDelete:r,onNavigate:i,privacyMode:o,hasApiKey:s,quickActionSignal:a})=>{const[l,u]=U.useState(!1),[d,f]=U.useState(null),[h,y]=U.useState(!1),[v,b]=U.useState(!1),[x,_]=U.useState(!1),[w,E]=U.useState(null),[C,S]=U.useState(""),[I,k]=U.useState(null),[T,N]=U.useState(""),[M,D]=U.useState({name:"",amount:"",investedAmount:"",targetAmount:"",type:"Renda Fixa",date:new Date().toISOString().split("T")[0]});U.useEffect(()=>{a&&Date.now()-a<2e3&&(u(!0),D({name:"",amount:"",investedAmount:"",targetAmount:"",type:"Renda Fixa",date:new Date().toISOString().split("T")[0]}))},[a]);const j=U.useMemo(()=>{const W=new Map;return t.forEach(Z=>{W.set(Z.type,(W.get(Z.type)||0)+Z.amount)}),Array.from(W.entries()).map(([Z,de])=>({name:Z,value:de})).sort((Z,de)=>de.value-Z.value)},[t]),O=W=>{W.preventDefault();const Z=parseFloat(M.amount),de=M.investedAmount?parseFloat(M.investedAmount):Z;e({name:M.name,amount:Z,investedAmount:de,targetAmount:parseFloat(M.targetAmount)||0,type:M.type,date:M.date}),D({name:"",amount:"",investedAmount:"",targetAmount:"",type:"Renda Fixa",date:new Date().toISOString().split("T")[0]}),u(!1)},q=W=>{if(W.preventDefault(),!w)return;const Z=t.find(de=>de.id===w);if(Z){const de=parseFloat(C);if(!isNaN(de)&&de>0){const oe=Z.investedAmount||Z.amount;n(w,{amount:Z.amount+de,investedAmount:oe+de})}}E(null),S("")},V=W=>{const Z=parseFloat(T);!isNaN(Z)&&Z>=0&&n(W,{amount:Z}),k(null)},L=async()=>{if(!s)return;b(!0),y(!0),f(null),_(!1);const W=await cee(t);f(W),y(!1)},z=()=>{if(!d)return{recommendations:"",technical:""};const W=d.text.split("---SECTION-BREAK---");return{recommendations:W[0].trim(),technical:W.length>1?W[1].trim():""}},{recommendations:P,technical:$}=z(),G=t.reduce((W,Z)=>W+Z.amount,0),H=t.reduce((W,Z)=>W+(Z.investedAmount||Z.amount),0),K=G-H,Y=H>0?K/H*100:0,se=W=>o?"":`R$ ${W.toLocaleString("pt-BR",{minimumFractionDigits:2})}`;return c.jsxs("div",{className:"space-y-6 relative",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Meus Investimentos"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Acompanhe rentabilidade e metas."})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs("button",{onClick:()=>i(ge.BUDGETS),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-pink-50 text-pink-600 hover:bg-pink-100 dark:bg-pink-900/20 dark:text-pink-400 dark:hover:bg-pink-900/40 transition-all font-medium text-sm border border-pink-200 dark:border-pink-800",children:[c.jsx(la,{className:"w-4 h-4"}),"Metas"]}),c.jsxs("button",{onClick:L,disabled:!s,title:s?"Consultor IA":"Configure a Chave API para usar",className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all shadow-sm text-sm font-medium
                   ${s?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white hover:from-purple-700 hover:to-indigo-700":"bg-slate-300 dark:bg-slate-700 text-slate-500 dark:text-slate-400 cursor-not-allowed opacity-60"}`,children:[c.jsx(Xs,{className:"w-4 h-4"}),"Consultor IA ",!s&&c.jsx("span",{className:"text-[10px] ml-1",children:"(Req. Chave)"})]}),c.jsxs("button",{onClick:()=>u(!l),className:"flex items-center gap-2 bg-slate-800 dark:bg-slate-700 text-white px-4 py-2 rounded-lg hover:bg-slate-900 dark:hover:bg-slate-600 transition-colors shadow-sm text-sm font-medium",children:[c.jsx(sr,{className:"w-4 h-4"}),"Novo Ativo"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-indigo-600 text-white p-6 rounded-xl shadow-lg flex flex-col justify-between relative overflow-hidden",children:[c.jsxs("div",{className:"relative z-10",children:[c.jsx("p",{className:"text-indigo-200 text-xs font-bold uppercase tracking-wider mb-1",children:"Patrimnio Total"}),c.jsx("h3",{className:"text-3xl font-bold mb-1",children:se(G)}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsxs("span",{className:`text-xs font-bold px-1.5 py-0.5 rounded bg-white/20 flex items-center gap-1 ${K>=0?"text-emerald-300":"text-rose-300"}`,children:[K>=0?c.jsx(Qi,{className:"w-3 h-3"}):c.jsx(mm,{className:"w-3 h-3"}),Y.toFixed(2),"%"]}),c.jsxs("span",{className:"text-[10px] text-indigo-200",children:["(",K>=0?"+":"",se(K),")"]})]})]}),c.jsx(fm,{className:"absolute right-4 bottom-4 w-24 h-24 text-indigo-500 opacity-20 pointer-events-none"})]}),j.length>0&&c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 md:col-span-2 flex items-center",children:[c.jsx("div",{className:"flex-1 h-[140px]",children:c.jsx(Zo,{width:"100%",height:"100%",children:c.jsxs(MF,{children:[c.jsx(Si,{data:j,cx:"50%",cy:"50%",innerRadius:40,outerRadius:60,paddingAngle:5,dataKey:"value",children:j.map((W,Z)=>c.jsx(Na,{fill:sO[Z%sO.length]},`cell-${Z}`))}),c.jsx(sn,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"8px",border:"none",fontSize:"12px"},formatter:W=>o?"":`R$ ${W.toLocaleString("pt-BR")}`}),c.jsx(hi,{layout:"vertical",verticalAlign:"middle",align:"right",wrapperStyle:{fontSize:"11px"}})]})})}),c.jsx("div",{className:"w-px h-20 bg-slate-100 dark:bg-slate-700 mx-4"}),c.jsxs("div",{className:"pr-4 min-w-[120px]",children:[c.jsxs("p",{className:"text-xs text-slate-500 uppercase font-bold mb-2 flex items-center gap-1",children:[c.jsx(Tp,{className:"w-3 h-3"})," Alocao"]}),j.slice(0,3).map((W,Z)=>c.jsxs("div",{className:"flex justify-between items-center text-xs mb-1",children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-300 truncate max-w-[80px]",children:W.name}),c.jsxs("span",{className:"font-bold text-slate-800 dark:text-white",children:[(W.value/G*100).toFixed(0),"%"]})]},Z))]})]})]}),v&&c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-purple-200 dark:border-purple-900 overflow-hidden animate-fade-in",children:[c.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-slate-800 dark:to-slate-800 p-4 border-b border-purple-100 dark:border-slate-700 flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ED,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),c.jsx("h3",{className:"font-bold text-purple-900 dark:text-purple-300",children:"Smart Advisor"})]}),c.jsx("button",{onClick:()=>b(!1),className:"text-slate-400 hover:text-slate-600",children:c.jsx(Gn,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"p-6",children:h?c.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[c.jsx(u0,{className:"w-8 h-8 text-purple-600 animate-spin mb-3"}),c.jsx("p",{className:"text-slate-500 text-sm animate-pulse",children:"Buscando oportunidades em tempo real..."})]}):d?c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"prose prose-sm prose-purple dark:prose-invert max-w-none text-slate-700 dark:text-slate-300",children:c.jsx("div",{dangerouslySetInnerHTML:{__html:P.replace(/\n/g,"<br/>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/- /g," ")}})}),$&&c.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-700 pt-4",children:[c.jsxs("button",{onClick:()=>_(!x),className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-slate-50 dark:bg-slate-700/50 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-700 dark:text-slate-200 text-sm font-semibold transition-colors border border-slate-200 dark:border-slate-600",children:[c.jsx(F6,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),x?"Ocultar Detalhes Tcnicos":"Ver Anlise Tcnica Detalhada",x?c.jsx(G6,{className:"w-4 h-4"}):c.jsx(z6,{className:"w-4 h-4"})]}),x&&c.jsx("div",{className:"mt-4 p-5 bg-slate-50 dark:bg-slate-900/50 rounded-lg border border-slate-200 dark:border-slate-700 animate-fade-in",children:c.jsx("div",{className:"prose prose-sm prose-slate dark:prose-invert max-w-none text-slate-600 dark:text-slate-400",children:c.jsx("div",{dangerouslySetInnerHTML:{__html:$.replace(/\n/g,"<br/>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/- /g," ")}})})})]}),d.sources.length>0&&c.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-700 pt-4",children:[c.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Fontes Consultadas"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:d.sources.map((W,Z)=>c.jsxs("a",{href:W.uri,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-2 py-1 rounded hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:[c.jsx(TD,{className:"w-3 h-3"}),W.title.length>30?W.title.substring(0,30)+"...":W.title]},Z))})]}),c.jsx("div",{className:"mt-4 flex justify-end",children:c.jsx("button",{onClick:L,className:"text-sm text-purple-600 hover:underline",children:"Atualizar Recomendao"})})]}):c.jsx("div",{className:"text-center text-slate-500",children:"Erro ao carregar recomendao."})})]}),l&&c.jsxs("form",{onSubmit:O,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[c.jsx("div",{className:"col-span-1 md:col-span-2",children:c.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Adicionar Novo Ativo"})}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Nome"}),c.jsx("input",{required:!0,type:"text",placeholder:"Ex: CDB Banco X, PETR4",value:M.name,onChange:W=>D({...M,name:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Valor Atual (Mercado)"}),c.jsx("input",{required:!0,type:"number",placeholder:"R$",value:M.amount,onChange:W=>D({...M,amount:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none font-bold"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Valor Investido (Custo)"}),c.jsx("input",{type:"number",placeholder:"Igual ao atual se vazio",value:M.investedAmount,onChange:W=>D({...M,investedAmount:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Objetivo Final (Meta)"}),c.jsx("input",{type:"number",placeholder:"R$",value:M.targetAmount,onChange:W=>D({...M,targetAmount:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Tipo"}),c.jsxs("select",{value:M.type,onChange:W=>D({...M,type:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:[c.jsx("option",{value:"Renda Fixa",children:"Renda Fixa"}),c.jsx("option",{value:"Aes",children:"Aes"}),c.jsx("option",{value:"FIIs",children:"FIIs"}),c.jsx("option",{value:"Cripto",children:"Criptomoedas"}),c.jsx("option",{value:"Reserva",children:"Reserva de Emergncia"}),c.jsx("option",{value:"Outros",children:"Outros"})]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Data da Compra"}),c.jsx("input",{required:!0,type:"date",value:M.date,onChange:W=>D({...M,date:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2"})]}),c.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-2 mt-2",children:[c.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:"Salvar"})]})]}),w&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-sm p-6 animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Novo Aporte"}),c.jsx("button",{onClick:()=>E(null),className:"text-slate-400 hover:text-slate-600",children:c.jsx(Gn,{className:"w-5 h-5"})})]}),c.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Ao aportar, o valor ser somado ao Custo e ao Valor Atual."}),c.jsxs("form",{onSubmit:q,children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 mb-1",children:"VALOR DO APORTE"}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-3 top-2 text-slate-400",children:"R$"}),c.jsx("input",{autoFocus:!0,required:!0,type:"number",step:"0.01",className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg py-2 pl-8 pr-3 focus:ring-2 focus:ring-indigo-500 outline-none text-lg font-medium",value:C,onChange:W=>S(W.target.value)})]})]}),c.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 rounded-lg font-medium hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2",children:[c.jsx(eb,{className:"w-5 h-5"}),"Confirmar Aporte"]})]})]})}),c.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.length===0?c.jsx("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700 text-slate-400",children:"Voc ainda no registrou investimentos."}):t.map(W=>{const Z=W.investedAmount||W.amount,oe=W.amount-Z,re=Z>0?oe/Z*100:0,fe=W.targetAmount&&W.targetAmount>0?Math.min(100,W.amount/W.targetAmount*100):0;return c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-shadow relative group",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 mb-2",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 p-3 rounded-full text-indigo-600 dark:text-indigo-400",children:c.jsx(fm,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white text-lg",children:W.name}),c.jsxs("div",{className:"flex flex-wrap gap-2 text-xs mt-1",children:[c.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-2 py-0.5 rounded",children:W.type}),re!==0&&c.jsxs("span",{className:`px-2 py-0.5 rounded font-bold flex items-center gap-1 ${re>0?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400"}`,children:[re>0?c.jsx(Qi,{className:"w-3 h-3"}):c.jsx(mm,{className:"w-3 h-3"}),re.toFixed(2),"%"]})]})]})]}),c.jsxs("div",{className:"flex items-start justify-between md:justify-end gap-3 md:gap-6 mt-2 md:mt-0",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("span",{className:"block text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Valor Atual"}),I===W.id?c.jsx("div",{className:"flex items-center justify-end gap-1 mt-1",children:c.jsx("input",{autoFocus:!0,type:"number",className:"w-24 p-1 text-sm border rounded bg-white dark:bg-slate-900 dark:text-white dark:border-slate-600 text-right",value:T,onChange:ye=>N(ye.target.value),onKeyDown:ye=>ye.key==="Enter"&&V(W.id),onBlur:()=>V(W.id)})}):c.jsxs("div",{className:"group/edit relative inline-block",children:[c.jsx("span",{className:"font-bold text-slate-800 dark:text-white text-xl cursor-pointer hover:text-indigo-500 border-b border-dashed border-transparent hover:border-indigo-400 transition-all",onClick:()=>{k(W.id),N(W.amount.toString())},title:"Clique para atualizar cotao",children:se(W.amount)}),c.jsx(v1,{className:"w-3 h-3 text-slate-300 absolute -right-4 top-1 opacity-0 group-hover/edit:opacity-100 transition-opacity"})]}),c.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Investido: ",se(Z)]})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("button",{onClick:()=>E(W.id),className:"p-1.5 text-indigo-600 bg-indigo-50 hover:bg-indigo-100 dark:text-indigo-400 dark:bg-indigo-900/30 dark:hover:bg-indigo-900/50 rounded-lg transition-colors",title:"Novo Aporte",children:c.jsx(eb,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>r(W.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors",title:"Excluir",children:c.jsx(rs,{className:"w-4 h-4"})})]})]})]}),W.targetAmount>0?c.jsx("div",{className:"mt-3 bg-slate-50 dark:bg-slate-700/50 p-2 rounded-lg border border-slate-100 dark:border-slate-700 flex items-center gap-3",children:c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex justify-between items-end mb-1",children:[c.jsxs("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase flex items-center gap-1",children:[c.jsx(la,{className:"w-3 h-3"})," Meta: ",se(W.targetAmount)]}),c.jsxs("span",{className:"text-[10px] font-bold text-indigo-600 dark:text-indigo-400",children:[fe.toFixed(0),"%"]})]}),c.jsx("div",{className:"w-full h-1.5 bg-slate-200 dark:bg-slate-600 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-indigo-500 rounded-full transition-all duration-1000",style:{width:`${fe}%`}})})]})}):c.jsx("div",{className:"mt-2 flex justify-end opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsxs("button",{onClick:()=>u(!0),className:"text-[10px] text-slate-400 hover:text-indigo-500 flex items-center gap-1 uppercase font-bold tracking-wider",children:[c.jsx(q6,{className:"w-3 h-3"})," Definir Meta"]})})]},W.id)})})]})},Qke=({budgets:t,transactions:e,investments:n,onAdd:r,onUpdate:i,onDelete:o,onNavigate:s,privacyMode:a,quickActionSignal:l})=>{const[u,d]=U.useState(!1),[f,h]=U.useState(!1),y=U.useMemo(()=>{const $=new Set;return e.forEach(G=>$.add(G.category)),t.forEach(G=>$.add(G.category)),$.size===0?["Lazer","Casa","Alimentos"]:Array.from($).sort()},[e,t]),[v,b]=U.useState(new Date),[x,_]=U.useState(null),[w,E]=U.useState(""),[C,S]=U.useState({category:y[0]||"Lazer",limit:"",isRecurring:!0,month:new Date().toISOString().slice(0,7)});U.useEffect(()=>{l&&Date.now()-l<2e3&&(d(!0),S({category:y[0]||"Lazer",limit:"",isRecurring:!0,month:new Date().toISOString().slice(0,7)}))},[l,y]);const I=()=>{b($=>{const G=new Date($);return G.setMonth($.getMonth()-1),G})},k=()=>{b($=>{const G=new Date($);return G.setMonth($.getMonth()+1),G})},T=$=>$.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}),N=()=>{const $=v.getFullYear(),G=String(v.getMonth()+1).padStart(2,"0");return`${$}-${G}`},M=$=>{if($.preventDefault(),C.isRecurring){if(t.some(H=>H.category===C.category&&H.isRecurring)){alert(`J existe um oramento recorrente para ${C.category}. Exclua o anterior para criar um novo.`);return}}else if(t.some(H=>H.category===C.category&&H.month===C.month)){alert(`J existe um oramento de ${C.category} para ${C.month}.`);return}const G={category:C.category,limit:parseFloat(C.limit),isRecurring:C.isRecurring};C.isRecurring||(G.month=C.month),r(G),S({category:y[0]||"Outros",limit:"",isRecurring:!0,month:N()}),d(!1)},D=$=>{const G=parseFloat(w);!isNaN(G)&&G>0&&i($,{limit:G}),_(null)},j=$=>{_($.id),E($.limit.toString())},O=$=>a?"":`R$ ${$.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,q=$=>{const G=v.getFullYear(),H=v.getMonth();return e.filter(K=>{const Y=new Date(K.date);return K.type==="expense"&&K.category===$&&Y.getMonth()===H&&Y.getFullYear()===G}).reduce((K,Y)=>K+Y.amount,0)},V=U.useMemo(()=>{const $=N(),G=t.filter(Y=>Y.month===$),H=new Set(G.map(Y=>Y.category)),K=t.filter(Y=>Y.isRecurring&&!H.has(Y.category));return[...G,...K].sort((Y,se)=>Y.category.localeCompare(se.category))},[t,v]),L=U.useMemo(()=>n.filter($=>$.targetAmount>0).sort(($,G)=>{const H=$.amount/$.targetAmount;return G.amount/G.targetAmount-H}),[n]),z=$=>{const G=new Date;if(G.getMonth()!==v.getMonth()||G.getFullYear()!==v.getFullYear())return null;const H=G.getDate(),K=new Date(G.getFullYear(),G.getMonth()+1,0).getDate();return H===1?$:$/H*K},P=U.useMemo(()=>{const $=new Map,G=new Date;for(let K=0;K<6;K++){const Y=new Date(G.getFullYear(),G.getMonth()-K,1),se=Y.getFullYear(),W=Y.getMonth(),Z=`${se}-${String(W+1).padStart(2,"0")}`;new Set(e.filter(oe=>{const re=new Date(oe.date);return oe.type==="expense"&&re.getFullYear()===se&&re.getMonth()===W}).map(oe=>oe.category)).forEach(oe=>{let re=t.find(fe=>fe.category===oe&&fe.month===Z);if(re||(re=t.find(fe=>fe.category===oe&&fe.isRecurring)),re){const fe=e.filter(te=>{const $e=new Date(te.date);return te.type==="expense"&&te.category===oe&&$e.getFullYear()===se&&$e.getMonth()===W}).reduce((te,$e)=>te+$e.amount,0),ye=$.get(oe)||{totalSpent:0,totalLimit:0,count:0};$.set(oe,{totalSpent:ye.totalSpent+fe,totalLimit:ye.totalLimit+re.limit,count:ye.count+1})}})}return Array.from($.entries()).map(([K,Y])=>{const se=Y.totalSpent/Y.totalLimit*100;return{name:K,adherence:se,spent:Y.totalSpent/Y.count,limit:Y.totalLimit/Y.count}}).sort((K,Y)=>Y.adherence-K.adherence)},[t,e]);return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Planejamento"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm capitalize",children:"Defina limites e acompanhe suas metas."})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[c.jsx("button",{onClick:()=>h(!f),className:`p-2.5 rounded-lg transition-colors border ${f?"bg-indigo-50 border-indigo-200 text-indigo-600 dark:bg-indigo-900/30 dark:border-indigo-800 dark:text-indigo-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300"}`,title:"Ver Anlise de Performance",children:c.jsx(kd,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-1",children:[c.jsx("button",{onClick:I,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:c.jsx(h1,{className:"w-5 h-5"})}),c.jsxs("div",{className:"px-4 font-semibold text-slate-700 dark:text-slate-200 capitalize min-w-[140px] text-center flex items-center justify-center gap-2",children:[c.jsx(Xi,{className:"w-4 h-4 text-pink-500"}),T(v)]}),c.jsx("button",{onClick:k,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:c.jsx(l0,{className:"w-5 h-5"})})]}),c.jsxs("button",{onClick:()=>{S($=>({...$,month:N()})),d(!u)},className:"flex items-center gap-2 bg-pink-600 text-white px-4 py-2.5 rounded-lg hover:bg-pink-700 transition-colors shadow-sm text-sm font-medium",children:[c.jsx(sr,{className:"w-4 h-4"}),"Definir Teto"]})]})]}),f&&P.length>0&&c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 animate-fade-in-down mb-6",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(Qi,{className:"w-5 h-5 text-indigo-500"}),"Performance Histrica (ltimos 6 Meses)"]})}),c.jsx("div",{className:"h-[300px] w-full",children:c.jsx(Zo,{width:"100%",height:"100%",children:c.jsxs(zS,{data:P,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[c.jsx(du,{strokeDasharray:"3 3",horizontal:!1,stroke:"#e2e8f0",opacity:.5}),c.jsx(xi,{type:"number",hide:!0}),c.jsx(bi,{dataKey:"name",type:"category",width:100,tick:{fill:"#64748b",fontSize:12,fontWeight:500},axisLine:!1,tickLine:!1}),c.jsx(sn,{cursor:{fill:"transparent"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:$=>[`${$.toFixed(0)}%`,"Mdia de Uso"]}),c.jsx(ih,{x:100,stroke:"#ef4444",strokeDasharray:"3 3"}),c.jsx(vi,{dataKey:"adherence",radius:[0,4,4,0],barSize:20,children:P.map(($,G)=>c.jsx(Na,{fill:$.adherence>100?"#ef4444":$.adherence>85?"#f59e0b":"#10b981"},`cell-${G}`))})]})})})]}),u&&c.jsxs("form",{onSubmit:M,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[c.jsx("div",{className:"col-span-1 md:col-span-2",children:c.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Novo Limite de Gastos"})}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:"Categoria"}),c.jsx("select",{value:C.category,onChange:$=>S({...C,category:$.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-pink-500",children:y.map($=>c.jsx("option",{value:$,children:$},$))})]}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:"Valor Teto (R$)"}),c.jsx("input",{required:!0,type:"number",placeholder:"Ex: 1000.00",value:C.limit,onChange:$=>S({...C,limit:$.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-pink-500"})]}),c.jsxs("div",{className:"col-span-1 md:col-span-2 bg-slate-50 dark:bg-slate-700/50 p-3 rounded-lg border border-slate-100 dark:border-slate-700",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx("input",{type:"checkbox",id:"isRecurringBudget",checked:C.isRecurring,onChange:$=>S({...C,isRecurring:$.target.checked}),className:"w-4 h-4 text-pink-600 rounded"}),c.jsxs("label",{htmlFor:"isRecurringBudget",className:"text-sm font-medium text-slate-700 dark:text-slate-200 flex items-center gap-1 cursor-pointer",children:[c.jsx(aa,{className:"w-4 h-4"})," Oramento Recorrente?"]})]}),C.isRecurring?c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[c.jsx(Z6,{className:"w-3 h-3"})," Este limite ser aplicado automaticamente em todos os meses futuros."]}):c.jsxs("div",{className:"animate-fade-in",children:[c.jsx("label",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 block mb-1",children:"Ms de Referncia"}),c.jsx("input",{type:"month",required:!C.isRecurring,value:C.month,onChange:$=>S({...C,month:$.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 outline-none w-full max-w-[200px]"})]})]}),c.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-2 mt-2",children:[c.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"px-6 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700 font-medium",children:"Salvar Teto"})]})]}),c.jsxs("div",{className:"mb-10",children:[c.jsxs("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[c.jsx(Kx,{className:"w-5 h-5 text-rose-500"})," Tetos de Gastos"]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:V.length===0?c.jsxs("div",{className:"col-span-full py-12 text-center bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[c.jsx(la,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"Nenhum teto definido."})]}):V.map($=>{const G=q($.category),H=z(G),K=Math.min(100,G/$.limit*100),Y=H?Math.min(100,H/$.limit*100):0,se=G>$.limit;let W="bg-emerald-500",Z=c.jsx(Xx,{className:"w-5 h-5 text-emerald-600"});return K>100?(W="bg-rose-500",Z=c.jsx(Kx,{className:"w-5 h-5 text-rose-600"})):K>85?(W="bg-rose-500",Z=c.jsx(um,{className:"w-5 h-5 text-rose-500"})):K>70&&(W="bg-amber-500",Z=c.jsx(um,{className:"w-5 h-5 text-amber-500"})),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-all relative group",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2.5 rounded-lg bg-slate-100 dark:bg-slate-700",children:Z}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:$.category}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[$.isRecurring?c.jsx(aa,{className:"w-3 h-3"}):c.jsx(Id,{className:"w-3 h-3"}),$.isRecurring?"Mensal":"Especfico"]})]})]}),x===$.id?c.jsxs("div",{className:"flex items-center gap-1 animate-fade-in",children:[c.jsx("input",{autoFocus:!0,type:"number",className:"w-20 p-1 text-sm border rounded bg-white dark:bg-slate-900 dark:text-white dark:border-slate-600",value:w,onChange:de=>E(de.target.value),onKeyDown:de=>de.key==="Enter"&&D($.id)}),c.jsx("button",{onClick:()=>D($.id),className:"p-1 bg-emerald-100 text-emerald-600 rounded hover:bg-emerald-200",children:c.jsx(vB,{className:"w-3 h-3"})}),c.jsx("button",{onClick:()=>_(null),className:"p-1 bg-slate-100 text-slate-600 rounded hover:bg-slate-200",children:c.jsx(Gn,{className:"w-3 h-3"})})]}):c.jsxs("div",{className:"text-right group-hover:hidden",children:[c.jsx("p",{className:"text-xs text-slate-500",children:"Limite"}),c.jsx("p",{className:"font-bold text-slate-800 dark:text-white cursor-pointer hover:text-indigo-500",onClick:()=>j($),children:O($.limit)})]}),c.jsxs("div",{className:"hidden group-hover:flex gap-1 absolute top-4 right-4 bg-white dark:bg-slate-800 pl-2",children:[c.jsx("button",{onClick:()=>j($),className:"p-1.5 text-slate-400 hover:text-indigo-500 hover:bg-indigo-50 rounded",children:c.jsx(v1,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>o($.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded",children:c.jsx(rs,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"space-y-2 relative",children:[c.jsxs("div",{className:"flex justify-between items-end text-sm",children:[c.jsxs("span",{className:"text-slate-600 dark:text-slate-300 font-medium",children:["Gasto: ",c.jsx("span",{className:se?"text-rose-500 font-bold":"",children:O(G)})]}),c.jsxs("span",{className:"text-slate-400 text-xs",children:[K.toFixed(0),"%"]})]}),c.jsxs("div",{className:"w-full h-3 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden relative",children:[H&&H>G&&!se&&c.jsx("div",{className:"absolute top-0 left-0 h-full bg-slate-200 dark:bg-slate-600 opacity-50 border-r-2 border-slate-400 dark:border-slate-400 transition-all duration-1000",style:{width:`${Y}%`},title:`Previso de fechar o ms em ${O(H)}`}),c.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${W} relative z-10`,style:{width:`${K}%`}})]}),c.jsxs("div",{className:"flex justify-between items-center mt-2",children:[H&&H>$.limit&&!se&&c.jsxs("p",{className:"text-[10px] text-amber-600 dark:text-amber-400 flex items-center gap-1 font-semibold animate-pulse",children:[c.jsx(K6,{className:"w-3 h-3"})," Previso de estouro: ",O(H)]}),c.jsx("div",{className:"flex-1"}),c.jsx("p",{className:"text-xs text-right font-medium",children:se?c.jsxs("span",{className:"text-rose-500",children:["Excedido: ",O(G-$.limit)]}):c.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400",children:["Restam: ",O($.limit-G)]})})]})]})]},$.id)})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200 flex items-center gap-2",children:[c.jsx(WA,{className:"w-5 h-5 text-yellow-500"})," Objetivos de Conquista"]}),c.jsxs("button",{onClick:()=>s(ge.INVESTMENTS),className:"text-xs font-semibold text-indigo-600 hover:text-indigo-700 dark:text-indigo-400 flex items-center gap-1 transition-colors",children:["Gerenciar Carteira ",c.jsx(a0,{className:"w-3 h-3"})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:L.length===0?c.jsxs("div",{className:"col-span-full py-8 text-center bg-yellow-50/50 dark:bg-yellow-900/10 rounded-xl border border-dashed border-yellow-200 dark:border-yellow-800",children:[c.jsx(la,{className:"w-10 h-10 text-yellow-400 mx-auto mb-2"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:'Defina uma "Meta Final" nos seus investimentos para v-los aqui.'}),c.jsx("button",{onClick:()=>s(ge.INVESTMENTS),className:"mt-3 text-xs bg-yellow-100 hover:bg-yellow-200 text-yellow-700 px-3 py-1.5 rounded-lg font-bold transition-colors",children:"Ir para Investimentos"})]}):L.map($=>{const G=Math.min(100,$.amount/$.targetAmount*100);return c.jsxs("div",{onClick:()=>s(ge.INVESTMENTS),className:"bg-gradient-to-br from-white to-yellow-50 dark:from-slate-800 dark:to-slate-800/50 p-6 rounded-xl shadow-sm border border-yellow-200 dark:border-yellow-900/30 relative overflow-hidden cursor-pointer hover:shadow-md hover:scale-[1.02] transition-all group",children:[c.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(y1,{className:"w-4 h-4 text-slate-400"})}),c.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2.5 rounded-lg bg-yellow-100 text-yellow-600 dark:bg-yellow-900/30 dark:text-yellow-400",children:c.jsx(Qi,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-bold text-slate-800 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:$.name}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Meta: ",O($.targetAmount)]})]})]}),c.jsx("div",{className:"text-right",children:c.jsxs("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:[G.toFixed(0),"%"]})})]}),c.jsx("div",{className:"w-full h-4 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden relative z-10",children:c.jsx("div",{className:"h-full bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full transition-all duration-1000 shadow-[0_0_10px_rgba(251,191,36,0.5)]",style:{width:`${G}%`},children:c.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/30 to-transparent -translate-x-full animate-[shimmer_2s_infinite]"})})}),c.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2 text-right relative z-10",children:["Faltam ",O($.targetAmount-$.amount)]}),c.jsx(WA,{className:"absolute -bottom-4 -right-4 w-32 h-32 text-yellow-500/5 rotate-12 pointer-events-none"})]},$.id)})})]})]})},Zke={age:30,retirementAge:60,riskProfile:"moderate"},aO={conservative:.03,moderate:.05,aggressive:.07},eIe=({data:t,onSaveProfile:e,privacyMode:n,hasApiKey:r})=>{const[i,o]=U.useState(t.wealthProfile||Zke),[s,a]=U.useState(!t.wealthProfile),[l,u]=U.useState(null),[d,f]=U.useState(!1),h=U.useMemo(()=>t.investments.reduce((S,I)=>S+I.amount,0),[t.investments]),y=U.useMemo(()=>t.debts.filter(S=>S.status!=="paid").reduce((S,I)=>S+I.currentAmount,0),[t.debts]),v=h-y,b=U.useMemo(()=>{const S=t.transactions.filter(T=>T.type==="income").reduce((T,N)=>T+N.amount,0),I=t.transactions.filter(T=>T.type==="expense").reduce((T,N)=>T+N.amount,0);if(S===0&&I===0)return{income:5e3,expense:4e3,savings:1e3};const k=S-I;return{income:S,expense:I>0?I:S*.8,savings:k}},[t.transactions]),x=i.monthlyContributionOverride!==void 0?i.monthlyContributionOverride:Math.max(0,b.savings),_=U.useMemo(()=>{const S=[],I=new Date().getFullYear(),k=i.retirementAge-i.age+10,T=aO[i.riskProfile],N=x*12,M=b.expense*12;let D=v,j=null;for(let O=0;O<=k;O++){const q=I+O,V=i.age+O,L=D*.04;!j&&L>=M&&(j=q),S.push({year:q,age:V,patrimonio:Math.round(D),rendaPassiva:Math.round(L/12),custoVida:Math.round(b.expense)}),V<i.retirementAge?D=D*(1+T)+N:D=D*(1+T)}return{chartData:S,freedomYear:j}},[i,v,x,b.expense]),w=()=>{e(i),a(!1)},E=async()=>{f(!0);const S=await dee(t.investments,i.riskProfile,i.age);u(S),f(!1)},C=S=>n?"":`R$ ${S.toLocaleString("pt-BR",{maximumFractionDigits:0})}`;return c.jsxs("div",{className:"space-y-8 animate-fade-in pb-10",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 border-b border-slate-200 dark:border-slate-700 pb-4",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-lg shadow-lg shadow-yellow-500/20 text-white",children:c.jsx(W6,{className:"w-6 h-6"})}),"NEXO Private"]}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Planejamento patrimonial e alocao estratgica de ativos."})]}),!s&&c.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-sm font-semibold hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Ajustar Perfil"})]}),s&&c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border-l-4 border-yellow-500 animate-scale-in",children:[c.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[c.jsx(hm,{className:"w-5 h-5 text-yellow-500"})," Parmetros da Simulao"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Idade Atual"}),c.jsx("input",{type:"number",value:i.age,onChange:S=>o({...i,age:Number(S.target.value)}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Idade Aposentadoria"}),c.jsx("input",{type:"number",value:i.retirementAge,onChange:S=>o({...i,retirementAge:Number(S.target.value)}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Perfil de Risco"}),c.jsxs("select",{value:i.riskProfile,onChange:S=>o({...i,riskProfile:S.target.value}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600",children:[c.jsx("option",{value:"conservative",children:"Conservador"}),c.jsx("option",{value:"moderate",children:"Moderado"}),c.jsx("option",{value:"aggressive",children:"Arrojado"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Aporte Mensal (Simulado)"}),c.jsx("input",{type:"number",placeholder:`Atual: R$ ${b.savings.toFixed(0)}`,value:i.monthlyContributionOverride||"",onChange:S=>o({...i,monthlyContributionOverride:Number(S.target.value)}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]})]}),c.jsx("div",{className:"mt-6 flex justify-end",children:c.jsx("button",{onClick:w,className:"bg-slate-900 dark:bg-white dark:text-slate-900 text-white px-6 py-2 rounded-lg font-bold hover:opacity-90 transition-opacity",children:"Atualizar Projeo"})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 bg-slate-900 text-white p-6 rounded-xl shadow-2xl relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl pointer-events-none"}),c.jsxs("div",{className:"relative z-10 flex justify-between items-start mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[c.jsx(Qi,{className:"w-5 h-5 text-emerald-400"}),"Liberdade Financeira"]}),c.jsx("p",{className:"text-slate-400 text-sm",children:"Cruzamento entre Renda Passiva e Custo de Vida."})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-xs text-slate-400 uppercase font-bold",children:"Ano da Liberdade"}),c.jsx("p",{className:"text-3xl font-bold text-yellow-400",children:_.freedomYear||"Em construo..."})]})]}),c.jsx("div",{className:"h-[300px] w-full",children:c.jsx(Zo,{width:"100%",height:"100%",children:c.jsxs(kke,{data:_.chartData,margin:{top:10,right:10,left:0,bottom:0},children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"colorPassive",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),c.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),c.jsx(du,{strokeDasharray:"3 3",vertical:!1,stroke:"#334155"}),c.jsx(xi,{dataKey:"year",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8"}}),c.jsx(bi,{hide:!0,domain:["auto","auto"]}),c.jsx(sn,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"8px",color:"#fff"},formatter:S=>[C(S),""]}),c.jsx(ih,{y:b.expense,stroke:"#f43f5e",strokeDasharray:"3 3",label:{value:"Custo Vida",fill:"#f43f5e",fontSize:10}}),c.jsx(bs,{type:"monotone",dataKey:"rendaPassiva",stroke:"#10b981",fillOpacity:1,fill:"url(#colorPassive)",name:"Renda Passiva"})]})})})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 flex flex-col justify-center",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Patrimnio Lquido Atual"}),c.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:C(v)})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Ativos Investidos"}),c.jsx("span",{className:"font-semibold text-emerald-600",children:C(h)})]}),c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Dvidas Totais"}),c.jsx("span",{className:"font-semibold text-rose-600",children:C(y)})]}),c.jsx("div",{className:"w-full h-px bg-slate-200 dark:bg-slate-700 my-2"}),c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Aporte Mensal"}),c.jsx("span",{className:"font-semibold text-indigo-600",children:C(x)})]}),c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Rentabilidade Real (Proj.)"}),c.jsxs("span",{className:"font-semibold text-slate-800 dark:text-white",children:[(aO[i.riskProfile]*100).toFixed(1),"% a.a."]})]})]}),y>h&&c.jsxs("div",{className:"mt-6 bg-rose-50 dark:bg-rose-900/20 p-3 rounded-lg flex items-start gap-2",children:[c.jsx(wB,{className:"w-5 h-5 text-rose-600 shrink-0"}),c.jsx("p",{className:"text-xs text-rose-800 dark:text-rose-300",children:"Ateno: Seu patrimnio est negativo. A prioridade do planejamento deve ser a quitao de dvidas antes da acumulao."})]})]})]}),c.jsxs("div",{className:"mt-8",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(ED,{className:"w-6 h-6 text-purple-600"}),"Alocao Inteligente (IA)"]}),c.jsxs("button",{onClick:E,disabled:!r||d,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-semibold text-sm shadow-md",children:[d?c.jsx("span",{className:"animate-spin",children:""}):c.jsx(Xs,{className:"w-4 h-4"}),l?"Atualizar Anlise":"Gerar Estratgia Private"]})]}),!r&&c.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-8 rounded-xl text-center border border-dashed border-slate-300 dark:border-slate-600",children:[c.jsx(hm,{className:"w-10 h-10 text-slate-400 mx-auto mb-3"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Configure sua Chave API para desbloquear a inteligncia de alocao de ativos."})]}),r&&l&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in",children:[c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700",children:[c.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-3",children:"Diagnstico do Portflio"}),c.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm leading-relaxed mb-6",children:l.analysisText}),c.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-3",children:"Plano de Ao Ttico"}),c.jsx("div",{className:"space-y-3",children:l.actionItems.map((S,I)=>c.jsxs("div",{className:"flex gap-3 p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg border border-slate-100 dark:border-slate-700",children:[c.jsx("div",{className:`
                                      w-10 h-10 rounded-full flex items-center justify-center shrink-0 font-bold text-xs
                                      ${S.type==="buy"?"bg-emerald-100 text-emerald-700":S.type==="sell"?"bg-rose-100 text-rose-700":"bg-blue-100 text-blue-700"}
                                  `,children:S.type==="buy"?"COMPRA":S.type==="sell"?"VENDA":"MANTER"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-bold text-slate-800 dark:text-white text-sm",children:S.title}),c.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:S.description})]})]},I))})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 flex flex-col items-center justify-center",children:[c.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-2 self-start",children:"Atual vs. Ideal (Modelo)"}),c.jsx("div",{className:"h-[300px] w-full",children:c.jsx(Zo,{width:"100%",height:"100%",children:c.jsxs(Ake,{cx:"50%",cy:"50%",outerRadius:"80%",data:l.suggestedAllocation.map(S=>{const I=l.currentAllocation.find(k=>k.name===S.name);return{subject:S.name,A:I?I.value:0,B:S.value,fullMark:100}}),children:[c.jsx(C3,{stroke:"#94a3b8"}),c.jsx(Wu,{dataKey:"subject",tick:{fill:"#64748b",fontSize:10}}),c.jsx(Hu,{angle:30,domain:[0,100],tick:!1}),c.jsx(ru,{name:"Sua Carteira",dataKey:"A",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.3}),c.jsx(ru,{name:"Ideal (IA)",dataKey:"B",stroke:"#10b981",fill:"#10b981",fillOpacity:.3}),c.jsx(hi,{}),c.jsx(sn,{})]})})}),c.jsx("p",{className:"text-xs text-center text-slate-400 mt-2",children:"Comparativo de % de alocao por classe de ativo."})]})]})]})]})},tIe=({currentView:t,onNavigate:e,data:n,actions:r,privacyMode:i,hasApiKey:o,quickActionSignal:s})=>{const a=[{id:ge.INVESTMENTS,label:"Investimentos",icon:y1},{id:ge.BUDGETS,label:"Metas & Tetos",icon:la},{id:ge.WEALTH_PLANNER,label:"Planejamento",icon:ID}];return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 px-1",children:"Gesto de Patrimnio"}),c.jsx("div",{className:"grid grid-cols-3 gap-2 md:gap-3",children:a.map(l=>{const u=t===l.id;return c.jsxs("button",{onClick:()=>e(l.id),className:`
                  relative flex flex-col md:flex-row items-center justify-center gap-2 py-3 px-2 md:px-4 rounded-xl font-bold transition-all duration-200 border-2
                  ${u?"bg-emerald-600 border-emerald-600 text-white shadow-lg shadow-emerald-500/30 scale-[1.02]":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400 hover:border-emerald-300 dark:hover:border-emerald-500 hover:bg-slate-50 dark:hover:bg-slate-700"}
                `,children:[c.jsx(l.icon,{className:`w-5 h-5 ${u?"text-white":"text-slate-400"}`}),c.jsx("span",{className:"text-xs md:text-sm text-center md:text-left",children:l.label})]},l.id)})})]}),c.jsxs("div",{className:"animate-fade-in bg-slate-50/50 dark:bg-slate-900/50 rounded-2xl",children:[t===ge.INVESTMENTS&&c.jsx(Xke,{investments:n.investments,onAdd:r.addInvestment,onUpdate:r.updateInvestment,onDelete:r.deleteInvestment,onNavigate:e,privacyMode:i,hasApiKey:o,quickActionSignal:s}),t===ge.BUDGETS&&c.jsx(Qke,{budgets:n.budgets||[],transactions:n.transactions,investments:n.investments||[],onAdd:r.addBudget,onUpdate:r.updateBudget,onDelete:r.deleteBudget,onNavigate:e,privacyMode:i,quickActionSignal:s}),t===ge.WEALTH_PLANNER&&c.jsx(eIe,{data:n,onSaveProfile:r.saveWealthProfile,privacyMode:i,hasApiKey:o})]})]})},ex=[{label:"Azul",value:"blue",bg:"bg-blue-100 dark:bg-blue-900/30",border:"border-blue-200 dark:border-blue-800",text:"text-blue-700 dark:text-blue-300"},{label:"Verde",value:"green",bg:"bg-emerald-100 dark:bg-emerald-900/30",border:"border-emerald-200 dark:border-emerald-800",text:"text-emerald-700 dark:text-emerald-300"},{label:"Roxo",value:"purple",bg:"bg-purple-100 dark:bg-purple-900/30",border:"border-purple-200 dark:border-purple-800",text:"text-purple-700 dark:text-purple-300"},{label:"Rosa",value:"rose",bg:"bg-rose-100 dark:bg-rose-900/30",border:"border-rose-200 dark:border-rose-800",text:"text-rose-700 dark:text-rose-300"},{label:"Amarelo",value:"yellow",bg:"bg-amber-100 dark:bg-amber-900/30",border:"border-amber-200 dark:border-amber-800",text:"text-amber-700 dark:text-amber-300"}],nIe=({columns:t,onSaveColumn:e,onDeleteColumn:n,onAddTransaction:r,privacyMode:i})=>{const[o,s]=U.useState(""),[a,l]=U.useState(null),[u,d]=U.useState(""),[f,h]=U.useState(""),[y,v]=U.useState("blue"),[b,x]=U.useState(null),[_,w]=U.useState(null);U.useEffect(()=>{t.length===0&&[{id:"col-1",title:"Ideias / Sonhos",order:0,cards:[]},{id:"col-2",title:"Pesquisando Preo",order:1,cards:[]},{id:"col-3",title:"Prioridade / Prxima",order:2,cards:[]},{id:"col-4",title:"Concludo / Pago",order:3,isConclusion:!0,cards:[]}].forEach(q=>e(q))},[t.length]);const E=O=>{if(O.preventDefault(),!o.trim())return;const q={id:crypto.randomUUID(),title:o,order:t.length,cards:[]};e(q),s("")},C=O=>{x({id:O.id,title:O.title})},S=()=>{if(!b)return;const O=t.find(q=>q.id===b.id);O&&b.title.trim()&&e({...O,title:b.title}),x(null)},I=O=>{const q=t.find(L=>L.id===O);if(!q)return;const V={id:crypto.randomUUID(),title:u||"Novo Item",amount:parseFloat(f)||0,color:y};e({...q,cards:[...q.cards,V]}),l(null),d(""),h(""),v("blue")},k=(O,q)=>{const V=t.find(L=>L.id===O);V&&e({...V,cards:V.cards.filter(L=>L.id!==q)})},T=(O,q,V)=>{w({cardId:q,sourceColId:V}),O.dataTransfer.effectAllowed="move"},N=O=>{O.preventDefault(),O.dataTransfer.dropEffect="move"},M=(O,q)=>{if(O.preventDefault(),!_)return;const{cardId:V,sourceColId:L}=_;if(L===q){w(null);return}const z=t.find($=>$.id===L),P=t.find($=>$.id===q);if(z&&P){const $=z.cards.find(G=>G.id===V);$&&(e({...z,cards:z.cards.filter(G=>G.id!==V)}),e({...P,cards:[...P.cards,$]}))}w(null)},D=O=>i?"":`R$ ${O.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,j=[...t].sort((O,q)=>O.order-q.order);return c.jsxs("div",{className:"h-[calc(100vh-140px)] flex flex-col animate-fade-in",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4 shrink-0",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(b1,{className:"w-7 h-7 text-indigo-600"}),"NEXO Flow"]}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Organize seus planos: Sonhe, Pesquise, Priorize e Compre."})]}),c.jsxs("form",{onSubmit:E,className:"flex gap-2",children:[c.jsx("input",{type:"text",placeholder:"Nova Coluna...",value:o,onChange:O=>s(O.target.value),className:"px-3 py-2 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 text-sm"}),c.jsx("button",{type:"submit",className:"bg-slate-800 dark:bg-slate-700 text-white px-3 py-2 rounded-lg hover:bg-slate-900 transition-colors",children:c.jsx(sr,{className:"w-5 h-5"})})]})]}),c.jsx("style",{children:`
        .kanban-scroll::-webkit-scrollbar {
            height: 12px;
        }
        .kanban-scroll::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.05);
            border-radius: 10px;
            margin: 0 10px;
        }
        .kanban-scroll::-webkit-scrollbar-thumb {
            background-color: #94a3b8;
            border-radius: 10px;
            border: 3px solid transparent;
            background-clip: content-box;
        }
        .kanban-scroll::-webkit-scrollbar-thumb:hover {
            background-color: #64748b;
        }
        .dark .kanban-scroll::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.05);
        }
        .dark .kanban-scroll::-webkit-scrollbar-thumb {
            background-color: #475569;
        }
        .dark .kanban-scroll::-webkit-scrollbar-thumb:hover {
            background-color: #94a3b8;
        }
      `}),c.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden pb-4 kanban-scroll",children:c.jsx("div",{className:"flex h-full gap-4 min-w-max px-2",children:j.map(O=>c.jsxs("div",{className:`w-72 flex flex-col rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-800/50 backdrop-blur-sm transition-colors ${_&&_.sourceColId!==O.id?"bg-indigo-50/30 border-indigo-200 border-dashed":""}`,onDragOver:N,onDrop:q=>M(q,O.id),children:[c.jsxs("div",{className:`p-3 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center group/header ${O.isConclusion?"bg-emerald-50 dark:bg-emerald-900/10 rounded-t-xl":""}`,children:[c.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[O.isConclusion&&c.jsx(Us,{className:"w-4 h-4 text-emerald-600 flex-shrink-0"}),(b==null?void 0:b.id)===O.id?c.jsx("input",{autoFocus:!0,className:"w-full bg-white dark:bg-slate-900 border border-indigo-500 rounded px-1 py-0.5 text-sm font-bold text-slate-800 dark:text-white outline-none",value:b.title,onChange:q=>x({...b,title:q.target.value}),onBlur:S,onKeyDown:q=>q.key==="Enter"&&S()}):c.jsxs("div",{className:"flex items-center gap-2 overflow-hidden w-full",children:[c.jsx("h3",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm uppercase tracking-wide truncate cursor-pointer hover:text-indigo-600 transition-colors",onDoubleClick:()=>C(O),title:"Duplo clique para renomear",children:O.title}),c.jsx("button",{onClick:()=>C(O),className:"opacity-0 group-hover/header:opacity-100 transition-opacity p-1 text-slate-400 hover:text-indigo-500",children:c.jsx(v1,{className:"w-3 h-3"})})]}),(b==null?void 0:b.id)!==O.id&&c.jsx("span",{className:"bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-1.5 py-0.5 rounded text-[10px] font-bold flex-shrink-0",children:O.cards.length})]}),!O.isConclusion&&c.jsx("button",{onClick:()=>{confirm("Excluir coluna?")&&n(O.id)},className:"text-slate-400 hover:text-rose-500 ml-2",title:"Excluir Coluna",children:c.jsx(Gn,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:O.cards.map(q=>{const V=ex.find(L=>L.value===q.color)||ex[0];return c.jsxs("div",{draggable:!0,onDragStart:L=>T(L,q.id,O.id),className:`bg-white dark:bg-slate-700 p-3 rounded-lg shadow-sm border border-slate-200 dark:border-slate-600 cursor-grab active:cursor-grabbing hover:shadow-md transition-all group relative border-l-4 ${V.border.replace("border","border-l")}`,style:{borderLeftColor:`var(--${q.color}-500)`},children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("p",{className:"font-semibold text-slate-800 dark:text-white text-sm",children:q.title}),c.jsx("button",{onClick:()=>k(O.id,q.id),className:"text-slate-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-opacity",children:c.jsx(Gn,{className:"w-3 h-3"})})]}),c.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[c.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold uppercase ${V.bg} ${V.text}`,children:q.amount>0?D(q.amount):"R$ -"}),c.jsx(X6,{className:"w-3 h-3 text-slate-300"})]})]},q.id)})}),c.jsx("div",{className:"p-2 border-t border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-slate-800/50 rounded-b-xl",children:a===O.id?c.jsxs("div",{className:"space-y-2 p-1 animate-scale-in",children:[c.jsx("input",{autoFocus:!0,className:"w-full p-2 text-sm border rounded dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"Ttulo...",value:u,onChange:q=>d(q.target.value)}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx("input",{type:"number",className:"w-20 p-2 text-sm border rounded dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"R$",value:f,onChange:q=>h(q.target.value)}),c.jsx("div",{className:"flex-1 flex justify-end gap-1",children:ex.map(q=>c.jsx("button",{onClick:()=>v(q.value),className:`w-6 h-6 rounded-full border-2 ${y===q.value?"border-slate-500 scale-110":"border-transparent"} ${q.bg.split(" ")[0]}`},q.value))})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>l(null),className:"flex-1 py-1 text-xs text-slate-500 bg-slate-200 rounded",children:"Cancelar"}),c.jsx("button",{onClick:()=>I(O.id),className:"flex-1 py-1 text-xs text-white bg-indigo-600 rounded font-bold",children:"Adicionar"})]})]}):c.jsxs("button",{onClick:()=>l(O.id),className:"w-full py-2 flex items-center justify-center gap-1 text-slate-500 hover:text-indigo-600 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors text-sm font-medium",children:[c.jsx(sr,{className:"w-4 h-4"})," Adicionar Card"]})})]},O.id))})})]})},Cc=[{value:"yellow",bg:"bg-amber-100 dark:bg-amber-900/40",border:"border-amber-200 dark:border-amber-800"},{value:"slate",bg:"bg-white dark:bg-slate-800",border:"border-slate-200 dark:border-slate-700"},{value:"green",bg:"bg-emerald-100 dark:bg-emerald-900/40",border:"border-emerald-200 dark:border-emerald-800"},{value:"blue",bg:"bg-blue-100 dark:bg-blue-900/40",border:"border-blue-200 dark:border-blue-800"},{value:"rose",bg:"bg-rose-100 dark:bg-rose-900/40",border:"border-rose-200 dark:border-rose-800"},{value:"purple",bg:"bg-purple-100 dark:bg-purple-900/40",border:"border-purple-200 dark:border-purple-800"}],rIe=({notes:t,onAdd:e,onUpdate:n,onDelete:r,privacyMode:i})=>{var _,w;const[o,s]=U.useState(""),[a,l]=U.useState(!1),[u,d]=U.useState(null),[f,h]=U.useState({title:"",content:"",color:"slate",isPinned:!1}),y=t.filter(E=>E.title.toLowerCase().includes(o.toLowerCase())||E.content.toLowerCase().includes(o.toLowerCase())).sort((E,C)=>E.isPinned!==C.isPinned?E.isPinned?-1:1:new Date(C.date).getTime()-new Date(E.date).getTime()),v=E=>{E?(d(E.id),h({title:E.title,content:E.content,color:E.color,isPinned:E.isPinned})):(d(null),h({title:"",content:"",color:"slate",isPinned:!1})),l(!0)},b=E=>{E.preventDefault(),!(!f.title.trim()&&!f.content.trim())&&(u?n(u,{title:f.title,content:f.content,color:f.color,isPinned:f.isPinned}):e({title:f.title,content:f.content,color:f.color,isPinned:f.isPinned,date:new Date().toISOString()}),l(!1))},x=(E,C)=>{E.stopPropagation(),n(C.id,{isPinned:!C.isPinned})};return c.jsxs("div",{className:"space-y-6 animate-fade-in pb-20",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(Dl,{className:"w-7 h-7 text-indigo-600"}),"NEXO Notes"]}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Registre ideias, lembretes e tarefas rapidamente."})]}),c.jsxs("div",{className:"flex w-full md:w-auto gap-3 items-center",children:[c.jsxs("div",{className:"flex-1 relative group md:w-64",children:[c.jsx(tb,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2 group-focus-within:text-indigo-500 transition-colors"}),c.jsx("input",{type:"text",placeholder:"Buscar notas...",value:o,onChange:E=>s(E.target.value),className:"w-full pl-9 pr-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 text-sm transition-all shadow-sm"})]}),c.jsxs("button",{onClick:()=>v(),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2.5 rounded-xl hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-500/20 font-bold text-sm",children:[c.jsx(sr,{className:"w-4 h-4"})," Nova Nota"]})]})]}),c.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-4 space-y-4",children:y.length===0?c.jsxs("div",{className:"col-span-full py-12 text-center text-slate-400 flex flex-col items-center",children:[c.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 p-4 rounded-full mb-3",children:c.jsx(Dl,{className:"w-8 h-8 opacity-50"})}),c.jsx("p",{children:"Nenhuma nota encontrada."})]}):y.map(E=>{const C=Cc.find(S=>S.value===E.color)||Cc[1];return c.jsxs("div",{onClick:()=>v(E),className:`break-inside-avoid rounded-xl p-5 shadow-sm border transition-all hover:shadow-md cursor-pointer group relative ${C.bg} ${C.border}`,children:[c.jsx("button",{onClick:S=>x(S,E),className:`absolute top-3 right-3 p-1.5 rounded-full transition-colors z-10 ${E.isPinned?"bg-slate-900/10 dark:bg-white/10 text-indigo-600 dark:text-indigo-400":"opacity-0 group-hover:opacity-100 hover:bg-black/5 dark:hover:bg-white/10 text-slate-400"}`,children:E.isPinned?c.jsx(uv,{className:"w-3 h-3 fill-current"}):c.jsx(uv,{className:"w-3 h-3"})}),E.title&&c.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-2 pr-6",children:E.title}),c.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 whitespace-pre-wrap leading-relaxed",children:E.content}),c.jsxs("div",{className:"mt-4 flex justify-between items-center pt-2 border-t border-black/5 dark:border-white/5 opacity-60 group-hover:opacity-100 transition-opacity",children:[c.jsxs("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[c.jsx(Xi,{className:"w-3 h-3"}),new Date(E.date).toLocaleDateString("pt-BR")]}),c.jsx("button",{onClick:S=>{S.stopPropagation(),r(E.id)},className:"p-1 hover:text-rose-500 transition-colors",children:c.jsx(rs,{className:"w-3.5 h-3.5"})})]})]},E.id)})}),a&&c.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:c.jsx("div",{className:`rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-scale-in border transition-colors ${((_=Cc.find(E=>E.value===f.color))==null?void 0:_.bg)||"bg-white dark:bg-slate-800"} ${((w=Cc.find(E=>E.value===f.color))==null?void 0:w.border)||"border-slate-200"}`,children:c.jsxs("form",{onSubmit:b,className:"flex flex-col h-full max-h-[90vh]",children:[c.jsxs("div",{className:"p-2 flex justify-between items-center",children:[c.jsx("div",{className:"flex gap-1",children:Cc.map(E=>c.jsx("button",{type:"button",onClick:()=>h({...f,color:E.value}),className:`w-6 h-6 rounded-full border-2 transition-transform hover:scale-110 ${E.value===f.color?"border-indigo-500 scale-110":"border-transparent"} ${E.bg.split(" ")[0]==="bg-white"?"bg-slate-200":E.bg.split(" ")[0]}`},E.value))}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("button",{type:"button",onClick:()=>h({...f,isPinned:!f.isPinned}),className:`p-2 rounded-full transition-colors ${f.isPinned?"text-indigo-600 bg-indigo-500/10":"text-slate-400 hover:bg-black/5"}`,title:"Fixar nota",children:f.isPinned?c.jsx(uv,{className:"w-5 h-5 fill-current"}):c.jsx(mB,{className:"w-5 h-5"})}),c.jsx("button",{type:"button",onClick:()=>l(!1),className:"p-2 text-slate-500 hover:bg-black/5 rounded-full",children:c.jsx(Gn,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"px-6 pb-2",children:c.jsx("input",{type:"text",placeholder:"Ttulo",value:f.title,onChange:E=>h({...f,title:E.target.value}),className:"w-full text-xl font-bold bg-transparent border-none outline-none placeholder:text-slate-400 dark:placeholder:text-slate-500 text-slate-800 dark:text-white"})}),c.jsx("div",{className:"px-6 pb-6 flex-1 overflow-y-auto",children:c.jsx("textarea",{placeholder:"Digite sua nota aqui...",value:f.content,onChange:E=>h({...f,content:E.target.value}),className:"w-full h-64 bg-transparent border-none outline-none resize-none text-slate-700 dark:text-slate-200 placeholder:text-slate-400 dark:placeholder:text-slate-500"})}),c.jsx("div",{className:"p-4 flex justify-end border-t border-black/5 dark:border-white/5",children:c.jsx("button",{type:"submit",className:"px-6 py-2 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-lg font-bold shadow-md hover:opacity-90 transition-opacity",children:"Salvar"})})]})})})]})},dp=["Hortifruti","Carnes","Laticnios","Mercearia","Padaria","Bebidas","Limpeza","Higiene","Outros"],iIe=({items:t,onAdd:e,onUpdate:n,onDelete:r,onClearList:i,onFinishShopping:o,shoppingBudget:s=0,onUpdateBudget:a,hasApiKey:l=!1,privacyMode:u,quickActionSignal:d})=>{const[f,h]=U.useState(""),[y,v]=U.useState("Outros"),[b,x]=U.useState(!1),[_,w]=U.useState(!1),[E,C]=U.useState(""),[S,I]=U.useState(!1),[k,T]=U.useState(!1),[N,M]=U.useState(s.toString()),[D,j]=U.useState("Alimentos"),[O,q]=U.useState("debit_card"),V=U.useMemo(()=>t.reduce((W,Z)=>W+Z.actualPrice*Z.quantity,0),[t]),L=U.useMemo(()=>{const W={};return dp.forEach(Z=>W[Z]=[]),t.forEach(Z=>{const de=Z.category||"Outros";W[de]||(W[de]=[]),W[de].push(Z)}),W},[t]);U.useEffect(()=>{if(d){const W=document.getElementById("new-item-input");W&&W.focus()}},[d]);const z=W=>{W.preventDefault(),f.trim()&&(e({name:f.trim(),quantity:1,actualPrice:0,isChecked:!1,category:y}),h(""),v("Outros"))},P=async W=>{if(W.preventDefault(),!E.trim())return;I(!0),(await lee(E)).forEach(de=>{e({...de,actualPrice:0,isChecked:!1})}),I(!1),w(!1),C("")},$=(W,Z,de)=>{const oe=Math.max(1,Z+de);n(W,{quantity:oe})},G=()=>{if(V===0){alert("O valor total est zerado. Adicione preos aos itens para lanar a despesa.");return}o(V,O,D),x(!1)},H=()=>{const W=parseFloat(N);isNaN(W)||a(W),T(!1)},K=W=>u?"":`R$ ${W.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,Y=s>0?V/s*100:0;let se="bg-emerald-500";return Y>100?se="bg-rose-500":Y>85&&(se="bg-amber-500"),c.jsxs("div",{className:"space-y-6 animate-fade-in relative pb-32 md:pb-0",children:[b&&c.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-sm p-6 border border-emerald-500/30 animate-scale-in",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(dm,{className:"w-6 h-6 text-emerald-500"})," Finalizar Compra"]}),c.jsx("button",{onClick:()=>x(!1),className:"text-slate-400 hover:text-slate-600",children:c.jsx(Gn,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-4 rounded-xl mb-6 text-center border border-emerald-100 dark:border-emerald-800",children:[c.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400 uppercase font-bold mb-1",children:"Valor Final a Lanar"}),c.jsx("p",{className:"text-3xl font-bold text-emerald-700 dark:text-emerald-300",children:K(V)})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Categoria da Despesa"}),c.jsxs("select",{value:D,onChange:W=>j(W.target.value),className:"w-full p-2.5 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none",children:[c.jsx("option",{value:"Alimentos",children:"Alimentos"}),c.jsx("option",{value:"Casa",children:"Casa"}),c.jsx("option",{value:"Lazer",children:"Lazer"}),c.jsx("option",{value:"Pets",children:"Pets"}),c.jsx("option",{value:"Outros",children:"Outros"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Forma de Pagamento"}),c.jsxs("select",{value:O,onChange:W=>q(W.target.value),className:"w-full p-2.5 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none",children:[c.jsx("option",{value:"credit_card",children:"Carto de Crdito"}),c.jsx("option",{value:"debit_card",children:"Carto de Dbito"}),c.jsx("option",{value:"cash",children:"Dinheiro"}),c.jsx("option",{value:"pix",children:"PIX"}),c.jsx("option",{value:"ticket",children:"Vale Alimentao/Refeio"})]})]}),c.jsxs("button",{onClick:G,className:"w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-bold shadow-lg shadow-emerald-500/30 flex items-center justify-center gap-2 mt-4",children:[c.jsx(Qx,{className:"w-5 h-5"})," Confirmar e Lanar"]})]})]})}),_&&c.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 border border-purple-200 dark:border-purple-800 animate-scale-in",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(Xs,{className:"w-5 h-5 text-purple-600"})," Assistente de Compras"]}),c.jsx("button",{onClick:()=>w(!1),className:"text-slate-400 hover:text-slate-600",children:c.jsx(Gn,{className:"w-5 h-5"})})]}),c.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:'O que vamos comprar? Digite uma receita (ex: "Strogonoff para 4") ou um evento (ex: "Churrasco fim de semana") e eu gero a lista.'}),c.jsxs("form",{onSubmit:P,children:[c.jsx("input",{autoFocus:!0,type:"text",value:E,onChange:W=>C(W.target.value),placeholder:"Ex: Ingredientes para bolo de cenoura...",className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-purple-500 mb-4"}),c.jsxs("button",{type:"submit",disabled:S||!E,className:"w-full py-2.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-bold shadow-md disabled:opacity-50 flex items-center justify-center gap-2",children:[S?c.jsx("span",{className:"animate-spin",children:""}):c.jsx(B6,{className:"w-5 h-5"}),"Gerar Lista"]})]})]})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[c.jsx(pm,{className:"w-7 h-7 text-indigo-600"}),"Lista de Compras"]}),c.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Organize sua ida ao mercado."})]}),c.jsxs("button",{onClick:()=>w(!0),disabled:!l,className:`hidden md:flex items-center gap-2 px-4 py-2 rounded-lg font-bold text-xs uppercase tracking-wide transition-all shadow-sm ${l?"bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900/30 dark:text-purple-300":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[c.jsx(Xs,{className:"w-4 h-4"})," Gerar com IA"]})]}),c.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[c.jsxs("div",{className:"flex justify-between items-end mb-2",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-[10px] font-bold uppercase text-slate-400 tracking-wider mb-1",children:"Total Calculado"}),c.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:K(V)})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-[10px] font-bold uppercase text-slate-400 tracking-wider mb-1 flex items-center justify-end gap-1 cursor-pointer hover:text-indigo-500",onClick:()=>{T(!0),M(s.toString())},children:["Teto de Gastos (Viagem) ",c.jsx(ND,{className:"w-3 h-3"})]}),k?c.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[c.jsx("span",{className:"text-sm font-bold text-slate-500",children:"R$"}),c.jsx("input",{autoFocus:!0,type:"number",className:"w-24 p-1 text-right font-bold border rounded dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:N,onChange:W=>M(W.target.value),onKeyDown:W=>W.key==="Enter"&&H(),onBlur:H})]}):c.jsx("p",{className:"text-xl font-bold text-slate-600 dark:text-slate-400 cursor-pointer hover:text-indigo-500",onClick:()=>{T(!0),M(s.toString())},children:s>0?K(s):"Definir Teto"})]})]}),s>0&&c.jsxs("div",{className:"relative w-full h-4 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:[c.jsx("div",{className:`h-full transition-all duration-500 ${se}`,style:{width:`${Math.min(100,Y)}%`}}),Y>100&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsxs("span",{className:"text-[9px] font-bold text-white drop-shadow-md animate-pulse flex items-center gap-1",children:[c.jsx(um,{className:"w-3 h-3"})," ACIMA DO ORAMENTO"]})})]})]})]}),c.jsxs("form",{onSubmit:z,className:"flex gap-2",children:[c.jsxs("div",{className:"relative flex-1 flex gap-2",children:[c.jsx("input",{id:"new-item-input",type:"text",value:f,onChange:W=>h(W.target.value),placeholder:"Adicionar item...",className:"flex-1 p-3 pl-4 rounded-xl border border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm",autoComplete:"off"}),c.jsx("select",{value:y,onChange:W=>v(W.target.value),className:"hidden md:block w-32 p-3 rounded-xl border border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm text-sm",children:dp.map(W=>c.jsx("option",{value:W,children:W},W))})]}),c.jsx("button",{type:"submit",disabled:!f.trim(),className:"px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl shadow-md disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c.jsx(sr,{className:"w-6 h-6"})})]}),c.jsx("div",{className:"md:hidden overflow-x-auto pb-2 -mt-4",children:c.jsx("div",{className:"flex gap-2 px-1",children:dp.map(W=>c.jsx("button",{type:"button",onClick:()=>v(W),className:`px-3 py-1.5 rounded-full text-xs font-bold border whitespace-nowrap ${y===W?"bg-indigo-600 text-white border-indigo-600":"bg-white dark:bg-slate-800 text-slate-500 border-slate-200 dark:border-slate-700"}`,children:W},W))})}),c.jsx("div",{className:"space-y-6",children:t.length===0?c.jsxs("div",{className:"p-12 text-center text-slate-400 flex flex-col items-center bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-200 dark:border-slate-700",children:[c.jsx(pm,{className:"w-16 h-16 mb-4 opacity-20"}),c.jsx("p",{children:"Sua lista est vazia."}),l&&c.jsx("p",{className:"text-sm mt-2 text-purple-500 cursor-pointer hover:underline",onClick:()=>w(!0),children:"Experimente usar a IA para criar uma lista!"})]}):dp.map(W=>{const Z=L[W];return!Z||Z.length===0?null:c.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[c.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 px-4 py-2 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[c.jsxs("h3",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[c.jsx(tB,{className:"w-3 h-3"})," ",W]}),c.jsx("span",{className:"text-[10px] font-bold bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-1.5 py-0.5 rounded-full",children:Z.length})]}),c.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:Z.map(de=>c.jsxs("div",{className:`p-4 flex flex-col sm:flex-row sm:items-center gap-4 transition-colors ${de.isChecked?"bg-slate-50/50 dark:bg-slate-700/30":""}`,children:[c.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[c.jsx("button",{onClick:()=>n(de.id,{isChecked:!de.isChecked}),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all flex-shrink-0 ${de.isChecked?"bg-emerald-500 border-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-emerald-400"}`,children:c.jsx(Qx,{className:"w-4 h-4"})}),c.jsx("span",{className:`font-medium text-lg truncate ${de.isChecked?"text-slate-400 line-through":"text-slate-700 dark:text-slate-200"}`,children:de.name})]}),c.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-4 w-full sm:w-auto",children:[c.jsxs("div",{className:"flex items-center bg-slate-100 dark:bg-slate-700 rounded-lg p-1",children:[c.jsx("button",{onClick:()=>$(de.id,de.quantity,-1),className:"p-1.5 text-slate-500 hover:text-indigo-600",children:c.jsx(lB,{className:"w-4 h-4"})}),c.jsx("span",{className:"w-8 text-center font-bold text-slate-700 dark:text-white text-sm",children:de.quantity}),c.jsx("button",{onClick:()=>$(de.id,de.quantity,1),className:"p-1.5 text-slate-500 hover:text-indigo-600",children:c.jsx(sr,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-xs font-bold",children:"R$"}),c.jsx("input",{type:"number",step:"0.01",placeholder:"0,00",value:de.actualPrice===0?"":de.actualPrice,onChange:oe=>n(de.id,{actualPrice:parseFloat(oe.target.value)||0}),className:`w-24 pl-8 pr-2 py-2 rounded-lg border outline-none font-bold text-right transition-colors ${de.actualPrice>0?"border-emerald-300 dark:border-emerald-700 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400":"border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:border-indigo-500"}`})]}),c.jsx("button",{onClick:()=>r(de.id),className:"p-2 text-slate-300 hover:text-rose-500 transition-colors",children:c.jsx(rs,{className:"w-5 h-5"})})]})]},de.id))})]},W)})}),c.jsxs("div",{className:"fixed bottom-20 left-1/2 -translate-x-1/2 md:hidden z-30 flex gap-2 w-[90%] max-w-sm",children:[c.jsx("button",{onClick:()=>w(!0),disabled:!l,className:"bg-white dark:bg-slate-800 text-purple-600 p-4 rounded-full shadow-lg border border-purple-100 dark:border-purple-900 disabled:opacity-50",children:c.jsx(Xs,{className:"w-6 h-6"})}),c.jsxs("button",{onClick:()=>x(!0),disabled:t.length===0,className:"flex-1 bg-slate-900 text-white rounded-full shadow-xl font-bold flex items-center justify-between px-6 hover:scale-105 transition-transform disabled:opacity-70 disabled:scale-100",children:[c.jsxs("div",{className:"flex flex-col items-start leading-tight",children:[c.jsx("span",{className:"text-[10px] text-emerald-400 uppercase font-bold",children:"Total"}),c.jsx("span",{className:"text-lg",children:K(V)})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm bg-white/10 px-3 py-1.5 rounded-lg",children:["Finalizar ",c.jsx(a0,{className:"w-4 h-4"})]})]})]})]})},oIe=({currentView:t,onNavigate:e,data:n,actions:r,privacyMode:i,hasApiKey:o,quickActionSignal:s})=>{const a=async(u,d,f)=>{const h={description:`Compra de Mercado (${new Date().toLocaleDateString()})`,amount:u,type:"expense",category:f,date:new Date().toISOString().split("T")[0],status:"paid",paymentMethod:d,isRecurring:!1};await r.addTransaction(h),await r.clearShoppingList(),alert("Compra finalizada! Despesa registrada com sucesso."),e(ge.TRANSACTIONS)},l=[{id:ge.KANBAN,label:"NEXO Flow",icon:b1},{id:ge.NOTES,label:"NEXO Notes",icon:Dl},{id:ge.SHOPPING_LIST,label:"Lista de Compras",icon:pm}];return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 px-1",children:"Ferramentas de Organizao"}),c.jsx("div",{className:"grid grid-cols-3 gap-2 md:gap-3",children:l.map(u=>{const d=t===u.id;return c.jsxs("button",{onClick:()=>e(u.id),className:`
                  relative flex flex-col md:flex-row items-center justify-center gap-2 py-3 px-2 md:px-4 rounded-xl font-bold transition-all duration-200 border-2
                  ${d?"bg-purple-600 border-purple-600 text-white shadow-lg shadow-purple-500/30 scale-[1.02]":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400 hover:border-purple-300 dark:hover:border-purple-500 hover:bg-slate-50 dark:hover:bg-slate-700"}
                `,children:[c.jsx(u.icon,{className:`w-5 h-5 ${d?"text-white":"text-slate-400"}`}),c.jsx("span",{className:"text-xs md:text-sm text-center md:text-left",children:u.label})]},u.id)})})]}),c.jsxs("div",{className:"animate-fade-in bg-slate-50/50 dark:bg-slate-900/50 rounded-2xl",children:[t===ge.KANBAN&&c.jsx(nIe,{columns:n.kanbanColumns||[],onSaveColumn:r.saveKanbanColumn,onDeleteColumn:r.deleteKanbanColumn,onAddTransaction:u=>{r.addTransaction(u),alert("Transao criada a partir do card!"),e(ge.TRANSACTIONS)},privacyMode:i}),t===ge.NOTES&&c.jsx(rIe,{notes:n.notes||[],onAdd:r.addNote,onUpdate:r.updateNote,onDelete:r.deleteNote,privacyMode:i}),t===ge.SHOPPING_LIST&&c.jsx(iIe,{items:n.shoppingList||[],onAdd:r.addShoppingItem,onUpdate:r.updateShoppingItem,onDelete:r.deleteShoppingItem,onClearList:r.clearShoppingList,onFinishShopping:a,shoppingBudget:n.shoppingBudget,onUpdateBudget:r.setShoppingBudget,hasApiKey:o,privacyMode:i,quickActionSignal:s})]})]})},lO="028.268.001-24",sIe="Alexandre Magno dos Santos Linhares",aIe=()=>{const[t,e]=U.useState(null),[n,r]=U.useState(!1),[i,o]=U.useState(!0),{data:s,setData:a,actions:l}=Oke(t,n),[u,d]=U.useState(ge.DASHBOARD),[f,h]=U.useState(!1),[y,v]=U.useState(!1),[b,x]=U.useState(!1),[_,w]=U.useState(!1),[E,C]=U.useState(null),[S,I]=U.useState(0),[k,T]=U.useState(!1),[N,M]=U.useState(""),[D,j]=U.useState(!1),[O,q]=U.useState(!1),[V,L]=U.useState(!1);U.useRef(null),U.useEffect(()=>{const fe=ye=>{ye.preventDefault(),C(ye)};return window.addEventListener("beforeinstallprompt",fe),()=>window.removeEventListener("beforeinstallprompt",fe)},[]);const z=async()=>{if(!E)return;E.prompt();const{outcome:fe}=await E.userChoice;C(null)};U.useEffect(()=>{const fe=d9(Li,async ye=>{if(e(ye),o(!1),ye){r(!1);const te=fI("guest_user");te.transactions.length>0&&confirm("Encontramos dados no modo convidado. Deseja migrar para sua conta na nuvem?")&&(await mI(ye.uid,te),localStorage.removeItem("finansmart_data_v2_guest_user"))}});return()=>fe()},[]),U.useEffect(()=>{!i&&n&&SH(s,"guest_user")},[s,n,i]);const P=()=>{r(!0);const fe=fI("guest_user");a(fe)},$=async()=>{n?(r(!1),a({transactions:[],investments:[],budgets:[],debts:[],shoppingList:[],unlockedBadges:[],kanbanColumns:[],notes:[],categories:[]})):await f9(Li)};U.useEffect(()=>{j(XC()),XC()&&M(Ru()||""),!localStorage.getItem("nexo_welcome_seen")&&(t||n)&&L(!0)},[t,n]);const G=()=>{N.trim()&&(JC(N.trim()),j(!0),T(!1),alert("Chave API salva no seu navegador com sucesso!"))},H=()=>{aee(),M(""),j(!1),T(!1)},K=()=>{N.trim()&&(JC(N.trim()),j(!0)),localStorage.setItem("nexo_welcome_seen","true"),L(!1)},Y=()=>{navigator.clipboard.writeText(lO),alert("Chave Pix copiada!")};U.useEffect(()=>{y?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[y]);const se=()=>{document.fullscreenElement?(document.exitFullscreen&&document.exitFullscreen(),x(!1)):(document.documentElement.requestFullscreen().catch(fe=>console.error(fe)),x(!0))},W=()=>{confirm(` ATENO: Isso apagar TODOS os dados, configuraes e chave API deste navegador.

Deseja realmente resetar o app para o estado de fbrica?`)&&(localStorage.clear(),window.location.reload())},Z=()=>{const fe=JSON.stringify(s),ye="data:application/json;charset=utf-8,"+encodeURIComponent(fe),te=document.createElement("a");te.setAttribute("href",ye),te.setAttribute("download","nexo_backup.json"),te.click()},de=fe=>{var $e;const ye=($e=fe.target.files)==null?void 0:$e[0];if(!ye)return;const te=new FileReader;te.onload=async Oe=>{var tt;try{const Xe=JSON.parse((tt=Oe.target)==null?void 0:tt.result);confirm("Isso substituir seus dados atuais. Tem certeza?")&&(t?await mI(t.uid,Xe):a(Xe),alert("Backup restaurado com sucesso!"))}catch{alert("Erro ao ler arquivo de backup.")}},te.readAsText(ye)},oe=fe=>{d(fe),w(!1),setTimeout(()=>I(Date.now()),50)},re=()=>u===ge.DASHBOARD?c.jsx(tO,{data:s,privacyMode:f,onUnlockBadge:l.unlockBadge,onNavigate:fe=>d(fe)}):u===ge.AI_ASSISTANT?c.jsx(Cke,{data:s,privacyMode:f}):u===ge.SETTINGS?c.jsx(Dke,{data:s,actions:l,privacyMode:f,setPrivacyMode:h,darkMode:y,setDarkMode:v,hasApiKey:D,onOpenKeyModal:()=>T(!0),onExportBackup:Z,onImportBackup:de,onFactoryReset:W}):[ge.TRANSACTIONS,ge.CALENDAR,ge.SUBSCRIPTIONS,ge.DEBTS].includes(u)?c.jsx(Jke,{currentView:u,onNavigate:d,data:s,actions:l,privacyMode:f,hasApiKey:D,quickActionSignal:S}):[ge.INVESTMENTS,ge.BUDGETS,ge.WEALTH_PLANNER].includes(u)?c.jsx(tIe,{currentView:u,onNavigate:d,data:s,actions:l,privacyMode:f,hasApiKey:D,quickActionSignal:S}):[ge.KANBAN,ge.NOTES,ge.SHOPPING_LIST].includes(u)?c.jsx(oIe,{currentView:u,onNavigate:d,data:s,actions:l,privacyMode:f,hasApiKey:D,quickActionSignal:S}):c.jsx(tO,{data:s,privacyMode:f,onUnlockBadge:l.unlockBadge,onNavigate:fe=>d(fe)});return i?c.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:c.jsx(u0,{className:"w-12 h-12 text-indigo-500 animate-spin"})}):!t&&!n?c.jsx(hee,{onGuestLogin:P}):c.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex flex-col md:flex-row font-sans text-slate-900 dark:text-slate-100 transition-colors duration-300",children:[_&&c.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 md:hidden backdrop-blur-sm animate-fade-in",onClick:()=>w(!1)}),c.jsx(Nke,{user:t,isGuest:n,mobileMenuOpen:_,setMobileMenuOpen:w,currentView:u,onNavigate:fe=>d(fe),onLogout:$,privacyMode:f,setPrivacyMode:h,darkMode:y,setDarkMode:v,isFullscreen:b,toggleFullscreen:se,hasKey:D,onOpenKeyModal:()=>T(!0),onOpenDonateModal:()=>q(!0),onExportBackup:Z,onImportBackup:de,onFactoryReset:W,canInstall:!!E,onInstall:z}),c.jsxs("main",{className:"flex-1 p-4 md:p-8 pt-20 md:pt-8 pb-8 overflow-y-auto h-screen scroll-smooth",children:[c.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 bg-slate-900 p-4 border-b border-slate-800 z-30 flex items-center justify-between shadow-md",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>w(!0),className:"text-slate-300 hover:text-white p-1",children:c.jsx(iB,{className:"w-6 h-6"})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"bg-indigo-600 p-1.5 rounded-lg",children:c.jsx(m1,{className:"w-4 h-4 text-white"})}),c.jsx("span",{className:"font-bold text-white tracking-tight",children:"NEXO"})]})]}),c.jsxs("div",{className:"flex gap-4 items-center",children:[E&&c.jsx("button",{onClick:z,className:"text-emerald-400 hover:text-white animate-pulse",title:"Instalar Aplicativo",children:c.jsx(_D,{className:"w-5 h-5"})}),c.jsxs("button",{onClick:()=>T(!0),className:`${D?"text-emerald-400":"text-rose-500"} hover:text-white relative`,children:[c.jsx(Rf,{className:"w-5 h-5"}),!D&&c.jsxs("span",{className:"absolute -top-1 -right-1 flex h-2.5 w-2.5",children:[c.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-rose-400 opacity-75"}),c.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-rose-500"})]})]})]})]}),c.jsxs("div",{className:"max-w-7xl mx-auto animate-fade-in",children:[u===ge.DASHBOARD&&c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:[c.jsxs("button",{onClick:()=>oe(ge.TRANSACTIONS),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-blue-100 dark:border-blue-900/30 hover:border-blue-300 transition-all group",children:[c.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/40 p-2.5 rounded-lg group-hover:bg-blue-600 group-hover:text-white transition-colors text-blue-600 dark:text-blue-400",children:c.jsx(eb,{className:"w-5 h-5"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Nova"}),c.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Transao"})]})]}),c.jsxs("button",{onClick:()=>oe(ge.SHOPPING_LIST),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-emerald-100 dark:border-emerald-900/30 hover:border-emerald-300 transition-all group",children:[c.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/40 p-2.5 rounded-lg group-hover:bg-emerald-600 group-hover:text-white transition-colors text-emerald-600 dark:text-emerald-400",children:c.jsx(pm,{className:"w-5 h-5"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Calculadora"}),c.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Mercado"})]})]}),c.jsxs("button",{onClick:()=>oe(ge.DEBTS),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-rose-100 dark:border-rose-900/30 hover:border-rose-300 transition-all group",children:[c.jsx("div",{className:"bg-rose-100 dark:bg-rose-900/40 p-2.5 rounded-lg group-hover:bg-rose-600 group-hover:text-white transition-colors text-rose-600 dark:text-rose-400",children:c.jsx(Cd,{className:"w-5 h-5"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Registrar"}),c.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Dvida"})]})]}),c.jsxs("button",{onClick:()=>oe(ge.BUDGETS),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-pink-100 dark:border-pink-900/30 hover:border-pink-300 transition-all group",children:[c.jsx("div",{className:"bg-pink-100 dark:bg-pink-900/40 p-2.5 rounded-lg group-hover:bg-pink-600 group-hover:text-white transition-colors text-pink-600 dark:text-pink-400",children:c.jsx(la,{className:"w-5 h-5"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Definir"}),c.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Meta/Limite"})]})]})]}),re()]})]}),c.jsx(Pke,{showWelcome:V,isDonateModalOpen:O,isKeyModalOpen:k,userKeyInput:N,hasKey:D,PIX_KEY:lO,PIX_NAME:sIe,setShowWelcome:L,setIsDonateModalOpen:q,setIsKeyModalOpen:T,setUserKeyInput:M,handleSaveKey:G,handleRemoveKey:H,handleFinishWelcome:K,copyPix:Y})]})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});const DF=document.getElementById("root");if(!DF)throw new Error("Could not find root element to mount to");const lIe=tx.createRoot(DF);lIe.render(c.jsx(B.StrictMode,{children:c.jsx(aIe,{})}));
