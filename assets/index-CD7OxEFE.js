(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ze(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lO={exports:{}},Ug={},uO={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf=Symbol.for("react.element"),sV=Symbol.for("react.portal"),aV=Symbol.for("react.fragment"),lV=Symbol.for("react.strict_mode"),uV=Symbol.for("react.profiler"),cV=Symbol.for("react.provider"),dV=Symbol.for("react.context"),fV=Symbol.for("react.forward_ref"),hV=Symbol.for("react.suspense"),pV=Symbol.for("react.memo"),mV=Symbol.for("react.lazy"),RT=Symbol.iterator;function gV(t){return t===null||typeof t!="object"?null:(t=RT&&t[RT]||t["@@iterator"],typeof t=="function"?t:null)}var cO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dO=Object.assign,fO={};function mu(t,e,n){this.props=t,this.context=e,this.refs=fO,this.updater=n||cO}mu.prototype.isReactComponent={};mu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hO(){}hO.prototype=mu.prototype;function v_(t,e,n){this.props=t,this.context=e,this.refs=fO,this.updater=n||cO}var x_=v_.prototype=new hO;x_.constructor=v_;dO(x_,mu.prototype);x_.isPureReactComponent=!0;var OT=Array.isArray,pO=Object.prototype.hasOwnProperty,b_={current:null},mO={key:!0,ref:!0,__self:!0,__source:!0};function gO(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)pO.call(e,r)&&!mO.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Tf,type:t,key:o,ref:s,props:i,_owner:b_.current}}function yV(t,e){return{$$typeof:Tf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function w_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tf}function vV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var MT=/\/+/g;function Oy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vV(""+t.key):e.toString(36)}function up(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Tf:case sV:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Oy(s,0):r,OT(i)?(n="",t!=null&&(n=t.replace(MT,"$&/")+"/"),up(i,e,n,"",function(u){return u})):i!=null&&(w_(i)&&(i=yV(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(MT,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",OT(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Oy(o,a);s+=up(o,e,n,l,i)}else if(l=gV(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Oy(o,a++),s+=up(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function bh(t,e,n){if(t==null)return t;var r=[],i=0;return up(t,r,"","",function(o){return e.call(n,o,i++)}),r}function xV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jn={current:null},cp={transition:null},bV={ReactCurrentDispatcher:jn,ReactCurrentBatchConfig:cp,ReactCurrentOwner:b_};function yO(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:bh,forEach:function(t,e,n){bh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bh(t,function(){e++}),e},toArray:function(t){return bh(t,function(e){return e})||[]},only:function(t){if(!w_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=mu;Fe.Fragment=aV;Fe.Profiler=uV;Fe.PureComponent=v_;Fe.StrictMode=lV;Fe.Suspense=hV;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bV;Fe.act=yO;Fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=dO({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=b_.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)pO.call(e,l)&&!mO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Tf,type:t.type,key:i,ref:o,props:r,_owner:s}};Fe.createContext=function(t){return t={$$typeof:dV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cV,_context:t},t.Consumer=t};Fe.createElement=gO;Fe.createFactory=function(t){var e=gO.bind(null,t);return e.type=t,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:fV,render:t}};Fe.isValidElement=w_;Fe.lazy=function(t){return{$$typeof:mV,_payload:{_status:-1,_result:t},_init:xV}};Fe.memo=function(t,e){return{$$typeof:pV,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=cp.transition;cp.transition={};try{t()}finally{cp.transition=e}};Fe.unstable_act=yO;Fe.useCallback=function(t,e){return jn.current.useCallback(t,e)};Fe.useContext=function(t){return jn.current.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t){return jn.current.useDeferredValue(t)};Fe.useEffect=function(t,e){return jn.current.useEffect(t,e)};Fe.useId=function(){return jn.current.useId()};Fe.useImperativeHandle=function(t,e,n){return jn.current.useImperativeHandle(t,e,n)};Fe.useInsertionEffect=function(t,e){return jn.current.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return jn.current.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return jn.current.useMemo(t,e)};Fe.useReducer=function(t,e,n){return jn.current.useReducer(t,e,n)};Fe.useRef=function(t){return jn.current.useRef(t)};Fe.useState=function(t){return jn.current.useState(t)};Fe.useSyncExternalStore=function(t,e,n){return jn.current.useSyncExternalStore(t,e,n)};Fe.useTransition=function(){return jn.current.useTransition()};Fe.version="18.3.1";uO.exports=Fe;var U=uO.exports;const B=Ze(U);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wV=U,_V=Symbol.for("react.element"),EV=Symbol.for("react.fragment"),SV=Object.prototype.hasOwnProperty,TV=wV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AV={key:!0,ref:!0,__self:!0,__source:!0};function vO(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)SV.call(e,r)&&!AV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:_V,type:t,key:o,ref:s,props:i,_owner:TV.current}}Ug.Fragment=EV;Ug.jsx=vO;Ug.jsxs=vO;lO.exports=Ug;var d=lO.exports,ex={},xO={exports:{}},sr={},bO={exports:{}},wO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,$){var G=R.length;R.push($);e:for(;0<G;){var K=G-1>>>1,q=R[K];if(0<i(q,$))R[K]=$,R[G]=q,G=K;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var $=R[0],G=R.pop();if(G!==$){R[0]=G;e:for(var K=0,q=R.length,X=q>>>1;K<X;){var le=2*(K+1)-1,W=R[le],Z=le+1,J=R[Z];if(0>i(W,G))Z<q&&0>i(J,W)?(R[K]=J,R[Z]=G,K=Z):(R[K]=W,R[le]=G,K=le);else if(Z<q&&0>i(J,G))R[K]=J,R[Z]=G,K=Z;else break e}}return $}function i(R,$){var G=R.sortIndex-$.sortIndex;return G!==0?G:R.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,h=3,y=!1,v=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(R){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=R)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function C(R){if(b=!1,_(R),!v)if(n(l)!==null)v=!0,F(S);else{var $=n(u);$!==null&&H(C,$.startTime-R)}}function S(R,$){v=!1,b&&(b=!1,E(I),I=-1),y=!0;var G=h;try{for(_($),f=n(l);f!==null&&(!(f.expirationTime>$)||R&&!j());){var K=f.callback;if(typeof K=="function"){f.callback=null,h=f.priorityLevel;var q=K(f.expirationTime<=$);$=t.unstable_now(),typeof q=="function"?f.callback=q:f===n(l)&&r(l),_($)}else r(l);f=n(l)}if(f!==null)var X=!0;else{var le=n(u);le!==null&&H(C,le.startTime-$),X=!1}return X}finally{f=null,h=G,y=!1}}var k=!1,T=null,I=-1,P=5,M=-1;function j(){return!(t.unstable_now()-M<P)}function D(){if(T!==null){var R=t.unstable_now();M=R;var $=!0;try{$=T(!0,R)}finally{$?N():(k=!1,T=null)}}else k=!1}var N;if(typeof w=="function")N=function(){w(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,z=V.port2;V.port1.onmessage=D,N=function(){z.postMessage(null)}}else N=function(){x(D,0)};function F(R){T=R,k||(k=!0,N())}function H(R,$){I=x(function(){R(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,F(S))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var G=h;h=$;try{return R()}finally{h=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,$){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var G=h;h=R;try{return $()}finally{h=G}},t.unstable_scheduleCallback=function(R,$,G){var K=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?K+G:K):G=K,R){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=G+q,R={id:c++,callback:$,priorityLevel:R,startTime:G,expirationTime:q,sortIndex:-1},G>K?(R.sortIndex=G,e(u,R),n(l)===null&&R===n(u)&&(b?(E(I),I=-1):b=!0,H(C,G-K))):(R.sortIndex=q,e(l,R),v||y||(v=!0,F(S))),R},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(R){var $=h;return function(){var G=h;h=$;try{return R.apply(this,arguments)}finally{h=G}}}})(wO);bO.exports=wO;var IV=bO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kV=U,or=IV;function ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _O=new Set,ad={};function xa(t,e){Tl(t,e),Tl(t+"Capture",e)}function Tl(t,e){for(ad[t]=e,t=0;t<e.length;t++)_O.add(e[t])}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tx=Object.prototype.hasOwnProperty,CV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DT={},jT={};function PV(t){return tx.call(jT,t)?!0:tx.call(DT,t)?!1:CV.test(t)?jT[t]=!0:(DT[t]=!0,!1)}function NV(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function RV(t,e,n,r){if(e===null||typeof e>"u"||NV(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $n(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ln[t]=new $n(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ln[e]=new $n(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ln[t]=new $n(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ln[t]=new $n(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ln[t]=new $n(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ln[t]=new $n(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ln[t]=new $n(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ln[t]=new $n(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ln[t]=new $n(t,5,!1,t.toLowerCase(),null,!1,!1)});var __=/[\-:]([a-z])/g;function E_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(__,E_);ln[e]=new $n(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(__,E_);ln[e]=new $n(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(__,E_);ln[e]=new $n(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ln[t]=new $n(t,1,!1,t.toLowerCase(),null,!1,!1)});ln.xlinkHref=new $n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ln[t]=new $n(t,1,!1,t.toLowerCase(),null,!0,!0)});function S_(t,e,n,r){var i=ln.hasOwnProperty(e)?ln[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(RV(e,n,i,r)&&(n=null),r||i===null?PV(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var so=kV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wh=Symbol.for("react.element"),Ga=Symbol.for("react.portal"),qa=Symbol.for("react.fragment"),T_=Symbol.for("react.strict_mode"),nx=Symbol.for("react.profiler"),EO=Symbol.for("react.provider"),SO=Symbol.for("react.context"),A_=Symbol.for("react.forward_ref"),rx=Symbol.for("react.suspense"),ix=Symbol.for("react.suspense_list"),I_=Symbol.for("react.memo"),To=Symbol.for("react.lazy"),TO=Symbol.for("react.offscreen"),$T=Symbol.iterator;function oc(t){return t===null||typeof t!="object"?null:(t=$T&&t[$T]||t["@@iterator"],typeof t=="function"?t:null)}var Et=Object.assign,My;function Ic(t){if(My===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);My=e&&e[1]||""}return`
`+My+t}var Dy=!1;function jy(t,e){if(!t||Dy)return"";Dy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Dy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ic(t):""}function OV(t){switch(t.tag){case 5:return Ic(t.type);case 16:return Ic("Lazy");case 13:return Ic("Suspense");case 19:return Ic("SuspenseList");case 0:case 2:case 15:return t=jy(t.type,!1),t;case 11:return t=jy(t.type.render,!1),t;case 1:return t=jy(t.type,!0),t;default:return""}}function ox(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qa:return"Fragment";case Ga:return"Portal";case nx:return"Profiler";case T_:return"StrictMode";case rx:return"Suspense";case ix:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case SO:return(t.displayName||"Context")+".Consumer";case EO:return(t._context.displayName||"Context")+".Provider";case A_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I_:return e=t.displayName||null,e!==null?e:ox(t.type)||"Memo";case To:e=t._payload,t=t._init;try{return ox(t(e))}catch{}}return null}function MV(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ox(e);case 8:return e===T_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ts(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function AO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DV(t){var e=AO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _h(t){t._valueTracker||(t._valueTracker=DV(t))}function IO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=AO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function jp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sx(t,e){var n=e.checked;return Et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function LT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ts(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kO(t,e){e=e.checked,e!=null&&S_(t,"checked",e,!1)}function ax(t,e){kO(t,e);var n=ts(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lx(t,e.type,n):e.hasOwnProperty("defaultValue")&&lx(t,e.type,ts(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function FT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function lx(t,e,n){(e!=="number"||jp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var kc=Array.isArray;function cl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ts(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ux(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ce(91));return Et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function VT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ce(92));if(kc(n)){if(1<n.length)throw Error(ce(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ts(n)}}function CO(t,e){var n=ts(e.value),r=ts(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function UT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function PO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?PO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Eh,NO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Eh=Eh||document.createElement("div"),Eh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Eh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ld(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Lc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jV=["Webkit","ms","Moz","O"];Object.keys(Lc).forEach(function(t){jV.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Lc[e]=Lc[t]})});function RO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Lc.hasOwnProperty(t)&&Lc[t]?(""+e).trim():e+"px"}function OO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=RO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var $V=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dx(t,e){if(e){if($V[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ce(62))}}function fx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hx=null;function k_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var px=null,dl=null,fl=null;function BT(t){if(t=kf(t)){if(typeof px!="function")throw Error(ce(280));var e=t.stateNode;e&&(e=Hg(e),px(t.stateNode,t.type,e))}}function MO(t){dl?fl?fl.push(t):fl=[t]:dl=t}function DO(){if(dl){var t=dl,e=fl;if(fl=dl=null,BT(t),e)for(t=0;t<e.length;t++)BT(e[t])}}function jO(t,e){return t(e)}function $O(){}var $y=!1;function LO(t,e,n){if($y)return t(e,n);$y=!0;try{return jO(t,e,n)}finally{$y=!1,(dl!==null||fl!==null)&&($O(),DO())}}function ud(t,e){var n=t.stateNode;if(n===null)return null;var r=Hg(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ce(231,e,typeof n));return n}var mx=!1;if(Gi)try{var sc={};Object.defineProperty(sc,"passive",{get:function(){mx=!0}}),window.addEventListener("test",sc,sc),window.removeEventListener("test",sc,sc)}catch{mx=!1}function LV(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Fc=!1,$p=null,Lp=!1,gx=null,FV={onError:function(t){Fc=!0,$p=t}};function VV(t,e,n,r,i,o,s,a,l){Fc=!1,$p=null,LV.apply(FV,arguments)}function UV(t,e,n,r,i,o,s,a,l){if(VV.apply(this,arguments),Fc){if(Fc){var u=$p;Fc=!1,$p=null}else throw Error(ce(198));Lp||(Lp=!0,gx=u)}}function ba(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function FO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zT(t){if(ba(t)!==t)throw Error(ce(188))}function BV(t){var e=t.alternate;if(!e){if(e=ba(t),e===null)throw Error(ce(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return zT(i),t;if(o===r)return zT(i),e;o=o.sibling}throw Error(ce(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ce(189))}}if(n.alternate!==r)throw Error(ce(190))}if(n.tag!==3)throw Error(ce(188));return n.stateNode.current===n?t:e}function VO(t){return t=BV(t),t!==null?UO(t):null}function UO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=UO(t);if(e!==null)return e;t=t.sibling}return null}var BO=or.unstable_scheduleCallback,GT=or.unstable_cancelCallback,zV=or.unstable_shouldYield,GV=or.unstable_requestPaint,Pt=or.unstable_now,qV=or.unstable_getCurrentPriorityLevel,C_=or.unstable_ImmediatePriority,zO=or.unstable_UserBlockingPriority,Fp=or.unstable_NormalPriority,HV=or.unstable_LowPriority,GO=or.unstable_IdlePriority,Bg=null,oi=null;function WV(t){if(oi&&typeof oi.onCommitFiberRoot=="function")try{oi.onCommitFiberRoot(Bg,t,void 0,(t.current.flags&128)===128)}catch{}}var Br=Math.clz32?Math.clz32:JV,KV=Math.log,YV=Math.LN2;function JV(t){return t>>>=0,t===0?32:31-(KV(t)/YV|0)|0}var Sh=64,Th=4194304;function Cc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Cc(a):(o&=s,o!==0&&(r=Cc(o)))}else s=n&~i,s!==0?r=Cc(s):o!==0&&(r=Cc(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Br(e),i=1<<n,r|=t[n],e&=~i;return r}function XV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Br(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=XV(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function yx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qO(){var t=Sh;return Sh<<=1,!(Sh&4194240)&&(Sh=64),t}function Ly(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Af(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Br(e),t[e]=n}function ZV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Br(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function P_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Br(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var et=0;function HO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var WO,N_,KO,YO,JO,vx=!1,Ah=[],Uo=null,Bo=null,zo=null,cd=new Map,dd=new Map,ko=[],eU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qT(t,e){switch(t){case"focusin":case"focusout":Uo=null;break;case"dragenter":case"dragleave":Bo=null;break;case"mouseover":case"mouseout":zo=null;break;case"pointerover":case"pointerout":cd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":dd.delete(e.pointerId)}}function ac(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=kf(e),e!==null&&N_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function tU(t,e,n,r,i){switch(e){case"focusin":return Uo=ac(Uo,t,e,n,r,i),!0;case"dragenter":return Bo=ac(Bo,t,e,n,r,i),!0;case"mouseover":return zo=ac(zo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return cd.set(o,ac(cd.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,dd.set(o,ac(dd.get(o)||null,t,e,n,r,i)),!0}return!1}function XO(t){var e=Ds(t.target);if(e!==null){var n=ba(e);if(n!==null){if(e=n.tag,e===13){if(e=FO(n),e!==null){t.blockedOn=e,JO(t.priority,function(){KO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hx=r,n.target.dispatchEvent(r),hx=null}else return e=kf(n),e!==null&&N_(e),t.blockedOn=n,!1;e.shift()}return!0}function HT(t,e,n){dp(t)&&n.delete(e)}function nU(){vx=!1,Uo!==null&&dp(Uo)&&(Uo=null),Bo!==null&&dp(Bo)&&(Bo=null),zo!==null&&dp(zo)&&(zo=null),cd.forEach(HT),dd.forEach(HT)}function lc(t,e){t.blockedOn===e&&(t.blockedOn=null,vx||(vx=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,nU)))}function fd(t){function e(i){return lc(i,t)}if(0<Ah.length){lc(Ah[0],t);for(var n=1;n<Ah.length;n++){var r=Ah[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Uo!==null&&lc(Uo,t),Bo!==null&&lc(Bo,t),zo!==null&&lc(zo,t),cd.forEach(e),dd.forEach(e),n=0;n<ko.length;n++)r=ko[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ko.length&&(n=ko[0],n.blockedOn===null);)XO(n),n.blockedOn===null&&ko.shift()}var hl=so.ReactCurrentBatchConfig,Up=!0;function rU(t,e,n,r){var i=et,o=hl.transition;hl.transition=null;try{et=1,R_(t,e,n,r)}finally{et=i,hl.transition=o}}function iU(t,e,n,r){var i=et,o=hl.transition;hl.transition=null;try{et=4,R_(t,e,n,r)}finally{et=i,hl.transition=o}}function R_(t,e,n,r){if(Up){var i=xx(t,e,n,r);if(i===null)Ky(t,e,r,Bp,n),qT(t,r);else if(tU(i,t,e,n,r))r.stopPropagation();else if(qT(t,r),e&4&&-1<eU.indexOf(t)){for(;i!==null;){var o=kf(i);if(o!==null&&WO(o),o=xx(t,e,n,r),o===null&&Ky(t,e,r,Bp,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ky(t,e,r,null,n)}}var Bp=null;function xx(t,e,n,r){if(Bp=null,t=k_(r),t=Ds(t),t!==null)if(e=ba(t),e===null)t=null;else if(n=e.tag,n===13){if(t=FO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bp=t,null}function QO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qV()){case C_:return 1;case zO:return 4;case Fp:case HV:return 16;case GO:return 536870912;default:return 16}default:return 16}}var Do=null,O_=null,fp=null;function ZO(){if(fp)return fp;var t,e=O_,n=e.length,r,i="value"in Do?Do.value:Do.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return fp=i.slice(t,1<r?1-r:void 0)}function hp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ih(){return!0}function WT(){return!1}function ar(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ih:WT,this.isPropagationStopped=WT,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ih)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ih)},persist:function(){},isPersistent:Ih}),e}var gu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},M_=ar(gu),If=Et({},gu,{view:0,detail:0}),oU=ar(If),Fy,Vy,uc,zg=Et({},If,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:D_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==uc&&(uc&&t.type==="mousemove"?(Fy=t.screenX-uc.screenX,Vy=t.screenY-uc.screenY):Vy=Fy=0,uc=t),Fy)},movementY:function(t){return"movementY"in t?t.movementY:Vy}}),KT=ar(zg),sU=Et({},zg,{dataTransfer:0}),aU=ar(sU),lU=Et({},If,{relatedTarget:0}),Uy=ar(lU),uU=Et({},gu,{animationName:0,elapsedTime:0,pseudoElement:0}),cU=ar(uU),dU=Et({},gu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fU=ar(dU),hU=Et({},gu,{data:0}),YT=ar(hU),pU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gU[t])?!!e[t]:!1}function D_(){return yU}var vU=Et({},If,{key:function(t){if(t.key){var e=pU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:D_,charCode:function(t){return t.type==="keypress"?hp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xU=ar(vU),bU=Et({},zg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JT=ar(bU),wU=Et({},If,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:D_}),_U=ar(wU),EU=Et({},gu,{propertyName:0,elapsedTime:0,pseudoElement:0}),SU=ar(EU),TU=Et({},zg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AU=ar(TU),IU=[9,13,27,32],j_=Gi&&"CompositionEvent"in window,Vc=null;Gi&&"documentMode"in document&&(Vc=document.documentMode);var kU=Gi&&"TextEvent"in window&&!Vc,eM=Gi&&(!j_||Vc&&8<Vc&&11>=Vc),XT=" ",QT=!1;function tM(t,e){switch(t){case"keyup":return IU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ha=!1;function CU(t,e){switch(t){case"compositionend":return nM(e);case"keypress":return e.which!==32?null:(QT=!0,XT);case"textInput":return t=e.data,t===XT&&QT?null:t;default:return null}}function PU(t,e){if(Ha)return t==="compositionend"||!j_&&tM(t,e)?(t=ZO(),fp=O_=Do=null,Ha=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eM&&e.locale!=="ko"?null:e.data;default:return null}}var NU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ZT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!NU[t.type]:e==="textarea"}function rM(t,e,n,r){MO(r),e=zp(e,"onChange"),0<e.length&&(n=new M_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Uc=null,hd=null;function RU(t){pM(t,0)}function Gg(t){var e=Ya(t);if(IO(e))return t}function OU(t,e){if(t==="change")return e}var iM=!1;if(Gi){var By;if(Gi){var zy="oninput"in document;if(!zy){var eA=document.createElement("div");eA.setAttribute("oninput","return;"),zy=typeof eA.oninput=="function"}By=zy}else By=!1;iM=By&&(!document.documentMode||9<document.documentMode)}function tA(){Uc&&(Uc.detachEvent("onpropertychange",oM),hd=Uc=null)}function oM(t){if(t.propertyName==="value"&&Gg(hd)){var e=[];rM(e,hd,t,k_(t)),LO(RU,e)}}function MU(t,e,n){t==="focusin"?(tA(),Uc=e,hd=n,Uc.attachEvent("onpropertychange",oM)):t==="focusout"&&tA()}function DU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gg(hd)}function jU(t,e){if(t==="click")return Gg(e)}function $U(t,e){if(t==="input"||t==="change")return Gg(e)}function LU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yr=typeof Object.is=="function"?Object.is:LU;function pd(t,e){if(Yr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!tx.call(e,i)||!Yr(t[i],e[i]))return!1}return!0}function nA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rA(t,e){var n=nA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nA(n)}}function sM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function aM(){for(var t=window,e=jp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=jp(t.document)}return e}function $_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function FU(t){var e=aM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&sM(n.ownerDocument.documentElement,n)){if(r!==null&&$_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=rA(n,o);var s=rA(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var VU=Gi&&"documentMode"in document&&11>=document.documentMode,Wa=null,bx=null,Bc=null,wx=!1;function iA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wx||Wa==null||Wa!==jp(r)||(r=Wa,"selectionStart"in r&&$_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bc&&pd(Bc,r)||(Bc=r,r=zp(bx,"onSelect"),0<r.length&&(e=new M_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Wa)))}function kh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ka={animationend:kh("Animation","AnimationEnd"),animationiteration:kh("Animation","AnimationIteration"),animationstart:kh("Animation","AnimationStart"),transitionend:kh("Transition","TransitionEnd")},Gy={},lM={};Gi&&(lM=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function qg(t){if(Gy[t])return Gy[t];if(!Ka[t])return t;var e=Ka[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in lM)return Gy[t]=e[n];return t}var uM=qg("animationend"),cM=qg("animationiteration"),dM=qg("animationstart"),fM=qg("transitionend"),hM=new Map,oA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(t,e){hM.set(t,e),xa(e,[t])}for(var qy=0;qy<oA.length;qy++){var Hy=oA[qy],UU=Hy.toLowerCase(),BU=Hy[0].toUpperCase()+Hy.slice(1);as(UU,"on"+BU)}as(uM,"onAnimationEnd");as(cM,"onAnimationIteration");as(dM,"onAnimationStart");as("dblclick","onDoubleClick");as("focusin","onFocus");as("focusout","onBlur");as(fM,"onTransitionEnd");Tl("onMouseEnter",["mouseout","mouseover"]);Tl("onMouseLeave",["mouseout","mouseover"]);Tl("onPointerEnter",["pointerout","pointerover"]);Tl("onPointerLeave",["pointerout","pointerover"]);xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xa("onBeforeInput",["compositionend","keypress","textInput","paste"]);xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pc));function sA(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,UV(r,e,void 0,t),t.currentTarget=null}function pM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;sA(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;sA(i,a,u),o=l}}}if(Lp)throw t=gx,Lp=!1,gx=null,t}function ht(t,e){var n=e[Ax];n===void 0&&(n=e[Ax]=new Set);var r=t+"__bubble";n.has(r)||(mM(e,t,2,!1),n.add(r))}function Wy(t,e,n){var r=0;e&&(r|=4),mM(n,t,r,e)}var Ch="_reactListening"+Math.random().toString(36).slice(2);function md(t){if(!t[Ch]){t[Ch]=!0,_O.forEach(function(n){n!=="selectionchange"&&(zU.has(n)||Wy(n,!1,t),Wy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ch]||(e[Ch]=!0,Wy("selectionchange",!1,e))}}function mM(t,e,n,r){switch(QO(e)){case 1:var i=rU;break;case 4:i=iU;break;default:i=R_}n=i.bind(null,e,n,t),i=void 0,!mx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ky(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ds(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}LO(function(){var u=o,c=k_(n),f=[];e:{var h=hM.get(t);if(h!==void 0){var y=M_,v=t;switch(t){case"keypress":if(hp(n)===0)break e;case"keydown":case"keyup":y=xU;break;case"focusin":v="focus",y=Uy;break;case"focusout":v="blur",y=Uy;break;case"beforeblur":case"afterblur":y=Uy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=KT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=aU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=_U;break;case uM:case cM:case dM:y=cU;break;case fM:y=SU;break;case"scroll":y=oU;break;case"wheel":y=AU;break;case"copy":case"cut":case"paste":y=fU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=JT}var b=(e&4)!==0,x=!b&&t==="scroll",E=b?h!==null?h+"Capture":null:h;b=[];for(var w=u,_;w!==null;){_=w;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,E!==null&&(C=ud(w,E),C!=null&&b.push(gd(w,C,_)))),x)break;w=w.return}0<b.length&&(h=new y(h,v,null,n,c),f.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==hx&&(v=n.relatedTarget||n.fromElement)&&(Ds(v)||v[qi]))break e;if((y||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?Ds(v):null,v!==null&&(x=ba(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(b=KT,C="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(b=JT,C="onPointerLeave",E="onPointerEnter",w="pointer"),x=y==null?h:Ya(y),_=v==null?h:Ya(v),h=new b(C,w+"leave",y,n,c),h.target=x,h.relatedTarget=_,C=null,Ds(c)===u&&(b=new b(E,w+"enter",v,n,c),b.target=_,b.relatedTarget=x,C=b),x=C,y&&v)t:{for(b=y,E=v,w=0,_=b;_;_=Da(_))w++;for(_=0,C=E;C;C=Da(C))_++;for(;0<w-_;)b=Da(b),w--;for(;0<_-w;)E=Da(E),_--;for(;w--;){if(b===E||E!==null&&b===E.alternate)break t;b=Da(b),E=Da(E)}b=null}else b=null;y!==null&&aA(f,h,y,b,!1),v!==null&&x!==null&&aA(f,x,v,b,!0)}}e:{if(h=u?Ya(u):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var S=OU;else if(ZT(h))if(iM)S=$U;else{S=DU;var k=MU}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=jU);if(S&&(S=S(t,u))){rM(f,S,n,c);break e}k&&k(t,h,u),t==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&lx(h,"number",h.value)}switch(k=u?Ya(u):window,t){case"focusin":(ZT(k)||k.contentEditable==="true")&&(Wa=k,bx=u,Bc=null);break;case"focusout":Bc=bx=Wa=null;break;case"mousedown":wx=!0;break;case"contextmenu":case"mouseup":case"dragend":wx=!1,iA(f,n,c);break;case"selectionchange":if(VU)break;case"keydown":case"keyup":iA(f,n,c)}var T;if(j_)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Ha?tM(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(eM&&n.locale!=="ko"&&(Ha||I!=="onCompositionStart"?I==="onCompositionEnd"&&Ha&&(T=ZO()):(Do=c,O_="value"in Do?Do.value:Do.textContent,Ha=!0)),k=zp(u,I),0<k.length&&(I=new YT(I,t,null,n,c),f.push({event:I,listeners:k}),T?I.data=T:(T=nM(n),T!==null&&(I.data=T)))),(T=kU?CU(t,n):PU(t,n))&&(u=zp(u,"onBeforeInput"),0<u.length&&(c=new YT("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=T))}pM(f,e)})}function gd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ud(t,n),o!=null&&r.unshift(gd(t,o,i)),o=ud(t,e),o!=null&&r.push(gd(t,o,i))),t=t.return}return r}function Da(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function aA(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ud(n,o),l!=null&&s.unshift(gd(n,l,a))):i||(l=ud(n,o),l!=null&&s.push(gd(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var GU=/\r\n?/g,qU=/\u0000|\uFFFD/g;function lA(t){return(typeof t=="string"?t:""+t).replace(GU,`
`).replace(qU,"")}function Ph(t,e,n){if(e=lA(e),lA(t)!==e&&n)throw Error(ce(425))}function Gp(){}var _x=null,Ex=null;function Sx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tx=typeof setTimeout=="function"?setTimeout:void 0,HU=typeof clearTimeout=="function"?clearTimeout:void 0,uA=typeof Promise=="function"?Promise:void 0,WU=typeof queueMicrotask=="function"?queueMicrotask:typeof uA<"u"?function(t){return uA.resolve(null).then(t).catch(KU)}:Tx;function KU(t){setTimeout(function(){throw t})}function Yy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),fd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fd(e)}function Go(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cA(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yu=Math.random().toString(36).slice(2),ni="__reactFiber$"+yu,yd="__reactProps$"+yu,qi="__reactContainer$"+yu,Ax="__reactEvents$"+yu,YU="__reactListeners$"+yu,JU="__reactHandles$"+yu;function Ds(t){var e=t[ni];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qi]||n[ni]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=cA(t);t!==null;){if(n=t[ni])return n;t=cA(t)}return e}t=n,n=t.parentNode}return null}function kf(t){return t=t[ni]||t[qi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ya(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function Hg(t){return t[yd]||null}var Ix=[],Ja=-1;function ls(t){return{current:t}}function gt(t){0>Ja||(t.current=Ix[Ja],Ix[Ja]=null,Ja--)}function dt(t,e){Ja++,Ix[Ja]=t.current,t.current=e}var ns={},bn=ls(ns),Bn=ls(!1),Zs=ns;function Al(t,e){var n=t.type.contextTypes;if(!n)return ns;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zn(t){return t=t.childContextTypes,t!=null}function qp(){gt(Bn),gt(bn)}function dA(t,e,n){if(bn.current!==ns)throw Error(ce(168));dt(bn,e),dt(Bn,n)}function gM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ce(108,MV(t)||"Unknown",i));return Et({},n,r)}function Hp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ns,Zs=bn.current,dt(bn,t),dt(Bn,Bn.current),!0}function fA(t,e,n){var r=t.stateNode;if(!r)throw Error(ce(169));n?(t=gM(t,e,Zs),r.__reactInternalMemoizedMergedChildContext=t,gt(Bn),gt(bn),dt(bn,t)):gt(Bn),dt(Bn,n)}var ki=null,Wg=!1,Jy=!1;function yM(t){ki===null?ki=[t]:ki.push(t)}function XU(t){Wg=!0,yM(t)}function us(){if(!Jy&&ki!==null){Jy=!0;var t=0,e=et;try{var n=ki;for(et=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ki=null,Wg=!1}catch(i){throw ki!==null&&(ki=ki.slice(t+1)),BO(C_,us),i}finally{et=e,Jy=!1}}return null}var Xa=[],Qa=0,Wp=null,Kp=0,hr=[],pr=0,ea=null,Pi=1,Ni="";function Is(t,e){Xa[Qa++]=Kp,Xa[Qa++]=Wp,Wp=t,Kp=e}function vM(t,e,n){hr[pr++]=Pi,hr[pr++]=Ni,hr[pr++]=ea,ea=t;var r=Pi;t=Ni;var i=32-Br(r)-1;r&=~(1<<i),n+=1;var o=32-Br(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Pi=1<<32-Br(e)+i|n<<i|r,Ni=o+t}else Pi=1<<o|n<<i|r,Ni=t}function L_(t){t.return!==null&&(Is(t,1),vM(t,1,0))}function F_(t){for(;t===Wp;)Wp=Xa[--Qa],Xa[Qa]=null,Kp=Xa[--Qa],Xa[Qa]=null;for(;t===ea;)ea=hr[--pr],hr[pr]=null,Ni=hr[--pr],hr[pr]=null,Pi=hr[--pr],hr[pr]=null}var tr=null,Zn=null,yt=!1,Lr=null;function xM(t,e){var n=gr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function hA(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tr=t,Zn=Go(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tr=t,Zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ea!==null?{id:Pi,overflow:Ni}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tr=t,Zn=null,!0):!1;default:return!1}}function kx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cx(t){if(yt){var e=Zn;if(e){var n=e;if(!hA(t,e)){if(kx(t))throw Error(ce(418));e=Go(n.nextSibling);var r=tr;e&&hA(t,e)?xM(r,n):(t.flags=t.flags&-4097|2,yt=!1,tr=t)}}else{if(kx(t))throw Error(ce(418));t.flags=t.flags&-4097|2,yt=!1,tr=t}}}function pA(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tr=t}function Nh(t){if(t!==tr)return!1;if(!yt)return pA(t),yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Sx(t.type,t.memoizedProps)),e&&(e=Zn)){if(kx(t))throw bM(),Error(ce(418));for(;e;)xM(t,e),e=Go(e.nextSibling)}if(pA(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zn=Go(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zn=null}}else Zn=tr?Go(t.stateNode.nextSibling):null;return!0}function bM(){for(var t=Zn;t;)t=Go(t.nextSibling)}function Il(){Zn=tr=null,yt=!1}function V_(t){Lr===null?Lr=[t]:Lr.push(t)}var QU=so.ReactCurrentBatchConfig;function cc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ce(309));var r=n.stateNode}if(!r)throw Error(ce(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ce(284));if(!n._owner)throw Error(ce(290,t))}return t}function Rh(t,e){throw t=Object.prototype.toString.call(e),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function mA(t){var e=t._init;return e(t._payload)}function wM(t){function e(E,w){if(t){var _=E.deletions;_===null?(E.deletions=[w],E.flags|=16):_.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function r(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function i(E,w){return E=Ko(E,w),E.index=0,E.sibling=null,E}function o(E,w,_){return E.index=_,t?(_=E.alternate,_!==null?(_=_.index,_<w?(E.flags|=2,w):_):(E.flags|=2,w)):(E.flags|=1048576,w)}function s(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,w,_,C){return w===null||w.tag!==6?(w=rv(_,E.mode,C),w.return=E,w):(w=i(w,_),w.return=E,w)}function l(E,w,_,C){var S=_.type;return S===qa?c(E,w,_.props.children,C,_.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===To&&mA(S)===w.type)?(C=i(w,_.props),C.ref=cc(E,w,_),C.return=E,C):(C=bp(_.type,_.key,_.props,null,E.mode,C),C.ref=cc(E,w,_),C.return=E,C)}function u(E,w,_,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=iv(_,E.mode,C),w.return=E,w):(w=i(w,_.children||[]),w.return=E,w)}function c(E,w,_,C,S){return w===null||w.tag!==7?(w=Ws(_,E.mode,C,S),w.return=E,w):(w=i(w,_),w.return=E,w)}function f(E,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=rv(""+w,E.mode,_),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case wh:return _=bp(w.type,w.key,w.props,null,E.mode,_),_.ref=cc(E,null,w),_.return=E,_;case Ga:return w=iv(w,E.mode,_),w.return=E,w;case To:var C=w._init;return f(E,C(w._payload),_)}if(kc(w)||oc(w))return w=Ws(w,E.mode,_,null),w.return=E,w;Rh(E,w)}return null}function h(E,w,_,C){var S=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(E,w,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case wh:return _.key===S?l(E,w,_,C):null;case Ga:return _.key===S?u(E,w,_,C):null;case To:return S=_._init,h(E,w,S(_._payload),C)}if(kc(_)||oc(_))return S!==null?null:c(E,w,_,C,null);Rh(E,_)}return null}function y(E,w,_,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return E=E.get(_)||null,a(w,E,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case wh:return E=E.get(C.key===null?_:C.key)||null,l(w,E,C,S);case Ga:return E=E.get(C.key===null?_:C.key)||null,u(w,E,C,S);case To:var k=C._init;return y(E,w,_,k(C._payload),S)}if(kc(C)||oc(C))return E=E.get(_)||null,c(w,E,C,S,null);Rh(w,C)}return null}function v(E,w,_,C){for(var S=null,k=null,T=w,I=w=0,P=null;T!==null&&I<_.length;I++){T.index>I?(P=T,T=null):P=T.sibling;var M=h(E,T,_[I],C);if(M===null){T===null&&(T=P);break}t&&T&&M.alternate===null&&e(E,T),w=o(M,w,I),k===null?S=M:k.sibling=M,k=M,T=P}if(I===_.length)return n(E,T),yt&&Is(E,I),S;if(T===null){for(;I<_.length;I++)T=f(E,_[I],C),T!==null&&(w=o(T,w,I),k===null?S=T:k.sibling=T,k=T);return yt&&Is(E,I),S}for(T=r(E,T);I<_.length;I++)P=y(T,E,I,_[I],C),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?I:P.key),w=o(P,w,I),k===null?S=P:k.sibling=P,k=P);return t&&T.forEach(function(j){return e(E,j)}),yt&&Is(E,I),S}function b(E,w,_,C){var S=oc(_);if(typeof S!="function")throw Error(ce(150));if(_=S.call(_),_==null)throw Error(ce(151));for(var k=S=null,T=w,I=w=0,P=null,M=_.next();T!==null&&!M.done;I++,M=_.next()){T.index>I?(P=T,T=null):P=T.sibling;var j=h(E,T,M.value,C);if(j===null){T===null&&(T=P);break}t&&T&&j.alternate===null&&e(E,T),w=o(j,w,I),k===null?S=j:k.sibling=j,k=j,T=P}if(M.done)return n(E,T),yt&&Is(E,I),S;if(T===null){for(;!M.done;I++,M=_.next())M=f(E,M.value,C),M!==null&&(w=o(M,w,I),k===null?S=M:k.sibling=M,k=M);return yt&&Is(E,I),S}for(T=r(E,T);!M.done;I++,M=_.next())M=y(T,E,I,M.value,C),M!==null&&(t&&M.alternate!==null&&T.delete(M.key===null?I:M.key),w=o(M,w,I),k===null?S=M:k.sibling=M,k=M);return t&&T.forEach(function(D){return e(E,D)}),yt&&Is(E,I),S}function x(E,w,_,C){if(typeof _=="object"&&_!==null&&_.type===qa&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case wh:e:{for(var S=_.key,k=w;k!==null;){if(k.key===S){if(S=_.type,S===qa){if(k.tag===7){n(E,k.sibling),w=i(k,_.props.children),w.return=E,E=w;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===To&&mA(S)===k.type){n(E,k.sibling),w=i(k,_.props),w.ref=cc(E,k,_),w.return=E,E=w;break e}n(E,k);break}else e(E,k);k=k.sibling}_.type===qa?(w=Ws(_.props.children,E.mode,C,_.key),w.return=E,E=w):(C=bp(_.type,_.key,_.props,null,E.mode,C),C.ref=cc(E,w,_),C.return=E,E=C)}return s(E);case Ga:e:{for(k=_.key;w!==null;){if(w.key===k)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(E,w.sibling),w=i(w,_.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=iv(_,E.mode,C),w.return=E,E=w}return s(E);case To:return k=_._init,x(E,w,k(_._payload),C)}if(kc(_))return v(E,w,_,C);if(oc(_))return b(E,w,_,C);Rh(E,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(E,w.sibling),w=i(w,_),w.return=E,E=w):(n(E,w),w=rv(_,E.mode,C),w.return=E,E=w),s(E)):n(E,w)}return x}var kl=wM(!0),_M=wM(!1),Yp=ls(null),Jp=null,Za=null,U_=null;function B_(){U_=Za=Jp=null}function z_(t){var e=Yp.current;gt(Yp),t._currentValue=e}function Px(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function pl(t,e){Jp=t,U_=Za=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vn=!0),t.firstContext=null)}function wr(t){var e=t._currentValue;if(U_!==t)if(t={context:t,memoizedValue:e,next:null},Za===null){if(Jp===null)throw Error(ce(308));Za=t,Jp.dependencies={lanes:0,firstContext:t}}else Za=Za.next=t;return e}var js=null;function G_(t){js===null?js=[t]:js.push(t)}function EM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,G_(e)):(n.next=i.next,i.next=n),e.interleaved=n,Hi(t,r)}function Hi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ao=!1;function q_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ge&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Hi(t,n)}return i=r.interleaved,i===null?(e.next=e,G_(r)):(e.next=i.next,i.next=e),r.interleaved=e,Hi(t,n)}function pp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,P_(t,n)}}function gA(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xp(t,e,n,r){var i=t.updateQueue;Ao=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,y=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,b=a;switch(h=e,y=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){f=v.call(y,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,h=typeof v=="function"?v.call(y,f,h):v,h==null)break e;f=Et({},f,h);break e;case 2:Ao=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else y={eventTime:y,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=y,l=f):c=c.next=y,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);na|=s,t.lanes=s,t.memoizedState=f}}function yA(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ce(191,i));i.call(r)}}}var Cf={},si=ls(Cf),vd=ls(Cf),xd=ls(Cf);function $s(t){if(t===Cf)throw Error(ce(174));return t}function H_(t,e){switch(dt(xd,e),dt(vd,t),dt(si,Cf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cx(e,t)}gt(si),dt(si,e)}function Cl(){gt(si),gt(vd),gt(xd)}function TM(t){$s(xd.current);var e=$s(si.current),n=cx(e,t.type);e!==n&&(dt(vd,t),dt(si,n))}function W_(t){vd.current===t&&(gt(si),gt(vd))}var xt=ls(0);function Qp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xy=[];function K_(){for(var t=0;t<Xy.length;t++)Xy[t]._workInProgressVersionPrimary=null;Xy.length=0}var mp=so.ReactCurrentDispatcher,Qy=so.ReactCurrentBatchConfig,ta=0,_t=null,Lt=null,Ht=null,Zp=!1,zc=!1,bd=0,ZU=0;function fn(){throw Error(ce(321))}function Y_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yr(t[n],e[n]))return!1;return!0}function J_(t,e,n,r,i,o){if(ta=o,_t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mp.current=t===null||t.memoizedState===null?r6:i6,t=n(r,i),zc){o=0;do{if(zc=!1,bd=0,25<=o)throw Error(ce(301));o+=1,Ht=Lt=null,e.updateQueue=null,mp.current=o6,t=n(r,i)}while(zc)}if(mp.current=em,e=Lt!==null&&Lt.next!==null,ta=0,Ht=Lt=_t=null,Zp=!1,e)throw Error(ce(300));return t}function X_(){var t=bd!==0;return bd=0,t}function ti(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?_t.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function _r(){if(Lt===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var e=Ht===null?_t.memoizedState:Ht.next;if(e!==null)Ht=e,Lt=t;else{if(t===null)throw Error(ce(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Ht===null?_t.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function wd(t,e){return typeof e=="function"?e(t):e}function Zy(t){var e=_r(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=Lt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((ta&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,_t.lanes|=c,na|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Yr(r,e.memoizedState)||(Vn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,_t.lanes|=o,na|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ev(t){var e=_r(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Yr(o,e.memoizedState)||(Vn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function AM(){}function IM(t,e){var n=_t,r=_r(),i=e(),o=!Yr(r.memoizedState,i);if(o&&(r.memoizedState=i,Vn=!0),r=r.queue,Q_(PM.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ht!==null&&Ht.memoizedState.tag&1){if(n.flags|=2048,_d(9,CM.bind(null,n,r,i,e),void 0,null),Yt===null)throw Error(ce(349));ta&30||kM(n,e,i)}return i}function kM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function CM(t,e,n,r){e.value=n,e.getSnapshot=r,NM(e)&&RM(t)}function PM(t,e,n){return n(function(){NM(e)&&RM(t)})}function NM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yr(t,n)}catch{return!0}}function RM(t){var e=Hi(t,1);e!==null&&zr(e,t,1,-1)}function vA(t){var e=ti();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wd,lastRenderedState:t},e.queue=t,t=t.dispatch=n6.bind(null,_t,t),[e.memoizedState,t]}function _d(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_t.updateQueue,e===null?(e={lastEffect:null,stores:null},_t.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function OM(){return _r().memoizedState}function gp(t,e,n,r){var i=ti();_t.flags|=t,i.memoizedState=_d(1|e,n,void 0,r===void 0?null:r)}function Kg(t,e,n,r){var i=_r();r=r===void 0?null:r;var o=void 0;if(Lt!==null){var s=Lt.memoizedState;if(o=s.destroy,r!==null&&Y_(r,s.deps)){i.memoizedState=_d(e,n,o,r);return}}_t.flags|=t,i.memoizedState=_d(1|e,n,o,r)}function xA(t,e){return gp(8390656,8,t,e)}function Q_(t,e){return Kg(2048,8,t,e)}function MM(t,e){return Kg(4,2,t,e)}function DM(t,e){return Kg(4,4,t,e)}function jM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $M(t,e,n){return n=n!=null?n.concat([t]):null,Kg(4,4,jM.bind(null,e,t),n)}function Z_(){}function LM(t,e){var n=_r();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Y_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function FM(t,e){var n=_r();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Y_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function VM(t,e,n){return ta&21?(Yr(n,e)||(n=qO(),_t.lanes|=n,na|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vn=!0),t.memoizedState=n)}function e6(t,e){var n=et;et=n!==0&&4>n?n:4,t(!0);var r=Qy.transition;Qy.transition={};try{t(!1),e()}finally{et=n,Qy.transition=r}}function UM(){return _r().memoizedState}function t6(t,e,n){var r=Wo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},BM(t))zM(e,n);else if(n=EM(t,e,n,r),n!==null){var i=Mn();zr(n,t,r,i),GM(n,e,r)}}function n6(t,e,n){var r=Wo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(BM(t))zM(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Yr(a,s)){var l=e.interleaved;l===null?(i.next=i,G_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=EM(t,e,i,r),n!==null&&(i=Mn(),zr(n,t,r,i),GM(n,e,r))}}function BM(t){var e=t.alternate;return t===_t||e!==null&&e===_t}function zM(t,e){zc=Zp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function GM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,P_(t,n)}}var em={readContext:wr,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},r6={readContext:wr,useCallback:function(t,e){return ti().memoizedState=[t,e===void 0?null:e],t},useContext:wr,useEffect:xA,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gp(4194308,4,jM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gp(4194308,4,t,e)},useInsertionEffect:function(t,e){return gp(4,2,t,e)},useMemo:function(t,e){var n=ti();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ti();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=t6.bind(null,_t,t),[r.memoizedState,t]},useRef:function(t){var e=ti();return t={current:t},e.memoizedState=t},useState:vA,useDebugValue:Z_,useDeferredValue:function(t){return ti().memoizedState=t},useTransition:function(){var t=vA(!1),e=t[0];return t=e6.bind(null,t[1]),ti().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_t,i=ti();if(yt){if(n===void 0)throw Error(ce(407));n=n()}else{if(n=e(),Yt===null)throw Error(ce(349));ta&30||kM(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,xA(PM.bind(null,r,o,t),[t]),r.flags|=2048,_d(9,CM.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ti(),e=Yt.identifierPrefix;if(yt){var n=Ni,r=Pi;n=(r&~(1<<32-Br(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=bd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ZU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},i6={readContext:wr,useCallback:LM,useContext:wr,useEffect:Q_,useImperativeHandle:$M,useInsertionEffect:MM,useLayoutEffect:DM,useMemo:FM,useReducer:Zy,useRef:OM,useState:function(){return Zy(wd)},useDebugValue:Z_,useDeferredValue:function(t){var e=_r();return VM(e,Lt.memoizedState,t)},useTransition:function(){var t=Zy(wd)[0],e=_r().memoizedState;return[t,e]},useMutableSource:AM,useSyncExternalStore:IM,useId:UM,unstable_isNewReconciler:!1},o6={readContext:wr,useCallback:LM,useContext:wr,useEffect:Q_,useImperativeHandle:$M,useInsertionEffect:MM,useLayoutEffect:DM,useMemo:FM,useReducer:ev,useRef:OM,useState:function(){return ev(wd)},useDebugValue:Z_,useDeferredValue:function(t){var e=_r();return Lt===null?e.memoizedState=t:VM(e,Lt.memoizedState,t)},useTransition:function(){var t=ev(wd)[0],e=_r().memoizedState;return[t,e]},useMutableSource:AM,useSyncExternalStore:IM,useId:UM,unstable_isNewReconciler:!1};function Mr(t,e){if(t&&t.defaultProps){e=Et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Nx(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yg={isMounted:function(t){return(t=t._reactInternals)?ba(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mn(),i=Wo(t),o=Fi(r,i);o.payload=e,n!=null&&(o.callback=n),e=qo(t,o,i),e!==null&&(zr(e,t,i,r),pp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mn(),i=Wo(t),o=Fi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=qo(t,o,i),e!==null&&(zr(e,t,i,r),pp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mn(),r=Wo(t),i=Fi(n,r);i.tag=2,e!=null&&(i.callback=e),e=qo(t,i,r),e!==null&&(zr(e,t,r,n),pp(e,t,r))}};function bA(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!pd(n,r)||!pd(i,o):!0}function qM(t,e,n){var r=!1,i=ns,o=e.contextType;return typeof o=="object"&&o!==null?o=wr(o):(i=zn(e)?Zs:bn.current,r=e.contextTypes,o=(r=r!=null)?Al(t,i):ns),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function wA(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yg.enqueueReplaceState(e,e.state,null)}function Rx(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},q_(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=wr(o):(o=zn(e)?Zs:bn.current,i.context=Al(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Nx(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yg.enqueueReplaceState(i,i.state,null),Xp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Pl(t,e){try{var n="",r=e;do n+=OV(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function tv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ox(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var s6=typeof WeakMap=="function"?WeakMap:Map;function HM(t,e,n){n=Fi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){nm||(nm=!0,zx=r),Ox(t,e)},n}function WM(t,e,n){n=Fi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ox(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ox(t,e),typeof r!="function"&&(Ho===null?Ho=new Set([this]):Ho.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function _A(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new s6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=b6.bind(null,t,e,n),e.then(t,t))}function EA(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function SA(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fi(-1,1),e.tag=2,qo(n,e,1))),n.lanes|=1),t)}var a6=so.ReactCurrentOwner,Vn=!1;function Cn(t,e,n,r){e.child=t===null?_M(e,null,n,r):kl(e,t.child,n,r)}function TA(t,e,n,r,i){n=n.render;var o=e.ref;return pl(e,i),r=J_(t,e,n,r,o,i),n=X_(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wi(t,e,i)):(yt&&n&&L_(e),e.flags|=1,Cn(t,e,r,i),e.child)}function AA(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!a1(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,KM(t,e,o,r,i)):(t=bp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:pd,n(s,r)&&t.ref===e.ref)return Wi(t,e,i)}return e.flags|=1,t=Ko(o,r),t.ref=e.ref,t.return=e,e.child=t}function KM(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(pd(o,r)&&t.ref===e.ref)if(Vn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Vn=!0);else return e.lanes=t.lanes,Wi(t,e,i)}return Mx(t,e,n,r,i)}function YM(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(tl,Jn),Jn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,dt(tl,Jn),Jn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,dt(tl,Jn),Jn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,dt(tl,Jn),Jn|=r;return Cn(t,e,i,n),e.child}function JM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Mx(t,e,n,r,i){var o=zn(n)?Zs:bn.current;return o=Al(e,o),pl(e,i),n=J_(t,e,n,r,o,i),r=X_(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wi(t,e,i)):(yt&&r&&L_(e),e.flags|=1,Cn(t,e,n,i),e.child)}function IA(t,e,n,r,i){if(zn(n)){var o=!0;Hp(e)}else o=!1;if(pl(e,i),e.stateNode===null)yp(t,e),qM(e,n,r),Rx(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=wr(u):(u=zn(n)?Zs:bn.current,u=Al(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&wA(e,s,r,u),Ao=!1;var h=e.memoizedState;s.state=h,Xp(e,r,s,i),l=e.memoizedState,a!==r||h!==l||Bn.current||Ao?(typeof c=="function"&&(Nx(e,n,c,r),l=e.memoizedState),(a=Ao||bA(e,n,a,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,SM(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Mr(e.type,a),s.props=u,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=wr(l):(l=zn(n)?Zs:bn.current,l=Al(e,l));var y=n.getDerivedStateFromProps;(c=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&wA(e,s,r,l),Ao=!1,h=e.memoizedState,s.state=h,Xp(e,r,s,i);var v=e.memoizedState;a!==f||h!==v||Bn.current||Ao?(typeof y=="function"&&(Nx(e,n,y,r),v=e.memoizedState),(u=Ao||bA(e,n,u,r,h,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Dx(t,e,n,r,o,i)}function Dx(t,e,n,r,i,o){JM(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&fA(e,n,!1),Wi(t,e,o);r=e.stateNode,a6.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=kl(e,t.child,null,o),e.child=kl(e,null,a,o)):Cn(t,e,a,o),e.memoizedState=r.state,i&&fA(e,n,!0),e.child}function XM(t){var e=t.stateNode;e.pendingContext?dA(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dA(t,e.context,!1),H_(t,e.containerInfo)}function kA(t,e,n,r,i){return Il(),V_(i),e.flags|=256,Cn(t,e,n,r),e.child}var jx={dehydrated:null,treeContext:null,retryLane:0};function $x(t){return{baseLanes:t,cachePool:null,transitions:null}}function QM(t,e,n){var r=e.pendingProps,i=xt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),dt(xt,i&1),t===null)return Cx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Qg(s,r,0,null),t=Ws(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=$x(n),e.memoizedState=jx,t):e1(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return l6(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ko(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ko(a,o):(o=Ws(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?$x(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=jx,r}return o=t.child,t=o.sibling,r=Ko(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function e1(t,e){return e=Qg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Oh(t,e,n,r){return r!==null&&V_(r),kl(e,t.child,null,n),t=e1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function l6(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=tv(Error(ce(422))),Oh(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Qg({mode:"visible",children:r.children},i,0,null),o=Ws(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&kl(e,t.child,null,s),e.child.memoizedState=$x(s),e.memoizedState=jx,o);if(!(e.mode&1))return Oh(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ce(419)),r=tv(o,r,void 0),Oh(t,e,s,r)}if(a=(s&t.childLanes)!==0,Vn||a){if(r=Yt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Hi(t,i),zr(r,t,i,-1))}return s1(),r=tv(Error(ce(421))),Oh(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=w6.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Zn=Go(i.nextSibling),tr=e,yt=!0,Lr=null,t!==null&&(hr[pr++]=Pi,hr[pr++]=Ni,hr[pr++]=ea,Pi=t.id,Ni=t.overflow,ea=e),e=e1(e,r.children),e.flags|=4096,e)}function CA(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Px(t.return,e,n)}function nv(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ZM(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Cn(t,e,r.children,n),r=xt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&CA(t,n,e);else if(t.tag===19)CA(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(dt(xt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Qp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),nv(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Qp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}nv(e,!0,n,null,o);break;case"together":nv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),na|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ce(153));if(e.child!==null){for(t=e.child,n=Ko(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ko(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function u6(t,e,n){switch(e.tag){case 3:XM(e),Il();break;case 5:TM(e);break;case 1:zn(e.type)&&Hp(e);break;case 4:H_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;dt(Yp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(dt(xt,xt.current&1),e.flags|=128,null):n&e.child.childLanes?QM(t,e,n):(dt(xt,xt.current&1),t=Wi(t,e,n),t!==null?t.sibling:null);dt(xt,xt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ZM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),dt(xt,xt.current),r)break;return null;case 22:case 23:return e.lanes=0,YM(t,e,n)}return Wi(t,e,n)}var eD,Lx,tD,nD;eD=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lx=function(){};tD=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$s(si.current);var o=null;switch(n){case"input":i=sx(t,i),r=sx(t,r),o=[];break;case"select":i=Et({},i,{value:void 0}),r=Et({},r,{value:void 0}),o=[];break;case"textarea":i=ux(t,i),r=ux(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Gp)}dx(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ad.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ad.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ht("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};nD=function(t,e,n,r){n!==r&&(e.flags|=4)};function dc(t,e){if(!yt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function hn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function c6(t,e,n){var r=e.pendingProps;switch(F_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(e),null;case 1:return zn(e.type)&&qp(),hn(e),null;case 3:return r=e.stateNode,Cl(),gt(Bn),gt(bn),K_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Nh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Lr!==null&&(Hx(Lr),Lr=null))),Lx(t,e),hn(e),null;case 5:W_(e);var i=$s(xd.current);if(n=e.type,t!==null&&e.stateNode!=null)tD(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ce(166));return hn(e),null}if(t=$s(si.current),Nh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ni]=e,r[yd]=o,t=(e.mode&1)!==0,n){case"dialog":ht("cancel",r),ht("close",r);break;case"iframe":case"object":case"embed":ht("load",r);break;case"video":case"audio":for(i=0;i<Pc.length;i++)ht(Pc[i],r);break;case"source":ht("error",r);break;case"img":case"image":case"link":ht("error",r),ht("load",r);break;case"details":ht("toggle",r);break;case"input":LT(r,o),ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ht("invalid",r);break;case"textarea":VT(r,o),ht("invalid",r)}dx(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ph(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ph(r.textContent,a,t),i=["children",""+a]):ad.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ht("scroll",r)}switch(n){case"input":_h(r),FT(r,o,!0);break;case"textarea":_h(r),UT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Gp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=PO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ni]=e,t[yd]=r,eD(t,e,!1,!1),e.stateNode=t;e:{switch(s=fx(n,r),n){case"dialog":ht("cancel",t),ht("close",t),i=r;break;case"iframe":case"object":case"embed":ht("load",t),i=r;break;case"video":case"audio":for(i=0;i<Pc.length;i++)ht(Pc[i],t);i=r;break;case"source":ht("error",t),i=r;break;case"img":case"image":case"link":ht("error",t),ht("load",t),i=r;break;case"details":ht("toggle",t),i=r;break;case"input":LT(t,r),i=sx(t,r),ht("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Et({},r,{value:void 0}),ht("invalid",t);break;case"textarea":VT(t,r),i=ux(t,r),ht("invalid",t);break;default:i=r}dx(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?OO(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&NO(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ld(t,l):typeof l=="number"&&ld(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ad.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ht("scroll",t):l!=null&&S_(t,o,l,s))}switch(n){case"input":_h(t),FT(t,r,!1);break;case"textarea":_h(t),UT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ts(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?cl(t,!!r.multiple,o,!1):r.defaultValue!=null&&cl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Gp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return hn(e),null;case 6:if(t&&e.stateNode!=null)nD(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ce(166));if(n=$s(xd.current),$s(si.current),Nh(e)){if(r=e.stateNode,n=e.memoizedProps,r[ni]=e,(o=r.nodeValue!==n)&&(t=tr,t!==null))switch(t.tag){case 3:Ph(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ph(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ni]=e,e.stateNode=r}return hn(e),null;case 13:if(gt(xt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(yt&&Zn!==null&&e.mode&1&&!(e.flags&128))bM(),Il(),e.flags|=98560,o=!1;else if(o=Nh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ce(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ce(317));o[ni]=e}else Il(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;hn(e),o=!1}else Lr!==null&&(Hx(Lr),Lr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xt.current&1?Vt===0&&(Vt=3):s1())),e.updateQueue!==null&&(e.flags|=4),hn(e),null);case 4:return Cl(),Lx(t,e),t===null&&md(e.stateNode.containerInfo),hn(e),null;case 10:return z_(e.type._context),hn(e),null;case 17:return zn(e.type)&&qp(),hn(e),null;case 19:if(gt(xt),o=e.memoizedState,o===null)return hn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)dc(o,!1);else{if(Vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Qp(t),s!==null){for(e.flags|=128,dc(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return dt(xt,xt.current&1|2),e.child}t=t.sibling}o.tail!==null&&Pt()>Nl&&(e.flags|=128,r=!0,dc(o,!1),e.lanes=4194304)}else{if(!r)if(t=Qp(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),dc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!yt)return hn(e),null}else 2*Pt()-o.renderingStartTime>Nl&&n!==1073741824&&(e.flags|=128,r=!0,dc(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Pt(),e.sibling=null,n=xt.current,dt(xt,r?n&1|2:n&1),e):(hn(e),null);case 22:case 23:return o1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Jn&1073741824&&(hn(e),e.subtreeFlags&6&&(e.flags|=8192)):hn(e),null;case 24:return null;case 25:return null}throw Error(ce(156,e.tag))}function d6(t,e){switch(F_(e),e.tag){case 1:return zn(e.type)&&qp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cl(),gt(Bn),gt(bn),K_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return W_(e),null;case 13:if(gt(xt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));Il()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return gt(xt),null;case 4:return Cl(),null;case 10:return z_(e.type._context),null;case 22:case 23:return o1(),null;case 24:return null;default:return null}}var Mh=!1,gn=!1,f6=typeof WeakSet=="function"?WeakSet:Set,me=null;function el(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){At(t,e,r)}else n.current=null}function Fx(t,e,n){try{n()}catch(r){At(t,e,r)}}var PA=!1;function h6(t,e){if(_x=Up,t=aM(),$_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(y=f.firstChild)!==null;)h=f,f=y;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(y=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ex={focusedElem:t,selectionRange:n},Up=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,x=v.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?b:Mr(e.type,b),x);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(C){At(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return v=PA,PA=!1,v}function Gc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Fx(e,n,o)}i=i.next}while(i!==r)}}function Jg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vx(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rD(t){var e=t.alternate;e!==null&&(t.alternate=null,rD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ni],delete e[yd],delete e[Ax],delete e[YU],delete e[JU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iD(t){return t.tag===5||t.tag===3||t.tag===4}function NA(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ux(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Gp));else if(r!==4&&(t=t.child,t!==null))for(Ux(t,e,n),t=t.sibling;t!==null;)Ux(t,e,n),t=t.sibling}function Bx(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Bx(t,e,n),t=t.sibling;t!==null;)Bx(t,e,n),t=t.sibling}var tn=null,Dr=!1;function wo(t,e,n){for(n=n.child;n!==null;)oD(t,e,n),n=n.sibling}function oD(t,e,n){if(oi&&typeof oi.onCommitFiberUnmount=="function")try{oi.onCommitFiberUnmount(Bg,n)}catch{}switch(n.tag){case 5:gn||el(n,e);case 6:var r=tn,i=Dr;tn=null,wo(t,e,n),tn=r,Dr=i,tn!==null&&(Dr?(t=tn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tn.removeChild(n.stateNode));break;case 18:tn!==null&&(Dr?(t=tn,n=n.stateNode,t.nodeType===8?Yy(t.parentNode,n):t.nodeType===1&&Yy(t,n),fd(t)):Yy(tn,n.stateNode));break;case 4:r=tn,i=Dr,tn=n.stateNode.containerInfo,Dr=!0,wo(t,e,n),tn=r,Dr=i;break;case 0:case 11:case 14:case 15:if(!gn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Fx(n,e,s),i=i.next}while(i!==r)}wo(t,e,n);break;case 1:if(!gn&&(el(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){At(n,e,a)}wo(t,e,n);break;case 21:wo(t,e,n);break;case 22:n.mode&1?(gn=(r=gn)||n.memoizedState!==null,wo(t,e,n),gn=r):wo(t,e,n);break;default:wo(t,e,n)}}function RA(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new f6),e.forEach(function(r){var i=_6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Rr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:tn=a.stateNode,Dr=!1;break e;case 3:tn=a.stateNode.containerInfo,Dr=!0;break e;case 4:tn=a.stateNode.containerInfo,Dr=!0;break e}a=a.return}if(tn===null)throw Error(ce(160));oD(o,s,i),tn=null,Dr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){At(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sD(e,t),e=e.sibling}function sD(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rr(e,t),ei(t),r&4){try{Gc(3,t,t.return),Jg(3,t)}catch(b){At(t,t.return,b)}try{Gc(5,t,t.return)}catch(b){At(t,t.return,b)}}break;case 1:Rr(e,t),ei(t),r&512&&n!==null&&el(n,n.return);break;case 5:if(Rr(e,t),ei(t),r&512&&n!==null&&el(n,n.return),t.flags&32){var i=t.stateNode;try{ld(i,"")}catch(b){At(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&kO(i,o),fx(a,s);var u=fx(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?OO(i,f):c==="dangerouslySetInnerHTML"?NO(i,f):c==="children"?ld(i,f):S_(i,c,f,u)}switch(a){case"input":ax(i,o);break;case"textarea":CO(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?cl(i,!!o.multiple,y,!1):h!==!!o.multiple&&(o.defaultValue!=null?cl(i,!!o.multiple,o.defaultValue,!0):cl(i,!!o.multiple,o.multiple?[]:"",!1))}i[yd]=o}catch(b){At(t,t.return,b)}}break;case 6:if(Rr(e,t),ei(t),r&4){if(t.stateNode===null)throw Error(ce(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(b){At(t,t.return,b)}}break;case 3:if(Rr(e,t),ei(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fd(e.containerInfo)}catch(b){At(t,t.return,b)}break;case 4:Rr(e,t),ei(t);break;case 13:Rr(e,t),ei(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(r1=Pt())),r&4&&RA(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(gn=(u=gn)||c,Rr(e,t),gn=u):Rr(e,t),ei(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(me=t,c=t.child;c!==null;){for(f=me=c;me!==null;){switch(h=me,y=h.child,h.tag){case 0:case 11:case 14:case 15:Gc(4,h,h.return);break;case 1:el(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){At(r,n,b)}}break;case 5:el(h,h.return);break;case 22:if(h.memoizedState!==null){MA(f);continue}}y!==null?(y.return=h,me=y):MA(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=RO("display",s))}catch(b){At(t,t.return,b)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){At(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Rr(e,t),ei(t),r&4&&RA(t);break;case 21:break;default:Rr(e,t),ei(t)}}function ei(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(iD(n)){var r=n;break e}n=n.return}throw Error(ce(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ld(i,""),r.flags&=-33);var o=NA(t);Bx(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=NA(t);Ux(t,a,s);break;default:throw Error(ce(161))}}catch(l){At(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function p6(t,e,n){me=t,aD(t)}function aD(t,e,n){for(var r=(t.mode&1)!==0;me!==null;){var i=me,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Mh;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||gn;a=Mh;var u=gn;if(Mh=s,(gn=l)&&!u)for(me=i;me!==null;)s=me,l=s.child,s.tag===22&&s.memoizedState!==null?DA(i):l!==null?(l.return=s,me=l):DA(i);for(;o!==null;)me=o,aD(o),o=o.sibling;me=i,Mh=a,gn=u}OA(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,me=o):OA(t)}}function OA(t){for(;me!==null;){var e=me;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gn||Jg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&yA(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}yA(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&fd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}gn||e.flags&512&&Vx(e)}catch(h){At(e,e.return,h)}}if(e===t){me=null;break}if(n=e.sibling,n!==null){n.return=e.return,me=n;break}me=e.return}}function MA(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,me=n;break}me=e.return}}function DA(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Jg(4,e)}catch(l){At(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){At(e,i,l)}}var o=e.return;try{Vx(e)}catch(l){At(e,o,l)}break;case 5:var s=e.return;try{Vx(e)}catch(l){At(e,s,l)}}}catch(l){At(e,e.return,l)}if(e===t){me=null;break}var a=e.sibling;if(a!==null){a.return=e.return,me=a;break}me=e.return}}var m6=Math.ceil,tm=so.ReactCurrentDispatcher,t1=so.ReactCurrentOwner,vr=so.ReactCurrentBatchConfig,Ge=0,Yt=null,Ot=null,sn=0,Jn=0,tl=ls(0),Vt=0,Ed=null,na=0,Xg=0,n1=0,qc=null,Fn=null,r1=0,Nl=1/0,Ti=null,nm=!1,zx=null,Ho=null,Dh=!1,jo=null,rm=0,Hc=0,Gx=null,vp=-1,xp=0;function Mn(){return Ge&6?Pt():vp!==-1?vp:vp=Pt()}function Wo(t){return t.mode&1?Ge&2&&sn!==0?sn&-sn:QU.transition!==null?(xp===0&&(xp=qO()),xp):(t=et,t!==0||(t=window.event,t=t===void 0?16:QO(t.type)),t):1}function zr(t,e,n,r){if(50<Hc)throw Hc=0,Gx=null,Error(ce(185));Af(t,n,r),(!(Ge&2)||t!==Yt)&&(t===Yt&&(!(Ge&2)&&(Xg|=n),Vt===4&&Co(t,sn)),Gn(t,r),n===1&&Ge===0&&!(e.mode&1)&&(Nl=Pt()+500,Wg&&us()))}function Gn(t,e){var n=t.callbackNode;QV(t,e);var r=Vp(t,t===Yt?sn:0);if(r===0)n!==null&&GT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&GT(n),e===1)t.tag===0?XU(jA.bind(null,t)):yM(jA.bind(null,t)),WU(function(){!(Ge&6)&&us()}),n=null;else{switch(HO(r)){case 1:n=C_;break;case 4:n=zO;break;case 16:n=Fp;break;case 536870912:n=GO;break;default:n=Fp}n=mD(n,lD.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function lD(t,e){if(vp=-1,xp=0,Ge&6)throw Error(ce(327));var n=t.callbackNode;if(ml()&&t.callbackNode!==n)return null;var r=Vp(t,t===Yt?sn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=im(t,r);else{e=r;var i=Ge;Ge|=2;var o=cD();(Yt!==t||sn!==e)&&(Ti=null,Nl=Pt()+500,Hs(t,e));do try{v6();break}catch(a){uD(t,a)}while(!0);B_(),tm.current=o,Ge=i,Ot!==null?e=0:(Yt=null,sn=0,e=Vt)}if(e!==0){if(e===2&&(i=yx(t),i!==0&&(r=i,e=qx(t,i))),e===1)throw n=Ed,Hs(t,0),Co(t,r),Gn(t,Pt()),n;if(e===6)Co(t,r);else{if(i=t.current.alternate,!(r&30)&&!g6(i)&&(e=im(t,r),e===2&&(o=yx(t),o!==0&&(r=o,e=qx(t,o))),e===1))throw n=Ed,Hs(t,0),Co(t,r),Gn(t,Pt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ce(345));case 2:ks(t,Fn,Ti);break;case 3:if(Co(t,r),(r&130023424)===r&&(e=r1+500-Pt(),10<e)){if(Vp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Tx(ks.bind(null,t,Fn,Ti),e);break}ks(t,Fn,Ti);break;case 4:if(Co(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Br(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*m6(r/1960))-r,10<r){t.timeoutHandle=Tx(ks.bind(null,t,Fn,Ti),r);break}ks(t,Fn,Ti);break;case 5:ks(t,Fn,Ti);break;default:throw Error(ce(329))}}}return Gn(t,Pt()),t.callbackNode===n?lD.bind(null,t):null}function qx(t,e){var n=qc;return t.current.memoizedState.isDehydrated&&(Hs(t,e).flags|=256),t=im(t,e),t!==2&&(e=Fn,Fn=n,e!==null&&Hx(e)),t}function Hx(t){Fn===null?Fn=t:Fn.push.apply(Fn,t)}function g6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Yr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Co(t,e){for(e&=~n1,e&=~Xg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Br(e),r=1<<n;t[n]=-1,e&=~r}}function jA(t){if(Ge&6)throw Error(ce(327));ml();var e=Vp(t,0);if(!(e&1))return Gn(t,Pt()),null;var n=im(t,e);if(t.tag!==0&&n===2){var r=yx(t);r!==0&&(e=r,n=qx(t,r))}if(n===1)throw n=Ed,Hs(t,0),Co(t,e),Gn(t,Pt()),n;if(n===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ks(t,Fn,Ti),Gn(t,Pt()),null}function i1(t,e){var n=Ge;Ge|=1;try{return t(e)}finally{Ge=n,Ge===0&&(Nl=Pt()+500,Wg&&us())}}function ra(t){jo!==null&&jo.tag===0&&!(Ge&6)&&ml();var e=Ge;Ge|=1;var n=vr.transition,r=et;try{if(vr.transition=null,et=1,t)return t()}finally{et=r,vr.transition=n,Ge=e,!(Ge&6)&&us()}}function o1(){Jn=tl.current,gt(tl)}function Hs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,HU(n)),Ot!==null)for(n=Ot.return;n!==null;){var r=n;switch(F_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qp();break;case 3:Cl(),gt(Bn),gt(bn),K_();break;case 5:W_(r);break;case 4:Cl();break;case 13:gt(xt);break;case 19:gt(xt);break;case 10:z_(r.type._context);break;case 22:case 23:o1()}n=n.return}if(Yt=t,Ot=t=Ko(t.current,null),sn=Jn=e,Vt=0,Ed=null,n1=Xg=na=0,Fn=qc=null,js!==null){for(e=0;e<js.length;e++)if(n=js[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}js=null}return t}function uD(t,e){do{var n=Ot;try{if(B_(),mp.current=em,Zp){for(var r=_t.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Zp=!1}if(ta=0,Ht=Lt=_t=null,zc=!1,bd=0,t1.current=null,n===null||n.return===null){Vt=1,Ed=e,Ot=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=sn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=EA(s);if(y!==null){y.flags&=-257,SA(y,s,a,o,e),y.mode&1&&_A(o,u,e),e=y,l=u;var v=e.updateQueue;if(v===null){var b=new Set;b.add(l),e.updateQueue=b}else v.add(l);break e}else{if(!(e&1)){_A(o,u,e),s1();break e}l=Error(ce(426))}}else if(yt&&a.mode&1){var x=EA(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),SA(x,s,a,o,e),V_(Pl(l,a));break e}}o=l=Pl(l,a),Vt!==4&&(Vt=2),qc===null?qc=[o]:qc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var E=HM(o,l,e);gA(o,E);break e;case 1:a=l;var w=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ho===null||!Ho.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=WM(o,a,e);gA(o,C);break e}}o=o.return}while(o!==null)}fD(n)}catch(S){e=S,Ot===n&&n!==null&&(Ot=n=n.return);continue}break}while(!0)}function cD(){var t=tm.current;return tm.current=em,t===null?em:t}function s1(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Yt===null||!(na&268435455)&&!(Xg&268435455)||Co(Yt,sn)}function im(t,e){var n=Ge;Ge|=2;var r=cD();(Yt!==t||sn!==e)&&(Ti=null,Hs(t,e));do try{y6();break}catch(i){uD(t,i)}while(!0);if(B_(),Ge=n,tm.current=r,Ot!==null)throw Error(ce(261));return Yt=null,sn=0,Vt}function y6(){for(;Ot!==null;)dD(Ot)}function v6(){for(;Ot!==null&&!zV();)dD(Ot)}function dD(t){var e=pD(t.alternate,t,Jn);t.memoizedProps=t.pendingProps,e===null?fD(t):Ot=e,t1.current=null}function fD(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=d6(n,e),n!==null){n.flags&=32767,Ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vt=6,Ot=null;return}}else if(n=c6(n,e,Jn),n!==null){Ot=n;return}if(e=e.sibling,e!==null){Ot=e;return}Ot=e=t}while(e!==null);Vt===0&&(Vt=5)}function ks(t,e,n){var r=et,i=vr.transition;try{vr.transition=null,et=1,x6(t,e,n,r)}finally{vr.transition=i,et=r}return null}function x6(t,e,n,r){do ml();while(jo!==null);if(Ge&6)throw Error(ce(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(ZV(t,o),t===Yt&&(Ot=Yt=null,sn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dh||(Dh=!0,mD(Fp,function(){return ml(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=vr.transition,vr.transition=null;var s=et;et=1;var a=Ge;Ge|=4,t1.current=null,h6(t,n),sD(n,t),FU(Ex),Up=!!_x,Ex=_x=null,t.current=n,p6(n),GV(),Ge=a,et=s,vr.transition=o}else t.current=n;if(Dh&&(Dh=!1,jo=t,rm=i),o=t.pendingLanes,o===0&&(Ho=null),WV(n.stateNode),Gn(t,Pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(nm)throw nm=!1,t=zx,zx=null,t;return rm&1&&t.tag!==0&&ml(),o=t.pendingLanes,o&1?t===Gx?Hc++:(Hc=0,Gx=t):Hc=0,us(),null}function ml(){if(jo!==null){var t=HO(rm),e=vr.transition,n=et;try{if(vr.transition=null,et=16>t?16:t,jo===null)var r=!1;else{if(t=jo,jo=null,rm=0,Ge&6)throw Error(ce(331));var i=Ge;for(Ge|=4,me=t.current;me!==null;){var o=me,s=o.child;if(me.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(me=u;me!==null;){var c=me;switch(c.tag){case 0:case 11:case 15:Gc(8,c,o)}var f=c.child;if(f!==null)f.return=c,me=f;else for(;me!==null;){c=me;var h=c.sibling,y=c.return;if(rD(c),c===u){me=null;break}if(h!==null){h.return=y,me=h;break}me=y}}}var v=o.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}me=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,me=s;else e:for(;me!==null;){if(o=me,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Gc(9,o,o.return)}var E=o.sibling;if(E!==null){E.return=o.return,me=E;break e}me=o.return}}var w=t.current;for(me=w;me!==null;){s=me;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,me=_;else e:for(s=w;me!==null;){if(a=me,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Jg(9,a)}}catch(S){At(a,a.return,S)}if(a===s){me=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,me=C;break e}me=a.return}}if(Ge=i,us(),oi&&typeof oi.onPostCommitFiberRoot=="function")try{oi.onPostCommitFiberRoot(Bg,t)}catch{}r=!0}return r}finally{et=n,vr.transition=e}}return!1}function $A(t,e,n){e=Pl(n,e),e=HM(t,e,1),t=qo(t,e,1),e=Mn(),t!==null&&(Af(t,1,e),Gn(t,e))}function At(t,e,n){if(t.tag===3)$A(t,t,n);else for(;e!==null;){if(e.tag===3){$A(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ho===null||!Ho.has(r))){t=Pl(n,t),t=WM(e,t,1),e=qo(e,t,1),t=Mn(),e!==null&&(Af(e,1,t),Gn(e,t));break}}e=e.return}}function b6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mn(),t.pingedLanes|=t.suspendedLanes&n,Yt===t&&(sn&n)===n&&(Vt===4||Vt===3&&(sn&130023424)===sn&&500>Pt()-r1?Hs(t,0):n1|=n),Gn(t,e)}function hD(t,e){e===0&&(t.mode&1?(e=Th,Th<<=1,!(Th&130023424)&&(Th=4194304)):e=1);var n=Mn();t=Hi(t,e),t!==null&&(Af(t,e,n),Gn(t,n))}function w6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),hD(t,n)}function _6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ce(314))}r!==null&&r.delete(e),hD(t,n)}var pD;pD=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bn.current)Vn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vn=!1,u6(t,e,n);Vn=!!(t.flags&131072)}else Vn=!1,yt&&e.flags&1048576&&vM(e,Kp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;yp(t,e),t=e.pendingProps;var i=Al(e,bn.current);pl(e,n),i=J_(null,e,r,t,i,n);var o=X_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zn(r)?(o=!0,Hp(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,q_(e),i.updater=Yg,e.stateNode=i,i._reactInternals=e,Rx(e,r,t,n),e=Dx(null,e,r,!0,o,n)):(e.tag=0,yt&&o&&L_(e),Cn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(yp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=S6(r),t=Mr(r,t),i){case 0:e=Mx(null,e,r,t,n);break e;case 1:e=IA(null,e,r,t,n);break e;case 11:e=TA(null,e,r,t,n);break e;case 14:e=AA(null,e,r,Mr(r.type,t),n);break e}throw Error(ce(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mr(r,i),Mx(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mr(r,i),IA(t,e,r,i,n);case 3:e:{if(XM(e),t===null)throw Error(ce(387));r=e.pendingProps,o=e.memoizedState,i=o.element,SM(t,e),Xp(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Pl(Error(ce(423)),e),e=kA(t,e,r,n,i);break e}else if(r!==i){i=Pl(Error(ce(424)),e),e=kA(t,e,r,n,i);break e}else for(Zn=Go(e.stateNode.containerInfo.firstChild),tr=e,yt=!0,Lr=null,n=_M(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Il(),r===i){e=Wi(t,e,n);break e}Cn(t,e,r,n)}e=e.child}return e;case 5:return TM(e),t===null&&Cx(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Sx(r,i)?s=null:o!==null&&Sx(r,o)&&(e.flags|=32),JM(t,e),Cn(t,e,s,n),e.child;case 6:return t===null&&Cx(e),null;case 13:return QM(t,e,n);case 4:return H_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=kl(e,null,r,n):Cn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mr(r,i),TA(t,e,r,i,n);case 7:return Cn(t,e,e.pendingProps,n),e.child;case 8:return Cn(t,e,e.pendingProps.children,n),e.child;case 12:return Cn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,dt(Yp,r._currentValue),r._currentValue=s,o!==null)if(Yr(o.value,s)){if(o.children===i.children&&!Bn.current){e=Wi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Fi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Px(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ce(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Px(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Cn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,pl(e,n),i=wr(i),r=r(i),e.flags|=1,Cn(t,e,r,n),e.child;case 14:return r=e.type,i=Mr(r,e.pendingProps),i=Mr(r.type,i),AA(t,e,r,i,n);case 15:return KM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mr(r,i),yp(t,e),e.tag=1,zn(r)?(t=!0,Hp(e)):t=!1,pl(e,n),qM(e,r,i),Rx(e,r,i,n),Dx(null,e,r,!0,t,n);case 19:return ZM(t,e,n);case 22:return YM(t,e,n)}throw Error(ce(156,e.tag))};function mD(t,e){return BO(t,e)}function E6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(t,e,n,r){return new E6(t,e,n,r)}function a1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function S6(t){if(typeof t=="function")return a1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===A_)return 11;if(t===I_)return 14}return 2}function Ko(t,e){var n=t.alternate;return n===null?(n=gr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bp(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")a1(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case qa:return Ws(n.children,i,o,e);case T_:s=8,i|=8;break;case nx:return t=gr(12,n,e,i|2),t.elementType=nx,t.lanes=o,t;case rx:return t=gr(13,n,e,i),t.elementType=rx,t.lanes=o,t;case ix:return t=gr(19,n,e,i),t.elementType=ix,t.lanes=o,t;case TO:return Qg(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case EO:s=10;break e;case SO:s=9;break e;case A_:s=11;break e;case I_:s=14;break e;case To:s=16,r=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return e=gr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ws(t,e,n,r){return t=gr(7,t,r,e),t.lanes=n,t}function Qg(t,e,n,r){return t=gr(22,t,r,e),t.elementType=TO,t.lanes=n,t.stateNode={isHidden:!1},t}function rv(t,e,n){return t=gr(6,t,null,e),t.lanes=n,t}function iv(t,e,n){return e=gr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function T6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ly(0),this.expirationTimes=Ly(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ly(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function l1(t,e,n,r,i,o,s,a,l){return t=new T6(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=gr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},q_(o),t}function A6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ga,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function gD(t){if(!t)return ns;t=t._reactInternals;e:{if(ba(t)!==t||t.tag!==1)throw Error(ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ce(171))}if(t.tag===1){var n=t.type;if(zn(n))return gM(t,n,e)}return e}function yD(t,e,n,r,i,o,s,a,l){return t=l1(n,r,!0,t,i,o,s,a,l),t.context=gD(null),n=t.current,r=Mn(),i=Wo(n),o=Fi(r,i),o.callback=e??null,qo(n,o,i),t.current.lanes=i,Af(t,i,r),Gn(t,r),t}function Zg(t,e,n,r){var i=e.current,o=Mn(),s=Wo(i);return n=gD(n),e.context===null?e.context=n:e.pendingContext=n,e=Fi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qo(i,e,s),t!==null&&(zr(t,i,s,o),pp(t,i,s)),s}function om(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function LA(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function u1(t,e){LA(t,e),(t=t.alternate)&&LA(t,e)}function I6(){return null}var vD=typeof reportError=="function"?reportError:function(t){console.error(t)};function c1(t){this._internalRoot=t}e0.prototype.render=c1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ce(409));Zg(t,e,null,null)};e0.prototype.unmount=c1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ra(function(){Zg(null,t,null,null)}),e[qi]=null}};function e0(t){this._internalRoot=t}e0.prototype.unstable_scheduleHydration=function(t){if(t){var e=YO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ko.length&&e!==0&&e<ko[n].priority;n++);ko.splice(n,0,t),n===0&&XO(t)}};function d1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function t0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function FA(){}function k6(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=om(s);o.call(u)}}var s=yD(e,r,t,0,null,!1,!1,"",FA);return t._reactRootContainer=s,t[qi]=s.current,md(t.nodeType===8?t.parentNode:t),ra(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=om(l);a.call(u)}}var l=l1(t,0,!1,null,null,!1,!1,"",FA);return t._reactRootContainer=l,t[qi]=l.current,md(t.nodeType===8?t.parentNode:t),ra(function(){Zg(e,l,n,r)}),l}function n0(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=om(s);a.call(l)}}Zg(e,s,t,i)}else s=k6(n,e,t,i,r);return om(s)}WO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Cc(e.pendingLanes);n!==0&&(P_(e,n|1),Gn(e,Pt()),!(Ge&6)&&(Nl=Pt()+500,us()))}break;case 13:ra(function(){var r=Hi(t,1);if(r!==null){var i=Mn();zr(r,t,1,i)}}),u1(t,1)}};N_=function(t){if(t.tag===13){var e=Hi(t,134217728);if(e!==null){var n=Mn();zr(e,t,134217728,n)}u1(t,134217728)}};KO=function(t){if(t.tag===13){var e=Wo(t),n=Hi(t,e);if(n!==null){var r=Mn();zr(n,t,e,r)}u1(t,e)}};YO=function(){return et};JO=function(t,e){var n=et;try{return et=t,e()}finally{et=n}};px=function(t,e,n){switch(e){case"input":if(ax(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hg(r);if(!i)throw Error(ce(90));IO(r),ax(r,i)}}}break;case"textarea":CO(t,n);break;case"select":e=n.value,e!=null&&cl(t,!!n.multiple,e,!1)}};jO=i1;$O=ra;var C6={usingClientEntryPoint:!1,Events:[kf,Ya,Hg,MO,DO,i1]},fc={findFiberByHostInstance:Ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},P6={bundleType:fc.bundleType,version:fc.version,rendererPackageName:fc.rendererPackageName,rendererConfig:fc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:so.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=VO(t),t===null?null:t.stateNode},findFiberByHostInstance:fc.findFiberByHostInstance||I6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jh.isDisabled&&jh.supportsFiber)try{Bg=jh.inject(P6),oi=jh}catch{}}sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C6;sr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d1(e))throw Error(ce(200));return A6(t,e,null,n)};sr.createRoot=function(t,e){if(!d1(t))throw Error(ce(299));var n=!1,r="",i=vD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=l1(t,1,!1,null,null,n,!1,r,i),t[qi]=e.current,md(t.nodeType===8?t.parentNode:t),new c1(e)};sr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=VO(e),t=t===null?null:t.stateNode,t};sr.flushSync=function(t){return ra(t)};sr.hydrate=function(t,e,n){if(!t0(e))throw Error(ce(200));return n0(null,t,e,!0,n)};sr.hydrateRoot=function(t,e,n){if(!d1(t))throw Error(ce(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=vD;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=yD(e,null,t,1,n??null,i,!1,o,s),t[qi]=e.current,md(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new e0(e)};sr.render=function(t,e,n){if(!t0(e))throw Error(ce(200));return n0(null,t,e,!1,n)};sr.unmountComponentAtNode=function(t){if(!t0(t))throw Error(ce(40));return t._reactRootContainer?(ra(function(){n0(null,null,t,!1,function(){t._reactRootContainer=null,t[qi]=null})}),!0):!1};sr.unstable_batchedUpdates=i1;sr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!t0(n))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return n0(t,e,n,!1,r)};sr.version="18.3.1-next-f1338f8080-20240426";function xD(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xD)}catch(t){console.error(t)}}xD(),xO.exports=sr;var N6=xO.exports,VA=N6;ex.createRoot=VA.createRoot,ex.hydrateRoot=VA.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var R6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ie=(t,e)=>{const n=U.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>U.createElement("svg",{ref:c,...R6,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${O6(t)}`,a].join(" "),...u},[...e.map(([f,h])=>U.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=ie("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=ie("AlertOctagon",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=ie("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=ie("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=ie("AppWindow",[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=ie("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=ie("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=ie("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0=ie("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=ie("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=ie("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=ie("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $6=ie("BadgeAlert",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=ie("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=ie("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=ie("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=ie("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=ie("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=ie("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=ie("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=ie("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=ie("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=ie("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=ie("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=ie("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=ie("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=ie("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B6=ie("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z6=ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=ie("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=ie("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G6=ie("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=ie("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=ie("Compass",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76",key:"m9r19z"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=ie("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=ie("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=ie("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=ie("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H6=ie("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W6=ie("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K6=ie("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y6=ie("Ghost",[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J6=ie("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X6=ie("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q6=ie("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=ie("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z6=ie("HardDriveDownload",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=ie("HardDriveUpload",[["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M12 2v8",key:"1q4o3n"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=ie("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=ie("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=ie("Hexagon",[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=ie("Infinity",[["path",{d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4Zm0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4Z",key:"1z0uae"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=ie("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=ie("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=ie("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=ie("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=ie("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=ie("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=ie("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=ie("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=ie("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=ie("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=ie("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=ie("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=ie("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=ie("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=ie("MessageSquareMore",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M16 10h.01",key:"1m94wz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=ie("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=ie("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=ie("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=ie("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=ie("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=ie("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=ie("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=ie("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=ie("PinOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V17h12",key:"13x2n8"}],["path",{d:"M15 9.34V6h1a2 2 0 0 0 0-4H7.89",key:"reo3ki"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=ie("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=ie("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=ie("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=ie("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=ie("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=ie("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=ie("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=ie("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=ie("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=ie("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=ie("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=ie("Sigma",[["path",{d:"M18 7V4H6l6 8-6 8h12v-3",key:"zis8ev"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=ie("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=ie("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=ie("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=ie("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=ie("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=ie("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=ie("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=ie("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=ie("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=ie("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=ie("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=ie("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var Me=(t=>(t.DASHBOARD="DASHBOARD",t.TRANSACTIONS="TRANSACTIONS",t.INVESTMENTS="INVESTMENTS",t.BUDGETS="BUDGETS",t.SUBSCRIPTIONS="SUBSCRIPTIONS",t.CALENDAR="CALENDAR",t.AI_ASSISTANT="AI_ASSISTANT",t.DEBTS="DEBTS",t.SHOPPING_LIST="SHOPPING_LIST",t.WEALTH_PLANNER="WEALTH_PLANNER",t.KANBAN="KANBAN",t.NOTES="NOTES",t))(Me||{}),WA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},CB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},OD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,y=u&63;l||(y=64,s||(h=64)),r.push(n[c],n[f],n[h],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(RD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new PB;const h=o<<2|a>>4;if(r.push(h),u!==64){const y=a<<4&240|u>>2;if(r.push(y),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class PB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NB=function(t){const e=RD(t);return OD.encodeByteArray(e,!0)},MD=function(t){return NB(t).replace(/\./g,"")},DD=function(t){try{return OD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB=()=>RB().__FIREBASE_DEFAULTS__,MB=()=>{if(typeof process>"u"||typeof WA>"u")return;const t=WA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DD(t[1]);return e&&JSON.parse(e)},s0=()=>{try{return OB()||MB()||DB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jB=t=>{var e,n;return(n=(e=s0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jD=()=>{var t;return(t=s0())===null||t===void 0?void 0:t.config},$D=t=>{var e;return(e=s0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function FB(){var t;const e=(t=s0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function UB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function BB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zB(){const t=wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GB(){return!FB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qB(){try{return typeof indexedDB=="object"}catch{return!1}}function HB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB="FirebaseError";class ao extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WB,Object.setPrototypeOf(this,ao.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pf.prototype.create)}}class Pf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?KB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ao(i,a,r)}}function KB(t,e){return t.replace(YB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const YB=/\{\$([^}]+)}/g;function JB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function kd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(KA(o)&&KA(s)){if(!kd(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function KA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Nc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Rc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function XB(t,e){const n=new QB(t,e);return n.subscribe.bind(n)}class QB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ZB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=lv),i.error===void 0&&(i.error=lv),i.complete===void 0&&(i.complete=lv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){return t&&t._delegate?t._delegate:t}class sa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $B;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(n8(e))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Cs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Cs){return this.instances.has(e)}getOptions(e=Cs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:t8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Cs){return this.component?this.component.multipleInstances?e:Cs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function t8(t){return t===Cs?void 0:t}function n8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new e8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Be||(Be={}));const i8={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},o8=Be.INFO,s8={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},a8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=s8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class v1{constructor(e){this.name=e,this._logLevel=o8,this._logHandler=a8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?i8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const l8=(t,e)=>e.some(n=>t instanceof n);let YA,JA;function u8(){return YA||(YA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c8(){return JA||(JA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LD=new WeakMap,nb=new WeakMap,FD=new WeakMap,uv=new WeakMap,x1=new WeakMap;function d8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Yo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&LD.set(n,t)}).catch(()=>{}),x1.set(e,t),e}function f8(t){if(nb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});nb.set(t,e)}let rb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function h8(t){rb=t(rb)}function p8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cv(this),e,...n);return FD.set(r,e.sort?e.sort():[e]),Yo(r)}:c8().includes(t)?function(...e){return t.apply(cv(this),e),Yo(LD.get(this))}:function(...e){return Yo(t.apply(cv(this),e))}}function m8(t){return typeof t=="function"?p8(t):(t instanceof IDBTransaction&&f8(t),l8(t,u8())?new Proxy(t,rb):t)}function Yo(t){if(t instanceof IDBRequest)return d8(t);if(uv.has(t))return uv.get(t);const e=m8(t);return e!==t&&(uv.set(t,e),x1.set(e,t)),e}const cv=t=>x1.get(t);function g8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Yo(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Yo(s.result),l.oldVersion,l.newVersion,Yo(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const y8=["get","getKey","getAll","getAllKeys","count"],v8=["put","add","delete","clear"],dv=new Map;function XA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dv.get(e))return dv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=v8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||y8.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return dv.set(e,o),o}h8(t=>({...t,get:(e,n,r)=>XA(e,n)||t.get(e,n,r),has:(e,n)=>!!XA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(b8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function b8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ib="@firebase/app",QA="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji=new v1("@firebase/app"),w8="@firebase/app-compat",_8="@firebase/analytics-compat",E8="@firebase/analytics",S8="@firebase/app-check-compat",T8="@firebase/app-check",A8="@firebase/auth",I8="@firebase/auth-compat",k8="@firebase/database",C8="@firebase/data-connect",P8="@firebase/database-compat",N8="@firebase/functions",R8="@firebase/functions-compat",O8="@firebase/installations",M8="@firebase/installations-compat",D8="@firebase/messaging",j8="@firebase/messaging-compat",$8="@firebase/performance",L8="@firebase/performance-compat",F8="@firebase/remote-config",V8="@firebase/remote-config-compat",U8="@firebase/storage",B8="@firebase/storage-compat",z8="@firebase/firestore",G8="@firebase/vertexai-preview",q8="@firebase/firestore-compat",H8="firebase",W8="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="[DEFAULT]",K8={[ib]:"fire-core",[w8]:"fire-core-compat",[E8]:"fire-analytics",[_8]:"fire-analytics-compat",[T8]:"fire-app-check",[S8]:"fire-app-check-compat",[A8]:"fire-auth",[I8]:"fire-auth-compat",[k8]:"fire-rtdb",[C8]:"fire-data-connect",[P8]:"fire-rtdb-compat",[N8]:"fire-fn",[R8]:"fire-fn-compat",[O8]:"fire-iid",[M8]:"fire-iid-compat",[D8]:"fire-fcm",[j8]:"fire-fcm-compat",[$8]:"fire-perf",[L8]:"fire-perf-compat",[F8]:"fire-rc",[V8]:"fire-rc-compat",[U8]:"fire-gcs",[B8]:"fire-gcs-compat",[z8]:"fire-fst",[q8]:"fire-fst-compat",[G8]:"fire-vertex","fire-js":"fire-js",[H8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm=new Map,Y8=new Map,sb=new Map;function ZA(t,e){try{t.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ol(t){const e=t.name;if(sb.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;sb.set(e,t);for(const n of fm.values())ZA(n,t);for(const n of Y8.values())ZA(n,t);return!0}function b1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ur(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jo=new Pf("app","Firebase",J8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=W8;function VD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ob,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Jo.create("bad-app-name",{appName:String(i)});if(n||(n=jD()),!n)throw Jo.create("no-options");const o=fm.get(i);if(o){if(kd(n,o.options)&&kd(r,o.config))return o;throw Jo.create("duplicate-app",{appName:i})}const s=new r8(i);for(const l of sb.values())s.addComponent(l);const a=new X8(n,r,s);return fm.set(i,a),a}function Q8(t=ob){const e=fm.get(t);if(!e&&t===ob&&jD())return VD();if(!e)throw Jo.create("no-app",{appName:t});return e}function Xo(t,e,n){var r;let i=(r=K8[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(a.join(" "));return}Ol(new sa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8="firebase-heartbeat-database",e7=1,Cd="firebase-heartbeat-store";let fv=null;function UD(){return fv||(fv=g8(Z8,e7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jo.create("idb-open",{originalErrorMessage:t.message})})),fv}async function t7(t){try{const n=(await UD()).transaction(Cd),r=await n.objectStore(Cd).get(BD(t));return await n.done,r}catch(e){if(e instanceof ao)Ji.warn(e.message);else{const n=Jo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ji.warn(n.message)}}}async function eI(t,e){try{const r=(await UD()).transaction(Cd,"readwrite");await r.objectStore(Cd).put(e,BD(t)),await r.done}catch(n){if(n instanceof ao)Ji.warn(n.message);else{const r=Jo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ji.warn(r.message)}}}function BD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7=1024,r7=30*24*60*60*1e3;class i7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new s7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=tI();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=r7}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ji.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tI(),{heartbeatsToSend:r,unsentEntries:i}=o7(this._heartbeatsCache.heartbeats),o=MD(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ji.warn(n),""}}}function tI(){return new Date().toISOString().substring(0,10)}function o7(t,e=n7){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),nI(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class s7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qB()?HB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await t7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return eI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return eI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function nI(t){return MD(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a7(t){Ol(new sa("platform-logger",e=>new x8(e),"PRIVATE")),Ol(new sa("heartbeat",e=>new i7(e),"PRIVATE")),Xo(ib,QA,t),Xo(ib,QA,"esm2017"),Xo("fire-js","")}a7("");var l7="firebase",u7="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xo(l7,u7,"app");function w1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function zD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c7=zD,GD=new Pf("auth","Firebase",zD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=new v1("@firebase/auth");function d7(t,...e){hm.logLevel<=Be.WARN&&hm.warn(`Auth (${vu}): ${t}`,...e)}function Ep(t,...e){hm.logLevel<=Be.ERROR&&hm.error(`Auth (${vu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t,...e){throw E1(t,...e)}function Gr(t,...e){return E1(t,...e)}function _1(t,e,n){const r=Object.assign(Object.assign({},c7()),{[e]:n});return new Pf("auth","Firebase",r).create(e,{appName:t.name})}function Vi(t){return _1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function f7(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Sr(t,"argument-error"),_1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function E1(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GD.create(t,...e)}function Ie(t,e,...n){if(!t)throw E1(e,...n)}function Ri(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ep(e),new Error(e)}function Xi(t,e){t||Ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function h7(){return rI()==="http:"||rI()==="https:"}function rI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h7()||UB()||"connection"in navigator)?navigator.onLine:!0}function m7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xi(n>e,"Short delay should be less than long delay!"),this.isMobile=LB()||BB()}get(){return p7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t,e){Xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7=new Rf(3e4,6e4);function cs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ds(t,e,n,r,i={}){return HD(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Nf(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return VB()||(u.referrerPolicy="no-referrer"),qD.fetch()(WD(t,t.config.apiHost,n,a),u)})}async function HD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},g7),e);try{const i=new x7(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Lh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lh(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Lh(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Lh(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw _1(t,c,u);Sr(t,c)}}catch(i){if(i instanceof ao)throw i;Sr(t,"network-request-failed",{message:String(i)})}}async function Of(t,e,n,r,i={}){const o=await ds(t,e,n,r,i);return"mfaPendingCredential"in o&&Sr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function WD(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?S1(t.config,i):`${t.config.apiScheme}://${i}`}function v7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class x7{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gr(this.auth,"network-request-failed")),y7.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Lh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gr(t,e,r);return i.customData._tokenResponse=n,i}function iI(t){return t!==void 0&&t.enterprise!==void 0}class b7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return v7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function w7(t,e){return ds(t,"GET","/v2/recaptchaConfig",cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _7(t,e){return ds(t,"POST","/v1/accounts:delete",e)}async function KD(t,e){return ds(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function E7(t,e=!1){const n=kt(t),r=await n.getIdToken(e),i=T1(r);Ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Wc(hv(i.auth_time)),issuedAtTime:Wc(hv(i.iat)),expirationTime:Wc(hv(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function hv(t){return Number(t)*1e3}function T1(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ep("JWT malformed, contained fewer than 3 sections"),null;try{const i=DD(n);return i?JSON.parse(i):(Ep("Failed to decode base64 JWT payload"),null)}catch(i){return Ep("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function oI(t){const e=T1(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ao&&S7(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function S7({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wc(this.lastLoginAt),this.creationTime=Wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Pd(t,KD(n,{idToken:r}));Ie(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?YD(o.providerUserInfo):[],a=I7(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new lb(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function A7(t){const e=kt(t);await pm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function I7(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function YD(t){return t.map(e=>{var{providerId:n}=e,r=w1(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k7(t,e){const n=await HD(t,{},async()=>{const r=Nf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=WD(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",qD.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function C7(t,e){return ds(t,"POST","/v2/accounts:revokeToken",cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=oI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await k7(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new gl;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ie(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ie(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gl,this.toJSON())}_performRefresh(){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Oi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=w1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new T7(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new lb(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Pd(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return E7(this,e)}reload(){return A7(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Oi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ur(this.auth.app))return Promise.reject(Vi(this.auth));const e=await this.getIdToken();return await Pd(this,_7(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:C,isAnonymous:S,providerData:k,stsTokenManager:T}=n;Ie(_&&T,e,"internal-error");const I=gl.fromJSON(this.name,T);Ie(typeof _=="string",e,"internal-error"),_o(f,e.name),_o(h,e.name),Ie(typeof C=="boolean",e,"internal-error"),Ie(typeof S=="boolean",e,"internal-error"),_o(y,e.name),_o(v,e.name),_o(b,e.name),_o(x,e.name),_o(E,e.name),_o(w,e.name);const P=new Oi({uid:_,auth:e,email:h,emailVerified:C,displayName:f,isAnonymous:S,photoURL:v,phoneNumber:y,tenantId:b,stsTokenManager:I,createdAt:E,lastLoginAt:w});return k&&Array.isArray(k)&&(P.providerData=k.map(M=>Object.assign({},M))),x&&(P._redirectEventId=x),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new gl;i.updateFromServerResponse(n);const o=new Oi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await pm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ie(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?YD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new gl;a.updateFromIdToken(r);const l=new Oi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new lb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new Map;function Mi(t){Xi(t instanceof Function,"Expected a class definition");let e=sI.get(t);return e?(Xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JD.type="NONE";const aI=JD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(t,e,n){return`firebase:${t}:${e}:${n}`}class yl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Sp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Sp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Oi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new yl(Mi(aI),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Mi(aI);const s=Sp(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const f=Oi._fromJSON(e,c);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new yl(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new yl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ej(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nj(e))return"Blackberry";if(rj(e))return"Webos";if(QD(e))return"Safari";if((e.includes("chrome/")||ZD(e))&&!e.includes("edge/"))return"Chrome";if(tj(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function XD(t=wn()){return/firefox\//i.test(t)}function QD(t=wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZD(t=wn()){return/crios\//i.test(t)}function ej(t=wn()){return/iemobile/i.test(t)}function tj(t=wn()){return/android/i.test(t)}function nj(t=wn()){return/blackberry/i.test(t)}function rj(t=wn()){return/webos/i.test(t)}function A1(t=wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function P7(t=wn()){var e;return A1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function N7(){return zB()&&document.documentMode===10}function ij(t=wn()){return A1(t)||tj(t)||rj(t)||nj(t)||/windows phone/i.test(t)||ej(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(t,e=[]){let n;switch(t){case"Browser":n=lI(wn());break;case"Worker":n=`${lI(wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O7(t,e={}){return ds(t,"GET","/v2/passwordPolicy",cs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7=6;class D7{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:M7,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uI(this),this.idTokenSubscription=new uI(this),this.beforeStateQueue=new R7(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await yl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await KD(this,{idToken:e}),r=await Oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ur(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=m7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ur(this.app))return Promise.reject(Vi(this));const n=e?kt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ur(this.app)?Promise.reject(Vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ur(this.app)?Promise.reject(Vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await O7(this),n=new D7(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await C7(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Mi(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await yl.create(this,[Mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&d7(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function fs(t){return kt(t)}class uI{constructor(e){this.auth=e,this.observer=null,this.addObserver=XB(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $7(t){a0=t}function sj(t){return a0.loadJS(t)}function L7(){return a0.recaptchaEnterpriseScript}function F7(){return a0.gapiScript}function V7(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const U7="recaptcha-enterprise",B7="NO_RECAPTCHA";class z7{constructor(e){this.type=U7,this.auth=fs(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{w7(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new b7(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;iI(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(B7)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&iI(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=L7();l.length!==0&&(l+=a),sj(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function cI(t,e,n,r=!1){const i=new z7(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function ub(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await cI(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await cI(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G7(t,e){const n=b1(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(kd(o,e??{}))return i;Sr(i,"already-initialized")}return n.initialize({options:e})}function q7(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Mi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function H7(t,e,n){const r=fs(t);Ie(r._canInitEmulator,r,"emulator-config-failed"),Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=aj(e),{host:s,port:a}=W7(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),K7()}function aj(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function W7(t){const e=aj(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:dI(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:dI(s)}}}function dI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function K7(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ri("not implemented")}_getIdTokenResponse(e){return Ri("not implemented")}_linkToIdToken(e,n){return Ri("not implemented")}_getReauthenticationResolver(e){return Ri("not implemented")}}async function Y7(t,e){return ds(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J7(t,e){return Of(t,"POST","/v1/accounts:signInWithPassword",cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X7(t,e){return Of(t,"POST","/v1/accounts:signInWithEmailLink",cs(t,e))}async function Q7(t,e){return Of(t,"POST","/v1/accounts:signInWithEmailLink",cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd extends I1{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Nd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ub(e,n,"signInWithPassword",J7);case"emailLink":return X7(e,{email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ub(e,r,"signUpPassword",Y7);case"emailLink":return Q7(e,{idToken:n,email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(t,e){return Of(t,"POST","/v1/accounts:signInWithIdp",cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7="http://localhost";class aa extends I1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=w1(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new aa(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return vl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vl(e,n)}buildRequest(){const e={requestUri:Z7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function t9(t){const e=Nc(Rc(t)).link,n=e?Nc(Rc(e)).deep_link_id:null,r=Nc(Rc(t)).deep_link_id;return(r?Nc(Rc(r)).link:null)||r||n||e||t}class k1{constructor(e){var n,r,i,o,s,a;const l=Nc(Rc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=e9((i=l.mode)!==null&&i!==void 0?i:null);Ie(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=t9(e);try{return new k1(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(){this.providerId=xu.PROVIDER_ID}static credential(e,n){return Nd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=k1.parseLink(n);return Ie(r,"argument-error"),Nd._fromEmailAndCode(e,r.code,r.tenantId)}}xu.PROVIDER_ID="password";xu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends C1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po extends Mf{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:Po.PROVIDER_ID,signInMethod:Po.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Po.credentialFromTaggedObject(e)}static credentialFromError(e){return Po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Po.credential(e.oauthAccessToken)}catch{return null}}}Po.FACEBOOK_SIGN_IN_METHOD="facebook.com";Po.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Mf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return aa._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fr.credential(n,r)}catch{return null}}}Fr.GOOGLE_SIGN_IN_METHOD="google.com";Fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends Mf{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return No.credentialFromTaggedObject(e)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return No.credential(e.oauthAccessToken)}catch{return null}}}No.GITHUB_SIGN_IN_METHOD="github.com";No.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro extends Mf{constructor(){super("twitter.com")}static credential(e,n){return aa._fromParams({providerId:Ro.PROVIDER_ID,signInMethod:Ro.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ro.credentialFromTaggedObject(e)}static credentialFromError(e){return Ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ro.credential(n,r)}catch{return null}}}Ro.TWITTER_SIGN_IN_METHOD="twitter.com";Ro.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n9(t,e){return Of(t,"POST","/v1/accounts:signUp",cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Oi._fromIdTokenResponse(e,r,i),s=fI(r);return new la({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=fI(r);return new la({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function fI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm extends ao{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mm.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new mm(e,n,r,i)}}function lj(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?mm._fromErrorAndOperation(t,o,e,r):o})}async function r9(t,e,n=!1){const r=await Pd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return la._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i9(t,e,n=!1){const{auth:r}=t;if(Ur(r.app))return Promise.reject(Vi(r));const i="reauthenticate";try{const o=await Pd(t,lj(r,i,e,t),n);Ie(o.idToken,r,"internal-error");const s=T1(o.idToken);Ie(s,r,"internal-error");const{sub:a}=s;return Ie(t.uid===a,r,"user-mismatch"),la._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Sr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uj(t,e,n=!1){if(Ur(t.app))return Promise.reject(Vi(t));const r="signIn",i=await lj(t,r,e),o=await la._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function o9(t,e){return uj(fs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cj(t){const e=fs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function s9(t,e,n){if(Ur(t.app))return Promise.reject(Vi(t));const r=fs(t),s=await ub(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",n9).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&cj(t),l}),a=await la._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function a9(t,e,n){return Ur(t.app)?Promise.reject(Vi(t)):o9(kt(t),xu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&cj(t),r})}function l9(t,e,n,r){return kt(t).onIdTokenChanged(e,n,r)}function u9(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}function c9(t,e,n,r){return kt(t).onAuthStateChanged(e,n,r)}function d9(t){return kt(t).signOut()}const gm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gm,"1"),this.storage.removeItem(gm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9=1e3,h9=10;class fj extends dj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ij(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);N7()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,h9):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},f9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fj.type="LOCAL";const p9=fj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj extends dj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hj.type="SESSION";const pj=hj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new l0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await m9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}l0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=P1("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(){return window}function y9(t){ai().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(){return typeof ai().WorkerGlobalScope<"u"&&typeof ai().importScripts=="function"}async function v9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function x9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function b9(){return mj()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj="firebaseLocalStorageDb",w9=1,ym="firebaseLocalStorage",yj="fbase_key";class Df{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function u0(t,e){return t.transaction([ym],e?"readwrite":"readonly").objectStore(ym)}function _9(){const t=indexedDB.deleteDatabase(gj);return new Df(t).toPromise()}function cb(){const t=indexedDB.open(gj,w9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ym,{keyPath:yj})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ym)?e(r):(r.close(),await _9(),e(await cb()))})})}async function hI(t,e,n){const r=u0(t,!0).put({[yj]:e,value:n});return new Df(r).toPromise()}async function E9(t,e){const n=u0(t,!1).get(e),r=await new Df(n).toPromise();return r===void 0?null:r.value}function pI(t,e){const n=u0(t,!0).delete(e);return new Df(n).toPromise()}const S9=800,T9=3;class vj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>T9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=l0._getInstance(b9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await v9(),!this.activeServiceWorker)return;this.sender=new g9(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||x9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cb();return await hI(e,gm,"1"),await pI(e,gm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>E9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=u0(i,!1).getAll();return new Df(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),S9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vj.type="LOCAL";const A9=vj;new Rf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(t,e){return e?Mi(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1 extends I1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function I9(t){return uj(t.auth,new N1(t),t.bypassAuthState)}function k9(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),i9(n,new N1(t),t.bypassAuthState)}async function C9(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),r9(n,new N1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return I9;case"linkViaPopup":case"linkViaRedirect":return C9;case"reauthViaPopup":case"reauthViaRedirect":return k9;default:Sr(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=new Rf(2e3,1e4);async function wj(t,e,n){if(Ur(t.app))return Promise.reject(Gr(t,"operation-not-supported-in-this-environment"));const r=fs(t);f7(t,e,C1);const i=xj(r,n);return new Fs(r,"signInViaPopup",e,i).executeNotNull()}class Fs extends bj{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Fs.currentPopupAction&&Fs.currentPopupAction.cancel(),Fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const e=P1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,P9.get())};e()}}Fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9="pendingRedirect",Tp=new Map;class R9 extends bj{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Tp.get(this.auth._key());if(!e){try{const r=await O9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Tp.set(this.auth._key(),e)}return this.bypassAuthState||Tp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function O9(t,e){const n=j9(e),r=D9(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function M9(t,e){Tp.set(t._key(),e)}function D9(t){return Mi(t._redirectPersistence)}function j9(t){return Sp(N9,t.config.apiKey,t.name)}async function $9(t,e,n=!1){if(Ur(t.app))return Promise.reject(Vi(t));const r=fs(t),i=xj(r,e),s=await new R9(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9=10*60*1e3;class F9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!V9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_j(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=L9&&this.cachedEventUids.clear(),this.cachedEventUids.has(mI(e))}saveEventToCache(e){this.cachedEventUids.add(mI(e)),this.lastProcessedEventTime=Date.now()}}function mI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _j({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function V9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _j(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U9(t,e={}){return ds(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z9=/^https?/;async function G9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await U9(t);for(const n of e)try{if(q9(n))return}catch{}Sr(t,"unauthorized-domain")}function q9(t){const e=ab(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!z9.test(n))return!1;if(B9.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=new Rf(3e4,6e4);function gI(){const t=ai().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function W9(t){return new Promise((e,n)=>{var r,i,o;function s(){gI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gI(),n(Gr(t,"network-request-failed"))},timeout:H9.get()})}if(!((i=(r=ai().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ai().gapi)===null||o===void 0)&&o.load)s();else{const a=V7("iframefcb");return ai()[a]=()=>{gapi.load?s():n(Gr(t,"network-request-failed"))},sj(`${F7()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ap=null,e})}let Ap=null;function K9(t){return Ap=Ap||W9(t),Ap}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=new Rf(5e3,15e3),J9="__/auth/iframe",X9="emulator/auth/iframe",Q9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Z9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ez(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?S1(e,X9):`https://${t.config.authDomain}/${J9}`,r={apiKey:e.apiKey,appName:t.name,v:vu},i=Z9.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Nf(r).slice(1)}`}async function tz(t){const e=await K9(t),n=ai().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:ez(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Q9,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Gr(t,"network-request-failed"),a=ai().setTimeout(()=>{o(s)},Y9.get());function l(){ai().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rz=500,iz=600,oz="_blank",sz="http://localhost";class yI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function az(t,e,n,r=rz,i=iz){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},nz),{width:r.toString(),height:i.toString(),top:o,left:s}),u=wn().toLowerCase();n&&(a=ZD(u)?oz:n),XD(u)&&(e=e||sz,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[y,v])=>`${h}${y}=${v},`,"");if(P7(u)&&a!=="_self")return lz(e||"",a),new yI(null);const f=window.open(e||"",a,c);Ie(f,t,"popup-blocked");try{f.focus()}catch{}return new yI(f)}function lz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz="__/auth/handler",cz="emulator/auth/handler",dz=encodeURIComponent("fac");async function vI(t,e,n,r,i,o){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:vu,eventId:i};if(e instanceof C1){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",JB(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(e instanceof Mf){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${dz}=${encodeURIComponent(l)}`:"";return`${fz(t)}?${Nf(a).slice(1)}${u}`}function fz({config:t}){return t.emulator?S1(t,cz):`https://${t.authDomain}/${uz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="webStorageSupport";class hz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pj,this._completeRedirectFn=$9,this._overrideRedirectResult=M9}async _openPopup(e,n,r,i){var o;Xi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await vI(e,n,r,ab(),i);return az(e,s,P1())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await vI(e,n,r,ab(),i);return y9(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Xi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await tz(e),r=new F9(e);return n.register("authEvent",i=>(Ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pv,{type:pv},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[pv];s!==void 0&&n(!!s),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=G9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ij()||QD()||A1()}}const pz=hz;var xI="@firebase/auth",bI="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yz(t){Ol(new sa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ie(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oj(t)},u=new j7(r,i,o,l);return q7(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ol(new sa("auth-internal",e=>{const n=fs(e.getProvider("auth").getImmediate());return(r=>new mz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xo(xI,bI,gz(t)),Xo(xI,bI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz=5*60,xz=$D("authIdTokenMaxAge")||vz;let wI=null;const bz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>xz)return;const i=n==null?void 0:n.token;wI!==i&&(wI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function wz(t=Q8()){const e=b1(t,"auth");if(e.isInitialized())return e.getImmediate();const n=G7(t,{popupRedirectResolver:pz,persistence:[A9,p9,pj]}),r=$D("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=bz(o.toString());u9(n,s,()=>s(n.currentUser)),l9(n,a=>s(a))}}const i=jB("auth");return i&&H7(n,`http://${i}`),n}function _z(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}$7({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Gr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",_z().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yz("Browser");var _I=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ys,Ej;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,I){function P(){}P.prototype=I.prototype,T.D=I.prototype,T.prototype=new P,T.prototype.constructor=T,T.C=function(M,j,D){for(var N=Array(arguments.length-2),V=2;V<arguments.length;V++)N[V-2]=arguments[V];return I.prototype[j].apply(M,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,I,P){P||(P=0);var M=Array(16);if(typeof I=="string")for(var j=0;16>j;++j)M[j]=I.charCodeAt(P++)|I.charCodeAt(P++)<<8|I.charCodeAt(P++)<<16|I.charCodeAt(P++)<<24;else for(j=0;16>j;++j)M[j]=I[P++]|I[P++]<<8|I[P++]<<16|I[P++]<<24;I=T.g[0],P=T.g[1],j=T.g[2];var D=T.g[3],N=I+(D^P&(j^D))+M[0]+3614090360&4294967295;I=P+(N<<7&4294967295|N>>>25),N=D+(j^I&(P^j))+M[1]+3905402710&4294967295,D=I+(N<<12&4294967295|N>>>20),N=j+(P^D&(I^P))+M[2]+606105819&4294967295,j=D+(N<<17&4294967295|N>>>15),N=P+(I^j&(D^I))+M[3]+3250441966&4294967295,P=j+(N<<22&4294967295|N>>>10),N=I+(D^P&(j^D))+M[4]+4118548399&4294967295,I=P+(N<<7&4294967295|N>>>25),N=D+(j^I&(P^j))+M[5]+1200080426&4294967295,D=I+(N<<12&4294967295|N>>>20),N=j+(P^D&(I^P))+M[6]+2821735955&4294967295,j=D+(N<<17&4294967295|N>>>15),N=P+(I^j&(D^I))+M[7]+4249261313&4294967295,P=j+(N<<22&4294967295|N>>>10),N=I+(D^P&(j^D))+M[8]+1770035416&4294967295,I=P+(N<<7&4294967295|N>>>25),N=D+(j^I&(P^j))+M[9]+2336552879&4294967295,D=I+(N<<12&4294967295|N>>>20),N=j+(P^D&(I^P))+M[10]+4294925233&4294967295,j=D+(N<<17&4294967295|N>>>15),N=P+(I^j&(D^I))+M[11]+2304563134&4294967295,P=j+(N<<22&4294967295|N>>>10),N=I+(D^P&(j^D))+M[12]+1804603682&4294967295,I=P+(N<<7&4294967295|N>>>25),N=D+(j^I&(P^j))+M[13]+4254626195&4294967295,D=I+(N<<12&4294967295|N>>>20),N=j+(P^D&(I^P))+M[14]+2792965006&4294967295,j=D+(N<<17&4294967295|N>>>15),N=P+(I^j&(D^I))+M[15]+1236535329&4294967295,P=j+(N<<22&4294967295|N>>>10),N=I+(j^D&(P^j))+M[1]+4129170786&4294967295,I=P+(N<<5&4294967295|N>>>27),N=D+(P^j&(I^P))+M[6]+3225465664&4294967295,D=I+(N<<9&4294967295|N>>>23),N=j+(I^P&(D^I))+M[11]+643717713&4294967295,j=D+(N<<14&4294967295|N>>>18),N=P+(D^I&(j^D))+M[0]+3921069994&4294967295,P=j+(N<<20&4294967295|N>>>12),N=I+(j^D&(P^j))+M[5]+3593408605&4294967295,I=P+(N<<5&4294967295|N>>>27),N=D+(P^j&(I^P))+M[10]+38016083&4294967295,D=I+(N<<9&4294967295|N>>>23),N=j+(I^P&(D^I))+M[15]+3634488961&4294967295,j=D+(N<<14&4294967295|N>>>18),N=P+(D^I&(j^D))+M[4]+3889429448&4294967295,P=j+(N<<20&4294967295|N>>>12),N=I+(j^D&(P^j))+M[9]+568446438&4294967295,I=P+(N<<5&4294967295|N>>>27),N=D+(P^j&(I^P))+M[14]+3275163606&4294967295,D=I+(N<<9&4294967295|N>>>23),N=j+(I^P&(D^I))+M[3]+4107603335&4294967295,j=D+(N<<14&4294967295|N>>>18),N=P+(D^I&(j^D))+M[8]+1163531501&4294967295,P=j+(N<<20&4294967295|N>>>12),N=I+(j^D&(P^j))+M[13]+2850285829&4294967295,I=P+(N<<5&4294967295|N>>>27),N=D+(P^j&(I^P))+M[2]+4243563512&4294967295,D=I+(N<<9&4294967295|N>>>23),N=j+(I^P&(D^I))+M[7]+1735328473&4294967295,j=D+(N<<14&4294967295|N>>>18),N=P+(D^I&(j^D))+M[12]+2368359562&4294967295,P=j+(N<<20&4294967295|N>>>12),N=I+(P^j^D)+M[5]+4294588738&4294967295,I=P+(N<<4&4294967295|N>>>28),N=D+(I^P^j)+M[8]+2272392833&4294967295,D=I+(N<<11&4294967295|N>>>21),N=j+(D^I^P)+M[11]+1839030562&4294967295,j=D+(N<<16&4294967295|N>>>16),N=P+(j^D^I)+M[14]+4259657740&4294967295,P=j+(N<<23&4294967295|N>>>9),N=I+(P^j^D)+M[1]+2763975236&4294967295,I=P+(N<<4&4294967295|N>>>28),N=D+(I^P^j)+M[4]+1272893353&4294967295,D=I+(N<<11&4294967295|N>>>21),N=j+(D^I^P)+M[7]+4139469664&4294967295,j=D+(N<<16&4294967295|N>>>16),N=P+(j^D^I)+M[10]+3200236656&4294967295,P=j+(N<<23&4294967295|N>>>9),N=I+(P^j^D)+M[13]+681279174&4294967295,I=P+(N<<4&4294967295|N>>>28),N=D+(I^P^j)+M[0]+3936430074&4294967295,D=I+(N<<11&4294967295|N>>>21),N=j+(D^I^P)+M[3]+3572445317&4294967295,j=D+(N<<16&4294967295|N>>>16),N=P+(j^D^I)+M[6]+76029189&4294967295,P=j+(N<<23&4294967295|N>>>9),N=I+(P^j^D)+M[9]+3654602809&4294967295,I=P+(N<<4&4294967295|N>>>28),N=D+(I^P^j)+M[12]+3873151461&4294967295,D=I+(N<<11&4294967295|N>>>21),N=j+(D^I^P)+M[15]+530742520&4294967295,j=D+(N<<16&4294967295|N>>>16),N=P+(j^D^I)+M[2]+3299628645&4294967295,P=j+(N<<23&4294967295|N>>>9),N=I+(j^(P|~D))+M[0]+4096336452&4294967295,I=P+(N<<6&4294967295|N>>>26),N=D+(P^(I|~j))+M[7]+1126891415&4294967295,D=I+(N<<10&4294967295|N>>>22),N=j+(I^(D|~P))+M[14]+2878612391&4294967295,j=D+(N<<15&4294967295|N>>>17),N=P+(D^(j|~I))+M[5]+4237533241&4294967295,P=j+(N<<21&4294967295|N>>>11),N=I+(j^(P|~D))+M[12]+1700485571&4294967295,I=P+(N<<6&4294967295|N>>>26),N=D+(P^(I|~j))+M[3]+2399980690&4294967295,D=I+(N<<10&4294967295|N>>>22),N=j+(I^(D|~P))+M[10]+4293915773&4294967295,j=D+(N<<15&4294967295|N>>>17),N=P+(D^(j|~I))+M[1]+2240044497&4294967295,P=j+(N<<21&4294967295|N>>>11),N=I+(j^(P|~D))+M[8]+1873313359&4294967295,I=P+(N<<6&4294967295|N>>>26),N=D+(P^(I|~j))+M[15]+4264355552&4294967295,D=I+(N<<10&4294967295|N>>>22),N=j+(I^(D|~P))+M[6]+2734768916&4294967295,j=D+(N<<15&4294967295|N>>>17),N=P+(D^(j|~I))+M[13]+1309151649&4294967295,P=j+(N<<21&4294967295|N>>>11),N=I+(j^(P|~D))+M[4]+4149444226&4294967295,I=P+(N<<6&4294967295|N>>>26),N=D+(P^(I|~j))+M[11]+3174756917&4294967295,D=I+(N<<10&4294967295|N>>>22),N=j+(I^(D|~P))+M[2]+718787259&4294967295,j=D+(N<<15&4294967295|N>>>17),N=P+(D^(j|~I))+M[9]+3951481745&4294967295,T.g[0]=T.g[0]+I&4294967295,T.g[1]=T.g[1]+(j+(N<<21&4294967295|N>>>11))&4294967295,T.g[2]=T.g[2]+j&4294967295,T.g[3]=T.g[3]+D&4294967295}r.prototype.u=function(T,I){I===void 0&&(I=T.length);for(var P=I-this.blockSize,M=this.B,j=this.h,D=0;D<I;){if(j==0)for(;D<=P;)i(this,T,D),D+=this.blockSize;if(typeof T=="string"){for(;D<I;)if(M[j++]=T.charCodeAt(D++),j==this.blockSize){i(this,M),j=0;break}}else for(;D<I;)if(M[j++]=T[D++],j==this.blockSize){i(this,M),j=0;break}}this.h=j,this.o+=I},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var I=1;I<T.length-8;++I)T[I]=0;var P=8*this.o;for(I=T.length-8;I<T.length;++I)T[I]=P&255,P/=256;for(this.u(T),T=Array(16),I=P=0;4>I;++I)for(var M=0;32>M;M+=8)T[P++]=this.g[I]>>>M&255;return T};function o(T,I){var P=a;return Object.prototype.hasOwnProperty.call(P,T)?P[T]:P[T]=I(T)}function s(T,I){this.h=I;for(var P=[],M=!0,j=T.length-1;0<=j;j--){var D=T[j]|0;M&&D==I||(P[j]=D,M=!1)}this.g=P}var a={};function l(T){return-128<=T&&128>T?o(T,function(I){return new s([I|0],0>I?-1:0)}):new s([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return x(u(-T));for(var I=[],P=1,M=0;T>=P;M++)I[M]=T/P|0,P*=4294967296;return new s(I,0)}function c(T,I){if(T.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T.charAt(0)=="-")return x(c(T.substring(1),I));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(I,8)),M=f,j=0;j<T.length;j+=8){var D=Math.min(8,T.length-j),N=parseInt(T.substring(j,j+D),I);8>D?(D=u(Math.pow(I,D)),M=M.j(D).add(u(N))):(M=M.j(P),M=M.add(u(N)))}return M}var f=l(0),h=l(1),y=l(16777216);t=s.prototype,t.m=function(){if(b(this))return-x(this).m();for(var T=0,I=1,P=0;P<this.g.length;P++){var M=this.i(P);T+=(0<=M?M:4294967296+M)*I,I*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(v(this))return"0";if(b(this))return"-"+x(this).toString(T);for(var I=u(Math.pow(T,6)),P=this,M="";;){var j=C(P,I).g;P=E(P,j.j(I));var D=((0<P.g.length?P.g[0]:P.h)>>>0).toString(T);if(P=j,v(P))return D+M;for(;6>D.length;)D="0"+D;M=D+M}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function v(T){if(T.h!=0)return!1;for(var I=0;I<T.g.length;I++)if(T.g[I]!=0)return!1;return!0}function b(T){return T.h==-1}t.l=function(T){return T=E(this,T),b(T)?-1:v(T)?0:1};function x(T){for(var I=T.g.length,P=[],M=0;M<I;M++)P[M]=~T.g[M];return new s(P,~T.h).add(h)}t.abs=function(){return b(this)?x(this):this},t.add=function(T){for(var I=Math.max(this.g.length,T.g.length),P=[],M=0,j=0;j<=I;j++){var D=M+(this.i(j)&65535)+(T.i(j)&65535),N=(D>>>16)+(this.i(j)>>>16)+(T.i(j)>>>16);M=N>>>16,D&=65535,N&=65535,P[j]=N<<16|D}return new s(P,P[P.length-1]&-2147483648?-1:0)};function E(T,I){return T.add(x(I))}t.j=function(T){if(v(this)||v(T))return f;if(b(this))return b(T)?x(this).j(x(T)):x(x(this).j(T));if(b(T))return x(this.j(x(T)));if(0>this.l(y)&&0>T.l(y))return u(this.m()*T.m());for(var I=this.g.length+T.g.length,P=[],M=0;M<2*I;M++)P[M]=0;for(M=0;M<this.g.length;M++)for(var j=0;j<T.g.length;j++){var D=this.i(M)>>>16,N=this.i(M)&65535,V=T.i(j)>>>16,z=T.i(j)&65535;P[2*M+2*j]+=N*z,w(P,2*M+2*j),P[2*M+2*j+1]+=D*z,w(P,2*M+2*j+1),P[2*M+2*j+1]+=N*V,w(P,2*M+2*j+1),P[2*M+2*j+2]+=D*V,w(P,2*M+2*j+2)}for(M=0;M<I;M++)P[M]=P[2*M+1]<<16|P[2*M];for(M=I;M<2*I;M++)P[M]=0;return new s(P,0)};function w(T,I){for(;(T[I]&65535)!=T[I];)T[I+1]+=T[I]>>>16,T[I]&=65535,I++}function _(T,I){this.g=T,this.h=I}function C(T,I){if(v(I))throw Error("division by zero");if(v(T))return new _(f,f);if(b(T))return I=C(x(T),I),new _(x(I.g),x(I.h));if(b(I))return I=C(T,x(I)),new _(x(I.g),I.h);if(30<T.g.length){if(b(T)||b(I))throw Error("slowDivide_ only works with positive integers.");for(var P=h,M=I;0>=M.l(T);)P=S(P),M=S(M);var j=k(P,1),D=k(M,1);for(M=k(M,2),P=k(P,2);!v(M);){var N=D.add(M);0>=N.l(T)&&(j=j.add(P),D=N),M=k(M,1),P=k(P,1)}return I=E(T,j.j(I)),new _(j,I)}for(j=f;0<=T.l(I);){for(P=Math.max(1,Math.floor(T.m()/I.m())),M=Math.ceil(Math.log(P)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),D=u(P),N=D.j(I);b(N)||0<N.l(T);)P-=M,D=u(P),N=D.j(I);v(D)&&(D=h),j=j.add(D),T=E(T,N)}return new _(j,T)}t.A=function(T){return C(this,T).h},t.and=function(T){for(var I=Math.max(this.g.length,T.g.length),P=[],M=0;M<I;M++)P[M]=this.i(M)&T.i(M);return new s(P,this.h&T.h)},t.or=function(T){for(var I=Math.max(this.g.length,T.g.length),P=[],M=0;M<I;M++)P[M]=this.i(M)|T.i(M);return new s(P,this.h|T.h)},t.xor=function(T){for(var I=Math.max(this.g.length,T.g.length),P=[],M=0;M<I;M++)P[M]=this.i(M)^T.i(M);return new s(P,this.h^T.h)};function S(T){for(var I=T.g.length+1,P=[],M=0;M<I;M++)P[M]=T.i(M)<<1|T.i(M-1)>>>31;return new s(P,T.h)}function k(T,I){var P=I>>5;I%=32;for(var M=T.g.length-P,j=[],D=0;D<M;D++)j[D]=0<I?T.i(D+P)>>>I|T.i(D+P+1)<<32-I:T.i(D+P);return new s(j,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ej=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,Ys=s}).apply(typeof _I<"u"?_I:typeof self<"u"?self:typeof window<"u"?window:{});var Fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sj,Oc,Tj,Ip,db,Aj,Ij,kj;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,A,O){return m==Array.prototype||m==Object.prototype||(m[A]=O.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fh=="object"&&Fh];for(var A=0;A<m.length;++A){var O=m[A];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var r=n(this);function i(m,A){if(A)e:{var O=r;m=m.split(".");for(var L=0;L<m.length-1;L++){var Y=m[L];if(!(Y in O))break e;O=O[Y]}m=m[m.length-1],L=O[m],A=A(L),A!=L&&A!=null&&e(O,m,{configurable:!0,writable:!0,value:A})}}function o(m,A){m instanceof String&&(m+="");var O=0,L=!1,Y={next:function(){if(!L&&O<m.length){var Q=O++;return{value:A(Q,m[Q]),done:!1}}return L=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(m){return m||function(){return o(this,function(A,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(m){var A=typeof m;return A=A!="object"?A:m?Array.isArray(m)?"array":A:"null",A=="array"||A=="object"&&typeof m.length=="number"}function u(m){var A=typeof m;return A=="object"&&m!=null||A=="function"}function c(m,A,O){return m.call.apply(m.bind,arguments)}function f(m,A,O){if(!m)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,L),m.apply(A,Y)}}return function(){return m.apply(A,arguments)}}function h(m,A,O){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,h.apply(null,arguments)}function y(m,A){var O=Array.prototype.slice.call(arguments,1);return function(){var L=O.slice();return L.push.apply(L,arguments),m.apply(this,L)}}function v(m,A){function O(){}O.prototype=A.prototype,m.aa=A.prototype,m.prototype=new O,m.prototype.constructor=m,m.Qb=function(L,Y,Q){for(var fe=Array(arguments.length-2),st=2;st<arguments.length;st++)fe[st-2]=arguments[st];return A.prototype[Y].apply(L,fe)}}function b(m){const A=m.length;if(0<A){const O=Array(A);for(let L=0;L<A;L++)O[L]=m[L];return O}return[]}function x(m,A){for(let O=1;O<arguments.length;O++){const L=arguments[O];if(l(L)){const Y=m.length||0,Q=L.length||0;m.length=Y+Q;for(let fe=0;fe<Q;fe++)m[Y+fe]=L[fe]}else m.push(L)}}class E{constructor(A,O){this.i=A,this.j=O,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function w(m){return/^[\s\xa0]*$/.test(m)}function _(){var m=a.navigator;return m&&(m=m.userAgent)?m:""}function C(m){return C[" "](m),m}C[" "]=function(){};var S=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function k(m,A,O){for(const L in m)A.call(O,m[L],L,m)}function T(m,A){for(const O in m)A.call(void 0,m[O],O,m)}function I(m){const A={};for(const O in m)A[O]=m[O];return A}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(m,A){let O,L;for(let Y=1;Y<arguments.length;Y++){L=arguments[Y];for(O in L)m[O]=L[O];for(let Q=0;Q<P.length;Q++)O=P[Q],Object.prototype.hasOwnProperty.call(L,O)&&(m[O]=L[O])}}function j(m){var A=1;m=m.split(":");const O=[];for(;0<A&&m.length;)O.push(m.shift()),A--;return m.length&&O.push(m.join(":")),O}function D(m){a.setTimeout(()=>{throw m},0)}function N(){var m=$;let A=null;return m.g&&(A=m.g,m.g=m.g.next,m.g||(m.h=null),A.next=null),A}class V{constructor(){this.h=this.g=null}add(A,O){const L=z.get();L.set(A,O),this.h?this.h.next=L:this.g=L,this.h=L}}var z=new E(()=>new F,m=>m.reset());class F{constructor(){this.next=this.g=this.h=null}set(A,O){this.h=A,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let H,R=!1,$=new V,G=()=>{const m=a.Promise.resolve(void 0);H=()=>{m.then(K)}};var K=()=>{for(var m;m=N();){try{m.h.call(m.g)}catch(O){D(O)}var A=z;A.j(m),100>A.h&&(A.h++,m.next=A.g,A.g=m)}R=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(m,A){this.type=m,this.g=this.target=A,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var m=!1,A=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const O=()=>{};a.addEventListener("test",O,A),a.removeEventListener("test",O,A)}catch{}return m}();function W(m,A){if(X.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var O=this.type=m.type,L=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=A,A=m.relatedTarget){if(S){e:{try{C(A.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(A=null)}}else O=="mouseover"?A=m.fromElement:O=="mouseout"&&(A=m.toElement);this.relatedTarget=A,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Z[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&W.aa.h.call(this)}}v(W,X);var Z={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var J="closure_listenable_"+(1e6*Math.random()|0),ve=0;function se(m,A,O,L,Y){this.listener=m,this.proxy=null,this.src=A,this.type=O,this.capture=!!L,this.ha=Y,this.key=++ve,this.da=this.fa=!1}function be(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function de(m){this.src=m,this.g={},this.h=0}de.prototype.add=function(m,A,O,L,Y){var Q=m.toString();m=this.g[Q],m||(m=this.g[Q]=[],this.h++);var fe=De(m,A,L,Y);return-1<fe?(A=m[fe],O||(A.fa=!1)):(A=new se(A,this.src,Q,!!L,Y),A.fa=O,m.push(A)),A};function ne(m,A){var O=A.type;if(O in m.g){var L=m.g[O],Y=Array.prototype.indexOf.call(L,A,void 0),Q;(Q=0<=Y)&&Array.prototype.splice.call(L,Y,1),Q&&(be(A),m.g[O].length==0&&(delete m.g[O],m.h--))}}function De(m,A,O,L){for(var Y=0;Y<m.length;++Y){var Q=m[Y];if(!Q.da&&Q.listener==A&&Q.capture==!!O&&Q.ha==L)return Y}return-1}var Ce="closure_lm_"+(1e6*Math.random()|0),nt={};function rt(m,A,O,L,Y){if(Array.isArray(A)){for(var Q=0;Q<A.length;Q++)rt(m,A[Q],O,L,Y);return null}return O=ee(O),m&&m[J]?m.K(A,O,u(L)?!!L.capture:!1,Y):it(m,A,O,!1,L,Y)}function it(m,A,O,L,Y,Q){if(!A)throw Error("Invalid event type");var fe=u(Y)?!!Y.capture:!!Y,st=bi(m);if(st||(m[Ce]=st=new de(m)),O=st.add(A,O,L,fe,Q),O.proxy)return O;if(L=lr(),O.proxy=L,L.src=m,L.listener=O,m.addEventListener)le||(Y=fe),Y===void 0&&(Y=!1),m.addEventListener(A.toString(),L,Y);else if(m.attachEvent)m.attachEvent(_n(A.toString()),L);else if(m.addListener&&m.removeListener)m.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return O}function lr(){function m(O){return A.call(m.src,m.listener,O)}const A=En;return m}function Pr(m,A,O,L,Y){if(Array.isArray(A))for(var Q=0;Q<A.length;Q++)Pr(m,A[Q],O,L,Y);else L=u(L)?!!L.capture:!!L,O=ee(O),m&&m[J]?(m=m.i,A=String(A).toString(),A in m.g&&(Q=m.g[A],O=De(Q,O,L,Y),-1<O&&(be(Q[O]),Array.prototype.splice.call(Q,O,1),Q.length==0&&(delete m.g[A],m.h--)))):m&&(m=bi(m))&&(A=m.g[A.toString()],m=-1,A&&(m=De(A,O,L,Y)),(O=-1<m?A[m]:null)&&Zr(O))}function Zr(m){if(typeof m!="number"&&m&&!m.da){var A=m.src;if(A&&A[J])ne(A.i,m);else{var O=m.type,L=m.proxy;A.removeEventListener?A.removeEventListener(O,L,m.capture):A.detachEvent?A.detachEvent(_n(O),L):A.addListener&&A.removeListener&&A.removeListener(L),(O=bi(A))?(ne(O,m),O.h==0&&(O.src=null,A[Ce]=null)):be(m)}}}function _n(m){return m in nt?nt[m]:nt[m]="on"+m}function En(m,A){if(m.da)m=!0;else{A=new W(A,this);var O=m.listener,L=m.ha||m.src;m.fa&&Zr(m),m=O.call(L,A)}return m}function bi(m){return m=m[Ce],m instanceof de?m:null}var yo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ee(m){return typeof m=="function"?m:(m[yo]||(m[yo]=function(A){return m.handleEvent(A)}),m[yo])}function ae(){q.call(this),this.i=new de(this),this.M=this,this.F=null}v(ae,q),ae.prototype[J]=!0,ae.prototype.removeEventListener=function(m,A,O,L){Pr(this,m,A,O,L)};function Pe(m,A){var O,L=m.F;if(L)for(O=[];L;L=L.F)O.push(L);if(m=m.M,L=A.type||A,typeof A=="string")A=new X(A,m);else if(A instanceof X)A.target=A.target||m;else{var Y=A;A=new X(L,m),M(A,Y)}if(Y=!0,O)for(var Q=O.length-1;0<=Q;Q--){var fe=A.g=O[Q];Y=je(fe,L,!0,A)&&Y}if(fe=A.g=m,Y=je(fe,L,!0,A)&&Y,Y=je(fe,L,!1,A)&&Y,O)for(Q=0;Q<O.length;Q++)fe=A.g=O[Q],Y=je(fe,L,!1,A)&&Y}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var m=this.i,A;for(A in m.g){for(var O=m.g[A],L=0;L<O.length;L++)be(O[L]);delete m.g[A],m.h--}}this.F=null},ae.prototype.K=function(m,A,O,L){return this.i.add(String(m),A,!1,O,L)},ae.prototype.L=function(m,A,O,L){return this.i.add(String(m),A,!0,O,L)};function je(m,A,O,L){if(A=m.i.g[String(A)],!A)return!0;A=A.concat();for(var Y=!0,Q=0;Q<A.length;++Q){var fe=A[Q];if(fe&&!fe.da&&fe.capture==O){var st=fe.listener,Zt=fe.ha||fe.src;fe.fa&&ne(m.i,fe),Y=st.call(Zt,L)!==!1&&Y}}return Y&&!L.defaultPrevented}function He(m,A,O){if(typeof m=="function")O&&(m=h(m,O));else if(m&&typeof m.handleEvent=="function")m=h(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:a.setTimeout(m,A||0)}function Le(m){m.g=He(()=>{m.g=null,m.i&&(m.i=!1,Le(m))},m.l);const A=m.h;m.h=null,m.m.apply(null,A)}class Sn extends q{constructor(A,O){super(),this.m=A,this.l=O,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Le(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tn(m){q.call(this),this.h=m,this.g={}}v(Tn,q);var Qt=[];function ur(m){k(m.g,function(A,O){this.g.hasOwnProperty(O)&&Zr(A)},m),m.g={}}Tn.prototype.N=function(){Tn.aa.N.call(this),ur(this)},Tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wi=a.JSON.stringify,yy=a.JSON.parse,VS=class{stringify(m){return a.JSON.stringify(m,void 0)}parse(m){return a.JSON.parse(m,void 0)}};function vy(){}vy.prototype.h=null;function US(m){return m.h||(m.h=m.i())}function BS(){}var Wu={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xy(){X.call(this,"d")}v(xy,X);function by(){X.call(this,"c")}v(by,X);var bs={},zS=null;function ih(){return zS=zS||new ae}bs.La="serverreachability";function GS(m){X.call(this,bs.La,m)}v(GS,X);function Ku(m){const A=ih();Pe(A,new GS(A))}bs.STAT_EVENT="statevent";function qS(m,A){X.call(this,bs.STAT_EVENT,m),this.stat=A}v(qS,X);function An(m){const A=ih();Pe(A,new qS(A,m))}bs.Ma="timingevent";function HS(m,A){X.call(this,bs.Ma,m),this.size=A}v(HS,X);function Yu(m,A){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){m()},A)}function Ju(){this.g=!0}Ju.prototype.xa=function(){this.g=!1};function $F(m,A,O,L,Y,Q){m.info(function(){if(m.g)if(Q)for(var fe="",st=Q.split("&"),Zt=0;Zt<st.length;Zt++){var We=st[Zt].split("=");if(1<We.length){var cn=We[0];We=We[1];var dn=cn.split("_");fe=2<=dn.length&&dn[1]=="type"?fe+(cn+"="+We+"&"):fe+(cn+"=redacted&")}}else fe=null;else fe=Q;return"XMLHTTP REQ ("+L+") [attempt "+Y+"]: "+A+`
`+O+`
`+fe})}function LF(m,A,O,L,Y,Q,fe){m.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+Y+"]: "+A+`
`+O+`
`+Q+" "+fe})}function Na(m,A,O,L){m.info(function(){return"XMLHTTP TEXT ("+A+"): "+VF(m,O)+(L?" "+L:"")})}function FF(m,A){m.info(function(){return"TIMEOUT: "+A})}Ju.prototype.info=function(){};function VF(m,A){if(!m.g)return A;if(!A)return null;try{var O=JSON.parse(A);if(O){for(m=0;m<O.length;m++)if(Array.isArray(O[m])){var L=O[m];if(!(2>L.length)){var Y=L[1];if(Array.isArray(Y)&&!(1>Y.length)){var Q=Y[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var fe=1;fe<Y.length;fe++)Y[fe]=""}}}}return wi(O)}catch{return A}}var oh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},WS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wy;function sh(){}v(sh,vy),sh.prototype.g=function(){return new XMLHttpRequest},sh.prototype.i=function(){return{}},wy=new sh;function vo(m,A,O,L){this.j=m,this.i=A,this.l=O,this.R=L||1,this.U=new Tn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new KS}function KS(){this.i=null,this.g="",this.h=!1}var YS={},_y={};function Ey(m,A,O){m.L=1,m.v=ch(_i(A)),m.m=O,m.P=!0,JS(m,null)}function JS(m,A){m.F=Date.now(),ah(m),m.A=_i(m.v);var O=m.A,L=m.R;Array.isArray(L)||(L=[String(L)]),cT(O.i,"t",L),m.C=0,O=m.j.J,m.h=new KS,m.g=kT(m.j,O?A:null,!m.m),0<m.O&&(m.M=new Sn(h(m.Y,m,m.g),m.O)),A=m.U,O=m.g,L=m.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Qt[0]=Y.toString()),Y=Qt);for(var Q=0;Q<Y.length;Q++){var fe=rt(O,Y[Q],L||A.handleEvent,!1,A.h||A);if(!fe)break;A.g[fe.key]=fe}A=m.H?I(m.H):{},m.m?(m.u||(m.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,A)):(m.u="GET",m.g.ea(m.A,m.u,null,A)),Ku(),$F(m.i,m.u,m.A,m.l,m.R,m.m)}vo.prototype.ca=function(m){m=m.target;const A=this.M;A&&Ei(m)==3?A.j():this.Y(m)},vo.prototype.Y=function(m){try{if(m==this.g)e:{const dn=Ei(this.g);var A=this.g.Ba();const Ma=this.g.Z();if(!(3>dn)&&(dn!=3||this.g&&(this.h.h||this.g.oa()||yT(this.g)))){this.J||dn!=4||A==7||(A==8||0>=Ma?Ku(3):Ku(2)),Sy(this);var O=this.g.Z();this.X=O;t:if(XS(this)){var L=yT(this.g);m="";var Y=L.length,Q=Ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ws(this),Xu(this);var fe="";break t}this.h.i=new a.TextDecoder}for(A=0;A<Y;A++)this.h.h=!0,m+=this.h.i.decode(L[A],{stream:!(Q&&A==Y-1)});L.length=0,this.h.g+=m,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=O==200,LF(this.i,this.u,this.A,this.l,this.R,dn,O),this.o){if(this.T&&!this.K){t:{if(this.g){var st,Zt=this.g;if((st=Zt.g?Zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(st)){var We=st;break t}}We=null}if(O=We)Na(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ty(this,O);else{this.o=!1,this.s=3,An(12),ws(this),Xu(this);break e}}if(this.P){O=!0;let Nr;for(;!this.J&&this.C<fe.length;)if(Nr=UF(this,fe),Nr==_y){dn==4&&(this.s=4,An(14),O=!1),Na(this.i,this.l,null,"[Incomplete Response]");break}else if(Nr==YS){this.s=4,An(15),Na(this.i,this.l,fe,"[Invalid Chunk]"),O=!1;break}else Na(this.i,this.l,Nr,null),Ty(this,Nr);if(XS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dn!=4||fe.length!=0||this.h.h||(this.s=1,An(16),O=!1),this.o=this.o&&O,!O)Na(this.i,this.l,fe,"[Invalid Chunked Response]"),ws(this),Xu(this);else if(0<fe.length&&!this.W){this.W=!0;var cn=this.j;cn.g==this&&cn.ba&&!cn.M&&(cn.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Ny(cn),cn.M=!0,An(11))}}else Na(this.i,this.l,fe,null),Ty(this,fe);dn==4&&ws(this),this.o&&!this.J&&(dn==4?ST(this.j,this):(this.o=!1,ah(this)))}else iV(this.g),O==400&&0<fe.indexOf("Unknown SID")?(this.s=3,An(12)):(this.s=0,An(13)),ws(this),Xu(this)}}}catch{}finally{}};function XS(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function UF(m,A){var O=m.C,L=A.indexOf(`
`,O);return L==-1?_y:(O=Number(A.substring(O,L)),isNaN(O)?YS:(L+=1,L+O>A.length?_y:(A=A.slice(L,L+O),m.C=L+O,A)))}vo.prototype.cancel=function(){this.J=!0,ws(this)};function ah(m){m.S=Date.now()+m.I,QS(m,m.I)}function QS(m,A){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Yu(h(m.ba,m),A)}function Sy(m){m.B&&(a.clearTimeout(m.B),m.B=null)}vo.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(FF(this.i,this.A),this.L!=2&&(Ku(),An(17)),ws(this),this.s=2,Xu(this)):QS(this,this.S-m)};function Xu(m){m.j.G==0||m.J||ST(m.j,m)}function ws(m){Sy(m);var A=m.M;A&&typeof A.ma=="function"&&A.ma(),m.M=null,ur(m.U),m.g&&(A=m.g,m.g=null,A.abort(),A.ma())}function Ty(m,A){try{var O=m.j;if(O.G!=0&&(O.g==m||Ay(O.h,m))){if(!m.K&&Ay(O.h,m)&&O.G==3){try{var L=O.Da.g.parse(A)}catch{L=null}if(Array.isArray(L)&&L.length==3){var Y=L;if(Y[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<m.F)gh(O),ph(O);else break e;Py(O),An(18)}}else O.za=Y[1],0<O.za-O.T&&37500>Y[2]&&O.F&&O.v==0&&!O.C&&(O.C=Yu(h(O.Za,O),6e3));if(1>=tT(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else Es(O,11)}else if((m.K||O.g==m)&&gh(O),!w(A))for(Y=O.Da.g.parse(A),A=0;A<Y.length;A++){let We=Y[A];if(O.T=We[0],We=We[1],O.G==2)if(We[0]=="c"){O.K=We[1],O.ia=We[2];const cn=We[3];cn!=null&&(O.la=cn,O.j.info("VER="+O.la));const dn=We[4];dn!=null&&(O.Aa=dn,O.j.info("SVER="+O.Aa));const Ma=We[5];Ma!=null&&typeof Ma=="number"&&0<Ma&&(L=1.5*Ma,O.L=L,O.j.info("backChannelRequestTimeoutMs_="+L)),L=O;const Nr=m.g;if(Nr){const vh=Nr.g?Nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vh){var Q=L.h;Q.g||vh.indexOf("spdy")==-1&&vh.indexOf("quic")==-1&&vh.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Iy(Q,Q.h),Q.h=null))}if(L.D){const Ry=Nr.g?Nr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ry&&(L.ya=Ry,ft(L.I,L.D,Ry))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-m.F,O.j.info("Handshake RTT: "+O.R+"ms")),L=O;var fe=m;if(L.qa=IT(L,L.J?L.ia:null,L.W),fe.K){nT(L.h,fe);var st=fe,Zt=L.L;Zt&&(st.I=Zt),st.B&&(Sy(st),ah(st)),L.g=fe}else _T(L);0<O.i.length&&mh(O)}else We[0]!="stop"&&We[0]!="close"||Es(O,7);else O.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Es(O,7):Cy(O):We[0]!="noop"&&O.l&&O.l.ta(We),O.v=0)}}Ku(4)}catch{}}var BF=class{constructor(m,A){this.g=m,this.map=A}};function ZS(m){this.l=m||10,a.PerformanceNavigationTiming?(m=a.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function eT(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function tT(m){return m.h?1:m.g?m.g.size:0}function Ay(m,A){return m.h?m.h==A:m.g?m.g.has(A):!1}function Iy(m,A){m.g?m.g.add(A):m.h=A}function nT(m,A){m.h&&m.h==A?m.h=null:m.g&&m.g.has(A)&&m.g.delete(A)}ZS.prototype.cancel=function(){if(this.i=rT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function rT(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let A=m.i;for(const O of m.g.values())A=A.concat(O.D);return A}return b(m.i)}function zF(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(l(m)){for(var A=[],O=m.length,L=0;L<O;L++)A.push(m[L]);return A}A=[],O=0;for(L in m)A[O++]=m[L];return A}function GF(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(l(m)||typeof m=="string"){var A=[];m=m.length;for(var O=0;O<m;O++)A.push(O);return A}A=[],O=0;for(const L in m)A[O++]=L;return A}}}function iT(m,A){if(m.forEach&&typeof m.forEach=="function")m.forEach(A,void 0);else if(l(m)||typeof m=="string")Array.prototype.forEach.call(m,A,void 0);else for(var O=GF(m),L=zF(m),Y=L.length,Q=0;Q<Y;Q++)A.call(void 0,L[Q],O&&O[Q],m)}var oT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qF(m,A){if(m){m=m.split("&");for(var O=0;O<m.length;O++){var L=m[O].indexOf("="),Y=null;if(0<=L){var Q=m[O].substring(0,L);Y=m[O].substring(L+1)}else Q=m[O];A(Q,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function _s(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof _s){this.h=m.h,lh(this,m.j),this.o=m.o,this.g=m.g,uh(this,m.s),this.l=m.l;var A=m.i,O=new ec;O.i=A.i,A.g&&(O.g=new Map(A.g),O.h=A.h),sT(this,O),this.m=m.m}else m&&(A=String(m).match(oT))?(this.h=!1,lh(this,A[1]||"",!0),this.o=Qu(A[2]||""),this.g=Qu(A[3]||"",!0),uh(this,A[4]),this.l=Qu(A[5]||"",!0),sT(this,A[6]||"",!0),this.m=Qu(A[7]||"")):(this.h=!1,this.i=new ec(null,this.h))}_s.prototype.toString=function(){var m=[],A=this.j;A&&m.push(Zu(A,aT,!0),":");var O=this.g;return(O||A=="file")&&(m.push("//"),(A=this.o)&&m.push(Zu(A,aT,!0),"@"),m.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&m.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&m.push("/"),m.push(Zu(O,O.charAt(0)=="/"?KF:WF,!0))),(O=this.i.toString())&&m.push("?",O),(O=this.m)&&m.push("#",Zu(O,JF)),m.join("")};function _i(m){return new _s(m)}function lh(m,A,O){m.j=O?Qu(A,!0):A,m.j&&(m.j=m.j.replace(/:$/,""))}function uh(m,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);m.s=A}else m.s=null}function sT(m,A,O){A instanceof ec?(m.i=A,XF(m.i,m.h)):(O||(A=Zu(A,YF)),m.i=new ec(A,m.h))}function ft(m,A,O){m.i.set(A,O)}function ch(m){return ft(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Qu(m,A){return m?A?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Zu(m,A,O){return typeof m=="string"?(m=encodeURI(m).replace(A,HF),O&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function HF(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var aT=/[#\/\?@]/g,WF=/[#\?:]/g,KF=/[#\?]/g,YF=/[#\?@]/g,JF=/#/g;function ec(m,A){this.h=this.g=null,this.i=m||null,this.j=!!A}function xo(m){m.g||(m.g=new Map,m.h=0,m.i&&qF(m.i,function(A,O){m.add(decodeURIComponent(A.replace(/\+/g," ")),O)}))}t=ec.prototype,t.add=function(m,A){xo(this),this.i=null,m=Ra(this,m);var O=this.g.get(m);return O||this.g.set(m,O=[]),O.push(A),this.h+=1,this};function lT(m,A){xo(m),A=Ra(m,A),m.g.has(A)&&(m.i=null,m.h-=m.g.get(A).length,m.g.delete(A))}function uT(m,A){return xo(m),A=Ra(m,A),m.g.has(A)}t.forEach=function(m,A){xo(this),this.g.forEach(function(O,L){O.forEach(function(Y){m.call(A,Y,L,this)},this)},this)},t.na=function(){xo(this);const m=Array.from(this.g.values()),A=Array.from(this.g.keys()),O=[];for(let L=0;L<A.length;L++){const Y=m[L];for(let Q=0;Q<Y.length;Q++)O.push(A[L])}return O},t.V=function(m){xo(this);let A=[];if(typeof m=="string")uT(this,m)&&(A=A.concat(this.g.get(Ra(this,m))));else{m=Array.from(this.g.values());for(let O=0;O<m.length;O++)A=A.concat(m[O])}return A},t.set=function(m,A){return xo(this),this.i=null,m=Ra(this,m),uT(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[A]),this.h+=1,this},t.get=function(m,A){return m?(m=this.V(m),0<m.length?String(m[0]):A):A};function cT(m,A,O){lT(m,A),0<O.length&&(m.i=null,m.g.set(Ra(m,A),b(O)),m.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],A=Array.from(this.g.keys());for(var O=0;O<A.length;O++){var L=A[O];const Q=encodeURIComponent(String(L)),fe=this.V(L);for(L=0;L<fe.length;L++){var Y=Q;fe[L]!==""&&(Y+="="+encodeURIComponent(String(fe[L]))),m.push(Y)}}return this.i=m.join("&")};function Ra(m,A){return A=String(A),m.j&&(A=A.toLowerCase()),A}function XF(m,A){A&&!m.j&&(xo(m),m.i=null,m.g.forEach(function(O,L){var Y=L.toLowerCase();L!=Y&&(lT(this,L),cT(this,Y,O))},m)),m.j=A}function QF(m,A){const O=new Ju;if(a.Image){const L=new Image;L.onload=y(bo,O,"TestLoadImage: loaded",!0,A,L),L.onerror=y(bo,O,"TestLoadImage: error",!1,A,L),L.onabort=y(bo,O,"TestLoadImage: abort",!1,A,L),L.ontimeout=y(bo,O,"TestLoadImage: timeout",!1,A,L),a.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=m}else A(!1)}function ZF(m,A){const O=new Ju,L=new AbortController,Y=setTimeout(()=>{L.abort(),bo(O,"TestPingServer: timeout",!1,A)},1e4);fetch(m,{signal:L.signal}).then(Q=>{clearTimeout(Y),Q.ok?bo(O,"TestPingServer: ok",!0,A):bo(O,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(Y),bo(O,"TestPingServer: error",!1,A)})}function bo(m,A,O,L,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),L(O)}catch{}}function eV(){this.g=new VS}function tV(m,A,O){const L=O||"";try{iT(m,function(Y,Q){let fe=Y;u(Y)&&(fe=wi(Y)),A.push(L+Q+"="+encodeURIComponent(fe))})}catch(Y){throw A.push(L+"type="+encodeURIComponent("_badmap")),Y}}function dh(m){this.l=m.Ub||null,this.j=m.eb||!1}v(dh,vy),dh.prototype.g=function(){return new fh(this.l,this.j)},dh.prototype.i=function(m){return function(){return m}}({});function fh(m,A){ae.call(this),this.D=m,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(fh,ae),t=fh.prototype,t.open=function(m,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=A,this.readyState=1,nc(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(A.body=m),(this.D||a).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tc(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,nc(this)),this.g&&(this.readyState=3,nc(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dT(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function dT(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var A=m.value?m.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!m.done}))&&(this.response=this.responseText+=A)}m.done?tc(this):nc(this),this.readyState==3&&dT(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,tc(this))},t.Qa=function(m){this.g&&(this.response=m,tc(this))},t.ga=function(){this.g&&tc(this)};function tc(m){m.readyState=4,m.l=null,m.j=null,m.v=null,nc(m)}t.setRequestHeader=function(m,A){this.u.append(m,A)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],A=this.h.entries();for(var O=A.next();!O.done;)O=O.value,m.push(O[0]+": "+O[1]),O=A.next();return m.join(`\r
`)};function nc(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(fh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function fT(m){let A="";return k(m,function(O,L){A+=L,A+=":",A+=O,A+=`\r
`}),A}function ky(m,A,O){e:{for(L in O){var L=!1;break e}L=!0}L||(O=fT(O),typeof m=="string"?O!=null&&encodeURIComponent(String(O)):ft(m,A,O))}function Tt(m){ae.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Tt,ae);var nV=/^https?$/i,rV=["POST","PUT"];t=Tt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,A,O,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);A=A?A.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wy.g(),this.v=this.o?US(this.o):US(wy),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(A,String(m),!0),this.B=!1}catch(Q){hT(this,Q);return}if(m=O||"",O=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var Y in L)O.set(Y,L[Y]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const Q of L.keys())O.set(Q,L.get(Q));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(O.keys()).find(Q=>Q.toLowerCase()=="content-type"),Y=a.FormData&&m instanceof a.FormData,!(0<=Array.prototype.indexOf.call(rV,A,void 0))||L||Y||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,fe]of O)this.g.setRequestHeader(Q,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gT(this),this.u=!0,this.g.send(m),this.u=!1}catch(Q){hT(this,Q)}};function hT(m,A){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=A,m.m=5,pT(m),hh(m)}function pT(m){m.A||(m.A=!0,Pe(m,"complete"),Pe(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Pe(this,"complete"),Pe(this,"abort"),hh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hh(this,!0)),Tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?mT(this):this.bb())},t.bb=function(){mT(this)};function mT(m){if(m.h&&typeof s<"u"&&(!m.v[1]||Ei(m)!=4||m.Z()!=2)){if(m.u&&Ei(m)==4)He(m.Ea,0,m);else if(Pe(m,"readystatechange"),Ei(m)==4){m.h=!1;try{const fe=m.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var O;if(!(O=A)){var L;if(L=fe===0){var Y=String(m.D).match(oT)[1]||null;!Y&&a.self&&a.self.location&&(Y=a.self.location.protocol.slice(0,-1)),L=!nV.test(Y?Y.toLowerCase():"")}O=L}if(O)Pe(m,"complete"),Pe(m,"success");else{m.m=6;try{var Q=2<Ei(m)?m.g.statusText:""}catch{Q=""}m.l=Q+" ["+m.Z()+"]",pT(m)}}finally{hh(m)}}}}function hh(m,A){if(m.g){gT(m);const O=m.g,L=m.v[0]?()=>{}:null;m.g=null,m.v=null,A||Pe(m,"ready");try{O.onreadystatechange=L}catch{}}}function gT(m){m.I&&(a.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Ei(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Ei(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var A=this.g.responseText;return m&&A.indexOf(m)==0&&(A=A.substring(m.length)),yy(A)}};function yT(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function iV(m){const A={};m=(m.g&&2<=Ei(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<m.length;L++){if(w(m[L]))continue;var O=j(m[L]);const Y=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const Q=A[Y]||[];A[Y]=Q,Q.push(O)}T(A,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function rc(m,A,O){return O&&O.internalChannelParams&&O.internalChannelParams[m]||A}function vT(m){this.Aa=0,this.i=[],this.j=new Ju,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=rc("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=rc("baseRetryDelayMs",5e3,m),this.cb=rc("retryDelaySeedMs",1e4,m),this.Wa=rc("forwardChannelMaxRetries",2,m),this.wa=rc("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new ZS(m&&m.concurrentRequestLimit),this.Da=new eV,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=vT.prototype,t.la=8,t.G=1,t.connect=function(m,A,O,L){An(0),this.W=m,this.H=A||{},O&&L!==void 0&&(this.H.OSID=O,this.H.OAID=L),this.F=this.X,this.I=IT(this,null,this.W),mh(this)};function Cy(m){if(xT(m),m.G==3){var A=m.U++,O=_i(m.I);if(ft(O,"SID",m.K),ft(O,"RID",A),ft(O,"TYPE","terminate"),ic(m,O),A=new vo(m,m.j,A),A.L=2,A.v=ch(_i(O)),O=!1,a.navigator&&a.navigator.sendBeacon)try{O=a.navigator.sendBeacon(A.v.toString(),"")}catch{}!O&&a.Image&&(new Image().src=A.v,O=!0),O||(A.g=kT(A.j,null),A.g.ea(A.v)),A.F=Date.now(),ah(A)}AT(m)}function ph(m){m.g&&(Ny(m),m.g.cancel(),m.g=null)}function xT(m){ph(m),m.u&&(a.clearTimeout(m.u),m.u=null),gh(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&a.clearTimeout(m.s),m.s=null)}function mh(m){if(!eT(m.h)&&!m.s){m.s=!0;var A=m.Ga;H||G(),R||(H(),R=!0),$.add(A,m),m.B=0}}function oV(m,A){return tT(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=A.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Yu(h(m.Ga,m,A),TT(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Y=new vo(this,this.j,m);let Q=this.o;if(this.S&&(Q?(Q=I(Q),M(Q,this.S)):Q=this.S),this.m!==null||this.O||(Y.H=Q,Q=null),this.P)e:{for(var A=0,O=0;O<this.i.length;O++){t:{var L=this.i[O];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(A+=L,4096<A){A=O;break e}if(A===4096||O===this.i.length-1){A=O+1;break e}}A=1e3}else A=1e3;A=wT(this,Y,A),O=_i(this.I),ft(O,"RID",m),ft(O,"CVER",22),this.D&&ft(O,"X-HTTP-Session-Id",this.D),ic(this,O),Q&&(this.O?A="headers="+encodeURIComponent(String(fT(Q)))+"&"+A:this.m&&ky(O,this.m,Q)),Iy(this.h,Y),this.Ua&&ft(O,"TYPE","init"),this.P?(ft(O,"$req",A),ft(O,"SID","null"),Y.T=!0,Ey(Y,O,null)):Ey(Y,O,A),this.G=2}}else this.G==3&&(m?bT(this,m):this.i.length==0||eT(this.h)||bT(this))};function bT(m,A){var O;A?O=A.l:O=m.U++;const L=_i(m.I);ft(L,"SID",m.K),ft(L,"RID",O),ft(L,"AID",m.T),ic(m,L),m.m&&m.o&&ky(L,m.m,m.o),O=new vo(m,m.j,O,m.B+1),m.m===null&&(O.H=m.o),A&&(m.i=A.D.concat(m.i)),A=wT(m,O,1e3),O.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Iy(m.h,O),Ey(O,L,A)}function ic(m,A){m.H&&k(m.H,function(O,L){ft(A,L,O)}),m.l&&iT({},function(O,L){ft(A,L,O)})}function wT(m,A,O){O=Math.min(m.i.length,O);var L=m.l?h(m.l.Na,m.l,m):null;e:{var Y=m.i;let Q=-1;for(;;){const fe=["count="+O];Q==-1?0<O?(Q=Y[0].g,fe.push("ofs="+Q)):Q=0:fe.push("ofs="+Q);let st=!0;for(let Zt=0;Zt<O;Zt++){let We=Y[Zt].g;const cn=Y[Zt].map;if(We-=Q,0>We)Q=Math.max(0,Y[Zt].g-100),st=!1;else try{tV(cn,fe,"req"+We+"_")}catch{L&&L(cn)}}if(st){L=fe.join("&");break e}}}return m=m.i.splice(0,O),A.D=m,L}function _T(m){if(!m.g&&!m.u){m.Y=1;var A=m.Fa;H||G(),R||(H(),R=!0),$.add(A,m),m.v=0}}function Py(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Yu(h(m.Fa,m),TT(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,ET(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Yu(h(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,An(10),ph(this),ET(this))};function Ny(m){m.A!=null&&(a.clearTimeout(m.A),m.A=null)}function ET(m){m.g=new vo(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var A=_i(m.qa);ft(A,"RID","rpc"),ft(A,"SID",m.K),ft(A,"AID",m.T),ft(A,"CI",m.F?"0":"1"),!m.F&&m.ja&&ft(A,"TO",m.ja),ft(A,"TYPE","xmlhttp"),ic(m,A),m.m&&m.o&&ky(A,m.m,m.o),m.L&&(m.g.I=m.L);var O=m.g;m=m.ia,O.L=1,O.v=ch(_i(A)),O.m=null,O.P=!0,JS(O,m)}t.Za=function(){this.C!=null&&(this.C=null,ph(this),Py(this),An(19))};function gh(m){m.C!=null&&(a.clearTimeout(m.C),m.C=null)}function ST(m,A){var O=null;if(m.g==A){gh(m),Ny(m),m.g=null;var L=2}else if(Ay(m.h,A))O=A.D,nT(m.h,A),L=1;else return;if(m.G!=0){if(A.o)if(L==1){O=A.m?A.m.length:0,A=Date.now()-A.F;var Y=m.B;L=ih(),Pe(L,new HS(L,O)),mh(m)}else _T(m);else if(Y=A.s,Y==3||Y==0&&0<A.X||!(L==1&&oV(m,A)||L==2&&Py(m)))switch(O&&0<O.length&&(A=m.h,A.i=A.i.concat(O)),Y){case 1:Es(m,5);break;case 4:Es(m,10);break;case 3:Es(m,6);break;default:Es(m,2)}}}function TT(m,A){let O=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(O*=2),O*A}function Es(m,A){if(m.j.info("Error code "+A),A==2){var O=h(m.fb,m),L=m.Xa;const Y=!L;L=new _s(L||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||lh(L,"https"),ch(L),Y?QF(L.toString(),O):ZF(L.toString(),O)}else An(2);m.G=0,m.l&&m.l.sa(A),AT(m),xT(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),An(2)):(this.j.info("Failed to ping google.com"),An(1))};function AT(m){if(m.G=0,m.ka=[],m.l){const A=rT(m.h);(A.length!=0||m.i.length!=0)&&(x(m.ka,A),x(m.ka,m.i),m.h.i.length=0,b(m.i),m.i.length=0),m.l.ra()}}function IT(m,A,O){var L=O instanceof _s?_i(O):new _s(O);if(L.g!="")A&&(L.g=A+"."+L.g),uh(L,L.s);else{var Y=a.location;L=Y.protocol,A=A?A+"."+Y.hostname:Y.hostname,Y=+Y.port;var Q=new _s(null);L&&lh(Q,L),A&&(Q.g=A),Y&&uh(Q,Y),O&&(Q.l=O),L=Q}return O=m.D,A=m.ya,O&&A&&ft(L,O,A),ft(L,"VER",m.la),ic(m,L),L}function kT(m,A,O){if(A&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=m.Ca&&!m.pa?new Tt(new dh({eb:O})):new Tt(m.pa),A.Ha(m.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function CT(){}t=CT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function yh(){}yh.prototype.g=function(m,A){return new Wn(m,A)};function Wn(m,A){ae.call(this),this.g=new vT(A),this.l=m,this.h=A&&A.messageUrlParams||null,m=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(m?m["X-WebChannel-Content-Type"]=A.messageContentType:m={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(m?m["X-WebChannel-Client-Profile"]=A.va:m={"X-WebChannel-Client-Profile":A.va}),this.g.S=m,(m=A&&A.Sb)&&!w(m)&&(this.g.m=m),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!w(A)&&(this.g.D=A,m=this.h,m!==null&&A in m&&(m=this.h,A in m&&delete m[A])),this.j=new Oa(this)}v(Wn,ae),Wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wn.prototype.close=function(){Cy(this.g)},Wn.prototype.o=function(m){var A=this.g;if(typeof m=="string"){var O={};O.__data__=m,m=O}else this.u&&(O={},O.__data__=wi(m),m=O);A.i.push(new BF(A.Ya++,m)),A.G==3&&mh(A)},Wn.prototype.N=function(){this.g.l=null,delete this.j,Cy(this.g),delete this.g,Wn.aa.N.call(this)};function PT(m){xy.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var A=m.__sm__;if(A){e:{for(const O in A){m=O;break e}m=void 0}(this.i=m)&&(m=this.i,A=A!==null&&m in A?A[m]:void 0),this.data=A}else this.data=m}v(PT,xy);function NT(){by.call(this),this.status=1}v(NT,by);function Oa(m){this.g=m}v(Oa,CT),Oa.prototype.ua=function(){Pe(this.g,"a")},Oa.prototype.ta=function(m){Pe(this.g,new PT(m))},Oa.prototype.sa=function(m){Pe(this.g,new NT)},Oa.prototype.ra=function(){Pe(this.g,"b")},yh.prototype.createWebChannel=yh.prototype.g,Wn.prototype.send=Wn.prototype.o,Wn.prototype.open=Wn.prototype.m,Wn.prototype.close=Wn.prototype.close,kj=function(){return new yh},Ij=function(){return ih()},Aj=bs,db={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oh.NO_ERROR=0,oh.TIMEOUT=8,oh.HTTP_ERROR=6,Ip=oh,WS.COMPLETE="complete",Tj=WS,BS.EventType=Wu,Wu.OPEN="a",Wu.CLOSE="b",Wu.ERROR="c",Wu.MESSAGE="d",ae.prototype.listen=ae.prototype.K,Oc=BS,Tt.prototype.listenOnce=Tt.prototype.L,Tt.prototype.getLastError=Tt.prototype.Ka,Tt.prototype.getLastErrorCode=Tt.prototype.Ba,Tt.prototype.getStatus=Tt.prototype.Z,Tt.prototype.getResponseJson=Tt.prototype.Oa,Tt.prototype.getResponseText=Tt.prototype.oa,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Ha,Sj=Tt}).apply(typeof Fh<"u"?Fh:typeof self<"u"?self:typeof window<"u"?window:{});const EI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new v1("@firebase/firestore");function hc(){return ua.logLevel}function xe(t,...e){if(ua.logLevel<=Be.DEBUG){const n=e.map(R1);ua.debug(`Firestore (${bu}): ${t}`,...n)}}function Qi(t,...e){if(ua.logLevel<=Be.ERROR){const n=e.map(R1);ua.error(`Firestore (${bu}): ${t}`,...n)}}function Rd(t,...e){if(ua.logLevel<=Be.WARN){const n=e.map(R1);ua.warn(`Firestore (${bu}): ${t}`,...n)}}function R1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t="Unexpected state"){const e=`FIRESTORE (${bu}) INTERNAL ASSERTION FAILED: `+t;throw Qi(e),new Error(e)}function qe(t,e){t||Te()}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends ao{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ez{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ln.UNAUTHENTICATED))}shutdown(){}}class Tz{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Ui;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ui,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ui)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string"),new Ez(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new Ln(e)}}class Az{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Iz{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Az(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kz{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cz{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){qe(this.o===void 0);const r=o=>{o.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,xe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string"),this.R=n.token,new kz(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Pz(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ke(t,e){return t<e?-1:t>e?1:0}function Ml(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new he(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Bt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Bt(0,0))}static max(){return new Ae(new Bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(),r===void 0?r=e.length-n:r>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Od.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Od?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class at extends Od{construct(e,n,r){return new at(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new at(n)}static emptyPath(){return new at([])}}const Nz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Od{construct(e,n,r){return new on(e,n,r)}static isValidIdentifier(e){return Nz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new on(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new he(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new he(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new he(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new he(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(n)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(at.fromString(e))}static fromName(e){return new we(at.fromString(e).popFirst(5))}static empty(){return new we(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new at(e.slice()))}}function Rz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ae.fromTimestamp(r===1e9?new Bt(n+1,0):new Bt(n,r));return new rs(i,we.empty(),e)}function Oz(t){return new rs(t.readTime,t.key,-1)}class rs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new rs(Ae.min(),we.empty(),-1)}static max(){return new rs(Ae.max(),we.empty(),-1)}}function Mz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=we.comparator(t.documentKey,e.documentKey),n!==0?n:Ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jf(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==Dz)throw t;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new oe((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof oe?n:oe.resolve(n)}catch(n){return oe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):oe.reject(n)}static resolve(e){return new oe((n,r)=>{n(e)})}static reject(e){return new oe((n,r)=>{r(e)})}static waitFor(e){return new oe((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=oe.resolve(!1);for(const r of e)n=n.next(i=>i?oe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new oe((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new oe((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function $z(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function $f(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}O1.oe=-1;function Lf(t){return t==null}function vm(t){return t===0&&1/t==-1/0}function Lz(t){return typeof t=="number"&&Number.isInteger(t)&&!vm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _a(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Pj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vh(this.root,e,this.comparator,!0)}}class Vh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??nn.RED,this.left=i??nn.EMPTY,this.right=o??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new nn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return nn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,r,i,o){return this}insert(e,n,r){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new TI(this.data.getIterator())}getIteratorFrom(e){return new TI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new an(this.comparator);return n.data=e,n}}class TI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new er([])}unionWith(e){let n=new an(on.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new er(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ml(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Nj("Invalid base64 string: "+o):o}}(e);return new un(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const Fz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(t){if(qe(!!t),typeof t=="string"){let e=0;const n=Fz.exec(t);if(qe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(t.seconds),nanos:Ct(t.nanos)}}function Ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ca(t){return typeof t=="string"?un.fromBase64String(t):un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function D1(t){const e=t.mapValue.fields.__previous_value__;return M1(e)?D1(e):e}function Md(t){const e=is(t.mapValue.fields.__local_write_time__.timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Dd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Dd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Dd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh={mapValue:{}};function da(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?M1(t)?4:Bz(t)?9007199254740991:Uz(t)?10:11:Te()}function fi(t,e){if(t===e)return!0;const n=da(t);if(n!==da(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Md(t).isEqual(Md(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=is(i.timestampValue),a=is(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ca(i.bytesValue).isEqual(ca(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ct(i.geoPointValue.latitude)===Ct(o.geoPointValue.latitude)&&Ct(i.geoPointValue.longitude)===Ct(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ct(i.integerValue)===Ct(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ct(i.doubleValue),a=Ct(o.doubleValue);return s===a?vm(s)===vm(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Ml(t.arrayValue.values||[],e.arrayValue.values||[],fi);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(SI(s)!==SI(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!fi(s[l],a[l])))return!1;return!0}(t,e);default:return Te()}}function jd(t,e){return(t.values||[]).find(n=>fi(n,e))!==void 0}function Dl(t,e){if(t===e)return 0;const n=da(t),r=da(e);if(n!==r)return Ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Ct(o.integerValue||o.doubleValue),l=Ct(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return AI(t.timestampValue,e.timestampValue);case 4:return AI(Md(t),Md(e));case 5:return Ke(t.stringValue,e.stringValue);case 6:return function(o,s){const a=ca(o),l=ca(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Ke(a[u],l[u]);if(c!==0)return c}return Ke(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ke(Ct(o.latitude),Ct(s.latitude));return a!==0?a:Ke(Ct(o.longitude),Ct(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return II(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const f=o.fields||{},h=s.fields||{},y=(a=f.value)===null||a===void 0?void 0:a.arrayValue,v=(l=h.value)===null||l===void 0?void 0:l.arrayValue,b=Ke(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0);return b!==0?b:II(y,v)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Uh.mapValue&&s===Uh.mapValue)return 0;if(o===Uh.mapValue)return 1;if(s===Uh.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=Ke(l[f],c[f]);if(h!==0)return h;const y=Dl(a[l[f]],u[c[f]]);if(y!==0)return y}return Ke(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Te()}}function AI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ke(t,e);const n=is(t),r=is(e),i=Ke(n.seconds,r.seconds);return i!==0?i:Ke(n.nanos,r.nanos)}function II(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Dl(n[i],r[i]);if(o)return o}return Ke(n.length,r.length)}function jl(t){return fb(t)}function fb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=is(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ca(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return we.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=fb(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${fb(n.fields[s])}`;return i+"}"}(t.mapValue):Te()}function kI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hb(t){return!!t&&"integerValue"in t}function j1(t){return!!t&&"arrayValue"in t}function CI(t){return!!t&&"nullValue"in t}function PI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kp(t){return!!t&&"mapValue"in t}function Uz(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Kc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _a(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Kc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Bz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.value=e}static empty(){return new Pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!kp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kc(n)}setAll(e){let n=on.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Kc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());kp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];kp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_a(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Pn(Kc(this.value))}}function Rj(t){const e=[];return _a(t.fields,(n,r)=>{const i=new on([n]);if(kp(r)){const o=Rj(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Wt(e,0,Ae.min(),Ae.min(),Ae.min(),Pn.empty(),0)}static newFoundDocument(e,n,r,i){return new Wt(e,1,n,Ae.min(),r,i,0)}static newNoDocument(e,n){return new Wt(e,2,n,Ae.min(),Ae.min(),Pn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Ae.min(),Ae.min(),Pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n){this.position=e,this.inclusive=n}}function NI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=we.comparator(we.fromName(s.referenceValue),n.key):r=Dl(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function RI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n="asc"){this.field=e,this.dir=n}}function zz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{}class Mt extends Oj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new qz(e,n,r):n==="array-contains"?new Kz(e,r):n==="in"?new Yz(e,r):n==="not-in"?new Jz(e,r):n==="array-contains-any"?new Xz(e,r):new Mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Hz(e,r):new Wz(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Dl(n,this.value)):n!==null&&da(this.value)===da(n)&&this.matchesComparison(Dl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jr extends Oj{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Jr(e,n)}matches(e){return Mj(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Mj(t){return t.op==="and"}function Dj(t){return Gz(t)&&Mj(t)}function Gz(t){for(const e of t.filters)if(e instanceof Jr)return!1;return!0}function pb(t){if(t instanceof Mt)return t.field.canonicalString()+t.op.toString()+jl(t.value);if(Dj(t))return t.filters.map(e=>pb(e)).join(",");{const e=t.filters.map(n=>pb(n)).join(",");return`${t.op}(${e})`}}function jj(t,e){return t instanceof Mt?function(r,i){return i instanceof Mt&&r.op===i.op&&r.field.isEqual(i.field)&&fi(r.value,i.value)}(t,e):t instanceof Jr?function(r,i){return i instanceof Jr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&jj(s,i.filters[a]),!0):!1}(t,e):void Te()}function $j(t){return t instanceof Mt?function(n){return`${n.field.canonicalString()} ${n.op} ${jl(n.value)}`}(t):t instanceof Jr?function(n){return n.op.toString()+" {"+n.getFilters().map($j).join(" ,")+"}"}(t):"Filter"}class qz extends Mt{constructor(e,n,r){super(e,n,r),this.key=we.fromName(r.referenceValue)}matches(e){const n=we.comparator(e.key,this.key);return this.matchesComparison(n)}}class Hz extends Mt{constructor(e,n){super(e,"in",n),this.keys=Lj("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Wz extends Mt{constructor(e,n){super(e,"not-in",n),this.keys=Lj("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Lj(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>we.fromName(r.referenceValue))}class Kz extends Mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return j1(n)&&jd(n.arrayValue,this.value)}}class Yz extends Mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jd(this.value.arrayValue,n)}}class Jz extends Mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(jd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!jd(this.value.arrayValue,n)}}class Xz extends Mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!j1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>jd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function OI(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Qz(t,e,n,r,i,o,s)}function $1(t){const e=Re(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Lf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jl(r)).join(",")),e.ue=n}return e.ue}function L1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!zz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RI(t.startAt,e.startAt)&&RI(t.endAt,e.endAt)}function mb(t){return we.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Zz(t,e,n,r,i,o,s,a){return new wu(t,e,n,r,i,o,s,a)}function F1(t){return new wu(t)}function MI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Fj(t){return t.collectionGroup!==null}function Yc(t){const e=Re(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new an(on.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new $d(o,r))}),n.has(on.keyField().canonicalString())||e.ce.push(new $d(on.keyField(),r))}return e.ce}function li(t){const e=Re(t);return e.le||(e.le=eG(e,Yc(t))),e.le}function eG(t,e){if(t.limitType==="F")return OI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new $d(i.field,o)});const n=t.endAt?new xm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xm(t.startAt.position,t.startAt.inclusive):null;return OI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gb(t,e){const n=t.filters.concat([e]);return new wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function bm(t,e,n){return new wu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function c0(t,e){return L1(li(t),li(e))&&t.limitType===e.limitType}function Vj(t){return`${$1(li(t))}|lt:${t.limitType}`}function Va(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>$j(i)).join(", ")}]`),Lf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>jl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>jl(i)).join(",")),`Target(${r})`}(li(t))}; limitType=${t.limitType})`}function d0(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):we.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Yc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=NI(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Yc(r),i)||r.endAt&&!function(s,a,l){const u=NI(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Yc(r),i))}(t,e)}function tG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Uj(t){return(e,n)=>{let r=!1;for(const i of Yc(t)){const o=nG(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function nG(t,e,n){const r=t.field.isKeyField()?we.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Dl(l,u):Te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_a(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Pj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rG=new St(we.comparator);function Zi(){return rG}const Bj=new St(we.comparator);function Mc(...t){let e=Bj;for(const n of t)e=e.insert(n.key,n);return e}function zj(t){let e=Bj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vs(){return Jc()}function Gj(){return Jc()}function Jc(){return new _u(t=>t.toString(),(t,e)=>t.isEqual(e))}const iG=new St(we.comparator),oG=new an(we.comparator);function Ue(...t){let e=oG;for(const n of t)e=e.add(n);return e}const sG=new an(Ke);function aG(){return sG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vm(e)?"-0":e}}function qj(t){return{integerValue:""+t}}function lG(t,e){return Lz(e)?qj(e):V1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(){this._=void 0}}function uG(t,e,n){return t instanceof wm?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&M1(o)&&(o=D1(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ld?Wj(t,e):t instanceof Fd?Kj(t,e):function(i,o){const s=Hj(i,o),a=DI(s)+DI(i.Pe);return hb(s)&&hb(i.Pe)?qj(a):V1(i.serializer,a)}(t,e)}function cG(t,e,n){return t instanceof Ld?Wj(t,e):t instanceof Fd?Kj(t,e):n}function Hj(t,e){return t instanceof _m?function(r){return hb(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class wm extends f0{}class Ld extends f0{constructor(e){super(),this.elements=e}}function Wj(t,e){const n=Yj(e);for(const r of t.elements)n.some(i=>fi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Fd extends f0{constructor(e){super(),this.elements=e}}function Kj(t,e){let n=Yj(e);for(const r of t.elements)n=n.filter(i=>!fi(i,r));return{arrayValue:{values:n}}}class _m extends f0{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function DI(t){return Ct(t.integerValue||t.doubleValue)}function Yj(t){return j1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function dG(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ld&&i instanceof Ld||r instanceof Fd&&i instanceof Fd?Ml(r.elements,i.elements,fi):r instanceof _m&&i instanceof _m?fi(r.Pe,i.Pe):r instanceof wm&&i instanceof wm}(t.transform,e.transform)}class fG{constructor(e,n){this.version=e,this.transformResults=n}}class Ft{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ft}static exists(e){return new Ft(void 0,e)}static updateTime(e){return new Ft(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class h0{}function Jj(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vf(t.key,Ft.none()):new Ff(t.key,t.data,Ft.none());{const n=t.data,r=Pn.empty();let i=new an(on.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new hs(t.key,r,new er(i.toArray()),Ft.none())}}function hG(t,e,n){t instanceof Ff?function(i,o,s){const a=i.value.clone(),l=$I(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof hs?function(i,o,s){if(!Cp(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=$I(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(Xj(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Xc(t,e,n,r){return t instanceof Ff?function(o,s,a,l){if(!Cp(o.precondition,s))return a;const u=o.value.clone(),c=LI(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof hs?function(o,s,a,l){if(!Cp(o.precondition,s))return a;const u=LI(o.fieldTransforms,l,s),c=s.data;return c.setAll(Xj(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Cp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function pG(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=Hj(r.transform,i||null);o!=null&&(n===null&&(n=Pn.empty()),n.set(r.field,o))}return n||null}function jI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ml(r,i,(o,s)=>dG(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ff extends h0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class hs extends h0{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Xj(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function $I(t,e,n){const r=new Map;qe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,cG(s,a,n[i]))}return r}function LI(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,uG(o,s,e))}return r}class Vf extends h0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qj extends h0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mG{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&hG(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Gj();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=Jj(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Ml(this.mutations,e.mutations,(n,r)=>jI(n,r))&&Ml(this.baseMutations,e.baseMutations,(n,r)=>jI(n,r))}}class U1{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){qe(e.mutations.length===r.length);let i=function(){return iG}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new U1(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,ze;function Zj(t){switch(t){default:return Te();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function e$(t){if(t===void 0)return Qi("GRPC error has no .code"),re.UNKNOWN;switch(t){case Nt.OK:return re.OK;case Nt.CANCELLED:return re.CANCELLED;case Nt.UNKNOWN:return re.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return re.INTERNAL;case Nt.UNAVAILABLE:return re.UNAVAILABLE;case Nt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Nt.NOT_FOUND:return re.NOT_FOUND;case Nt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Nt.ABORTED:return re.ABORTED;case Nt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Nt.DATA_LOSS:return re.DATA_LOSS;default:return Te()}}(ze=Nt||(Nt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xG=new Ys([4294967295,4294967295],0);function FI(t){const e=vG().encode(t),n=new Ej;return n.update(e),new Uint8Array(n.digest())}function VI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ys([n,r],0),new Ys([i,o],0)]}class B1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Dc(`Invalid padding: ${n}`);if(r<0)throw new Dc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Dc(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ys.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ys.fromNumber(r)));return i.compare(xG)===1&&(i=new Ys([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=FI(e),[r,i]=VI(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new B1(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=FI(e),[r,i]=VI(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Uf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new p0(Ae.min(),i,new St(Ke),Zi(),Ue())}}class Uf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Uf(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class t${constructor(e,n){this.targetId=e,this.me=n}}class n${constructor(e,n,r=un.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class UI{constructor(){this.fe=0,this.ge=zI(),this.pe=un.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ue(),n=Ue(),r=Ue();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Te()}}),new Uf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=zI()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,qe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class bG{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zi(),this.qe=BI(),this.Qe=new St(Ke)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(mb(o))if(r===0){const s=new we(o.path);this.Ue(n,s,Wt.newNoDocument(s,Ae.min()))}else qe(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=ca(r).toUint8Array()}catch(l){if(l instanceof Nj)return Rd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new B1(s,i,o)}catch(l){return Rd(l instanceof Dc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&mb(a.target)){const l=new we(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Wt.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=Ue();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new p0(e,n,this.Qe,this.ke,r);return this.ke=Zi(),this.qe=BI(),this.Qe=new St(Ke),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new UI,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new an(Ke),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||xe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new UI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function BI(){return new St(we.comparator)}function zI(){return new St(we.comparator)}const wG={asc:"ASCENDING",desc:"DESCENDING"},_G={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EG={and:"AND",or:"OR"};class SG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yb(t,e){return t.useProto3Json||Lf(e)?e:{value:e}}function Em(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function r$(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TG(t,e){return Em(t,e.toTimestamp())}function nr(t){return qe(!!t),Ae.fromTimestamp(function(n){const r=is(n);return new Bt(r.seconds,r.nanos)}(t))}function z1(t,e){return vb(t,e).canonicalString()}function vb(t,e){const n=function(i){return new at(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function i$(t){const e=at.fromString(t);return qe(c$(e)),e}function Sm(t,e){return z1(t.databaseId,e.path)}function Qc(t,e){const n=i$(e);if(n.get(1)!==t.databaseId.projectId)throw new he(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new we(s$(n))}function o$(t,e){return z1(t.databaseId,e)}function AG(t){const e=i$(t);return e.length===4?at.emptyPath():s$(e)}function xb(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function s$(t){return qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function GI(t,e,n){return{name:Sm(t,e),fields:n.value.mapValue.fields}}function IG(t,e){return"found"in e?function(r,i){qe(!!i.found),i.found.name,i.found.updateTime;const o=Qc(r,i.found.name),s=nr(i.found.updateTime),a=i.found.createTime?nr(i.found.createTime):Ae.min(),l=new Pn({mapValue:{fields:i.found.fields}});return Wt.newFoundDocument(o,s,a,l)}(t,e):"missing"in e?function(r,i){qe(!!i.missing),qe(!!i.readTime);const o=Qc(r,i.missing),s=nr(i.readTime);return Wt.newNoDocument(o,s)}(t,e):Te()}function kG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(qe(c===void 0||typeof c=="string"),un.fromBase64String(c||"")):(qe(c===void 0||c instanceof Buffer||c instanceof Uint8Array),un.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?re.UNKNOWN:e$(u.code);return new he(c,u.message||"")}(s);n=new n$(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Qc(t,r.document.name),o=nr(r.document.updateTime),s=r.document.createTime?nr(r.document.createTime):Ae.min(),a=new Pn({mapValue:{fields:r.document.fields}}),l=Wt.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Pp(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Qc(t,r.document),o=r.readTime?nr(r.readTime):Ae.min(),s=Wt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Pp([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Qc(t,r.document),o=r.removedTargetIds||[];n=new Pp([],o,i,null)}else{if(!("filter"in e))return Te();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new yG(i,o),a=r.targetId;n=new t$(a,s)}}return n}function a$(t,e){let n;if(e instanceof Ff)n={update:GI(t,e.key,e.value)};else if(e instanceof Vf)n={delete:Sm(t,e.key)};else if(e instanceof hs)n={update:GI(t,e.key,e.data),updateMask:$G(e.fieldMask)};else{if(!(e instanceof Qj))return Te();n={verify:Sm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof wm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ld)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _m)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:TG(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Te()}(t,e.precondition)),n}function CG(t,e){return t&&t.length>0?(qe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?nr(i.updateTime):nr(o);return s.isEqual(Ae.min())&&(s=nr(o)),new fG(s,i.transformResults||[])}(n,e))):[]}function PG(t,e){return{documents:[o$(t,e.path)]}}function NG(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=o$(t,i);const o=function(u){if(u.length!==0)return u$(Jr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Ua(h.field),direction:MG(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=yb(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function RG(t){let e=AG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const h=l$(f);return h instanceof Jr&&Dj(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(v){return new $d(Ba(v.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Lf(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,y=f.values||[];return new xm(y,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,y=f.values||[];return new xm(y,h)}(n.endAt)),Zz(e,i,s,o,a,"F",l,u)}function OG(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function l$(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ba(n.unaryFilter.field);return Mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ba(n.unaryFilter.field);return Mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ba(n.unaryFilter.field);return Mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ba(n.unaryFilter.field);return Mt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(t):t.fieldFilter!==void 0?function(n){return Mt.create(Ba(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Jr.create(n.compositeFilter.filters.map(r=>l$(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(t):Te()}function MG(t){return wG[t]}function DG(t){return _G[t]}function jG(t){return EG[t]}function Ua(t){return{fieldPath:t.canonicalString()}}function Ba(t){return on.fromServerFormat(t.fieldPath)}function u$(t){return t instanceof Mt?function(n){if(n.op==="=="){if(PI(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NAN"}};if(CI(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PI(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NAN"}};if(CI(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(n.field),op:DG(n.op),value:n.value}}}(t):t instanceof Jr?function(n){const r=n.getFilters().map(i=>u$(i));return r.length===1?r[0]:{compositeFilter:{op:jG(n.op),filters:r}}}(t):Te()}function $G(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function c$(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n,r,i,o=Ae.min(),s=Ae.min(),a=un.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new $o(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(e){this.ct=e}}function FG(t){const e=RG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VG{constructor(){this.un=new UG}addToCollectionParentIndex(e,n){return this.un.add(n),oe.resolve()}getCollectionParents(e,n){return oe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return oe.resolve()}deleteFieldIndex(e,n){return oe.resolve()}deleteAllFieldIndexes(e){return oe.resolve()}createTargetIndexes(e,n){return oe.resolve()}getDocumentsMatchingTarget(e,n){return oe.resolve(null)}getIndexType(e,n){return oe.resolve(0)}getFieldIndexes(e,n){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,n){return oe.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return oe.resolve(rs.min())}updateCollectionGroup(e,n,r){return oe.resolve()}updateIndexEntries(e,n){return oe.resolve()}}class UG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new an(at.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new an(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new $l(0)}static kn(){return new $l(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BG{constructor(){this.changes=new _u(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?oe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Xc(r.mutation,i,er.empty(),Bt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ue()){const i=Vs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Mc();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Vs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Zi();const s=Jc(),a=function(){return Jc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof hs)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Xc(c.mutation,u,c.mutation.getFieldMask(),Bt.now())):s.set(u.key,er.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new zG(c,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Jc();let i=new St((s,a)=>s-a),o=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||er.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||Ue()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=Gj();c.forEach(h=>{if(!o.has(h)){const y=Jj(n.get(h),r.get(h));y!==null&&f.set(h,y),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return oe.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return we.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Fj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):oe.resolve(Vs());let a=-1,l=o;return s.next(u=>oe.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?oe.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Ue())).next(c=>({batchId:a,changes:zj(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new we(n)).next(r=>{let i=Mc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Mc();return this.indexManager.getCollectionParents(e,o).next(a=>oe.forEach(a,l=>{const u=function(f,h){return new wu(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Wt.newInvalidDocument(c)))});let a=Mc();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Xc(c.mutation,u,er.empty(),Bt.now()),d0(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return oe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:nr(i.createTime)}}(n)),oe.resolve()}getNamedQuery(e,n){return oe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:FG(i.bundledQuery),readTime:nr(i.readTime)}}(n)),oe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{constructor(){this.overlays=new St(we.comparator),this.Ir=new Map}getOverlay(e,n){return oe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vs();return oe.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),oe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),oe.resolve()}getOverlaysForCollection(e,n,r){const i=Vs(),o=n.length+1,s=new we(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new St((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Vs(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Vs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return oe.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new gG(n,r));let o=this.Ir.get(n);o===void 0&&(o=Ue(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return oe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,oe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(){this.Tr=new an(Gt.Er),this.dr=new an(Gt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Gt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Gt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new we(new at([])),r=new Gt(n,e),i=new Gt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new we(new at([])),r=new Gt(n,e),i=new Gt(n,e+1);let o=Ue();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Gt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return we.comparator(e.key,n.key)||Ke(e.wr,n.wr)}static Ar(e,n){return Ke(e.wr,n.wr)||we.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new an(Gt.Er)}checkEmpty(e){return oe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new mG(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Gt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return oe.resolve(s)}lookupMutationBatch(e,n){return oe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return oe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gt(n,0),i=new Gt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),oe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new an(Ke);return n.forEach(i=>{const o=new Gt(i,0),s=new Gt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),oe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;we.isDocumentKey(o)||(o=o.child(""));const s=new Gt(new we(o),0);let a=new an(Ke);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),oe.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){qe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return oe.forEach(n.mutations,i=>{const o=new Gt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Gt(n,0),i=this.br.firstAfterOrEqual(r);return oe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,oe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{constructor(e){this.Mr=e,this.docs=function(){return new St(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return oe.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=Zi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Wt.newInvalidDocument(i))}),oe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Zi();const s=n.path,a=new we(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Mz(Oz(c),r)<=0||(i.has(c.key)||d0(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return oe.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Te()}Or(e,n){return oe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new JG(this)}getSize(e){return oe.resolve(this.size)}}class JG extends BG{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),oe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(e){this.persistence=e,this.Nr=new _u(n=>$1(n),L1),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new G1,this.targetCount=0,this.kr=$l.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),oe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new $l(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,oe.resolve()}updateTargetData(e,n){return this.Kn(n),oe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),oe.waitFor(o).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return oe.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),oe.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),oe.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),oe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return oe.resolve(r)}containsKey(e,n){return oe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(e,n){this.qr={},this.overlays={},this.Qr=new O1(0),this.Kr=!1,this.Kr=!0,this.$r=new WG,this.referenceDelegate=e(this),this.Ur=new XG(this),this.indexManager=new VG,this.remoteDocumentCache=function(i){return new YG(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new LG(n),this.Gr=new qG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new HG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new KG(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){xe("MemoryPersistence","Starting transaction:",e);const i=new ZG(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return oe.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class ZG extends jz{constructor(e){super(),this.currentSequenceNumber=e}}class q1{constructor(e){this.persistence=e,this.Jr=new G1,this.Yr=null}static Zr(e){return new q1(e)}get Xr(){if(this.Yr)return this.Yr;throw Te()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),oe.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),oe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Xr,r=>{const i=we.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return oe.or([()=>oe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ue(),i=Ue();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new H1(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return GB()?8:$z(wn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new eq;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(hc()<=Be.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",Va(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),oe.resolve()):(hc()<=Be.DEBUG&&xe("QueryEngine","Query:",Va(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(hc()<=Be.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",Va(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(n))):oe.resolve())}Yi(e,n){if(MI(n))return oe.resolve(null);let r=li(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=bm(n,null,"F"),r=li(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Ue(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,bm(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return MI(n)||i.isEqual(Ae.min())?oe.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?oe.resolve(null):(hc()<=Be.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Va(n)),this.rs(e,s,n,Rz(i,-1)).next(a=>a))})}ts(e,n){let r=new an(Uj(e));return n.forEach((i,o)=>{d0(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return hc()<=Be.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",Va(n)),this.Ji.getDocumentsMatchingQuery(e,n,rs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new St(Ke),this._s=new _u(o=>$1(o),L1),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GG(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function rq(t,e,n,r){return new nq(t,e,n,r)}async function d$(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Ue();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function iq(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,h=f.keys();let y=oe.resolve();return h.forEach(v=>{y=y.next(()=>c.getEntry(l,v)).next(b=>{const x=u.docVersions.get(v);qe(x!==null),b.version.compareTo(x)<0&&(f.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),c.addEntry(b)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function f$(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function oq(t,e){const n=Re(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;a.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,f)));let y=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(un.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):c.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(c.resumeToken,r)),i=i.insert(f,y),function(b,x,E){return b.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(h,y,c)&&a.push(n.Ur.updateTargetData(o,y))});let l=Zi(),u=Ue();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(sq(o,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(Ae.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return oe.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function sq(t,e,n){let r=Ue(),i=Ue();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Zi();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ae.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):xe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function aq(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lq(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,oe.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new $o(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function bb(t,e,n){const r=Re(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!$f(s))throw s;xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function qI(t,e,n){const r=Re(t);let i=Ae.min(),o=Ue();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=Re(l),h=f._s.get(c);return h!==void 0?oe.resolve(f.os.get(h)):f.Ur.getTargetData(u,c)}(r,s,li(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Ae.min(),n?o:Ue())).next(a=>(uq(r,tG(e),a),{documents:a,Ts:o})))}function uq(t,e,n){let r=t.us.get(e)||Ae.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class HI{constructor(){this.activeTargetIds=aG()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cq{constructor(){this.so=new HI,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new HI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh=null;function mv(){return Bh===null?Bh=function(){return 268435456+Math.round(2147483648*Math.random())}():Bh++,"0x"+Bh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class pq extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=mv(),l=this.xo(n,r.toUriEncodedString());xe("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(c=>(xe("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Rd("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=fq[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=mv();return new Promise((s,a)=>{const l=new Sj;l.setWithCredentials(!0),l.listenOnce(Tj.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ip.NO_ERROR:const c=l.getResponseJson();xe(pn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case Ip.TIMEOUT:xe(pn,`RPC '${e}' ${o} timed out`),a(new he(re.DEADLINE_EXCEEDED,"Request time out"));break;case Ip.HTTP_ERROR:const f=l.getStatus();if(xe(pn,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const y=h==null?void 0:h.error;if(y&&y.status&&y.message){const v=function(x){const E=x.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(E)>=0?E:re.UNKNOWN}(y.status);a(new he(v,y.message))}else a(new he(re.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new he(re.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{xe(pn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);xe(pn,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=mv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=kj(),a=Ij(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");xe(pn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);let h=!1,y=!1;const v=new hq({Io:x=>{y?xe(pn,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(h||(xe(pn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),xe(pn,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},To:()=>f.close()}),b=(x,E,w)=>{x.listen(E,_=>{try{w(_)}catch(C){setTimeout(()=>{throw C},0)}})};return b(f,Oc.EventType.OPEN,()=>{y||(xe(pn,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),b(f,Oc.EventType.CLOSE,()=>{y||(y=!0,xe(pn,`RPC '${e}' stream ${i} transport closed`),v.So())}),b(f,Oc.EventType.ERROR,x=>{y||(y=!0,Rd(pn,`RPC '${e}' stream ${i} transport errored:`,x),v.So(new he(re.UNAVAILABLE,"The operation could not be completed")))}),b(f,Oc.EventType.MESSAGE,x=>{var E;if(!y){const w=x.data[0];qe(!!w);const _=w,C=_.error||((E=_[0])===null||E===void 0?void 0:E.error);if(C){xe(pn,`RPC '${e}' stream ${i} received error:`,C);const S=C.status;let k=function(P){const M=Nt[P];if(M!==void 0)return e$(M)}(S),T=C.message;k===void 0&&(k=re.INTERNAL,T="Unknown error status: "+S+" with message "+C.message),y=!0,v.So(new he(k,T)),f.close()}else xe(pn,`RPC '${e}' stream ${i} received:`,w),v.bo(w)}}),b(a,Aj.STAT_EVENT,x=>{x.stat===db.PROXY?xe(pn,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===db.NOPROXY&&xe(pn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function gv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t){return new SG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&xe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new W1(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Qi(n.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new he(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mq extends h${constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=kG(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ae.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ae.min():s.readTime?nr(s.readTime):Ae.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=xb(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=mb(l)?{documents:PG(o,l)}:{query:NG(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=r$(o,s.resumeToken);const u=yb(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(Ae.min())>0){a.readTime=Em(o,s.snapshotVersion.toTimestamp());const u=yb(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=OG(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=xb(this.serializer),n.removeTarget=e,this.a_(n)}}class gq extends h${constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=CG(e.writeResults,e.commitTime),r=nr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=xb(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>a$(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new he(re.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,vb(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(re.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,vb(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new he(re.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class vq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qi(n),this.D_=!1):xe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{Ea(this)&&(xe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Re(l);u.L_.add(4),await Bf(u),u.q_.set("Unknown"),u.L_.delete(4),await g0(u)}(this))})}),this.q_=new vq(r,i)}}async function g0(t){if(Ea(t))for(const e of t.B_)await e(!0)}async function Bf(t){for(const e of t.B_)await e(!1)}function p$(t,e){const n=Re(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),X1(n)?J1(n):Eu(n).r_()&&Y1(n,e))}function K1(t,e){const n=Re(t),r=Eu(n);n.N_.delete(e),r.r_()&&m$(n,e),n.N_.size===0&&(r.r_()?r.o_():Ea(n)&&n.q_.set("Unknown"))}function Y1(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eu(t).A_(e)}function m$(t,e){t.Q_.xe(e),Eu(t).R_(e)}function J1(t){t.Q_=new bG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Eu(t).start(),t.q_.v_()}function X1(t){return Ea(t)&&!Eu(t).n_()&&t.N_.size>0}function Ea(t){return Re(t).L_.size===0}function g$(t){t.Q_=void 0}async function bq(t){t.q_.set("Online")}async function wq(t){t.N_.forEach((e,n)=>{Y1(t,e)})}async function _q(t,e){g$(t),X1(t)?(t.q_.M_(e),J1(t)):t.q_.set("Unknown")}async function Eq(t,e,n){if(t.q_.set("Online"),e instanceof n$&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Tm(t,r)}else if(e instanceof Pp?t.Q_.Ke(e):e instanceof t$?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ae.min()))try{const r=await f$(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(un.EMPTY_BYTE_STRING,c.snapshotVersion)),m$(o,l);const f=new $o(c.target,l,u,c.sequenceNumber);Y1(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){xe("RemoteStore","Failed to raise snapshot:",r),await Tm(t,r)}}async function Tm(t,e,n){if(!$f(e))throw e;t.L_.add(1),await Bf(t),t.q_.set("Offline"),n||(n=()=>f$(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{xe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await g0(t)})}function y$(t,e){return e().catch(n=>Tm(t,n,e))}async function y0(t){const e=Re(t),n=os(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Sq(e);)try{const i=await aq(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Tq(e,i)}catch(i){await Tm(e,i)}v$(e)&&x$(e)}function Sq(t){return Ea(t)&&t.O_.length<10}function Tq(t,e){t.O_.push(e);const n=os(t);n.r_()&&n.V_&&n.m_(e.mutations)}function v$(t){return Ea(t)&&!os(t).n_()&&t.O_.length>0}function x$(t){os(t).start()}async function Aq(t){os(t).p_()}async function Iq(t){const e=os(t);for(const n of t.O_)e.m_(n.mutations)}async function kq(t,e,n){const r=t.O_.shift(),i=U1.from(r,e,n);await y$(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await y0(t)}async function Cq(t,e){e&&os(t).V_&&await async function(r,i){if(function(s){return Zj(s)&&s!==re.ABORTED}(i.code)){const o=r.O_.shift();os(r).s_(),await y$(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await y0(r)}}(t,e),v$(t)&&x$(t)}async function KI(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),xe("RemoteStore","RemoteStore received new credentials");const r=Ea(n);n.L_.add(3),await Bf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await g0(n)}async function Pq(t,e){const n=Re(t);e?(n.L_.delete(2),await g0(n)):e||(n.L_.add(2),await Bf(n),n.q_.set("Unknown"))}function Eu(t){return t.K_||(t.K_=function(n,r,i){const o=Re(n);return o.w_(),new mq(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:bq.bind(null,t),Ro:wq.bind(null,t),mo:_q.bind(null,t),d_:Eq.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),X1(t)?J1(t):t.q_.set("Unknown")):(await t.K_.stop(),g$(t))})),t.K_}function os(t){return t.U_||(t.U_=function(n,r,i){const o=Re(n);return o.w_(),new gq(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Aq.bind(null,t),mo:Cq.bind(null,t),f_:Iq.bind(null,t),g_:kq.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await y0(t)):(await t.U_.stop(),t.O_.length>0&&(xe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Q1(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Z1(t,e){if(Qi("AsyncQueue",`${e}: ${t}`),$f(t))return new he(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||we.comparator(n.key,r.key):(n,r)=>we.comparator(n.key,r.key),this.keyedMap=Mc(),this.sortedSet=new St(this.comparator)}static emptySet(e){return new xl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.W_=new St(we.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Te():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ll{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ll(e,n,xl.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&c0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Rq{constructor(){this.queries=JI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Re(n),o=i.queries;i.queries=JI(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new he(re.ABORTED,"Firestore shutting down"))}}function JI(){return new _u(t=>Vj(t),c0)}async function b$(t,e){const n=Re(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new Nq,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=Z1(s,`Initialization of query '${Va(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&eE(n)}async function w$(t,e){const n=Re(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Oq(t,e){const n=Re(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&eE(n)}function Mq(t,e,n){const r=Re(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function eE(t){t.Y_.forEach(e=>{e.next()})}var wb,XI;(XI=wb||(wb={})).ea="default",XI.Cache="cache";class _${constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ll(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==wb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(e){this.key=e}}class S${constructor(e){this.key=e}}class Dq{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ue(),this.mutatedKeys=Ue(),this.Aa=Uj(e),this.Ra=new xl(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new YI,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),y=d0(this.query,f)?f:null,v=!!h&&this.mutatedKeys.has(h.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let x=!1;h&&y?h.data.isEqual(y.data)?v!==b&&(r.track({type:3,doc:y}),x=!0):this.ga(h,y)||(r.track({type:2,doc:y}),x=!0,(l&&this.Aa(y,l)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!h&&y?(r.track({type:0,doc:y}),x=!0):h&&!y&&(r.track({type:1,doc:h}),x=!0,(l||u)&&(a=!0)),x&&(y?(s=s.add(y),o=b?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,f)=>function(y,v){const b=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return b(y)-b(v)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new Ll(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new YI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new S$(r))}),this.da.forEach(r=>{e.has(r)||n.push(new E$(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ue();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ll.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class jq{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $q{constructor(e){this.key=e,this.va=!1}}class Lq{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new _u(a=>Vj(a),c0),this.Ma=new Map,this.xa=new Set,this.Oa=new St(we.comparator),this.Na=new Map,this.La=new G1,this.Ba={},this.ka=new Map,this.qa=$l.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Fq(t,e,n=!0){const r=P$(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await T$(r,e,n,!0),i}async function Vq(t,e){const n=P$(t);await T$(n,e,!0,!1)}async function T$(t,e,n,r){const i=await lq(t.localStore,li(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Uq(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&p$(t.remoteStore,i),a}async function Uq(t,e,n,r,i){t.Ka=(f,h,y)=>async function(b,x,E,w){let _=x.view.ma(E);_.ns&&(_=await qI(b.localStore,x.query,!1).then(({documents:T})=>x.view.ma(T,_)));const C=w&&w.targetChanges.get(x.targetId),S=w&&w.targetMismatches.get(x.targetId)!=null,k=x.view.applyChanges(_,b.isPrimaryClient,C,S);return ZI(b,x.targetId,k.wa),k.snapshot}(t,f,h,y);const o=await qI(t.localStore,e,!0),s=new Dq(e,o.Ts),a=s.ma(o.documents),l=Uf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);ZI(t,n,u.wa);const c=new jq(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function Bq(t,e,n){const r=Re(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!c0(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&K1(r.remoteStore,i.targetId),_b(r,i.targetId)}).catch(jf)):(_b(r,i.targetId),await bb(r.localStore,i.targetId,!0))}async function zq(t,e){const n=Re(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),K1(n.remoteStore,r.targetId))}async function Gq(t,e,n){const r=Xq(t);try{const i=await function(s,a){const l=Re(s),u=Bt.now(),c=a.reduce((y,v)=>y.add(v.key),Ue());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let v=Zi(),b=Ue();return l.cs.getEntries(y,c).next(x=>{v=x,v.forEach((E,w)=>{w.isValidDocument()||(b=b.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,v)).next(x=>{f=x;const E=[];for(const w of a){const _=pG(w,f.get(w.key).overlayedDocument);_!=null&&E.push(new hs(w.key,_,Rj(_.value.mapValue),Ft.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,E,a)}).next(x=>{h=x;const E=x.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(y,x.batchId,E)})}).then(()=>({batchId:h.batchId,changes:zj(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new St(Ke)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await zf(r,i.changes),await y0(r.remoteStore)}catch(i){const o=Z1(i,"Failed to persist write");n.reject(o)}}async function A$(t,e){const n=Re(t);try{const r=await oq(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?qe(s.va):i.removedDocuments.size>0&&(qe(s.va),s.va=!1))}),await zf(n,r,e)}catch(r){await jf(r)}}function QI(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Re(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.j_)h.Z_(a)&&(u=!0)}),u&&eE(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qq(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new St(we.comparator);s=s.insert(o,Wt.newNoDocument(o,Ae.min()));const a=Ue().add(o),l=new p0(Ae.min(),new Map,new St(Ke),s,a);await A$(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),tE(r)}else await bb(r.localStore,e,!1).then(()=>_b(r,e,n)).catch(jf)}async function Hq(t,e){const n=Re(t),r=e.batch.batchId;try{const i=await iq(n.localStore,e);k$(n,r,null),I$(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zf(n,i)}catch(i){await jf(i)}}async function Wq(t,e,n){const r=Re(t);try{const i=await function(s,a){const l=Re(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(qe(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);k$(r,e,n),I$(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zf(r,i)}catch(i){await jf(i)}}function I$(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function k$(t,e,n){const r=Re(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function _b(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||C$(t,r)})}function C$(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(K1(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),tE(t))}function ZI(t,e,n){for(const r of n)r instanceof E$?(t.La.addReference(r.key,e),Kq(t,r)):r instanceof S$?(xe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||C$(t,r.key)):Te()}function Kq(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(xe("SyncEngine","New document in limbo: "+n),t.xa.add(r),tE(t))}function tE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new we(at.fromString(e)),r=t.qa.next();t.Na.set(r,new $q(n)),t.Oa=t.Oa.insert(n,r),p$(t.remoteStore,new $o(li(F1(n.path)),r,"TargetPurposeLimboResolution",O1.oe))}}async function zf(t,e,n){const r=Re(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=H1.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const c=Re(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>oe.forEach(u,h=>oe.forEach(h.$i,y=>c.persistence.referenceDelegate.addReference(f,h.targetId,y)).next(()=>oe.forEach(h.Ui,y=>c.persistence.referenceDelegate.removeReference(f,h.targetId,y)))))}catch(f){if(!$f(f))throw f;xe("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const y=c.os.get(h),v=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(v);c.os=c.os.insert(h,b)}}}(r.localStore,o))}async function Yq(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){xe("SyncEngine","User change. New user:",e.toKey());const r=await d$(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new he(re.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zf(n,r.hs)}}function Jq(t,e){const n=Re(t),r=n.Na.get(e);if(r&&r.va)return Ue().add(r.key);{let i=Ue();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function P$(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=A$.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qq.bind(null,e),e.Ca.d_=Oq.bind(null,e.eventManager),e.Ca.$a=Mq.bind(null,e.eventManager),e}function Xq(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Wq.bind(null,e),e}class Am{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=m0(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return rq(this.persistence,new tq,e.initialUser,this.serializer)}Ga(e){return new QG(q1.Zr,this.serializer)}Wa(e){return new cq}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Am.provider={build:()=>new Am};class Eb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>QI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yq.bind(null,this.syncEngine),await Pq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Rq}()}createDatastore(e){const n=m0(e.databaseInfo.databaseId),r=function(o){return new pq(o)}(e.databaseInfo);return function(o,s,a,l){return new yq(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new xq(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>QI(this.syncEngine,n,0),function(){return WI.D()?new WI:new dq}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const f=new Lq(i,o,s,a,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Re(i);xe("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Bf(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Eb.provider={build:()=>new Eb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Qi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new he(re.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,o){const s=Re(i),a={documents:o.map(f=>Sm(s.serializer,f))},l=await s.Lo("BatchGetDocuments",s.serializer.databaseId,at.emptyPath(),a,o.length),u=new Map;l.forEach(f=>{const h=IG(s.serializer,f);u.set(h.key.toString(),h)});const c=[];return o.forEach(f=>{const h=u.get(f.toString());qe(!!h),c.push(h)}),c}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Vf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=we.fromPath(r);this.mutations.push(new Qj(i,this.precondition(i)))}),await async function(r,i){const o=Re(r),s={writes:i.map(a=>a$(o.serializer,a))};await o.Mo("Commit",o.serializer.databaseId,at.emptyPath(),s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Te();n=Ae.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new he(re.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ae.min())?Ft.exists(!1):Ft.updateTime(n):Ft.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ae.min()))throw new he(re.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ft.updateTime(n)}return Ft.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zq{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this._u=r.maxAttempts,this.t_=new W1(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new Qq(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!Lf(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Zj(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ln.UNAUTHENTICATED,this.clientId=Cj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{xe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(xe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Z1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function yv(t,e){t.asyncQueue.verifyOperationInProgress(),xe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await d$(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ek(t,e){t.asyncQueue.verifyOperationInProgress();const n=await tH(t);xe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>KI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>KI(e.remoteStore,i)),t._onlineComponents=e}async function tH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){xe("FirestoreClient","Using user provided OfflineComponentProvider");try{await yv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Rd("Error using user provided cache. Falling back to memory cache: "+n),await yv(t,new Am)}}else xe("FirestoreClient","Using default OfflineComponentProvider"),await yv(t,new Am);return t._offlineComponents}async function nE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(xe("FirestoreClient","Using user provided OnlineComponentProvider"),await ek(t,t._uninitializedComponentsProvider._online)):(xe("FirestoreClient","Using default OnlineComponentProvider"),await ek(t,new Eb))),t._onlineComponents}function nH(t){return nE(t).then(e=>e.syncEngine)}function rH(t){return nE(t).then(e=>e.datastore)}async function Sb(t){const e=await nE(t),n=e.eventManager;return n.onListen=Fq.bind(null,e.syncEngine),n.onUnlisten=Bq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Vq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=zq.bind(null,e.syncEngine),n}function iH(t,e,n={}){const r=new Ui;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new N$({next:h=>{c.Za(),s.enqueueAndForget(()=>w$(o,f)),h.fromCache&&l.source==="server"?u.reject(new he(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new _$(a,c,{includeMetadataChanges:!0,_a:!0});return b$(o,f)}(await Sb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R$(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(t,e,n){if(!n)throw new he(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oH(t,e,n,r){if(e===!0&&r===!0)throw new he(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nk(t){if(!we.isDocumentKey(t))throw new he(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rk(t){if(we.isDocumentKey(t))throw new he(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function v0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te()}function xr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=v0(t);throw new he(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=R$((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new he(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new he(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new he(re.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rE{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ik({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ik(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Sz;switch(r.type){case"firstParty":return new Iz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=tk.get(n);r&&(xe("ComponentProvider","Removing Datastore"),tk.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lo(this.firestore,e,this._query)}}class xn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class Qo extends lo{constructor(e,n,r){super(e,n,F1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new we(e))}withConverter(e){return new Qo(this.firestore,e,this._path)}}function Ai(t,e,...n){if(t=kt(t),O$("collection","path",e),t instanceof rE){const r=at.fromString(e,...n);return rk(r),new Qo(t,null,r)}{if(!(t instanceof xn||t instanceof Qo))throw new he(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return rk(r),new Qo(t.firestore,null,r)}}function Ve(t,e,...n){if(t=kt(t),arguments.length===1&&(e=Cj.newId()),O$("doc","path",e),t instanceof rE){const r=at.fromString(e,...n);return nk(r),new xn(t,null,new we(r))}{if(!(t instanceof xn||t instanceof Qo))throw new he(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return nk(r),new xn(t.firestore,t instanceof Qo?t.converter:null,new we(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new W1(this,"async_queue_retry"),this.Vu=()=>{const r=gv();r&&xe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=gv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=gv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ui;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!$f(e))throw e;xe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Qi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Q1.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Te()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function sk(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class eo extends rE{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ok,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ok(e),this._firestoreClient=void 0,await e}}}function sH(t,e,n){n||(n="(default)");const r=b1(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),o=r.getOptions(n);if(kd(o,e))return i;throw new he(re.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new he(re.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function Gf(t){if(t._terminated)throw new he(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||aH(t),t._firestoreClient}function aH(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new Vz(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,R$(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new eH(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fa(un.fromBase64String(e))}catch(n){throw new he(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fa(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lH=/^__.*__$/;class uH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ff(e,this.data,n,this.fieldTransforms)}}class M${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function D$(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class aE{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new aE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Im(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(D$(this.Cu)&&lH.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class cH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||m0(e)}Qu(e,n,r,i=!1){return new aE({Cu:e,methodName:n,qu:r,path:on.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qf(t){const e=t._freezeSettings(),n=m0(t._databaseId);return new cH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lE(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);dE("Data must be an object, but it was:",s,r);const a=j$(r,s);let l,u;if(o.merge)l=new er(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const h=Tb(e,f,n);if(!s.contains(h))throw new he(re.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);L$(c,h)||c.push(h)}l=new er(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new uH(new Pn(a),l,u)}class x0 extends iE{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof x0}}function uE(t,e,n,r){const i=t.Qu(1,e,n);dE("Data must be an object, but it was:",i,r);const o=[],s=Pn.empty();_a(r,(l,u)=>{const c=fE(e,l,n);u=kt(u);const f=i.Nu(c);if(u instanceof x0)o.push(c);else{const h=Hf(u,f);h!=null&&(o.push(c),s.set(c,h))}});const a=new er(o);return new M$(s,a,i.fieldTransforms)}function cE(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[Tb(e,r,n)],l=[i];if(o.length%2!=0)throw new he(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(Tb(e,o[h])),l.push(o[h+1]);const u=[],c=Pn.empty();for(let h=a.length-1;h>=0;--h)if(!L$(u,a[h])){const y=a[h];let v=l[h];v=kt(v);const b=s.Nu(y);if(v instanceof x0)u.push(y);else{const x=Hf(v,b);x!=null&&(u.push(y),c.set(y,x))}}const f=new er(u);return new M$(c,f,s.fieldTransforms)}function dH(t,e,n,r=!1){return Hf(n,t.Qu(r?4:3,e))}function Hf(t,e){if($$(t=kt(t)))return dE("Unsupported field value:",e,t),j$(t,e);if(t instanceof iE)return function(r,i){if(!D$(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Hf(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return lG(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Bt.fromDate(r);return{timestampValue:Em(i.serializer,o)}}if(r instanceof Bt){const o=new Bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Em(i.serializer,o)}}if(r instanceof oE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fa)return{bytesValue:r$(i.serializer,r._byteString)};if(r instanceof xn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:z1(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof sE)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return V1(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${v0(r)}`)}(t,e)}function j$(t,e){const n={};return Pj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_a(t,(r,i)=>{const o=Hf(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function $$(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Bt||t instanceof oE||t instanceof fa||t instanceof xn||t instanceof iE||t instanceof sE)}function dE(t,e,n){if(!$$(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=v0(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Tb(t,e,n){if((e=kt(e))instanceof Su)return e._internalPath;if(typeof e=="string")return fE(t,e);throw Im("Field path arguments must be of type string or ",t,!1,void 0,n)}const fH=new RegExp("[~\\*/\\[\\]]");function fE(t,e,n){if(e.search(fH)>=0)throw Im(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Su(...e.split("."))._internalPath}catch{throw Im(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Im(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new he(re.INVALID_ARGUMENT,a+t+l)}function L$(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hH(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hH extends km{data(){return super.data()}}function hE(t,e){return typeof e=="string"?fE(t,e):e instanceof Su?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pE{}class mE extends pE{}function Zc(t,e,...n){let r=[];e instanceof pE&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof yE).length,a=o.filter(l=>l instanceof gE).length;if(s>1||s>0&&a>0)throw new he(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class gE extends mE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new gE(e,n,r)}_apply(e){const n=this._parse(e);return V$(e._query,n),new lo(e.firestore,e.converter,gb(e._query,n))}_parse(e){const n=qf(e.firestore);return function(o,s,a,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new he(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){lk(f,c);const y=[];for(const v of f)y.push(ak(l,o,v));h={arrayValue:{values:y}}}else h=ak(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||lk(f,c),h=dH(a,s,f,c==="in"||c==="not-in");return Mt.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class yE extends pE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new yE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Jr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)V$(s,l),s=gb(s,l)}(e._query,n),new lo(e.firestore,e.converter,gb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vE extends mE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new vE(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new he(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new he(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $d(o,s)}(e._query,this._field,this._direction);return new lo(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new wu(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function vv(t,e="asc"){const n=e,r=hE("orderBy",t);return vE._create(r,n)}class xE extends mE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new xE(e,n,r)}_apply(e){return new lo(e.firestore,e.converter,bm(e._query,this._limit,this._limitType))}}function pH(t){return xE._create("limit",t,"F")}function ak(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new he(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fj(e)&&n.indexOf("/")!==-1)throw new he(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(at.fromString(n));if(!we.isDocumentKey(r))throw new he(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kI(t,new we(r))}if(n instanceof xn)return kI(t,n._key);throw new he(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${v0(n)}.`)}function lk(t,e){if(!Array.isArray(t)||t.length===0)throw new he(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function V$(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class U${convertValue(e,n="none"){switch(da(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _a(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ct(s.doubleValue));return new sE(o)}convertGeoPoint(e){return new oE(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=D1(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Md(e));default:return null}}convertTimestamp(e){const n=is(e);return new Bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=at.fromString(e);qe(c$(r));const i=new Dd(r.get(1),r.get(3)),o=new we(r.popFirst(5));return i.isEqual(n)||Qi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class mH extends U${constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wE extends km{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Np(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(hE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Np extends wE{data(e={}){return super.data(e)}}class B${constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new nl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Np(this._firestore,this._userDataWriter,r.key,r,new nl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Np(i._firestore,i._userDataWriter,a.doc.key,a.doc,new nl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Np(i._firestore,i._userDataWriter,a.doc.key,a.doc,new nl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:gH(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}class b0 extends U${constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,n)}}function z$(t){t=xr(t,lo);const e=xr(t.firestore,eo),n=Gf(e),r=new b0(e);return F$(t._query),iH(n,t._query).then(i=>new B$(e,r,t,i))}function uo(t,e,n){t=xr(t,xn);const r=xr(t.firestore,eo),i=bE(t.converter,e,n);return w0(r,[lE(qf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ft.none())])}function Tu(t,e,n,...r){t=xr(t,xn);const i=xr(t.firestore,eo),o=qf(i);let s;return s=typeof(e=kt(e))=="string"||e instanceof Su?cE(o,"updateDoc",t._key,e,n,r):uE(o,"updateDoc",t._key,e),w0(i,[s.toMutation(t._key,Ft.exists(!0))])}function Au(t){return w0(xr(t.firestore,eo),[new Vf(t._key,Ft.none())])}function Eo(t,...e){var n,r,i;t=kt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||sk(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(sk(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(t instanceof xn)u=xr(t.firestore,eo),c=F1(t._key.path),l={next:f=>{e[s]&&e[s](yH(u,t,f))},error:e[s+1],complete:e[s+2]};else{const f=xr(t,lo);u=xr(f.firestore,eo),c=f._query;const h=new b0(u);l={next:y=>{e[s]&&e[s](new B$(u,h,f,y))},error:e[s+1],complete:e[s+2]},F$(t._query)}return function(h,y,v,b){const x=new N$(b),E=new _$(y,x,v);return h.asyncQueue.enqueueAndForget(async()=>b$(await Sb(h),E)),()=>{x.Za(),h.asyncQueue.enqueueAndForget(async()=>w$(await Sb(h),E))}}(Gf(u),c,a,l)}function w0(t,e){return function(r,i){const o=new Ui;return r.asyncQueue.enqueueAndForget(async()=>Gq(await nH(r),i,o)),o.promise}(Gf(t),e)}function yH(t,e,n){const r=n.docs.get(e._key),i=new b0(t);return new wE(t,i,e._key,r,new nl(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=qf(e)}set(e,n,r){this._verifyNotCommitted();const i=Oo(e,this._firestore),o=bE(i.converter,n,r),s=lE(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Ft.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=Oo(e,this._firestore);let s;return s=typeof(n=kt(n))=="string"||n instanceof Su?cE(this._dataReader,"WriteBatch.update",o._key,n,r,i):uE(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Ft.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Oo(e,this._firestore);return this._mutations=this._mutations.concat(new Vf(n._key,Ft.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(re.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Oo(t,e){if((t=kt(t)).firestore!==e)throw new he(re.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=qf(n)}get(n){const r=Oo(n,this._firestore),i=new mH(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||o.length!==1)return Te();const s=o[0];if(s.isFoundDocument())return new km(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new km(this._firestore,i,r._key,null,r.converter);throw Te()})}set(n,r,i){const o=Oo(n,this._firestore),s=bE(o.converter,r,i),a=lE(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){const s=Oo(n,this._firestore);let a;return a=typeof(r=kt(r))=="string"||r instanceof Su?cE(this._dataReader,"Transaction.update",s._key,r,i,o):uE(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){const r=Oo(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Oo(e,this._firestore),r=new b0(this._firestore);return super.get(e).then(i=>new wE(this._firestore,r,n._key,i._document,new nl(!1,!1),n.converter))}}function _E(t,e,n){t=xr(t,eo);const r=Object.assign(Object.assign({},vH),n);return function(o){if(o.maxAttempts<1)throw new he(re.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const l=new Ui;return o.asyncQueue.enqueueAndForget(async()=>{const u=await rH(o);new Zq(o.asyncQueue,u,a,s,l).au()}),l.promise}(Gf(t),i=>e(new bH(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G$(t){return Gf(t=xr(t,eo)),new xH(t,e=>w0(t,e))}(function(e,n=!0){(function(i){bu=i})(vu),Ol(new sa("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new eo(new Tz(r.getProvider("auth-internal")),new Cz(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new he(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dd(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Xo(EI,"4.7.3",e),Xo(EI,"4.7.3","esm2017")})();const wH={apiKey:"AIzaSyAp9vMuLIhE-W8sEVpuzSWr7vvRHOu1pSc",authDomain:"nexo-bbbe5.firebaseapp.com",projectId:"nexo-bbbe5",storageBucket:"nexo-bbbe5.firebasestorage.app",messagingSenderId:"133978874707",appId:"1:133978874707:web:ba5e00d4c5e35b3c5df7a6"},q$=VD(wH),Di=wz(q$),Se=sH(q$,{ignoreUndefinedProperties:!0}),_H="finansmart_data_v2",uk={transactions:[],investments:[],budgets:[],debts:[],shoppingList:[],shoppingBudget:0,kanbanColumns:[],notes:[],unlockedBadges:[],walletBalance:0},H$=t=>`${_H}_${t}`,ck=t=>{try{const e=H$(t),n=localStorage.getItem(e);if(!n)return uk;const r=JSON.parse(n);return r.transactions||(r.transactions=[]),r.investments||(r.investments=[]),r.unlockedBadges||(r.unlockedBadges=[]),r.debts||(r.debts=[]),r.shoppingList||(r.shoppingList=[]),r.kanbanColumns||(r.kanbanColumns=[]),r.notes||(r.notes=[]),r.shoppingBudget===void 0&&(r.shoppingBudget=0),r.budgets?r.budgets=r.budgets.map(i=>({...i,isRecurring:i.isRecurring!==void 0?i.isRecurring:!0,month:i.month||void 0})):r.budgets=[],r.walletBalance===void 0&&(r.walletBalance=r.transactions.reduce((i,o)=>o.status==="paid"?i+(o.type==="income"?o.amount:-o.amount):i,0)),r}catch(e){return console.error("Failed to load data",e),uk}},EH=(t,e)=>{try{const n=H$(e),r=t.transactions.reduce((o,s)=>s.status==="paid"?o+(s.type==="income"?s.amount:-s.amount):o,0),i={...t,walletBalance:r};localStorage.setItem(n,JSON.stringify(i))}catch(n){console.error("Failed to save data",n)}},Fl=t=>t.status==="pending"?0:t.type==="income"?t.amount:-t.amount,SH=(t,e)=>{const n=Zc(Ai(Se,"users",t,"transactions"),vv("date","desc"),pH(300)),r=Eo(n,f=>{const h=f.docs.map(y=>y.data());e({transactions:h})}),i=Eo(Ai(Se,"users",t,"investments"),f=>{const h=f.docs.map(y=>y.data());e({investments:h})}),o=Eo(Ai(Se,"users",t,"budgets"),f=>{const h=f.docs.map(y=>y.data());e({budgets:h})}),s=Eo(Ai(Se,"users",t,"debts"),f=>{const h=f.docs.map(y=>y.data());e({debts:h})}),a=Eo(Ai(Se,"users",t,"shopping_list"),f=>{const h=f.docs.map(y=>y.data());e({shoppingList:h})}),l=Eo(Zc(Ai(Se,"users",t,"kanban_columns"),vv("order")),f=>{const h=f.docs.map(y=>y.data());e({kanbanColumns:h})}),u=Eo(Zc(Ai(Se,"users",t,"notes"),vv("date","desc")),f=>{const h=f.docs.map(y=>y.data());e({notes:h})}),c=Eo(Ve(Se,"users",t),f=>{if(f.exists()){const h=f.data(),y={};h.unlockedBadges&&(y.unlockedBadges=h.unlockedBadges),h.wealthProfile&&(y.wealthProfile=h.wealthProfile),h.shoppingBudget!==void 0&&(y.shoppingBudget=h.shoppingBudget),h.walletBalance!==void 0&&(y.walletBalance=h.walletBalance),Object.keys(y).length>0&&e(y)}});return()=>{r(),i(),o(),s(),a(),l(),u(),c()}},dk=async(t,e)=>{await _E(Se,async n=>{var l;const r=Ve(Se,"users",t),o=((l=(await n.get(r)).data())==null?void 0:l.walletBalance)||0,s=Fl(e),a=Ve(Se,"users",t,"transactions",e.id);n.set(a,e),n.update(r,{walletBalance:o+s})})},Rp=async(t,e,n)=>{await _E(Se,async r=>{var y;const i=Ve(Se,"users",t,"transactions",e),o=Ve(Se,"users",t),s=await r.get(i);if(!s.exists())throw new Error("Transaction not found");const a=s.data(),u=((y=(await r.get(o)).data())==null?void 0:y.walletBalance)||0,c=Fl(a),f={...a,...n},h=Fl(f);r.update(i,n),r.update(o,{walletBalance:u-c+h})})},TH=async(t,e)=>{await _E(Se,async n=>{var c;const r=Ve(Se,"users",t,"transactions",e),i=Ve(Se,"users",t),o=await n.get(r);if(!o.exists())throw new Error("Transaction not found");const s=o.data(),l=((c=(await n.get(i)).data())==null?void 0:c.walletBalance)||0,u=Fl(s);n.delete(r),n.update(i,{walletBalance:l-u})})},AH=async t=>{const e=Zc(Ai(Se,"users",t,"transactions")),n=await z$(e);let r=0;return n.forEach(i=>{const o=i.data();r+=Fl(o)}),await Tu(Ve(Se,"users",t),{walletBalance:r}),r},IH=async(t,e)=>{await uo(Ve(Se,"users",t,"investments",e.id),e)},kH=async(t,e,n)=>{await Tu(Ve(Se,"users",t,"investments",e),n)},CH=async(t,e)=>{await Au(Ve(Se,"users",t,"investments",e))},PH=async(t,e)=>{await uo(Ve(Se,"users",t,"budgets",e.id),e)},NH=async(t,e,n)=>{await Tu(Ve(Se,"users",t,"budgets",e),n)},RH=async(t,e)=>{await Au(Ve(Se,"users",t,"budgets",e))},OH=async(t,e)=>{await uo(Ve(Se,"users",t,"debts",e.id),e)},fk=async(t,e,n)=>{await Tu(Ve(Se,"users",t,"debts",e),n)},MH=async(t,e)=>{await Au(Ve(Se,"users",t,"debts",e))},DH=async(t,e)=>{await uo(Ve(Se,"users",t,"shopping_list",e.id),e)},jH=async(t,e,n)=>{await Tu(Ve(Se,"users",t,"shopping_list",e),n)},$H=async(t,e)=>{await Au(Ve(Se,"users",t,"shopping_list",e))},LH=async t=>{const e=Zc(Ai(Se,"users",t,"shopping_list")),n=await z$(e),r=G$(Se);n.docs.forEach(i=>{r.delete(i.ref)}),await r.commit()},FH=async(t,e)=>{await uo(Ve(Se,"users",t),{shoppingBudget:e},{merge:!0})},VH=async(t,e)=>{await uo(Ve(Se,"users",t,"kanban_columns",e.id),e)},UH=async(t,e)=>{await Au(Ve(Se,"users",t,"kanban_columns",e))},BH=async(t,e)=>{await uo(Ve(Se,"users",t,"notes",e.id),e)},zH=async(t,e,n)=>{await Tu(Ve(Se,"users",t,"notes",e),n)},GH=async(t,e)=>{await Au(Ve(Se,"users",t,"notes",e))},qH=async(t,e,n)=>{n.includes(e)||await uo(Ve(Se,"users",t),{unlockedBadges:[...n,e]},{merge:!0})},HH=async(t,e)=>{await uo(Ve(Se,"users",t),{wealthProfile:e},{merge:!0})},hk=async(t,e)=>{const n=G$(Se);let r=0;e.transactions.forEach(s=>{const a=Ve(Se,"users",t,"transactions",s.id);n.set(a,s),r+=Fl(s)}),e.investments.forEach(s=>{const a=Ve(Se,"users",t,"investments",s.id);n.set(a,s)}),e.budgets.forEach(s=>{const a=Ve(Se,"users",t,"budgets",s.id);n.set(a,s)}),e.debts.forEach(s=>{const a=Ve(Se,"users",t,"debts",s.id);n.set(a,s)}),e.shoppingList.forEach(s=>{const a=Ve(Se,"users",t,"shopping_list",s.id);n.set(a,s)}),e.kanbanColumns.forEach(s=>{const a=Ve(Se,"users",t,"kanban_columns",s.id);n.set(a,s)}),e.notes.forEach(s=>{const a=Ve(Se,"users",t,"notes",s.id);n.set(a,s)});const i=Ve(Se,"users",t),o={unlockedBadges:e.unlockedBadges,walletBalance:r,shoppingBudget:e.shoppingBudget||0};e.wealthProfile&&(o.wealthProfile=e.wealthProfile),n.set(i,o,{merge:!0}),await n.commit()};var WH={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let KH,YH;function JH(){return{geminiUrl:KH,vertexUrl:YH}}function XH(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=JH();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class co{}function pe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function g(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const a=s.slice(0,-2);if(!(a in t))if(Array.isArray(n))t[a]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[a])){const l=t[a];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];g(c,e.slice(o+1),n[u])}else for(const u of l)g(u,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const a=s.slice(0,-3);a in t||(t[a]=[{}]);const l=t[a];g(l[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function p(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(a=>p(a,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function QH(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let a=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){a=l;break}if(a!==-1&&o.length>a)for(let l=a;l<o.length;l++){const u=o[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}Ab(t,i,o,0,s)}}function Ab(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),a=t;if(s in a&&Array.isArray(a[s]))for(const l of a[s])Ab(l,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,a=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of a)l[u]=s[u];for(const[u,c]of Object.entries(l)){const f=[];for(const h of n.slice(r))h==="*"?f.push(u):f.push(h);g(s,f,c)}for(const u of a)delete s[u]}}else{const s=t;o in s&&Ab(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EE(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZH(t){const e={},n=p(t,["operationName"]);n!=null&&g(e,["operationName"],n);const r=p(t,["resourceName"]);return r!=null&&g(e,["_url","resourceName"],r),e}function eW(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response","generateVideoResponse"]);return s!=null&&g(e,["response"],nW(s)),e}function tW(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],rW(s)),e}function nW(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>iW(s))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function rW(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>oW(s))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function iW(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],dW(n)),e}function oW(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],fW(n)),e}function sW(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function aW(t){const e={},n=p(t,["operationName"]);return n!=null&&g(e,["_url","operationName"],n),e}function lW(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],uW(s)),e}function uW(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function W$(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],cW(s)),e}function cW(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function dW(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],EE(r));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function fW(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],EE(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var pk;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(pk||(pk={}));var mk;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(mk||(mk={}));var gk;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(gk||(gk={}));var Lo;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Lo||(Lo={}));var yk;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(yk||(yk={}));var vk;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(vk||(vk={}));var xk;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(xk||(xk={}));var bk;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(bk||(bk={}));var wk;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(wk||(wk={}));var _k;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(_k||(_k={}));var Ek;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Ek||(Ek={}));var Sk;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Sk||(Sk={}));var Tk;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Tk||(Tk={}));var Ak;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Ak||(Ak={}));var Ik;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Ik||(Ik={}));var kk;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(kk||(kk={}));var Ck;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Ck||(Ck={}));var Pk;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Pk||(Pk={}));var Nk;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Nk||(Nk={}));var Rk;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Rk||(Rk={}));var Ok;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ok||(Ok={}));var Cm;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Cm||(Cm={}));var Mk;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Mk||(Mk={}));var Dk;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Dk||(Dk={}));var jk;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(jk||(jk={}));var Ib;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ib||(Ib={}));var $k;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})($k||($k={}));var Lk;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Lk||(Lk={}));var kb;(function(t){t.COLLECTION="COLLECTION"})(kb||(kb={}));var Fk;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Fk||(Fk={}));var Vk;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Vk||(Vk={}));var Uk;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Uk||(Uk={}));var Bk;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Bk||(Bk={}));var zk;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(zk||(zk={}));var Gk;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Gk||(Gk={}));var qk;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(qk||(qk={}));var Hk;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Hk||(Hk={}));var Wk;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Wk||(Wk={}));var Kk;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Kk||(Kk={}));var Yk;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Yk||(Yk={}));var Jk;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Jk||(Jk={}));var Xk;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Xk||(Xk={}));var Qk;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Qk||(Qk={}));var Zk;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Zk||(Zk={}));var eC;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(eC||(eC={}));var tC;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(tC||(tC={}));var nC;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(nC||(nC={}));var rC;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(rC||(rC={}));var iC;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(iC||(iC={}));var oC;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(oC||(oC={}));var sC;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(sC||(sC={}));var aC;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(aC||(aC={}));var lC;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(lC||(lC={}));var uC;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(uC||(uC={}));var cC;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(cC||(cC={}));var dC;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(dC||(dC={}));var rl;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(rl||(rl={}));class Cb{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class pc{get text(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const h of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[y,v]of Object.entries(h))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(v!==null||v!==void 0)&&f.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,u+=h.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[h,y]of Object.entries(f))h!=="inlineData"&&(y!==null||y!==void 0)&&c.push(h);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,o,s,a,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,o,s,a,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(a=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||a===void 0?void 0:a.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class fC{}class hC{}class hW{}class pW{}class mW{}class gW{}class pC{}class mC{}class gC{}class yW{}class Pm{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Pm;let i;const o=e;return n?i=tW(o):i=eW(o),Object.assign(r,i),r}}class yC{}class vC{}class xC{}class bC{}class vW{}class xW{}class bW{}class SE{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new SE,o=lW(e);return Object.assign(r,o),r}}class wW{}class _W{}class EW{}class wC{}class SW{get text(){var e,n,r;let i="",o=!1;const s=[];for(const a of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(a))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof a.text=="string"){if(typeof a.thought=="boolean"&&a.thought)continue;o=!0,i+=a.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[a,l]of Object.entries(s))a!=="inlineData"&&l!==null&&o.push(a);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class TW{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class TE{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new TE,o=W$(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ye(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function K$(t,e){const n=Ye(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Y$(t){return Array.isArray(t)?t.map(e=>Nm(e)):[Nm(t)]}function Nm(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function J$(t){const e=Nm(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function X$(t){const e=Nm(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function _C(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Q$(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>_C(e)):[_C(t)]}function Pb(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function EC(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function SC(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function vn(t){if(t==null)throw new Error("ContentUnion is required");return Pb(t)?t:{role:"user",parts:Q$(t)}}function AE(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=vn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=vn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>vn(n)):[vn(e)]}function br(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(EC(t)||SC(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[vn(t)]}const e=[],n=[],r=Pb(t[0]);for(const i of t){const o=Pb(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(EC(i)||SC(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:Q$(n)}),e}function AW(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Lo).includes(n[0].toUpperCase())?n[0].toUpperCase():Lo.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Lo).includes(r.toUpperCase())?r.toUpperCase():Lo.TYPE_UNSPECIFIED})}}function bl(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&AW(t.type,e);for(const[s,a]of Object.entries(t))if(a!=null)if(s=="type"){if(a==="null")throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;e.type=Object.values(Lo).includes(a.toUpperCase())?a.toUpperCase():Lo.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=bl(a);else if(r.includes(s)){const l=[];for(const u of a){if(u.type=="null"){e.nullable=!0;continue}l.push(bl(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,c]of Object.entries(a))l[u]=bl(c);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=a}return e}function IE(t){return bl(t)}function kE(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function CE(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Iu(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=bl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=bl(e.response));return t}function ku(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function IW(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function fo(t,e){if(typeof e!="string")throw new Error("name must be a string");return IW(t,e,"cachedContents")}function Z$(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ps(t){return EE(t)}function kW(t){return t!=null&&typeof t=="object"&&"name"in t}function CW(t){return t!=null&&typeof t=="object"&&"video"in t}function PW(t){return t!=null&&typeof t=="object"&&"uri"in t}function eL(t){var e;let n;if(kW(t)&&(n=t.name),!(PW(t)&&(n=t.uri,n===void 0))&&!(CW(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function tL(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function nL(t){for(const e of["models","tunedModels","publisherModels"])if(NW(t,e))return t[e];return[]}function NW(t,e){return t!==null&&typeof t=="object"&&e in t}function RW(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function OW(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=RW(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function rL(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function MW(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function iL(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Cu(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function oL(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DW(t){const e={},n=p(t,["responsesFile"]);n!=null&&g(e,["fileName"],n);const r=p(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>mK(s))),g(e,["inlinedResponses"],o)}const i=p(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["inlinedEmbedContentResponses"],o)}return e}function jW(t){const e={},n=p(t,["predictionsFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsDestination","outputUriPrefix"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigqueryDestination","outputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function $W(t){const e={},n=p(t,["format"]);n!=null&&g(e,["predictionsFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsDestination","outputUriPrefix"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigqueryDestination","outputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(p(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Op(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata","displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["metadata","state"]);i!=null&&g(e,["state"],oL(i));const o=p(t,["metadata","createTime"]);o!=null&&g(e,["createTime"],o);const s=p(t,["metadata","endTime"]);s!=null&&g(e,["endTime"],s);const a=p(t,["metadata","updateTime"]);a!=null&&g(e,["updateTime"],a);const l=p(t,["metadata","model"]);l!=null&&g(e,["model"],l);const u=p(t,["metadata","output"]);return u!=null&&g(e,["dest"],DW(iL(u))),e}function Nb(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["state"]);i!=null&&g(e,["state"],oL(i));const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["createTime"]);s!=null&&g(e,["createTime"],s);const a=p(t,["startTime"]);a!=null&&g(e,["startTime"],a);const l=p(t,["endTime"]);l!=null&&g(e,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&g(e,["updateTime"],u);const c=p(t,["model"]);c!=null&&g(e,["model"],c);const f=p(t,["inputConfig"]);f!=null&&g(e,["src"],LW(f));const h=p(t,["outputConfig"]);h!=null&&g(e,["dest"],jW(iL(h)));const y=p(t,["completionStats"]);return y!=null&&g(e,["completionStats"],y),e}function LW(t){const e={},n=p(t,["instancesFormat"]);n!=null&&g(e,["format"],n);const r=p(t,["gcsSource","uris"]);r!=null&&g(e,["gcsUri"],r);const i=p(t,["bigquerySource","inputUri"]);return i!=null&&g(e,["bigqueryUri"],i),e}function FW(t,e){const n={};if(p(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(p(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=p(e,["fileName"]);r!=null&&g(n,["fileName"],r);const i=p(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>pK(t,s))),g(n,["requests","requests"],o)}return n}function VW(t){const e={},n=p(t,["format"]);n!=null&&g(e,["instancesFormat"],n);const r=p(t,["gcsUri"]);r!=null&&g(e,["gcsSource","uris"],r);const i=p(t,["bigqueryUri"]);if(i!=null&&g(e,["bigquerySource","inputUri"],i),p(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(p(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function UW(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function BW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Cu(t,r)),n}function zW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Cu(t,r)),n}function GW(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],qW(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const s=p(t,["avgLogprobs"]);s!=null&&g(e,["avgLogprobs"],s);const a=p(t,["groundingMetadata"]);a!=null&&g(e,["groundingMetadata"],a);const l=p(t,["index"]);l!=null&&g(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const c=p(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function qW(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function sL(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>_K(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function HW(t,e){const n={},r=p(t,["displayName"]);if(e!==void 0&&r!=null&&g(e,["batch","displayName"],r),p(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function WW(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["dest"]);return e!==void 0&&i!=null&&g(e,["outputConfig"],$W(MW(i))),n}function TC(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["src"]);i!=null&&g(n,["batch","inputConfig"],FW(t,rL(t,i)));const o=p(e,["config"]);return o!=null&&HW(o,n),n}function KW(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],Ye(t,r));const i=p(e,["src"]);i!=null&&g(n,["inputConfig"],VW(rL(t,i)));const o=p(e,["config"]);return o!=null&&WW(o,n),n}function YW(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["batch","displayName"],r),n}function JW(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["src"]);i!=null&&g(n,["batch","inputConfig"],rK(t,i));const o=p(e,["config"]);return o!=null&&YW(o,n),n}function XW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Cu(t,r)),n}function QW(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Cu(t,r)),n}function ZW(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);return o!=null&&g(e,["error"],o),e}function eK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);return o!=null&&g(e,["error"],o),e}function tK(t,e){const n={},r=p(e,["contents"]);if(r!=null){let o=AE(t,r);Array.isArray(o)&&(o=o.map(s=>s)),g(n,["requests[]","request","content"],o)}const i=p(e,["config"]);return i!=null&&(g(n,["_self"],nK(i,n)),QH(n,{"requests[].*":"requests[].request.*"})),n}function nK(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function rK(t,e){const n={},r=p(e,["fileName"]);r!=null&&g(n,["file_name"],r);const i=p(e,["inlinedRequests"]);return i!=null&&g(n,["requests"],tK(t,i)),n}function iK(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function oK(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sK(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function aK(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],sL(vn(i)));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&g(r,["topP"],s);const a=p(e,["topK"]);a!=null&&g(r,["topK"],a);const l=p(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=p(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=p(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const v=p(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const x=p(e,["responseMimeType"]);x!=null&&g(r,["responseMimeType"],x);const E=p(e,["responseSchema"]);E!=null&&g(r,["responseSchema"],IE(E));const w=p(e,["responseJsonSchema"]);if(w!=null&&g(r,["responseJsonSchema"],w),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=p(e,["safetySettings"]);if(n!==void 0&&_!=null){let N=_;Array.isArray(N)&&(N=N.map(V=>EK(V))),g(n,["safetySettings"],N)}const C=p(e,["tools"]);if(n!==void 0&&C!=null){let N=ku(C);Array.isArray(N)&&(N=N.map(V=>TK(Iu(V)))),g(n,["tools"],N)}const S=p(e,["toolConfig"]);if(n!==void 0&&S!=null&&g(n,["toolConfig"],SK(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=p(e,["cachedContent"]);n!==void 0&&k!=null&&g(n,["cachedContent"],fo(t,k));const T=p(e,["responseModalities"]);T!=null&&g(r,["responseModalities"],T);const I=p(e,["mediaResolution"]);I!=null&&g(r,["mediaResolution"],I);const P=p(e,["speechConfig"]);if(P!=null&&g(r,["speechConfig"],kE(P)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=p(e,["thinkingConfig"]);M!=null&&g(r,["thinkingConfig"],M);const j=p(e,["imageConfig"]);j!=null&&g(r,["imageConfig"],hK(j));const D=p(e,["enableEnhancedCivicAnswers"]);if(D!=null&&g(r,["enableEnhancedCivicAnswers"],D),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function lK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>GW(u))),g(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const s=p(t,["responseId"]);s!=null&&g(e,["responseId"],s);const a=p(t,["usageMetadata"]);return a!=null&&g(e,["usageMetadata"],a),e}function uK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Cu(t,r)),n}function cK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],Cu(t,r)),n}function dK(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function fK(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function hK(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function pK(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["request","model"],Ye(t,r));const i=p(e,["contents"]);if(i!=null){let a=br(i);Array.isArray(a)&&(a=a.map(l=>sL(l))),g(n,["request","contents"],a)}const o=p(e,["metadata"]);o!=null&&g(n,["metadata"],o);const s=p(e,["config"]);return s!=null&&g(n,["request","generationConfig"],aK(t,s,p(n,["request"],{}))),n}function mK(t){const e={},n=p(t,["response"]);n!=null&&g(e,["response"],lK(n));const r=p(t,["error"]);return r!=null&&g(e,["error"],r),e}function gK(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);if(e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),p(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function yK(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);e!==void 0&&i!=null&&g(e,["_query","pageToken"],i);const o=p(t,["filter"]);return e!==void 0&&o!=null&&g(e,["_query","filter"],o),n}function vK(t){const e={},n=p(t,["config"]);return n!=null&&gK(n,e),e}function xK(t){const e={},n=p(t,["config"]);return n!=null&&yK(n,e),e}function bK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Op(s))),g(e,["batchJobs"],o)}return e}function wK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Nb(s))),g(e,["batchJobs"],o)}return e}function _K(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],iK(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],oK(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],UW(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["thought"]);c!=null&&g(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function EK(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function SK(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],sK(r)),e}function TK(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),g(e,["functionDeclarations"],c)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],dK(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],fK(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var to;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(to||(to={}));class Sa{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AK extends co{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Sa(to.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=TC(this.apiClient,e),r=n._url,i=pe("{model}:batchGenerateContent",r),a=n.batch.inputConfig.requests,l=a.requests,u=[];for(const c of l){const f=Object.assign({},c);if(f.systemInstruction){const h=f.systemInstruction;delete f.systemInstruction;const y=f.request;y.systemInstruction=h,f.request=y}u.push(f)}return a.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=KW(this.apiClient,e);return a=pe("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Nb(c))}else{const u=TC(this.apiClient,e);return a=pe("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Op(c))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=JW(this.apiClient,e);return o=pe("{model}:asyncBatchEmbedContent",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Op(l))}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=cK(this.apiClient,e);return a=pe("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Nb(c))}else{const u=uK(this.apiClient,e);return a=pe("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Op(c))}}async cancel(e){var n,r,i,o;let s="",a={};if(this.apiClient.isVertexAI()){const l=zW(this.apiClient,e);s=pe("batchPredictionJobs/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=BW(this.apiClient,e);s=pe("batches/{name}:cancel",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=xK(e);return a=pe("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=wK(c),h=new wC;return Object.assign(h,f),h})}else{const u=vK(e);return a=pe("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=bK(c),h=new wC;return Object.assign(h,f),h})}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=QW(this.apiClient,e);return a=pe("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>eK(c))}else{const u=XW(this.apiClient,e);return a=pe("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>ZW(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IK(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function AC(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>JK(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function kK(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const s=p(t,["contents"]);if(e!==void 0&&s!=null){let c=br(s);Array.isArray(c)&&(c=c.map(f=>AC(f))),g(e,["contents"],c)}const a=p(t,["systemInstruction"]);e!==void 0&&a!=null&&g(e,["systemInstruction"],AC(vn(a)));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>QK(f))),g(e,["tools"],c)}const u=p(t,["toolConfig"]);if(e!==void 0&&u!=null&&g(e,["toolConfig"],XK(u)),p(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function CK(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);e!==void 0&&i!=null&&g(e,["expireTime"],i);const o=p(t,["displayName"]);e!==void 0&&o!=null&&g(e,["displayName"],o);const s=p(t,["contents"]);if(e!==void 0&&s!=null){let f=br(s);Array.isArray(f)&&(f=f.map(h=>h)),g(e,["contents"],f)}const a=p(t,["systemInstruction"]);e!==void 0&&a!=null&&g(e,["systemInstruction"],vn(a));const l=p(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(h=>ZK(h))),g(e,["tools"],f)}const u=p(t,["toolConfig"]);e!==void 0&&u!=null&&g(e,["toolConfig"],u);const c=p(t,["kmsKeyName"]);return e!==void 0&&c!=null&&g(e,["encryption_spec","kmsKeyName"],c),n}function PK(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],K$(t,r));const i=p(e,["config"]);return i!=null&&kK(i,n),n}function NK(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["model"],K$(t,r));const i=p(e,["config"]);return i!=null&&CK(i,n),n}function RK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],fo(t,r)),n}function OK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],fo(t,r)),n}function MK(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function DK(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function jK(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function $K(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function LK(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function FK(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&g(e,["response"],s);const a=p(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function VK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],fo(t,r)),n}function UK(t,e){const n={},r=p(e,["name"]);return r!=null&&g(n,["_url","name"],fo(t,r)),n}function BK(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function zK(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function GK(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function qK(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function HK(t){const e={},n=p(t,["config"]);return n!=null&&GK(n,e),e}function WK(t){const e={},n=p(t,["config"]);return n!=null&&qK(n,e),e}function KK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["cachedContents"],o)}return e}function YK(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["cachedContents"],o)}return e}function JK(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],jK(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],$K(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],IK(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["thought"]);c!=null&&g(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function XK(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],LK(r)),e}function QK(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),g(e,["functionDeclarations"],c)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],BK(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],zK(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function ZK(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=p(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=p(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>FK(h))),g(e,["functionDeclarations"],f)}const a=p(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=p(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function eY(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function tY(t,e){const n={},r=p(t,["ttl"]);e!==void 0&&r!=null&&g(e,["ttl"],r);const i=p(t,["expireTime"]);return e!==void 0&&i!=null&&g(e,["expireTime"],i),n}function nY(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],fo(t,r));const i=p(e,["config"]);return i!=null&&eY(i,n),n}function rY(t,e){const n={},r=p(e,["name"]);r!=null&&g(n,["_url","name"],fo(t,r));const i=p(e,["config"]);return i!=null&&tY(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iY extends co{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Sa(to.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=NK(this.apiClient,e);return a=pe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=PK(this.apiClient,e);return a=pe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=UK(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=VK(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=OK(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=DK(c),h=new xC;return Object.assign(h,f),h})}else{const u=RK(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=MK(c),h=new xC;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=rY(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=nY(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=WK(e);return a=pe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=YK(c),h=new bC;return Object.assign(h,f),h})}else{const u=HK(e);return a=pe("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=KK(c),h=new bC;return Object.assign(h,f),h})}}}function Rm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function IC(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oe(t){return this instanceof Oe?(this.v=t,this):new Oe(t)}function qr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(v){return Promise.resolve(v).then(y,f)}}function a(y,v){r[y]&&(i[y]=function(b){return new Promise(function(x,E){o.push([y,b,x,E])>1||l(y,b)})},v&&(i[y]=v(i[y])))}function l(y,v){try{u(r[y](v))}catch(b){h(o[0][3],b)}}function u(y){y.value instanceof Oe?Promise.resolve(y.value.v).then(c,f):h(o[0][2],y)}function c(y){l("next",y)}function f(y){l("throw",y)}function h(y,v){y(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Hr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof IC=="function"?IC(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oY(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:aL(n)}function aL(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function sY(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function kC(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!aL(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class aY{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new lY(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class lY{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),sY(o)}async sendMessage(e){var n;await this.sendPromise;const r=vn(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,a;const l=await i,u=(s=(o=l.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,c=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let h=[];c!=null&&(h=(a=c.slice(f))!==null&&a!==void 0?a:[]);const y=u?[u]:[];this.recordHistory(r,y,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=vn(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?kC(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return qr(this,arguments,function*(){var i,o,s,a,l,u;const c=[];try{for(var f=!0,h=Hr(e),y;y=yield Oe(h.next()),i=y.done,!i;f=!0){a=y.value,f=!1;const v=a;if(oY(v)){const b=(u=(l=v.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;b!==void 0&&c.push(b)}yield yield Oe(v)}}catch(v){o={error:v}}finally{try{!f&&!i&&(s=h.return)&&(yield Oe(s.call(h)))}finally{if(o)throw o.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...kC(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vd extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Vd.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uY(t){const e={},n=p(t,["file"]);return n!=null&&g(e,["file"],n),e}function cY(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function dY(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],eL(n)),e}function fY(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function hY(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","file"],eL(n)),e}function pY(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function mY(t){const e={},n=p(t,["config"]);return n!=null&&pY(n,e),e}function gY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yY extends co{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Sa(to.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=mY(e);return o=pe("files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=gY(l),c=new wW;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=uY(e);return o=pe("upload/v1beta/files",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=cY(l),c=new _W;return Object.assign(c,u),c})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=hY(e);return o=pe("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=dY(e);return o=pe("files/{file}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=fY(l),c=new EW;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mp(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function vY(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>MY(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function xY(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function bY(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wY(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&g(e,["response"],s);const a=p(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function _Y(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const s=p(t,["enableAffectiveDialog"]);s!=null&&g(e,["enableAffectiveDialog"],s);const a=p(t,["frequencyPenalty"]);a!=null&&g(e,["frequencyPenalty"],a);const l=p(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const c=p(t,["mediaResolution"]);c!=null&&g(e,["mediaResolution"],c);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const y=p(t,["responseMimeType"]);y!=null&&g(e,["responseMimeType"],y);const v=p(t,["responseModalities"]);v!=null&&g(e,["responseModalities"],v);const b=p(t,["responseSchema"]);b!=null&&g(e,["responseSchema"],b);const x=p(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const E=p(t,["seed"]);E!=null&&g(e,["seed"],E);const w=p(t,["speechConfig"]);w!=null&&g(e,["speechConfig"],w);const _=p(t,["stopSequences"]);_!=null&&g(e,["stopSequences"],_);const C=p(t,["temperature"]);C!=null&&g(e,["temperature"],C);const S=p(t,["thinkingConfig"]);S!=null&&g(e,["thinkingConfig"],S);const k=p(t,["topK"]);k!=null&&g(e,["topK"],k);const T=p(t,["topP"]);if(T!=null&&g(e,["topP"],T),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function EY(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function SY(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function TY(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=p(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],CE(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=p(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],vY(vn(v)));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let k=ku(b);Array.isArray(k)&&(k=k.map(T=>jY(Iu(T)))),g(e,["setup","tools"],k)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],DY(x));const E=p(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&g(e,["setup","inputAudioTranscription"],E);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","outputAudioTranscription"],w);const _=p(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&g(e,["setup","realtimeInputConfig"],_);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&g(e,["setup","contextWindowCompression"],C);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&g(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function AY(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],_Y(r));const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=p(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],CE(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=p(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],vn(v));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let T=ku(b);Array.isArray(T)&&(T=T.map(I=>$Y(Iu(I)))),g(e,["setup","tools"],T)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],x);const E=p(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&g(e,["setup","inputAudioTranscription"],E);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","outputAudioTranscription"],w);const _=p(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&g(e,["setup","realtimeInputConfig"],_);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&g(e,["setup","contextWindowCompression"],C);const S=p(t,["proactivity"]);e!==void 0&&S!=null&&g(e,["setup","proactivity"],S);const k=p(t,["explicitVadSignal"]);return e!==void 0&&k!=null&&g(e,["setup","explicitVadSignal"],k),n}function IY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Ye(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],TY(i,n)),n}function kY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Ye(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],AY(i,n)),n}function CY(t){const e={},n=p(t,["musicGenerationConfig"]);return n!=null&&g(e,["musicGenerationConfig"],n),e}function PY(t){const e={},n=p(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["weightedPrompts"],r)}return e}function NY(t){const e={},n=p(t,["media"]);if(n!=null){let u=Y$(n);Array.isArray(u)&&(u=u.map(c=>Mp(c))),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],Mp(X$(r)));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&g(e,["video"],Mp(J$(o)));const s=p(t,["text"]);s!=null&&g(e,["text"],s);const a=p(t,["activityStart"]);a!=null&&g(e,["activityStart"],a);const l=p(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function RY(t){const e={},n=p(t,["media"]);if(n!=null){let u=Y$(n);Array.isArray(u)&&(u=u.map(c=>c)),g(e,["mediaChunks"],u)}const r=p(t,["audio"]);r!=null&&g(e,["audio"],X$(r));const i=p(t,["audioStreamEnd"]);i!=null&&g(e,["audioStreamEnd"],i);const o=p(t,["video"]);o!=null&&g(e,["video"],J$(o));const s=p(t,["text"]);s!=null&&g(e,["text"],s);const a=p(t,["activityStart"]);a!=null&&g(e,["activityStart"],a);const l=p(t,["activityEnd"]);return l!=null&&g(e,["activityEnd"],l),e}function OY(t){const e={},n=p(t,["setupComplete"]);n!=null&&g(e,["setupComplete"],n);const r=p(t,["serverContent"]);r!=null&&g(e,["serverContent"],r);const i=p(t,["toolCall"]);i!=null&&g(e,["toolCall"],i);const o=p(t,["toolCallCancellation"]);o!=null&&g(e,["toolCallCancellation"],o);const s=p(t,["usageMetadata"]);s!=null&&g(e,["usageMetadata"],LY(s));const a=p(t,["goAway"]);a!=null&&g(e,["goAway"],a);const l=p(t,["sessionResumptionUpdate"]);l!=null&&g(e,["sessionResumptionUpdate"],l);const u=p(t,["voiceActivityDetectionSignal"]);u!=null&&g(e,["voiceActivityDetectionSignal"],u);const c=p(t,["voiceActivity"]);return c!=null&&g(e,["voiceActivity"],FY(c)),e}function MY(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],xY(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],bY(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],Mp(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["thought"]);c!=null&&g(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function DY(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function jY(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),g(e,["functionDeclarations"],c)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],EY(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],SY(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function $Y(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=p(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=p(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>wY(h))),g(e,["functionDeclarations"],f)}const a=p(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=p(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function LY(t){const e={},n=p(t,["promptTokenCount"]);n!=null&&g(e,["promptTokenCount"],n);const r=p(t,["cachedContentTokenCount"]);r!=null&&g(e,["cachedContentTokenCount"],r);const i=p(t,["candidatesTokenCount"]);i!=null&&g(e,["responseTokenCount"],i);const o=p(t,["toolUsePromptTokenCount"]);o!=null&&g(e,["toolUsePromptTokenCount"],o);const s=p(t,["thoughtsTokenCount"]);s!=null&&g(e,["thoughtsTokenCount"],s);const a=p(t,["totalTokenCount"]);a!=null&&g(e,["totalTokenCount"],a);const l=p(t,["promptTokensDetails"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["promptTokensDetails"],y)}const u=p(t,["cacheTokensDetails"]);if(u!=null){let y=u;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["cacheTokensDetails"],y)}const c=p(t,["candidatesTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["responseTokensDetails"],y)}const f=p(t,["toolUsePromptTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(v=>v)),g(e,["toolUsePromptTokensDetails"],y)}const h=p(t,["trafficType"]);return h!=null&&g(e,["trafficType"],h),e}function FY(t){const e={},n=p(t,["type"]);return n!=null&&g(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VY(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function UY(t){const e={},n=p(t,["content"]);n!=null&&g(e,["content"],n);const r=p(t,["citationMetadata"]);r!=null&&g(e,["citationMetadata"],BY(r));const i=p(t,["tokenCount"]);i!=null&&g(e,["tokenCount"],i);const o=p(t,["finishReason"]);o!=null&&g(e,["finishReason"],o);const s=p(t,["avgLogprobs"]);s!=null&&g(e,["avgLogprobs"],s);const a=p(t,["groundingMetadata"]);a!=null&&g(e,["groundingMetadata"],a);const l=p(t,["index"]);l!=null&&g(e,["index"],l);const u=p(t,["logprobsResult"]);u!=null&&g(e,["logprobsResult"],u);const c=p(t,["safetyRatings"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),g(e,["safetyRatings"],h)}const f=p(t,["urlContextMetadata"]);return f!=null&&g(e,["urlContextMetadata"],f),e}function BY(t){const e={},n=p(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),g(e,["citations"],r)}return e}function zY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["contents"]);if(i!=null){let o=br(i);Array.isArray(o)&&(o=o.map(s=>s)),g(n,["contents"],o)}return n}function GY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["tokensInfo"],i)}return e}function qY(t){const e={},n=p(t,["values"]);n!=null&&g(e,["values"],n);const r=p(t,["statistics"]);return r!=null&&g(e,["statistics"],HY(r)),e}function HY(t){const e={},n=p(t,["truncated"]);n!=null&&g(e,["truncated"],n);const r=p(t,["token_count"]);return r!=null&&g(e,["tokenCount"],r),e}function _0(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>tX(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function WY(t){const e={},n=p(t,["controlType"]);n!=null&&g(e,["controlType"],n);const r=p(t,["enableControlImageComputation"]);return r!=null&&g(e,["computeControl"],r),e}function KY(t){const e={};if(p(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(p(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(p(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function YY(t,e){const n={},r=p(t,["systemInstruction"]);e!==void 0&&r!=null&&g(e,["systemInstruction"],vn(r));const i=p(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>dL(a))),g(e,["tools"],s)}const o=p(t,["generationConfig"]);return e!==void 0&&o!=null&&g(e,["generationConfig"],VJ(o)),n}function JY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["contents"]);if(i!=null){let s=br(i);Array.isArray(s)&&(s=s.map(a=>_0(a))),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&KY(o),n}function XY(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["contents"]);if(i!=null){let s=br(i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&YY(o,n),n}function QY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);r!=null&&g(e,["totalTokens"],r);const i=p(t,["cachedContentTokenCount"]);return i!=null&&g(e,["cachedContentTokenCount"],i),e}function ZY(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["totalTokens"]);return r!=null&&g(e,["totalTokens"],r),e}function eJ(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Ye(t,r)),n}function tJ(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Ye(t,r)),n}function nJ(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function rJ(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}function iJ(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const a=p(t,["guidanceScale"]);e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const y=p(t,["language"]);e!==void 0&&y!=null&&g(e,["parameters","language"],y);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const b=p(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","compressionQuality"],b);const x=p(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const E=p(t,["labels"]);e!==void 0&&E!=null&&g(e,["labels"],E);const w=p(t,["editMode"]);e!==void 0&&w!=null&&g(e,["parameters","editMode"],w);const _=p(t,["baseSteps"]);return e!==void 0&&_!=null&&g(e,["parameters","editConfig","baseSteps"],_),n}function oJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["referenceImages"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>aX(l))),g(n,["instances[0]","referenceImages"],a)}const s=p(e,["config"]);return s!=null&&iJ(s,n),n}function sJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>E0(o))),g(e,["generatedImages"],i)}return e}function aJ(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["requests[]","taskType"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["requests[]","title"],i);const o=p(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&g(e,["requests[]","outputDimensionality"],o),p(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(p(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function lJ(t,e){const n={},r=p(t,["taskType"]);e!==void 0&&r!=null&&g(e,["instances[]","task_type"],r);const i=p(t,["title"]);e!==void 0&&i!=null&&g(e,["instances[]","title"],i);const o=p(t,["outputDimensionality"]);e!==void 0&&o!=null&&g(e,["parameters","outputDimensionality"],o);const s=p(t,["mimeType"]);e!==void 0&&s!=null&&g(e,["instances[]","mimeType"],s);const a=p(t,["autoTruncate"]);return e!==void 0&&a!=null&&g(e,["parameters","autoTruncate"],a),n}function uJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["contents"]);if(i!=null){let a=AE(t,i);Array.isArray(a)&&(a=a.map(l=>l)),g(n,["requests[]","content"],a)}const o=p(e,["config"]);o!=null&&aJ(o,n);const s=p(e,["model"]);return s!==void 0&&g(n,["requests[]","model"],Ye(t,s)),n}function cJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["contents"]);if(i!=null){let s=AE(t,i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["instances[]","content"],s)}const o=p(e,["config"]);return o!=null&&lJ(o,n),n}function dJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function fJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>qY(s))),g(e,["embeddings"],o)}const i=p(t,["metadata"]);return i!=null&&g(e,["metadata"],i),e}function hJ(t){const e={},n=p(t,["endpoint"]);n!=null&&g(e,["name"],n);const r=p(t,["deployedModelId"]);return r!=null&&g(e,["deployedModelId"],r),e}function pJ(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function mJ(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function gJ(t){const e={},n=p(t,["allowedFunctionNames"]);n!=null&&g(e,["allowedFunctionNames"],n);const r=p(t,["mode"]);if(r!=null&&g(e,["mode"],r),p(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function yJ(t){const e={},n=p(t,["description"]);n!=null&&g(e,["description"],n);const r=p(t,["name"]);r!=null&&g(e,["name"],r);const i=p(t,["parameters"]);i!=null&&g(e,["parameters"],i);const o=p(t,["parametersJsonSchema"]);o!=null&&g(e,["parametersJsonSchema"],o);const s=p(t,["response"]);s!=null&&g(e,["response"],s);const a=p(t,["responseJsonSchema"]);if(a!=null&&g(e,["responseJsonSchema"],a),p(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function vJ(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],_0(vn(i)));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&g(r,["topP"],s);const a=p(e,["topK"]);a!=null&&g(r,["topK"],a);const l=p(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=p(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=p(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const v=p(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const x=p(e,["responseMimeType"]);x!=null&&g(r,["responseMimeType"],x);const E=p(e,["responseSchema"]);E!=null&&g(r,["responseSchema"],IE(E));const w=p(e,["responseJsonSchema"]);if(w!=null&&g(r,["responseJsonSchema"],w),p(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(p(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=p(e,["safetySettings"]);if(n!==void 0&&_!=null){let N=_;Array.isArray(N)&&(N=N.map(V=>lX(V))),g(n,["safetySettings"],N)}const C=p(e,["tools"]);if(n!==void 0&&C!=null){let N=ku(C);Array.isArray(N)&&(N=N.map(V=>mX(Iu(V)))),g(n,["tools"],N)}const S=p(e,["toolConfig"]);if(n!==void 0&&S!=null&&g(n,["toolConfig"],pX(S)),p(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=p(e,["cachedContent"]);n!==void 0&&k!=null&&g(n,["cachedContent"],fo(t,k));const T=p(e,["responseModalities"]);T!=null&&g(r,["responseModalities"],T);const I=p(e,["mediaResolution"]);I!=null&&g(r,["mediaResolution"],I);const P=p(e,["speechConfig"]);if(P!=null&&g(r,["speechConfig"],kE(P)),p(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=p(e,["thinkingConfig"]);M!=null&&g(r,["thinkingConfig"],M);const j=p(e,["imageConfig"]);j!=null&&g(r,["imageConfig"],qJ(j));const D=p(e,["enableEnhancedCivicAnswers"]);if(D!=null&&g(r,["enableEnhancedCivicAnswers"],D),p(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function xJ(t,e,n){const r={},i=p(e,["systemInstruction"]);n!==void 0&&i!=null&&g(n,["systemInstruction"],vn(i));const o=p(e,["temperature"]);o!=null&&g(r,["temperature"],o);const s=p(e,["topP"]);s!=null&&g(r,["topP"],s);const a=p(e,["topK"]);a!=null&&g(r,["topK"],a);const l=p(e,["candidateCount"]);l!=null&&g(r,["candidateCount"],l);const u=p(e,["maxOutputTokens"]);u!=null&&g(r,["maxOutputTokens"],u);const c=p(e,["stopSequences"]);c!=null&&g(r,["stopSequences"],c);const f=p(e,["responseLogprobs"]);f!=null&&g(r,["responseLogprobs"],f);const h=p(e,["logprobs"]);h!=null&&g(r,["logprobs"],h);const y=p(e,["presencePenalty"]);y!=null&&g(r,["presencePenalty"],y);const v=p(e,["frequencyPenalty"]);v!=null&&g(r,["frequencyPenalty"],v);const b=p(e,["seed"]);b!=null&&g(r,["seed"],b);const x=p(e,["responseMimeType"]);x!=null&&g(r,["responseMimeType"],x);const E=p(e,["responseSchema"]);E!=null&&g(r,["responseSchema"],IE(E));const w=p(e,["responseJsonSchema"]);w!=null&&g(r,["responseJsonSchema"],w);const _=p(e,["routingConfig"]);_!=null&&g(r,["routingConfig"],_);const C=p(e,["modelSelectionConfig"]);C!=null&&g(r,["modelConfig"],C);const S=p(e,["safetySettings"]);if(n!==void 0&&S!=null){let H=S;Array.isArray(H)&&(H=H.map(R=>R)),g(n,["safetySettings"],H)}const k=p(e,["tools"]);if(n!==void 0&&k!=null){let H=ku(k);Array.isArray(H)&&(H=H.map(R=>dL(Iu(R)))),g(n,["tools"],H)}const T=p(e,["toolConfig"]);n!==void 0&&T!=null&&g(n,["toolConfig"],T);const I=p(e,["labels"]);n!==void 0&&I!=null&&g(n,["labels"],I);const P=p(e,["cachedContent"]);n!==void 0&&P!=null&&g(n,["cachedContent"],fo(t,P));const M=p(e,["responseModalities"]);M!=null&&g(r,["responseModalities"],M);const j=p(e,["mediaResolution"]);j!=null&&g(r,["mediaResolution"],j);const D=p(e,["speechConfig"]);D!=null&&g(r,["speechConfig"],kE(D));const N=p(e,["audioTimestamp"]);N!=null&&g(r,["audioTimestamp"],N);const V=p(e,["thinkingConfig"]);V!=null&&g(r,["thinkingConfig"],V);const z=p(e,["imageConfig"]);if(z!=null&&g(r,["imageConfig"],HJ(z)),p(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const F=p(e,["modelArmorConfig"]);return n!==void 0&&F!=null&&g(n,["modelArmorConfig"],F),r}function CC(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["contents"]);if(i!=null){let s=br(i);Array.isArray(s)&&(s=s.map(a=>_0(a))),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&g(n,["generationConfig"],vJ(t,o,n)),n}function PC(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["contents"]);if(i!=null){let s=br(i);Array.isArray(s)&&(s=s.map(a=>a)),g(n,["contents"],s)}const o=p(e,["config"]);return o!=null&&g(n,["generationConfig"],xJ(t,o,n)),n}function NC(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>UY(u))),g(e,["candidates"],l)}const i=p(t,["modelVersion"]);i!=null&&g(e,["modelVersion"],i);const o=p(t,["promptFeedback"]);o!=null&&g(e,["promptFeedback"],o);const s=p(t,["responseId"]);s!=null&&g(e,["responseId"],s);const a=p(t,["usageMetadata"]);return a!=null&&g(e,["usageMetadata"],a),e}function RC(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),g(e,["candidates"],u)}const i=p(t,["createTime"]);i!=null&&g(e,["createTime"],i);const o=p(t,["modelVersion"]);o!=null&&g(e,["modelVersion"],o);const s=p(t,["promptFeedback"]);s!=null&&g(e,["promptFeedback"],s);const a=p(t,["responseId"]);a!=null&&g(e,["responseId"],a);const l=p(t,["usageMetadata"]);return l!=null&&g(e,["usageMetadata"],l),e}function bJ(t,e){const n={};if(p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["aspectRatio"]);e!==void 0&&i!=null&&g(e,["parameters","aspectRatio"],i);const o=p(t,["guidanceScale"]);if(e!==void 0&&o!=null&&g(e,["parameters","guidanceScale"],o),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=p(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&g(e,["parameters","safetySetting"],s);const a=p(t,["personGeneration"]);e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a);const l=p(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&g(e,["parameters","includeSafetyAttributes"],l);const u=p(t,["includeRaiReason"]);e!==void 0&&u!=null&&g(e,["parameters","includeRaiReason"],u);const c=p(t,["language"]);e!==void 0&&c!=null&&g(e,["parameters","language"],c);const f=p(t,["outputMimeType"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","mimeType"],f);const h=p(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&g(e,["parameters","outputOptions","compressionQuality"],h),p(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=p(t,["imageSize"]);if(e!==void 0&&y!=null&&g(e,["parameters","sampleImageSize"],y),p(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function wJ(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["negativePrompt"]);e!==void 0&&i!=null&&g(e,["parameters","negativePrompt"],i);const o=p(t,["numberOfImages"]);e!==void 0&&o!=null&&g(e,["parameters","sampleCount"],o);const s=p(t,["aspectRatio"]);e!==void 0&&s!=null&&g(e,["parameters","aspectRatio"],s);const a=p(t,["guidanceScale"]);e!==void 0&&a!=null&&g(e,["parameters","guidanceScale"],a);const l=p(t,["seed"]);e!==void 0&&l!=null&&g(e,["parameters","seed"],l);const u=p(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&g(e,["parameters","safetySetting"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const f=p(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&g(e,["parameters","includeSafetyAttributes"],f);const h=p(t,["includeRaiReason"]);e!==void 0&&h!=null&&g(e,["parameters","includeRaiReason"],h);const y=p(t,["language"]);e!==void 0&&y!=null&&g(e,["parameters","language"],y);const v=p(t,["outputMimeType"]);e!==void 0&&v!=null&&g(e,["parameters","outputOptions","mimeType"],v);const b=p(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&g(e,["parameters","outputOptions","compressionQuality"],b);const x=p(t,["addWatermark"]);e!==void 0&&x!=null&&g(e,["parameters","addWatermark"],x);const E=p(t,["labels"]);e!==void 0&&E!=null&&g(e,["labels"],E);const w=p(t,["imageSize"]);e!==void 0&&w!=null&&g(e,["parameters","sampleImageSize"],w);const _=p(t,["enhancePrompt"]);return e!==void 0&&_!=null&&g(e,["parameters","enhancePrompt"],_),n}function _J(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&bJ(o,n),n}function EJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["config"]);return o!=null&&wJ(o,n),n}function SJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>jJ(s))),g(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],uL(i)),e}function TJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>E0(s))),g(e,["generatedImages"],o)}const i=p(t,["positivePromptSafetyAttributes"]);return i!=null&&g(e,["positivePromptSafetyAttributes"],cL(i)),e}function AJ(t,e){const n={},r=p(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r),p(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(p(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=p(t,["durationSeconds"]);if(e!==void 0&&i!=null&&g(e,["parameters","durationSeconds"],i),p(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=p(t,["aspectRatio"]);e!==void 0&&o!=null&&g(e,["parameters","aspectRatio"],o);const s=p(t,["resolution"]);e!==void 0&&s!=null&&g(e,["parameters","resolution"],s);const a=p(t,["personGeneration"]);if(e!==void 0&&a!=null&&g(e,["parameters","personGeneration"],a),p(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=p(t,["negativePrompt"]);e!==void 0&&l!=null&&g(e,["parameters","negativePrompt"],l);const u=p(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&g(e,["parameters","enhancePrompt"],u),p(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=p(t,["lastFrame"]);e!==void 0&&c!=null&&g(e,["instances[0]","lastFrame"],S0(c));const f=p(t,["referenceImages"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>kX(y))),g(e,["instances[0]","referenceImages"],h)}if(p(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(p(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function IJ(t,e){const n={},r=p(t,["numberOfVideos"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["outputGcsUri"]);e!==void 0&&i!=null&&g(e,["parameters","storageUri"],i);const o=p(t,["fps"]);e!==void 0&&o!=null&&g(e,["parameters","fps"],o);const s=p(t,["durationSeconds"]);e!==void 0&&s!=null&&g(e,["parameters","durationSeconds"],s);const a=p(t,["seed"]);e!==void 0&&a!=null&&g(e,["parameters","seed"],a);const l=p(t,["aspectRatio"]);e!==void 0&&l!=null&&g(e,["parameters","aspectRatio"],l);const u=p(t,["resolution"]);e!==void 0&&u!=null&&g(e,["parameters","resolution"],u);const c=p(t,["personGeneration"]);e!==void 0&&c!=null&&g(e,["parameters","personGeneration"],c);const f=p(t,["pubsubTopic"]);e!==void 0&&f!=null&&g(e,["parameters","pubsubTopic"],f);const h=p(t,["negativePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","negativePrompt"],h);const y=p(t,["enhancePrompt"]);e!==void 0&&y!=null&&g(e,["parameters","enhancePrompt"],y);const v=p(t,["generateAudio"]);e!==void 0&&v!=null&&g(e,["parameters","generateAudio"],v);const b=p(t,["lastFrame"]);e!==void 0&&b!=null&&g(e,["instances[0]","lastFrame"],Xr(b));const x=p(t,["referenceImages"]);if(e!==void 0&&x!=null){let _=x;Array.isArray(_)&&(_=_.map(C=>CX(C))),g(e,["instances[0]","referenceImages"],_)}const E=p(t,["mask"]);e!==void 0&&E!=null&&g(e,["instances[0]","mask"],IX(E));const w=p(t,["compressionQuality"]);return e!==void 0&&w!=null&&g(e,["parameters","compressionQuality"],w),n}function kJ(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response","generateVideoResponse"]);return s!=null&&g(e,["response"],RJ(s)),e}function CJ(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],OJ(s)),e}function PJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&g(n,["instances[0]","image"],S0(o));const s=p(e,["video"]);s!=null&&g(n,["instances[0]","video"],fL(s));const a=p(e,["source"]);a!=null&&MJ(a,n);const l=p(e,["config"]);return l!=null&&AJ(l,n),n}function NJ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["prompt"]);i!=null&&g(n,["instances[0]","prompt"],i);const o=p(e,["image"]);o!=null&&g(n,["instances[0]","image"],Xr(o));const s=p(e,["video"]);s!=null&&g(n,["instances[0]","video"],hL(s));const a=p(e,["source"]);a!=null&&DJ(a,n);const l=p(e,["config"]);return l!=null&&IJ(l,n),n}function RJ(t){const e={},n=p(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>LJ(s))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function OJ(t){const e={},n=p(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>FJ(s))),g(e,["generatedVideos"],o)}const r=p(t,["raiMediaFilteredCount"]);r!=null&&g(e,["raiMediaFilteredCount"],r);const i=p(t,["raiMediaFilteredReasons"]);return i!=null&&g(e,["raiMediaFilteredReasons"],i),e}function MJ(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],S0(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],fL(o)),n}function DJ(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Xr(i));const o=p(t,["video"]);return e!==void 0&&o!=null&&g(e,["instances[0]","video"],hL(o)),n}function jJ(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],WJ(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);return i!=null&&g(e,["safetyAttributes"],uL(i)),e}function E0(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["image"],lL(n));const r=p(t,["raiFilteredReason"]);r!=null&&g(e,["raiFilteredReason"],r);const i=p(t,["_self"]);i!=null&&g(e,["safetyAttributes"],cL(i));const o=p(t,["prompt"]);return o!=null&&g(e,["enhancedPrompt"],o),e}function $J(t){const e={},n=p(t,["_self"]);n!=null&&g(e,["mask"],lL(n));const r=p(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(e,["labels"],i)}return e}function LJ(t){const e={},n=p(t,["video"]);return n!=null&&g(e,["video"],TX(n)),e}function FJ(t){const e={},n=p(t,["_self"]);return n!=null&&g(e,["video"],AX(n)),e}function VJ(t){const e={},n=p(t,["modelSelectionConfig"]);n!=null&&g(e,["modelConfig"],n);const r=p(t,["responseJsonSchema"]);r!=null&&g(e,["responseJsonSchema"],r);const i=p(t,["audioTimestamp"]);i!=null&&g(e,["audioTimestamp"],i);const o=p(t,["candidateCount"]);o!=null&&g(e,["candidateCount"],o);const s=p(t,["enableAffectiveDialog"]);s!=null&&g(e,["enableAffectiveDialog"],s);const a=p(t,["frequencyPenalty"]);a!=null&&g(e,["frequencyPenalty"],a);const l=p(t,["logprobs"]);l!=null&&g(e,["logprobs"],l);const u=p(t,["maxOutputTokens"]);u!=null&&g(e,["maxOutputTokens"],u);const c=p(t,["mediaResolution"]);c!=null&&g(e,["mediaResolution"],c);const f=p(t,["presencePenalty"]);f!=null&&g(e,["presencePenalty"],f);const h=p(t,["responseLogprobs"]);h!=null&&g(e,["responseLogprobs"],h);const y=p(t,["responseMimeType"]);y!=null&&g(e,["responseMimeType"],y);const v=p(t,["responseModalities"]);v!=null&&g(e,["responseModalities"],v);const b=p(t,["responseSchema"]);b!=null&&g(e,["responseSchema"],b);const x=p(t,["routingConfig"]);x!=null&&g(e,["routingConfig"],x);const E=p(t,["seed"]);E!=null&&g(e,["seed"],E);const w=p(t,["speechConfig"]);w!=null&&g(e,["speechConfig"],w);const _=p(t,["stopSequences"]);_!=null&&g(e,["stopSequences"],_);const C=p(t,["temperature"]);C!=null&&g(e,["temperature"],C);const S=p(t,["thinkingConfig"]);S!=null&&g(e,["thinkingConfig"],S);const k=p(t,["topK"]);k!=null&&g(e,["topK"],k);const T=p(t,["topP"]);if(T!=null&&g(e,["topP"],T),p(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function UJ(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Ye(t,r)),n}function BJ(t,e){const n={},r=p(e,["model"]);return r!=null&&g(n,["_url","name"],Ye(t,r)),n}function zJ(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function GJ(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function qJ(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);if(r!=null&&g(e,["imageSize"],r),p(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(p(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(p(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function HJ(t){const e={},n=p(t,["aspectRatio"]);n!=null&&g(e,["aspectRatio"],n);const r=p(t,["imageSize"]);r!=null&&g(e,["imageSize"],r);const i=p(t,["personGeneration"]);i!=null&&g(e,["personGeneration"],i);const o=p(t,["outputMimeType"]);o!=null&&g(e,["imageOutputOptions","mimeType"],o);const s=p(t,["outputCompressionQuality"]);return s!=null&&g(e,["imageOutputOptions","compressionQuality"],s),e}function WJ(t){const e={},n=p(t,["bytesBase64Encoded"]);n!=null&&g(e,["imageBytes"],ps(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function lL(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["imageBytes"],ps(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function S0(t){const e={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=p(t,["imageBytes"]);n!=null&&g(e,["bytesBase64Encoded"],ps(n));const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function Xr(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["imageBytes"]);r!=null&&g(e,["bytesBase64Encoded"],ps(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function KJ(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const s=p(e,["filter"]);n!==void 0&&s!=null&&g(n,["_query","filter"],s);const a=p(e,["queryBase"]);return n!==void 0&&a!=null&&g(n,["_url","models_url"],tL(t,a)),r}function YJ(t,e,n){const r={},i=p(e,["pageSize"]);n!==void 0&&i!=null&&g(n,["_query","pageSize"],i);const o=p(e,["pageToken"]);n!==void 0&&o!=null&&g(n,["_query","pageToken"],o);const s=p(e,["filter"]);n!==void 0&&s!=null&&g(n,["_query","filter"],s);const a=p(e,["queryBase"]);return n!==void 0&&a!=null&&g(n,["_url","models_url"],tL(t,a)),r}function JJ(t,e){const n={},r=p(e,["config"]);return r!=null&&KJ(t,r,n),n}function XJ(t,e){const n={},r=p(e,["config"]);return r!=null&&YJ(t,r,n),n}function QJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=nL(i);Array.isArray(o)&&(o=o.map(s=>Rb(s))),g(e,["models"],o)}return e}function ZJ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["_self"]);if(i!=null){let o=nL(i);Array.isArray(o)&&(o=o.map(s=>Ob(s))),g(e,["models"],o)}return e}function eX(t){const e={},n=p(t,["maskMode"]);n!=null&&g(e,["maskMode"],n);const r=p(t,["segmentationClasses"]);r!=null&&g(e,["maskClasses"],r);const i=p(t,["maskDilation"]);return i!=null&&g(e,["dilation"],i),e}function Rb(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const o=p(t,["version"]);o!=null&&g(e,["version"],o);const s=p(t,["_self"]);s!=null&&g(e,["tunedModelInfo"],gX(s));const a=p(t,["inputTokenLimit"]);a!=null&&g(e,["inputTokenLimit"],a);const l=p(t,["outputTokenLimit"]);l!=null&&g(e,["outputTokenLimit"],l);const u=p(t,["supportedGenerationMethods"]);u!=null&&g(e,["supportedActions"],u);const c=p(t,["temperature"]);c!=null&&g(e,["temperature"],c);const f=p(t,["maxTemperature"]);f!=null&&g(e,["maxTemperature"],f);const h=p(t,["topP"]);h!=null&&g(e,["topP"],h);const y=p(t,["topK"]);y!=null&&g(e,["topK"],y);const v=p(t,["thinking"]);return v!=null&&g(e,["thinking"],v),e}function Ob(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["displayName"]);r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);i!=null&&g(e,["description"],i);const o=p(t,["versionId"]);o!=null&&g(e,["version"],o);const s=p(t,["deployedModels"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>hJ(h))),g(e,["endpoints"],f)}const a=p(t,["labels"]);a!=null&&g(e,["labels"],a);const l=p(t,["_self"]);l!=null&&g(e,["tunedModelInfo"],yX(l));const u=p(t,["defaultCheckpointId"]);u!=null&&g(e,["defaultCheckpointId"],u);const c=p(t,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>h)),g(e,["checkpoints"],f)}return e}function tX(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],pJ(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],mJ(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],VY(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["thought"]);c!=null&&g(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function nX(t){const e={},n=p(t,["productImage"]);return n!=null&&g(e,["image"],Xr(n)),e}function rX(t,e){const n={},r=p(t,["numberOfImages"]);e!==void 0&&r!=null&&g(e,["parameters","sampleCount"],r);const i=p(t,["baseSteps"]);e!==void 0&&i!=null&&g(e,["parameters","baseSteps"],i);const o=p(t,["outputGcsUri"]);e!==void 0&&o!=null&&g(e,["parameters","storageUri"],o);const s=p(t,["seed"]);e!==void 0&&s!=null&&g(e,["parameters","seed"],s);const a=p(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&g(e,["parameters","safetySetting"],a);const l=p(t,["personGeneration"]);e!==void 0&&l!=null&&g(e,["parameters","personGeneration"],l);const u=p(t,["addWatermark"]);e!==void 0&&u!=null&&g(e,["parameters","addWatermark"],u);const c=p(t,["outputMimeType"]);e!==void 0&&c!=null&&g(e,["parameters","outputOptions","mimeType"],c);const f=p(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&g(e,["parameters","outputOptions","compressionQuality"],f);const h=p(t,["enhancePrompt"]);e!==void 0&&h!=null&&g(e,["parameters","enhancePrompt"],h);const y=p(t,["labels"]);return e!==void 0&&y!=null&&g(e,["labels"],y),n}function iX(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["source"]);i!=null&&sX(i,n);const o=p(e,["config"]);return o!=null&&rX(o,n),n}function oX(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>E0(i))),g(e,["generatedImages"],r)}return e}function sX(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["personImage"]);e!==void 0&&i!=null&&g(e,["instances[0]","personImage","image"],Xr(i));const o=p(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>nX(a))),g(e,["instances[0]","productImages"],s)}return n}function aX(t){const e={},n=p(t,["referenceImage"]);n!=null&&g(e,["referenceImage"],Xr(n));const r=p(t,["referenceId"]);r!=null&&g(e,["referenceId"],r);const i=p(t,["referenceType"]);i!=null&&g(e,["referenceType"],i);const o=p(t,["maskImageConfig"]);o!=null&&g(e,["maskImageConfig"],eX(o));const s=p(t,["controlImageConfig"]);s!=null&&g(e,["controlImageConfig"],WY(s));const a=p(t,["styleImageConfig"]);a!=null&&g(e,["styleImageConfig"],a);const l=p(t,["subjectImageConfig"]);return l!=null&&g(e,["subjectImageConfig"],l),e}function uL(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function cL(t){const e={},n=p(t,["safetyAttributes","categories"]);n!=null&&g(e,["categories"],n);const r=p(t,["safetyAttributes","scores"]);r!=null&&g(e,["scores"],r);const i=p(t,["contentType"]);return i!=null&&g(e,["contentType"],i),e}function lX(t){const e={},n=p(t,["category"]);if(n!=null&&g(e,["category"],n),p(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=p(t,["threshold"]);return r!=null&&g(e,["threshold"],r),e}function uX(t){const e={},n=p(t,["image"]);return n!=null&&g(e,["image"],Xr(n)),e}function cX(t,e){const n={},r=p(t,["mode"]);e!==void 0&&r!=null&&g(e,["parameters","mode"],r);const i=p(t,["maxPredictions"]);e!==void 0&&i!=null&&g(e,["parameters","maxPredictions"],i);const o=p(t,["confidenceThreshold"]);e!==void 0&&o!=null&&g(e,["parameters","confidenceThreshold"],o);const s=p(t,["maskDilation"]);e!==void 0&&s!=null&&g(e,["parameters","maskDilation"],s);const a=p(t,["binaryColorThreshold"]);e!==void 0&&a!=null&&g(e,["parameters","binaryColorThreshold"],a);const l=p(t,["labels"]);return e!==void 0&&l!=null&&g(e,["labels"],l),n}function dX(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["source"]);i!=null&&hX(i,n);const o=p(e,["config"]);return o!=null&&cX(o,n),n}function fX(t){const e={},n=p(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>$J(i))),g(e,["generatedMasks"],r)}return e}function hX(t,e){const n={},r=p(t,["prompt"]);e!==void 0&&r!=null&&g(e,["instances[0]","prompt"],r);const i=p(t,["image"]);e!==void 0&&i!=null&&g(e,["instances[0]","image"],Xr(i));const o=p(t,["scribbleImage"]);return e!==void 0&&o!=null&&g(e,["instances[0]","scribble"],uX(o)),n}function pX(t){const e={},n=p(t,["retrievalConfig"]);n!=null&&g(e,["retrievalConfig"],n);const r=p(t,["functionCallingConfig"]);return r!=null&&g(e,["functionCallingConfig"],gJ(r)),e}function mX(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),g(e,["functionDeclarations"],c)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],zJ(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],GJ(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}function dL(t){const e={},n=p(t,["retrieval"]);n!=null&&g(e,["retrieval"],n);const r=p(t,["computerUse"]);if(r!=null&&g(e,["computerUse"],r),p(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=p(t,["codeExecution"]);i!=null&&g(e,["codeExecution"],i);const o=p(t,["enterpriseWebSearch"]);o!=null&&g(e,["enterpriseWebSearch"],o);const s=p(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(h=>yJ(h))),g(e,["functionDeclarations"],f)}const a=p(t,["googleMaps"]);a!=null&&g(e,["googleMaps"],a);const l=p(t,["googleSearch"]);l!=null&&g(e,["googleSearch"],l);const u=p(t,["googleSearchRetrieval"]);u!=null&&g(e,["googleSearchRetrieval"],u);const c=p(t,["urlContext"]);return c!=null&&g(e,["urlContext"],c),e}function gX(t){const e={},n=p(t,["baseModel"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function yX(t){const e={},n=p(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&g(e,["baseModel"],n);const r=p(t,["createTime"]);r!=null&&g(e,["createTime"],r);const i=p(t,["updateTime"]);return i!=null&&g(e,["updateTime"],i),e}function vX(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function xX(t,e){const n={},r=p(t,["displayName"]);e!==void 0&&r!=null&&g(e,["displayName"],r);const i=p(t,["description"]);e!==void 0&&i!=null&&g(e,["description"],i);const o=p(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&g(e,["defaultCheckpointId"],o),n}function bX(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","name"],Ye(t,r));const i=p(e,["config"]);return i!=null&&vX(i,n),n}function wX(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["config"]);return i!=null&&xX(i,n),n}function _X(t,e){const n={},r=p(t,["outputGcsUri"]);e!==void 0&&r!=null&&g(e,["parameters","storageUri"],r);const i=p(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&g(e,["parameters","safetySetting"],i);const o=p(t,["personGeneration"]);e!==void 0&&o!=null&&g(e,["parameters","personGeneration"],o);const s=p(t,["includeRaiReason"]);e!==void 0&&s!=null&&g(e,["parameters","includeRaiReason"],s);const a=p(t,["outputMimeType"]);e!==void 0&&a!=null&&g(e,["parameters","outputOptions","mimeType"],a);const l=p(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&g(e,["parameters","outputOptions","compressionQuality"],l);const u=p(t,["enhanceInputImage"]);e!==void 0&&u!=null&&g(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=p(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&g(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["numberOfImages"]);e!==void 0&&h!=null&&g(e,["parameters","sampleCount"],h);const y=p(t,["mode"]);return e!==void 0&&y!=null&&g(e,["parameters","mode"],y),n}function EX(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["_url","model"],Ye(t,r));const i=p(e,["image"]);i!=null&&g(n,["instances[0]","image"],Xr(i));const o=p(e,["upscaleFactor"]);o!=null&&g(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=p(e,["config"]);return s!=null&&_X(s,n),n}function SX(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>E0(o))),g(e,["generatedImages"],i)}return e}function TX(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["encodedVideo"]);r!=null&&g(e,["videoBytes"],ps(r));const i=p(t,["encoding"]);return i!=null&&g(e,["mimeType"],i),e}function AX(t){const e={},n=p(t,["gcsUri"]);n!=null&&g(e,["uri"],n);const r=p(t,["bytesBase64Encoded"]);r!=null&&g(e,["videoBytes"],ps(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}function IX(t){const e={},n=p(t,["image"]);n!=null&&g(e,["_self"],Xr(n));const r=p(t,["maskMode"]);return r!=null&&g(e,["maskMode"],r),e}function kX(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],S0(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function CX(t){const e={},n=p(t,["image"]);n!=null&&g(e,["image"],Xr(n));const r=p(t,["referenceType"]);return r!=null&&g(e,["referenceType"],r),e}function fL(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["uri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["encodedVideo"],ps(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["encoding"],i),e}function hL(t){const e={},n=p(t,["uri"]);n!=null&&g(e,["gcsUri"],n);const r=p(t,["videoBytes"]);r!=null&&g(e,["bytesBase64Encoded"],ps(r));const i=p(t,["mimeType"]);return i!=null&&g(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PX(t,e){const n={},r=p(t,["displayName"]);return e!==void 0&&r!=null&&g(e,["displayName"],r),n}function NX(t){const e={},n=p(t,["config"]);return n!=null&&PX(n,e),e}function RX(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function OX(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&RX(r,e),e}function MX(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function DX(t,e){const n={},r=p(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["customMetadata"],o)}const i=p(t,["chunkingConfig"]);return e!==void 0&&i!=null&&g(e,["chunkingConfig"],i),n}function jX(t){const e={},n=p(t,["name"]);n!=null&&g(e,["name"],n);const r=p(t,["metadata"]);r!=null&&g(e,["metadata"],r);const i=p(t,["done"]);i!=null&&g(e,["done"],i);const o=p(t,["error"]);o!=null&&g(e,["error"],o);const s=p(t,["response"]);return s!=null&&g(e,["response"],LX(s)),e}function $X(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["fileName"]);r!=null&&g(e,["fileName"],r);const i=p(t,["config"]);return i!=null&&DX(i,e),e}function LX(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["parent"]);r!=null&&g(e,["parent"],r);const i=p(t,["documentName"]);return i!=null&&g(e,["documentName"],i),e}function FX(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function VX(t){const e={},n=p(t,["config"]);return n!=null&&FX(n,e),e}function UX(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["fileSearchStores"],o)}return e}function pL(t,e){const n={},r=p(t,["mimeType"]);e!==void 0&&r!=null&&g(e,["mimeType"],r);const i=p(t,["displayName"]);e!==void 0&&i!=null&&g(e,["displayName"],i);const o=p(t,["customMetadata"]);if(e!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(l=>l)),g(e,["customMetadata"],a)}const s=p(t,["chunkingConfig"]);return e!==void 0&&s!=null&&g(e,["chunkingConfig"],s),n}function BX(t){const e={},n=p(t,["fileSearchStoreName"]);n!=null&&g(e,["_url","file_search_store_name"],n);const r=p(t,["config"]);return r!=null&&pL(r,e),e}function zX(t){const e={},n=p(t,["sdkHttpResponse"]);return n!=null&&g(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GX="Content-Type",qX="X-Server-Timeout",HX="User-Agent",Mb="x-goog-api-client",WX="1.38.0",KX=`google-genai-sdk/${WX}`,YX="v1beta1",JX="v1beta";class XX{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const a=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!a?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:YX}else{if(!this.clientOptions.apiKey)throw new Vd({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:JX,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===kb.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,a]of Object.entries(e.queryParams))i.searchParams.append(s,String(a));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const a=setTimeout(()=>o.abort(),n.timeout);a&&typeof a.unref=="function"&&a.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&QX(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await OC(i),new Cb(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await OC(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return qr(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const a="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield Oe(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c,{stream:!0});try{const v=JSON.parse(f);if("error"in v){const b=JSON.parse(JSON.stringify(v.error)),x=b.status,E=b.code,w=`got status: ${x}. ${JSON.stringify(v)}`;if(E>=400&&E<600)throw new Vd({message:w,status:E})}}catch(v){if(v.name==="ApiError")throw v}s+=f;let h=-1,y=0;for(;;){h=-1,y=0;for(const x of l){const E=s.indexOf(x);E!==-1&&(h===-1||E<h)&&(h=E,y=x.length)}if(h===-1)break;const v=s.substring(0,h);s=s.substring(h+y);const b=v.trim();if(b.startsWith(a)){const x=b.substring(a.length).trim();try{const E=new Response(x,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Oe(new Cb(E))}catch(E){throw new Error(`exception parsing stream chunk ${x}. ${E}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=KX+" "+this.clientOptions.userAgentExtra;return e[HX]=n,e[Mb]=n,e[GX]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(qX,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const a=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(a===void 0||a==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=a;const l={file:i},u=this.getFileName(e),c=pe("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return o.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),a=String(s.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),f={};r!=null&&pL(r,f);const h=await this.fetchUploadUrl(u,a,l,c,f,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var a;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(a=u==null?void 0:u.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function OC(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Vd({message:i,status:n}):new Error(i)}}function QX(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const a=Object.assign({},o);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],c=a[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?a[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),a[l]=u)}return a}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZX="mcp_used/unknown";let eQ=!1;function mL(t){for(const e of t)if(tQ(e)||typeof e=="object"&&"inputSchema"in e)return!0;return eQ}function gL(t){var e;const n=(e=t[Mb])!==null&&e!==void 0?e:"";t[Mb]=(n+` ${ZX}`).trimStart()}function tQ(t){return t!==null&&typeof t=="object"&&t instanceof PE}function nQ(t){return qr(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const s=yield Oe(n.listTools({cursor:i}));for(const a of s.tools)yield yield Oe(a),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class PE{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new PE(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const c of this.mcpClients)try{for(var a=!0,l=(n=void 0,Hr(nQ(c))),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const f=i;s.push(f);const h=f.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=c}}catch(f){n={error:f}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),OW(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function rQ(t,e,n){const r=new TW;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class iQ{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=aQ(this.apiClient.getDefaultHeaders()),a=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${a}`;let u=()=>{};const c=new Promise(_=>{u=_}),f=e.callbacks,h=function(){u({})},y=this.apiClient,v={onopen:h,onmessage:_=>{rQ(y,f.onmessage,_)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(_){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(_){}},b=this.webSocketFactory.create(l,sQ(s),v);b.connect(),await c;const w={setup:{model:Ye(this.apiClient,e.model)}};return b.send(JSON.stringify(w)),new oQ(b,this.apiClient)}}class oQ{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=PY(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=CY(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(rl.PLAY)}pause(){this.sendPlaybackControl(rl.PAUSE)}stop(){this.sendPlaybackControl(rl.STOP)}resetContext(){this.sendPlaybackControl(rl.RESET_CONTEXT)}close(){this.conn.close()}}function sQ(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function aQ(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lQ="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function uQ(t,e,n){const r=new SW;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=OY(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class cQ{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new iQ(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&mL(e.config.tools)&&gL(f);const h=pQ(f);if(this.apiClient.isVertexAI()){const P=this.apiClient.getProject(),M=this.apiClient.getLocation(),j=this.apiClient.getApiKey(),D=!!P&&!!M||!!j;this.apiClient.getCustomBaseUrl()&&!D?c=l:(c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,c))}else{const P=this.apiClient.getApiKey();let M="BidiGenerateContent",j="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),M="BidiGenerateContentConstrained",j="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${M}?${j}=${P}`}let y=()=>{};const v=new Promise(P=>{y=P}),b=e.callbacks,x=function(){var P;(P=b==null?void 0:b.onopen)===null||P===void 0||P.call(b),y({})},E=this.apiClient,w={onopen:x,onmessage:P=>{uQ(E,b.onmessage,P)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(P){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(P){}},_=this.webSocketFactory.create(c,hQ(h),w);_.connect(),await v;let C=Ye(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const P=this.apiClient.getProject(),M=this.apiClient.getLocation();P&&M&&(C=`projects/${P}/locations/${M}/`+C)}let S={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Cm.AUDIO]}:e.config.responseModalities=[Cm.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(a=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[],T=[];for(const P of k)if(this.isCallableTool(P)){const M=P;T.push(await M.tool())}else T.push(P);T.length>0&&(e.config.tools=T);const I={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?S=kY(this.apiClient,I):S=IY(this.apiClient,I),delete S.config,_.send(JSON.stringify(S)),new fQ(_,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const dQ={turnComplete:!0};class fQ{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=br(n.turns),e.isVertexAI()||(r=r.map(i=>_0(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(lQ)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},dQ),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:RY(e)}:n={realtimeInput:NY(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function hQ(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function pQ(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MC=10;function DC(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(wl(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function wl(t){return"callTool"in t&&typeof t.callTool=="function"}function mQ(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>wl(i)))!==null&&r!==void 0?r:!1}function jC(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(wl(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function $C(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gQ extends co{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,a;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!mQ(n)||DC(n.config))return await this.generateContentInternal(l);const u=jC(n);if(u.length>0){const b=u.map(x=>`tools[${x}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${b}.`)}let c,f;const h=br(l.contents),y=(o=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:MC;let v=0;for(;v<y&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const b=c.candidates[0].content,x=[];for(const E of(a=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&a!==void 0?a:[])if(wl(E)){const _=await E.callTool(c.functionCalls);x.push(..._)}v++,f={role:"user",parts:x},l.contents=br(l.contents),l.contents.push(b),l.contents.push(f),$C(l.config)&&(h.push(b),h.push(f))}return $C(l.config)&&(c.automaticFunctionCallingHistory=h),c},this.generateContentStream=async n=>{var r,i,o,s,a;if(this.maybeMoveToResponseJsonSchem(n),DC(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=jC(n);if(l.length>0){const f=l.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,c=(a=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=l==null?void 0:l.safetyAttributes:s.push(l);let a;return o?a={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:a={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},a}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Sa(to.PAGED_ITEM_MODELS,a=>this.listInternal(a),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,a,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async l=>wl(l)?await l.tool():l)),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(a.config.tools=s,e.config&&e.config.tools&&mL(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),gL(u),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return a}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(wl(s)){const a=s,l=await a.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(o.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);o.set(u.name,a)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:MC;let s=!1,a=0;const l=await this.initAfcToolsMap(e);return function(u,c,f){return qr(this,arguments,function*(){for(var h,y,v,b,x,E;a<o;){s&&(a++,s=!1);const S=yield Oe(u.processParamsMaybeAddMcpUsage(f)),k=yield Oe(u.generateContentStreamInternal(S)),T=[],I=[];try{for(var w=!0,_=(y=void 0,Hr(k)),C;C=yield Oe(_.next()),h=C.done,!h;w=!0){b=C.value,w=!1;const P=b;if(yield yield Oe(P),P.candidates&&(!((x=P.candidates[0])===null||x===void 0)&&x.content)){I.push(P.candidates[0].content);for(const M of(E=P.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(a<o&&M.functionCall){if(!M.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(M.functionCall.name)){const j=yield Oe(c.get(M.functionCall.name).callTool([M.functionCall]));T.push(...j)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${M.functionCall.name}`)}}}}catch(P){y={error:P}}finally{try{!w&&!h&&(v=_.return)&&(yield Oe(v.call(_)))}finally{if(y)throw y.error}}if(T.length>0){s=!0;const P=new pc;P.candidates=[{content:{role:"user",parts:T}}],yield yield Oe(P);const M=[];M.push(...I),M.push({role:"user",parts:T});const j=br(f.contents).concat(M);f.contents=j}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=PC(this.apiClient,e);return a=pe("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=RC(c),h=new pc;return Object.assign(h,f),h})}else{const u=CC(this.apiClient,e);return a=pe("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=NC(c),h=new pc;return Object.assign(h,f),h})}}async generateContentStreamInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=PC(this.apiClient,e);return a=pe("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(f){return qr(this,arguments,function*(){var h,y,v,b;try{for(var x=!0,E=Hr(f),w;w=yield Oe(E.next()),h=w.done,!h;x=!0){b=w.value,x=!1;const _=b,C=RC(yield Oe(_.json()));C.sdkHttpResponse={headers:_.headers};const S=new pc;Object.assign(S,C),yield yield Oe(S)}}catch(_){y={error:_}}finally{try{!x&&!h&&(v=E.return)&&(yield Oe(v.call(E)))}finally{if(y)throw y.error}}})})}else{const u=CC(this.apiClient,e);return a=pe("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(f){return qr(this,arguments,function*(){var h,y,v,b;try{for(var x=!0,E=Hr(f),w;w=yield Oe(E.next()),h=w.done,!h;x=!0){b=w.value,x=!1;const _=b,C=NC(yield Oe(_.json()));C.sdkHttpResponse={headers:_.headers};const S=new pc;Object.assign(S,C),yield yield Oe(S)}}catch(_){y={error:_}}finally{try{!x&&!h&&(v=E.return)&&(yield Oe(v.call(E)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=cJ(this.apiClient,e);return a=pe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=fJ(c),h=new fC;return Object.assign(h,f),h})}else{const u=uJ(this.apiClient,e);return a=pe("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=dJ(c),h=new fC;return Object.assign(h,f),h})}}async generateImagesInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=EJ(this.apiClient,e);return a=pe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=TJ(c),h=new hC;return Object.assign(h,f),h})}else{const u=_J(this.apiClient,e);return a=pe("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=SJ(c),h=new hC;return Object.assign(h,f),h})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=oJ(this.apiClient,e);return o=pe("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=sJ(l),c=new hW;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=EX(this.apiClient,e);return o=pe("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=SX(l),c=new pW;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=iX(this.apiClient,e);return o=pe("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=oX(l),c=new mW;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=dX(this.apiClient,e);return o=pe("{model}:predict",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=fX(l),c=new gW;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=BJ(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Ob(c))}else{const u=UJ(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Rb(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=XJ(this.apiClient,e);return a=pe("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=ZJ(c),h=new pC;return Object.assign(h,f),h})}else{const u=JJ(this.apiClient,e);return a=pe("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=QJ(c),h=new pC;return Object.assign(h,f),h})}}async update(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=wX(this.apiClient,e);return a=pe("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Ob(c))}else{const u=bX(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>Rb(c))}}async delete(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=tJ(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=rJ(c),h=new mC;return Object.assign(h,f),h})}else{const u=eJ(this.apiClient,e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=nJ(c),h=new mC;return Object.assign(h,f),h})}}async countTokens(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=XY(this.apiClient,e);return a=pe("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=ZY(c),h=new gC;return Object.assign(h,f),h})}else{const u=JY(this.apiClient,e);return a=pe("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=QY(c),h=new gC;return Object.assign(h,f),h})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=zY(this.apiClient,e);return o=pe("{model}:computeTokens",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=GY(l),c=new yW;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=NJ(this.apiClient,e);return a=pe("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=CJ(c),h=new Pm;return Object.assign(h,f),h})}else{const u=PJ(this.apiClient,e);return a=pe("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s.then(c=>{const f=kJ(c),h=new Pm;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yQ extends co{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=aW(e);return a=pe("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else{const u=sW(e);return a=pe("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=ZH(e);return o=pe("{resourceName}:fetchPredictOperation",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vQ(t){const e={},n=p(t,["data"]);if(n!=null&&g(e,["data"],n),p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function xQ(t){const e={},n=p(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>kQ(o))),g(e,["parts"],i)}const r=p(t,["role"]);return r!=null&&g(e,["role"],r),e}function bQ(t,e,n){const r={},i=p(e,["expireTime"]);n!==void 0&&i!=null&&g(n,["expireTime"],i);const o=p(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&g(n,["newSessionExpireTime"],o);const s=p(e,["uses"]);n!==void 0&&s!=null&&g(n,["uses"],s);const a=p(e,["liveConnectConstraints"]);n!==void 0&&a!=null&&g(n,["bidiGenerateContentSetup"],IQ(t,a));const l=p(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&g(n,["fieldMask"],l),r}function wQ(t,e){const n={},r=p(e,["config"]);return r!=null&&g(n,["config"],bQ(t,r,n)),n}function _Q(t){const e={};if(p(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=p(t,["fileUri"]);n!=null&&g(e,["fileUri"],n);const r=p(t,["mimeType"]);return r!=null&&g(e,["mimeType"],r),e}function EQ(t){const e={},n=p(t,["id"]);n!=null&&g(e,["id"],n);const r=p(t,["args"]);r!=null&&g(e,["args"],r);const i=p(t,["name"]);if(i!=null&&g(e,["name"],i),p(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(p(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function SQ(t){const e={};if(p(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=p(t,["enableWidget"]);return n!=null&&g(e,["enableWidget"],n),e}function TQ(t){const e={};if(p(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(p(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=p(t,["timeRangeFilter"]);return n!=null&&g(e,["timeRangeFilter"],n),e}function AQ(t,e){const n={},r=p(t,["generationConfig"]);e!==void 0&&r!=null&&g(e,["setup","generationConfig"],r);const i=p(t,["responseModalities"]);e!==void 0&&i!=null&&g(e,["setup","generationConfig","responseModalities"],i);const o=p(t,["temperature"]);e!==void 0&&o!=null&&g(e,["setup","generationConfig","temperature"],o);const s=p(t,["topP"]);e!==void 0&&s!=null&&g(e,["setup","generationConfig","topP"],s);const a=p(t,["topK"]);e!==void 0&&a!=null&&g(e,["setup","generationConfig","topK"],a);const l=p(t,["maxOutputTokens"]);e!==void 0&&l!=null&&g(e,["setup","generationConfig","maxOutputTokens"],l);const u=p(t,["mediaResolution"]);e!==void 0&&u!=null&&g(e,["setup","generationConfig","mediaResolution"],u);const c=p(t,["seed"]);e!==void 0&&c!=null&&g(e,["setup","generationConfig","seed"],c);const f=p(t,["speechConfig"]);e!==void 0&&f!=null&&g(e,["setup","generationConfig","speechConfig"],CE(f));const h=p(t,["thinkingConfig"]);e!==void 0&&h!=null&&g(e,["setup","generationConfig","thinkingConfig"],h);const y=p(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&g(e,["setup","generationConfig","enableAffectiveDialog"],y);const v=p(t,["systemInstruction"]);e!==void 0&&v!=null&&g(e,["setup","systemInstruction"],xQ(vn(v)));const b=p(t,["tools"]);if(e!==void 0&&b!=null){let k=ku(b);Array.isArray(k)&&(k=k.map(T=>PQ(Iu(T)))),g(e,["setup","tools"],k)}const x=p(t,["sessionResumption"]);e!==void 0&&x!=null&&g(e,["setup","sessionResumption"],CQ(x));const E=p(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&g(e,["setup","inputAudioTranscription"],E);const w=p(t,["outputAudioTranscription"]);e!==void 0&&w!=null&&g(e,["setup","outputAudioTranscription"],w);const _=p(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&g(e,["setup","realtimeInputConfig"],_);const C=p(t,["contextWindowCompression"]);e!==void 0&&C!=null&&g(e,["setup","contextWindowCompression"],C);const S=p(t,["proactivity"]);if(e!==void 0&&S!=null&&g(e,["setup","proactivity"],S),p(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function IQ(t,e){const n={},r=p(e,["model"]);r!=null&&g(n,["setup","model"],Ye(t,r));const i=p(e,["config"]);return i!=null&&g(n,["config"],AQ(i,n)),n}function kQ(t){const e={},n=p(t,["mediaResolution"]);n!=null&&g(e,["mediaResolution"],n);const r=p(t,["codeExecutionResult"]);r!=null&&g(e,["codeExecutionResult"],r);const i=p(t,["executableCode"]);i!=null&&g(e,["executableCode"],i);const o=p(t,["fileData"]);o!=null&&g(e,["fileData"],_Q(o));const s=p(t,["functionCall"]);s!=null&&g(e,["functionCall"],EQ(s));const a=p(t,["functionResponse"]);a!=null&&g(e,["functionResponse"],a);const l=p(t,["inlineData"]);l!=null&&g(e,["inlineData"],vQ(l));const u=p(t,["text"]);u!=null&&g(e,["text"],u);const c=p(t,["thought"]);c!=null&&g(e,["thought"],c);const f=p(t,["thoughtSignature"]);f!=null&&g(e,["thoughtSignature"],f);const h=p(t,["videoMetadata"]);return h!=null&&g(e,["videoMetadata"],h),e}function CQ(t){const e={},n=p(t,["handle"]);if(n!=null&&g(e,["handle"],n),p(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function PQ(t){const e={};if(p(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=p(t,["computerUse"]);n!=null&&g(e,["computerUse"],n);const r=p(t,["fileSearch"]);r!=null&&g(e,["fileSearch"],r);const i=p(t,["codeExecution"]);if(i!=null&&g(e,["codeExecution"],i),p(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=p(t,["functionDeclarations"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),g(e,["functionDeclarations"],c)}const s=p(t,["googleMaps"]);s!=null&&g(e,["googleMaps"],SQ(s));const a=p(t,["googleSearch"]);a!=null&&g(e,["googleSearch"],TQ(a));const l=p(t,["googleSearchRetrieval"]);l!=null&&g(e,["googleSearchRetrieval"],l);const u=p(t,["urlContext"]);return u!=null&&g(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NQ(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function RQ(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=NQ(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let a=[];i.length>0&&(a=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];o&&l.push(o),a.length>0&&l.push(...a),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class OQ extends co{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=wQ(this.apiClient,e);o=pe("auth_tokens",a._url),s=a._query,delete a.config,delete a._url,delete a._query;const l=RQ(a,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MQ(t,e){const n={},r=p(t,["force"]);return e!==void 0&&r!=null&&g(e,["_query","force"],r),n}function DQ(t){const e={},n=p(t,["name"]);n!=null&&g(e,["_url","name"],n);const r=p(t,["config"]);return r!=null&&MQ(r,e),e}function jQ(t){const e={},n=p(t,["name"]);return n!=null&&g(e,["_url","name"],n),e}function $Q(t,e){const n={},r=p(t,["pageSize"]);e!==void 0&&r!=null&&g(e,["_query","pageSize"],r);const i=p(t,["pageToken"]);return e!==void 0&&i!=null&&g(e,["_query","pageToken"],i),n}function LQ(t){const e={},n=p(t,["parent"]);n!=null&&g(e,["_url","parent"],n);const r=p(t,["config"]);return r!=null&&$Q(r,e),e}function FQ(t){const e={},n=p(t,["sdkHttpResponse"]);n!=null&&g(e,["sdkHttpResponse"],n);const r=p(t,["nextPageToken"]);r!=null&&g(e,["nextPageToken"],r);const i=p(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),g(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VQ extends co{constructor(e){super(),this.apiClient=e,this.list=async n=>new Sa(to.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=jQ(e);return o=pe("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=DQ(e);i=pe("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=LQ(e);return o=pe("{parent}/documents",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=FQ(l),c=new vW;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UQ extends co{constructor(e,n=new VQ(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Sa(to.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=NX(e);return o=pe("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=MX(e);return o=pe("{name}",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=OX(e);i=pe("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=VX(e);return o=pe("fileSearchStores",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=UX(l),c=new xW;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=BX(e);return o=pe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=zX(l),c=new bW;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=$X(e);return o=pe("{file_search_store_name}:importFile",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=jX(l),c=new SE;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let yL=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return yL=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const BQ=()=>yL();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Db(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const jb=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tr extends Error{}class Dn extends Tr{constructor(e,n,r,i){super(`${Dn.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new T0({message:r,cause:jb(n)});const o=n;return e===400?new xL(e,o,r,i):e===401?new bL(e,o,r,i):e===403?new wL(e,o,r,i):e===404?new _L(e,o,r,i):e===409?new EL(e,o,r,i):e===422?new SL(e,o,r,i):e===429?new TL(e,o,r,i):e>=500?new AL(e,o,r,i):new Dn(e,o,r,i)}}class $b extends Dn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class T0 extends Dn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class vL extends T0{constructor({message:e}={}){super({message:e??"Request timed out."})}}class xL extends Dn{}class bL extends Dn{}class wL extends Dn{}class _L extends Dn{}class EL extends Dn{}class SL extends Dn{}class TL extends Dn{}class AL extends Dn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zQ=/^[a-z][a-z0-9+.-]*:/i,GQ=t=>zQ.test(t);let Lb=t=>(Lb=Array.isArray,Lb(t));const qQ=Lb;let HQ=qQ;const LC=HQ;function WQ(t){if(!t)return!0;for(const e in t)return!1;return!0}function KQ(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const YQ=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Tr(`${t} must be an integer`);if(e<0)throw new Tr(`${t} must be a positive integer`);return e},JQ=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XQ=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const za="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QQ(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const ZQ=()=>{var t,e,n,r,i;const o=QQ();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":za,"X-Stainless-OS":VC(Deno.build.os),"X-Stainless-Arch":FC(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":za,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":za,"X-Stainless-OS":VC((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":FC((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=eZ();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":za,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":za,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function eZ(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}const FC=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",VC=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let zh;const tZ=()=>zh??(zh=ZQ());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nZ(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function IL(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function rZ(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return IL({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function kL(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function iZ(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oZ=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CL=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function xv(t,e,n){return CL(),new File(t,e??"unknown_file",n)}function sZ(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const aZ=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PL=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",lZ=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&PL(t),uZ=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function cZ(t,e,n){if(CL(),t=await t,lZ(t))return t instanceof File?t:xv([await t.arrayBuffer()],t.name);if(uZ(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),xv(await Fb(i),e,n)}const r=await Fb(t);if(e||(e=sZ(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return xv(r,e,n)}async function Fb(t){var e,n,r,i,o;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(PL(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(aZ(t))try{for(var a=!0,l=Hr(t),u;u=await l.next(),e=u.done,!e;a=!0){i=u.value,a=!1;const c=i;s.push(...await Fb(c))}}catch(c){n={error:c}}finally{try{!a&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${dZ(t)}`)}return s}function dZ(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NL{constructor(e){this._client=e}}NL._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RL(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const UC=Object.freeze(Object.create(null)),fZ=(t=RL)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],s=n.reduce((c,f,h)=>{var y,v,b;/[?#]/.test(f)&&(i=!0);const x=r[h];let E=(i?encodeURIComponent:t)(""+x);return h!==r.length&&(x==null||typeof x=="object"&&x.toString===((b=Object.getPrototypeOf((v=Object.getPrototypeOf((y=x.hasOwnProperty)!==null&&y!==void 0?y:UC))!==null&&v!==void 0?v:UC))===null||b===void 0?void 0:b.toString))&&(E=x+"",o.push({start:c.length+f.length,length:E.length,error:`Value of type ${Object.prototype.toString.call(x).slice(8,-1)} is not a valid path parameter`})),c+f+(h===r.length?"":E)},""),a=s.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(a))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((c,f)=>c.start-f.start),o.length>0){let c=0;const f=o.reduce((h,y)=>{const v=" ".repeat(y.start-c),b="^".repeat(y.length);return c=y.start+y.length,h+v+b},"");throw new Tr(`Path parameters result in path with invalid segments:
${o.map(h=>h.error).join(`
`)}
${s}
${f}`)}return s},Gh=fZ(RL);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OL extends NL{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=Rm(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new Tr("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Tr("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Gh`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Gh`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Gh`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:s=this._client.apiVersion}=o,a=Rm(o,["api_version"]);return this._client.get(Gh`/${s}/interactions/${e}`,Object.assign(Object.assign({query:a},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}OL._key=Object.freeze(["interactions"]);class ML extends OL{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hZ(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let qh;function NE(t){let e;return(qh??(e=new globalThis.TextEncoder,qh=e.encode.bind(e)))(t)}let Hh;function BC(t){let e;return(Hh??(e=new globalThis.TextDecoder,Hh=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class A0{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?NE(e):e;this.buffer=hZ([this.buffer,n]);const r=[];let i;for(;(i=pZ(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(BC(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=BC(this.buffer.subarray(0,o));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}A0.NEWLINE_CHARS=new Set([`
`,"\r"]);A0.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function pZ(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function mZ(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Om={off:0,error:200,warn:300,info:400,debug:500},zC=(t,e,n)=>{if(t){if(KQ(Om,t))return t;In(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Om))}`)}};function jc(){}function Wh(t,e,n){return!e||Om[t]>Om[n]?jc:e[t].bind(e)}const gZ={error:jc,warn:jc,info:jc,debug:jc};let GC=new WeakMap;function In(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return gZ;const i=GC.get(n);if(i&&i[0]===r)return i[1];const o={error:Wh("error",n,r),warn:Wh("warn",n,r),info:Wh("info",n,r),debug:Wh("debug",n,r)};return GC.set(n,[r,o]),o}const Ps=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class il{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?In(r):console;function s(){return qr(this,arguments,function*(){var l,u,c,f;if(i)throw new Tr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,v=Hr(yZ(e,n)),b;b=yield Oe(v.next()),l=b.done,!l;y=!0){f=b.value,y=!1;const x=f;if(!h)if(x.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield Oe(JSON.parse(x.data))}catch(E){throw o.error("Could not parse message into JSON:",x.data),o.error("From chunk:",x.raw),E}}}catch(x){u={error:x}}finally{try{!y&&!l&&(c=v.return)&&(yield Oe(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(x){if(Db(x))return yield Oe(void 0);throw x}finally{h||n.abort()}})}return new il(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return qr(this,arguments,function*(){var l,u,c,f;const h=new A0,y=kL(e);try{for(var v=!0,b=Hr(y),x;x=yield Oe(b.next()),l=x.done,!l;v=!0){f=x.value,v=!1;const E=f;for(const w of h.decode(E))yield yield Oe(w)}}catch(E){u={error:E}}finally{try{!v&&!l&&(c=b.return)&&(yield Oe(c.call(b)))}finally{if(u)throw u.error}}for(const E of h.flush())yield yield Oe(E)})}function s(){return qr(this,arguments,function*(){var l,u,c,f;if(i)throw new Tr("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let h=!1;try{try{for(var y=!0,v=Hr(o()),b;b=yield Oe(v.next()),l=b.done,!l;y=!0){f=b.value,y=!1;const x=f;h||x&&(yield yield Oe(JSON.parse(x)))}}catch(x){u={error:x}}finally{try{!y&&!l&&(c=v.return)&&(yield Oe(c.call(v)))}finally{if(u)throw u.error}}h=!0}catch(x){if(Db(x))return yield Oe(void 0);throw x}finally{h||n.abort()}})}return new il(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();e.push(s),n.push(s)}return o.shift()}});return[new il(()=>i(e),this.controller,this.client),new il(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return IL({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const s=NE(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function yZ(t,e){return qr(this,arguments,function*(){var r,i,o,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Tr("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Tr("Attempted to iterate over a response with no body");const a=new xZ,l=new A0,u=kL(t.body);try{for(var c=!0,f=Hr(vZ(u)),h;h=yield Oe(f.next()),r=h.done,!r;c=!0){s=h.value,c=!1;const y=s;for(const v of l.decode(y)){const b=a.decode(v);b&&(yield yield Oe(b))}}}catch(y){i={error:y}}finally{try{!c&&!r&&(o=f.return)&&(yield Oe(o.call(f)))}finally{if(i)throw i.error}}for(const y of l.flush()){const v=a.decode(y);v&&(yield yield Oe(v))}})}function vZ(t){return qr(this,arguments,function*(){var n,r,i,o;let s=new Uint8Array;try{for(var a=!0,l=Hr(t),u;u=yield Oe(l.next()),n=u.done,!n;a=!0){o=u.value,a=!1;const c=o;if(c==null)continue;const f=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?NE(c):c;let h=new Uint8Array(s.length+f.length);h.set(s),h.set(f,s.length),s=h;let y;for(;(y=mZ(s))!==-1;)yield yield Oe(s.slice(0,y)),s=s.slice(y)}}catch(c){r={error:c}}finally{try{!a&&!n&&(i=l.return)&&(yield Oe(i.call(l)))}finally{if(r)throw r.error}}s.length>0&&(yield yield Oe(s))})}class xZ{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=bZ(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function bZ(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function wZ(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{var a;if(e.options.stream)return In(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):il.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(a=l==null?void 0:l.split(";")[0])===null||a===void 0?void 0:a.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return In(t).debug(`[${r}] response parsed`,Ps({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-o})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RE extends Promise{constructor(e,n,r=wZ){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new RE(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DL=Symbol("brand.privateNullableHeaders");function*_Z(t){if(!t)return;if(DL in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():LC(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=LC(r[1])?r[1]:[r[1]];let s=!1;for(const a of o)a!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,a])}}const mc=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,s]of _Z(r)){const a=o.toLowerCase();i.has(a)||(e.delete(o),i.add(a)),s===null?(e.delete(o),n.add(a)):(e.append(o,s),n.delete(a))}}return{[DL]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bv=t=>{var e,n,r,i,o,s;if(typeof globalThis.process<"u")return(r=(n=(e=WH)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var jL;class I0{constructor(e){var n,r,i,o,s,a,l,{baseURL:u=bv("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=bv("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,h=Rm(e,["baseURL","apiKey","apiVersion"]);const y=Object.assign(Object.assign({apiKey:c,apiVersion:f},h),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=y.baseURL,this.timeout=(r=y.timeout)!==null&&r!==void 0?r:I0.DEFAULT_TIMEOUT,this.logger=(i=y.logger)!==null&&i!==void 0?i:console;const v="warn";this.logLevel=v,this.logLevel=(s=(o=zC(y.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:zC(bv("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:v,this.fetchOptions=y.fetchOptions,this.maxRetries=(a=y.maxRetries)!==null&&a!==void 0?a:2,this.fetch=(l=y.fetch)!==null&&l!==void 0?l:nZ(),this.encoder=oZ,this._options=y,this.apiKey=c,this.apiVersion=f,this.clientAdapter=y.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=mc([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return mc([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return mc([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Tr(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${za}`}defaultIdempotencyKey(){return`stainless-node-retry-${BQ()}`}makeStatusError(e,n,r,i){return Dn.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=GQ(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return WQ(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new RE(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,s;const a=await e,l=(i=a.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(a);const{req:u,url:c,timeout:f}=await this.buildRequest(a,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:a});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),y=r===void 0?"":`, retryOf: ${r}`,v=Date.now();if(In(this).debug(`[${h}] sending request`,Ps({retryOfRequestLogID:r,method:a.method,url:c,options:a,headers:u.headers})),!((o=a.signal)===null||o===void 0)&&o.aborted)throw new $b;const b=new AbortController,x=await this.fetchWithTimeout(c,u,f,b).catch(jb),E=Date.now();if(x instanceof globalThis.Error){const _=`retrying, ${n} attempts remaining`;if(!((s=a.signal)===null||s===void 0)&&s.aborted)throw new $b;const C=Db(x)||/timed? ?out/i.test(String(x)+("cause"in x?String(x.cause):""));if(n)return In(this).info(`[${h}] connection ${C?"timed out":"failed"} - ${_}`),In(this).debug(`[${h}] connection ${C?"timed out":"failed"} (${_})`,Ps({retryOfRequestLogID:r,url:c,durationMs:E-v,message:x.message})),this.retryRequest(a,n,r??h);throw In(this).info(`[${h}] connection ${C?"timed out":"failed"} - error; no more retries left`),In(this).debug(`[${h}] connection ${C?"timed out":"failed"} (error; no more retries left)`,Ps({retryOfRequestLogID:r,url:c,durationMs:E-v,message:x.message})),C?new vL:new T0({cause:x})}const w=`[${h}${y}] ${u.method} ${c} ${x.ok?"succeeded":"failed"} with status ${x.status} in ${E-v}ms`;if(!x.ok){const _=await this.shouldRetry(x);if(n&&_){const P=`retrying, ${n} attempts remaining`;return await iZ(x.body),In(this).info(`${w} - ${P}`),In(this).debug(`[${h}] response error (${P})`,Ps({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,durationMs:E-v})),this.retryRequest(a,n,r??h,x.headers)}const C=_?"error; no more retries left":"error; not retryable";In(this).info(`${w} - ${C}`);const S=await x.text().catch(P=>jb(P).message),k=JQ(S),T=k?void 0:S;throw In(this).debug(`[${h}] response error (${C})`,Ps({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,message:T,durationMs:Date.now()-v})),this.makeStatusError(x.status,k,T,x.headers)}return In(this).info(w),In(this).debug(`[${h}] response start`,Ps({retryOfRequestLogID:r,url:x.url,status:x.status,headers:x.headers,durationMs:E-v})),{response:x,options:a,controller:b,requestLogID:h,retryOfRequestLogID:r,startTime:v}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:s,method:a}=o,l=Rm(o,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);a&&(f.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let s;const a=i==null?void 0:i.get("retry-after-ms");if(a){const u=parseFloat(a);Number.isNaN(u)||(s=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!s){const u=parseFloat(l);Number.isNaN(u)?s=Date.parse(l)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,u)}return await XQ(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,s=Math.min(.5*Math.pow(2,o),8),a=1-Math.random()*.25;return s*a*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const s=Object.assign({},e),{method:a,path:l,query:u,defaultBaseURL:c}=s,f=this.buildURL(l,u,c);"timeout"in s&&YQ("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:h,body:y}=this.buildBody({options:s}),v=await this.buildHeaders({options:e,method:a,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:v},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&y instanceof globalThis.ReadableStream&&{duplex:"half"}),y&&{body:y}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=s.fetchOptions)!==null&&o!==void 0?o:{}),url:f,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let a=mc([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),tZ()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=mc([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:rZ(e)}:this.encoder({body:e,headers:r})}}I0.DEFAULT_TIMEOUT=6e4;class Jt extends I0{constructor(){super(...arguments),this.interactions=new ML(this)}}jL=Jt;Jt.GeminiNextGenAPIClient=jL;Jt.GeminiNextGenAPIClientError=Tr;Jt.APIError=Dn;Jt.APIConnectionError=T0;Jt.APIConnectionTimeoutError=vL;Jt.APIUserAbortError=$b;Jt.NotFoundError=_L;Jt.ConflictError=EL;Jt.RateLimitError=TL;Jt.BadRequestError=xL;Jt.AuthenticationError=bL;Jt.InternalServerError=AL;Jt.PermissionDeniedError=wL;Jt.UnprocessableEntityError=SL;Jt.toFile=cZ;Jt.Interactions=ML;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EZ(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function SZ(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function TZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function AZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);return r!=null&&g(n,["sdkHttpResponse"],r),n}function IZ(t,e,n){const r={};if(p(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=p(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&g(e,["displayName"],i),p(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=p(t,["epochCount"]);e!==void 0&&o!=null&&g(e,["tuningTask","hyperparameters","epochCount"],o);const s=p(t,["learningRateMultiplier"]);if(s!=null&&g(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),p(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(p(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(p(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=p(t,["batchSize"]);e!==void 0&&a!=null&&g(e,["tuningTask","hyperparameters","batchSize"],a);const l=p(t,["learningRate"]);if(e!==void 0&&l!=null&&g(e,["tuningTask","hyperparameters","learningRate"],l),p(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(p(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function kZ(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const y=p(t,["validationDataset"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec"],qC(y))}else if(i==="PREFERENCE_TUNING"){const y=p(t,["validationDataset"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec"],qC(y))}const o=p(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&g(e,["tunedModelDisplayName"],o);const s=p(t,["description"]);e!==void 0&&s!=null&&g(e,["description"],s);let a=p(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const y=p(t,["epochCount"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(a==="PREFERENCE_TUNING"){const y=p(t,["epochCount"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let l=p(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const y=p(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(l==="PREFERENCE_TUNING"){const y=p(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let u=p(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=p(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(u==="PREFERENCE_TUNING"){const y=p(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let c=p(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=p(t,["adapterSize"]);e!==void 0&&y!=null&&g(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(c==="PREFERENCE_TUNING"){const y=p(t,["adapterSize"]);e!==void 0&&y!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(p(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(p(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=p(t,["labels"]);e!==void 0&&f!=null&&g(e,["labels"],f);const h=p(t,["beta"]);return e!==void 0&&h!=null&&g(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),r}function CZ(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&VZ(o);const s=p(t,["config"]);return s!=null&&IZ(s,n),n}function PZ(t,e){const n={},r=p(t,["baseModel"]);r!=null&&g(n,["baseModel"],r);const i=p(t,["preTunedModel"]);i!=null&&g(n,["preTunedModel"],i);const o=p(t,["trainingDataset"]);o!=null&&UZ(o,n,e);const s=p(t,["config"]);return s!=null&&kZ(s,n,e),n}function NZ(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function RZ(t,e){const n={},r=p(t,["name"]);return r!=null&&g(n,["_url","name"],r),n}function OZ(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const s=p(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),r}function MZ(t,e,n){const r={},i=p(t,["pageSize"]);e!==void 0&&i!=null&&g(e,["_query","pageSize"],i);const o=p(t,["pageToken"]);e!==void 0&&o!=null&&g(e,["_query","pageToken"],o);const s=p(t,["filter"]);return e!==void 0&&s!=null&&g(e,["_query","filter"],s),r}function DZ(t,e){const n={},r=p(t,["config"]);return r!=null&&OZ(r,n),n}function jZ(t,e){const n={},r=p(t,["config"]);return r!=null&&MZ(r,n),n}function $Z(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=p(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>$L(a))),g(n,["tuningJobs"],s)}return n}function LZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["nextPageToken"]);i!=null&&g(n,["nextPageToken"],i);const o=p(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>Vb(a))),g(n,["tuningJobs"],s)}return n}function FZ(t,e){const n={},r=p(t,["name"]);r!=null&&g(n,["model"],r);const i=p(t,["name"]);return i!=null&&g(n,["endpoint"],i),n}function VZ(t,e){const n={};if(p(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(p(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=p(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),g(n,["examples","examples"],i)}return n}function UZ(t,e,n){const r={};let i=p(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=p(t,["gcsUri"]);e!==void 0&&s!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=p(t,["gcsUri"]);e!==void 0&&s!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=p(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=p(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&g(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=p(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&g(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(p(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function $L(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const o=p(t,["state"]);o!=null&&g(n,["state"],Z$(o));const s=p(t,["createTime"]);s!=null&&g(n,["createTime"],s);const a=p(t,["tuningTask","startTime"]);a!=null&&g(n,["startTime"],a);const l=p(t,["tuningTask","completeTime"]);l!=null&&g(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const c=p(t,["description"]);c!=null&&g(n,["description"],c);const f=p(t,["baseModel"]);f!=null&&g(n,["baseModel"],f);const h=p(t,["_self"]);return h!=null&&g(n,["tunedModel"],FZ(h)),n}function Vb(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const o=p(t,["state"]);o!=null&&g(n,["state"],Z$(o));const s=p(t,["createTime"]);s!=null&&g(n,["createTime"],s);const a=p(t,["startTime"]);a!=null&&g(n,["startTime"],a);const l=p(t,["endTime"]);l!=null&&g(n,["endTime"],l);const u=p(t,["updateTime"]);u!=null&&g(n,["updateTime"],u);const c=p(t,["error"]);c!=null&&g(n,["error"],c);const f=p(t,["description"]);f!=null&&g(n,["description"],f);const h=p(t,["baseModel"]);h!=null&&g(n,["baseModel"],h);const y=p(t,["tunedModel"]);y!=null&&g(n,["tunedModel"],y);const v=p(t,["preTunedModel"]);v!=null&&g(n,["preTunedModel"],v);const b=p(t,["supervisedTuningSpec"]);b!=null&&g(n,["supervisedTuningSpec"],b);const x=p(t,["preferenceOptimizationSpec"]);x!=null&&g(n,["preferenceOptimizationSpec"],x);const E=p(t,["tuningDataStats"]);E!=null&&g(n,["tuningDataStats"],E);const w=p(t,["encryptionSpec"]);w!=null&&g(n,["encryptionSpec"],w);const _=p(t,["partnerModelTuningSpec"]);_!=null&&g(n,["partnerModelTuningSpec"],_);const C=p(t,["customBaseModel"]);C!=null&&g(n,["customBaseModel"],C);const S=p(t,["experiment"]);S!=null&&g(n,["experiment"],S);const k=p(t,["labels"]);k!=null&&g(n,["labels"],k);const T=p(t,["outputUri"]);T!=null&&g(n,["outputUri"],T);const I=p(t,["pipelineJob"]);I!=null&&g(n,["pipelineJob"],I);const P=p(t,["serviceAccount"]);P!=null&&g(n,["serviceAccount"],P);const M=p(t,["tunedModelDisplayName"]);M!=null&&g(n,["tunedModelDisplayName"],M);const j=p(t,["veoTuningSpec"]);return j!=null&&g(n,["veoTuningSpec"],j),n}function BZ(t,e){const n={},r=p(t,["sdkHttpResponse"]);r!=null&&g(n,["sdkHttpResponse"],r);const i=p(t,["name"]);i!=null&&g(n,["name"],i);const o=p(t,["metadata"]);o!=null&&g(n,["metadata"],o);const s=p(t,["done"]);s!=null&&g(n,["done"],s);const a=p(t,["error"]);return a!=null&&g(n,["error"],a),n}function qC(t,e){const n={},r=p(t,["gcsUri"]);r!=null&&g(n,["validationDatasetUri"],r);const i=p(t,["vertexDatasetResource"]);return i!=null&&g(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zZ extends co{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Sa(to.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:Ib.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=RZ(e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>Vb(c))}else{const u=NZ(e);return a=pe("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>$L(c))}}async listInternal(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=jZ(e);return a=pe("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=LZ(c),h=new yC;return Object.assign(h,f),h})}else{const u=DZ(e);return a=pe("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=$Z(c),h=new yC;return Object.assign(h,f),h})}}async cancel(e){var n,r,i,o;let s,a="",l={};if(this.apiClient.isVertexAI()){const u=SZ(e);return a=pe("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=AZ(c),h=new vC;return Object.assign(h,f),h})}else{const u=EZ(e);return a=pe("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),s.then(c=>{const f=TZ(c),h=new vC;return Object.assign(h,f),h})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const a=PZ(e,e);return o=pe("tuningJobs",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>Vb(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=CZ(e);return o=pe("tunedModels",a._url),s=a._query,delete a._url,delete a._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(a),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>BZ(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GZ{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const qZ=1024*1024*8,HZ=3,WZ=1e3,KZ=2,Mm="x-goog-upload-status";async function YZ(t,e,n){var r;const i=await LL(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Mm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function JZ(t,e,n){var r;const i=await LL(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Mm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=W$(o),a=new TE;return Object.assign(a,s),a}async function LL(t,e,n){var r,i;let o=0,s=0,a=new Cb(new Response),l="upload";for(o=t.size;s<o;){const u=Math.min(qZ,o-s),c=t.slice(s,s+u);s+u>=o&&(l+=", finalize");let f=0,h=WZ;for(;f<HZ&&(a=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((r=a==null?void 0:a.headers)===null||r===void 0)&&r[Mm]));)f++,await QZ(h),h=h*KZ;if(s+=u,((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[Mm])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}async function XZ(t){return{size:t.size,type:t.type}}function QZ(t){return new Promise(e=>setTimeout(e,t))}class ZZ{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await YZ(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await JZ(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await XZ(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eee{create(e,n,r){return new tee(e,n,r)}}class tee{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HC="x-goog-api-key";class nee{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(HC)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(HC,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ree="gl-node/";class Wf{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Jt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=XH(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new nee(this.apiKey);this.apiClient=new XX({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:ree+"web",uploader:new ZZ,downloader:new GZ}),this.models=new gQ(this.apiClient),this.live=new cQ(this.apiClient,i,new eee),this.batches=new AK(this.apiClient),this.chats=new aY(this.models,this.apiClient),this.caches=new iY(this.apiClient),this.files=new yY(this.apiClient),this.operations=new yQ(this.apiClient),this.authTokens=new OQ(this.apiClient),this.tunings=new zZ(this.apiClient),this.fileSearchStores=new UQ(this.apiClient)}}const WC=["Casa","Mobilidade","Alimentos","Lazer","Pets","Outros"],k0="nexo_user_api_key",Pu=()=>{const t=localStorage.getItem(k0);return t||null},KC=t=>{localStorage.setItem(k0,t)},iee=()=>{localStorage.removeItem(k0)},YC=()=>!!localStorage.getItem(k0),oee=async t=>{var i;const e=Pu();if(!e)return[];const n=new Wf({apiKey:e}),r=`
    Voc  um assistente de compras inteligente.
    O usurio vai pedir uma receita, evento ou lista genrica.
    Gere uma lista de compras JSON com ingredientes/itens.
    
    CATEGORIAS PERMITIDAS: 'Hortifruti', 'Carnes', 'Laticnios', 'Mercearia', 'Bebidas', 'Limpeza', 'Higiene', 'Padaria', 'Outros'.

    RESPONDA APENAS JSON VLIDO neste formato:
    [
      { "name": "Nome do item", "quantity": 1, "category": "Categoria" }
    ]
  `;try{const s=((i=(await n.models.generateContent({model:"gemini-3-flash-preview",contents:`Gere a lista para: ${t}`,config:{systemInstruction:r,responseMimeType:"application/json"}})).text)==null?void 0:i.trim())||"[]";return JSON.parse(s)}catch(o){return console.error("Erro ao gerar lista:",o),[]}},see=async t=>{var i;const e=Pu();if(!e)return"Outros";const n=new Wf({apiKey:e}),r=`Classifique "${t}" em: ${WC.join(", ")}. Responda S a categoria.`;try{const s=((i=(await n.models.generateContent({model:"gemini-3-flash-preview",contents:r})).text)==null?void 0:i.trim())||"Outros";return WC.includes(s)?s:"Outros"}catch{return"Outros"}},aee=async t=>{var s,a,l;const e=Pu();if(!e)return{text:"Configure sua API Key nas preferncias para receber recomendaes de investimentos.",sources:[]};const n=new Wf({apiKey:e}),r=t.map(u=>`${u.name} (${u.type}): R$ ${u.amount}`).join(", "),o=`
    Voc  um consultor de investimentos snior especialista no mercado brasileiro.
    Carteira Atual: R$ ${t.reduce((u,c)=>u+c.amount,0)} (${r||"Vazia"}).

    TAREFA:
    Encontre oportunidades REAIS e ATUAIS para diversificao.
    
    FORMATO OBRIGATRIO (Siga estritamente):
    
    ###  Baixo Risco
    1. **[Nome]** - [Taxa/Preo] - [Motivo curto]
    2. **[Nome]** - [Taxa/Preo] - [Motivo curto]
    3. **[Nome]** - [Taxa/Preo] - [Motivo curto]

    ###  Mdio Risco
    (3 opes no mesmo formato)

    ###  Alto Risco
    (3 opes no mesmo formato)

    ---SECTION-BREAK---

    ###  Anlise Tcnica
    (Sua anlise detalhada aqui sobre cenrio macro, inflao e porqus)
  `;try{const u=await n.models.generateContent({model:"gemini-3-flash-preview",contents:o,config:{tools:[{googleSearch:{}}]}}),c=[],f=(l=(a=(s=u.candidates)==null?void 0:s[0])==null?void 0:a.groundingMetadata)==null?void 0:l.groundingChunks;f&&f.forEach(y=>{y.web&&c.push({title:y.web.title||"Fonte Web",uri:y.web.uri||"#"})});const h=c.filter((y,v,b)=>b.findIndex(x=>x.uri===y.uri)===v);return{text:u.text||"No foi possvel gerar recomendaes no momento.",sources:h}}catch(u){console.warn("Google Search Grounding failed, retrying without search...",u);try{return{text:((await n.models.generateContent({model:"gemini-3-flash-preview",contents:o+`

(Nota: A pesquisa em tempo real falhou. Use seu conhecimento geral.)`})).text||"Sem resposta.")+`

 *Nota: O acesso  pesquisa em tempo real falhou. As taxas mencionadas podem ser estimativas baseadas no conhecimento geral do modelo.*`,sources:[]}}catch(c){return console.error("Investment Advice Error (Fallback):",c),{text:`Erro ao consultar IA: ${c.message||"Erro desconhecido"}. Verifique sua chave API ou tente novamente mais tarde.`,sources:[]}}}},lee=async(t,e,n)=>{var l;const r=Pu();if(!r)return null;const i=new Wf({apiKey:r}),o=new Map;t.forEach(u=>{o.set(u.type,(o.get(u.type)||0)+u.amount)});const s=Array.from(o.entries()).map(([u,c])=>`${u}: R$ ${c.toFixed(2)}`).join(", "),a=`
      Atue como um Gestor de Private Banking. O cliente tem ${n} anos e perfil de risco: ${e.toUpperCase()}.
      
      Carteira Atual Agregada: ${s||"R$ 0,00 (Vazia)"}

      Sua tarefa  analisar a alocao de ativos e sugerir o rebalanceamento ideal baseado nas melhores prticas de Wealth Management (como Bridgewater/Arta) adaptado ao Brasil.
      
      RETORNE APENAS JSON VLIDO. NO USE MARKDOWN. Siga este esquema:
      {
        "analysisText": "Pargrafo curto (max 300 chars) com sua viso macro sobre a carteira do cliente.",
        "currentAllocation": [ {"name": "Categoria", "value": %_atual (0-100)} ],
        "suggestedAllocation": [ {"name": "Categoria", "value": %_ideal (0-100)} ],
        "actionItems": [
           {"title": "Ao Ttica", "type": "buy" | "sell" | "hold", "description": "Explicao curta"}
        ]
      }
      
      Regras:
      1. 'suggestedAllocation' deve somar 100.
      2. Categorias sugeridas podem ser: 'Renda Fixa Ps', 'Renda Fixa Pr/IPCA', 'Aes Brasil', 'Aes Global', 'FIIs', 'Cripto/Alternativos', 'Reserva'.
      3. Se a carteira estiver vazia, sugira a alocao ideal do zero.
    `;try{const c=((l=(await i.models.generateContent({model:"gemini-3-flash-preview",contents:a,config:{responseMimeType:"application/json"}})).text)==null?void 0:l.trim())||"{}";return JSON.parse(c)}catch(u){return console.error("Wealth Analysis Error:",u),null}};async function*uee(t,e,n){const r=Pu();if(!r){yield"Por favor, configure sua API Key nas preferncias do menu.";return}const i=new Wf({apiKey:r}),o=n.transactions.filter(w=>w.type==="income").reduce((w,_)=>w+_.amount,0),s=n.transactions.filter(w=>w.type==="expense").reduce((w,_)=>w+_.amount,0),a=n.investments.reduce((w,_)=>w+_.amount,0),l=n.debts.reduce((w,_)=>w+_.currentAmount,0),u=n.transactions.sort((w,_)=>new Date(_.date).getTime()-new Date(w.date).getTime()).slice(0,30).map(w=>`- ${w.date}: ${w.description} (${w.type}) R$ ${w.amount} [${w.category}] Status: ${w.status}`).join(`
`),c=n.investments.map(w=>`- ${w.name} (${w.type}): R$ ${w.amount} (Meta: R$ ${w.targetAmount})`).join(`
`),f=n.debts.map(w=>`- ${w.creditor}: R$ ${w.currentAmount} (Status: ${w.status}, Vence: ${w.dueDate})`).join(`
`);let h="Neutro";l>a*2?h="Endividado (Foco em quitao)":a>s*6?h="Investidor (Foco em otimizao)":o<s&&(h="Dficit (Foco em corte de gastos)");const y=`
    RELATRIO FINANCEIRO DO USURIO (Contexto Interno):
    
    1. PERFIL IDENTIFICADO: ${h}
    2. RESUMO:
       - Renda Total: R$ ${o.toFixed(2)}
       - Despesas Totais: R$ ${s.toFixed(2)}
       - Saldo: R$ ${(o-s).toFixed(2)}
       - Total Investido: R$ ${a.toFixed(2)}
       - Dvidas Ativas: R$ ${l.toFixed(2)}
    3. LTIMAS TRANSAES:
    ${u}
    4. INVESTIMENTOS:
    ${c}
    5. DVIDAS:
    ${f}
  `,v=`
    Voc  o NEXO AI, um assistente financeiro pessoal de elite.
    OBJETIVO: Ajudar o usurio a gerenciar suas finanas com base no perfil identificado: ${h}.
    CONTEXTO: ${y}
    DIRETRIZES:
    - Responda de forma concisa e amigvel.
    - Se o usurio perguntar sobre o saldo, gastos especficos ou investimentos, consulte o relatrio acima.
    - Seja proativo: se vir uma dvida vencendo ou gasto alto, pode alertar sutilmente.
    - Use Markdown para formatar valores e listas.
  `,b=i.chats.create({model:"gemini-3-flash-preview",config:{systemInstruction:v}}),E=`
    [Histrico Recente]:
    ${e.slice(-6).map(w=>`${w.role==="user"?"Usurio":"Modelo"}: ${w.content}`).join(`
`)}
    
    [Nova Mensagem]: ${t}
  `;try{const w=await b.sendMessageStream({message:E});for await(const _ of w)_.text&&(yield _.text)}catch(w){console.error(w),yield"Erro de conexo com o crebro digital. Verifique sua Chave de API."}}const cee=({onGuestLogin:t})=>{const[e,n]=U.useState(!1),[r,i]=U.useState(""),[o,s]=U.useState(""),[a,l]=U.useState(""),[u,c]=U.useState(""),[f,h]=U.useState(!1),[y,v]=U.useState(!1),[b,x]=U.useState(!1),E="028.268.001-24",w="Alexandre Magno S. Linhares";U.useEffect(()=>{const I=Di.app.options.apiKey;(!I||I==="SUA_API_KEY_AQUI"||I.includes("SUA_API_KEY"))&&v(!0)},[]);const _=I=>{console.error(I);let P="Erro ao autenticar. Verifique suas credenciais.";I.code==="auth/email-already-in-use"&&(P="Este e-mail j est em uso."),I.code==="auth/invalid-email"&&(P="E-mail invlido."),I.code==="auth/weak-password"&&(P="A senha deve ter pelo menos 6 caracteres."),(I.code==="auth/user-not-found"||I.code==="auth/wrong-password")&&(P="E-mail ou senha incorretos."),I.code==="auth/invalid-credential"&&(P="Credenciais invlidas."),I.code==="auth/invalid-api-key"&&(P="Chave de API invlida.",v(!0)),I.code==="auth/unauthorized-domain"?(P="Domnio no autorizado pelo Firebase.",c(window.location.hostname)):c(""),l(P)},C=async I=>{I.preventDefault(),l(""),c(""),h(!0);try{e?await s9(Di,r,o):await a9(Di,r,o)}catch(P){_(P)}finally{h(!1)}},S=async()=>{l(""),c(""),h(!0);const I=new Fr;I.addScope("https://www.googleapis.com/auth/calendar");try{await wj(Di,I)}catch(P){_(P)}finally{h(!1)}},k=()=>{navigator.clipboard.writeText(u),alert("Domnio copiado!")},T=()=>{navigator.clipboard.writeText(E),x(!0),setTimeout(()=>x(!1),2e3)};return y?d.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden border border-slate-700 animate-scale-in flex flex-col md:flex-row",children:[d.jsxs("div",{className:"bg-indigo-600 p-8 text-white md:w-1/3 flex flex-col items-center justify-center text-center",children:[d.jsx(wB,{className:"w-16 h-16 mb-4 opacity-80"}),d.jsx("h2",{className:"text-xl font-bold",children:"Configurao Necessria"}),d.jsx("p",{className:"text-indigo-100 text-sm mt-2",children:"Para usar o modo online, voc precisa conectar seu Firebase."})]}),d.jsxs("div",{className:"p-8 md:w-2/3",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-4",children:"Siga estes passos:"}),d.jsxs("div",{className:"space-y-4 text-sm text-slate-600 dark:text-slate-300",children:[d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-2 rounded h-fit font-bold",children:"1"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:"Crie o Banco de Dados"}),d.jsxs("p",{children:["No Console do Firebase, v em ",d.jsx("strong",{children:"Firestore Database"}),', clique em "Criar banco de dados", escolha a regio (nam5) e clique em "Iniciar no modo de produo".']})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-2 rounded h-fit font-bold",children:"2"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:"Ative o Login"}),d.jsxs("p",{children:["V em ",d.jsx("strong",{children:"Authentication"}),' > Sign-in method e ative "E-mail/senha".']})]})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"bg-slate-100 dark:bg-slate-700 p-2 rounded h-fit font-bold",children:"3"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-slate-800 dark:text-white",children:"Copie as Chaves"}),d.jsxs("p",{children:['V nas Configuraes do Projeto (), role at "Seus aplicativos" e copie o objeto ',d.jsx("code",{children:"firebaseConfig"}),"."]})]})]}),d.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-3 rounded-lg text-xs",children:[d.jsxs("p",{className:"font-bold text-amber-700 dark:text-amber-400 flex items-center gap-1",children:[d.jsx(Ad,{className:"w-3 h-3"})," Ao Necessria no Cdigo"]}),d.jsxs("p",{className:"mt-1",children:["Abra o arquivo ",d.jsx("code",{children:"services/firebase.ts"})," e substitua ",d.jsx("code",{children:'"SUA_API_KEY_AQUI"'})," pelos dados reais que voc copiou."]})]})]}),d.jsxs("button",{onClick:t,className:"w-full mt-6 py-3 bg-slate-200 hover:bg-slate-300 dark:bg-slate-700 dark:hover:bg-slate-600 text-slate-700 dark:text-slate-200 rounded-xl font-bold transition-colors flex items-center justify-center gap-2",children:[d.jsx(HA,{className:"w-4 h-4"}),"Pular e Usar Modo Offline (Convidado)"]})]})]})}):d.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-900 flex font-sans",children:[d.jsxs("div",{className:"w-full md:w-[45%] lg:w-[40%] flex flex-col justify-center p-8 md:p-12 lg:p-16 relative overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-10",children:[d.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg shadow-lg shadow-indigo-500/30",children:d.jsx(p1,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{className:"leading-tight",children:[d.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white tracking-tight",children:"NEXO"}),d.jsx("p",{className:"text-[10px] font-semibold text-slate-400 uppercase tracking-widest",children:"Financial Hub"})]})]}),d.jsxs("div",{className:"max-w-sm w-full mx-auto",children:[d.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:e?"Criar Conta":"Acesse sua Conta"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:e?"Comece a controlar suas finanas hoje.":"Bem-vindo de volta! Por favor, insira seus dados."}),a&&d.jsxs("div",{className:"mb-6 p-4 bg-rose-50 dark:bg-rose-900/20 border-l-4 border-rose-500 rounded-r-lg flex flex-col gap-1 animate-fade-in",children:[d.jsxs("div",{className:"flex items-center gap-2 text-rose-700 dark:text-rose-400 font-semibold text-sm",children:[d.jsx(Wx,{className:"w-4 h-4"}),d.jsx("span",{children:a})]}),u&&d.jsxs("div",{className:"mt-2 pl-6",children:[d.jsx("p",{className:"text-xs text-slate-600 mb-1",children:"Domnio no autorizado:"}),d.jsx("code",{className:"text-xs bg-white px-1 py-0.5 rounded border border-rose-200 block mb-2",children:u}),d.jsx("button",{onClick:k,className:"text-xs underline text-rose-600",children:"Copiar Domnio"})]})]}),d.jsxs("form",{onSubmit:C,className:"space-y-5",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-1.5",children:"E-mail"}),d.jsx("input",{type:"email",required:!0,value:r,onChange:I=>i(I.target.value),className:"w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-800 dark:text-white outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all placeholder:text-slate-400",placeholder:"nome@exemplo.com"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-1.5",children:"Senha"}),d.jsx("input",{type:"password",required:!0,minLength:6,value:o,onChange:I=>s(I.target.value),className:"w-full px-4 py-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-800 dark:text-white outline-none focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 transition-all placeholder:text-slate-400",placeholder:""}),!e&&d.jsx("div",{className:"flex justify-end mt-1",children:d.jsx("button",{type:"button",className:"text-xs font-semibold text-indigo-600 hover:text-indigo-700 dark:text-indigo-400",children:"Esqueceu a senha?"})})]}),d.jsx("button",{type:"submit",disabled:f,className:"w-full py-3.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-bold shadow-lg shadow-indigo-500/20 transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed mt-2",children:f?d.jsx(o0,{className:"w-5 h-5 animate-spin"}):e?"Cadastrar":"Entrar"})]}),d.jsxs("div",{className:"relative my-8",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-slate-200 dark:border-slate-700"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-4 bg-white dark:bg-slate-900 text-slate-400 font-medium",children:"ou continue com"})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{type:"button",onClick:S,disabled:f,className:"flex items-center justify-center gap-2 px-4 py-2.5 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors font-medium text-slate-700 dark:text-slate-300 text-sm",children:[d.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",color:"#4285F4"}),d.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",color:"#34A853"}),d.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",color:"#FBBC05"}),d.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",color:"#EA4335"})]}),"Google"]}),d.jsxs("button",{type:"button",onClick:t,className:"flex items-center justify-center gap-2 px-4 py-2.5 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors font-medium text-slate-700 dark:text-slate-300 text-sm",children:[d.jsx(HA,{className:"w-5 h-5 text-slate-500"}),"Convidado"]})]}),d.jsx("div",{className:"mt-8 text-center",children:d.jsxs("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:[e?"J  cliente?":"Ainda no tem conta?",d.jsx("button",{onClick:()=>n(!e),className:"ml-1 text-indigo-600 dark:text-indigo-400 font-bold hover:underline",children:e?"Fazer Login":"Cadastre-se grtis"})]})}),d.jsx("div",{className:"mt-10 mb-4",children:d.jsxs("div",{onClick:T,className:"group relative overflow-hidden bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-slate-800 dark:to-indigo-900/20 border-2 border-dashed border-indigo-200 dark:border-indigo-700/50 hover:border-indigo-400 dark:hover:border-indigo-500 rounded-xl p-4 cursor-pointer hover:shadow-xl hover:shadow-indigo-500/10 transition-all transform hover:-translate-y-1",children:[d.jsx("div",{className:"absolute top-0 right-0 bg-indigo-600 text-white text-[10px] font-bold px-3 py-1 rounded-bl-xl shadow-sm z-10",children:"Apoie o Dev "}),d.jsxs("div",{className:"flex items-center gap-4 relative z-0",children:[d.jsx("div",{className:"bg-indigo-100 dark:bg-indigo-900/50 p-3 rounded-full group-hover:scale-110 transition-transform shadow-inner",children:d.jsx(ID,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400 fill-indigo-200 dark:fill-indigo-900"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-xs font-bold text-indigo-800 dark:text-indigo-300 uppercase tracking-wide mb-1",children:"Gostou? Mande um Pix!"}),d.jsxs("div",{className:"flex items-center gap-2 bg-white/50 dark:bg-black/20 p-1.5 rounded-lg border border-indigo-100 dark:border-indigo-800/50",children:[d.jsx("p",{className:"text-sm font-mono font-bold text-slate-700 dark:text-slate-200 truncate select-all",children:E}),d.jsx("span",{className:"text-[9px] bg-indigo-200 dark:bg-indigo-800 text-indigo-800 dark:text-indigo-200 px-1.5 rounded font-sans font-bold",children:"Chave CPF"})]})]}),d.jsx("div",{className:"text-indigo-300 group-hover:text-indigo-600 transition-colors",children:b?d.jsx(Ls,{className:"w-6 h-6 text-emerald-500"}):d.jsx(ED,{className:"w-6 h-6"})})]}),b&&d.jsx("div",{className:"absolute inset-0 bg-indigo-900/90 backdrop-blur-sm flex items-center justify-center text-white font-bold rounded-xl animate-fade-in z-20",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ls,{className:"w-5 h-5 text-emerald-400"}),"Chave Pix Copiada!"]})}),d.jsx("p",{className:"text-[10px] text-slate-400 mt-2 text-center opacity-60 group-hover:opacity-100 transition-opacity",children:w})]})}),d.jsx("div",{className:"mt-6 text-center",children:d.jsxs("a",{href:"https://www.linkedin.com/in/alemagnobr/",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-slate-400 hover:text-indigo-500 transition-colors inline-flex items-center gap-1",children:[d.jsx(PD,{className:"w-3 h-3"})," Alexandre Magno"]})})]})]}),d.jsxs("div",{className:"hidden md:flex flex-1 relative bg-[#4c35de] overflow-hidden items-center justify-center p-8",children:[d.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-white opacity-5 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/3"}),d.jsx("div",{className:"absolute bottom-0 left-0 w-[500px] h-[500px] bg-purple-400 opacity-10 rounded-full blur-[80px] translate-y-1/3 -translate-x-1/4"}),d.jsx("div",{className:"absolute inset-0 opacity-[0.03]",style:{backgroundImage:"linear-gradient(#fff 1px, transparent 1px), linear-gradient(90deg, #fff 1px, transparent 1px)",backgroundSize:"40px 40px"}}),d.jsxs("div",{className:"relative z-10 w-full max-w-lg",children:[d.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl p-6 shadow-2xl mb-12 transform hover:scale-[1.02] transition-transform duration-500",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-white/10 pb-4",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-white/60 text-xs font-semibold uppercase",children:"Performance Visualisation"}),d.jsx("p",{className:"text-white text-lg font-bold mt-1",children:"Crescimento Patrimonial"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("div",{className:"px-2 py-1 bg-emerald-500/20 text-emerald-300 rounded text-xs font-bold",children:"+6.9%"}),d.jsx("div",{className:"p-1 bg-white/10 rounded text-white/70",children:d.jsx(Sd,{className:"w-4 h-4"})})]})]}),d.jsx("div",{className:"h-48 flex items-end justify-between gap-3 px-2",children:[35,55,45,70,60,85,75].map((I,P)=>d.jsxs("div",{className:"w-full bg-white/10 rounded-t-lg relative group overflow-hidden",style:{height:"100%"},children:[d.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-indigo-400 to-purple-300 rounded-t-lg transition-all duration-1000 group-hover:opacity-90",style:{height:`${I}%`}}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] bg-white/30",style:{bottom:`${I}%`}})]},P))}),d.jsxs("div",{className:"flex justify-between mt-3 text-xs text-white/40 font-medium px-2",children:[d.jsx("span",{children:"Jan"}),d.jsx("span",{children:"Fev"}),d.jsx("span",{children:"Mar"}),d.jsx("span",{children:"Abr"}),d.jsx("span",{children:"Mai"}),d.jsx("span",{children:"Jun"}),d.jsx("span",{children:"Jul"})]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-3",children:"Bem-vindo de volta"}),d.jsxs("p",{className:"text-indigo-200 text-lg leading-relaxed",children:["Gerencie suas finanas com inteligncia, ",d.jsx("br",{}),"segurana e clareza total."]})]})]}),d.jsx("div",{className:"absolute top-8 right-8",children:d.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 backdrop-blur flex items-center justify-center border border-white/20 text-xl shadow-lg cursor-default",children:""})})]})]})};function FL(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=FL(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ne(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=FL(t))&&(r&&(r+=" "),r+=e);return r}var dee=Array.isArray,Hn=dee,fee=typeof xh=="object"&&xh&&xh.Object===Object&&xh,VL=fee,hee=VL,pee=typeof self=="object"&&self&&self.Object===Object&&self,mee=hee||pee||Function("return this")(),yi=mee,gee=yi,yee=gee.Symbol,Kf=yee,JC=Kf,UL=Object.prototype,vee=UL.hasOwnProperty,xee=UL.toString,gc=JC?JC.toStringTag:void 0;function bee(t){var e=vee.call(t,gc),n=t[gc];try{t[gc]=void 0;var r=!0}catch{}var i=xee.call(t);return r&&(e?t[gc]=n:delete t[gc]),i}var wee=bee,_ee=Object.prototype,Eee=_ee.toString;function See(t){return Eee.call(t)}var Tee=See,XC=Kf,Aee=wee,Iee=Tee,kee="[object Null]",Cee="[object Undefined]",QC=XC?XC.toStringTag:void 0;function Pee(t){return t==null?t===void 0?Cee:kee:QC&&QC in Object(t)?Aee(t):Iee(t)}var ho=Pee;function Nee(t){return t!=null&&typeof t=="object"}var po=Nee,Ree=ho,Oee=po,Mee="[object Symbol]";function Dee(t){return typeof t=="symbol"||Oee(t)&&Ree(t)==Mee}var Nu=Dee,jee=Hn,$ee=Nu,Lee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fee=/^\w*$/;function Vee(t,e){if(jee(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||$ee(t)?!0:Fee.test(t)||!Lee.test(t)||e!=null&&t in Object(e)}var OE=Vee;function Uee(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ms=Uee;const Ru=Ze(ms);var Bee=ho,zee=ms,Gee="[object AsyncFunction]",qee="[object Function]",Hee="[object GeneratorFunction]",Wee="[object Proxy]";function Kee(t){if(!zee(t))return!1;var e=Bee(t);return e==qee||e==Hee||e==Gee||e==Wee}var ME=Kee;const _e=Ze(ME);var Yee=yi,Jee=Yee["__core-js_shared__"],Xee=Jee,wv=Xee,ZC=function(){var t=/[^.]+$/.exec(wv&&wv.keys&&wv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Qee(t){return!!ZC&&ZC in t}var Zee=Qee,ete=Function.prototype,tte=ete.toString;function nte(t){if(t!=null){try{return tte.call(t)}catch{}try{return t+""}catch{}}return""}var BL=nte,rte=ME,ite=Zee,ote=ms,ste=BL,ate=/[\\^$.*+?()[\]{}|]/g,lte=/^\[object .+?Constructor\]$/,ute=Function.prototype,cte=Object.prototype,dte=ute.toString,fte=cte.hasOwnProperty,hte=RegExp("^"+dte.call(fte).replace(ate,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pte(t){if(!ote(t)||ite(t))return!1;var e=rte(t)?hte:lte;return e.test(ste(t))}var mte=pte;function gte(t,e){return t==null?void 0:t[e]}var yte=gte,vte=mte,xte=yte;function bte(t,e){var n=xte(t,e);return vte(n)?n:void 0}var Ta=bte,wte=Ta,_te=wte(Object,"create"),C0=_te,eP=C0;function Ete(){this.__data__=eP?eP(null):{},this.size=0}var Ste=Ete;function Tte(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Ate=Tte,Ite=C0,kte="__lodash_hash_undefined__",Cte=Object.prototype,Pte=Cte.hasOwnProperty;function Nte(t){var e=this.__data__;if(Ite){var n=e[t];return n===kte?void 0:n}return Pte.call(e,t)?e[t]:void 0}var Rte=Nte,Ote=C0,Mte=Object.prototype,Dte=Mte.hasOwnProperty;function jte(t){var e=this.__data__;return Ote?e[t]!==void 0:Dte.call(e,t)}var $te=jte,Lte=C0,Fte="__lodash_hash_undefined__";function Vte(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Lte&&e===void 0?Fte:e,this}var Ute=Vte,Bte=Ste,zte=Ate,Gte=Rte,qte=$te,Hte=Ute;function Ou(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ou.prototype.clear=Bte;Ou.prototype.delete=zte;Ou.prototype.get=Gte;Ou.prototype.has=qte;Ou.prototype.set=Hte;var Wte=Ou;function Kte(){this.__data__=[],this.size=0}var Yte=Kte;function Jte(t,e){return t===e||t!==t&&e!==e}var DE=Jte,Xte=DE;function Qte(t,e){for(var n=t.length;n--;)if(Xte(t[n][0],e))return n;return-1}var P0=Qte,Zte=P0,ene=Array.prototype,tne=ene.splice;function nne(t){var e=this.__data__,n=Zte(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():tne.call(e,n,1),--this.size,!0}var rne=nne,ine=P0;function one(t){var e=this.__data__,n=ine(e,t);return n<0?void 0:e[n][1]}var sne=one,ane=P0;function lne(t){return ane(this.__data__,t)>-1}var une=lne,cne=P0;function dne(t,e){var n=this.__data__,r=cne(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var fne=dne,hne=Yte,pne=rne,mne=sne,gne=une,yne=fne;function Mu(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Mu.prototype.clear=hne;Mu.prototype.delete=pne;Mu.prototype.get=mne;Mu.prototype.has=gne;Mu.prototype.set=yne;var N0=Mu,vne=Ta,xne=yi,bne=vne(xne,"Map"),jE=bne,tP=Wte,wne=N0,_ne=jE;function Ene(){this.size=0,this.__data__={hash:new tP,map:new(_ne||wne),string:new tP}}var Sne=Ene;function Tne(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Ane=Tne,Ine=Ane;function kne(t,e){var n=t.__data__;return Ine(e)?n[typeof e=="string"?"string":"hash"]:n.map}var R0=kne,Cne=R0;function Pne(t){var e=Cne(this,t).delete(t);return this.size-=e?1:0,e}var Nne=Pne,Rne=R0;function One(t){return Rne(this,t).get(t)}var Mne=One,Dne=R0;function jne(t){return Dne(this,t).has(t)}var $ne=jne,Lne=R0;function Fne(t,e){var n=Lne(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Vne=Fne,Une=Sne,Bne=Nne,zne=Mne,Gne=$ne,qne=Vne;function Du(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Du.prototype.clear=Une;Du.prototype.delete=Bne;Du.prototype.get=zne;Du.prototype.has=Gne;Du.prototype.set=qne;var $E=Du,zL=$E,Hne="Expected a function";function LE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Hne);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(LE.Cache||zL),n}LE.Cache=zL;var GL=LE;const Wne=Ze(GL);var Kne=GL,Yne=500;function Jne(t){var e=Kne(t,function(r){return n.size===Yne&&n.clear(),r}),n=e.cache;return e}var Xne=Jne,Qne=Xne,Zne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ere=/\\(\\)?/g,tre=Qne(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Zne,function(n,r,i,o){e.push(i?o.replace(ere,"$1"):r||n)}),e}),nre=tre;function rre(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var FE=rre,nP=Kf,ire=FE,ore=Hn,sre=Nu,rP=nP?nP.prototype:void 0,iP=rP?rP.toString:void 0;function qL(t){if(typeof t=="string")return t;if(ore(t))return ire(t,qL)+"";if(sre(t))return iP?iP.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var are=qL,lre=are;function ure(t){return t==null?"":lre(t)}var HL=ure,cre=Hn,dre=OE,fre=nre,hre=HL;function pre(t,e){return cre(t)?t:dre(t,e)?[t]:fre(hre(t))}var WL=pre,mre=Nu;function gre(t){if(typeof t=="string"||mre(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var O0=gre,yre=WL,vre=O0;function xre(t,e){e=yre(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[vre(e[n++])];return n&&n==r?t:void 0}var VE=xre,bre=VE;function wre(t,e,n){var r=t==null?void 0:bre(t,e);return r===void 0?n:r}var KL=wre;const rr=Ze(KL);function _re(t){return t==null}var Ere=_re;const ke=Ze(Ere);var Sre=ho,Tre=Hn,Are=po,Ire="[object String]";function kre(t){return typeof t=="string"||!Tre(t)&&Are(t)&&Sre(t)==Ire}var Cre=kre;const ha=Ze(Cre);var YL={exports:{}},tt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE=Symbol.for("react.element"),BE=Symbol.for("react.portal"),M0=Symbol.for("react.fragment"),D0=Symbol.for("react.strict_mode"),j0=Symbol.for("react.profiler"),$0=Symbol.for("react.provider"),L0=Symbol.for("react.context"),Pre=Symbol.for("react.server_context"),F0=Symbol.for("react.forward_ref"),V0=Symbol.for("react.suspense"),U0=Symbol.for("react.suspense_list"),B0=Symbol.for("react.memo"),z0=Symbol.for("react.lazy"),Nre=Symbol.for("react.offscreen"),JL;JL=Symbol.for("react.module.reference");function kr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case UE:switch(t=t.type,t){case M0:case j0:case D0:case V0:case U0:return t;default:switch(t=t&&t.$$typeof,t){case Pre:case L0:case F0:case z0:case B0:case $0:return t;default:return e}}case BE:return e}}}tt.ContextConsumer=L0;tt.ContextProvider=$0;tt.Element=UE;tt.ForwardRef=F0;tt.Fragment=M0;tt.Lazy=z0;tt.Memo=B0;tt.Portal=BE;tt.Profiler=j0;tt.StrictMode=D0;tt.Suspense=V0;tt.SuspenseList=U0;tt.isAsyncMode=function(){return!1};tt.isConcurrentMode=function(){return!1};tt.isContextConsumer=function(t){return kr(t)===L0};tt.isContextProvider=function(t){return kr(t)===$0};tt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===UE};tt.isForwardRef=function(t){return kr(t)===F0};tt.isFragment=function(t){return kr(t)===M0};tt.isLazy=function(t){return kr(t)===z0};tt.isMemo=function(t){return kr(t)===B0};tt.isPortal=function(t){return kr(t)===BE};tt.isProfiler=function(t){return kr(t)===j0};tt.isStrictMode=function(t){return kr(t)===D0};tt.isSuspense=function(t){return kr(t)===V0};tt.isSuspenseList=function(t){return kr(t)===U0};tt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===M0||t===j0||t===D0||t===V0||t===U0||t===Nre||typeof t=="object"&&t!==null&&(t.$$typeof===z0||t.$$typeof===B0||t.$$typeof===$0||t.$$typeof===L0||t.$$typeof===F0||t.$$typeof===JL||t.getModuleId!==void 0)};tt.typeOf=kr;YL.exports=tt;var Rre=YL.exports,Ore=ho,Mre=po,Dre="[object Number]";function jre(t){return typeof t=="number"||Mre(t)&&Ore(t)==Dre}var XL=jre;const $re=Ze(XL);var Lre=XL;function Fre(t){return Lre(t)&&t!=+t}var Vre=Fre;const ju=Ze(Vre);var Nn=function(e){return e===0?0:e>0?1:-1},Us=function(e){return ha(e)&&e.indexOf("%")===e.length-1},ue=function(e){return $re(e)&&!ju(e)},Ure=function(e){return ke(e)},Ut=function(e){return ue(e)||ha(e)},Bre=0,Aa=function(e){var n=++Bre;return"".concat(e||"").concat(n)},Rn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ue(e)&&!ha(e))return r;var o;if(Us(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return ju(o)&&(o=r),i&&o>n&&(o=n),o},Mo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},zre=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},bt=function(e,n){return ue(e)&&ue(n)?function(r){return e+r*(n-e)}:function(){return n}};function Dm(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):rr(r,e))===n})}var Gre=function(e,n){return ue(e)&&ue(n)?e-n:ha(e)&&ha(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function _l(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Ub(t){"@babel/helpers - typeof";return Ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ub(t)}var qre=["viewBox","children"],Hre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],oP=["points","pathLength"],_v={svg:qre,polygon:oP,polyline:oP},zE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],jm=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(U.isValidElement(e)&&(r=e.props),!Ru(r))return null;var i={};return Object.keys(r).forEach(function(o){zE.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},Wre=function(e,n,r){return function(i){return e(n,r,i),null}},pa=function(e,n,r){if(!Ru(e)||Ub(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];zE.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=Wre(s,n,r))}),i},Kre=["children"],Yre=["children"];function sP(t,e){if(t==null)return{};var n=Jre(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bb(t){"@babel/helpers - typeof";return Bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bb(t)}var aP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Bi=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},lP=null,Ev=null,GE=function t(e){if(e===lP&&Array.isArray(Ev))return Ev;var n=[];return U.Children.forEach(e,function(r){ke(r)||(Rre.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Ev=n,lP=e,n};function ir(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Bi(i)}):r=[Bi(e)],GE(t).forEach(function(i){var o=rr(i,"type.displayName")||rr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Xn(t,e){var n=ir(t,e);return n&&n[0]}var uP=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ue(r)||r<=0||!ue(i)||i<=0)},Xre=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Qre=function(e){return e&&e.type&&ha(e.type)&&Xre.indexOf(e.type)>=0},QL=function(e){return e&&Bb(e)==="object"&&"clipDot"in e},Zre=function(e,n,r,i){var o,s=(o=_v==null?void 0:_v[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!_e(e)&&(i&&s.includes(n)||Hre.includes(n))||r&&zE.includes(n)},ye=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(U.isValidElement(e)&&(i=e.props),!Ru(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;Zre((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},zb=function t(e,n){if(e===n)return!0;var r=U.Children.count(e);if(r!==U.Children.count(n))return!1;if(r===0)return!0;if(r===1)return cP(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!cP(o,s))return!1}return!0},cP=function(e,n){if(ke(e)&&ke(n))return!0;if(!ke(e)&&!ke(n)){var r=e.props||{},i=r.children,o=sP(r,Kre),s=n.props||{},a=s.children,l=sP(s,Yre);return i&&a?_l(o,l)&&zb(i,a):!i&&!a?_l(o,l):!1}return!1},dP=function(e,n){var r=[],i={};return GE(e).forEach(function(o,s){if(Qre(o))r.push(o);else if(o){var a=Bi(o.type),l=n[a]||{},u=l.handler,c=l.once;if(u&&(!c||!i[a])){var f=u(o,a,s);r.push(f),i[a]=!0}}}),r},eie=function(e){var n=e&&e.type;return n&&aP[n]?aP[n]:null},tie=function(e,n){return GE(n).indexOf(e)},nie=["children","width","height","viewBox","className","style","title","desc"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gb.apply(this,arguments)}function rie(t,e){if(t==null)return{};var n=iie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qb(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,u=rie(t,nie),c=i||{width:n,height:r,x:0,y:0},f=Ne("recharts-surface",o);return B.createElement("svg",Gb({},ye(u,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),B.createElement("title",null,a),B.createElement("desc",null,l),e)}var oie=["children","className"];function Hb(){return Hb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hb.apply(this,arguments)}function sie(t,e){if(t==null)return{};var n=aie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var $e=B.forwardRef(function(t,e){var n=t.children,r=t.className,i=sie(t,oie),o=Ne("recharts-layer",r);return B.createElement("g",Hb({className:o},ye(i,!0),{ref:e}),n)}),Wr=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function lie(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var uie=lie,cie=uie;function die(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:cie(t,e,n)}var fie=die,hie="\\ud800-\\udfff",pie="\\u0300-\\u036f",mie="\\ufe20-\\ufe2f",gie="\\u20d0-\\u20ff",yie=pie+mie+gie,vie="\\ufe0e\\ufe0f",xie="\\u200d",bie=RegExp("["+xie+hie+yie+vie+"]");function wie(t){return bie.test(t)}var ZL=wie;function _ie(t){return t.split("")}var Eie=_ie,e4="\\ud800-\\udfff",Sie="\\u0300-\\u036f",Tie="\\ufe20-\\ufe2f",Aie="\\u20d0-\\u20ff",Iie=Sie+Tie+Aie,kie="\\ufe0e\\ufe0f",Cie="["+e4+"]",Wb="["+Iie+"]",Kb="\\ud83c[\\udffb-\\udfff]",Pie="(?:"+Wb+"|"+Kb+")",t4="[^"+e4+"]",n4="(?:\\ud83c[\\udde6-\\uddff]){2}",r4="[\\ud800-\\udbff][\\udc00-\\udfff]",Nie="\\u200d",i4=Pie+"?",o4="["+kie+"]?",Rie="(?:"+Nie+"(?:"+[t4,n4,r4].join("|")+")"+o4+i4+")*",Oie=o4+i4+Rie,Mie="(?:"+[t4+Wb+"?",Wb,n4,r4,Cie].join("|")+")",Die=RegExp(Kb+"(?="+Kb+")|"+Mie+Oie,"g");function jie(t){return t.match(Die)||[]}var $ie=jie,Lie=Eie,Fie=ZL,Vie=$ie;function Uie(t){return Fie(t)?Vie(t):Lie(t)}var Bie=Uie,zie=fie,Gie=ZL,qie=Bie,Hie=HL;function Wie(t){return function(e){e=Hie(e);var n=Gie(e)?qie(e):void 0,r=n?n[0]:e.charAt(0),i=n?zie(n,1).join(""):e.slice(1);return r[t]()+i}}var Kie=Wie,Yie=Kie,Jie=Yie("toUpperCase"),Xie=Jie;const G0=Ze(Xie);function ct(t){return function(){return t}}const s4=Math.cos,$m=Math.sin,Qr=Math.sqrt,Lm=Math.PI,q0=2*Lm,Yb=Math.PI,Jb=2*Yb,Ns=1e-6,Qie=Jb-Ns;function a4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Zie(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return a4;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class eoe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?a4:Zie(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-e,u=i-n,c=s-e,f=a-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Ns)if(!(Math.abs(f*l-u*c)>Ns)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-s,v=i-a,b=l*l+u*u,x=y*y+v*v,E=Math.sqrt(b),w=Math.sqrt(h),_=o*Math.tan((Yb-Math.acos((b+h-x)/(2*E*w)))/2),C=_/w,S=_/E;Math.abs(C-1)>Ns&&this._append`L${e+C*c},${n+C*f}`,this._append`A${o},${o},0,0,${+(f*y>c*v)},${this._x1=e+S*l},${this._y1=n+S*u}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),u=e+a,c=n+l,f=1^s,h=s?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Ns||Math.abs(this._y1-c)>Ns)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%Jb+Jb),h>Qie?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>Ns&&this._append`A${r},${r},0,${+(h>=Yb)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function qE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new eoe(e)}function HE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function l4(t){this._context=t}l4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function H0(t){return new l4(t)}function u4(t){return t[0]}function c4(t){return t[1]}function d4(t,e){var n=ct(!0),r=null,i=H0,o=null,s=qE(a);t=typeof t=="function"?t:t===void 0?u4:ct(t),e=typeof e=="function"?e:e===void 0?c4:ct(e);function a(l){var u,c=(l=HE(l)).length,f,h=!1,y;for(r==null&&(o=i(y=s())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(y)return o=null,y+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:ct(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:ct(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ct(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function Kh(t,e,n){var r=null,i=ct(!0),o=null,s=H0,a=null,l=qE(u);t=typeof t=="function"?t:t===void 0?u4:ct(+t),e=typeof e=="function"?e:ct(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?c4:ct(+n);function u(f){var h,y,v,b=(f=HE(f)).length,x,E=!1,w,_=new Array(b),C=new Array(b);for(o==null&&(a=s(w=l())),h=0;h<=b;++h){if(!(h<b&&i(x=f[h],h,f))===E)if(E=!E)y=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=h-1;v>=y;--v)a.point(_[v],C[v]);a.lineEnd(),a.areaEnd()}E&&(_[h]=+t(x,h,f),C[h]=+e(x,h,f),a.point(r?+r(x,h,f):_[h],n?+n(x,h,f):C[h]))}if(w)return a=null,w+""||null}function c(){return d4().defined(i).curve(s).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:ct(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ct(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ct(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:ct(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ct(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ct(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ct(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),u):s},u.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),u):o},u}class f4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function toe(t){return new f4(t,!0)}function noe(t){return new f4(t,!1)}const WE={draw(t,e){const n=Qr(e/Lm);t.moveTo(n,0),t.arc(0,0,n,0,q0)}},roe={draw(t,e){const n=Qr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},h4=Qr(1/3),ioe=h4*2,ooe={draw(t,e){const n=Qr(e/ioe),r=n*h4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},soe={draw(t,e){const n=Qr(e),r=-n/2;t.rect(r,r,n,n)}},aoe=.8908130915292852,p4=$m(Lm/10)/$m(7*Lm/10),loe=$m(q0/10)*p4,uoe=-s4(q0/10)*p4,coe={draw(t,e){const n=Qr(e*aoe),r=loe*n,i=uoe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=q0*o/5,a=s4(s),l=$m(s);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},Sv=Qr(3),doe={draw(t,e){const n=-Qr(e/(Sv*3));t.moveTo(0,n*2),t.lineTo(-Sv*n,-n),t.lineTo(Sv*n,-n),t.closePath()}},cr=-.5,dr=Qr(3)/2,Xb=1/Qr(12),foe=(Xb/2+1)*3,hoe={draw(t,e){const n=Qr(e/foe),r=n/2,i=n*Xb,o=r,s=n*Xb+n,a=-o,l=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(cr*r-dr*i,dr*r+cr*i),t.lineTo(cr*o-dr*s,dr*o+cr*s),t.lineTo(cr*a-dr*l,dr*a+cr*l),t.lineTo(cr*r+dr*i,cr*i-dr*r),t.lineTo(cr*o+dr*s,cr*s-dr*o),t.lineTo(cr*a+dr*l,cr*l-dr*a),t.closePath()}};function poe(t,e){let n=null,r=qE(i);t=typeof t=="function"?t:ct(t||WE),e=typeof e=="function"?e:ct(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:ct(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:ct(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Fm(){}function Vm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function m4(t){this._context=t}m4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function moe(t){return new m4(t)}function g4(t){this._context=t}g4.prototype={areaStart:Fm,areaEnd:Fm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Vm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function goe(t){return new g4(t)}function y4(t){this._context=t}y4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Vm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yoe(t){return new y4(t)}function v4(t){this._context=t}v4.prototype={areaStart:Fm,areaEnd:Fm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function voe(t){return new v4(t)}function fP(t){return t<0?-1:1}function hP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(fP(o)+fP(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function pP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Tv(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function Um(t){this._context=t}Um.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tv(this,this._t0,pP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Tv(this,pP(this,n=hP(this,t,e)),n);break;default:Tv(this,this._t0,n=hP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function x4(t){this._context=new b4(t)}(x4.prototype=Object.create(Um.prototype)).point=function(t,e){Um.prototype.point.call(this,e,t)};function b4(t){this._context=t}b4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function xoe(t){return new Um(t)}function boe(t){return new x4(t)}function w4(t){this._context=t}w4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=mP(t),i=mP(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function mP(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function woe(t){return new w4(t)}function W0(t,e){this._context=t,this._t=e}W0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function _oe(t){return new W0(t,.5)}function Eoe(t){return new W0(t,0)}function Soe(t){return new W0(t,1)}function Vl(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Qb(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Toe(t,e){return t[e]}function Aoe(t){const e=[];return e.key=t,e}function Ioe(){var t=ct([]),e=Qb,n=Vl,r=Toe;function i(o){var s=Array.from(t.apply(this,arguments),Aoe),a,l=s.length,u=-1,c;for(const f of o)for(a=0,++u;a<l;++a)(s[a][u]=[0,+r(f,s[a].key,u,o)]).data=f;for(a=0,c=HE(e(s));a<l;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:ct(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ct(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?Qb:typeof o=="function"?o:ct(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Vl,i):n},i}function koe(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Vl(t,e)}}function Coe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}Vl(t,e)}}function Poe(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,l=0,u=0;a<s;++a){for(var c=t[e[a]],f=c[r][1]||0,h=c[r-1][1]||0,y=(f-h)/2,v=0;v<a;++v){var b=t[e[v]],x=b[r][1]||0,E=b[r-1][1]||0;y+=x-E}l+=f,u+=y*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Vl(t,e)}}function Ud(t){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ud(t)}var Noe=["type","size","sizeType"];function Zb(){return Zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zb.apply(this,arguments)}function gP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gP(Object(n),!0).forEach(function(r){Roe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Roe(t,e,n){return e=Ooe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ooe(t){var e=Moe(t,"string");return Ud(e)=="symbol"?e:e+""}function Moe(t,e){if(Ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Doe(t,e){if(t==null)return{};var n=joe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function joe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var _4={symbolCircle:WE,symbolCross:roe,symbolDiamond:ooe,symbolSquare:soe,symbolStar:coe,symbolTriangle:doe,symbolWye:hoe},$oe=Math.PI/180,Loe=function(e){var n="symbol".concat(G0(e));return _4[n]||WE},Foe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*$oe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Voe=function(e,n){_4["symbol".concat(G0(e))]=n},KE=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=Doe(e,Noe),u=yP(yP({},l),{},{type:r,size:o,sizeType:a}),c=function(){var x=Loe(r),E=poe().type(x).size(Foe(o,a,r));return E()},f=u.className,h=u.cx,y=u.cy,v=ye(u,!0);return h===+h&&y===+y&&o===+o?B.createElement("path",Zb({},v,{className:Ne("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(y,")"),d:c()})):null};KE.registerSymbol=Voe;function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function ew(){return ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ew.apply(this,arguments)}function vP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uoe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vP(Object(n),!0).forEach(function(r){Bd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Boe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,S4(r.key),r)}}function Goe(t,e,n){return e&&zoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qoe(t,e,n){return e=Bm(e),Hoe(t,E4()?Reflect.construct(e,n||[],Bm(t).constructor):e.apply(t,n))}function Hoe(t,e){if(e&&(Ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Woe(t)}function Woe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E4=function(){return!!t})()}function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bm(t)}function Koe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tw(t,e)}function tw(t,e){return tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tw(t,e)}function Bd(t,e,n){return e=S4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S4(t){var e=Yoe(t,"string");return Ul(e)=="symbol"?e:e+""}function Yoe(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fr=32,YE=function(t){function e(){return Boe(this,e),qoe(this,e,arguments)}return Koe(e,t),Goe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=fr/2,s=fr/6,a=fr/3,l=r.inactive?i:r.color;if(r.type==="plainline")return B.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:fr,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return B.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(fr,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return B.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(fr/8,"h").concat(fr,"v").concat(fr*3/4,"h").concat(-fr,"z"),className:"recharts-legend-icon"});if(B.isValidElement(r.legendIcon)){var u=Uoe({},r);return delete u.legendIcon,B.cloneElement(r.legendIcon,u)}return B.createElement(KE,{fill:l,cx:o,cy:o,size:fr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:fr,height:fr},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(y,v){var b=y.formatter||l,x=Ne(Bd(Bd({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",y.inactive));if(y.type==="none")return null;var E=_e(y.value)?null:y.value;Wr(!_e(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=y.inactive?u:y.color;return B.createElement("li",ew({className:x,style:f,key:"legend-item-".concat(v)},pa(r.props,y,v)),B.createElement(qb,{width:s,height:s,viewBox:c,style:h},r.renderIcon(y)),B.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},b?b(E,y,v):E))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return B.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(U.PureComponent);Bd(YE,"displayName","Legend");Bd(YE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Joe=N0;function Xoe(){this.__data__=new Joe,this.size=0}var Qoe=Xoe;function Zoe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var ese=Zoe;function tse(t){return this.__data__.get(t)}var nse=tse;function rse(t){return this.__data__.has(t)}var ise=rse,ose=N0,sse=jE,ase=$E,lse=200;function use(t,e){var n=this.__data__;if(n instanceof ose){var r=n.__data__;if(!sse||r.length<lse-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ase(r)}return n.set(t,e),this.size=n.size,this}var cse=use,dse=N0,fse=Qoe,hse=ese,pse=nse,mse=ise,gse=cse;function $u(t){var e=this.__data__=new dse(t);this.size=e.size}$u.prototype.clear=fse;$u.prototype.delete=hse;$u.prototype.get=pse;$u.prototype.has=mse;$u.prototype.set=gse;var T4=$u,yse="__lodash_hash_undefined__";function vse(t){return this.__data__.set(t,yse),this}var xse=vse;function bse(t){return this.__data__.has(t)}var wse=bse,_se=$E,Ese=xse,Sse=wse;function zm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new _se;++e<n;)this.add(t[e])}zm.prototype.add=zm.prototype.push=Ese;zm.prototype.has=Sse;var A4=zm;function Tse(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var I4=Tse;function Ase(t,e){return t.has(e)}var k4=Ase,Ise=A4,kse=I4,Cse=k4,Pse=1,Nse=2;function Rse(t,e,n,r,i,o){var s=n&Pse,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,y=n&Nse?new Ise:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var v=t[f],b=e[f];if(r)var x=s?r(b,v,f,e,t,o):r(v,b,f,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(y){if(!kse(e,function(E,w){if(!Cse(y,w)&&(v===E||i(v,E,n,r,o)))return y.push(w)})){h=!1;break}}else if(!(v===b||i(v,b,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var C4=Rse,Ose=yi,Mse=Ose.Uint8Array,Dse=Mse;function jse(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var $se=jse;function Lse(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var JE=Lse,xP=Kf,bP=Dse,Fse=DE,Vse=C4,Use=$se,Bse=JE,zse=1,Gse=2,qse="[object Boolean]",Hse="[object Date]",Wse="[object Error]",Kse="[object Map]",Yse="[object Number]",Jse="[object RegExp]",Xse="[object Set]",Qse="[object String]",Zse="[object Symbol]",eae="[object ArrayBuffer]",tae="[object DataView]",wP=xP?xP.prototype:void 0,Av=wP?wP.valueOf:void 0;function nae(t,e,n,r,i,o,s){switch(n){case tae:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case eae:return!(t.byteLength!=e.byteLength||!o(new bP(t),new bP(e)));case qse:case Hse:case Yse:return Fse(+t,+e);case Wse:return t.name==e.name&&t.message==e.message;case Jse:case Qse:return t==e+"";case Kse:var a=Use;case Xse:var l=r&zse;if(a||(a=Bse),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=Gse,s.set(t,e);var c=Vse(a(t),a(e),r,i,o,s);return s.delete(t),c;case Zse:if(Av)return Av.call(t)==Av.call(e)}return!1}var rae=nae;function iae(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var P4=iae,oae=P4,sae=Hn;function aae(t,e,n){var r=e(t);return sae(t)?r:oae(r,n(t))}var lae=aae;function uae(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var cae=uae;function dae(){return[]}var fae=dae,hae=cae,pae=fae,mae=Object.prototype,gae=mae.propertyIsEnumerable,_P=Object.getOwnPropertySymbols,yae=_P?function(t){return t==null?[]:(t=Object(t),hae(_P(t),function(e){return gae.call(t,e)}))}:pae,vae=yae;function xae(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var bae=xae,wae=ho,_ae=po,Eae="[object Arguments]";function Sae(t){return _ae(t)&&wae(t)==Eae}var Tae=Sae,EP=Tae,Aae=po,N4=Object.prototype,Iae=N4.hasOwnProperty,kae=N4.propertyIsEnumerable,Cae=EP(function(){return arguments}())?EP:function(t){return Aae(t)&&Iae.call(t,"callee")&&!kae.call(t,"callee")},XE=Cae,Gm={exports:{}};function Pae(){return!1}var Nae=Pae;Gm.exports;(function(t,e){var n=yi,r=Nae,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Gm,Gm.exports);var R4=Gm.exports,Rae=9007199254740991,Oae=/^(?:0|[1-9]\d*)$/;function Mae(t,e){var n=typeof t;return e=e??Rae,!!e&&(n=="number"||n!="symbol"&&Oae.test(t))&&t>-1&&t%1==0&&t<e}var QE=Mae,Dae=9007199254740991;function jae(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Dae}var ZE=jae,$ae=ho,Lae=ZE,Fae=po,Vae="[object Arguments]",Uae="[object Array]",Bae="[object Boolean]",zae="[object Date]",Gae="[object Error]",qae="[object Function]",Hae="[object Map]",Wae="[object Number]",Kae="[object Object]",Yae="[object RegExp]",Jae="[object Set]",Xae="[object String]",Qae="[object WeakMap]",Zae="[object ArrayBuffer]",ele="[object DataView]",tle="[object Float32Array]",nle="[object Float64Array]",rle="[object Int8Array]",ile="[object Int16Array]",ole="[object Int32Array]",sle="[object Uint8Array]",ale="[object Uint8ClampedArray]",lle="[object Uint16Array]",ule="[object Uint32Array]",pt={};pt[tle]=pt[nle]=pt[rle]=pt[ile]=pt[ole]=pt[sle]=pt[ale]=pt[lle]=pt[ule]=!0;pt[Vae]=pt[Uae]=pt[Zae]=pt[Bae]=pt[ele]=pt[zae]=pt[Gae]=pt[qae]=pt[Hae]=pt[Wae]=pt[Kae]=pt[Yae]=pt[Jae]=pt[Xae]=pt[Qae]=!1;function cle(t){return Fae(t)&&Lae(t.length)&&!!pt[$ae(t)]}var dle=cle;function fle(t){return function(e){return t(e)}}var O4=fle,qm={exports:{}};qm.exports;(function(t,e){var n=VL,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(qm,qm.exports);var hle=qm.exports,ple=dle,mle=O4,SP=hle,TP=SP&&SP.isTypedArray,gle=TP?mle(TP):ple,M4=gle,yle=bae,vle=XE,xle=Hn,ble=R4,wle=QE,_le=M4,Ele=Object.prototype,Sle=Ele.hasOwnProperty;function Tle(t,e){var n=xle(t),r=!n&&vle(t),i=!n&&!r&&ble(t),o=!n&&!r&&!i&&_le(t),s=n||r||i||o,a=s?yle(t.length,String):[],l=a.length;for(var u in t)(e||Sle.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||wle(u,l)))&&a.push(u);return a}var Ale=Tle,Ile=Object.prototype;function kle(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Ile;return t===n}var Cle=kle;function Ple(t,e){return function(n){return t(e(n))}}var D4=Ple,Nle=D4,Rle=Nle(Object.keys,Object),Ole=Rle,Mle=Cle,Dle=Ole,jle=Object.prototype,$le=jle.hasOwnProperty;function Lle(t){if(!Mle(t))return Dle(t);var e=[];for(var n in Object(t))$le.call(t,n)&&n!="constructor"&&e.push(n);return e}var Fle=Lle,Vle=ME,Ule=ZE;function Ble(t){return t!=null&&Ule(t.length)&&!Vle(t)}var Yf=Ble,zle=Ale,Gle=Fle,qle=Yf;function Hle(t){return qle(t)?zle(t):Gle(t)}var K0=Hle,Wle=lae,Kle=vae,Yle=K0;function Jle(t){return Wle(t,Yle,Kle)}var Xle=Jle,AP=Xle,Qle=1,Zle=Object.prototype,eue=Zle.hasOwnProperty;function tue(t,e,n,r,i,o){var s=n&Qle,a=AP(t),l=a.length,u=AP(e),c=u.length;if(l!=c&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:eue.call(e,h)))return!1}var y=o.get(t),v=o.get(e);if(y&&v)return y==e&&v==t;var b=!0;o.set(t,e),o.set(e,t);for(var x=s;++f<l;){h=a[f];var E=t[h],w=e[h];if(r)var _=s?r(w,E,h,e,t,o):r(E,w,h,t,e,o);if(!(_===void 0?E===w||i(E,w,n,r,o):_)){b=!1;break}x||(x=h=="constructor")}if(b&&!x){var C=t.constructor,S=e.constructor;C!=S&&"constructor"in t&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof S=="function"&&S instanceof S)&&(b=!1)}return o.delete(t),o.delete(e),b}var nue=tue,rue=Ta,iue=yi,oue=rue(iue,"DataView"),sue=oue,aue=Ta,lue=yi,uue=aue(lue,"Promise"),cue=uue,due=Ta,fue=yi,hue=due(fue,"Set"),j4=hue,pue=Ta,mue=yi,gue=pue(mue,"WeakMap"),yue=gue,nw=sue,rw=jE,iw=cue,ow=j4,sw=yue,$4=ho,Lu=BL,IP="[object Map]",vue="[object Object]",kP="[object Promise]",CP="[object Set]",PP="[object WeakMap]",NP="[object DataView]",xue=Lu(nw),bue=Lu(rw),wue=Lu(iw),_ue=Lu(ow),Eue=Lu(sw),Rs=$4;(nw&&Rs(new nw(new ArrayBuffer(1)))!=NP||rw&&Rs(new rw)!=IP||iw&&Rs(iw.resolve())!=kP||ow&&Rs(new ow)!=CP||sw&&Rs(new sw)!=PP)&&(Rs=function(t){var e=$4(t),n=e==vue?t.constructor:void 0,r=n?Lu(n):"";if(r)switch(r){case xue:return NP;case bue:return IP;case wue:return kP;case _ue:return CP;case Eue:return PP}return e});var Sue=Rs,Iv=T4,Tue=C4,Aue=rae,Iue=nue,RP=Sue,OP=Hn,MP=R4,kue=M4,Cue=1,DP="[object Arguments]",jP="[object Array]",Yh="[object Object]",Pue=Object.prototype,$P=Pue.hasOwnProperty;function Nue(t,e,n,r,i,o){var s=OP(t),a=OP(e),l=s?jP:RP(t),u=a?jP:RP(e);l=l==DP?Yh:l,u=u==DP?Yh:u;var c=l==Yh,f=u==Yh,h=l==u;if(h&&MP(t)){if(!MP(e))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new Iv),s||kue(t)?Tue(t,e,n,r,i,o):Aue(t,e,l,n,r,i,o);if(!(n&Cue)){var y=c&&$P.call(t,"__wrapped__"),v=f&&$P.call(e,"__wrapped__");if(y||v){var b=y?t.value():t,x=v?e.value():e;return o||(o=new Iv),i(b,x,n,r,o)}}return h?(o||(o=new Iv),Iue(t,e,n,r,i,o)):!1}var Rue=Nue,Oue=Rue,LP=po;function L4(t,e,n,r,i){return t===e?!0:t==null||e==null||!LP(t)&&!LP(e)?t!==t&&e!==e:Oue(t,e,n,r,L4,i)}var eS=L4,Mue=T4,Due=eS,jue=1,$ue=2;function Lue(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var l=a[0],u=t[l],c=a[1];if(s&&a[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Mue;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?Due(c,u,jue|$ue,r,f):h))return!1}}return!0}var Fue=Lue,Vue=ms;function Uue(t){return t===t&&!Vue(t)}var F4=Uue,Bue=F4,zue=K0;function Gue(t){for(var e=zue(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Bue(i)]}return e}var que=Gue;function Hue(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var V4=Hue,Wue=Fue,Kue=que,Yue=V4;function Jue(t){var e=Kue(t);return e.length==1&&e[0][2]?Yue(e[0][0],e[0][1]):function(n){return n===t||Wue(n,t,e)}}var Xue=Jue;function Que(t,e){return t!=null&&e in Object(t)}var Zue=Que,ece=WL,tce=XE,nce=Hn,rce=QE,ice=ZE,oce=O0;function sce(t,e,n){e=ece(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=oce(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&ice(i)&&rce(s,i)&&(nce(t)||tce(t)))}var ace=sce,lce=Zue,uce=ace;function cce(t,e){return t!=null&&uce(t,e,lce)}var dce=cce,fce=eS,hce=KL,pce=dce,mce=OE,gce=F4,yce=V4,vce=O0,xce=1,bce=2;function wce(t,e){return mce(t)&&gce(e)?yce(vce(t),e):function(n){var r=hce(n,t);return r===void 0&&r===e?pce(n,t):fce(e,r,xce|bce)}}var _ce=wce;function Ece(t){return t}var Fu=Ece;function Sce(t){return function(e){return e==null?void 0:e[t]}}var Tce=Sce,Ace=VE;function Ice(t){return function(e){return Ace(e,t)}}var kce=Ice,Cce=Tce,Pce=kce,Nce=OE,Rce=O0;function Oce(t){return Nce(t)?Cce(Rce(t)):Pce(t)}var Mce=Oce,Dce=Xue,jce=_ce,$ce=Fu,Lce=Hn,Fce=Mce;function Vce(t){return typeof t=="function"?t:t==null?$ce:typeof t=="object"?Lce(t)?jce(t[0],t[1]):Dce(t):Fce(t)}var vi=Vce;function Uce(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var U4=Uce;function Bce(t){return t!==t}var zce=Bce;function Gce(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var qce=Gce,Hce=U4,Wce=zce,Kce=qce;function Yce(t,e,n){return e===e?Kce(t,e,n):Hce(t,Wce,n)}var Jce=Yce,Xce=Jce;function Qce(t,e){var n=t==null?0:t.length;return!!n&&Xce(t,e,0)>-1}var Zce=Qce;function ede(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var tde=ede;function nde(){}var rde=nde,kv=j4,ide=rde,ode=JE,sde=1/0,ade=kv&&1/ode(new kv([,-0]))[1]==sde?function(t){return new kv(t)}:ide,lde=ade,ude=A4,cde=Zce,dde=tde,fde=k4,hde=lde,pde=JE,mde=200;function gde(t,e,n){var r=-1,i=cde,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=dde;else if(o>=mde){var u=e?null:hde(t);if(u)return pde(u);s=!1,i=fde,l=new ude}else l=e?[]:a;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),a.push(c)}else i(l,f,n)||(l!==a&&l.push(f),a.push(c))}return a}var yde=gde,vde=vi,xde=yde;function bde(t,e){return t&&t.length?xde(t,vde(e)):[]}var wde=bde;const FP=Ze(wde);function B4(t,e,n){return e===!0?FP(t,n):_e(e)?FP(t,e):t}function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}var _de=["ref"];function VP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VP(Object(n),!0).forEach(function(r){Y0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ede(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G4(r.key),r)}}function Sde(t,e,n){return e&&UP(t.prototype,e),n&&UP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tde(t,e,n){return e=Hm(e),Ade(t,z4()?Reflect.construct(e,n||[],Hm(t).constructor):e.apply(t,n))}function Ade(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ide(t)}function Ide(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z4=function(){return!!t})()}function Hm(t){return Hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hm(t)}function kde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aw(t,e)}function aw(t,e){return aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aw(t,e)}function Y0(t,e,n){return e=G4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G4(t){var e=Cde(t,"string");return Bl(e)=="symbol"?e:e+""}function Cde(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Pde(t,e){if(t==null)return{};var n=Nde(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nde(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rde(t){return t.value}function Ode(t,e){if(B.isValidElement(t))return B.cloneElement(t,e);if(typeof t=="function")return B.createElement(t,e);e.ref;var n=Pde(e,_de);return B.createElement(YE,n)}var BP=1,ui=function(t){function e(){var n;Ede(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Tde(this,e,[].concat(i)),Y0(n,"lastBoundingBox",{width:-1,height:-1}),n}return kde(e,t),Sde(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>BP||Math.abs(i.height-this.lastBoundingBox.height)>BP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Si({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var y=this.getBBoxSnapshot();f={left:((u||0)-y.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var v=this.getBBoxSnapshot();h={top:((c||0)-v.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Si(Si({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Si(Si({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return B.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(y){r.wrapperNode=y}},Ode(o,Si(Si({},this.props),{},{payload:B4(c,u,Rde)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Si(Si({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&ue(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(U.PureComponent);Y0(ui,"displayName","Legend");Y0(ui,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var zP=Kf,Mde=XE,Dde=Hn,GP=zP?zP.isConcatSpreadable:void 0;function jde(t){return Dde(t)||Mde(t)||!!(GP&&t&&t[GP])}var $de=jde,Lde=P4,Fde=$de;function q4(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=Fde),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?q4(a,e-1,n,r,i):Lde(i,a):r||(i[i.length]=a)}return i}var H4=q4;function Vde(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var l=s[t?a:++i];if(n(o[l],l,o)===!1)break}return e}}var Ude=Vde,Bde=Ude,zde=Bde(),Gde=zde,qde=Gde,Hde=K0;function Wde(t,e){return t&&qde(t,e,Hde)}var W4=Wde,Kde=Yf;function Yde(t,e){return function(n,r){if(n==null)return n;if(!Kde(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Jde=Yde,Xde=W4,Qde=Jde,Zde=Qde(Xde),tS=Zde,efe=tS,tfe=Yf;function nfe(t,e){var n=-1,r=tfe(t)?Array(t.length):[];return efe(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var K4=nfe;function rfe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var ife=rfe,qP=Nu;function ofe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=qP(t),s=e!==void 0,a=e===null,l=e===e,u=qP(e);if(!a&&!u&&!o&&t>e||o&&s&&l&&!a&&!u||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}var sfe=ofe,afe=sfe;function lfe(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var l=afe(i[r],o[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var ufe=lfe,Cv=FE,cfe=VE,dfe=vi,ffe=K4,hfe=ife,pfe=O4,mfe=ufe,gfe=Fu,yfe=Hn;function vfe(t,e,n){e.length?e=Cv(e,function(o){return yfe(o)?function(s){return cfe(s,o.length===1?o[0]:o)}:o}):e=[gfe];var r=-1;e=Cv(e,pfe(dfe));var i=ffe(t,function(o,s,a){var l=Cv(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return hfe(i,function(o,s){return mfe(o,s,n)})}var xfe=vfe;function bfe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var wfe=bfe,_fe=wfe,HP=Math.max;function Efe(t,e,n){return e=HP(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=HP(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),_fe(t,this,a)}}var Sfe=Efe;function Tfe(t){return function(){return t}}var Afe=Tfe,Ife=Ta,kfe=function(){try{var t=Ife(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Y4=kfe,Cfe=Afe,WP=Y4,Pfe=Fu,Nfe=WP?function(t,e){return WP(t,"toString",{configurable:!0,enumerable:!1,value:Cfe(e),writable:!0})}:Pfe,Rfe=Nfe,Ofe=800,Mfe=16,Dfe=Date.now;function jfe(t){var e=0,n=0;return function(){var r=Dfe(),i=Mfe-(r-n);if(n=r,i>0){if(++e>=Ofe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var $fe=jfe,Lfe=Rfe,Ffe=$fe,Vfe=Ffe(Lfe),Ufe=Vfe,Bfe=Fu,zfe=Sfe,Gfe=Ufe;function qfe(t,e){return Gfe(zfe(t,e,Bfe),t+"")}var Hfe=qfe,Wfe=DE,Kfe=Yf,Yfe=QE,Jfe=ms;function Xfe(t,e,n){if(!Jfe(n))return!1;var r=typeof e;return(r=="number"?Kfe(n)&&Yfe(e,n.length):r=="string"&&e in n)?Wfe(n[e],t):!1}var J0=Xfe,Qfe=H4,Zfe=xfe,ehe=Hfe,KP=J0,the=ehe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&KP(t,e[0],e[1])?e=[]:n>2&&KP(e[0],e[1],e[2])&&(e=[e[0]]),Zfe(t,Qfe(e,1),[])}),nhe=the;const nS=Ze(nhe);function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(this,arguments)}function rhe(t,e){return ahe(t)||she(t,e)||ohe(t,e)||ihe()}function ihe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ohe(t,e){if(t){if(typeof t=="string")return YP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YP(t,e)}}function YP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function she(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function ahe(t){if(Array.isArray(t))return t}function JP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JP(Object(n),!0).forEach(function(r){lhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lhe(t,e,n){return e=uhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uhe(t){var e=che(t,"string");return zd(e)=="symbol"?e:e+""}function che(t,e){if(zd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dhe(t){return Array.isArray(t)&&Ut(t[0])&&Ut(t[1])?t.join(" ~ "):t}var fhe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,y=e.wrapperClassName,v=e.labelClassName,b=e.label,x=e.labelFormatter,E=e.accessibilityLayer,w=E===void 0?!1:E,_=function(){if(c&&c.length){var D={padding:0,margin:0},N=(h?nS(c,h):c).map(function(V,z){if(V.type==="none")return null;var F=Pv({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},a),H=V.formatter||f||dhe,R=V.value,$=V.name,G=R,K=$;if(H&&G!=null&&K!=null){var q=H(R,$,V,z,c);if(Array.isArray(q)){var X=rhe(q,2);G=X[0],K=X[1]}else G=q}return B.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:F},Ut(K)?B.createElement("span",{className:"recharts-tooltip-item-name"},K):null,Ut(K)?B.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,B.createElement("span",{className:"recharts-tooltip-item-value"},G),B.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return B.createElement("ul",{className:"recharts-tooltip-item-list",style:D},N)}return null},C=Pv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),S=Pv({margin:0},u),k=!ke(b),T=k?b:"",I=Ne("recharts-default-tooltip",y),P=Ne("recharts-tooltip-label",v);k&&x&&c!==void 0&&c!==null&&(T=x(b,c));var M=w?{role:"status","aria-live":"assertive"}:{};return B.createElement("div",lw({className:I,style:C},M),B.createElement("p",{className:P,style:S},B.isValidElement(T)?T:"".concat(T)),_())};function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function Jh(t,e,n){return e=hhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hhe(t){var e=phe(t,"string");return Gd(e)=="symbol"?e:e+""}function phe(t,e){if(Gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yc="recharts-tooltip-wrapper",mhe={visibility:"hidden"};function ghe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ne(yc,Jh(Jh(Jh(Jh({},"".concat(yc,"-right"),ue(n)&&e&&ue(e.x)&&n>=e.x),"".concat(yc,"-left"),ue(n)&&e&&ue(e.x)&&n<e.x),"".concat(yc,"-bottom"),ue(r)&&e&&ue(e.y)&&r>=e.y),"".concat(yc,"-top"),ue(r)&&e&&ue(e.y)&&r<e.y))}function XP(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ue(o[r]))return o[r];var c=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?c:f;if(s[r]){var h=c,y=l[r];return h<y?Math.max(f,l[r]):Math.max(c,l[r])}var v=f+a,b=l[r]+u;return v>b?Math.max(c,l[r]):Math.max(f,l[r])}function yhe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function vhe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,u,c,f;return s.height>0&&s.width>0&&n?(c=XP({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=XP({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=yhe({translateX:c,translateY:f,useTranslate3d:a})):u=mhe,{cssProperties:u,cssClasses:ghe({translateX:c,translateY:f,coordinate:n})}}function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){cw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X4(r.key),r)}}function whe(t,e,n){return e&&bhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _he(t,e,n){return e=Wm(e),Ehe(t,J4()?Reflect.construct(e,n||[],Wm(t).constructor):e.apply(t,n))}function Ehe(t,e){if(e&&(zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return She(t)}function She(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J4=function(){return!!t})()}function Wm(t){return Wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wm(t)}function The(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uw(t,e)}function uw(t,e){return uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uw(t,e)}function cw(t,e,n){return e=X4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X4(t){var e=Ahe(t,"string");return zl(e)=="symbol"?e:e+""}function Ahe(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eN=1,Ihe=function(t){function e(){var n;xhe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=_he(this,e,[].concat(i)),cw(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),cw(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return The(e,t),whe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>eN||Math.abs(r.height-this.state.lastBoundingBox.height)>eN)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,y=i.offset,v=i.position,b=i.reverseDirection,x=i.useTranslate3d,E=i.viewBox,w=i.wrapperStyle,_=vhe({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:y,position:v,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:E}),C=_.cssClasses,S=_.cssProperties,k=ZP(ZP({transition:h&&o?"transform ".concat(a,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return B.createElement("div",{tabIndex:-1,className:C,style:k,ref:function(I){r.wrapperNode=I}},u)}}])}(U.PureComponent),khe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},mo={isSsr:khe()};function Gl(t){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gl(t)}function tN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tN(Object(n),!0).forEach(function(r){rS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Che(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Phe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z4(r.key),r)}}function Nhe(t,e,n){return e&&Phe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rhe(t,e,n){return e=Km(e),Ohe(t,Q4()?Reflect.construct(e,n||[],Km(t).constructor):e.apply(t,n))}function Ohe(t,e){if(e&&(Gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mhe(t)}function Mhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q4=function(){return!!t})()}function Km(t){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Km(t)}function Dhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dw(t,e)}function dw(t,e){return dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dw(t,e)}function rS(t,e,n){return e=Z4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z4(t){var e=jhe(t,"string");return Gl(e)=="symbol"?e:e+""}function jhe(t,e){if(Gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $he(t){return t.dataKey}function Lhe(t,e){return B.isValidElement(t)?B.cloneElement(t,e):typeof t=="function"?B.createElement(t,e):B.createElement(fhe,e)}var rn=function(t){function e(){return Che(this,e),Rhe(this,e,arguments)}return Dhe(e,t),Nhe(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,y=i.offset,v=i.payload,b=i.payloadUniqBy,x=i.position,E=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,C=i.wrapperStyle,S=v??[];f&&S.length&&(S=B4(v.filter(function(T){return T.value!=null&&(T.hide!==!0||r.props.includeHidden)}),b,$he));var k=S.length>0;return B.createElement(Ihe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:k,offset:y,position:x,reverseDirection:E,useTranslate3d:w,viewBox:_,wrapperStyle:C},Lhe(u,nN(nN({},this.props),{},{payload:S})))}}])}(U.PureComponent);rS(rn,"displayName","Tooltip");rS(rn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!mo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Fhe=yi,Vhe=function(){return Fhe.Date.now()},Uhe=Vhe,Bhe=/\s/;function zhe(t){for(var e=t.length;e--&&Bhe.test(t.charAt(e)););return e}var Ghe=zhe,qhe=Ghe,Hhe=/^\s+/;function Whe(t){return t&&t.slice(0,qhe(t)+1).replace(Hhe,"")}var Khe=Whe,Yhe=Khe,rN=ms,Jhe=Nu,iN=NaN,Xhe=/^[-+]0x[0-9a-f]+$/i,Qhe=/^0b[01]+$/i,Zhe=/^0o[0-7]+$/i,epe=parseInt;function tpe(t){if(typeof t=="number")return t;if(Jhe(t))return iN;if(rN(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=rN(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Yhe(t);var n=Qhe.test(t);return n||Zhe.test(t)?epe(t.slice(2),n?2:8):Xhe.test(t)?iN:+t}var e5=tpe,npe=ms,Nv=Uhe,oN=e5,rpe="Expected a function",ipe=Math.max,ope=Math.min;function spe(t,e,n){var r,i,o,s,a,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(rpe);e=oN(e)||0,npe(n)&&(c=!!n.leading,f="maxWait"in n,o=f?ipe(oN(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function y(k){var T=r,I=i;return r=i=void 0,u=k,s=t.apply(I,T),s}function v(k){return u=k,a=setTimeout(E,e),c?y(k):s}function b(k){var T=k-l,I=k-u,P=e-T;return f?ope(P,o-I):P}function x(k){var T=k-l,I=k-u;return l===void 0||T>=e||T<0||f&&I>=o}function E(){var k=Nv();if(x(k))return w(k);a=setTimeout(E,b(k))}function w(k){return a=void 0,h&&r?y(k):(r=i=void 0,s)}function _(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function C(){return a===void 0?s:w(Nv())}function S(){var k=Nv(),T=x(k);if(r=arguments,i=this,l=k,T){if(a===void 0)return v(l);if(f)return clearTimeout(a),a=setTimeout(E,e),y(l)}return a===void 0&&(a=setTimeout(E,e)),s}return S.cancel=_,S.flush=C,S}var ape=spe,lpe=ape,upe=ms,cpe="Expected a function";function dpe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(cpe);return upe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),lpe(t,e,{leading:r,maxWait:e,trailing:i})}var fpe=dpe;const t5=Ze(fpe);function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function sN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sN(Object(n),!0).forEach(function(r){hpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hpe(t,e,n){return e=ppe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ppe(t){var e=mpe(t,"string");return qd(e)=="symbol"?e:e+""}function mpe(t,e){if(qd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gpe(t,e){return bpe(t)||xpe(t,e)||vpe(t,e)||ype()}function ype(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vpe(t,e){if(t){if(typeof t=="string")return aN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aN(t,e)}}function aN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function bpe(t){if(Array.isArray(t))return t}var Zo=U.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,y=t.children,v=t.debounce,b=v===void 0?0:v,x=t.id,E=t.className,w=t.onResize,_=t.style,C=_===void 0?{}:_,S=U.useRef(null),k=U.useRef();k.current=w,U.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var T=U.useState({containerWidth:i.width,containerHeight:i.height}),I=gpe(T,2),P=I[0],M=I[1],j=U.useCallback(function(N,V){M(function(z){var F=Math.round(N),H=Math.round(V);return z.containerWidth===F&&z.containerHeight===H?z:{containerWidth:F,containerHeight:H}})},[]);U.useEffect(function(){var N=function($){var G,K=$[0].contentRect,q=K.width,X=K.height;j(q,X),(G=k.current)===null||G===void 0||G.call(k,q,X)};b>0&&(N=t5(N,b,{trailing:!0,leading:!1}));var V=new ResizeObserver(N),z=S.current.getBoundingClientRect(),F=z.width,H=z.height;return j(F,H),V.observe(S.current),function(){V.disconnect()}},[j,b]);var D=U.useMemo(function(){var N=P.containerWidth,V=P.containerHeight;if(N<0||V<0)return null;Wr(Us(s)||Us(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Wr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var z=Us(s)?N:s,F=Us(l)?V:l;n&&n>0&&(z?F=z/n:F&&(z=F*n),h&&F>h&&(F=h)),Wr(z>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,F,s,l,c,f,n);var H=!Array.isArray(y)&&Bi(y.type).endsWith("Chart");return B.Children.map(y,function(R){return B.isValidElement(R)?U.cloneElement(R,Xh({width:z,height:F},H?{style:Xh({height:"100%",width:"100%",maxHeight:F,maxWidth:z},R.props.style)}:{})):R})},[n,y,l,h,f,c,P,s]);return B.createElement("div",{id:x?"".concat(x):void 0,className:Ne("recharts-responsive-container",E),style:Xh(Xh({},C),{},{width:s,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:S},D)}),Ia=function(e){return null};Ia.displayName="Cell";function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function lN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lN(Object(n),!0).forEach(function(r){wpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wpe(t,e,n){return e=_pe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _pe(t){var e=Epe(t,"string");return Hd(e)=="symbol"?e:e+""}function Epe(t,e){if(Hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ja={widthCache:{},cacheCount:0},Spe=2e3,Tpe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},uN="recharts_measurement_span";function Ape(t){var e=fw({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ed=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||mo.isSsr)return{width:0,height:0};var r=Ape(n),i=JSON.stringify({text:e,copyStyle:r});if(ja.widthCache[i])return ja.widthCache[i];try{var o=document.getElementById(uN);o||(o=document.createElement("span"),o.setAttribute("id",uN),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=fw(fw({},Tpe),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return ja.widthCache[i]=l,++ja.cacheCount>Spe&&(ja.cacheCount=0,ja.widthCache={}),l}catch{return{width:0,height:0}}},Ipe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function Ym(t,e){return Npe(t)||Ppe(t,e)||Cpe(t,e)||kpe()}function kpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cpe(t,e){if(t){if(typeof t=="string")return cN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cN(t,e)}}function cN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ppe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Npe(t){if(Array.isArray(t))return t}function Rpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mpe(r.key),r)}}function Ope(t,e,n){return e&&dN(t.prototype,e),n&&dN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mpe(t){var e=Dpe(t,"string");return Wd(e)=="symbol"?e:e+""}function Dpe(t,e){if(Wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jpe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$pe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,n5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Lpe=Object.keys(n5),ol="NaN";function Fpe(t,e){return t*n5[e]}var Qh=function(){function t(e,n){Rpe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!jpe.test(n)&&(this.num=NaN,this.unit=""),Lpe.includes(n)&&(this.num=Fpe(e,n),this.unit="px")}return Ope(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=$pe.exec(n))!==null&&r!==void 0?r:[],o=Ym(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function r5(t){if(t.includes(ol))return ol;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=fN.exec(e))!==null&&n!==void 0?n:[],i=Ym(r,4),o=i[1],s=i[2],a=i[3],l=Qh.parse(o??""),u=Qh.parse(a??""),c=s==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return ol;e=e.replace(fN,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=hN.exec(e))!==null&&f!==void 0?f:[],y=Ym(h,4),v=y[1],b=y[2],x=y[3],E=Qh.parse(v??""),w=Qh.parse(x??""),_=b==="+"?E.add(w):E.subtract(w);if(_.isNaN())return ol;e=e.replace(hN,_.toString())}return e}var pN=/\(([^()]*)\)/;function Vpe(t){for(var e=t;e.includes("(");){var n=pN.exec(e),r=Ym(n,2),i=r[1];e=e.replace(pN,r5(i))}return e}function Upe(t){var e=t.replace(/\s+/g,"");return e=Vpe(e),e=r5(e),e}function Bpe(t){try{return Upe(t)}catch{return ol}}function Rv(t){var e=Bpe(t.slice(5,-1));return e===ol?"":e}var zpe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Gpe=["dx","dy","angle","className","breakAll"];function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hw.apply(this,arguments)}function mN(t,e){if(t==null)return{};var n=qpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gN(t,e){return Ype(t)||Kpe(t,e)||Wpe(t,e)||Hpe()}function Hpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wpe(t,e){if(t){if(typeof t=="string")return yN(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yN(t,e)}}function yN(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Ype(t){if(Array.isArray(t))return t}var i5=/[ \f\n\r\t\v\u2028\u2029]+/,o5=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];ke(n)||(r?o=n.toString().split(""):o=n.toString().split(i5));var s=o.map(function(l){return{word:l,width:ed(l,i).width}}),a=r?0:ed("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Jpe=function(e,n,r,i,o){var s=e.maxLines,a=e.children,l=e.style,u=e.breakAll,c=ue(s),f=a,h=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(F,H){var R=H.word,$=H.width,G=F[F.length-1];if(G&&(i==null||o||G.width+$+r<Number(i)))G.words.push(R),G.width+=$+r;else{var K={words:[R],width:$};F.push(K)}return F},[])},y=h(n),v=function(z){return z.reduce(function(F,H){return F.width>H.width?F:H})};if(!c)return y;for(var b="",x=function(z){var F=f.slice(0,z),H=o5({breakAll:u,style:l,children:F+b}).wordsWithComputedWidth,R=h(H),$=R.length>s||v(R).width>Number(i);return[$,R]},E=0,w=f.length-1,_=0,C;E<=w&&_<=f.length-1;){var S=Math.floor((E+w)/2),k=S-1,T=x(k),I=gN(T,2),P=I[0],M=I[1],j=x(S),D=gN(j,1),N=D[0];if(!P&&!N&&(E=S+1),P&&N&&(w=S-1),!P&&N){C=M;break}_++}return C||y},vN=function(e){var n=ke(e)?[]:e.toString().split(i5);return[{words:n}]},Xpe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!mo.isSsr){var l,u,c=o5({breakAll:s,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return vN(i);return Jpe({breakAll:s,children:i,maxLines:a,style:o},l,u,n,r)}return vN(i)},xN="#808080",ma=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,y=h===void 0?"start":h,v=e.verticalAnchor,b=v===void 0?"end":v,x=e.fill,E=x===void 0?xN:x,w=mN(e,zpe),_=U.useMemo(function(){return Xpe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),C=w.dx,S=w.dy,k=w.angle,T=w.className,I=w.breakAll,P=mN(w,Gpe);if(!Ut(r)||!Ut(o))return null;var M=r+(ue(C)?C:0),j=o+(ue(S)?S:0),D;switch(b){case"start":D=Rv("calc(".concat(u,")"));break;case"middle":D=Rv("calc(".concat((_.length-1)/2," * -").concat(a," + (").concat(u," / 2))"));break;default:D=Rv("calc(".concat(_.length-1," * -").concat(a,")"));break}var N=[];if(f){var V=_[0].width,z=w.width;N.push("scale(".concat((ue(z)?z/V:1)/V,")"))}return k&&N.push("rotate(".concat(k,", ").concat(M,", ").concat(j,")")),N.length&&(P.transform=N.join(" ")),B.createElement("text",hw({},ye(P,!0),{x:M,y:j,className:Ne("recharts-text",T),textAnchor:y,fill:E.includes("url")?xN:E}),_.map(function(F,H){var R=F.words.join(I?"":" ");return B.createElement("tspan",{x:M,dy:H===0?D:a,key:"".concat(R,"-").concat(H)},R)}))};function es(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Qpe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function iS(t){let e,n,r;t.length!==2?(e=es,n=(a,l)=>es(t(a),l),r=(a,l)=>t(a)-l):(e=t===es||t===Qpe?t:Zpe,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function Zpe(){return 0}function s5(t){return t===null?NaN:+t}function*eme(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const tme=iS(es),Jf=tme.right;iS(s5).center;class bN extends Map{constructor(e,n=ime){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(wN(this,e))}has(e){return super.has(wN(this,e))}set(e,n){return super.set(nme(this,e),n)}delete(e){return super.delete(rme(this,e))}}function wN({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function nme({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function rme({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ime(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ome(t=es){if(t===es)return a5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function a5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const sme=Math.sqrt(50),ame=Math.sqrt(10),lme=Math.sqrt(2);function Jm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=sme?10:o>=ame?5:o>=lme?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?Jm(t,e,n*2):[a,l,u]}function pw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Jm(e,t,n):Jm(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function mw(t,e,n){return e=+e,t=+t,n=+n,Jm(t,e,n)[2]}function gw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?mw(e,t,n):mw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function _N(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function EN(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function l5(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?a5:ome(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),y=Math.max(n,Math.floor(e-u*f/l+h)),v=Math.min(r,Math.floor(e+(l-u)*f/l+h));l5(t,e,y,v,i)}const o=t[e];let s=n,a=r;for(vc(t,n,e),i(t[r],o)>0&&vc(t,n,r);s<a;){for(vc(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?vc(t,n,a):(++a,vc(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function vc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ume(t,e,n){if(t=Float64Array.from(eme(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return EN(t);if(e>=1)return _N(t);var r,i=(r-1)*e,o=Math.floor(i),s=_N(l5(t,o).subarray(0,o+1)),a=EN(t.subarray(o+1));return s+(a-s)*(i-o)}}function cme(t,e,n=s5){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function dme(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Cr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function go(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const yw=Symbol("implicit");function oS(){var t=new bN,e=[],n=[],r=yw;function i(o){let s=t.get(o);if(s===void 0){if(r!==yw)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new bN;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return oS(e,n).unknown(r)},Cr.apply(i,arguments),i}function Kd(){var t=oS().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,y=i<r,v=y?i:r,b=y?r:i;o=(b-v)/Math.max(1,h-l+u*2),a&&(o=Math.floor(o)),v+=(b-v-o*(h-l))*c,s=o*(1-l),a&&(v=Math.round(v),s=Math.round(s));var x=dme(h).map(function(E){return v+o*E});return n(y?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(h){return arguments.length?(a=!!h,f()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return Kd(e(),[r,i]).round(a).paddingInner(l).paddingOuter(u).align(c)},Cr.apply(f(),arguments)}function u5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return u5(e())},t}function td(){return u5(Kd.apply(null,arguments).paddingInner(1))}function sS(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function c5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Xf(){}var Yd=.7,Xm=1/Yd,El="\\s*([+-]?\\d+)\\s*",Jd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ci="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fme=/^#([0-9a-f]{3,8})$/,hme=new RegExp(`^rgb\\(${El},${El},${El}\\)$`),pme=new RegExp(`^rgb\\(${ci},${ci},${ci}\\)$`),mme=new RegExp(`^rgba\\(${El},${El},${El},${Jd}\\)$`),gme=new RegExp(`^rgba\\(${ci},${ci},${ci},${Jd}\\)$`),yme=new RegExp(`^hsl\\(${Jd},${ci},${ci}\\)$`),vme=new RegExp(`^hsla\\(${Jd},${ci},${ci},${Jd}\\)$`),SN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sS(Xf,Xd,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:TN,formatHex:TN,formatHex8:xme,formatHsl:bme,formatRgb:AN,toString:AN});function TN(){return this.rgb().formatHex()}function xme(){return this.rgb().formatHex8()}function bme(){return d5(this).formatHsl()}function AN(){return this.rgb().formatRgb()}function Xd(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=fme.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?IN(e):n===3?new Un(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Zh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Zh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=hme.exec(t))?new Un(e[1],e[2],e[3],1):(e=pme.exec(t))?new Un(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=mme.exec(t))?Zh(e[1],e[2],e[3],e[4]):(e=gme.exec(t))?Zh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=yme.exec(t))?PN(e[1],e[2]/100,e[3]/100,1):(e=vme.exec(t))?PN(e[1],e[2]/100,e[3]/100,e[4]):SN.hasOwnProperty(t)?IN(SN[t]):t==="transparent"?new Un(NaN,NaN,NaN,0):null}function IN(t){return new Un(t>>16&255,t>>8&255,t&255,1)}function Zh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Un(t,e,n,r)}function wme(t){return t instanceof Xf||(t=Xd(t)),t?(t=t.rgb(),new Un(t.r,t.g,t.b,t.opacity)):new Un}function vw(t,e,n,r){return arguments.length===1?wme(t):new Un(t,e,n,r??1)}function Un(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}sS(Un,vw,c5(Xf,{brighter(t){return t=t==null?Xm:Math.pow(Xm,t),new Un(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Yd:Math.pow(Yd,t),new Un(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Un(Js(this.r),Js(this.g),Js(this.b),Qm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kN,formatHex:kN,formatHex8:_me,formatRgb:CN,toString:CN}));function kN(){return`#${Bs(this.r)}${Bs(this.g)}${Bs(this.b)}`}function _me(){return`#${Bs(this.r)}${Bs(this.g)}${Bs(this.b)}${Bs((isNaN(this.opacity)?1:this.opacity)*255)}`}function CN(){const t=Qm(this.opacity);return`${t===1?"rgb(":"rgba("}${Js(this.r)}, ${Js(this.g)}, ${Js(this.b)}${t===1?")":`, ${t})`}`}function Qm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Js(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Bs(t){return t=Js(t),(t<16?"0":"")+t.toString(16)}function PN(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Vr(t,e,n,r)}function d5(t){if(t instanceof Vr)return new Vr(t.h,t.s,t.l,t.opacity);if(t instanceof Xf||(t=Xd(t)),!t)return new Vr;if(t instanceof Vr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Vr(s,a,l,t.opacity)}function Eme(t,e,n,r){return arguments.length===1?d5(t):new Vr(t,e,n,r??1)}function Vr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}sS(Vr,Eme,c5(Xf,{brighter(t){return t=t==null?Xm:Math.pow(Xm,t),new Vr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Yd:Math.pow(Yd,t),new Vr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Un(Ov(t>=240?t-240:t+120,i,r),Ov(t,i,r),Ov(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Vr(NN(this.h),ep(this.s),ep(this.l),Qm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qm(this.opacity);return`${t===1?"hsl(":"hsla("}${NN(this.h)}, ${ep(this.s)*100}%, ${ep(this.l)*100}%${t===1?")":`, ${t})`}`}}));function NN(t){return t=(t||0)%360,t<0?t+360:t}function ep(t){return Math.max(0,Math.min(1,t||0))}function Ov(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const aS=t=>()=>t;function Sme(t,e){return function(n){return t+n*e}}function Tme(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ame(t){return(t=+t)==1?f5:function(e,n){return n-e?Tme(e,n,t):aS(isNaN(e)?n:e)}}function f5(t,e){var n=e-t;return n?Sme(t,n):aS(isNaN(t)?e:t)}const RN=function t(e){var n=Ame(e);function r(i,o){var s=n((i=vw(i)).r,(o=vw(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=f5(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Ime(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function kme(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Cme(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Vu(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Pme(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Zm(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Nme(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Vu(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var xw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mv=new RegExp(xw.source,"g");function Rme(t){return function(){return t}}function Ome(t){return function(e){return t(e)+""}}function Mme(t,e){var n=xw.lastIndex=Mv.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=xw.exec(t))&&(i=Mv.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Zm(r,i)})),n=Mv.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Ome(l[0].x):Rme(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function Vu(t,e){var n=typeof e,r;return e==null||n==="boolean"?aS(e):(n==="number"?Zm:n==="string"?(r=Xd(e))?(e=r,RN):Mme:e instanceof Xd?RN:e instanceof Date?Pme:kme(e)?Ime:Array.isArray(e)?Cme:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Nme:Zm)(t,e)}function lS(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Dme(t,e){e===void 0&&(e=t,t=Vu);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function jme(t){return function(){return t}}function eg(t){return+t}var ON=[0,1];function On(t){return t}function bw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:jme(isNaN(e)?NaN:.5)}function $me(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Lme(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=bw(i,r),o=n(s,o)):(r=bw(r,i),o=n(o,s)),function(a){return o(r(a))}}function Fme(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=bw(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=Jf(t,a,1,r)-1;return o[l](i[l](a))}}function Qf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function X0(){var t=ON,e=ON,n=Vu,r,i,o,s=On,a,l,u;function c(){var h=Math.min(t.length,e.length);return s!==On&&(s=$me(t[0],t[h-1])),a=h>2?Fme:Lme,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=a(t.map(r),e,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=a(e,t.map(r),Zm)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,eg),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=lS,c()},f.clamp=function(h){return arguments.length?(s=h?!0:On,c()):s!==On},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,y){return r=h,i=y,c()}}function uS(){return X0()(On,On)}function Vme(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function tg(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ql(t){return t=tg(Math.abs(t)),t?t[1]:NaN}function Ume(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Bme(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var zme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qd(t){if(!(e=zme.exec(t)))throw new Error("invalid format: "+t);var e;return new cS({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Qd.prototype=cS.prototype;function cS(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}cS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Gme(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var ng;function qme(t,e){var n=tg(t,e);if(!n)return ng=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(ng=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+tg(t,Math.max(0,e+o-1))[0]}function MN(t,e){var n=tg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const DN={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Vme,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>MN(t*100,e),r:MN,s:qme,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function jN(t){return t}var $N=Array.prototype.map,LN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Hme(t){var e=t.grouping===void 0||t.thousands===void 0?jN:Ume($N.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?jN:Bme($N.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f,h){f=Qd(f);var y=f.fill,v=f.align,b=f.sign,x=f.symbol,E=f.zero,w=f.width,_=f.comma,C=f.precision,S=f.trim,k=f.type;k==="n"?(_=!0,k="g"):DN[k]||(C===void 0&&(C=12),S=!0,k="g"),(E||y==="0"&&v==="=")&&(E=!0,y="0",v="=");var T=(h&&h.prefix!==void 0?h.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():""),I=(x==="$"?r:/[%p]/.test(k)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),P=DN[k],M=/[defgprs%]/.test(k);C=C===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function j(D){var N=T,V=I,z,F,H;if(k==="c")V=P(D)+V,D="";else{D=+D;var R=D<0||1/D<0;if(D=isNaN(D)?l:P(Math.abs(D),C),S&&(D=Gme(D)),R&&+D==0&&b!=="+"&&(R=!1),N=(R?b==="("?b:a:b==="-"||b==="("?"":b)+N,V=(k==="s"&&!isNaN(D)&&ng!==void 0?LN[8+ng/3]:"")+V+(R&&b==="("?")":""),M){for(z=-1,F=D.length;++z<F;)if(H=D.charCodeAt(z),48>H||H>57){V=(H===46?i+D.slice(z+1):D.slice(z))+V,D=D.slice(0,z);break}}}_&&!E&&(D=e(D,1/0));var $=N.length+D.length+V.length,G=$<w?new Array(w-$+1).join(y):"";switch(_&&E&&(D=e(G+D,G.length?w-V.length:1/0),G=""),v){case"<":D=N+D+V+G;break;case"=":D=N+G+D+V;break;case"^":D=G.slice(0,$=G.length>>1)+N+D+V+G.slice($);break;default:D=G+N+D+V;break}return o(D)}return j.toString=function(){return f+""},j}function c(f,h){var y=Math.max(-8,Math.min(8,Math.floor(ql(h)/3)))*3,v=Math.pow(10,-y),b=u((f=Qd(f),f.type="f",f),{suffix:LN[8+y/3]});return function(x){return b(v*x)}}return{format:u,formatPrefix:c}}var tp,dS,h5;Wme({thousands:",",grouping:[3],currency:["$",""]});function Wme(t){return tp=Hme(t),dS=tp.format,h5=tp.formatPrefix,tp}function Kme(t){return Math.max(0,-ql(Math.abs(t)))}function Yme(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ql(e)/3)))*3-ql(Math.abs(t)))}function Jme(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ql(e)-ql(t))+1}function p5(t,e,n,r){var i=gw(t,e,n),o;switch(r=Qd(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Yme(i,s))&&(r.precision=o),h5(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Jme(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Kme(i))&&(r.precision=o-(r.type==="%")*2);break}}return dS(r)}function gs(t){var e=t.domain;return t.ticks=function(n){var r=e();return pw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return p5(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=mw(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function rg(){var t=uS();return t.copy=function(){return Qf(t,rg())},Cr.apply(t,arguments),gs(t)}function m5(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,eg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return m5(t).unknown(e)},t=arguments.length?Array.from(t,eg):[0,1],gs(n)}function g5(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function FN(t){return Math.log(t)}function VN(t){return Math.exp(t)}function Xme(t){return-Math.log(-t)}function Qme(t){return-Math.exp(-t)}function Zme(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ege(t){return t===10?Zme:t===Math.E?Math.exp:e=>Math.pow(t,e)}function tge(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function UN(t){return(e,n)=>-t(-e,n)}function fS(t){const e=t(FN,VN),n=e.domain;let r=10,i,o;function s(){return i=tge(r),o=ege(r),n()[0]<0?(i=UN(i),o=UN(o),t(Xme,Qme)):t(FN,VN),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),y=i(c),v,b;const x=a==null?10:+a;let E=[];if(!(r%1)&&y-h<x){if(h=Math.floor(h),y=Math.ceil(y),u>0){for(;h<=y;++h)for(v=1;v<r;++v)if(b=h<0?v/o(-h):v*o(h),!(b<u)){if(b>c)break;E.push(b)}}else for(;h<=y;++h)for(v=r-1;v>=1;--v)if(b=h>0?v/o(-h):v*o(h),!(b<u)){if(b>c)break;E.push(b)}E.length*2<x&&(E=pw(u,c,x))}else E=pw(h,y,Math.min(y-h,x)).map(o);return f?E.reverse():E},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Qd(l)).precision==null&&(l.trim=!0),l=dS(l)),a===1/0)return l;const u=Math.max(1,r*a/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(g5(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function y5(){const t=fS(X0()).domain([1,10]);return t.copy=()=>Qf(t,y5()).base(t.base()),Cr.apply(t,arguments),t}function BN(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function zN(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function hS(t){var e=1,n=t(BN(e),zN(e));return n.constant=function(r){return arguments.length?t(BN(e=+r),zN(e)):e},gs(n)}function v5(){var t=hS(X0());return t.copy=function(){return Qf(t,v5()).constant(t.constant())},Cr.apply(t,arguments)}function GN(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function nge(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function rge(t){return t<0?-t*t:t*t}function pS(t){var e=t(On,On),n=1;function r(){return n===1?t(On,On):n===.5?t(nge,rge):t(GN(n),GN(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},gs(e)}function mS(){var t=pS(X0());return t.copy=function(){return Qf(t,mS()).exponent(t.exponent())},Cr.apply(t,arguments),t}function ige(){return mS.apply(null,arguments).exponent(.5)}function qN(t){return Math.sign(t)*t*t}function oge(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function x5(){var t=uS(),e=[0,1],n=!1,r;function i(o){var s=oge(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(qN(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,eg)).map(qN)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return x5(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Cr.apply(i,arguments),gs(i)}function b5(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=cme(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Jf(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(es),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return b5().domain(t).range(e).unknown(r)},Cr.apply(o,arguments)}function w5(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Jf(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return w5().domain([t,e]).range(i).unknown(o)},Cr.apply(gs(s),arguments)}function _5(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Jf(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return _5().domain(t).range(e).unknown(n)},Cr.apply(i,arguments)}const Dv=new Date,jv=new Date;function zt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let u;do l.push(u=new Date(+o)),e(o,a),t(o);while(u<o&&o<s);return l},i.filter=o=>zt(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(Dv.setTime(+o),jv.setTime(+s),t(Dv),t(jv),Math.floor(n(Dv,jv))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const ig=zt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ig.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?zt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ig);ig.range;const ji=1e3,yr=ji*60,$i=yr*60,no=$i*24,gS=no*7,HN=no*30,$v=no*365,zs=zt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ji)},(t,e)=>(e-t)/ji,t=>t.getUTCSeconds());zs.range;const yS=zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ji)},(t,e)=>{t.setTime(+t+e*yr)},(t,e)=>(e-t)/yr,t=>t.getMinutes());yS.range;const vS=zt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*yr)},(t,e)=>(e-t)/yr,t=>t.getUTCMinutes());vS.range;const xS=zt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ji-t.getMinutes()*yr)},(t,e)=>{t.setTime(+t+e*$i)},(t,e)=>(e-t)/$i,t=>t.getHours());xS.range;const bS=zt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*$i)},(t,e)=>(e-t)/$i,t=>t.getUTCHours());bS.range;const Zf=zt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*yr)/no,t=>t.getDate()-1);Zf.range;const Q0=zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/no,t=>t.getUTCDate()-1);Q0.range;const E5=zt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/no,t=>Math.floor(t/no));E5.range;function ka(t){return zt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*yr)/gS)}const Z0=ka(0),og=ka(1),sge=ka(2),age=ka(3),Hl=ka(4),lge=ka(5),uge=ka(6);Z0.range;og.range;sge.range;age.range;Hl.range;lge.range;uge.range;function Ca(t){return zt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/gS)}const ey=Ca(0),sg=Ca(1),cge=Ca(2),dge=Ca(3),Wl=Ca(4),fge=Ca(5),hge=Ca(6);ey.range;sg.range;cge.range;dge.range;Wl.range;fge.range;hge.range;const wS=zt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());wS.range;const _S=zt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());_S.range;const ro=zt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ro.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ro.range;const io=zt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());io.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:zt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});io.range;function S5(t,e,n,r,i,o){const s=[[zs,1,ji],[zs,5,5*ji],[zs,15,15*ji],[zs,30,30*ji],[o,1,yr],[o,5,5*yr],[o,15,15*yr],[o,30,30*yr],[i,1,$i],[i,3,3*$i],[i,6,6*$i],[i,12,12*$i],[r,1,no],[r,2,2*no],[n,1,gS],[e,1,HN],[e,3,3*HN],[t,1,$v]];function a(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const y=f&&typeof f.range=="function"?f:l(u,c,f),v=y?y.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,f){const h=Math.abs(c-u)/f,y=iS(([,,x])=>x).right(s,h);if(y===s.length)return t.every(gw(u/$v,c/$v,f));if(y===0)return ig.every(Math.max(gw(u,c,f),1));const[v,b]=s[h/s[y-1][2]<s[y][2]/h?y-1:y];return v.every(b)}return[a,l]}const[pge,mge]=S5(io,_S,ey,E5,bS,vS),[gge,yge]=S5(ro,wS,Z0,Zf,xS,yS);function Lv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Fv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function xc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function vge(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=bc(i),c=wc(i),f=bc(o),h=wc(o),y=bc(s),v=wc(s),b=bc(a),x=wc(a),E=bc(l),w=wc(l),_={a:H,A:R,b:$,B:G,c:null,d:QN,e:QN,f:Uge,g:Xge,G:Zge,H:Lge,I:Fge,j:Vge,L:T5,m:Bge,M:zge,p:K,q,Q:t2,s:n2,S:Gge,u:qge,U:Hge,V:Wge,w:Kge,W:Yge,x:null,X:null,y:Jge,Y:Qge,Z:e0e,"%":e2},C={a:X,A:le,b:W,B:Z,c:null,d:ZN,e:ZN,f:i0e,g:p0e,G:g0e,H:t0e,I:n0e,j:r0e,L:I5,m:o0e,M:s0e,p:J,q:ve,Q:t2,s:n2,S:a0e,u:l0e,U:u0e,V:c0e,w:d0e,W:f0e,x:null,X:null,y:h0e,Y:m0e,Z:y0e,"%":e2},S={a:M,A:j,b:D,B:N,c:V,d:JN,e:JN,f:Mge,g:YN,G:KN,H:XN,I:XN,j:Pge,L:Oge,m:Cge,M:Nge,p:P,q:kge,Q:jge,s:$ge,S:Rge,u:Ege,U:Sge,V:Tge,w:_ge,W:Age,x:z,X:F,y:YN,Y:KN,Z:Ige,"%":Dge};_.x=k(n,_),_.X=k(r,_),_.c=k(e,_),C.x=k(n,C),C.X=k(r,C),C.c=k(e,C);function k(se,be){return function(de){var ne=[],De=-1,Ce=0,nt=se.length,rt,it,lr;for(de instanceof Date||(de=new Date(+de));++De<nt;)se.charCodeAt(De)===37&&(ne.push(se.slice(Ce,De)),(it=WN[rt=se.charAt(++De)])!=null?rt=se.charAt(++De):it=rt==="e"?" ":"0",(lr=be[rt])&&(rt=lr(de,it)),ne.push(rt),Ce=De+1);return ne.push(se.slice(Ce,De)),ne.join("")}}function T(se,be){return function(de){var ne=xc(1900,void 0,1),De=I(ne,se,de+="",0),Ce,nt;if(De!=de.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(be&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(Ce=Fv(xc(ne.y,0,1)),nt=Ce.getUTCDay(),Ce=nt>4||nt===0?sg.ceil(Ce):sg(Ce),Ce=Q0.offset(Ce,(ne.V-1)*7),ne.y=Ce.getUTCFullYear(),ne.m=Ce.getUTCMonth(),ne.d=Ce.getUTCDate()+(ne.w+6)%7):(Ce=Lv(xc(ne.y,0,1)),nt=Ce.getDay(),Ce=nt>4||nt===0?og.ceil(Ce):og(Ce),Ce=Zf.offset(Ce,(ne.V-1)*7),ne.y=Ce.getFullYear(),ne.m=Ce.getMonth(),ne.d=Ce.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),nt="Z"in ne?Fv(xc(ne.y,0,1)).getUTCDay():Lv(xc(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(nt+5)%7:ne.w+ne.U*7-(nt+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,Fv(ne)):Lv(ne)}}function I(se,be,de,ne){for(var De=0,Ce=be.length,nt=de.length,rt,it;De<Ce;){if(ne>=nt)return-1;if(rt=be.charCodeAt(De++),rt===37){if(rt=be.charAt(De++),it=S[rt in WN?be.charAt(De++):rt],!it||(ne=it(se,de,ne))<0)return-1}else if(rt!=de.charCodeAt(ne++))return-1}return ne}function P(se,be,de){var ne=u.exec(be.slice(de));return ne?(se.p=c.get(ne[0].toLowerCase()),de+ne[0].length):-1}function M(se,be,de){var ne=y.exec(be.slice(de));return ne?(se.w=v.get(ne[0].toLowerCase()),de+ne[0].length):-1}function j(se,be,de){var ne=f.exec(be.slice(de));return ne?(se.w=h.get(ne[0].toLowerCase()),de+ne[0].length):-1}function D(se,be,de){var ne=E.exec(be.slice(de));return ne?(se.m=w.get(ne[0].toLowerCase()),de+ne[0].length):-1}function N(se,be,de){var ne=b.exec(be.slice(de));return ne?(se.m=x.get(ne[0].toLowerCase()),de+ne[0].length):-1}function V(se,be,de){return I(se,e,be,de)}function z(se,be,de){return I(se,n,be,de)}function F(se,be,de){return I(se,r,be,de)}function H(se){return s[se.getDay()]}function R(se){return o[se.getDay()]}function $(se){return l[se.getMonth()]}function G(se){return a[se.getMonth()]}function K(se){return i[+(se.getHours()>=12)]}function q(se){return 1+~~(se.getMonth()/3)}function X(se){return s[se.getUTCDay()]}function le(se){return o[se.getUTCDay()]}function W(se){return l[se.getUTCMonth()]}function Z(se){return a[se.getUTCMonth()]}function J(se){return i[+(se.getUTCHours()>=12)]}function ve(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var be=k(se+="",_);return be.toString=function(){return se},be},parse:function(se){var be=T(se+="",!1);return be.toString=function(){return se},be},utcFormat:function(se){var be=k(se+="",C);return be.toString=function(){return se},be},utcParse:function(se){var be=T(se+="",!0);return be.toString=function(){return se},be}}}var WN={"-":"",_:" ",0:"0"},Xt=/^\s*\d+/,xge=/^%/,bge=/[\\^$*+?|[\]().{}]/g;function Je(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function wge(t){return t.replace(bge,"\\$&")}function bc(t){return new RegExp("^(?:"+t.map(wge).join("|")+")","i")}function wc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function _ge(t,e,n){var r=Xt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ege(t,e,n){var r=Xt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Sge(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Tge(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Age(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function KN(t,e,n){var r=Xt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function YN(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ige(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function kge(t,e,n){var r=Xt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Cge(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function JN(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Pge(t,e,n){var r=Xt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function XN(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Nge(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Rge(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Oge(t,e,n){var r=Xt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Mge(t,e,n){var r=Xt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Dge(t,e,n){var r=xge.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function jge(t,e,n){var r=Xt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function $ge(t,e,n){var r=Xt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function QN(t,e){return Je(t.getDate(),e,2)}function Lge(t,e){return Je(t.getHours(),e,2)}function Fge(t,e){return Je(t.getHours()%12||12,e,2)}function Vge(t,e){return Je(1+Zf.count(ro(t),t),e,3)}function T5(t,e){return Je(t.getMilliseconds(),e,3)}function Uge(t,e){return T5(t,e)+"000"}function Bge(t,e){return Je(t.getMonth()+1,e,2)}function zge(t,e){return Je(t.getMinutes(),e,2)}function Gge(t,e){return Je(t.getSeconds(),e,2)}function qge(t){var e=t.getDay();return e===0?7:e}function Hge(t,e){return Je(Z0.count(ro(t)-1,t),e,2)}function A5(t){var e=t.getDay();return e>=4||e===0?Hl(t):Hl.ceil(t)}function Wge(t,e){return t=A5(t),Je(Hl.count(ro(t),t)+(ro(t).getDay()===4),e,2)}function Kge(t){return t.getDay()}function Yge(t,e){return Je(og.count(ro(t)-1,t),e,2)}function Jge(t,e){return Je(t.getFullYear()%100,e,2)}function Xge(t,e){return t=A5(t),Je(t.getFullYear()%100,e,2)}function Qge(t,e){return Je(t.getFullYear()%1e4,e,4)}function Zge(t,e){var n=t.getDay();return t=n>=4||n===0?Hl(t):Hl.ceil(t),Je(t.getFullYear()%1e4,e,4)}function e0e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Je(e/60|0,"0",2)+Je(e%60,"0",2)}function ZN(t,e){return Je(t.getUTCDate(),e,2)}function t0e(t,e){return Je(t.getUTCHours(),e,2)}function n0e(t,e){return Je(t.getUTCHours()%12||12,e,2)}function r0e(t,e){return Je(1+Q0.count(io(t),t),e,3)}function I5(t,e){return Je(t.getUTCMilliseconds(),e,3)}function i0e(t,e){return I5(t,e)+"000"}function o0e(t,e){return Je(t.getUTCMonth()+1,e,2)}function s0e(t,e){return Je(t.getUTCMinutes(),e,2)}function a0e(t,e){return Je(t.getUTCSeconds(),e,2)}function l0e(t){var e=t.getUTCDay();return e===0?7:e}function u0e(t,e){return Je(ey.count(io(t)-1,t),e,2)}function k5(t){var e=t.getUTCDay();return e>=4||e===0?Wl(t):Wl.ceil(t)}function c0e(t,e){return t=k5(t),Je(Wl.count(io(t),t)+(io(t).getUTCDay()===4),e,2)}function d0e(t){return t.getUTCDay()}function f0e(t,e){return Je(sg.count(io(t)-1,t),e,2)}function h0e(t,e){return Je(t.getUTCFullYear()%100,e,2)}function p0e(t,e){return t=k5(t),Je(t.getUTCFullYear()%100,e,2)}function m0e(t,e){return Je(t.getUTCFullYear()%1e4,e,4)}function g0e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Wl(t):Wl.ceil(t),Je(t.getUTCFullYear()%1e4,e,4)}function y0e(){return"+0000"}function e2(){return"%"}function t2(t){return+t}function n2(t){return Math.floor(+t/1e3)}var $a,C5,P5;v0e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function v0e(t){return $a=vge(t),C5=$a.format,$a.parse,P5=$a.utcFormat,$a.utcParse,$a}function x0e(t){return new Date(t)}function b0e(t){return t instanceof Date?+t:+new Date(+t)}function ES(t,e,n,r,i,o,s,a,l,u){var c=uS(),f=c.invert,h=c.domain,y=u(".%L"),v=u(":%S"),b=u("%I:%M"),x=u("%I %p"),E=u("%a %d"),w=u("%b %d"),_=u("%B"),C=u("%Y");function S(k){return(l(k)<k?y:a(k)<k?v:s(k)<k?b:o(k)<k?x:r(k)<k?i(k)<k?E:w:n(k)<k?_:C)(k)}return c.invert=function(k){return new Date(f(k))},c.domain=function(k){return arguments.length?h(Array.from(k,b0e)):h().map(x0e)},c.ticks=function(k){var T=h();return t(T[0],T[T.length-1],k??10)},c.tickFormat=function(k,T){return T==null?S:u(T)},c.nice=function(k){var T=h();return(!k||typeof k.range!="function")&&(k=e(T[0],T[T.length-1],k??10)),k?h(g5(T,k)):c},c.copy=function(){return Qf(c,ES(t,e,n,r,i,o,s,a,l,u))},c}function w0e(){return Cr.apply(ES(gge,yge,ro,wS,Z0,Zf,xS,yS,zs,C5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _0e(){return Cr.apply(ES(pge,mge,io,_S,ey,Q0,bS,vS,zs,P5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ty(){var t=0,e=1,n,r,i,o,s=On,a=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(a=!!f,u):a},u.interpolator=function(f){return arguments.length?(s=f,u):s};function c(f){return function(h){var y,v;return arguments.length?([y,v]=h,s=f(y,v),u):[s(0),s(1)]}}return u.range=c(Vu),u.rangeRound=c(lS),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function ys(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function N5(){var t=gs(ty()(On));return t.copy=function(){return ys(t,N5())},go.apply(t,arguments)}function R5(){var t=fS(ty()).domain([1,10]);return t.copy=function(){return ys(t,R5()).base(t.base())},go.apply(t,arguments)}function O5(){var t=hS(ty());return t.copy=function(){return ys(t,O5()).constant(t.constant())},go.apply(t,arguments)}function SS(){var t=pS(ty());return t.copy=function(){return ys(t,SS()).exponent(t.exponent())},go.apply(t,arguments)}function E0e(){return SS.apply(null,arguments).exponent(.5)}function M5(){var t=[],e=On;function n(r){if(r!=null&&!isNaN(r=+r))return e((Jf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(es),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>ume(t,o/r))},n.copy=function(){return M5(e).domain(t)},go.apply(n,arguments)}function ny(){var t=0,e=.5,n=1,r=1,i,o,s,a,l,u=On,c,f=!1,h;function y(b){return isNaN(b=+b)?h:(b=.5+((b=+c(b))-o)*(r*b<r*o?a:l),u(f?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([t,e,n]=b,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y):[t,e,n]},y.clamp=function(b){return arguments.length?(f=!!b,y):f},y.interpolator=function(b){return arguments.length?(u=b,y):u};function v(b){return function(x){var E,w,_;return arguments.length?([E,w,_]=x,u=Dme(b,[E,w,_]),y):[u(0),u(.5),u(1)]}}return y.range=v(Vu),y.rangeRound=v(lS),y.unknown=function(b){return arguments.length?(h=b,y):h},function(b){return c=b,i=b(t),o=b(e),s=b(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,y}}function D5(){var t=gs(ny()(On));return t.copy=function(){return ys(t,D5())},go.apply(t,arguments)}function j5(){var t=fS(ny()).domain([.1,1,10]);return t.copy=function(){return ys(t,j5()).base(t.base())},go.apply(t,arguments)}function $5(){var t=hS(ny());return t.copy=function(){return ys(t,$5()).constant(t.constant())},go.apply(t,arguments)}function TS(){var t=pS(ny());return t.copy=function(){return ys(t,TS()).exponent(t.exponent())},go.apply(t,arguments)}function S0e(){return TS.apply(null,arguments).exponent(.5)}const r2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Kd,scaleDiverging:D5,scaleDivergingLog:j5,scaleDivergingPow:TS,scaleDivergingSqrt:S0e,scaleDivergingSymlog:$5,scaleIdentity:m5,scaleImplicit:yw,scaleLinear:rg,scaleLog:y5,scaleOrdinal:oS,scalePoint:td,scalePow:mS,scaleQuantile:b5,scaleQuantize:w5,scaleRadial:x5,scaleSequential:N5,scaleSequentialLog:R5,scaleSequentialPow:SS,scaleSequentialQuantile:M5,scaleSequentialSqrt:E0e,scaleSequentialSymlog:O5,scaleSqrt:ige,scaleSymlog:v5,scaleThreshold:_5,scaleTime:w0e,scaleUtc:_0e,tickFormat:p5},Symbol.toStringTag,{value:"Module"}));var T0e=Nu;function A0e(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!T0e(s):n(s,a)))var a=s,l=o}return l}var ry=A0e;function I0e(t,e){return t>e}var L5=I0e,k0e=ry,C0e=L5,P0e=Fu;function N0e(t){return t&&t.length?k0e(t,P0e,C0e):void 0}var R0e=N0e;const Fo=Ze(R0e);function O0e(t,e){return t<e}var F5=O0e,M0e=ry,D0e=F5,j0e=Fu;function $0e(t){return t&&t.length?M0e(t,j0e,D0e):void 0}var L0e=$0e;const iy=Ze(L0e);var F0e=FE,V0e=vi,U0e=K4,B0e=Hn;function z0e(t,e){var n=B0e(t)?F0e:U0e;return n(t,V0e(e))}var G0e=z0e,q0e=H4,H0e=G0e;function W0e(t,e){return q0e(H0e(t,e),1)}var K0e=W0e;const Y0e=Ze(K0e);var J0e=eS;function X0e(t,e){return J0e(t,e)}var Q0e=X0e;const ss=Ze(Q0e);var Uu=1e9,Z0e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},IS,vt=!0,Ar="[DecimalError] ",Xs=Ar+"Invalid argument: ",AS=Ar+"Exponent out of range: ",Bu=Math.floor,Os=Math.pow,eye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qn,qt=1e7,mt=7,V5=9007199254740991,ag=Bu(V5/mt),ge={};ge.absoluteValue=ge.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ge.comparedTo=ge.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ge.decimalPlaces=ge.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*mt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ge.dividedBy=ge.div=function(t){return zi(this,new this.constructor(t))};ge.dividedToIntegerBy=ge.idiv=function(t){var e=this,n=e.constructor;return lt(zi(e,new n(t),0,1),n.precision)};ge.equals=ge.eq=function(t){return!this.cmp(t)};ge.exponent=function(){return Dt(this)};ge.greaterThan=ge.gt=function(t){return this.cmp(t)>0};ge.greaterThanOrEqualTo=ge.gte=function(t){return this.cmp(t)>=0};ge.isInteger=ge.isint=function(){return this.e>this.d.length-2};ge.isNegative=ge.isneg=function(){return this.s<0};ge.isPositive=ge.ispos=function(){return this.s>0};ge.isZero=function(){return this.s===0};ge.lessThan=ge.lt=function(t){return this.cmp(t)<0};ge.lessThanOrEqualTo=ge.lte=function(t){return this.cmp(t)<1};ge.logarithm=ge.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Qn))throw Error(Ar+"NaN");if(n.s<1)throw Error(Ar+(n.s?"NaN":"-Infinity"));return n.eq(Qn)?new r(0):(vt=!1,e=zi(Zd(n,o),Zd(t,o),o),vt=!0,lt(e,i))};ge.minus=ge.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?z5(e,t):U5(e,(t.s=-t.s,t))};ge.modulo=ge.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ar+"NaN");return n.s?(vt=!1,e=zi(n,t,0,1).times(t),vt=!0,n.minus(e)):lt(new r(n),i)};ge.naturalExponential=ge.exp=function(){return B5(this)};ge.naturalLogarithm=ge.ln=function(){return Zd(this)};ge.negated=ge.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ge.plus=ge.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?U5(e,t):z5(e,(t.s=-t.s,t))};ge.precision=ge.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Xs+t);if(e=Dt(i)+1,r=i.d.length-1,n=r*mt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ge.squareRoot=ge.sqrt=function(){var t,e,n,r,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Ar+"NaN")}for(t=Dt(a),vt=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=ri(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Bu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(o=r,r=o.plus(zi(a,o,s+2)).times(.5),ri(o.d).slice(0,s)===(e=ri(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(lt(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return vt=!0,lt(r,n)};ge.times=ge.mul=function(t){var e,n,r,i,o,s,a,l,u,c=this,f=c.constructor,h=c.d,y=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=y.length,l<u&&(o=h,h=y,y=o,s=l,l=u,u=s),o=[],s=l+u,r=s;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)a=o[i]+y[r]*h[i-r-1]+e,o[i--]=a%qt|0,e=a/qt|0;o[i]=(o[i]+e)%qt|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,vt?lt(t,f.precision):t};ge.toDecimalPlaces=ge.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(hi(t,0,Uu),e===void 0?e=r.rounding:hi(e,0,8),lt(n,t+Dt(n)+1,e))};ge.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ga(r,!0):(hi(t,0,Uu),e===void 0?e=i.rounding:hi(e,0,8),r=lt(new i(r),t+1,e),n=ga(r,!0,t+1)),n};ge.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?ga(i):(hi(t,0,Uu),e===void 0?e=o.rounding:hi(e,0,8),r=lt(new o(i),t+Dt(i)+1,e),n=ga(r.abs(),!1,t+Dt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ge.toInteger=ge.toint=function(){var t=this,e=t.constructor;return lt(new e(t),Dt(t)+1,e.rounding)};ge.toNumber=function(){return+this};ge.toPower=ge.pow=function(t){var e,n,r,i,o,s,a=this,l=a.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Qn);if(a=new l(a),!a.s){if(t.s<1)throw Error(Ar+"Infinity");return a}if(a.eq(Qn))return a;if(r=l.precision,t.eq(Qn))return lt(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=V5){for(i=new l(Qn),e=Math.ceil(r/mt+4),vt=!1;n%2&&(i=i.times(a),o2(i.d,e)),n=Bu(n/2),n!==0;)a=a.times(a),o2(a.d,e);return vt=!0,t.s<0?new l(Qn).div(i):lt(i,r)}}else if(o<0)throw Error(Ar+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,vt=!1,i=t.times(Zd(a,r+u)),vt=!0,i=B5(i),i.s=o,i};ge.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Dt(i),r=ga(i,n<=o.toExpNeg||n>=o.toExpPos)):(hi(t,1,Uu),e===void 0?e=o.rounding:hi(e,0,8),i=lt(new o(i),t,e),n=Dt(i),r=ga(i,t<=n||n<=o.toExpNeg,t)),r};ge.toSignificantDigits=ge.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(hi(t,1,Uu),e===void 0?e=r.rounding:hi(e,0,8)),lt(new r(n),t,e)};ge.toString=ge.valueOf=ge.val=ge.toJSON=ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Dt(t),n=t.constructor;return ga(t,e<=n.toExpNeg||e>=n.toExpPos)};function U5(t,e){var n,r,i,o,s,a,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),vt?lt(e,f):e;if(l=t.d,u=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(r=l,o=-o,a=u.length):(r=u,i=s,a=l.length),s=Math.ceil(f/mt),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=l.length,o=u.length,a-o<0&&(o=a,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/qt|0,l[o]%=qt;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,vt?lt(e,f):e}function hi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Xs+t)}function ri(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=mt-r.length,n&&(o+=Io(n)),o+=r;s=t[e],r=s+"",n=mt-r.length,n&&(o+=Io(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var zi=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%qt|0,s=o/qt|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*qt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,l,u,c,f,h,y,v,b,x,E,w,_,C,S,k,T,I,P=r.constructor,M=r.s==i.s?1:-1,j=r.d,D=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(Ar+"Division by zero");for(l=r.e-i.e,T=D.length,S=j.length,y=new P(M),v=y.d=[],u=0;D[u]==(j[u]||0);)++u;if(D[u]>(j[u]||0)&&--l,o==null?w=o=P.precision:s?w=o+(Dt(r)-Dt(i))+1:w=o,w<0)return new P(0);if(w=w/mt+2|0,u=0,T==1)for(c=0,D=D[0],w++;(u<S||c)&&w--;u++)_=c*qt+(j[u]||0),v[u]=_/D|0,c=_%D|0;else{for(c=qt/(D[0]+1)|0,c>1&&(D=t(D,c),j=t(j,c),T=D.length,S=j.length),C=T,b=j.slice(0,T),x=b.length;x<T;)b[x++]=0;I=D.slice(),I.unshift(0),k=D[0],D[1]>=qt/2&&++k;do c=0,a=e(D,b,T,x),a<0?(E=b[0],T!=x&&(E=E*qt+(b[1]||0)),c=E/k|0,c>1?(c>=qt&&(c=qt-1),f=t(D,c),h=f.length,x=b.length,a=e(f,b,h,x),a==1&&(c--,n(f,T<h?I:D,h))):(c==0&&(a=c=1),f=D.slice()),h=f.length,h<x&&f.unshift(0),n(b,f,x),a==-1&&(x=b.length,a=e(D,b,T,x),a<1&&(c++,n(b,T<x?I:D,x))),x=b.length):a===0&&(c++,b=[0]),v[u++]=c,a&&b[0]?b[x++]=j[C]||0:(b=[j[C]],x=1);while((C++<S||b[0]!==void 0)&&w--)}return v[0]||v.shift(),y.e=l,lt(y,s?o+Dt(y)+1:o)}}();function B5(t,e){var n,r,i,o,s,a,l=0,u=0,c=t.constructor,f=c.precision;if(Dt(t)>16)throw Error(AS+Dt(t));if(!t.s)return new c(Qn);for(vt=!1,a=f,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(r=Math.log(Os(2,u))/Math.LN10*2+5|0,a+=r,n=i=o=new c(Qn),c.precision=a;;){if(i=lt(i.times(t),a),n=n.times(++l),s=o.plus(zi(i,n,a)),ri(s.d).slice(0,a)===ri(o.d).slice(0,a)){for(;u--;)o=lt(o.times(o),a);return c.precision=f,e==null?(vt=!0,lt(o,f)):o}o=s}}function Dt(t){for(var e=t.e*mt,n=t.d[0];n>=10;n/=10)e++;return e}function Vv(t,e,n){if(e>t.LN10.sd())throw vt=!0,n&&(t.precision=n),Error(Ar+"LN10 precision limit exceeded");return lt(new t(t.LN10),e)}function Io(t){for(var e="";t--;)e+="0";return e}function Zd(t,e){var n,r,i,o,s,a,l,u,c,f=1,h=10,y=t,v=y.d,b=y.constructor,x=b.precision;if(y.s<1)throw Error(Ar+(y.s?"NaN":"-Infinity"));if(y.eq(Qn))return new b(0);if(e==null?(vt=!1,u=x):u=e,y.eq(10))return e==null&&(vt=!0),Vv(b,u);if(u+=h,b.precision=u,n=ri(v),r=n.charAt(0),o=Dt(y),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=ri(y.d),r=n.charAt(0),f++;o=Dt(y),r>1?(y=new b("0."+n),o++):y=new b(r+"."+n.slice(1))}else return l=Vv(b,u+2,x).times(o+""),y=Zd(new b(r+"."+n.slice(1)),u-h).plus(l),b.precision=x,e==null?(vt=!0,lt(y,x)):y;for(a=s=y=zi(y.minus(Qn),y.plus(Qn),u),c=lt(y.times(y),u),i=3;;){if(s=lt(s.times(c),u),l=a.plus(zi(s,new b(i),u)),ri(l.d).slice(0,u)===ri(a.d).slice(0,u))return a=a.times(2),o!==0&&(a=a.plus(Vv(b,u+2,x).times(o+""))),a=zi(a,new b(f),u),b.precision=x,e==null?(vt=!0,lt(a,x)):a;a=l,i+=2}}function i2(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Bu(n/mt),t.d=[],r=(n+1)%mt,n<0&&(r+=mt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=mt;r<i;)t.d.push(+e.slice(r,r+=mt));e=e.slice(r),r=mt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),vt&&(t.e>ag||t.e<-ag))throw Error(AS+n)}else t.s=0,t.e=0,t.d=[0];return t}function lt(t,e,n){var r,i,o,s,a,l,u,c,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=mt,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/mt),o=f.length,c>=o)return t;for(u=o=f[c],s=1;o>=10;o/=10)s++;r%=mt,i=r-mt+s}if(n!==void 0&&(o=Os(10,s-i-1),a=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?u/Os(10,s-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Dt(t),f.length=1,e=e-o-1,f[0]=Os(10,(mt-e%mt)%mt),t.e=Bu(-e/mt)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=Os(10,mt-r),f[c]=i>0?(u/Os(10,s-i)%Os(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==qt&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=qt)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(vt&&(t.e>ag||t.e<-ag))throw Error(AS+Dt(t));return t}function z5(t,e){var n,r,i,o,s,a,l,u,c,f,h=t.constructor,y=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),vt?lt(e,y):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),s=u-r,s){for(c=s<0,c?(n=l,s=-s,a=f.length):(n=f,r=u,a=l.length),i=Math.max(Math.ceil(y/mt),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=f.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}s=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),a=l.length,i=f.length-a;i>0;--i)l[a++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=qt-1;--l[o],l[i]+=qt}l[i]-=f[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,vt?lt(e,y):e):new h(0)}function ga(t,e,n){var r,i=Dt(t),o=ri(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Io(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Io(-i-1)+o,n&&(r=n-s)>0&&(o+=Io(r))):i>=s?(o+=Io(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Io(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Io(r))),t.s<0?"-"+o:o}function o2(t,e){if(t.length>e)return t.length=e,!0}function G5(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Xs+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return i2(s,o.toString())}else if(typeof o!="string")throw Error(Xs+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,eye.test(o))i2(s,o);else throw Error(Xs+o)}if(i.prototype=ge,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=G5,i.config=i.set=tye,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function tye(t){if(!t||typeof t!="object")throw Error(Ar+"Object expected");var e,n,r,i=["precision",1,Uu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Bu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Xs+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Xs+n+": "+r);return this}var IS=G5(Z0e);Qn=new IS(1);const ot=IS;function nye(t){return sye(t)||oye(t)||iye(t)||rye()}function rye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iye(t,e){if(t){if(typeof t=="string")return ww(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ww(t,e)}}function oye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function sye(t){if(Array.isArray(t))return ww(t)}function ww(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var aye=function(e){return e},q5={},H5=function(e){return e===q5},s2=function(e){return function n(){return arguments.length===0||arguments.length===1&&H5(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},lye=function t(e,n){return e===1?n:s2(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==q5}).length;return s>=e?n.apply(void 0,i):t(e-s,s2(function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var c=i.map(function(f){return H5(f)?l.shift():f});return n.apply(void 0,nye(c).concat(l))}))})},oy=function(e){return lye(e.length,e)},_w=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},uye=oy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),cye=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return aye;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},Ew=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},W5=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,l){return a===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function dye(t){var e;return t===0?e=1:e=Math.floor(new ot(t).abs().log(10).toNumber())+1,e}function fye(t,e,n){for(var r=new ot(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var hye=oy(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),pye=oy(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),mye=oy(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const sy={rangeStep:fye,getDigitCount:dye,interpolateNumber:hye,uninterpolateNumber:pye,uninterpolateTruncation:mye};function Sw(t){return vye(t)||yye(t)||K5(t)||gye()}function gye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function vye(t){if(Array.isArray(t))return Tw(t)}function ef(t,e){return wye(t)||bye(t,e)||K5(t,e)||xye()}function xye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K5(t,e){if(t){if(typeof t=="string")return Tw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tw(t,e)}}function Tw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bye(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function wye(t){if(Array.isArray(t))return t}function Y5(t){var e=ef(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function J5(t,e,n){if(t.lte(0))return new ot(0);var r=sy.getDigitCount(t.toNumber()),i=new ot(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new ot(Math.ceil(o.div(s).toNumber())).add(n).mul(s),l=a.mul(i);return e?l:new ot(Math.ceil(l))}function _ye(t,e,n){var r=1,i=new ot(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new ot(10).pow(sy.getDigitCount(t)-1),i=new ot(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new ot(Math.floor(t)))}else t===0?i=new ot(Math.floor((e-1)/2)):n||(i=new ot(Math.floor(t)));var s=Math.floor((e-1)/2),a=cye(uye(function(l){return i.add(new ot(l-s).mul(r)).toNumber()}),_w);return a(0,e)}function X5(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new ot(0),tickMin:new ot(0),tickMax:new ot(0)};var o=J5(new ot(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new ot(0):(s=new ot(t).add(e).div(2),s=s.sub(new ot(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new ot(e).sub(s).div(o).toNumber()),u=a+l+1;return u>n?X5(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,a=e>0?a:a+(n-u)),{step:o,tickMin:s.sub(new ot(a).mul(o)),tickMax:s.add(new ot(l).mul(o))})}function Eye(t){var e=ef(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=Y5([n,r]),l=ef(a,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(Sw(_w(0,i-1).map(function(){return 1/0}))):[].concat(Sw(_w(0,i-1).map(function(){return-1/0})),[c]);return n>r?Ew(f):f}if(u===c)return _ye(u,i,o);var h=X5(u,c,s,o),y=h.step,v=h.tickMin,b=h.tickMax,x=sy.rangeStep(v,b.add(new ot(.1).mul(y)),y);return n>r?Ew(x):x}function Sye(t,e){var n=ef(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Y5([r,i]),a=ef(s,2),l=a[0],u=a[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=J5(new ot(u).sub(l).div(c-1),o,0),h=[].concat(Sw(sy.rangeStep(new ot(l),new ot(u).sub(new ot(.99).mul(f)),f)),[u]);return r>i?Ew(h):h}var Tye=W5(Eye),Aye=W5(Sye),Iye="Invariant failed";function ya(t,e){throw new Error(Iye)}var kye=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Kl(t){"@babel/helpers - typeof";return Kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kl(t)}function lg(){return lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lg.apply(this,arguments)}function Cye(t,e){return Oye(t)||Rye(t,e)||Nye(t,e)||Pye()}function Pye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nye(t,e){if(t){if(typeof t=="string")return a2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a2(t,e)}}function a2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Oye(t){if(Array.isArray(t))return t}function Mye(t,e){if(t==null)return{};var n=Dye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e3(r.key),r)}}function Lye(t,e,n){return e&&$ye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fye(t,e,n){return e=ug(e),Vye(t,Q5()?Reflect.construct(e,n||[],ug(t).constructor):e.apply(t,n))}function Vye(t,e){if(e&&(Kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uye(t)}function Uye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q5=function(){return!!t})()}function ug(t){return ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ug(t)}function Bye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Aw(t,e)}function Aw(t,e){return Aw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Aw(t,e)}function Z5(t,e,n){return e=e3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e3(t){var e=zye(t,"string");return Kl(e)=="symbol"?e:e+""}function zye(t,e){if(Kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eh=function(t){function e(){return jye(this,e),Fye(this,e,arguments)}return Bye(e,t),Lye(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=Mye(r,kye),y=ye(h,!1);this.props.direction==="x"&&c.type!=="number"&&ya();var v=l.map(function(b){var x=u(b,a),E=x.x,w=x.y,_=x.value,C=x.errorVal;if(!C)return null;var S=[],k,T;if(Array.isArray(C)){var I=Cye(C,2);k=I[0],T=I[1]}else k=T=C;if(o==="vertical"){var P=c.scale,M=w+i,j=M+s,D=M-s,N=P(_-k),V=P(_+T);S.push({x1:V,y1:j,x2:V,y2:D}),S.push({x1:N,y1:M,x2:V,y2:M}),S.push({x1:N,y1:j,x2:N,y2:D})}else if(o==="horizontal"){var z=f.scale,F=E+i,H=F-s,R=F+s,$=z(_-k),G=z(_+T);S.push({x1:H,y1:G,x2:R,y2:G}),S.push({x1:F,y1:$,x2:F,y2:G}),S.push({x1:H,y1:$,x2:R,y2:$})}return B.createElement($e,lg({className:"recharts-errorBar",key:"bar-".concat(S.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},y),S.map(function(K){return B.createElement("line",lg({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return B.createElement($e,{className:"recharts-errorBars"},v)}}])}(B.Component);Z5(eh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Z5(eh,"displayName","ErrorBar");function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function l2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ss(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(n),!0).forEach(function(r){Gye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gye(t,e,n){return e=qye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qye(t){var e=Hye(t,"string");return tf(e)=="symbol"?e:e+""}function Hye(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t3=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Xn(n,ui);if(!s)return null;var a=ui.defaultProps,l=a!==void 0?Ss(Ss({},a),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,y=f.props,v=y.sectors||y.data||[];return c.concat(v.map(function(b){return{type:s.props.iconType||h.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,y=h!==void 0?Ss(Ss({},h),f.props):{},v=y.dataKey,b=y.name,x=y.legendType,E=y.hide;return{inactive:E,dataKey:v,type:l.iconType||x||"square",color:kS(f),value:b||v,payload:y}}),Ss(Ss(Ss({},l),ui.getWithHeight(s,i)),{},{payload:u,item:s})};function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function u2(t){return Jye(t)||Yye(t)||Kye(t)||Wye()}function Wye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kye(t,e){if(t){if(typeof t=="string")return Iw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iw(t,e)}}function Yye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jye(t){if(Array.isArray(t))return Iw(t)}function Iw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c2(Object(n),!0).forEach(function(r){Sl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sl(t,e,n){return e=Xye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xye(t){var e=Qye(t,"string");return nf(e)=="symbol"?e:e+""}function Qye(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wt(t,e,n){return ke(t)||ke(e)?n:Ut(e)?rr(t,e,n):_e(e)?e(t):n}function nd(t,e,n,r){var i=Y0e(t,function(a){return wt(a,e)});if(n==="number"){var o=i.filter(function(a){return ue(a)||parseFloat(a)});return o.length?[iy(o),Fo(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!ke(a)}):i;return s.map(function(a){return Ut(a)||a instanceof Date?a:""})}var Zye=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<a;u++){var c=u>0?i[u-1].coordinate:i[a-1].coordinate,f=i[u].coordinate,h=u>=a-1?i[0].coordinate:i[u+1].coordinate,y=void 0;if(Nn(f-c)!==Nn(h-f)){var v=[];if(Nn(h-f)===Nn(l[1]-l[0])){y=h;var b=f+l[1]-l[0];v[0]=Math.min(b,(b+c)/2),v[1]=Math.max(b,(b+c)/2)}else{y=c;var x=h+l[1]-l[0];v[0]=Math.min(f,(x+f)/2),v[1]=Math.max(f,(x+f)/2)}var E=[Math.min(f,(y+f)/2),Math.max(f,(y+f)/2)];if(e>E[0]&&e<=E[1]||e>=v[0]&&e<=v[1]){s=i[u].index;break}}else{var w=Math.min(c,h),_=Math.max(c,h);if(e>(w+f)/2&&e<=(_+f)/2){s=i[u].index;break}}}else for(var C=0;C<a;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===a-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){s=r[C].index;break}return s},kS=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?It(It({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},eve=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,u=a.length;l<u;l++)for(var c=o[a[l]].stackGroups,f=Object.keys(c),h=0,y=f.length;h<y;h++){var v=c[f[h]],b=v.items,x=v.cateAxisId,E=b.filter(function(T){return Bi(T.type).indexOf("Bar")>=0});if(E&&E.length){var w=E[0].type.defaultProps,_=w!==void 0?It(It({},w),E[0].props):E[0].props,C=_.barSize,S=_[x];s[S]||(s[S]=[]);var k=ke(C)?n:C;s[S].push({item:E[0],stackList:E.slice(1),barSize:ke(k)?void 0:Rn(k,r,0)})}}return s},tve=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var u=Rn(n,i,0,!0),c,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,y=i/l,v=s.reduce(function(C,S){return C+S.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&y>0&&(h=!0,y*=.9,v=l*y);var b=(i-v)/2>>0,x={offset:b-u,size:0};c=s.reduce(function(C,S){var k={item:S.item,position:{offset:x.offset+x.size+u,size:h?y:S.barSize}},T=[].concat(u2(C),[k]);return x=T[T.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(I){T.push({item:I,position:x})}),T},f)}else{var E=Rn(r,i,0,!0);i-2*E-(l-1)*u<=0&&(u=0);var w=(i-2*E-(l-1)*u)/l;w>1&&(w>>=0);var _=a===+a?Math.min(w,a):w;c=s.reduce(function(C,S,k){var T=[].concat(u2(C),[{item:S.item,position:{offset:E+(w+u)*k+(w-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(I){T.push({item:I,position:T[T.length-1].position})}),T},f)}return c},nve=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,l=s-(a.left||0)-(a.right||0),u=t3({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,y=u.align,v=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&v==="middle")&&y!=="center"&&ue(e[y]))return It(It({},e),{},Sl({},y,e[y]+(f||0)));if((b==="horizontal"||b==="vertical"&&y==="center")&&v!=="middle"&&ue(e[v]))return It(It({},e),{},Sl({},v,e[v]+(h||0)))}return e},rve=function(e,n,r){return ke(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},n3=function(e,n,r,i,o){var s=n.props.children,a=ir(s,eh).filter(function(u){return rve(i,o,u.props.direction)});if(a&&a.length){var l=a.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=wt(c,r);if(ke(f))return u;var h=Array.isArray(f)?[iy(f),Fo(f)]:[f,f],y=l.reduce(function(v,b){var x=wt(c,b,0),E=h[0]-Math.abs(Array.isArray(x)?x[0]:x),w=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(E,v[0]),Math.max(w,v[1])]},[1/0,-1/0]);return[Math.min(y[0],u[0]),Math.max(y[1],u[1])]},[1/0,-1/0])}return null},ive=function(e,n,r,i,o){var s=n.map(function(a){return n3(e,a,r,o,i)}).filter(function(a){return!ke(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},r3=function(e,n,r,i,o){var s=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&n3(e,l,u,i)||nd(e,u,r,o)});if(r==="number")return s.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)a[u[c]]||(a[u[c]]=!0,l.push(u[c]));return l},[])},i3=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},o3=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(s=!0),l.coordinate});return o||a.push(n),s||a.push(r),a},Li=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?Nn(a[0]-a[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!ju(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},Uv=new WeakMap,np=function(e,n){if(typeof n!="function")return e;Uv.has(e)||Uv.set(e,new WeakMap);var r=Uv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},s3=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:Kd(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:rg(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:td(),realScaleType:"point"}:o==="category"?{scale:Kd(),realScaleType:"band"}:{scale:rg(),realScaleType:"linear"};if(ha(i)){var l="scale".concat(G0(i));return{scale:(r2[l]||td)(),realScaleType:r2[l]?l:"point"}}return _e(i)?{scale:i}:{scale:td(),realScaleType:"point"}},d2=1e-4,a3=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-d2,s=Math.max(i[0],i[1])+d2,a=e(n[0]),l=e(n[r-1]);(a<o||a>s||l<o||l>s)&&e.domain([n[0],n[r-1]])}},ove=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},sve=function(e,n){if(!n||n.length!==2||!ue(n[0])||!ue(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ue(e[0])||e[0]<r)&&(o[0]=r),(!ue(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},ave=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var l=ju(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},lve=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=ju(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},uve={sign:ave,expand:koe,none:Vl,silhouette:Coe,wiggle:Poe,positive:lve},cve=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=uve[r],s=Ioe().keys(i).value(function(a,l){return+wt(a,l,0)}).order(Qb).offset(o);return s(e)},dve=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,l={},u=a.reduce(function(f,h){var y,v=(y=h.type)!==null&&y!==void 0&&y.defaultProps?It(It({},h.type.defaultProps),h.props):h.props,b=v.stackId,x=v.hide;if(x)return f;var E=v[r],w=f[E]||{hasStack:!1,stackGroups:{}};if(Ut(b)){var _=w.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),w.hasStack=!0,w.stackGroups[b]=_}else w.stackGroups[Aa("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return It(It({},f),{},Sl({},E,w))},l),c={};return Object.keys(u).reduce(function(f,h){var y=u[h];if(y.hasStack){var v={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(b,x){var E=y.stackGroups[x];return It(It({},b),{},Sl({},x,{numericAxisId:r,cateAxisId:i,items:E.items,stackedData:cve(e,E.items,o)}))},v)}return It(It({},f),{},Sl({},h,y))},c)},l3=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Tye(u,o,a);return e.domain([iy(c),Fo(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),h=Aye(f,o,a);return{niceTicks:h}}return null};function cg(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ke(i[e.dataKey])){var a=Dm(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=wt(i,ke(s)?e.dataKey:s);return ke(l)?null:e.scale(l)}var f2=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=wt(s,n.dataKey,n.domain[a]);return ke(l)?null:n.scale(l)-o/2+i},fve=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},hve=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?It(It({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Ut(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},pve=function(e){return e.reduce(function(n,r){return[iy(r.concat([n[0]]).filter(ue)),Fo(r.concat([n[1]]).filter(ue))]},[1/0,-1/0])},u3=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(u,c){var f=pve(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},h2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,p2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kw=function(e,n,r){if(_e(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ue(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(h2.test(e[0])){var o=+h2.exec(e[0])[1];i[0]=n[0]-o}else _e(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ue(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(p2.test(e[1])){var s=+p2.exec(e[1])[1];i[1]=n[1]+s}else _e(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},dg=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=nS(n,function(f){return f.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var u=o[a],c=o[a-1];s=Math.min((u.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},m2=function(e,n,r){return!e||!e.length||ss(e,rr(r,"type.defaultProps.domain"))?n:e},c3=function(e,n){var r=e.type.defaultProps?It(It({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return It(It({},ye(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:kS(e),value:wt(n,i),type:l,payload:n,chartType:u,hide:c})};function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function g2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(n),!0).forEach(function(r){d3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d3(t,e,n){return e=mve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mve(t){var e=gve(t,"string");return rf(e)=="symbol"?e:e+""}function gve(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yve(t,e){return wve(t)||bve(t,e)||xve(t,e)||vve()}function vve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xve(t,e){if(t){if(typeof t=="string")return y2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y2(t,e)}}function y2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function wve(t){if(Array.isArray(t))return t}var fg=Math.PI/180,_ve=function(e){return e*180/Math.PI},Xe=function(e,n,r,i){return{x:e+Math.cos(-fg*i)*r,y:n+Math.sin(-fg*i)*r}},f3=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},h3=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.startAngle,u=e.endAngle,c=Rn(e.cx,s,s/2),f=Rn(e.cy,a,a/2),h=f3(s,a,r),y=Rn(e.innerRadius,h,0),v=Rn(e.outerRadius,h,h*.8),b=Object.keys(n);return b.reduce(function(x,E){var w=n[E],_=w.domain,C=w.reversed,S;if(ke(w.range))i==="angleAxis"?S=[l,u]:i==="radiusAxis"&&(S=[y,v]),C&&(S=[S[1],S[0]]);else{S=w.range;var k=S,T=yve(k,2);l=T[0],u=T[1]}var I=s3(w,o),P=I.realScaleType,M=I.scale;M.domain(_).range(S),a3(M);var j=l3(M,Ii(Ii({},w),{},{realScaleType:P})),D=Ii(Ii(Ii({},w),j),{},{range:S,radius:v,realScaleType:P,scale:M,cx:c,cy:f,innerRadius:y,outerRadius:v,startAngle:l,endAngle:u});return Ii(Ii({},x),{},d3({},E,D))},{})},Eve=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},Sve=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=Eve({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(r-o)/a,u=Math.acos(l);return i>s&&(u=2*Math.PI-u),{radius:a,angle:_ve(u),angleInRadian:u}},Tve=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},Ave=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},v2=function(e,n){var r=e.x,i=e.y,o=Sve({x:r,y:i},n),s=o.radius,a=o.angle,l=n.innerRadius,u=n.outerRadius;if(s<l||s>u)return!1;if(s===0)return!0;var c=Tve(n),f=c.startAngle,h=c.endAngle,y=a,v;if(f<=h){for(;y>h;)y-=360;for(;y<f;)y+=360;v=y>=f&&y<=h}else{for(;y>f;)y-=360;for(;y<h;)y+=360;v=y>=h&&y<=f}return v?Ii(Ii({},n),{},{radius:s,angle:Ave(y,n)}):null},p3=function(e){return!U.isValidElement(e)&&!_e(e)&&typeof e!="boolean"?e.className:""};function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}var Ive=["offset"];function kve(t){return Rve(t)||Nve(t)||Pve(t)||Cve()}function Cve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pve(t,e){if(t){if(typeof t=="string")return Cw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cw(t,e)}}function Nve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rve(t){if(Array.isArray(t))return Cw(t)}function Cw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ove(t,e){if(t==null)return{};var n=Mve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function x2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $t(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x2(Object(n),!0).forEach(function(r){Dve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dve(t,e,n){return e=jve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jve(t){var e=$ve(t,"string");return of(e)=="symbol"?e:e+""}function $ve(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sf(){return sf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sf.apply(this,arguments)}var Lve=function(e){var n=e.value,r=e.formatter,i=ke(e.children)?n:e.children;return _e(r)?r(i):i},Fve=function(e,n){var r=Nn(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Vve=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,y=l.startAngle,v=l.endAngle,b=l.clockWise,x=(f+h)/2,E=Fve(y,v),w=E>=0?1:-1,_,C;i==="insideStart"?(_=y+w*s,C=b):i==="insideEnd"?(_=v-w*s,C=!b):i==="end"&&(_=v+w*s,C=b),C=E<=0?C:!C;var S=Xe(u,c,x,_),k=Xe(u,c,x,_+(C?1:-1)*359),T="M".concat(S.x,",").concat(S.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(C?0:1,`,
    `).concat(k.x,",").concat(k.y),I=ke(e.id)?Aa("recharts-radial-line-"):e.id;return B.createElement("text",sf({},r,{dominantBaseline:"central",className:Ne("recharts-radial-bar-label",a)}),B.createElement("defs",null,B.createElement("path",{id:I,d:T})),B.createElement("textPath",{xlinkHref:"#".concat(I)},n))},Uve=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,h=(c+f)/2;if(i==="outside"){var y=Xe(s,a,u+r,h),v=y.x,b=y.y;return{x:v,y:b,textAnchor:v>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,E=Xe(s,a,x,h),w=E.x,_=E.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Bve=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,l=s.y,u=s.width,c=s.height,f=c>=0?1:-1,h=f*i,y=f>0?"end":"start",v=f>0?"start":"end",b=u>=0?1:-1,x=b*i,E=b>0?"end":"start",w=b>0?"start":"end";if(o==="top"){var _={x:a+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:y};return $t($t({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var C={x:a+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:v};return $t($t({},C),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var S={x:a-x,y:l+c/2,textAnchor:E,verticalAnchor:"middle"};return $t($t({},S),r?{width:Math.max(S.x-r.x,0),height:c}:{})}if(o==="right"){var k={x:a+u+x,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return $t($t({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:c}:{})}var T=r?{width:u,height:c}:{};return o==="insideLeft"?$t({x:a+x,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},T):o==="insideRight"?$t({x:a+u-x,y:l+c/2,textAnchor:E,verticalAnchor:"middle"},T):o==="insideTop"?$t({x:a+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},T):o==="insideBottom"?$t({x:a+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:y},T):o==="insideTopLeft"?$t({x:a+x,y:l+h,textAnchor:w,verticalAnchor:v},T):o==="insideTopRight"?$t({x:a+u-x,y:l+h,textAnchor:E,verticalAnchor:v},T):o==="insideBottomLeft"?$t({x:a+x,y:l+c-h,textAnchor:w,verticalAnchor:y},T):o==="insideBottomRight"?$t({x:a+u-x,y:l+c-h,textAnchor:E,verticalAnchor:y},T):Ru(o)&&(ue(o.x)||Us(o.x))&&(ue(o.y)||Us(o.y))?$t({x:a+Rn(o.x,u),y:l+Rn(o.y,c),textAnchor:"end",verticalAnchor:"end"},T):$t({x:a+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},T)},zve=function(e){return"cx"in e&&ue(e.cx)};function Kt(t){var e=t.offset,n=e===void 0?5:e,r=Ove(t,Ive),i=$t({offset:n},r),o=i.viewBox,s=i.position,a=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!o||ke(a)&&ke(l)&&!U.isValidElement(u)&&!_e(u))return null;if(U.isValidElement(u))return U.cloneElement(u,i);var y;if(_e(u)){if(y=U.createElement(u,i),U.isValidElement(y))return y}else y=Lve(i);var v=zve(o),b=ye(i,!0);if(v&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Vve(i,y,b);var x=v?Uve(i):Bve(i);return B.createElement(ma,sf({className:Ne("recharts-label",f)},b,x,{breakAll:h}),y)}Kt.displayName="Label";var m3=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,y=e.top,v=e.left,b=e.width,x=e.height,E=e.clockWise,w=e.labelViewBox;if(w)return w;if(ue(b)&&ue(x)){if(ue(f)&&ue(h))return{x:f,y:h,width:b,height:x};if(ue(y)&&ue(v))return{x:y,y:v,width:b,height:x}}return ue(f)&&ue(h)?{x:f,y:h,width:0,height:0}:ue(n)&&ue(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:u||0,outerRadius:c||l||a||0,clockWise:E}:e.viewBox?e.viewBox:{}},Gve=function(e,n){return e?e===!0?B.createElement(Kt,{key:"label-implicit",viewBox:n}):Ut(e)?B.createElement(Kt,{key:"label-implicit",viewBox:n,value:e}):U.isValidElement(e)?e.type===Kt?U.cloneElement(e,{key:"label-implicit",viewBox:n}):B.createElement(Kt,{key:"label-implicit",content:e,viewBox:n}):_e(e)?B.createElement(Kt,{key:"label-implicit",content:e,viewBox:n}):Ru(e)?B.createElement(Kt,sf({viewBox:n},e,{key:"label-implicit"})):null:null},qve=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=m3(e),s=ir(i,Kt).map(function(l,u){return U.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return s;var a=Gve(e.label,n||o);return[a].concat(kve(s))};Kt.parseViewBox=m3;Kt.renderCallByParent=qve;function Hve(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Wve=Hve;const g3=Ze(Wve);function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}var Kve=["valueAccessor"],Yve=["data","dataKey","clockWise","id","textBreakAll"];function Jve(t){return exe(t)||Zve(t)||Qve(t)||Xve()}function Xve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qve(t,e){if(t){if(typeof t=="string")return Pw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pw(t,e)}}function Zve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function exe(t){if(Array.isArray(t))return Pw(t)}function Pw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hg(){return hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hg.apply(this,arguments)}function b2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b2(Object(n),!0).forEach(function(r){txe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function txe(t,e,n){return e=nxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nxe(t){var e=rxe(t,"string");return af(e)=="symbol"?e:e+""}function rxe(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _2(t,e){if(t==null)return{};var n=ixe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ixe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var oxe=function(e){return Array.isArray(e.value)?g3(e.value):e.value};function Kr(t){var e=t.valueAccessor,n=e===void 0?oxe:e,r=_2(t,Kve),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,l=r.textBreakAll,u=_2(r,Yve);return!i||!i.length?null:B.createElement($e,{className:"recharts-label-list"},i.map(function(c,f){var h=ke(o)?n(c,f):wt(c&&c.payload,o),y=ke(a)?{}:{id:"".concat(a,"-").concat(f)};return B.createElement(Kt,hg({},ye(c,!0),u,y,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Kt.parseViewBox(ke(s)?c:w2(w2({},c),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}Kr.displayName="LabelList";function sxe(t,e){return t?t===!0?B.createElement(Kr,{key:"labelList-implicit",data:e}):B.isValidElement(t)||_e(t)?B.createElement(Kr,{key:"labelList-implicit",data:e,content:t}):Ru(t)?B.createElement(Kr,hg({data:e},t,{key:"labelList-implicit"})):null:null}function axe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ir(r,Kr).map(function(s,a){return U.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=sxe(t.label,e);return[o].concat(Jve(i))}Kr.renderCallByParent=axe;function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function Nw(){return Nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nw.apply(this,arguments)}function E2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(n),!0).forEach(function(r){lxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lxe(t,e,n){return e=uxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uxe(t){var e=cxe(t,"string");return lf(e)=="symbol"?e:e+""}function cxe(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dxe=function(e,n){var r=Nn(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},rp=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(a?1:-1)+i,f=Math.asin(l/c)/fg,h=u?o:o+s*f,y=Xe(n,r,c,h),v=Xe(n,r,i,h),b=u?o-s*f:o,x=Xe(n,r,c*Math.cos(f*fg),b);return{center:y,circleTangency:v,lineTangency:x,theta:f}},y3=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=dxe(s,a),u=s+l,c=Xe(n,r,o,s),f=Xe(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var y=Xe(n,r,i,s),v=Xe(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},fxe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Nn(c-u),h=rp({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:s,cornerIsExternal:l}),y=h.circleTangency,v=h.lineTangency,b=h.theta,x=rp({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:s,cornerIsExternal:l}),E=x.circleTangency,w=x.lineTangency,_=x.theta,C=l?Math.abs(u-c):Math.abs(u-c)-b-_;if(C<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):y3({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var k=rp({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=k.circleTangency,I=k.lineTangency,P=k.theta,M=rp({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),j=M.circleTangency,D=M.lineTangency,N=M.theta,V=l?Math.abs(u-c):Math.abs(u-c)-P-N;if(V<0&&s===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(V>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},hxe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},v3=function(e){var n=S2(S2({},hxe),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(s<o||c===f)return null;var y=Ne("recharts-sector",h),v=s-o,b=Rn(a,v,0,!0),x;return b>0&&Math.abs(c-f)<360?x=fxe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(b,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):x=y3({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:f}),B.createElement("path",Nw({},ye(n,!0),{className:y,d:x,role:"img"}))};function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function Rw(){return Rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rw.apply(this,arguments)}function T2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T2(Object(n),!0).forEach(function(r){pxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pxe(t,e,n){return e=mxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mxe(t){var e=gxe(t,"string");return uf(e)=="symbol"?e:e+""}function gxe(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I2={curveBasisClosed:goe,curveBasisOpen:yoe,curveBasis:moe,curveBumpX:toe,curveBumpY:noe,curveLinearClosed:voe,curveLinear:H0,curveMonotoneX:xoe,curveMonotoneY:boe,curveNatural:woe,curveStep:_oe,curveStepAfter:Soe,curveStepBefore:Eoe},ip=function(e){return e.x===+e.x&&e.y===+e.y},_c=function(e){return e.x},Ec=function(e){return e.y},yxe=function(e,n){if(_e(e))return e;var r="curve".concat(G0(e));return(r==="curveMonotone"||r==="curveBump")&&n?I2["".concat(r).concat(n==="vertical"?"Y":"X")]:I2[r]||H0},vxe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=yxe(r,a),f=u?o.filter(function(b){return ip(b)}):o,h;if(Array.isArray(s)){var y=u?s.filter(function(b){return ip(b)}):s,v=f.map(function(b,x){return A2(A2({},b),{},{base:y[x]})});return a==="vertical"?h=Kh().y(Ec).x1(_c).x0(function(b){return b.base.x}):h=Kh().x(_c).y1(Ec).y0(function(b){return b.base.y}),h.defined(ip).curve(c),h(v)}return a==="vertical"&&ue(s)?h=Kh().y(Ec).x1(_c).x0(s):ue(s)?h=Kh().x(_c).y1(Ec).y0(s):h=d4().x(_c).y(Ec),h.defined(ip).curve(c),h(f)},Qs=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?vxe(e):i;return U.createElement("path",Rw({},ye(e,!1),jm(e),{className:Ne("recharts-curve",n),d:s,ref:o}))},x3={exports:{}},xxe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",bxe=xxe,wxe=bxe;function b3(){}function w3(){}w3.resetWarningCache=b3;var _xe=function(){function t(r,i,o,s,a,l){if(l!==wxe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:w3,resetWarningCache:b3};return n.PropTypes=n,n};x3.exports=_xe();var Exe=x3.exports;const Qe=Ze(Exe),{getOwnPropertyNames:Sxe,getOwnPropertySymbols:Txe}=Object,{hasOwnProperty:Axe}=Object.prototype;function Bv(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function op(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);const l=t(n,r,i);return o.delete(n),o.delete(r),l}}function Ixe(t){return t!=null?t[Symbol.toStringTag]:void 0}function k2(t){return Sxe(t).concat(Txe(t))}const kxe=Object.hasOwn||((t,e)=>Axe.call(t,e));function Pa(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const Cxe="__v",Pxe="__o",Nxe="_owner",{getOwnPropertyDescriptor:C2,keys:P2}=Object;function Rxe(t,e){return t.byteLength===e.byteLength&&pg(new Uint8Array(t),new Uint8Array(e))}function Oxe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Mxe(t,e){return t.byteLength===e.byteLength&&pg(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function Dxe(t,e){return Pa(t.getTime(),e.getTime())}function jxe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function $xe(t,e){return t===e}function N2(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,a,l=0;for(;(s=o.next())&&!s.done;){const u=e.entries();let c=!1,f=0;for(;(a=u.next())&&!a.done;){if(i[f]){f++;continue}const h=s.value,y=a.value;if(n.equals(h[0],y[0],l,f,t,e,n)&&n.equals(h[1],y[1],h[0],y[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}const Lxe=Pa;function Fxe(t,e,n){const r=P2(t);let i=r.length;if(P2(e).length!==i)return!1;for(;i-- >0;)if(!_3(t,e,n,r[i]))return!1;return!0}function Sc(t,e,n){const r=k2(t);let i=r.length;if(k2(e).length!==i)return!1;let o,s,a;for(;i-- >0;)if(o=r[i],!_3(t,e,n,o)||(s=C2(t,o),a=C2(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function Vxe(t,e){return Pa(t.valueOf(),e.valueOf())}function Uxe(t,e){return t.source===e.source&&t.flags===e.flags}function R2(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,a;for(;(s=o.next())&&!s.done;){const l=e.values();let u=!1,c=0;for(;(a=l.next())&&!a.done;){if(!i[c]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function pg(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Bxe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function _3(t,e,n,r){return(r===Nxe||r===Pxe||r===Cxe)&&(t.$$typeof||e.$$typeof)?!0:kxe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const zxe="[object ArrayBuffer]",Gxe="[object Arguments]",qxe="[object Boolean]",Hxe="[object DataView]",Wxe="[object Date]",Kxe="[object Error]",Yxe="[object Map]",Jxe="[object Number]",Xxe="[object Object]",Qxe="[object RegExp]",Zxe="[object Set]",ebe="[object String]",tbe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},nbe="[object URL]",rbe=Object.prototype.toString;function ibe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:u,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:y,unknownTagComparators:v}){return function(x,E,w){if(x===E)return!0;if(x==null||E==null)return!1;const _=typeof x;if(_!==typeof E)return!1;if(_!=="object")return _==="number"?a(x,E,w):_==="function"?o(x,E,w):!1;const C=x.constructor;if(C!==E.constructor)return!1;if(C===Object)return l(x,E,w);if(Array.isArray(x))return e(x,E,w);if(C===Date)return r(x,E,w);if(C===RegExp)return c(x,E,w);if(C===Map)return s(x,E,w);if(C===Set)return f(x,E,w);const S=rbe.call(x);if(S===Wxe)return r(x,E,w);if(S===Qxe)return c(x,E,w);if(S===Yxe)return s(x,E,w);if(S===Zxe)return f(x,E,w);if(S===Xxe)return typeof x.then!="function"&&typeof E.then!="function"&&l(x,E,w);if(S===nbe)return y(x,E,w);if(S===Kxe)return i(x,E,w);if(S===Gxe)return l(x,E,w);if(tbe[S])return h(x,E,w);if(S===zxe)return t(x,E,w);if(S===Hxe)return n(x,E,w);if(S===qxe||S===Jxe||S===ebe)return u(x,E,w);if(v){let k=v[S];if(!k){const T=Ixe(x);T&&(k=v[T])}if(k)return k(x,E,w)}return!1}}function obe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:Rxe,areArraysEqual:n?Sc:Oxe,areDataViewsEqual:Mxe,areDatesEqual:Dxe,areErrorsEqual:jxe,areFunctionsEqual:$xe,areMapsEqual:n?Bv(N2,Sc):N2,areNumbersEqual:Lxe,areObjectsEqual:n?Sc:Fxe,arePrimitiveWrappersEqual:Vxe,areRegExpsEqual:Uxe,areSetsEqual:n?Bv(R2,Sc):R2,areTypedArraysEqual:n?Bv(pg,Sc):pg,areUrlsEqual:Bxe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=op(r.areArraysEqual),o=op(r.areMapsEqual),s=op(r.areObjectsEqual),a=op(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:a})}return r}function sbe(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function abe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(a,l){const{cache:u=t?new WeakMap:void 0,meta:c}=n();return e(a,l,{cache:u,equals:r,meta:c,strict:i})};if(t)return function(a,l){return e(a,l,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(a,l){return e(a,l,o)}}const lbe=vs();vs({strict:!0});vs({circular:!0});vs({circular:!0,strict:!0});vs({createInternalComparator:()=>Pa});vs({strict:!0,createInternalComparator:()=>Pa});vs({circular:!0,createInternalComparator:()=>Pa});vs({circular:!0,createInternalComparator:()=>Pa,strict:!0});function vs(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=obe(t),s=ibe(o),a=n?n(s):sbe(s);return abe({circular:e,comparator:s,createState:r,equals:a,strict:i})}function ube(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function O2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):ube(i)};requestAnimationFrame(r)}function Ow(t){"@babel/helpers - typeof";return Ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ow(t)}function cbe(t){return pbe(t)||hbe(t)||fbe(t)||dbe()}function dbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fbe(t,e){if(t){if(typeof t=="string")return M2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M2(t,e)}}function M2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pbe(t){if(Array.isArray(t))return t}function mbe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=cbe(s),l=a[0],u=a.slice(1);if(typeof l=="number"){O2(i.bind(null,u),l);return}i(l),O2(i.bind(null,u));return}Ow(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function D2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D2(Object(n),!0).forEach(function(r){E3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E3(t,e,n){return e=gbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gbe(t){var e=ybe(t,"string");return cf(e)==="symbol"?e:String(e)}function ybe(t,e){if(cf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vbe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},xbe=function(e){return e},bbe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},rd=function(e,n){return Object.keys(n).reduce(function(r,i){return j2(j2({},r),{},E3({},i,e(i,n[i])))},{})},$2=function(e,n,r){return e.map(function(i){return"".concat(bbe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function wbe(t,e){return Sbe(t)||Ebe(t,e)||S3(t,e)||_be()}function _be(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ebe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Sbe(t){if(Array.isArray(t))return t}function Tbe(t){return kbe(t)||Ibe(t)||S3(t)||Abe()}function Abe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S3(t,e){if(t){if(typeof t=="string")return Mw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mw(t,e)}}function Ibe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kbe(t){if(Array.isArray(t))return Mw(t)}function Mw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var mg=1e-4,T3=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},A3=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},L2=function(e,n){return function(r){var i=T3(e,n);return A3(i,r)}},Cbe=function(e,n){return function(r){var i=T3(e,n),o=[].concat(Tbe(i.map(function(s,a){return s*a}).slice(1)),[0]);return A3(o,r)}},F2=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),c=wbe(u,4);i=c[0],o=c[1],s=c[2],a=c[3]}}}var f=L2(i,s),h=L2(o,a),y=Cbe(i,s),v=function(E){return E>1?1:E<0?0:E},b=function(E){for(var w=E>1?1:E,_=w,C=0;C<8;++C){var S=f(_)-w,k=y(_);if(Math.abs(S-w)<mg||k<mg)return h(_);_=v(_-S/k)}return h(_)};return b.isStepper=!1,b},Pbe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(c,f,h){var y=-(c-f)*r,v=h*o,b=h+(y-v)*a/1e3,x=h*a/1e3+c;return Math.abs(x-f)<mg&&Math.abs(b)<mg?[f,0]:[x,b]};return l.isStepper=!0,l.dt=a,l},Nbe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return F2(i);case"spring":return Pbe();default:if(i.split("(")[0]==="cubic-bezier")return F2(i)}return typeof i=="function"?i:null};function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function V2(t){return Mbe(t)||Obe(t)||I3(t)||Rbe()}function Rbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Obe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mbe(t){if(Array.isArray(t))return jw(t)}function U2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U2(Object(n),!0).forEach(function(r){Dw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dw(t,e,n){return e=Dbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dbe(t){var e=jbe(t,"string");return df(e)==="symbol"?e:String(e)}function jbe(t,e){if(df(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $be(t,e){return Vbe(t)||Fbe(t,e)||I3(t,e)||Lbe()}function Lbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I3(t,e){if(t){if(typeof t=="string")return jw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jw(t,e)}}function jw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function Vbe(t){if(Array.isArray(t))return t}var gg=function(e,n,r){return e+(n-e)*r},$w=function(e){var n=e.from,r=e.to;return n!==r},Ube=function t(e,n,r){var i=rd(function(o,s){if($w(s)){var a=e(s.from,s.to,s.velocity),l=$be(a,2),u=l[0],c=l[1];return en(en({},s),{},{from:u,velocity:c})}return s},n);return r<1?rd(function(o,s){return $w(s)?en(en({},s),{},{velocity:gg(s.velocity,i[o].velocity,r),from:gg(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const Bbe=function(t,e,n,r,i){var o=vbe(t,e),s=o.reduce(function(x,E){return en(en({},x),{},Dw({},E,[t[E],e[E]]))},{}),a=o.reduce(function(x,E){return en(en({},x),{},Dw({},E,{from:t[E],velocity:0,to:e[E]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return rd(function(E,w){return w.from},a)},y=function(){return!Object.values(a).filter($w).length},v=function(E){u||(u=E);var w=E-u,_=w/n.dt;a=Ube(n,a,_),i(en(en(en({},t),e),h())),u=E,y()||(l=requestAnimationFrame(f))},b=function(E){c||(c=E);var w=(E-c)/r,_=rd(function(S,k){return gg.apply(void 0,V2(k).concat([n(w)]))},s);if(i(en(en(en({},t),e),_)),w<1)l=requestAnimationFrame(f);else{var C=rd(function(S,k){return gg.apply(void 0,V2(k).concat([n(1)]))},s);i(en(en(en({},t),e),C))}};return f=n.isStepper?v:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Yl(t){"@babel/helpers - typeof";return Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yl(t)}var zbe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Gbe(t,e){if(t==null)return{};var n=qbe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qbe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function zv(t){return Ybe(t)||Kbe(t)||Wbe(t)||Hbe()}function Hbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wbe(t,e){if(t){if(typeof t=="string")return Lw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lw(t,e)}}function Kbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ybe(t){if(Array.isArray(t))return Lw(t)}function Lw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function B2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B2(Object(n),!0).forEach(function(r){$c(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $c(t,e,n){return e=k3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k3(r.key),r)}}function Qbe(t,e,n){return e&&Xbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function k3(t){var e=Zbe(t,"string");return Yl(e)==="symbol"?e:String(e)}function Zbe(t,e){if(Yl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ewe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fw(t,e)}function Fw(t,e){return Fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Fw(t,e)}function twe(t){var e=nwe();return function(){var r=yg(t),i;if(e){var o=yg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Vw(this,i)}}function Vw(t,e){if(e&&(Yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uw(t)}function Uw(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nwe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yg(t){return yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yg(t)}var Ir=function(t){ewe(n,t);var e=twe(n);function n(r,i){var o;Jbe(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,l=s.attributeName,u=s.from,c=s.to,f=s.steps,h=s.children,y=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Uw(o)),o.changeStyle=o.changeStyle.bind(Uw(o)),!a||y<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),Vw(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},Vw(o);o.state={style:l?$c({},l,u):u}}else o.state={style:{}};return o}return Qbe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,h=this.state.style;if(a){if(!s){var y={style:l?$c({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(y);return}if(!(lbe(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=v||u?f:i.to;if(this.state&&h){var x={style:l?$c({},l,b):b};(l&&h[l]!==b||!l&&h!==b)&&this.setState(x)}this.runAnimation(Or(Or({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,y=Bbe(s,a,Nbe(u),l,this.changeStyle),v=function(){o.stopJSAnimation=y()};this.manager.start([h,c,v,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,u=s[0],c=u.style,f=u.duration,h=f===void 0?0:f,y=function(b,x,E){if(E===0)return b;var w=x.duration,_=x.easing,C=_===void 0?"ease":_,S=x.style,k=x.properties,T=x.onAnimationEnd,I=E>0?s[E-1]:x,P=k||Object.keys(S);if(typeof C=="function"||C==="spring")return[].concat(zv(b),[o.runJSAnimation.bind(o,{from:I.style,to:S,duration:w,easing:C}),w]);var M=$2(P,w,C),j=Or(Or(Or({},I.style),S),{},{transition:M});return[].concat(zv(b),[j,w,T]).filter(xbe)};return this.manager.start([l].concat(zv(s.reduce(y,[c,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=mbe());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,y=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof y=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var b=a?$c({},a,l):l,x=$2(Object.keys(b),s,u);v.start([c,o,Or(Or({},b),{},{transition:x}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Gbe(i,zbe),u=U.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!a||u===0||s<=0)return o;var f=function(y){var v=y.props,b=v.style,x=b===void 0?{}:b,E=v.className,w=U.cloneElement(y,Or(Or({},l),{},{style:Or(Or({},x),c),className:E}));return w};return u===1?f(U.Children.only(o)):B.createElement("div",null,U.Children.map(o,function(h){return f(h)}))}}]),n}(U.PureComponent);Ir.displayName="Animate";Ir.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ir.propTypes={from:Qe.oneOfType([Qe.object,Qe.string]),to:Qe.oneOfType([Qe.object,Qe.string]),attributeName:Qe.string,duration:Qe.number,begin:Qe.number,easing:Qe.oneOfType([Qe.string,Qe.func]),steps:Qe.arrayOf(Qe.shape({duration:Qe.number.isRequired,style:Qe.object.isRequired,easing:Qe.oneOfType([Qe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Qe.func]),properties:Qe.arrayOf("string"),onAnimationEnd:Qe.func})),children:Qe.oneOfType([Qe.node,Qe.func]),isActive:Qe.bool,canBegin:Qe.bool,onAnimationEnd:Qe.func,shouldReAnimate:Qe.bool,onAnimationStart:Qe.func,onAnimationReStart:Qe.func};function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(this,arguments)}function rwe(t,e){return awe(t)||swe(t,e)||owe(t,e)||iwe()}function iwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function owe(t,e){if(t){if(typeof t=="string")return z2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z2(t,e)}}function z2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function swe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function awe(t){if(Array.isArray(t))return t}function G2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G2(Object(n),!0).forEach(function(r){lwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lwe(t,e,n){return e=uwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uwe(t){var e=cwe(t,"string");return ff(e)=="symbol"?e:e+""}function cwe(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H2=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,y=4;h<y;h++)f[h]=o[h]>s?s:o[h];c="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+a*f[1])),c+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-a*f[3])),c+="Z"}else if(s>0&&o===+o&&o>0){var v=Math.min(s,o);c="M ".concat(e,",").concat(n+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+a*v,`
            L `).concat(e+r,",").concat(n+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-a*v," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},dwe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var u=Math.min(o,o+a),c=Math.max(o,o+a),f=Math.min(s,s+l),h=Math.max(s,s+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},fwe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CS=function(e){var n=q2(q2({},fwe),e),r=U.useRef(),i=U.useState(-1),o=rwe(i,2),s=o[0],a=o[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&a(C)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,y=n.className,v=n.animationEasing,b=n.animationDuration,x=n.animationBegin,E=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var _=Ne("recharts-rectangle",y);return w?B.createElement(Ir,{canBegin:s>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:b,animationEasing:v,isActive:w},function(C){var S=C.width,k=C.height,T=C.x,I=C.y;return B.createElement(Ir,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,isActive:E,easing:v},B.createElement("path",vg({},ye(n,!0),{className:_,d:H2(T,I,S,k,h),ref:r})))}):B.createElement("path",vg({},ye(n,!0),{className:_,d:H2(l,u,c,f,h)}))},hwe=["points","className","baseLinePoints","connectNulls"];function sl(){return sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sl.apply(this,arguments)}function pwe(t,e){if(t==null)return{};var n=mwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function W2(t){return xwe(t)||vwe(t)||ywe(t)||gwe()}function gwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ywe(t,e){if(t){if(typeof t=="string")return Bw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bw(t,e)}}function vwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xwe(t){if(Array.isArray(t))return Bw(t)}function Bw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var K2=function(e){return e&&e.x===+e.x&&e.y===+e.y},bwe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){K2(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),K2(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},id=function(e,n){var r=bwe(e);n&&(r=[r.reduce(function(o,s){return[].concat(W2(o),W2(s))},[])]);var i=r.map(function(o){return o.reduce(function(s,a,l){return"".concat(s).concat(l===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},wwe=function(e,n,r){var i=id(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(id(n.reverse(),r).slice(1))},C3=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,s=pwe(e,hwe);if(!n||!n.length)return null;var a=Ne("recharts-polygon",r);if(i&&i.length){var l=s.stroke&&s.stroke!=="none",u=wwe(n,i,o);return B.createElement("g",{className:a},B.createElement("path",sl({},ye(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),l?B.createElement("path",sl({},ye(s,!0),{fill:"none",d:id(n,o)})):null,l?B.createElement("path",sl({},ye(s,!0),{fill:"none",d:id(i,o)})):null)}var c=id(n,o);return B.createElement("path",sl({},ye(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",className:a,d:c}))};function zw(){return zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zw.apply(this,arguments)}var zu=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=Ne("recharts-dot",o);return n===+n&&r===+r&&i===+i?U.createElement("circle",zw({},ye(e,!1),jm(e),{className:s,cx:n,cy:r,r:i})):null};function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}var _we=["x","y","top","left","width","height","className"];function Gw(){return Gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gw.apply(this,arguments)}function Y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ewe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y2(Object(n),!0).forEach(function(r){Swe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Swe(t,e,n){return e=Twe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Twe(t){var e=Awe(t,"string");return hf(e)=="symbol"?e:e+""}function Awe(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Iwe(t,e){if(t==null)return{};var n=kwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Cwe=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},Pwe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,y=h===void 0?0:h,v=e.className,b=Iwe(e,_we),x=Ewe({x:r,y:o,top:a,left:u,width:f,height:y},b);return!ue(r)||!ue(o)||!ue(f)||!ue(y)||!ue(a)||!ue(u)?null:B.createElement("path",Gw({},ye(x,!0),{className:Ne("recharts-cross",v),d:Cwe(r,o,f,y,a,u)}))},Nwe=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function Rwe(t,e){if(t==null)return{};var n=Owe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Owe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oo(){return oo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oo.apply(this,arguments)}function J2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J2(Object(n),!0).forEach(function(r){Mwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mwe(t,e,n){return e=Dwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dwe(t){var e=jwe(t,"string");return pf(e)=="symbol"?e:e+""}function jwe(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $we=function(e,n,r,i){var o="";return i.forEach(function(s,a){var l=Xe(n,r,e,s);a?o+="L ".concat(l.x,",").concat(l.y):o+="M ".concat(l.x,",").concat(l.y)}),o+="Z",o},Lwe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.polarAngles,a=e.radialLines;if(!s||!s.length||!a)return null;var l=mf({stroke:"#ccc"},ye(e,!1));return B.createElement("g",{className:"recharts-polar-grid-angle"},s.map(function(u){var c=Xe(n,r,i,u),f=Xe(n,r,o,u);return B.createElement("line",oo({},l,{key:"line-".concat(u),x1:c.x,y1:c.y,x2:f.x,y2:f.y}))}))},Fwe=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.index,s=mf(mf({stroke:"#ccc"},ye(e,!1)),{},{fill:"none"});return B.createElement("circle",oo({},s,{className:Ne("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(o),cx:n,cy:r,r:i}))},Vwe=function(e){var n=e.radius,r=e.index,i=mf(mf({stroke:"#ccc"},ye(e,!1)),{},{fill:"none"});return B.createElement("path",oo({},i,{className:Ne("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:$we(n,e.cx,e.cy,e.polarAngles)}))},Uwe=function(e){var n=e.polarRadius,r=e.gridType;return!n||!n.length?null:B.createElement("g",{className:"recharts-polar-grid-concentric"},n.map(function(i,o){var s=o;return r==="circle"?B.createElement(Fwe,oo({key:s},e,{radius:i,index:o})):B.createElement(Vwe,oo({key:s},e,{radius:i,index:o}))}))},P3=function(e){var n=e.cx,r=n===void 0?0:n,i=e.cy,o=i===void 0?0:i,s=e.innerRadius,a=s===void 0?0:s,l=e.outerRadius,u=l===void 0?0:l,c=e.gridType,f=c===void 0?"polygon":c,h=e.radialLines,y=h===void 0?!0:h,v=Rwe(e,Nwe);return u<=0?null:B.createElement("g",{className:"recharts-polar-grid"},B.createElement(Lwe,oo({cx:r,cy:o,innerRadius:a,outerRadius:u,gridType:f,radialLines:y},v)),B.createElement(Uwe,oo({cx:r,cy:o,innerRadius:a,outerRadius:u,gridType:f,radialLines:y},v)))};P3.displayName="PolarGrid";var Bwe=ry,zwe=L5,Gwe=vi;function qwe(t,e){return t&&t.length?Bwe(t,Gwe(e),zwe):void 0}var Hwe=qwe;const Wwe=Ze(Hwe);var Kwe=ry,Ywe=vi,Jwe=F5;function Xwe(t,e){return t&&t.length?Kwe(t,Ywe(e),Jwe):void 0}var Qwe=Xwe;const Zwe=Ze(Qwe);var e_e=["cx","cy","angle","ticks","axisLine"],t_e=["ticks","tick","angle","tickFormatter","stroke"];function Jl(t){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jl(t)}function od(){return od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},od.apply(this,arguments)}function X2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ts(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X2(Object(n),!0).forEach(function(r){ay(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q2(t,e){if(t==null)return{};var n=n_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function n_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function r_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R3(r.key),r)}}function i_e(t,e,n){return e&&Z2(t.prototype,e),n&&Z2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function o_e(t,e,n){return e=xg(e),s_e(t,N3()?Reflect.construct(e,n||[],xg(t).constructor):e.apply(t,n))}function s_e(t,e){if(e&&(Jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a_e(t)}function a_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N3=function(){return!!t})()}function xg(t){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xg(t)}function l_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qw(t,e)}function qw(t,e){return qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qw(t,e)}function ay(t,e,n){return e=R3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R3(t){var e=u_e(t,"string");return Jl(e)=="symbol"?e:e+""}function u_e(t,e){if(Jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gu=function(t){function e(){return r_e(this,e),o_e(this,e,arguments)}return l_e(e,t),i_e(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,s=o.angle,a=o.cx,l=o.cy;return Xe(a,l,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,l=Wwe(a,function(c){return c.coordinate||0}),u=Zwe(a,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,l=r.axisLine,u=Q2(r,e_e),c=a.reduce(function(v,b){return[Math.min(v[0],b.coordinate),Math.max(v[1],b.coordinate)]},[1/0,-1/0]),f=Xe(i,o,c[0],s),h=Xe(i,o,c[1],s),y=Ts(Ts(Ts({},ye(u,!1)),{},{fill:"none"},ye(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return B.createElement("line",od({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.angle,l=i.tickFormatter,u=i.stroke,c=Q2(i,t_e),f=this.getTickTextAnchor(),h=ye(c,!1),y=ye(s,!1),v=o.map(function(b,x){var E=r.getTickValueCoord(b),w=Ts(Ts(Ts(Ts({textAnchor:f,transform:"rotate(".concat(90-a,", ").concat(E.x,", ").concat(E.y,")")},h),{},{stroke:"none",fill:u},y),{},{index:x},E),{},{payload:b});return B.createElement($e,od({className:Ne("recharts-polar-radius-axis-tick",p3(s)),key:"tick-".concat(b.coordinate)},pa(r.props,b,x)),e.renderTickItem(s,w,l?l(b.value,x):b.value))});return B.createElement($e,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,s=r.tick;return!i||!i.length?null:B.createElement($e,{className:Ne("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),Kt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var s;return B.isValidElement(r)?s=B.cloneElement(r,i):_e(r)?s=r(i):s=B.createElement(ma,od({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])}(U.PureComponent);ay(Gu,"displayName","PolarRadiusAxis");ay(Gu,"axisType","radiusAxis");ay(Gu,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Xl(t){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(t)}function Ms(){return Ms=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ms.apply(this,arguments)}function eR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function As(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eR(Object(n),!0).forEach(function(r){ly(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M3(r.key),r)}}function d_e(t,e,n){return e&&tR(t.prototype,e),n&&tR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function f_e(t,e,n){return e=bg(e),h_e(t,O3()?Reflect.construct(e,n||[],bg(t).constructor):e.apply(t,n))}function h_e(t,e){if(e&&(Xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p_e(t)}function p_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O3=function(){return!!t})()}function bg(t){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bg(t)}function m_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hw(t,e)}function Hw(t,e){return Hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Hw(t,e)}function ly(t,e,n){return e=M3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M3(t){var e=g_e(t,"string");return Xl(e)=="symbol"?e:e+""}function g_e(t,e){if(Xl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var y_e=Math.PI/180,nR=1e-5,qu=function(t){function e(){return c_e(this,e),f_e(this,e,arguments)}return m_e(e,t),d_e(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,s=i.cy,a=i.radius,l=i.orientation,u=i.tickSize,c=u||8,f=Xe(o,s,a,r.coordinate),h=Xe(o,s,a+(l==="inner"?-1:1)*c,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*y_e),s;return o>nR?s=i==="outer"?"start":"end":o<-nR?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.radius,a=r.axisLine,l=r.axisLineType,u=As(As({},ye(this.props,!1)),{},{fill:"none"},ye(a,!1));if(l==="circle")return B.createElement(zu,Ms({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:s}));var c=this.props.ticks,f=c.map(function(h){return Xe(i,o,s,h.coordinate)});return B.createElement(C3,Ms({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.tickLine,l=i.tickFormatter,u=i.stroke,c=ye(this.props,!1),f=ye(s,!1),h=As(As({},c),{},{fill:"none"},ye(a,!1)),y=o.map(function(v,b){var x=r.getTickLineCoord(v),E=r.getTickTextAnchor(v),w=As(As(As({textAnchor:E},c),{},{stroke:"none",fill:u},f),{},{index:b,payload:v,x:x.x2,y:x.y2});return B.createElement($e,Ms({className:Ne("recharts-polar-angle-axis-tick",p3(s)),key:"tick-".concat(v.coordinate)},pa(r.props,v,b)),a&&B.createElement("line",Ms({className:"recharts-polar-angle-axis-tick-line"},h,x)),s&&e.renderTickItem(s,w,l?l(v.value,b):v.value))});return B.createElement($e,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,s=r.axisLine;return o<=0||!i||!i.length?null:B.createElement($e,{className:Ne("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var s;return B.isValidElement(r)?s=B.cloneElement(r,i):_e(r)?s=r(i):s=B.createElement(ma,Ms({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])}(U.PureComponent);ly(qu,"displayName","PolarAngleAxis");ly(qu,"axisType","angleAxis");ly(qu,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var v_e=D4,x_e=v_e(Object.getPrototypeOf,Object),b_e=x_e,w_e=ho,__e=b_e,E_e=po,S_e="[object Object]",T_e=Function.prototype,A_e=Object.prototype,D3=T_e.toString,I_e=A_e.hasOwnProperty,k_e=D3.call(Object);function C_e(t){if(!E_e(t)||w_e(t)!=S_e)return!1;var e=__e(t);if(e===null)return!0;var n=I_e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&D3.call(n)==k_e}var P_e=C_e;const N_e=Ze(P_e);var R_e=ho,O_e=po,M_e="[object Boolean]";function D_e(t){return t===!0||t===!1||O_e(t)&&R_e(t)==M_e}var j_e=D_e;const $_e=Ze(j_e);function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function wg(){return wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wg.apply(this,arguments)}function L_e(t,e){return B_e(t)||U_e(t,e)||V_e(t,e)||F_e()}function F_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V_e(t,e){if(t){if(typeof t=="string")return rR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rR(t,e)}}function rR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function U_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function B_e(t){if(Array.isArray(t))return t}function iR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iR(Object(n),!0).forEach(function(r){z_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z_e(t,e,n){return e=G_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G_e(t){var e=q_e(t,"string");return gf(e)=="symbol"?e:e+""}function q_e(t,e){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sR=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},H_e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},W_e=function(e){var n=oR(oR({},H_e),e),r=U.useRef(),i=U.useState(-1),o=L_e(i,2),s=o[0],a=o[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&a(_)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,y=n.className,v=n.animationEasing,b=n.animationDuration,x=n.animationBegin,E=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var w=Ne("recharts-trapezoid",y);return E?B.createElement(Ir,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:b,animationEasing:v,isActive:E},function(_){var C=_.upperWidth,S=_.lowerWidth,k=_.height,T=_.x,I=_.y;return B.createElement(Ir,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,easing:v},B.createElement("path",wg({},ye(n,!0),{className:w,d:sR(T,I,C,S,k),ref:r})))}):B.createElement("g",null,B.createElement("path",wg({},ye(n,!0),{className:w,d:sR(l,u,c,f,h)})))},K_e=["option","shapeType","propTransformer","activeClassName","isActive"];function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function Y_e(t,e){if(t==null)return{};var n=J_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function J_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _g(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){X_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function X_e(t,e,n){return e=Q_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q_e(t){var e=Z_e(t,"string");return yf(e)=="symbol"?e:e+""}function Z_e(t,e){if(yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e1e(t,e){return _g(_g({},e),t)}function t1e(t,e){return t==="symbols"}function lR(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return B.createElement(CS,n);case"trapezoid":return B.createElement(W_e,n);case"sector":return B.createElement(v3,n);case"symbols":if(t1e(e))return B.createElement(KE,n);break;default:return null}}function n1e(t){return U.isValidElement(t)?t.props:t}function j3(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?e1e:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=Y_e(t,K_e),u;if(U.isValidElement(e))u=U.cloneElement(e,_g(_g({},l),n1e(e)));else if(_e(e))u=e(l);else if(N_e(e)&&!$_e(e)){var c=i(e,l);u=B.createElement(lR,{shapeType:n,elementProps:c})}else{var f=l;u=B.createElement(lR,{shapeType:n,elementProps:f})}return a?B.createElement($e,{className:s},u):u}function uy(t,e){return e!=null&&"trapezoids"in t.props}function cy(t,e){return e!=null&&"sectors"in t.props}function vf(t,e){return e!=null&&"points"in t.props}function r1e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function i1e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function o1e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function s1e(t,e){var n;return uy(t,e)?n=r1e:cy(t,e)?n=i1e:vf(t,e)&&(n=o1e),n}function a1e(t,e){var n;return uy(t,e)?n="trapezoids":cy(t,e)?n="sectors":vf(t,e)&&(n="points"),n}function l1e(t,e){if(uy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(cy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return vf(t,e)?e.payload:{}}function u1e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=a1e(n,e),o=l1e(n,e),s=r.filter(function(l,u){var c=ss(o,l),f=n.props[i].filter(function(v){var b=s1e(n,e);return b(v,e)}),h=n.props[i].indexOf(f[f.length-1]),y=u===h;return c&&y}),a=r.indexOf(s[s.length-1]);return a}var Dp;function Ql(t){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ql(t)}function al(){return al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},al.apply(this,arguments)}function uR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uR(Object(n),!0).forEach(function(r){mr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L3(r.key),r)}}function d1e(t,e,n){return e&&cR(t.prototype,e),n&&cR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function f1e(t,e,n){return e=Eg(e),h1e(t,$3()?Reflect.construct(e,n||[],Eg(t).constructor):e.apply(t,n))}function h1e(t,e){if(e&&(Ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p1e(t)}function p1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($3=function(){return!!t})()}function Eg(t){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eg(t)}function m1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ww(t,e)}function Ww(t,e){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ww(t,e)}function mr(t,e,n){return e=L3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L3(t){var e=g1e(t,"string");return Ql(e)=="symbol"?e:e+""}function g1e(t,e){if(Ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xi=function(t){function e(n){var r;return c1e(this,e),r=f1e(this,e,[n]),mr(r,"pieRef",null),mr(r,"sectorRefs",[]),mr(r,"id",Aa("recharts-pie-")),mr(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),_e(i)&&i()}),mr(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),_e(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return m1e(e,t),d1e(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,a=o.labelLine,l=o.dataKey,u=o.valueKey,c=ye(this.props,!1),f=ye(s,!1),h=ye(a,!1),y=s&&s.offsetRadius||20,v=r.map(function(b,x){var E=(b.startAngle+b.endAngle)/2,w=Xe(b.cx,b.cy,b.outerRadius+y,E),_=ut(ut(ut(ut({},c),b),{},{stroke:"none"},f),{},{index:x,textAnchor:e.getTextAnchor(w.x,b.cx)},w),C=ut(ut(ut(ut({},c),b),{},{fill:"none",stroke:b.fill},h),{},{index:x,points:[Xe(b.cx,b.cy,b.outerRadius,E),w]}),S=l;return ke(l)&&ke(u)?S="value":ke(l)&&(S=u),B.createElement($e,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(x)},a&&e.renderLabelLineItem(a,C,"line"),e.renderLabelItem(s,_,wt(b,S)))});return B.createElement($e,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,s=o.activeShape,a=o.blendStroke,l=o.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,y=f?s:h,v=ut(ut({},u),{},{stroke:a?u.fill:u.stroke,tabIndex:-1});return B.createElement($e,al({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},pa(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),B.createElement(j3,al({option:y,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,s=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state,h=f.prevSectors,y=f.prevIsAnimationActive;return B.createElement(Ir,{begin:a,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var b=v.t,x=[],E=o&&o[0],w=E.startAngle;return o.forEach(function(_,C){var S=h&&h[C],k=C>0?rr(_,"paddingAngle",0):0;if(S){var T=bt(S.endAngle-S.startAngle,_.endAngle-_.startAngle),I=ut(ut({},_),{},{startAngle:w+k,endAngle:w+T(b)+k});x.push(I),w=I.endAngle}else{var P=_.endAngle,M=_.startAngle,j=bt(0,P-M),D=j(b),N=ut(ut({},_),{},{startAngle:w+k,endAngle:w+D+k});x.push(N),w=N.endAngle}}),B.createElement($e,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,s=this.state.prevSectors;return o&&i&&i.length&&(!s||!ss(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,s=i.sectors,a=i.className,l=i.label,u=i.cx,c=i.cy,f=i.innerRadius,h=i.outerRadius,y=i.isAnimationActive,v=this.state.isAnimationFinished;if(o||!s||!s.length||!ue(u)||!ue(c)||!ue(f)||!ue(h))return null;var b=Ne("recharts-pie",a);return B.createElement($e,{tabIndex:this.props.rootTabIndex,className:b,ref:function(E){r.pieRef=E}},this.renderSectors(),l&&this.renderLabels(s),Kt.renderCallByParent(this.props,null,!1),(!y||v)&&Kr.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(B.isValidElement(r))return B.cloneElement(r,i);if(_e(r))return r(i);var s=Ne("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return B.createElement(Qs,al({},i,{key:o,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,o){if(B.isValidElement(r))return B.cloneElement(r,i);var s=o;if(_e(r)&&(s=r(i),B.isValidElement(s)))return s;var a=Ne("recharts-pie-label-text",typeof r!="boolean"&&!_e(r)?r.className:"");return B.createElement(ma,al({},i,{alignmentBaseline:"middle",className:a}),s)}}])}(U.PureComponent);Dp=xi;mr(xi,"displayName","Pie");mr(xi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!mo.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});mr(xi,"parseDeltaAngle",function(t,e){var n=Nn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});mr(xi,"getRealPieData",function(t){var e=t.data,n=t.children,r=ye(t,!1),i=ir(n,Ia);return e&&e.length?e.map(function(o,s){return ut(ut(ut({payload:o},r),o),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(o){return ut(ut({},r),o.props)}):[]});mr(xi,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,s=f3(i,o),a=r+Rn(t.cx,i,i/2),l=n+Rn(t.cy,o,o/2),u=Rn(t.innerRadius,s,0),c=Rn(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:a,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}});mr(xi,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?ut(ut({},e.type.defaultProps),e.props):e.props,i=Dp.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,s=r.startAngle,a=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,f=r.valueKey,h=r.tooltipType,y=Math.abs(r.minAngle),v=Dp.parseCoordinateOfPie(r,n),b=Dp.parseDeltaAngle(s,a),x=Math.abs(b),E=u;ke(u)&&ke(f)?(Wr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),E="value"):ke(u)&&(Wr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),E=f);var w=i.filter(function(I){return wt(I,E,0)!==0}).length,_=(x>=360?w:w-1)*l,C=x-w*y-_,S=i.reduce(function(I,P){var M=wt(P,E,0);return I+(ue(M)?M:0)},0),k;if(S>0){var T;k=i.map(function(I,P){var M=wt(I,E,0),j=wt(I,c,P),D=(ue(M)?M:0)/S,N;P?N=T.endAngle+Nn(b)*l*(M!==0?1:0):N=s;var V=N+Nn(b)*((M!==0?y:0)+D*C),z=(N+V)/2,F=(v.innerRadius+v.outerRadius)/2,H=[{name:j,value:M,payload:I,dataKey:E,type:h}],R=Xe(v.cx,v.cy,F,z);return T=ut(ut(ut({percent:D,cornerRadius:o,name:j,tooltipPayload:H,midAngle:z,middleRadius:F,tooltipPosition:R},I),v),{},{value:wt(I,E),startAngle:N,endAngle:V,payload:I,paddingAngle:Nn(b)*l}),T})}return ut(ut({},v),{},{sectors:k,data:i})});function y1e(t){return t&&t.length?t[0]:void 0}var v1e=y1e,x1e=v1e;const b1e=Ze(x1e);var w1e=["key"];function Zl(t){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zl(t)}function _1e(t,e){if(t==null)return{};var n=E1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function E1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Sg(){return Sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sg.apply(this,arguments)}function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){Ci(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V3(r.key),r)}}function T1e(t,e,n){return e&&fR(t.prototype,e),n&&fR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function A1e(t,e,n){return e=Tg(e),I1e(t,F3()?Reflect.construct(e,n||[],Tg(t).constructor):e.apply(t,n))}function I1e(t,e){if(e&&(Zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k1e(t)}function k1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F3=function(){return!!t})()}function Tg(t){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tg(t)}function C1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kw(t,e)}function Kw(t,e){return Kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kw(t,e)}function Ci(t,e,n){return e=V3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V3(t){var e=P1e(t,"string");return Zl(e)=="symbol"?e:e+""}function P1e(t,e){if(Zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eu=function(t){function e(){var n;S1e(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=A1e(this,e,[].concat(i)),Ci(n,"state",{isAnimationFinished:!1}),Ci(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),_e(s)&&s()}),Ci(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),_e(s)&&s()}),Ci(n,"handleMouseEnter",function(s){var a=n.props.onMouseEnter;a&&a(n.props,s)}),Ci(n,"handleMouseLeave",function(s){var a=n.props.onMouseLeave;a&&a(n.props,s)}),n}return C1e(e,t),T1e(e,[{key:"renderDots",value:function(r){var i=this.props,o=i.dot,s=i.dataKey,a=ye(this.props,!1),l=ye(o,!0),u=r.map(function(c,f){var h=kn(kn(kn({key:"dot-".concat(f),r:3},a),l),{},{dataKey:s,cx:c.x,cy:c.y,index:f,payload:c});return e.renderDotItem(o,h)});return B.createElement($e,{className:"recharts-radar-dots"},u)}},{key:"renderPolygonStatically",value:function(r){var i=this.props,o=i.shape,s=i.dot,a=i.isRange,l=i.baseLinePoints,u=i.connectNulls,c;return B.isValidElement(o)?c=B.cloneElement(o,kn(kn({},this.props),{},{points:r})):_e(o)?c=o(kn(kn({},this.props),{},{points:r})):c=B.createElement(C3,Sg({},ye(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:r,baseLinePoints:a?l:null,connectNulls:u})),B.createElement($e,{className:"recharts-radar-polygon"},c,s?this.renderDots(r):null)}},{key:"renderPolygonWithAnimation",value:function(){var r=this,i=this.props,o=i.points,s=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state.prevPoints;return B.createElement(Ir,{begin:a,duration:l,isActive:s,easing:u,from:{t:0},to:{t:1},key:"radar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var y=h.t,v=f&&f.length/o.length,b=o.map(function(x,E){var w=f&&f[Math.floor(E*v)];if(w){var _=bt(w.x,x.x),C=bt(w.y,x.y);return kn(kn({},x),{},{x:_(y),y:C(y)})}var S=bt(x.cx,x.x),k=bt(x.cy,x.y);return kn(kn({},x),{},{x:S(y),y:k(y)})});return r.renderPolygonStatically(b)})}},{key:"renderPolygon",value:function(){var r=this.props,i=r.points,o=r.isAnimationActive,s=r.isRange,a=this.state.prevPoints;return o&&i&&i.length&&!s&&(!a||!ss(a,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.className,s=r.points,a=r.isAnimationActive;if(i||!s||!s.length)return null;var l=this.state.isAnimationFinished,u=Ne("recharts-radar",o);return B.createElement($e,{className:u},this.renderPolygon(),(!a||l)&&Kr.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"renderDotItem",value:function(r,i){var o;if(B.isValidElement(r))o=B.cloneElement(r,i);else if(_e(r))o=r(i);else{var s=i.key,a=_1e(i,w1e);o=B.createElement(zu,Sg({},a,{key:s,className:Ne("recharts-radar-dot",typeof r!="boolean"?r.className:"")}))}return o}}])}(U.PureComponent);Ci(eu,"displayName","Radar");Ci(eu,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!mo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ci(eu,"getComposedData",function(t){var e=t.radiusAxis,n=t.angleAxis,r=t.displayedData,i=t.dataKey,o=t.bandSize,s=n.cx,a=n.cy,l=!1,u=[],c=n.type!=="number"?o??0:0;r.forEach(function(h,y){var v=wt(h,n.dataKey,y),b=wt(h,i),x=n.scale(v)+c,E=Array.isArray(b)?g3(b):b,w=ke(E)?void 0:e.scale(E);Array.isArray(b)&&b.length>=2&&(l=!0),u.push(kn(kn({},Xe(s,a,w,x)),{},{name:v,value:b,cx:s,cy:a,radius:w,angle:x,payload:h}))});var f=[];return l&&u.forEach(function(h){if(Array.isArray(h.value)){var y=b1e(h.value),v=ke(y)?void 0:e.scale(y);f.push(kn(kn({},h),{},{radius:v},Xe(s,a,v,h.angle)))}else f.push(h)}),{points:u,isRange:l,baseLinePoints:f}});var N1e=Math.ceil,R1e=Math.max;function O1e(t,e,n,r){for(var i=-1,o=R1e(N1e((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var M1e=O1e,D1e=e5,hR=1/0,j1e=17976931348623157e292;function $1e(t){if(!t)return t===0?t:0;if(t=D1e(t),t===hR||t===-hR){var e=t<0?-1:1;return e*j1e}return t===t?t:0}var U3=$1e,L1e=M1e,F1e=J0,Gv=U3;function V1e(t){return function(e,n,r){return r&&typeof r!="number"&&F1e(e,n,r)&&(n=r=void 0),e=Gv(e),n===void 0?(n=e,e=0):n=Gv(n),r=r===void 0?e<n?1:-1:Gv(r),L1e(e,n,r,t)}}var U1e=V1e,B1e=U1e,z1e=B1e(),G1e=z1e;const Ag=Ze(G1e);function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(r){B3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B3(t,e,n){return e=q1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q1e(t){var e=H1e(t,"string");return xf(e)=="symbol"?e:e+""}function H1e(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var W1e=["Webkit","Moz","O","ms"],K1e=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=W1e.reduce(function(o,s){return mR(mR({},o),{},B3({},s+r,n))},{});return i[e]=n,i};function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ig.apply(this,arguments)}function gR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gR(Object(n),!0).forEach(function(r){Yn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G3(r.key),r)}}function J1e(t,e,n){return e&&yR(t.prototype,e),n&&yR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function X1e(t,e,n){return e=kg(e),Q1e(t,z3()?Reflect.construct(e,n||[],kg(t).constructor):e.apply(t,n))}function Q1e(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z1e(t)}function Z1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z3=function(){return!!t})()}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kg(t)}function eEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yw(t,e)}function Yw(t,e){return Yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yw(t,e)}function Yn(t,e,n){return e=G3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G3(t){var e=tEe(t,"string");return tu(e)=="symbol"?e:e+""}function tEe(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nEe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=td().domain(Ag(0,l)).range([o,o+s-a]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},vR=function(e){return e.changedTouches&&!!e.changedTouches.length},nu=function(t){function e(n){var r;return Y1e(this,e),r=X1e(this,e,[n]),Yn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Yn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Yn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Yn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Yn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Yn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Yn(r,"handleSlideDragStart",function(i){var o=vR(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return eEe(e,t),J1e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,l=a.gap,u=a.data,c=u.length-1,f=Math.min(i,o),h=Math.max(i,o),y=e.getIndexInRange(s,f),v=e.getIndexInRange(s,h);return{startIndex:y-y%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=wt(o[r],a,r);return _e(s)?s(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,y=l.endIndex,v=l.onChange,b=r.pageX-o;b>0?b=Math.min(b,u+c-f-a,u+c-f-s):b<0&&(b=Math.max(b,u-s,u-a));var x=this.getIndex({startX:s+b,endX:a+b});(x.startIndex!==h||x.endIndex!==y)&&v&&v(x),this.setState({startX:s+b,endX:a+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=vR(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,u=this.state[s],c=this.props,f=c.x,h=c.width,y=c.travellerWidth,v=c.onChange,b=c.gap,x=c.data,E={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,f+h-y-u):w<0&&(w=Math.max(w,f-u)),E[s]=u+w;var _=this.getIndex(E),C=_.startIndex,S=_.endIndex,k=function(){var I=x.length-1;return s==="startX"&&(a>l?C%b===0:S%b===0)||a<l&&S===I||s==="endX"&&(a>l?S%b===0:C%b===0)||a>l&&S===I};this.setState(Yn(Yn({},s,u+w),"brushMoveStartX",r.pageX),function(){v&&k()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,u=s.endX,c=this.state[i],f=a.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=a.length)){var y=a[h];i==="startX"&&y>=u||i==="endX"&&y<=l||this.setState(Yn({},i,y),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.fill,u=r.stroke;return B.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.data,u=r.children,c=r.padding,f=U.Children.only(u);return f?B.cloneElement(f,{x:i,y:o,width:s,height:a,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,y=l.ariaLabel,v=l.data,b=l.startIndex,x=l.endIndex,E=Math.max(r,this.props.x),w=qv(qv({},ye(this.props,!1)),{},{x:E,y:u,width:c,height:f}),_=y||"Min value: ".concat((o=v[b])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=v[x])===null||s===void 0?void 0:s.name);return B.createElement($e,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),a.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return B.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,y=5,v={pointerEvents:"none",fill:u};return B.createElement($e,{className:"recharts-brush-texts"},B.createElement(ma,Ig({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-y,y:s+a/2},v),this.getTextOfTick(i)),B.createElement(ma,Ig({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+y,y:s+a/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,y=h.startX,v=h.endX,b=h.isTextActive,x=h.isSlideMoving,E=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!ue(a)||!ue(l)||!ue(u)||!ue(c)||u<=0||c<=0)return null;var _=Ne("recharts-brush",o),C=B.Children.count(s)===1,S=K1e("userSelect","none");return B.createElement($e,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(y,v),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(v,"endX"),(b||x||E||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,l=r.stroke,u=Math.floor(o+a/2)-1;return B.createElement(B.Fragment,null,B.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),B.createElement("line",{x1:i+1,y1:u,x2:i+s-1,y2:u,fill:"none",stroke:"#fff"}),B.createElement("line",{x1:i+1,y1:u+2,x2:i+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return B.isValidElement(r)?o=B.cloneElement(r,i):_e(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return qv({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s},o&&o.length?nEe({data:o,width:s,x:a,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var h=i.scale.domain().map(function(y){return i.scale(y)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);r[l]>i?a=l:s=l}return i>=r[a]?a:s}}])}(U.PureComponent);Yn(nu,"displayName","Brush");Yn(nu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var rEe=tS;function iEe(t,e){var n;return rEe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var oEe=iEe,sEe=I4,aEe=vi,lEe=oEe,uEe=Hn,cEe=J0;function dEe(t,e,n){var r=uEe(t)?sEe:lEe;return n&&cEe(t,e,n)&&(e=void 0),r(t,aEe(e))}var fEe=dEe;const hEe=Ze(fEe);var di=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},xR=Y4;function pEe(t,e,n){e=="__proto__"&&xR?xR(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var mEe=pEe,gEe=mEe,yEe=W4,vEe=vi;function xEe(t,e){var n={};return e=vEe(e),yEe(t,function(r,i,o){gEe(n,i,e(r,i,o))}),n}var bEe=xEe;const wEe=Ze(bEe);function _Ee(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var EEe=_Ee,SEe=tS;function TEe(t,e){var n=!0;return SEe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var AEe=TEe,IEe=EEe,kEe=AEe,CEe=vi,PEe=Hn,NEe=J0;function REe(t,e,n){var r=PEe(t)?IEe:kEe;return n&&NEe(t,e,n)&&(e=void 0),r(t,CEe(e))}var OEe=REe;const q3=Ze(OEe);var MEe=["x","y"];function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jw.apply(this,arguments)}function bR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(n),!0).forEach(function(r){DEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DEe(t,e,n){return e=jEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jEe(t){var e=$Ee(t,"string");return bf(e)=="symbol"?e:e+""}function $Ee(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LEe(t,e){if(t==null)return{};var n=FEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function VEe(t,e){var n=t.x,r=t.y,i=LEe(t,MEe),o="".concat(n),s=parseInt(o,10),a="".concat(r),l=parseInt(a,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Tc(Tc(Tc(Tc(Tc({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function wR(t){return B.createElement(j3,Jw({shapeType:"rectangle",propTransformer:VEe,activeClassName:"recharts-active-bar"},t))}var UEe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=ue(r)||Ure(r);return o?e(r,i):(o||ya(),n)}},BEe=["value","background"],H3;function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function zEe(t,e){if(t==null)return{};var n=GEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cg(){return Cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cg.apply(this,arguments)}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){Vo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ER(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K3(r.key),r)}}function HEe(t,e,n){return e&&ER(t.prototype,e),n&&ER(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function WEe(t,e,n){return e=Pg(e),KEe(t,W3()?Reflect.construct(e,n||[],Pg(t).constructor):e.apply(t,n))}function KEe(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YEe(t)}function YEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W3=function(){return!!t})()}function Pg(t){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pg(t)}function JEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xw(t,e)}function Xw(t,e){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xw(t,e)}function Vo(t,e,n){return e=K3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K3(t){var e=XEe(t,"string");return ru(e)=="symbol"?e:e+""}function XEe(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pi=function(t){function e(){var n;qEe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=WEe(this,e,[].concat(i)),Vo(n,"state",{isAnimationFinished:!1}),Vo(n,"id",Aa("recharts-bar-")),Vo(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Vo(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return JEe(e,t),HEe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,u=o.activeBar,c=ye(this.props,!1);return r&&r.map(function(f,h){var y=h===l,v=y?u:s,b=Rt(Rt(Rt({},c),f),{},{isActive:y,option:v,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return B.createElement($e,Cg({className:"recharts-bar-rectangle"},pa(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),B.createElement(wR,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return B.createElement(Ir,{begin:l,duration:u,isActive:a,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var v=y.t,b=o.map(function(x,E){var w=h&&h[E];if(w){var _=bt(w.x,x.x),C=bt(w.y,x.y),S=bt(w.width,x.width),k=bt(w.height,x.height);return Rt(Rt({},x),{},{x:_(v),y:C(v),width:S(v),height:k(v)})}if(s==="horizontal"){var T=bt(0,x.height),I=T(v);return Rt(Rt({},x),{},{y:x.y+x.height-I,height:I})}var P=bt(0,x.width),M=P(v);return Rt(Rt({},x),{},{width:M})});return B.createElement($e,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!ss(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=ye(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,h=zEe(u,BEe);if(!f)return null;var y=Rt(Rt(Rt(Rt(Rt({},h),{},{fill:"#eee"},f),l),pa(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:c,className:"recharts-bar-background-rectangle"});return B.createElement(wR,Cg({key:"background-bar-".concat(c),option:r.props.background,isActive:c===a},y))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=ir(c,eh);if(!f)return null;var h=u==="vertical"?s[0].height/2:s[0].width/2,y=function(x,E){var w=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:w,errorVal:wt(x,E)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return B.createElement($e,v,f.map(function(b){return B.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,offset:h,dataPointFormatter:y})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,a=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,y=r.isAnimationActive,v=r.background,b=r.id;if(i||!o||!o.length)return null;var x=this.state.isAnimationFinished,E=Ne("recharts-bar",s),w=a&&a.allowDataOverflow,_=l&&l.allowDataOverflow,C=w||_,S=ke(b)?this.id:b;return B.createElement($e,{className:E},w||_?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(S)},B.createElement("rect",{x:w?u:u-f/2,y:_?c:c-h/2,width:w?f:f*2,height:_?h:h*2}))):null,B.createElement($e,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,S),(!y||x)&&Kr.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(U.PureComponent);H3=pi;Vo(pi,"displayName","Bar");Vo(pi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!mo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Vo(pi,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,y=ove(r,n);if(!y)return null;var v=e.layout,b=n.type.defaultProps,x=b!==void 0?Rt(Rt({},b),n.props):n.props,E=x.dataKey,w=x.children,_=x.minPointSize,C=v==="horizontal"?s:o,S=u?C.scale.domain():null,k=fve({numericAxis:C}),T=ir(w,Ia),I=f.map(function(P,M){var j,D,N,V,z,F;u?j=sve(u[c+M],S):(j=wt(P,E),Array.isArray(j)||(j=[k,j]));var H=UEe(_,H3.defaultProps.minPointSize)(j[1],M);if(v==="horizontal"){var R,$=[s.scale(j[0]),s.scale(j[1])],G=$[0],K=$[1];D=f2({axis:o,ticks:a,bandSize:i,offset:y.offset,entry:P,index:M}),N=(R=K??G)!==null&&R!==void 0?R:void 0,V=y.size;var q=G-K;if(z=Number.isNaN(q)?0:q,F={x:D,y:s.y,width:V,height:s.height},Math.abs(H)>0&&Math.abs(z)<Math.abs(H)){var X=Nn(z||H)*(Math.abs(H)-Math.abs(z));N-=X,z+=X}}else{var le=[o.scale(j[0]),o.scale(j[1])],W=le[0],Z=le[1];if(D=W,N=f2({axis:s,ticks:l,bandSize:i,offset:y.offset,entry:P,index:M}),V=Z-W,z=y.size,F={x:o.x,y:N,width:o.width,height:z},Math.abs(H)>0&&Math.abs(V)<Math.abs(H)){var J=Nn(V||H)*(Math.abs(H)-Math.abs(V));V+=J}}return Rt(Rt(Rt({},P),{},{x:D,y:N,width:V,height:z,value:u?j:j[1],payload:P,background:F},T&&T[M]&&T[M].props),{},{tooltipPayload:[c3(n,P)],tooltipPosition:{x:D+V/2,y:N+z/2}})});return Rt({data:I,layout:v},h)});function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function QEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y3(r.key),r)}}function ZEe(t,e,n){return e&&SR(t.prototype,e),n&&SR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){dy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dy(t,e,n){return e=Y3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y3(t){var e=eSe(t,"string");return wf(e)=="symbol"?e:e+""}function eSe(t,e){if(wf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PS=function(e,n,r,i,o){var s=e.width,a=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!Xn(u,pi);return c.reduce(function(y,v){var b=n[v],x=b.orientation,E=b.domain,w=b.padding,_=w===void 0?{}:w,C=b.mirror,S=b.reversed,k="".concat(x).concat(C?"Mirror":""),T,I,P,M,j;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var D=E[1]-E[0],N=1/0,V=b.categoricalDomain.sort(Gre);if(V.forEach(function(le,W){W>0&&(N=Math.min((le||0)-(V[W-1]||0),N))}),Number.isFinite(N)){var z=N/D,F=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(T=z*F/2),b.padding==="no-gap"){var H=Rn(e.barCategoryGap,z*F),R=z*F/2;T=R-H-(R-H)/F*H}}}i==="xAxis"?I=[r.left+(_.left||0)+(T||0),r.left+r.width-(_.right||0)-(T||0)]:i==="yAxis"?I=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(T||0),r.top+r.height-(_.bottom||0)-(T||0)]:I=b.range,S&&(I=[I[1],I[0]]);var $=s3(b,o,h),G=$.scale,K=$.realScaleType;G.domain(E).range(I),a3(G);var q=l3(G,jr(jr({},b),{},{realScaleType:K}));i==="xAxis"?(j=x==="top"&&!C||x==="bottom"&&C,P=r.left,M=f[k]-j*b.height):i==="yAxis"&&(j=x==="left"&&!C||x==="right"&&C,P=f[k]-j*b.width,M=r.top);var X=jr(jr(jr({},b),q),{},{realScaleType:K,x:P,y:M,scale:G,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return X.bandSize=dg(X,q),!b.hide&&i==="xAxis"?f[k]+=(j?-1:1)*X.height:b.hide||(f[k]+=(j?-1:1)*X.width),jr(jr({},y),{},dy({},v,X))},{})},J3=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},tSe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return J3({x:n,y:r},{x:i,y:o})},X3=function(){function t(e){QEe(this,t),this.scale=e}return ZEe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();dy(X3,"EPS",1e-4);var NS=function(e){var n=Object.keys(e).reduce(function(r,i){return jr(jr({},r),{},dy({},i,X3.create(e[i])))},{});return jr(jr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return wEe(i,function(l,u){return n[u].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return q3(i,function(o,s){return n[s].isInRange(o)})}})};function nSe(t){return(t%180+180)%180}var rSe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=nSe(i),s=o*Math.PI/180,a=Math.atan(r/n),l=s>a&&s<Math.PI-a?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},iSe=vi,oSe=Yf,sSe=K0;function aSe(t){return function(e,n,r){var i=Object(e);if(!oSe(e)){var o=iSe(n);e=sSe(e),n=function(a){return o(i[a],a,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var lSe=aSe,uSe=U3;function cSe(t){var e=uSe(t),n=e%1;return e===e?n?e-n:e:0}var dSe=cSe,fSe=U4,hSe=vi,pSe=dSe,mSe=Math.max;function gSe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:pSe(n);return i<0&&(i=mSe(r+i,0)),fSe(t,hSe(e),i)}var ySe=gSe,vSe=lSe,xSe=ySe,bSe=vSe(xSe),wSe=bSe;const _Se=Ze(wSe);var ESe=Wne(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),RS=U.createContext(void 0),OS=U.createContext(void 0),Q3=U.createContext(void 0),Z3=U.createContext({}),eF=U.createContext(void 0),tF=U.createContext(0),nF=U.createContext(0),AR=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,l=e.width,u=e.height,c=ESe(o);return B.createElement(RS.Provider,{value:r},B.createElement(OS.Provider,{value:i},B.createElement(Z3.Provider,{value:o},B.createElement(Q3.Provider,{value:c},B.createElement(eF.Provider,{value:s},B.createElement(tF.Provider,{value:u},B.createElement(nF.Provider,{value:l},a)))))))},SSe=function(){return U.useContext(eF)},rF=function(e){var n=U.useContext(RS);n==null&&ya();var r=n[e];return r==null&&ya(),r},TSe=function(){var e=U.useContext(RS);return Mo(e)},ASe=function(){var e=U.useContext(OS),n=_Se(e,function(r){return q3(r.domain,Number.isFinite)});return n||Mo(e)},iF=function(e){var n=U.useContext(OS);n==null&&ya();var r=n[e];return r==null&&ya(),r},ISe=function(){var e=U.useContext(Q3);return e},kSe=function(){return U.useContext(Z3)},MS=function(){return U.useContext(nF)},DS=function(){return U.useContext(tF)};function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function CSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sF(r.key),r)}}function NSe(t,e,n){return e&&PSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RSe(t,e,n){return e=Ng(e),OSe(t,oF()?Reflect.construct(e,n||[],Ng(t).constructor):e.apply(t,n))}function OSe(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MSe(t)}function MSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oF=function(){return!!t})()}function Ng(t){return Ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ng(t)}function DSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qw(t,e)}function Qw(t,e){return Qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qw(t,e)}function IR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IR(Object(n),!0).forEach(function(r){jS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jS(t,e,n){return e=sF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sF(t){var e=jSe(t,"string");return iu(e)=="symbol"?e:e+""}function jSe(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $Se(t,e){return USe(t)||VSe(t,e)||FSe(t,e)||LSe()}function LSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FSe(t,e){if(t){if(typeof t=="string")return CR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CR(t,e)}}function CR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function USe(t){if(Array.isArray(t))return t}function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(this,arguments)}var BSe=function(e,n){var r;return B.isValidElement(e)?r=B.cloneElement(e,n):_e(e)?r=e(n):r=B.createElement("line",Zw({},n,{className:"recharts-reference-line-line"})),r},zSe=function(e,n,r,i,o,s,a,l,u){var c=o.x,f=o.y,h=o.width,y=o.height;if(r){var v=u.y,b=e.y.apply(v,{position:s});if(di(u,"discard")&&!e.y.isInRange(b))return null;var x=[{x:c+h,y:b},{x:c,y:b}];return l==="left"?x.reverse():x}if(n){var E=u.x,w=e.x.apply(E,{position:s});if(di(u,"discard")&&!e.x.isInRange(w))return null;var _=[{x:w,y:f+y},{x:w,y:f}];return a==="top"?_.reverse():_}if(i){var C=u.segment,S=C.map(function(k){return e.apply(k,{position:s})});return di(u,"discard")&&hEe(S,function(k){return!e.isInRange(k)})?null:S}return null};function GSe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,u=SSe(),c=rF(i),f=iF(o),h=ISe();if(!u||!h)return null;Wr(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=NS({x:c.scale,y:f.scale}),v=Ut(e),b=Ut(n),x=r&&r.length===2,E=zSe(y,v,b,x,h,t.position,c.orientation,f.orientation,t);if(!E)return null;var w=$Se(E,2),_=w[0],C=_.x,S=_.y,k=w[1],T=k.x,I=k.y,P=di(t,"hidden")?"url(#".concat(u,")"):void 0,M=kR(kR({clipPath:P},ye(t,!0)),{},{x1:C,y1:S,x2:T,y2:I});return B.createElement($e,{className:Ne("recharts-reference-line",a)},BSe(s,M),Kt.renderCallByParent(t,tSe({x1:C,y1:S,x2:T,y2:I})))}var th=function(t){function e(){return CSe(this,e),RSe(this,e,arguments)}return DSe(e,t),NSe(e,[{key:"render",value:function(){return B.createElement(GSe,this.props)}}])}(B.Component);jS(th,"displayName","ReferenceLine");jS(th,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function e_(){return e_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e_.apply(this,arguments)}function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function PR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(n),!0).forEach(function(r){fy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HSe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lF(r.key),r)}}function WSe(t,e,n){return e&&HSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KSe(t,e,n){return e=Rg(e),YSe(t,aF()?Reflect.construct(e,n||[],Rg(t).constructor):e.apply(t,n))}function YSe(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JSe(t)}function JSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aF=function(){return!!t})()}function Rg(t){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rg(t)}function XSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t_(t,e)}function t_(t,e){return t_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t_(t,e)}function fy(t,e,n){return e=lF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lF(t){var e=QSe(t,"string");return ou(e)=="symbol"?e:e+""}function QSe(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ZSe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=NS({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return di(e,"discard")&&!s.isInRange(a)?null:a},hy=function(t){function e(){return qSe(this,e),KSe(this,e,arguments)}return XSe(e,t),WSe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,l=r.clipPathId,u=Ut(i),c=Ut(o);if(Wr(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=ZSe(this.props);if(!f)return null;var h=f.x,y=f.y,v=this.props,b=v.shape,x=v.className,E=di(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=NR(NR({clipPath:E},ye(this.props,!0)),{},{cx:h,cy:y});return B.createElement($e,{className:Ne("recharts-reference-dot",x)},e.renderDot(b,w),Kt.renderCallByParent(this.props,{x:h-s,y:y-s,width:2*s,height:2*s}))}}])}(B.Component);fy(hy,"displayName","ReferenceDot");fy(hy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});fy(hy,"renderDot",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):_e(t)?n=t(e):n=B.createElement(zu,e_({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function n_(){return n_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n_.apply(this,arguments)}function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){py(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cF(r.key),r)}}function nTe(t,e,n){return e&&tTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rTe(t,e,n){return e=Og(e),iTe(t,uF()?Reflect.construct(e,n||[],Og(t).constructor):e.apply(t,n))}function iTe(t,e){if(e&&(su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oTe(t)}function oTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uF=function(){return!!t})()}function Og(t){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Og(t)}function sTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r_(t,e)}function r_(t,e){return r_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},r_(t,e)}function py(t,e,n){return e=cF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cF(t){var e=aTe(t,"string");return su(e)=="symbol"?e:e+""}function aTe(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lTe=function(e,n,r,i,o){var s=o.x1,a=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var h=NS({x:c.scale,y:f.scale}),y={x:e?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return di(o,"discard")&&(!h.isInRange(y)||!h.isInRange(v))?null:J3(y,v)},my=function(t){function e(){return eTe(this,e),rTe(this,e,arguments)}return sTe(e,t),nTe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;Wr(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ut(i),h=Ut(o),y=Ut(s),v=Ut(a),b=this.props.shape;if(!f&&!h&&!y&&!v&&!b)return null;var x=lTe(f,h,y,v,this.props);if(!x&&!b)return null;var E=di(this.props,"hidden")?"url(#".concat(c,")"):void 0;return B.createElement($e,{className:Ne("recharts-reference-area",l)},e.renderRect(b,OR(OR({clipPath:E},ye(this.props,!0)),x)),Kt.renderCallByParent(this.props,x))}}])}(B.Component);py(my,"displayName","ReferenceArea");py(my,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});py(my,"renderRect",function(t,e){var n;return B.isValidElement(t)?n=B.cloneElement(t,e):_e(t)?n=t(e):n=B.createElement(CS,n_({},e,{className:"recharts-reference-area-rect"})),n});function dF(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function uTe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return rSe(r,n)}function cTe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:r?i:o,end:r?i+s:o+a}:{start:r?i+s:o+a,end:r?i:o}}function Mg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function dTe(t,e){return dF(t,e+1)}function fTe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,a=e.end,l=0,u=1,c=s,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:dF(r,u)};var b=l,x,E=function(){return x===void 0&&(x=n(v,b)),x},w=v.coordinate,_=l===0||Mg(t,w,E,c,a);_||(l=0,c=s,u+=1),_&&(c=w+t*(E()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){hTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hTe(t,e,n){return e=pTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pTe(t){var e=mTe(t,"string");return _f(e)=="symbol"?e:e+""}function mTe(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gTe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,a=e.start,l=e.end,u=function(h){var y=o[h],v,b=function(){return v===void 0&&(v=n(y,h)),v};if(h===s-1){var x=t*(y.coordinate+t*b()/2-l);o[h]=y=mn(mn({},y),{},{tickCoord:x>0?y.coordinate-x*t:y.coordinate})}else o[h]=y=mn(mn({},y),{},{tickCoord:y.coordinate});var E=Mg(t,y.tickCoord,b,a,l);E&&(l=y.tickCoord-t*(b()/2+i),o[h]=mn(mn({},y),{},{isShow:!0}))},c=s-1;c>=0;c--)u(c);return o}function yTe(t,e,n,r,i,o){var s=(r||[]).slice(),a=s.length,l=e.start,u=e.end;if(o){var c=r[a-1],f=n(c,a-1),h=t*(c.coordinate+t*f/2-u);s[a-1]=c=mn(mn({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var y=Mg(t,c.tickCoord,function(){return f},l,u);y&&(u=c.tickCoord-t*(f/2+i),s[a-1]=mn(mn({},c),{},{isShow:!0}))}for(var v=o?a-1:a,b=function(w){var _=s[w],C,S=function(){return C===void 0&&(C=n(_,w)),C};if(w===0){var k=t*(_.coordinate-t*S()/2-l);s[w]=_=mn(mn({},_),{},{tickCoord:k<0?_.coordinate-k*t:_.coordinate})}else s[w]=_=mn(mn({},_),{},{tickCoord:_.coordinate});var T=Mg(t,_.tickCoord,S,l,u);T&&(l=_.tickCoord+t*(S()/2+i),s[w]=mn(mn({},_),{},{isShow:!0}))},x=0;x<v;x++)b(x);return s}function $S(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ue(l)||mo.isSsr)return dTe(i,typeof l=="number"&&ue(l)?l:0);var h=[],y=a==="top"||a==="bottom"?"width":"height",v=c&&y==="width"?ed(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(_,C){var S=_e(u)?u(_.value,C):_.value;return y==="width"?uTe(ed(S,{fontSize:e,letterSpacing:n}),v,f):ed(S,{fontSize:e,letterSpacing:n})[y]},x=i.length>=2?Nn(i[1].coordinate-i[0].coordinate):1,E=cTe(o,x,y);return l==="equidistantPreserveStart"?fTe(x,E,b,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=yTe(x,E,b,i,s,l==="preserveStartEnd"):h=gTe(x,E,b,i,s),h.filter(function(w){return w.isShow}))}var vTe=["viewBox"],xTe=["viewBox"],bTe=["ticks"];function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function ll(){return ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ll.apply(this,arguments)}function DR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(n),!0).forEach(function(r){LS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hv(t,e){if(t==null)return{};var n=wTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _Te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hF(r.key),r)}}function ETe(t,e,n){return e&&jR(t.prototype,e),n&&jR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function STe(t,e,n){return e=Dg(e),TTe(t,fF()?Reflect.construct(e,n||[],Dg(t).constructor):e.apply(t,n))}function TTe(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ATe(t)}function ATe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fF=function(){return!!t})()}function Dg(t){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dg(t)}function ITe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i_(t,e)}function i_(t,e){return i_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},i_(t,e)}function LS(t,e,n){return e=hF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hF(t){var e=kTe(t,"string");return au(e)=="symbol"?e:e+""}function kTe(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hu=function(t){function e(n){var r;return _Te(this,e),r=STe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return ITe(e,t),ETe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=Hv(r,vTe),a=this.props,l=a.viewBox,u=Hv(a,xTe);return!_l(o,l)||!_l(s,u)||!_l(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,y,v,b,x,E,w,_=f?-1:1,C=r.tickSize||c,S=ue(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":y=v=r.coordinate,x=s+ +!f*l,b=x-_*C,w=b-_*h,E=S;break;case"left":b=x=r.coordinate,v=o+ +!f*a,y=v-_*C,E=y-_*h,w=S;break;case"right":b=x=r.coordinate,v=o+ +f*a,y=v+_*C,E=y+_*h,w=S;break;default:y=v=r.coordinate,x=s+ +f*l,b=x+_*C,w=b+_*h,E=S;break}return{line:{x1:y,y1:b,x2:v,y2:x},tick:{x:E,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=jt(jt(jt({},ye(this.props,!1)),ye(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=jt(jt({},f),{},{x1:i,y1:o+h*a,x2:i+s,y2:o+h*a})}else{var y=+(l==="left"&&!u||l==="right"&&u);f=jt(jt({},f),{},{x1:i+y*s,y1:o,x2:i+y*s,y2:o+a})}return B.createElement("line",ll({},f,{className:Ne("recharts-cartesian-axis-line",rr(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,a=this.props,l=a.tickLine,u=a.stroke,c=a.tick,f=a.tickFormatter,h=a.unit,y=$S(jt(jt({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),x=ye(this.props,!1),E=ye(c,!1),w=jt(jt({},x),{},{fill:"none"},ye(l,!1)),_=y.map(function(C,S){var k=s.getTickLineCoord(C),T=k.line,I=k.tick,P=jt(jt(jt(jt({textAnchor:v,verticalAnchor:b},x),{},{stroke:"none",fill:u},E),I),{},{index:S,payload:C,visibleTicksCount:y.length,tickFormatter:f});return B.createElement($e,ll({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},pa(s.props,C,S)),l&&B.createElement("line",ll({},w,T,{className:Ne("recharts-cartesian-axis-tick-line",rr(l,"className"))})),c&&e.renderTickItem(c,P,"".concat(_e(f)?f(C.value,S):C.value).concat(h||"")))});return B.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,y=Hv(f,bTe),v=h;return _e(l)&&(v=h&&h.length>0?l(this.props):l(y)),s<=0||a<=0||!v||!v.length?null:B.createElement($e,{className:Ne("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Kt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s,a=Ne(i.className,"recharts-cartesian-axis-tick-value");return B.isValidElement(r)?s=B.cloneElement(r,jt(jt({},i),{},{className:a})):_e(r)?s=r(jt(jt({},i),{},{className:a})):s=B.createElement(ma,ll({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])}(U.Component);LS(Hu,"displayName","CartesianAxis");LS(Hu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var CTe=["x1","y1","x2","y2","key"],PTe=["offset"];function va(t){"@babel/helpers - typeof";return va=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},va(t)}function $R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(n),!0).forEach(function(r){NTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NTe(t,e,n){return e=RTe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RTe(t){var e=OTe(t,"string");return va(e)=="symbol"?e:e+""}function OTe(t,e){if(va(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(va(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gs(){return Gs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gs.apply(this,arguments)}function LR(t,e){if(t==null)return{};var n=MTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var DTe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return B.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function pF(t,e){var n;if(B.isValidElement(t))n=B.cloneElement(t,e);else if(_e(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=LR(e,CTe),u=ye(l,!1);u.offset;var c=LR(u,PTe);n=B.createElement("line",Gs({},c,{x1:r,y1:i,x2:o,y2:s,fill:"none",key:a}))}return n}function jTe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=yn(yn({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return pF(i,u)});return B.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function $Te(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var u=yn(yn({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return pF(i,u)});return B.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function LTe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=a.map(function(h){return Math.round(h+i-i)}).sort(function(h,y){return h-y});i!==c[0]&&c.unshift(0);var f=c.map(function(h,y){var v=!c[y+1],b=v?i+s-h:c[y+1]-h;if(b<=0)return null;var x=y%e.length;return B.createElement("rect",{key:"react-".concat(y),y:h,x:r,height:b,width:o,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function FTe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,y){return h-y});o!==c[0]&&c.unshift(0);var f=c.map(function(h,y){var v=!c[y+1],b=v?o+a-h:c[y+1]-h;if(b<=0)return null;var x=y%r.length;return B.createElement("rect",{key:"react-".concat(y),x:h,y:s,width:b,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return B.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var VTe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,s=e.offset;return o3($S(yn(yn(yn({},Hu.defaultProps),r),{},{ticks:Li(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,n)},UTe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,s=e.offset;return o3($S(yn(yn(yn({},Hu.defaultProps),r),{},{ticks:Li(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,n)},La={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function lu(t){var e,n,r,i,o,s,a=MS(),l=DS(),u=kSe(),c=yn(yn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:La.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:La.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:La.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:La.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:La.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:La.verticalFill,x:ue(t.x)?t.x:u.left,y:ue(t.y)?t.y:u.top,width:ue(t.width)?t.width:u.width,height:ue(t.height)?t.height:u.height}),f=c.x,h=c.y,y=c.width,v=c.height,b=c.syncWithTicks,x=c.horizontalValues,E=c.verticalValues,w=TSe(),_=ASe();if(!ue(y)||y<=0||!ue(v)||v<=0||!ue(f)||f!==+f||!ue(h)||h!==+h)return null;var C=c.verticalCoordinatesGenerator||VTe,S=c.horizontalCoordinatesGenerator||UTe,k=c.horizontalPoints,T=c.verticalPoints;if((!k||!k.length)&&_e(S)){var I=x&&x.length,P=S({yAxis:_?yn(yn({},_),{},{ticks:I?x:_.ticks}):void 0,width:a,height:l,offset:u},I?!0:b);Wr(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(va(P),"]")),Array.isArray(P)&&(k=P)}if((!T||!T.length)&&_e(C)){var M=E&&E.length,j=C({xAxis:w?yn(yn({},w),{},{ticks:M?E:w.ticks}):void 0,width:a,height:l,offset:u},M?!0:b);Wr(Array.isArray(j),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(va(j),"]")),Array.isArray(j)&&(T=j)}return B.createElement("g",{className:"recharts-cartesian-grid"},B.createElement(DTe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),B.createElement(jTe,Gs({},c,{offset:u,horizontalPoints:k,xAxis:w,yAxis:_})),B.createElement($Te,Gs({},c,{offset:u,verticalPoints:T,xAxis:w,yAxis:_})),B.createElement(LTe,Gs({},c,{horizontalPoints:k})),B.createElement(FTe,Gs({},c,{verticalPoints:T})))}lu.displayName="CartesianGrid";var BTe=["type","layout","connectNulls","ref"],zTe=["key"];function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function FR(t,e){if(t==null)return{};var n=GTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sd(){return sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sd.apply(this,arguments)}function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){$r(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fa(t){return KTe(t)||WTe(t)||HTe(t)||qTe()}function qTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HTe(t,e){if(t){if(typeof t=="string")return o_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o_(t,e)}}function WTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KTe(t){if(Array.isArray(t))return o_(t)}function o_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function YTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gF(r.key),r)}}function JTe(t,e,n){return e&&UR(t.prototype,e),n&&UR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function XTe(t,e,n){return e=jg(e),QTe(t,mF()?Reflect.construct(e,n||[],jg(t).constructor):e.apply(t,n))}function QTe(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZTe(t)}function ZTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mF=function(){return!!t})()}function jg(t){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jg(t)}function eAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s_(t,e)}function s_(t,e){return s_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},s_(t,e)}function $r(t,e,n){return e=gF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gF(t){var e=tAe(t,"string");return uu(e)=="symbol"?e:e+""}function tAe(t,e){if(uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nh=function(t){function e(){var n;YTe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=XTe(this,e,[].concat(i)),$r(n,"state",{isAnimationFinished:!0,totalLength:0}),$r(n,"generateSimpleStrokeDasharray",function(s,a){return"".concat(a,"px ").concat(s-a,"px")}),$r(n,"getStrokeDasharray",function(s,a,l){var u=l.reduce(function(E,w){return E+w});if(!u)return n.generateSimpleStrokeDasharray(a,s);for(var c=Math.floor(s/u),f=s%u,h=a-s,y=[],v=0,b=0;v<l.length;b+=l[v],++v)if(b+l[v]>f){y=[].concat(Fa(l.slice(0,v)),[f-b]);break}var x=y.length%2===0?[0,h]:[h];return[].concat(Fa(e.repeat(l,c)),Fa(y),x).map(function(E){return"".concat(E,"px")}).join(", ")}),$r(n,"id",Aa("recharts-line-")),$r(n,"pathRef",function(s){n.mainCurve=s}),$r(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),$r(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return eAe(e,t),JTe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.points,a=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=ir(c,eh);if(!f)return null;var h=function(b,x){return{x:b.x,y:b.y,value:b.value,errorVal:wt(b.payload,x)}},y={clipPath:r?"url(#clipPath-".concat(i,")"):null};return B.createElement($e,y,f.map(function(v){return B.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:s,xAxis:a,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,u=a.points,c=a.dataKey,f=ye(this.props,!1),h=ye(l,!0),y=u.map(function(b,x){var E=Kn(Kn(Kn({key:"dot-".concat(x),r:3},f),h),{},{index:x,cx:b.x,cy:b.y,value:b.value,dataKey:c,payload:b.payload,points:u});return e.renderDotItem(l,E)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return B.createElement($e,sd({className:"recharts-line-dots",key:"dots"},v),y)}},{key:"renderCurveStatically",value:function(r,i,o,s){var a=this.props,l=a.type,u=a.layout,c=a.connectNulls;a.ref;var f=FR(a,BTe),h=Kn(Kn(Kn({},ye(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},s),{},{type:l,layout:u,connectNulls:c});return B.createElement(Qs,sd({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.strokeDasharray,u=s.isAnimationActive,c=s.animationBegin,f=s.animationDuration,h=s.animationEasing,y=s.animationId,v=s.animateNewValues,b=s.width,x=s.height,E=this.state,w=E.prevPoints,_=E.totalLength;return B.createElement(Ir,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var S=C.t;if(w){var k=w.length/a.length,T=a.map(function(D,N){var V=Math.floor(N*k);if(w[V]){var z=w[V],F=bt(z.x,D.x),H=bt(z.y,D.y);return Kn(Kn({},D),{},{x:F(S),y:H(S)})}if(v){var R=bt(b*2,D.x),$=bt(x/2,D.y);return Kn(Kn({},D),{},{x:R(S),y:$(S)})}return Kn(Kn({},D),{},{x:D.x,y:D.y})});return o.renderCurveStatically(T,r,i)}var I=bt(0,_),P=I(S),M;if(l){var j="".concat(l).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});M=o.getStrokeDasharray(P,_,j)}else M=o.generateSimpleStrokeDasharray(_,P);return o.renderCurveStatically(a,r,i,{strokeDasharray:M})})}},{key:"renderCurve",value:function(r,i){var o=this.props,s=o.points,a=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return a&&s&&s.length&&(!u&&c>0||!ss(u,s))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(s,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,h=i.left,y=i.width,v=i.height,b=i.isAnimationActive,x=i.id;if(o||!a||!a.length)return null;var E=this.state.isAnimationFinished,w=a.length===1,_=Ne("recharts-line",l),C=u&&u.allowDataOverflow,S=c&&c.allowDataOverflow,k=C||S,T=ke(x)?this.id:x,I=(r=ye(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=I.r,M=P===void 0?3:P,j=I.strokeWidth,D=j===void 0?2:j,N=QL(s)?s:{},V=N.clipDot,z=V===void 0?!0:V,F=M*2+D;return B.createElement($e,{className:_},C||S?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(T)},B.createElement("rect",{x:C?h:h-y/2,y:S?f:f-v/2,width:C?y:y*2,height:S?v:v*2})),!z&&B.createElement("clipPath",{id:"clipPath-dots-".concat(T)},B.createElement("rect",{x:h-F/2,y:f-F/2,width:y+F,height:v+F}))):null,!w&&this.renderCurve(k,T),this.renderErrorBar(k,T),(w||s)&&this.renderDots(k,z,T),(!b||E)&&Kr.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Fa(r),[0]):r,s=[],a=0;a<i;++a)s=[].concat(Fa(s),Fa(o));return s}},{key:"renderDotItem",value:function(r,i){var o;if(B.isValidElement(r))o=B.cloneElement(r,i);else if(_e(r))o=r(i);else{var s=i.key,a=FR(i,zTe),l=Ne("recharts-line-dot",typeof r!="boolean"?r.className:"");o=B.createElement(zu,sd({key:s},a,{className:l}))}return o}}])}(U.PureComponent);$r(nh,"displayName","Line");$r(nh,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!mo.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});$r(nh,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,s=t.dataKey,a=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(h,y){var v=wt(h,s);return c==="horizontal"?{x:cg({axis:n,ticks:i,bandSize:a,entry:h,index:y}),y:ke(v)?null:r.scale(v),value:v,payload:h}:{x:ke(v)?null:n.scale(v),y:cg({axis:r,ticks:o,bandSize:a,entry:h,index:y}),value:v,payload:h}});return Kn({points:f,layout:c},u)});var nAe=["layout","type","stroke","connectNulls","isRange","ref"],rAe=["key"],yF;function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function vF(t,e){if(t==null)return{};var n=iAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qs(){return qs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qs.apply(this,arguments)}function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function So(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){ii(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bF(r.key),r)}}function sAe(t,e,n){return e&&zR(t.prototype,e),n&&zR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aAe(t,e,n){return e=$g(e),lAe(t,xF()?Reflect.construct(e,n||[],$g(t).constructor):e.apply(t,n))}function lAe(t,e){if(e&&(cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uAe(t)}function uAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xF=function(){return!!t})()}function $g(t){return $g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$g(t)}function cAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a_(t,e)}function a_(t,e){return a_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},a_(t,e)}function ii(t,e,n){return e=bF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bF(t){var e=dAe(t,"string");return cu(e)=="symbol"?e:e+""}function dAe(t,e){if(cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xs=function(t){function e(){var n;oAe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=aAe(this,e,[].concat(i)),ii(n,"state",{isAnimationFinished:!0}),ii(n,"id",Aa("recharts-area-")),ii(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),_e(s)&&s()}),ii(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),_e(s)&&s()}),n}return cAe(e,t),sAe(e,[{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(s&&!a)return null;var l=this.props,u=l.dot,c=l.points,f=l.dataKey,h=ye(this.props,!1),y=ye(u,!0),v=c.map(function(x,E){var w=So(So(So({key:"dot-".concat(E),r:3},h),y),{},{index:E,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:c});return e.renderDotItem(u,w)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return B.createElement($e,qs({className:"recharts-area-dots"},b),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].x,u=s[s.length-1].x,c=r*Math.abs(l-u),f=Fo(s.map(function(h){return h.y||0}));return ue(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Fo(o.map(function(h){return h.y||0})),f)),ue(f)?B.createElement("rect",{x:l<u?l:l-c,y:0,width:c,height:Math.floor(f+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].y,u=s[s.length-1].y,c=r*Math.abs(l-u),f=Fo(s.map(function(h){return h.x||0}));return ue(o)&&typeof o=="number"?f=Math.max(o,f):o&&Array.isArray(o)&&o.length&&(f=Math.max(Fo(o.map(function(h){return h.x||0})),f)),ue(f)?B.createElement("rect",{x:0,y:l<u?l:l-c,width:f+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,s){var a=this.props,l=a.layout,u=a.type,c=a.stroke,f=a.connectNulls,h=a.isRange;a.ref;var y=vF(a,nAe);return B.createElement($e,{clipPath:o?"url(#clipPath-".concat(s,")"):null},B.createElement(Qs,qs({},ye(y,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),c!=="none"&&B.createElement(Qs,qs({},ye(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:r})),c!=="none"&&h&&B.createElement(Qs,qs({},ye(this.props,!1),{className:"recharts-area-curve",layout:l,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,s=this.props,a=s.points,l=s.baseLine,u=s.isAnimationActive,c=s.animationBegin,f=s.animationDuration,h=s.animationEasing,y=s.animationId,v=this.state,b=v.prevPoints,x=v.prevBaseLine;return B.createElement(Ir,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var w=E.t;if(b){var _=b.length/a.length,C=a.map(function(I,P){var M=Math.floor(P*_);if(b[M]){var j=b[M],D=bt(j.x,I.x),N=bt(j.y,I.y);return So(So({},I),{},{x:D(w),y:N(w)})}return I}),S;if(ue(l)&&typeof l=="number"){var k=bt(x,l);S=k(w)}else if(ke(l)||ju(l)){var T=bt(x,0);S=T(w)}else S=l.map(function(I,P){var M=Math.floor(P*_);if(x[M]){var j=x[M],D=bt(j.x,I.x),N=bt(j.y,I.y);return So(So({},I),{},{x:D(w),y:N(w)})}return I});return o.renderAreaStatically(C,S,r,i)}return B.createElement($e,null,B.createElement("defs",null,B.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(w))),B.createElement($e,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(a,l,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,s=o.points,a=o.baseLine,l=o.isAnimationActive,u=this.state,c=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return l&&s&&s.length&&(!c&&h>0||!ss(c,s)||!ss(f,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,u=i.top,c=i.left,f=i.xAxis,h=i.yAxis,y=i.width,v=i.height,b=i.isAnimationActive,x=i.id;if(o||!a||!a.length)return null;var E=this.state.isAnimationFinished,w=a.length===1,_=Ne("recharts-area",l),C=f&&f.allowDataOverflow,S=h&&h.allowDataOverflow,k=C||S,T=ke(x)?this.id:x,I=(r=ye(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=I.r,M=P===void 0?3:P,j=I.strokeWidth,D=j===void 0?2:j,N=QL(s)?s:{},V=N.clipDot,z=V===void 0?!0:V,F=M*2+D;return B.createElement($e,{className:_},C||S?B.createElement("defs",null,B.createElement("clipPath",{id:"clipPath-".concat(T)},B.createElement("rect",{x:C?c:c-y/2,y:S?u:u-v/2,width:C?y:y*2,height:S?v:v*2})),!z&&B.createElement("clipPath",{id:"clipPath-dots-".concat(T)},B.createElement("rect",{x:c-F/2,y:u-F/2,width:y+F,height:v+F}))):null,w?null:this.renderArea(k,T),(s||w)&&this.renderDots(k,z,T),(!b||E)&&Kr.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(U.PureComponent);yF=xs;ii(xs,"displayName","Area");ii(xs,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!mo.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ii(xs,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,s=e.props.baseValue,a=s??o;if(ue(a)&&typeof a=="number")return a;var l=i==="horizontal"?r:n,u=l.scale.domain();if(l.type==="number"){var c=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return a==="dataMin"?f:a==="dataMax"||c<0?c:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]});ii(xs,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,a=t.bandSize,l=t.dataKey,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,y=e.layout,v=u&&u.length,b=yF.getBaseValue(e,n,r,i),x=y==="horizontal",E=!1,w=f.map(function(C,S){var k;v?k=u[c+S]:(k=wt(C,l),Array.isArray(k)?E=!0:k=[b,k]);var T=k[1]==null||v&&wt(C,l)==null;return x?{x:cg({axis:r,ticks:o,bandSize:a,entry:C,index:S}),y:T?null:i.scale(k[1]),value:k,payload:C}:{x:T?null:r.scale(k[1]),y:cg({axis:i,ticks:s,bandSize:a,entry:C,index:S}),value:k,payload:C}}),_;return v||E?_=w.map(function(C){var S=Array.isArray(C.value)?C.value[0]:null;return x?{x:C.x,y:S!=null&&C.y!=null?i.scale(S):null}:{x:S!=null?r.scale(S):null,y:C.y}}):_=x?i.scale(b):r.scale(b),So({points:w,baseLine:_,layout:y,isRange:E},h)});ii(xs,"renderDotItem",function(t,e){var n;if(B.isValidElement(t))n=B.cloneElement(t,e);else if(_e(t))n=t(e);else{var r=Ne("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=vF(e,rAe);n=B.createElement(zu,qs({},o,{key:i,className:r}))}return n});function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function fAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EF(r.key),r)}}function pAe(t,e,n){return e&&hAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mAe(t,e,n){return e=Lg(e),gAe(t,wF()?Reflect.construct(e,n||[],Lg(t).constructor):e.apply(t,n))}function gAe(t,e){if(e&&(du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yAe(t)}function yAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wF=function(){return!!t})()}function Lg(t){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lg(t)}function vAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l_(t,e)}function l_(t,e){return l_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},l_(t,e)}function _F(t,e,n){return e=EF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EF(t){var e=xAe(t,"string");return du(e)=="symbol"?e:e+""}function xAe(t,e){if(du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function u_(){return u_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u_.apply(this,arguments)}function bAe(t){var e=t.xAxisId,n=MS(),r=DS(),i=rF(e);return i==null?null:U.createElement(Hu,u_({},i,{className:Ne("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(s){return Li(s,!0)}}))}var mi=function(t){function e(){return fAe(this,e),mAe(this,e,arguments)}return vAe(e,t),pAe(e,[{key:"render",value:function(){return U.createElement(bAe,this.props)}}])}(U.Component);_F(mi,"displayName","XAxis");_F(mi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function wAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AF(r.key),r)}}function EAe(t,e,n){return e&&_Ae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SAe(t,e,n){return e=Fg(e),TAe(t,SF()?Reflect.construct(e,n||[],Fg(t).constructor):e.apply(t,n))}function TAe(t,e){if(e&&(fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AAe(t)}function AAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SF=function(){return!!t})()}function Fg(t){return Fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fg(t)}function IAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c_(t,e)}function c_(t,e){return c_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},c_(t,e)}function TF(t,e,n){return e=AF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AF(t){var e=kAe(t,"string");return fu(e)=="symbol"?e:e+""}function kAe(t,e){if(fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function d_(){return d_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d_.apply(this,arguments)}var CAe=function(e){var n=e.yAxisId,r=MS(),i=DS(),o=iF(n);return o==null?null:U.createElement(Hu,d_({},o,{className:Ne("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Li(a,!0)}}))},gi=function(t){function e(){return wAe(this,e),SAe(this,e,arguments)}return IAe(e,t),EAe(e,[{key:"render",value:function(){return U.createElement(CAe,this.props)}}])}(U.Component);TF(gi,"displayName","YAxis");TF(gi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function GR(t){return OAe(t)||RAe(t)||NAe(t)||PAe()}function PAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NAe(t,e){if(t){if(typeof t=="string")return f_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f_(t,e)}}function RAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OAe(t){if(Array.isArray(t))return f_(t)}function f_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var h_=function(e,n,r,i,o){var s=ir(e,th),a=ir(e,hy),l=[].concat(GR(s),GR(a)),u=ir(e,my),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(b,x){if(x.props[c]===r&&di(x.props,"extendDomain")&&ue(x.props[f])){var E=x.props[f];return[Math.min(b[0],E),Math.max(b[1],E)]}return b},h)),u.length){var y="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(b,x){if(x.props[c]===r&&di(x.props,"extendDomain")&&ue(x.props[y])&&ue(x.props[v])){var E=x.props[y],w=x.props[v];return[Math.min(b[0],E,w),Math.max(b[1],E,w)]}return b},h)}return o&&o.length&&(h=o.reduce(function(b,x){return ue(x)?[Math.min(b[0],x),Math.max(b[1],x)]:b},h)),h},IF={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var y=new i(c,f||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],y]:l._events[v].push(y):(l._events[v]=y,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,y=f.length,v=new Array(y);h<y;h++)v[h]=f[h].fn;return v},a.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,c,f,h,y,v){var b=n?n+u:u;if(!this._events[b])return!1;var x=this._events[b],E=arguments.length,w,_;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),E){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,f),!0;case 4:return x.fn.call(x.context,c,f,h),!0;case 5:return x.fn.call(x.context,c,f,h,y),!0;case 6:return x.fn.call(x.context,c,f,h,y,v),!0}for(_=1,w=new Array(E-1);_<E;_++)w[_-1]=arguments[_];x.fn.apply(x.context,w)}else{var C=x.length,S;for(_=0;_<C;_++)switch(x[_].once&&this.removeListener(u,x[_].fn,void 0,!0),E){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,c);break;case 3:x[_].fn.call(x[_].context,c,f);break;case 4:x[_].fn.call(x[_].context,c,f,h);break;default:if(!w)for(S=1,w=new Array(E-1);S<E;S++)w[S-1]=arguments[S];x[_].fn.apply(x[_].context,w)}}return!0},a.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},a.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},a.prototype.removeListener=function(u,c,f,h){var y=n?n+u:u;if(!this._events[y])return this;if(!c)return s(this,y),this;var v=this._events[y];if(v.fn)v.fn===c&&(!h||v.once)&&(!f||v.context===f)&&s(this,y);else{for(var b=0,x=[],E=v.length;b<E;b++)(v[b].fn!==c||h&&!v[b].once||f&&v[b].context!==f)&&x.push(v[b]);x.length?this._events[y]=x.length===1?x[0]:x:s(this,y)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(IF);var MAe=IF.exports;const DAe=Ze(MAe);var Wv=new DAe,Kv="recharts.syncMouseEvents";function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function jAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kF(r.key),r)}}function LAe(t,e,n){return e&&$Ae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yv(t,e,n){return e=kF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kF(t){var e=FAe(t,"string");return Ef(e)=="symbol"?e:e+""}function FAe(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VAe=function(){function t(){jAe(this,t),Yv(this,"activeIndex",0),Yv(this,"coordinateList",[]),Yv(this,"layout","horizontal")}return LAe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,y=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=s+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function UAe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&ue(r)&&ue(i))return!0}return!1}function BAe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function CF(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Xe(e,n,r,i),a=Xe(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function zAe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=Xe(a,l,u,f),y=Xe(a,l,c,f);r=h.x,i=h.y,o=y.x,s=y.y}else return CF(e);return[{x:r,y:i},{x:o,y:s}]}function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function qR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(n),!0).forEach(function(r){GAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GAe(t,e,n){return e=qAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qAe(t){var e=HAe(t,"string");return Sf(e)=="symbol"?e:e+""}function HAe(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WAe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,y=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!y||!o||!s||h!=="ScatterChart"&&i!=="axis")return null;var v,b=Qs;if(h==="ScatterChart")v=s,b=Pwe;else if(h==="BarChart")v=BAe(f,s,l,c),b=CS;else if(f==="radial"){var x=CF(s),E=x.cx,w=x.cy,_=x.radius,C=x.startAngle,S=x.endAngle;v={cx:E,cy:w,startAngle:C,endAngle:S,innerRadius:_,outerRadius:_},b=v3}else v={points:zAe(f,s,l)},b=Qs;var k=sp(sp(sp(sp({stroke:"#ccc",pointerEvents:"none"},l),v),ye(y,!1)),{},{payload:a,payloadIndex:u,className:Ne("recharts-tooltip-cursor",y.className)});return U.isValidElement(y)?U.cloneElement(y,k):U.createElement(b,k)}var KAe=["item"],YAe=["children","className","width","height","style","compact","title","desc"];function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function ul(){return ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ul.apply(this,arguments)}function HR(t,e){return QAe(t)||XAe(t,e)||NF(t,e)||JAe()}function JAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return a}}function QAe(t){if(Array.isArray(t))return t}function WR(t,e){if(t==null)return{};var n=ZAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tIe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RF(r.key),r)}}function nIe(t,e,n){return e&&tIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rIe(t,e,n){return e=Vg(e),iIe(t,PF()?Reflect.construct(e,n||[],Vg(t).constructor):e.apply(t,n))}function iIe(t,e){if(e&&(hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oIe(t)}function oIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PF=function(){return!!t})()}function Vg(t){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vg(t)}function sIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p_(t,e)}function p_(t,e){return p_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},p_(t,e)}function pu(t){return uIe(t)||lIe(t)||NF(t)||aIe()}function aIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NF(t,e){if(t){if(typeof t=="string")return m_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m_(t,e)}}function lIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uIe(t){if(Array.isArray(t))return m_(t)}function m_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function te(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KR(Object(n),!0).forEach(function(r){Ee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ee(t,e,n){return e=RF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RF(t){var e=cIe(t,"string");return hu(e)=="symbol"?e:e+""}function cIe(t,e){if(hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dIe={xAxis:["bottom","top"],yAxis:["left","right"]},fIe={width:"100%",height:"100%"},OF={x:0,y:0};function ap(t){return t}var hIe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},pIe=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return te(te(te({},i),Xe(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,u=i.angle;return te(te(te({},i),Xe(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return OF},gy=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,l){var u=l.props.data;return u&&u.length?[].concat(pu(a),pu(u)):a},[]);return s.length>0?s:e&&e.length&&ue(i)&&ue(o)?e.slice(i,o+1):[]};function MF(t){return t==="number"?[0,"auto"]:void 0}var g_=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=gy(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var y=f===void 0?a:f;h=Dm(y,s.dataKey,i)}else h=f&&f[r]||a[r];return h?[].concat(pu(l),[c3(u,h)]):l},[])},YR=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=hIe(o,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=Zye(s,a,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=g_(e,n,c,f),y=pIe(r,a,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:y}}return null},mIe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,y=i3(c,o);return r.reduce(function(v,b){var x,E=b.type.defaultProps!==void 0?te(te({},b.type.defaultProps),b.props):b.props,w=E.type,_=E.dataKey,C=E.allowDataOverflow,S=E.allowDuplicatedCategory,k=E.scale,T=E.ticks,I=E.includeHidden,P=E[s];if(v[P])return v;var M=gy(e.data,{graphicalItems:i.filter(function(q){var X,le=s in q.props?q.props[s]:(X=q.type.defaultProps)===null||X===void 0?void 0:X[s];return le===P}),dataStartIndex:l,dataEndIndex:u}),j=M.length,D,N,V;UAe(E.domain,C,w)&&(D=kw(E.domain,null,C),y&&(w==="number"||k!=="auto")&&(V=nd(M,_,"category")));var z=MF(w);if(!D||D.length===0){var F,H=(F=E.domain)!==null&&F!==void 0?F:z;if(_){if(D=nd(M,_,w),w==="category"&&y){var R=zre(D);S&&R?(N=D,D=Ag(0,j)):S||(D=m2(H,D,b).reduce(function(q,X){return q.indexOf(X)>=0?q:[].concat(pu(q),[X])},[]))}else if(w==="category")S?D=D.filter(function(q){return q!==""&&!ke(q)}):D=m2(H,D,b).reduce(function(q,X){return q.indexOf(X)>=0||X===""||ke(X)?q:[].concat(pu(q),[X])},[]);else if(w==="number"){var $=ive(M,i.filter(function(q){var X,le,W=s in q.props?q.props[s]:(X=q.type.defaultProps)===null||X===void 0?void 0:X[s],Z="hide"in q.props?q.props.hide:(le=q.type.defaultProps)===null||le===void 0?void 0:le.hide;return W===P&&(I||!Z)}),_,o,c);$&&(D=$)}y&&(w==="number"||k!=="auto")&&(V=nd(M,_,"category"))}else y?D=Ag(0,j):a&&a[P]&&a[P].hasStack&&w==="number"?D=h==="expand"?[0,1]:u3(a[P].stackGroups,l,u):D=r3(M,i.filter(function(q){var X=s in q.props?q.props[s]:q.type.defaultProps[s],le="hide"in q.props?q.props.hide:q.type.defaultProps.hide;return X===P&&(I||!le)}),w,c,!0);if(w==="number")D=h_(f,D,P,o,T),H&&(D=kw(H,D,C));else if(w==="category"&&H){var G=H,K=D.every(function(q){return G.indexOf(q)>=0});K&&(D=G)}}return te(te({},v),{},Ee({},P,te(te({},E),{},{axisType:o,domain:D,categoricalDomain:V,duplicateDomain:N,originalDomain:(x=E.domain)!==null&&x!==void 0?x:z,isCategorical:y,layout:c})))},{})},gIe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=gy(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),y=h.length,v=i3(c,o),b=-1;return r.reduce(function(x,E){var w=E.type.defaultProps!==void 0?te(te({},E.type.defaultProps),E.props):E.props,_=w[s],C=MF("number");if(!x[_]){b++;var S;return v?S=Ag(0,y):a&&a[_]&&a[_].hasStack?(S=u3(a[_].stackGroups,l,u),S=h_(f,S,_,o)):(S=kw(C,r3(h,r.filter(function(k){var T,I,P=s in k.props?k.props[s]:(T=k.type.defaultProps)===null||T===void 0?void 0:T[s],M="hide"in k.props?k.props.hide:(I=k.type.defaultProps)===null||I===void 0?void 0:I.hide;return P===_&&!M}),"number",c),i.defaultProps.allowDataOverflow),S=h_(f,S,_,o)),te(te({},x),{},Ee({},_,te(te({axisType:o},i.defaultProps),{},{hide:!0,orientation:rr(dIe,"".concat(o,".").concat(b%2),null),domain:S,originalDomain:C,isCategorical:v,layout:c})))}return x},{})},yIe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=ir(c,o),y={};return h&&h.length?y=mIe(e,{axes:h,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u}):s&&s.length&&(y=gIe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:l,dataEndIndex:u})),y},vIe=function(e){var n=Mo(e),r=Li(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:nS(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:dg(n,r)}},JR=function(e){var n=e.children,r=e.defaultShowTooltip,i=Xn(n,nu),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},xIe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Bi(n&&n.type);return r&&r.indexOf("Bar")>=0})},XR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},bIe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,u=r.width,c=r.height,f=r.children,h=r.margin||{},y=Xn(f,nu),v=Xn(f,ui),b=Object.keys(l).reduce(function(S,k){var T=l[k],I=T.orientation;return!T.mirror&&!T.hide?te(te({},S),{},Ee({},I,S[I]+T.width)):S},{left:h.left||0,right:h.right||0}),x=Object.keys(s).reduce(function(S,k){var T=s[k],I=T.orientation;return!T.mirror&&!T.hide?te(te({},S),{},Ee({},I,rr(S,"".concat(I))+T.height)):S},{top:h.top||0,bottom:h.bottom||0}),E=te(te({},x),b),w=E.bottom;y&&(E.bottom+=y.props.height||nu.defaultProps.height),v&&n&&(E=nve(E,i,r,n));var _=u-E.left-E.right,C=c-E.top-E.bottom;return te(te({brushBottom:w},E),{},{width:Math.max(_,0),height:Math.max(C,0)})},wIe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},rh=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(E,w){var _=w.graphicalItems,C=w.stackGroups,S=w.offset,k=w.updateId,T=w.dataStartIndex,I=w.dataEndIndex,P=E.barSize,M=E.layout,j=E.barGap,D=E.barCategoryGap,N=E.maxBarSize,V=XR(M),z=V.numericAxisName,F=V.cateAxisName,H=xIe(_),R=[];return _.forEach(function($,G){var K=gy(E.data,{graphicalItems:[$],dataStartIndex:T,dataEndIndex:I}),q=$.type.defaultProps!==void 0?te(te({},$.type.defaultProps),$.props):$.props,X=q.dataKey,le=q.maxBarSize,W=q["".concat(z,"Id")],Z=q["".concat(F,"Id")],J={},ve=l.reduce(function(_n,En){var bi=w["".concat(En.axisType,"Map")],yo=q["".concat(En.axisType,"Id")];bi&&bi[yo]||En.axisType==="zAxis"||ya();var ee=bi[yo];return te(te({},_n),{},Ee(Ee({},En.axisType,ee),"".concat(En.axisType,"Ticks"),Li(ee)))},J),se=ve[F],be=ve["".concat(F,"Ticks")],de=C&&C[W]&&C[W].hasStack&&hve($,C[W].stackGroups),ne=Bi($.type).indexOf("Bar")>=0,De=dg(se,be),Ce=[],nt=H&&eve({barSize:P,stackGroups:C,totalSize:wIe(ve,F)});if(ne){var rt,it,lr=ke(le)?N:le,Pr=(rt=(it=dg(se,be,!0))!==null&&it!==void 0?it:lr)!==null&&rt!==void 0?rt:0;Ce=tve({barGap:j,barCategoryGap:D,bandSize:Pr!==De?Pr:De,sizeList:nt[Z],maxBarSize:lr}),Pr!==De&&(Ce=Ce.map(function(_n){return te(te({},_n),{},{position:te(te({},_n.position),{},{offset:_n.position.offset-Pr/2})})}))}var Zr=$&&$.type&&$.type.getComposedData;Zr&&R.push({props:te(te({},Zr(te(te({},ve),{},{displayedData:K,props:E,dataKey:X,item:$,bandSize:De,barPosition:Ce,offset:S,stackedData:de,layout:M,dataStartIndex:T,dataEndIndex:I}))),{},Ee(Ee(Ee({key:$.key||"item-".concat(G)},z,ve[z]),F,ve[F]),"animationId",k)),childIndex:tie($,E.children),item:$})}),R},y=function(E,w){var _=E.props,C=E.dataStartIndex,S=E.dataEndIndex,k=E.updateId;if(!uP({props:_}))return null;var T=_.children,I=_.layout,P=_.stackOffset,M=_.data,j=_.reverseStackOrder,D=XR(I),N=D.numericAxisName,V=D.cateAxisName,z=ir(T,r),F=dve(M,z,"".concat(N,"Id"),"".concat(V,"Id"),P,j),H=l.reduce(function(q,X){var le="".concat(X.axisType,"Map");return te(te({},q),{},Ee({},le,yIe(_,te(te({},X),{},{graphicalItems:z,stackGroups:X.axisType===N&&F,dataStartIndex:C,dataEndIndex:S}))))},{}),R=bIe(te(te({},H),{},{props:_,graphicalItems:z}),w==null?void 0:w.legendBBox);Object.keys(H).forEach(function(q){H[q]=c(_,H[q],R,q.replace("Map",""),n)});var $=H["".concat(V,"Map")],G=vIe($),K=h(_,te(te({},H),{},{dataStartIndex:C,dataEndIndex:S,updateId:k,graphicalItems:z,stackGroups:F,offset:R}));return te(te({formattedGraphicalItems:K,graphicalItems:z,offset:R,stackGroups:F},G),H)},v=function(x){function E(w){var _,C,S;return eIe(this,E),S=rIe(this,E,[w]),Ee(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ee(S,"accessibilityManager",new VAe),Ee(S,"handleLegendBBoxUpdate",function(k){if(k){var T=S.state,I=T.dataStartIndex,P=T.dataEndIndex,M=T.updateId;S.setState(te({legendBBox:k},y({props:S.props,dataStartIndex:I,dataEndIndex:P,updateId:M},te(te({},S.state),{},{legendBBox:k}))))}}),Ee(S,"handleReceiveSyncEvent",function(k,T,I){if(S.props.syncId===k){if(I===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(T)}}),Ee(S,"handleBrushChange",function(k){var T=k.startIndex,I=k.endIndex;if(T!==S.state.dataStartIndex||I!==S.state.dataEndIndex){var P=S.state.updateId;S.setState(function(){return te({dataStartIndex:T,dataEndIndex:I},y({props:S.props,dataStartIndex:T,dataEndIndex:I,updateId:P},S.state))}),S.triggerSyncEvent({dataStartIndex:T,dataEndIndex:I})}}),Ee(S,"handleMouseEnter",function(k){var T=S.getMouseInfo(k);if(T){var I=te(te({},T),{},{isTooltipActive:!0});S.setState(I),S.triggerSyncEvent(I);var P=S.props.onMouseEnter;_e(P)&&P(I,k)}}),Ee(S,"triggeredAfterMouseMove",function(k){var T=S.getMouseInfo(k),I=T?te(te({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(I),S.triggerSyncEvent(I);var P=S.props.onMouseMove;_e(P)&&P(I,k)}),Ee(S,"handleItemMouseEnter",function(k){S.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Ee(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Ee(S,"handleMouseMove",function(k){k.persist(),S.throttleTriggeredAfterMouseMove(k)}),Ee(S,"handleMouseLeave",function(k){S.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};S.setState(T),S.triggerSyncEvent(T);var I=S.props.onMouseLeave;_e(I)&&I(T,k)}),Ee(S,"handleOuterEvent",function(k){var T=eie(k),I=rr(S.props,"".concat(T));if(T&&_e(I)){var P,M;/.*touch.*/i.test(T)?M=S.getMouseInfo(k.changedTouches[0]):M=S.getMouseInfo(k),I((P=M)!==null&&P!==void 0?P:{},k)}}),Ee(S,"handleClick",function(k){var T=S.getMouseInfo(k);if(T){var I=te(te({},T),{},{isTooltipActive:!0});S.setState(I),S.triggerSyncEvent(I);var P=S.props.onClick;_e(P)&&P(I,k)}}),Ee(S,"handleMouseDown",function(k){var T=S.props.onMouseDown;if(_e(T)){var I=S.getMouseInfo(k);T(I,k)}}),Ee(S,"handleMouseUp",function(k){var T=S.props.onMouseUp;if(_e(T)){var I=S.getMouseInfo(k);T(I,k)}}),Ee(S,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Ee(S,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseDown(k.changedTouches[0])}),Ee(S,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseUp(k.changedTouches[0])}),Ee(S,"handleDoubleClick",function(k){var T=S.props.onDoubleClick;if(_e(T)){var I=S.getMouseInfo(k);T(I,k)}}),Ee(S,"handleContextMenu",function(k){var T=S.props.onContextMenu;if(_e(T)){var I=S.getMouseInfo(k);T(I,k)}}),Ee(S,"triggerSyncEvent",function(k){S.props.syncId!==void 0&&Wv.emit(Kv,S.props.syncId,k,S.eventEmitterSymbol)}),Ee(S,"applySyncEvent",function(k){var T=S.props,I=T.layout,P=T.syncMethod,M=S.state.updateId,j=k.dataStartIndex,D=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)S.setState(te({dataStartIndex:j,dataEndIndex:D},y({props:S.props,dataStartIndex:j,dataEndIndex:D,updateId:M},S.state)));else if(k.activeTooltipIndex!==void 0){var N=k.chartX,V=k.chartY,z=k.activeTooltipIndex,F=S.state,H=F.offset,R=F.tooltipTicks;if(!H)return;if(typeof P=="function")z=P(R,k);else if(P==="value"){z=-1;for(var $=0;$<R.length;$++)if(R[$].value===k.activeLabel){z=$;break}}var G=te(te({},H),{},{x:H.left,y:H.top}),K=Math.min(N,G.x+G.width),q=Math.min(V,G.y+G.height),X=R[z]&&R[z].value,le=g_(S.state,S.props.data,z),W=R[z]?{x:I==="horizontal"?R[z].coordinate:K,y:I==="horizontal"?q:R[z].coordinate}:OF;S.setState(te(te({},k),{},{activeLabel:X,activeCoordinate:W,activePayload:le,activeTooltipIndex:z}))}else S.setState(k)}),Ee(S,"renderCursor",function(k){var T,I=S.state,P=I.isTooltipActive,M=I.activeCoordinate,j=I.activePayload,D=I.offset,N=I.activeTooltipIndex,V=I.tooltipAxisBandSize,z=S.getTooltipEventType(),F=(T=k.props.active)!==null&&T!==void 0?T:P,H=S.props.layout,R=k.key||"_recharts-cursor";return B.createElement(WAe,{key:R,activeCoordinate:M,activePayload:j,activeTooltipIndex:N,chartName:n,element:k,isActive:F,layout:H,offset:D,tooltipAxisBandSize:V,tooltipEventType:z})}),Ee(S,"renderPolarAxis",function(k,T,I){var P=rr(k,"type.axisType"),M=rr(S.state,"".concat(P,"Map")),j=k.type.defaultProps,D=j!==void 0?te(te({},j),k.props):k.props,N=M&&M[D["".concat(P,"Id")]];return U.cloneElement(k,te(te({},N),{},{className:Ne(P,N.className),key:k.key||"".concat(T,"-").concat(I),ticks:Li(N,!0)}))}),Ee(S,"renderPolarGrid",function(k){var T=k.props,I=T.radialLines,P=T.polarAngles,M=T.polarRadius,j=S.state,D=j.radiusAxisMap,N=j.angleAxisMap,V=Mo(D),z=Mo(N),F=z.cx,H=z.cy,R=z.innerRadius,$=z.outerRadius;return U.cloneElement(k,{polarAngles:Array.isArray(P)?P:Li(z,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(M)?M:Li(V,!0).map(function(G){return G.coordinate}),cx:F,cy:H,innerRadius:R,outerRadius:$,key:k.key||"polar-grid",radialLines:I})}),Ee(S,"renderLegend",function(){var k=S.state.formattedGraphicalItems,T=S.props,I=T.children,P=T.width,M=T.height,j=S.props.margin||{},D=P-(j.left||0)-(j.right||0),N=t3({children:I,formattedGraphicalItems:k,legendWidth:D,legendContent:u});if(!N)return null;var V=N.item,z=WR(N,KAe);return U.cloneElement(V,te(te({},z),{},{chartWidth:P,chartHeight:M,margin:j,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Ee(S,"renderTooltip",function(){var k,T=S.props,I=T.children,P=T.accessibilityLayer,M=Xn(I,rn);if(!M)return null;var j=S.state,D=j.isTooltipActive,N=j.activeCoordinate,V=j.activePayload,z=j.activeLabel,F=j.offset,H=(k=M.props.active)!==null&&k!==void 0?k:D;return U.cloneElement(M,{viewBox:te(te({},F),{},{x:F.left,y:F.top}),active:H,label:z,payload:H?V:[],coordinate:N,accessibilityLayer:P})}),Ee(S,"renderBrush",function(k){var T=S.props,I=T.margin,P=T.data,M=S.state,j=M.offset,D=M.dataStartIndex,N=M.dataEndIndex,V=M.updateId;return U.cloneElement(k,{key:k.key||"_recharts-brush",onChange:np(S.handleBrushChange,k.props.onChange),data:P,x:ue(k.props.x)?k.props.x:j.left,y:ue(k.props.y)?k.props.y:j.top+j.height+j.brushBottom-(I.bottom||0),width:ue(k.props.width)?k.props.width:j.width,startIndex:D,endIndex:N,updateId:"brush-".concat(V)})}),Ee(S,"renderReferenceElement",function(k,T,I){if(!k)return null;var P=S,M=P.clipPathId,j=S.state,D=j.xAxisMap,N=j.yAxisMap,V=j.offset,z=k.type.defaultProps||{},F=k.props,H=F.xAxisId,R=H===void 0?z.xAxisId:H,$=F.yAxisId,G=$===void 0?z.yAxisId:$;return U.cloneElement(k,{key:k.key||"".concat(T,"-").concat(I),xAxis:D[R],yAxis:N[G],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:M})}),Ee(S,"renderActivePoints",function(k){var T=k.item,I=k.activePoint,P=k.basePoint,M=k.childIndex,j=k.isRange,D=[],N=T.props.key,V=T.item.type.defaultProps!==void 0?te(te({},T.item.type.defaultProps),T.item.props):T.item.props,z=V.activeDot,F=V.dataKey,H=te(te({index:M,dataKey:F,cx:I.x,cy:I.y,r:4,fill:kS(T.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},ye(z,!1)),jm(z));return D.push(E.renderActiveDot(z,H,"".concat(N,"-activePoint-").concat(M))),P?D.push(E.renderActiveDot(z,te(te({},H),{},{cx:P.x,cy:P.y}),"".concat(N,"-basePoint-").concat(M))):j&&D.push(null),D}),Ee(S,"renderGraphicChild",function(k,T,I){var P=S.filterFormatItem(k,T,I);if(!P)return null;var M=S.getTooltipEventType(),j=S.state,D=j.isTooltipActive,N=j.tooltipAxis,V=j.activeTooltipIndex,z=j.activeLabel,F=S.props.children,H=Xn(F,rn),R=P.props,$=R.points,G=R.isRange,K=R.baseLine,q=P.item.type.defaultProps!==void 0?te(te({},P.item.type.defaultProps),P.item.props):P.item.props,X=q.activeDot,le=q.hide,W=q.activeBar,Z=q.activeShape,J=!!(!le&&D&&H&&(X||W||Z)),ve={};M!=="axis"&&H&&H.props.trigger==="click"?ve={onClick:np(S.handleItemMouseEnter,k.props.onClick)}:M!=="axis"&&(ve={onMouseLeave:np(S.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:np(S.handleItemMouseEnter,k.props.onMouseEnter)});var se=U.cloneElement(k,te(te({},P.props),ve));function be(En){return typeof N.dataKey=="function"?N.dataKey(En.payload):null}if(J)if(V>=0){var de,ne;if(N.dataKey&&!N.allowDuplicatedCategory){var De=typeof N.dataKey=="function"?be:"payload.".concat(N.dataKey.toString());de=Dm($,De,z),ne=G&&K&&Dm(K,De,z)}else de=$==null?void 0:$[V],ne=G&&K&&K[V];if(Z||W){var Ce=k.props.activeIndex!==void 0?k.props.activeIndex:V;return[U.cloneElement(k,te(te(te({},P.props),ve),{},{activeIndex:Ce})),null,null]}if(!ke(de))return[se].concat(pu(S.renderActivePoints({item:P,activePoint:de,basePoint:ne,childIndex:V,isRange:G})))}else{var nt,rt=(nt=S.getItemByXY(S.state.activeCoordinate))!==null&&nt!==void 0?nt:{graphicalItem:se},it=rt.graphicalItem,lr=it.item,Pr=lr===void 0?k:lr,Zr=it.childIndex,_n=te(te(te({},P.props),ve),{},{activeIndex:Zr});return[U.cloneElement(Pr,_n),null,null]}return G?[se,null,null]:[se,null]}),Ee(S,"renderCustomized",function(k,T,I){return U.cloneElement(k,te(te({key:"recharts-customized-".concat(I)},S.props),S.state))}),Ee(S,"renderMap",{CartesianGrid:{handler:ap,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:ap},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:ap},YAxis:{handler:ap},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:Aa("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=t5(S.triggeredAfterMouseMove,(C=w.throttleDelay)!==null&&C!==void 0?C:1e3/60),S.state={},S}return sIe(E,x),nIe(E,[{key:"componentDidMount",value:function(){var _,C;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,C=_.children,S=_.data,k=_.height,T=_.layout,I=Xn(C,rn);if(I){var P=I.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,j=g_(this.state,S,P,M),D=this.state.tooltipTicks[P].coordinate,N=(this.state.offset.top+k)/2,V=T==="horizontal",z=V?{x:D,y:N}:{y:D,x:N},F=this.state.formattedGraphicalItems.find(function(R){var $=R.item;return $.type.name==="Scatter"});F&&(z=te(te({},z),F.props.points[P].tooltipPosition),j=F.props.points[P].tooltipPayload);var H={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:M,activePayload:j,activeCoordinate:z};this.setState(H),this.renderCursor(I),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,C){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==C.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,k;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(_){zb([Xn(_.children,rn)],[Xn(this.props.children,rn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Xn(this.props.children,rn);if(_&&typeof _.props.shared=="boolean"){var C=_.props.shared?"axis":"item";return a.indexOf(C)>=0?C:o}return o}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var C=this.container,S=C.getBoundingClientRect(),k=Ipe(S),T={chartX:Math.round(_.pageX-k.left),chartY:Math.round(_.pageY-k.top)},I=S.width/C.offsetWidth||1,P=this.inRange(T.chartX,T.chartY,I);if(!P)return null;var M=this.state,j=M.xAxisMap,D=M.yAxisMap,N=this.getTooltipEventType(),V=YR(this.state,this.props.data,this.props.layout,P);if(N!=="axis"&&j&&D){var z=Mo(j).scale,F=Mo(D).scale,H=z&&z.invert?z.invert(T.chartX):null,R=F&&F.invert?F.invert(T.chartY):null;return te(te({},T),{},{xValue:H,yValue:R},V)}return V?te(te({},T),V):null}},{key:"inRange",value:function(_,C){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,T=_/S,I=C/S;if(k==="horizontal"||k==="vertical"){var P=this.state.offset,M=T>=P.left&&T<=P.left+P.width&&I>=P.top&&I<=P.top+P.height;return M?{x:T,y:I}:null}var j=this.state,D=j.angleAxisMap,N=j.radiusAxisMap;if(D&&N){var V=Mo(D);return v2({x:T,y:I},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,C=this.getTooltipEventType(),S=Xn(_,rn),k={};S&&C==="axis"&&(S.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=jm(this.props,this.handleOuterEvent);return te(te({},T),k)}},{key:"addListener",value:function(){Wv.on(Kv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Wv.removeListener(Kv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,C,S){for(var k=this.state.formattedGraphicalItems,T=0,I=k.length;T<I;T++){var P=k[T];if(P.item===_||P.props.key===_.key||C===Bi(P.item.type)&&S===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,C=this.state.offset,S=C.left,k=C.top,T=C.height,I=C.width;return B.createElement("defs",null,B.createElement("clipPath",{id:_},B.createElement("rect",{x:S,y:k,height:T,width:I})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(C,S){var k=HR(S,2),T=k[0],I=k[1];return te(te({},C),{},Ee({},T,I.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(C,S){var k=HR(S,2),T=k[0],I=k[1];return te(te({},C),{},Ee({},T,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var C;return(C=this.state.xAxisMap)===null||C===void 0||(C=C[_])===null||C===void 0?void 0:C.scale}},{key:"getYScaleByAxisId",value:function(_){var C;return(C=this.state.yAxisMap)===null||C===void 0||(C=C[_])===null||C===void 0?void 0:C.scale}},{key:"getItemByXY",value:function(_){var C=this.state,S=C.formattedGraphicalItems,k=C.activeItem;if(S&&S.length)for(var T=0,I=S.length;T<I;T++){var P=S[T],M=P.props,j=P.item,D=j.type.defaultProps!==void 0?te(te({},j.type.defaultProps),j.props):j.props,N=Bi(j.type);if(N==="Bar"){var V=(M.data||[]).find(function(R){return dwe(_,R)});if(V)return{graphicalItem:P,payload:V}}else if(N==="RadialBar"){var z=(M.data||[]).find(function(R){return v2(_,R)});if(z)return{graphicalItem:P,payload:z}}else if(uy(P,k)||cy(P,k)||vf(P,k)){var F=u1e({graphicalItem:P,activeTooltipItem:k,itemData:D.data}),H=D.activeIndex===void 0?F:D.activeIndex;return{graphicalItem:te(te({},P),{},{childIndex:H}),payload:vf(P,k)?D.data[F]:P.props.data[F]}}}return null}},{key:"render",value:function(){var _=this;if(!uP(this))return null;var C=this.props,S=C.children,k=C.className,T=C.width,I=C.height,P=C.style,M=C.compact,j=C.title,D=C.desc,N=WR(C,YAe),V=ye(N,!1);if(M)return B.createElement(AR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement(qb,ul({},V,{width:T,height:I,title:j,desc:D}),this.renderClipPath(),dP(S,this.renderMap)));if(this.props.accessibilityLayer){var z,F;V.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,V.role=(F=this.props.role)!==null&&F!==void 0?F:"application",V.onKeyDown=function(R){_.accessibilityManager.keyboardEvent(R)},V.onFocus=function(){_.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return B.createElement(AR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},B.createElement("div",ul({className:Ne("recharts-wrapper",k),style:te({position:"relative",cursor:"default",width:T,height:I},P)},H,{ref:function($){_.container=$}}),B.createElement(qb,ul({},V,{width:T,height:I,title:j,desc:D,style:fIe}),this.renderClipPath(),dP(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(U.Component);Ee(v,"displayName",n),Ee(v,"defaultProps",te({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ee(v,"getDerivedStateFromProps",function(x,E){var w=x.dataKey,_=x.data,C=x.children,S=x.width,k=x.height,T=x.layout,I=x.stackOffset,P=x.margin,M=E.dataStartIndex,j=E.dataEndIndex;if(E.updateId===void 0){var D=JR(x);return te(te(te({},D),{},{updateId:0},y(te(te({props:x},D),{},{updateId:0}),E)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:k,prevLayout:T,prevStackOffset:I,prevMargin:P,prevChildren:C})}if(w!==E.prevDataKey||_!==E.prevData||S!==E.prevWidth||k!==E.prevHeight||T!==E.prevLayout||I!==E.prevStackOffset||!_l(P,E.prevMargin)){var N=JR(x),V={chartX:E.chartX,chartY:E.chartY,isTooltipActive:E.isTooltipActive},z=te(te({},YR(E,_,T)),{},{updateId:E.updateId+1}),F=te(te(te({},N),V),z);return te(te(te({},F),y(te({props:x},F),E)),{},{prevDataKey:w,prevData:_,prevWidth:S,prevHeight:k,prevLayout:T,prevStackOffset:I,prevMargin:P,prevChildren:C})}if(!zb(C,E.prevChildren)){var H,R,$,G,K=Xn(C,nu),q=K&&(H=(R=K.props)===null||R===void 0?void 0:R.startIndex)!==null&&H!==void 0?H:M,X=K&&($=(G=K.props)===null||G===void 0?void 0:G.endIndex)!==null&&$!==void 0?$:j,le=q!==M||X!==j,W=!ke(_),Z=W&&!le?E.updateId:E.updateId+1;return te(te({updateId:Z},y(te(te({props:x},E),{},{updateId:Z,dataStartIndex:q,dataEndIndex:X}),E)),{},{prevChildren:C,dataStartIndex:q,dataEndIndex:X})}return null}),Ee(v,"renderActiveDot",function(x,E,w){var _;return U.isValidElement(x)?_=U.cloneElement(x,E):_e(x)?_=x(E):_=B.createElement(zu,E),B.createElement($e,{className:"recharts-active-dot",key:w},_)});var b=U.forwardRef(function(E,w){return B.createElement(v,ul({},E,{ref:w}))});return b.displayName=v.displayName,b},_Ie=rh({chartName:"LineChart",GraphicalChild:nh,axisComponents:[{axisType:"xAxis",AxisComp:mi},{axisType:"yAxis",AxisComp:gi}],formatAxisMap:PS}),FS=rh({chartName:"BarChart",GraphicalChild:pi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:mi},{axisType:"yAxis",AxisComp:gi}],formatAxisMap:PS}),DF=rh({chartName:"PieChart",GraphicalChild:xi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:qu},{axisType:"radiusAxis",AxisComp:Gu}],formatAxisMap:h3,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),EIe=rh({chartName:"RadarChart",GraphicalChild:eu,axisComponents:[{axisType:"angleAxis",AxisComp:qu},{axisType:"radiusAxis",AxisComp:Gu}],formatAxisMap:h3,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),SIe=rh({chartName:"AreaChart",GraphicalChild:xs,axisComponents:[{axisType:"xAxis",AxisComp:mi},{axisType:"yAxis",AxisComp:gi}],formatAxisMap:PS});const QR=[{id:"first_invest",name:"Investidor Iniciante",description:"Realizou o primeiro investimento.",icon:"",condition:t=>t.investments.length>0,getProgress:t=>t.investments.length>0?100:0},{id:"controlled",name:"No Controle",description:"Tem mais receitas que despesas no ms.",icon:"",condition:t=>{const e=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="expense").reduce((r,i)=>r+i.amount,0);return e>n&&e>0},getProgress:t=>{const e=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="expense").reduce((r,i)=>r+i.amount,0);return e===0?0:e>n?100:Math.min(99,e/n*100)}},{id:"saver",name:"Poupador",description:"Acumulou mais de R$ 5.000 em investimentos.",icon:"",condition:t=>t.investments.reduce((e,n)=>e+n.amount,0)>=5e3,getProgress:t=>Math.min(100,t.investments.reduce((e,n)=>e+n.amount,0)/5e3*100)},{id:"diversified",name:"Mente Diversificada",description:"Investiu em 3 ou mais categorias diferentes.",icon:"",condition:t=>new Set(t.investments.map(n=>n.type)).size>=3,getProgress:t=>{const e=new Set(t.investments.map(n=>n.type));return Math.min(100,e.size/3*100)}},{id:"debt_free",name:"Zero Pendncias",description:"No possui nenhuma conta pendente.",icon:"",condition:t=>{const e=t.transactions.some(r=>r.type==="expense"),n=t.transactions.filter(r=>r.type==="expense"&&r.status==="pending");return e&&n.length===0},getProgress:t=>{const e=t.transactions.filter(r=>r.type==="expense");if(e.length===0)return 0;const n=e.filter(r=>r.status==="paid").length;return Math.min(100,n/e.length*100)}},{id:"goal_hitter",name:"Na Mosca",description:"Atingiu 100% da meta de um investimento.",icon:"",condition:t=>t.investments.some(e=>e.targetAmount>0&&e.amount>=e.targetAmount),getProgress:t=>{const e=t.investments.map(n=>n.targetAmount>0?n.amount/n.targetAmount*100:0);return Math.min(100,Math.max(0,...e))}},{id:"club_10k",name:"Clube dos 10k",description:"Patrimnio total superou R$ 10.000.",icon:"",condition:t=>{const e=t.investments.reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0)-t.transactions.filter(r=>r.type==="expense"&&r.status==="paid").reduce((r,i)=>r+i.amount,0);return e+n>=1e4},getProgress:t=>{const e=t.investments.reduce((r,i)=>r+i.amount,0),n=t.transactions.filter(r=>r.type==="income").reduce((r,i)=>r+i.amount,0)-t.transactions.filter(r=>r.type==="expense"&&r.status==="paid").reduce((r,i)=>r+i.amount,0);return Math.min(100,(e+n)/1e4*100)}}],TIe=(t,e,n)=>{const r=n.toISOString().slice(0,7),i=t.find(o=>o.category===e&&o.month===r);return i||t.find(o=>o.category===e&&o.isRecurring)},ZR=({data:t,privacyMode:e,onUnlockBadge:n,onNavigate:r})=>{const[i,o]=U.useState(()=>{const R=new Date;R.setMonth(R.getMonth()-5);const $=String(R.getMonth()+1).padStart(2,"0");return`${R.getFullYear()}-${$}`}),[s,a]=U.useState("flow"),l=U.useMemo(()=>{const R=new Date().getHours();return R<12?"Bom dia":R<18?"Boa tarde":"Boa noite"},[]);U.useEffect(()=>{QR.forEach(R=>{!t.unlockedBadges.includes(R.id)&&R.condition(t)&&n(R.id)})},[t,n]);const u=U.useMemo(()=>{const R=[],$=new Date,G=$.getMonth(),K=$.getFullYear(),q=Array.from(new Set(t.budgets.map(X=>X.category)));return $.getDate()<=25&&q.forEach(X=>{const le=TIe(t.budgets,X,$);if(!le)return;const W=t.transactions.filter(Z=>Z.type==="expense"&&Z.category===X&&new Date(Z.date).getMonth()===G&&new Date(Z.date).getFullYear()===K).reduce((Z,J)=>Z+J.amount,0);W>=le.limit*.8&&W<le.limit?R.push({title:`Ateno: ${X}`,message:`Voc j usou ${(W/le.limit*100).toFixed(0)}% do oramento e ainda  dia ${$.getDate()}. Cuidado!`,type:"warning"}):W>=le.limit&&R.push({title:`Limite Excedido: ${X}`,message:"Voc estourou o teto definido para esta categoria.",type:"warning"})}),R},[t.budgets,t.transactions]),c=U.useMemo(()=>t.notes.sort((R,$)=>R.isPinned!==$.isPinned?R.isPinned?-1:1:new Date($.date).getTime()-new Date(R.date).getTime()).slice(0,3),[t.notes]),f=R=>e?"":`R$ ${R.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,h=t.transactions.filter(R=>R.type==="income").reduce((R,$)=>R+$.amount,0),y=t.transactions.filter(R=>R.type==="expense").reduce((R,$)=>R+$.amount,0),v=t.transactions.filter(R=>R.type==="expense"&&R.status==="pending").reduce((R,$)=>R+$.amount,0),b=t.transactions.filter(R=>R.status==="paid").reduce((R,$)=>R+($.type==="income"?$.amount:-$.amount),0),x=t.transactions.length===0?0:t.transactions.length<300?b:t.walletBalance!==void 0?t.walletBalance:b,E=t.transactions.filter(R=>R.status==="pending"&&R.type==="income").reduce((R,$)=>R+$.amount,0),w=y-v,_=t.investments.reduce((R,$)=>R+$.amount,0),C=U.useMemo(()=>t.transactions.filter($=>$.type==="expense"&&$.status==="pending").sort(($,G)=>new Date($.date).getTime()-new Date(G.date).getTime()).slice(0,3),[t.transactions]),S=U.useMemo(()=>[...t.investments].sort((R,$)=>$.amount-R.amount).slice(0,3),[t.investments]),k=U.useMemo(()=>{const R=y>0?y:h*.5||1e3;return x/R},[x,y,h]),{healthScore:T,scoreLabel:I,scoreColor:P,factors:M}=U.useMemo(()=>{let R=0;const $=[],G=se=>{const be=new Date(se);return(new Date().getTime()-be.getTime())/(1e3*60*60*24*365.25)>=5},K=t.debts.filter(se=>(se.status==="open"||se.status==="negotiating")&&!G(se.dueDate)),q=K.length>0;q?(R+=200,$.push({text:`Negativado: ${K.length} dvidas`,type:"bad"})):(R+=350,$.push({text:"Nome Limpo",type:"good"}));const X=y>0?y:1e3,le=_/X;le>=6?(R+=200,$.push({text:"Reserva Robusta",type:"good"})):le>=1?(R+=100,$.push({text:"Reserva Iniciada",type:"neutral"})):$.push({text:"Sem Reserva",type:"bad"});const W=h-y,Z=h>0?W/h:0;Z>=.2?(R+=150,$.push({text:"Poupador (20%+)",type:"good"})):Z<0&&(R-=50,$.push({text:"Dficit Mensal",type:"bad"})),x>=v?R+=150:(R-=100,$.push({text:"Risco de Calote",type:"bad"})),q&&(R=Math.min(R,550)),R=Math.max(0,Math.min(1e3,Math.round(R)));let J="",ve="";return R>=850?(J="Elite",ve="text-emerald-500"):R>=700?(J="Excelente",ve="text-emerald-600"):R>=500?(J="Regular",ve="text-amber-500"):R>=300?(J="Ruim",ve="text-orange-500"):(J="Crtico",ve="text-rose-600"),{healthScore:R,scoreLabel:J,scoreColor:ve,factors:$}},[t.debts,h,y,v,x,_]),j=U.useMemo(()=>{const R=new Map,[$,G]=i.split("-").map(Number),K=new Date($,G-1,1),q=new Date;for(;K<=q||K.getMonth()===q.getMonth()&&K.getFullYear()===q.getFullYear();){const X=K.getFullYear(),le=String(K.getMonth()+1).padStart(2,"0");R.set(`${X}-${le}`,0),K.setMonth(K.getMonth()+1)}return t.transactions.forEach(X=>{if(X.type==="expense"){const le=X.date.slice(0,7);R.has(le)&&R.set(le,(R.get(le)||0)+X.amount)}}),Array.from(R.entries()).map(([X,le])=>{const[W,Z]=X.split("-").map(Number);return{name:new Date(W,Z-1,1).toLocaleDateString("pt-BR",{month:"short",year:"2-digit"}),amount:le,fullDate:X}})},[t.transactions,i]),D=U.useMemo(()=>{const R=new Map;for(let $=5;$>=0;$--){const G=new Date;G.setMonth(G.getMonth()-$),R.set(G.toISOString().slice(0,7),{income:0,expense:0})}return t.transactions.forEach($=>{const G=$.date.slice(0,7);if(R.has(G)){const K=R.get(G);$.type==="income"?K.income+=$.amount:K.expense+=$.amount}}),Array.from(R.entries()).map(([$,G])=>{const[K,q]=$.split("-");return{name:new Date(parseInt(K),parseInt(q)-1,2).toLocaleDateString("pt-BR",{month:"short"}),Receitas:G.income,Despesas:G.expense}})},[t.transactions]),N=[{name:"Saldo Livre",value:Math.max(0,x),color:"#10b981"},{name:"Contas Pendentes",value:v,color:"#ef4444"},{name:"Investido",value:_,color:"#3b82f6"}].filter(R=>R.value>0),V=()=>{const R=`data:text/csv;charset=utf-8,Data,Descricao,Categoria,Tipo,Valor,Status
`+t.transactions.map(K=>`${K.date},${K.description},${K.category},${K.type},${K.amount},${K.status}`).join(`
`),$=encodeURI(R),G=document.createElement("a");G.setAttribute("href",$),G.setAttribute("download","finansmart_relatorio.csv"),document.body.appendChild(G),G.click(),document.body.removeChild(G)},z=d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 h-full",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[d.jsx(Sd,{className:"w-5 h-5 text-indigo-500"}),d.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:"Fluxo de Caixa (6 Meses)"})]}),d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(Zo,{width:"100%",height:"100%",children:d.jsxs(FS,{data:D,margin:{top:10,right:10,bottom:20,left:0},children:[d.jsx(lu,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0",opacity:.5}),d.jsx(mi,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},dy:10}),d.jsx(gi,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},tickFormatter:R=>`R$${R>=1e3?(R/1e3).toFixed(0)+"k":R}`,width:60}),d.jsx(rn,{cursor:{fill:"transparent"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:R=>[e?"":`R$ ${R.toLocaleString("pt-BR")}`,""]}),d.jsx(ui,{iconType:"circle"}),d.jsx(pi,{dataKey:"Receitas",fill:"#10b981",radius:[4,4,0,0]}),d.jsx(pi,{dataKey:"Despesas",fill:"#f43f5e",radius:[4,4,0,0]})]})})})]}),F=d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 h-full",children:[d.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[d.jsx(_p,{className:"w-5 h-5 text-indigo-500"}),"Distribuio de Patrimnio"]}),d.jsx("div",{className:"h-[300px]",children:d.jsx(Zo,{width:"100%",height:"100%",children:d.jsxs(DF,{children:[d.jsx(xi,{data:N,cx:"50%",cy:"50%",innerRadius:80,outerRadius:110,paddingAngle:5,dataKey:"value",children:N.map((R,$)=>d.jsx(Ia,{fill:R.color},`cell-${$}`))}),d.jsx(rn,{formatter:R=>e?"":`R$ ${R.toLocaleString("pt-BR")}`}),d.jsx(ui,{verticalAlign:"bottom",height:36})]})})})]}),H=d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-4 gap-4",children:[d.jsxs("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(dm,{className:"w-5 h-5 text-rose-500"}),"Tendncia de Despesas"]}),d.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 dark:bg-slate-700/50 p-2 rounded-lg border border-slate-100 dark:border-slate-700",children:[d.jsx(Ki,{className:"w-4 h-4 text-slate-400"}),d.jsx("span",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 uppercase",children:"Incio:"}),d.jsx("input",{type:"month",value:i,onChange:R=>o(R.target.value),className:"bg-transparent text-sm text-slate-700 dark:text-slate-200 focus:outline-none font-medium"})]})]}),d.jsx("div",{className:"h-[200px] w-full",children:d.jsx(Zo,{width:"100%",height:"100%",children:d.jsxs(_Ie,{data:j,margin:{top:10,right:10,bottom:25,left:10},children:[d.jsx(lu,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0",opacity:.5}),d.jsx(mi,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},dy:10,padding:{left:10,right:10}}),d.jsx(gi,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},tickFormatter:R=>`R$${R>=1e3?(R/1e3).toFixed(0)+"k":R}`,width:60}),d.jsx(rn,{cursor:{stroke:"#f43f5e",strokeWidth:1,strokeDasharray:"5 5"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:R=>[e?"":`R$ ${R.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,"Despesas"],labelStyle:{color:"#64748b",marginBottom:"0.25rem"}}),d.jsx(nh,{type:"monotone",dataKey:"amount",stroke:"#f43f5e",strokeWidth:3,dot:{r:4,fill:"#f43f5e",strokeWidth:2,stroke:"#fff"},activeDot:{r:6,stroke:"#f43f5e",strokeWidth:2,fill:"#fff"},isAnimationActive:!1})]})})})]});return d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[u.length>0&&d.jsx("div",{className:"space-y-2",children:u.map((R,$)=>d.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-4 rounded-xl flex items-start gap-3 animate-fade-in-down",children:[d.jsx("div",{className:"bg-amber-100 dark:bg-amber-800 p-2 rounded-full flex-shrink-0",children:d.jsx(f1,{className:"w-5 h-5 text-amber-600 dark:text-amber-300"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-amber-800 dark:text-amber-300 text-sm",children:R.title}),d.jsx("p",{className:"text-amber-700 dark:text-amber-400 text-xs mt-0.5",children:R.message})]})]},$))}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-2",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 w-full md:flex-1 min-w-0",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white whitespace-nowrap",children:[l,"!"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Viso geral das suas finanas."})]}),d.jsx("div",{className:"flex-1 flex items-center gap-2 px-4 py-2 sm:border-l sm:border-slate-300 dark:sm:border-slate-600 overflow-x-auto no-scrollbar mask-gradient w-full",children:QR.map(R=>{const $=t.unlockedBadges.includes(R.id),G=R.getProgress(t);return d.jsxs("div",{className:"group relative flex-shrink-0 cursor-help",children:[d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:`text-xl md:text-2xl transition-all duration-300 block ${$?"filter-none opacity-100 scale-100":"grayscale opacity-30 scale-90"}`,children:R.icon}),!$&&G>0&&d.jsx("div",{className:"absolute -bottom-1 left-0 w-full h-1 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-indigo-500 rounded-full",style:{width:`${G}%`}})})]}),d.jsxs("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-3 w-max max-w-[180px] hidden group-hover:block z-50 pointer-events-none animate-fade-in",children:[d.jsxs("div",{className:"bg-slate-800 text-white text-xs px-3 py-2 rounded-lg shadow-xl text-center border border-slate-700",children:[d.jsx("p",{className:"font-bold mb-0.5",children:R.name}),d.jsx("p",{className:"opacity-80 mb-2",children:R.description}),d.jsx("div",{className:"flex items-center justify-between text-[10px] uppercase font-semibold",children:d.jsx("span",{className:$?"text-emerald-400":"text-slate-400",children:$?"Desbloqueado":`${G.toFixed(0)}% Concludo`})}),!$&&d.jsx("div",{className:"w-full h-1.5 bg-slate-700 rounded-full mt-1 overflow-hidden",children:d.jsx("div",{className:"h-full bg-indigo-500 transition-all duration-500",style:{width:`${G}%`}})})]}),d.jsx("div",{className:"w-2 h-2 bg-slate-800 rotate-45 absolute -top-1 left-1/2 -translate-x-1/2 border-t border-l border-slate-700"})]})]},R.id)})})]}),d.jsxs("button",{onClick:V,className:"flex items-center gap-2 text-sm font-medium text-slate-500 hover:text-indigo-600 dark:text-slate-400 dark:hover:text-indigo-400 transition-colors self-end md:self-auto flex-shrink-0",children:[d.jsx(SD,{className:"w-4 h-4"})," Exportar CSV"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 relative overflow-hidden group flex flex-col justify-between hover:shadow-md transition-shadow",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:d.jsx(xB,{className:"w-20 h-20 text-slate-400"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Score Financeiro"}),d.jsx($6,{className:`w-4 h-4 ${P}`})]}),d.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[d.jsx("span",{className:`text-3xl font-black ${P} tracking-tighter`,children:T}),d.jsx("span",{className:"text-[10px] text-slate-400 font-medium",children:"/ 1000"})]}),d.jsx("p",{className:`text-xs font-bold uppercase tracking-wide ${P}`,children:I})]}),d.jsx("div",{className:"mt-3 pt-3 border-t border-slate-100 dark:border-slate-700/50 space-y-1",children:M.slice(0,2).map((R,$)=>d.jsxs("div",{className:"flex items-center gap-1.5 text-[10px]",children:[R.type==="good"&&d.jsx(Yx,{className:"w-3 h-3 text-emerald-500"}),R.type==="bad"&&d.jsx(Id,{className:"w-3 h-3 text-rose-500"}),R.type==="neutral"&&d.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-300"}),d.jsx("span",{className:"text-slate-600 dark:text-slate-400 truncate",children:R.text})]},$))})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between hover:shadow-md transition-shadow",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Saldo em Caixa"}),d.jsx(y1,{className:"w-4 h-4 text-emerald-500"})]}),d.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white truncate",children:f(x)}),E>0&&d.jsxs("div",{className:"flex items-center gap-1 mt-1 bg-emerald-50 dark:bg-emerald-900/20 px-2 py-1 rounded w-fit border border-emerald-100 dark:border-emerald-800/30",children:[d.jsx(am,{className:"w-3 h-3 text-emerald-500"}),d.jsxs("span",{className:"text-xs font-bold text-emerald-600 dark:text-emerald-400",children:["+",f(E)]}),d.jsx("span",{className:"text-[10px] text-emerald-600/70 dark:text-emerald-400/70 uppercase font-medium",children:"A Receber"})]})]}),d.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-medium uppercase",children:"Sobrevivncia"}),d.jsx("span",{className:`text-xs font-bold ${k<1?"text-rose-500":k<3?"text-amber-500":"text-emerald-500"}`,children:k<.1?"Crtico":`${k.toFixed(1)} Meses`})]}),d.jsx("div",{className:"w-full h-1.5 bg-slate-100 dark:bg-slate-700 rounded-full mt-1.5 overflow-hidden",children:d.jsx("div",{className:`h-full rounded-full ${k<1?"bg-rose-500":k<3?"bg-amber-400":"bg-emerald-500"}`,style:{width:`${Math.min(100,k/6*100)}%`}})})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between hover:shadow-md transition-shadow",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Sadas (Ms)"}),d.jsx(wp,{className:"w-4 h-4 text-rose-500"})]}),d.jsxs("p",{className:"text-2xl font-bold text-rose-600 dark:text-rose-400 truncate",children:["-",f(w)]}),v>0?d.jsxs("div",{className:"flex items-center gap-1 mt-1 bg-amber-50 dark:bg-amber-900/20 px-2 py-1 rounded w-fit border border-amber-100 dark:border-amber-800/30",children:[d.jsx(am,{className:"w-3 h-3 text-amber-500"}),d.jsxs("span",{className:"text-xs font-bold text-amber-600 dark:text-amber-400",children:["-",f(v)]}),d.jsx("span",{className:"text-[10px] text-amber-600/70 dark:text-amber-400/70 uppercase font-medium",children:"A Pagar"})]}):d.jsxs("div",{className:"flex items-center gap-1 mt-1 px-2 py-1",children:[d.jsx(Yx,{className:"w-3 h-3 text-emerald-500"}),d.jsx("span",{className:"text-[10px] text-emerald-500 font-bold uppercase",children:"Tudo Pago"})]})]}),d.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-100 dark:border-slate-700/50 flex-1 flex flex-col justify-end space-y-2",children:[d.jsx("p",{className:"text-[10px] text-slate-400 font-semibold uppercase pb-1",children:"Prximos Vencimentos"}),C.length===0?d.jsx("div",{className:"text-xs text-slate-400 italic",children:"Nada pendente."}):C.map(R=>{const $=new Date(R.date)<new Date(new Date().setHours(0,0,0,0));return d.jsxs("div",{className:"flex justify-between items-center text-xs",children:[d.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[d.jsx("div",{className:`w-1.5 h-1.5 rounded-full flex-shrink-0 ${$?"bg-rose-500":"bg-amber-400"}`}),d.jsx("span",{className:"truncate text-slate-600 dark:text-slate-300 max-w-[80px]",children:R.description})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[d.jsx("span",{className:"text-slate-400 text-[10px]",children:new Date(R.date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"})}),d.jsx("span",{className:`font-semibold ${$?"text-rose-500":"text-slate-700 dark:text-slate-200"}`,children:f(R.amount).replace("R$","")})]})]},R.id)})]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col justify-between hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Total Investido"}),d.jsx("p",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400 mt-1",children:f(_)})]}),d.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-2 rounded-lg",children:d.jsx(Yi,{className:"w-5 h-5 text-indigo-500"})})]}),d.jsxs("div",{className:"flex-1 flex flex-col justify-end space-y-2",children:[d.jsxs("p",{className:"text-[10px] text-slate-400 font-semibold uppercase border-b border-slate-100 dark:border-slate-700/50 pb-1 flex justify-between",children:[d.jsx("span",{children:"Maiores Posies"}),d.jsx(_p,{className:"w-3 h-3"})]}),S.length===0?d.jsx("div",{className:"text-xs text-slate-400 italic",children:"Carteira vazia."}):S.map((R,$)=>d.jsxs("div",{className:"flex justify-between items-center text-xs",children:[d.jsxs("div",{className:"flex items-center gap-1.5 overflow-hidden",children:[d.jsxs("span",{className:"text-slate-400 font-mono text-[10px]",children:[$+1,"."]}),d.jsx("span",{className:"truncate text-slate-600 dark:text-slate-300 max-w-[90px]",title:R.name,children:R.name})]}),d.jsx("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400 flex-shrink-0",children:f(R.amount).replace("R$","")})]},R.id))]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 flex flex-col hover:shadow-md transition-shadow h-full min-h-[180px]",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider flex items-center gap-2",children:[d.jsx(Rl,{className:"w-4 h-4"})," Notas Fixadas"]}),d.jsx("button",{onClick:()=>r(Me.NOTES),className:"text-indigo-600 dark:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 p-1 rounded transition-colors",title:"Ver todas",children:d.jsx(r0,{className:"w-4 h-4"})})]}),d.jsx("div",{className:"flex-1 space-y-2 overflow-y-auto max-h-[140px] no-scrollbar",children:c.length===0?d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 gap-1 opacity-70",children:[d.jsx(Rl,{className:"w-6 h-6 opacity-30"}),d.jsx("p",{className:"text-xs italic text-center",children:"Nenhuma nota fixada."})]}):c.map(R=>{const $=R.color==="slate"?"border-slate-200 dark:border-slate-600":`border-${R.color}-200 dark:border-${R.color}-800`,G=R.color==="slate"?"bg-slate-50 dark:bg-slate-700/50":`bg-${R.color}-50 dark:bg-${R.color}-900/20`;return d.jsxs("div",{onClick:()=>r(Me.NOTES),className:`text-xs p-2.5 rounded-lg border cursor-pointer hover:opacity-80 transition-opacity ${$} ${G}`,children:[d.jsx("span",{className:"font-bold mr-1 block truncate mb-0.5 text-slate-800 dark:text-slate-200",children:R.title||"Sem ttulo"}),d.jsx("span",{className:"text-slate-500 dark:text-slate-400 line-clamp-2 leading-relaxed",children:R.content})]},R.id)})})]})]}),d.jsxs("div",{className:"hidden lg:block space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-6 h-full",children:[z,F]}),H]}),d.jsxs("div",{className:"lg:hidden space-y-4",children:[d.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl gap-1 border border-slate-200 dark:border-slate-700",children:[d.jsxs("button",{onClick:()=>a("flow"),className:`flex-1 py-2 text-xs font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-1.5
                    ${s==="flow"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[d.jsx(Sd,{className:"w-3.5 h-3.5"}),"Fluxo"]}),d.jsxs("button",{onClick:()=>a("allocation"),className:`flex-1 py-2 text-xs font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-1.5
                    ${s==="allocation"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[d.jsx(_p,{className:"w-3.5 h-3.5"}),"Carteira"]}),d.jsxs("button",{onClick:()=>a("history"),className:`flex-1 py-2 text-xs font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-1.5
                    ${s==="history"?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[d.jsx(dm,{className:"w-3.5 h-3.5"}),"Histrico"]})]}),d.jsxs("div",{className:"min-h-[350px]",children:[s==="flow"&&z,s==="allocation"&&F,s==="history"&&H]})]})]})},eO={Casa:"bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900/30 dark:text-orange-300 dark:border-orange-800",Mobilidade:"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:border-blue-800",Alimentos:"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800",Lazer:"bg-purple-100 text-purple-700 border-purple-200 dark:bg-purple-900/30 dark:text-purple-300 dark:border-purple-800",Sade:"bg-teal-100 text-teal-700 border-teal-200 dark:bg-teal-900/30 dark:text-teal-300 dark:border-teal-800",Educao:"bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:border-yellow-800",Pets:"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900/30 dark:text-amber-300 dark:border-amber-800",Salrio:"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800",Investimentos:"bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800",Outros:"bg-slate-100 text-slate-700 border-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:border-slate-600"},Jv={credit_card:"Crdito",debit_card:"Dbito",cash:"Dinheiro",pix:"PIX",direct_debit:"Db. Auto",bank_transfer:"TED/DOC",deposit:"Depsito"},tO=(t,e,n)=>{let r=new Date(t,e,1),i=0,o=0;for(;i<n&&o<31;){const s=r.getDay();if(s!==0&&s!==6&&i++,i===n)break;r.setDate(r.getDate()+1),o++}return r.toISOString().split("T")[0]},AIe=({method:t,className:e})=>{switch(t){case"credit_card":return d.jsx(lm,{className:e});case"debit_card":return d.jsx(lm,{className:e});case"cash":return d.jsx(L6,{className:e});case"pix":return d.jsx(SB,{className:e});default:return d.jsx(kD,{className:e})}},Xv=["Casa","Mobilidade","Alimentos","Lazer","Sade","Educao","Pets","Outros"],Qv=["Salrio","Renda Extra","Investimentos","Presente","Reembolso","Outros"],nO=["credit_card","debit_card","direct_debit","pix","cash"],rO=["pix","bank_transfer","cash","deposit"],IIe=({transactions:t,budgets:e,onAdd:n,onUpdate:r,onDelete:i,onToggleStatus:o,onNavigate:s,privacyMode:a,hasApiKey:l,quickActionSignal:u})=>{const[c,f]=U.useState(!1),[h,y]=U.useState(!1),[v,b]=U.useState(!1),[x,E]=U.useState(new Date),[w,_]=U.useState("all"),[C,S]=U.useState(""),[k,T]=U.useState("all"),[I,P]=U.useState("all"),[M,j]=U.useState(!1),[D,N]=U.useState(null),[V,z]=U.useState("monthly"),[F,H]=U.useState([]),[R,$]=U.useState(!1),[G,K]=U.useState(""),[q,X]=U.useState(!1),[le,W]=U.useState("5"),Z=U.useRef(null),[J,ve]=U.useState({description:"",amount:"",type:"expense",category:"Outros",date:new Date().toISOString().split("T")[0],status:"paid",paymentMethod:"credit_card",isRecurring:!1,autoPay:!1,installments:"",observation:""});U.useEffect(()=>{u&&Date.now()-u<2e3&&(f(!0),_n())},[u]),U.useEffect(()=>{c&&Z.current&&setTimeout(()=>{var ee;(ee=Z.current)==null||ee.scrollIntoView({behavior:"smooth",block:"center"})},100)},[c,D]),U.useEffect(()=>{if(q&&J.category==="Salrio"){const[ee,ae]=J.date.split("-").map(Number),Pe=parseInt(le)||5,je=tO(ee,ae-1,Pe);je!==J.date&&ve(He=>({...He,date:je}))}},[q,le,J.category]);const se=U.useMemo(()=>J.type==="income"?Qv:Xv,[J.type]),be=U.useMemo(()=>J.type==="income"?rO:nO,[J.type]),de=()=>E(ee=>new Date(ee.getFullYear(),ee.getMonth()-1,1)),ne=()=>E(ee=>new Date(ee.getFullYear(),ee.getMonth()+1,1)),De=U.useMemo(()=>{const ee=[],ae=new Date,Pe=ae.getMonth(),je=ae.getFullYear(),He=ae.toISOString().slice(0,7);return e.forEach(Le=>{if(!(Le.isRecurring&&!e.some(Qt=>Qt.category===Le.category&&Qt.month===He&&!Qt.isRecurring)||Le.month===He))return;t.filter(Qt=>Qt.type==="expense"&&Qt.category===Le.category&&new Date(Qt.date).getMonth()===Pe&&new Date(Qt.date).getFullYear()===je).reduce((Qt,ur)=>Qt+ur.amount,0)>=Le.limit&&ee.push({title:`Limite Excedido: ${Le.category}`,message:"Voc estourou o teto definido para esta categoria.",type:"warning"})}),ee},[e,t]),Ce=U.useMemo(()=>{const ee=t.filter(je=>{const[He,Le]=je.date.split("-");return parseInt(He)===x.getFullYear()&&parseInt(Le)===x.getMonth()+1}),ae=ee.filter(je=>je.type==="income").reduce((je,He)=>je+He.amount,0),Pe=ee.filter(je=>je.type==="expense").reduce((je,He)=>je+He.amount,0);return{income:ae,expense:Pe,balance:ae-Pe}},[t,x]),nt=U.useMemo(()=>t.filter(ee=>{const[ae,Pe]=ee.date.split("-");return!(!(parseInt(ae)===x.getFullYear()&&parseInt(Pe)===x.getMonth()+1)||w!=="all"&&ee.type!==w||C&&!ee.description.toLowerCase().includes(C.toLowerCase())||k!=="all"&&ee.category!==k||I!=="all"&&ee.paymentMethod!==I)}).sort((ee,ae)=>new Date(ae.date).getTime()-new Date(ee.date).getTime()),[t,x,w,C,k,I]),rt=U.useMemo(()=>{const ee={};nt.forEach(Le=>{ee[Le.date]||(ee[Le.date]={transactions:[],total:0}),ee[Le.date].transactions.push(Le);const Sn=Le.type==="income"?Le.amount:-Le.amount;ee[Le.date].total+=Sn});const Pe=[...Object.entries(ee).map(([Le,Sn])=>({date:Le,...Sn})).sort((Le,Sn)=>new Date(Sn.date).getTime()-new Date(Le.date).getTime())].reverse();let je=0;return Pe.map(Le=>(je+=Le.total,{...Le,runningBalance:je})).reverse()},[nt]),it=ee=>a?"":`R$ ${ee.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,lr=ee=>{const ae=new Date(ee+"T12:00:00"),Pe=new Date,je=new Date;if(je.setDate(je.getDate()-1),ae.toDateString()===Pe.toDateString())return"Hoje";if(ae.toDateString()===je.toDateString())return"Ontem";const He=ae.toLocaleDateString("pt-BR",{weekday:"long"}),Le=ae.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"});return`${He.split("-")[0]}, ${Le}`},Pr=async()=>{if(!J.description)return;y(!0);const ee=await see(J.description),ae=se.includes(ee);ve(Pe=>({...Pe,category:ae?ee:"Outros"})),y(!1)},Zr=ee=>{const ae=ee.target.value,Pe=ae==="income"?Qv:Xv,je=ae==="income"?"pix":"credit_card";ve(He=>({...He,type:ae,category:Pe[0],paymentMethod:je}))},_n=()=>{ve({description:"",amount:"",type:"expense",category:"Outros",date:new Date().toISOString().split("T")[0],status:"paid",paymentMethod:"credit_card",isRecurring:!1,autoPay:!1,installments:"",observation:""}),N(null),z("monthly"),H([]),$(!1),K(""),X(!1),W("5")},En=ee=>{ve({description:ee.description||"",amount:(ee.amount||0).toString(),type:ee.type||"expense",category:ee.category||"Outros",date:ee.date||new Date().toISOString().split("T")[0],status:ee.status||"paid",paymentMethod:ee.paymentMethod||(ee.type==="income"?"pix":"credit_card"),isRecurring:ee.isRecurring||!1,autoPay:ee.autoPay||!1,installments:"",observation:ee.observation||""}),N(ee.id),f(!0)},bi=ee=>{H(ae=>ae.includes(ee)?ae.filter(Pe=>Pe!==ee):[...ae,ee])},yo=ee=>{ee.preventDefault();let ae=parseFloat(J.amount),Pe=J.observation;if(J.type==="income"&&J.category==="Salrio"&&R){const He=parseFloat(G);if(!isNaN(He)&&He>0&&He<100){const Le=ae*(He/100),Sn=ae;ae=ae-Le;const Tn=`(Salrio Bruto: R$ ${Sn.toFixed(2)} | Desc. Penso: ${He}%)`;Pe=Pe?`${Pe} ${Tn}`:Tn}}const je={description:J.description,amount:ae,type:J.type,category:J.category,date:J.date,status:J.status,paymentMethod:J.paymentMethod,isRecurring:J.isRecurring,autoPay:J.status==="pending"?J.autoPay:!1,observation:Pe};if(J.isRecurring)if(V==="days"&&F.length>0){const[He,Le]=J.date.split("-").map(Number),Sn=new Date(He,Le,0).getDate();F.forEach(Tn=>{if(Tn<=Sn){const Qt=String(Tn).padStart(2,"0"),ur=String(Le).padStart(2,"0"),wi=`${He}-${ur}-${Qt}`;n({...je,description:`${J.description} (Dia ${Tn})`,date:wi,isRecurring:!1})}})}else{const He=parseInt(J.installments);if(!isNaN(He)&&He>1){const[Le,Sn,Tn]=J.date.split("-").map(Number),Qt=parseInt(le)||5;for(let ur=0;ur<He;ur++){let wi;q&&J.category==="Salrio"&&J.type==="income"?wi=tO(Le,Sn-1+ur,Qt):wi=new Date(Le,Sn-1+ur,Tn).toISOString().split("T")[0];const yy=`${J.description} (${ur+1}/${He})`;n({...je,description:yy,date:wi,isRecurring:!1})}}else D?r(D,je):n(je)}else D?r(D,je):n(je);_n(),f(!1)};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col gap-4",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white hidden md:block",children:"Transaes"}),d.jsxs("div",{className:"flex flex-1 w-full md:w-auto gap-3 items-center",children:[d.jsxs("div",{className:"flex-1 relative group",children:[d.jsx(tb,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2 group-focus-within:text-indigo-500 transition-colors"}),d.jsx("input",{type:"text",placeholder:"Buscar...",value:C,onChange:ee=>S(ee.target.value),className:"w-full pl-9 pr-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 text-sm transition-all shadow-sm"}),C&&d.jsx("button",{onClick:()=>S(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:d.jsx(qn,{className:"w-3 h-3"})})]}),d.jsx("button",{onClick:()=>j(!M),className:`p-2.5 rounded-xl border transition-all ${M?"bg-indigo-50 border-indigo-200 text-indigo-600 dark:bg-indigo-900/30 dark:border-indigo-800 dark:text-indigo-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-500"}`,children:d.jsx(AD,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-1 shrink-0",children:[d.jsx("button",{onClick:de,className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-600 dark:text-slate-300",children:d.jsx(h1,{className:"w-4 h-4"})}),d.jsx("span",{className:"px-2 text-xs font-bold text-slate-700 dark:text-slate-200 capitalize min-w-[80px] text-center",children:x.toLocaleDateString("pt-BR",{month:"short",year:"2-digit"})}),d.jsx("button",{onClick:ne,className:"p-1.5 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-600 dark:text-slate-300",children:d.jsx(i0,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"hidden md:flex gap-2",children:[d.jsxs("button",{onClick:()=>s(Me.SUBSCRIPTIONS),className:"flex items-center gap-2 bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700 px-4 py-2.5 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors font-medium text-sm shadow-sm",children:[d.jsx(ia,{className:"w-4 h-4 text-indigo-500"}),"Assinaturas"]}),d.jsxs("button",{onClick:()=>{_n(),f(!c)},className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2.5 rounded-xl hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-500/20 font-bold text-sm",children:[d.jsx(Er,{className:"w-4 h-4"})," Nova"]})]})]}),M&&d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 bg-slate-50 dark:bg-slate-800/50 p-3 rounded-xl border border-slate-200 dark:border-slate-700 animate-fade-in-down",children:[d.jsxs("select",{value:k,onChange:ee=>T(ee.target.value),className:"p-2 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white text-xs outline-none focus:ring-2 focus:ring-indigo-500",children:[d.jsx("option",{value:"all",children:"Todas Categorias"}),[...Xv,...Qv].map(ee=>d.jsx("option",{value:ee,children:ee},ee))]}),d.jsxs("select",{value:I,onChange:ee=>P(ee.target.value),className:"p-2 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white text-xs outline-none focus:ring-2 focus:ring-indigo-500",children:[d.jsx("option",{value:"all",children:"Todos Mtodos"}),[...nO,...rO].map(ee=>d.jsx("option",{value:ee,children:Jv[ee]},ee))]})]})]}),De.length>0&&d.jsx("div",{className:"space-y-2",children:De.map((ee,ae)=>d.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-4 rounded-xl flex items-start gap-3 animate-fade-in-down shadow-sm",children:[d.jsx("div",{className:"bg-amber-100 dark:bg-amber-800 p-2 rounded-full flex-shrink-0",children:d.jsx(f1,{className:"w-5 h-5 text-amber-600 dark:text-amber-300"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-amber-800 dark:text-amber-300 text-sm",children:ee.title}),d.jsx("p",{className:"text-amber-700 dark:text-amber-400 text-xs mt-0.5",children:ee.message})]})]},ae))}),d.jsxs("div",{className:"grid grid-cols-3 gap-3 md:gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 md:p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-[10px] md:text-xs font-bold uppercase tracking-wider",children:"Entradas"}),d.jsx("p",{className:"text-sm md:text-lg font-bold text-emerald-600 dark:text-emerald-400 truncate",children:it(Ce.income)})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 md:p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-[10px] md:text-xs font-bold uppercase tracking-wider",children:"Sadas"}),d.jsx("p",{className:"text-sm md:text-lg font-bold text-rose-600 dark:text-rose-400 truncate",children:it(Ce.expense)})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 md:p-4 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-[10px] md:text-xs font-bold uppercase tracking-wider",children:"Resultado (Ms)"}),d.jsx("p",{className:`text-sm md:text-lg font-bold truncate ${Ce.balance>=0?"text-indigo-600 dark:text-indigo-400":"text-rose-600"}`,children:it(Ce.balance)})]})]}),d.jsx("div",{ref:Z,className:"scroll-mt-24",children:c&&d.jsxs("form",{onSubmit:yo,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[d.jsx("div",{className:"col-span-1 md:col-span-2",children:d.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:D?"Editar Transao":"Adicionar Transao"})}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{required:!0,type:"text",placeholder:"Descrio",value:J.description,onChange:ee=>ve({...J,description:ee.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none w-full pr-10"}),d.jsx("button",{type:"button",onClick:Pr,disabled:h||!J.description||!l,className:`absolute right-2 top-2 ${l?"text-indigo-500 hover:text-indigo-700":"text-slate-400 opacity-50 cursor-not-allowed"} disabled:opacity-30`,children:h?d.jsx(o0,{className:"w-5 h-5 animate-spin"}):d.jsx(kB,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("input",{required:!0,type:"number",placeholder:"Valor (R$)",value:J.amount,onChange:ee=>ve({...J,amount:ee.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 outline-none"}),J.type==="income"&&J.category==="Salrio"&&!D&&d.jsxs("div",{className:"flex items-center gap-2 mt-1 px-1 animate-fade-in",children:[d.jsxs("div",{className:"flex items-center gap-2 cursor-pointer group select-none",onClick:()=>$(!R),children:[d.jsx("div",{className:`w-3.5 h-3.5 rounded border flex items-center justify-center transition-colors ${R?"bg-indigo-600 border-indigo-600":"border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800"}`,children:R&&d.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})}),d.jsxs("span",{className:"text-[10px] font-medium text-slate-500 dark:text-slate-400 group-hover:text-indigo-500 transition-colors flex items-center gap-1",children:[d.jsx(j6,{className:"w-3 h-3"})," Descontar Penso?"]})]}),R&&d.jsxs("div",{className:"flex items-center gap-1 animate-scale-in ml-auto",children:[d.jsx("input",{autoFocus:!0,type:"number",placeholder:"%",className:"w-12 py-0.5 px-1 text-xs border border-slate-300 rounded text-center outline-none focus:border-indigo-500 dark:bg-slate-700 dark:border-slate-600 dark:text-white font-bold",value:G,onChange:ee=>K(ee.target.value)}),d.jsx("span",{className:"text-[10px] text-slate-400 font-bold",children:"%"})]})]})]}),d.jsxs("select",{value:J.type,onChange:Zr,className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:[d.jsx("option",{value:"expense",children:"Despesa"}),d.jsx("option",{value:"income",children:"Receita"})]}),d.jsx("select",{value:J.category,onChange:ee=>ve({...J,category:ee.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:se.map(ee=>d.jsx("option",{value:ee,children:ee},ee))}),d.jsxs("div",{children:[d.jsx("input",{required:!0,type:"date",value:J.date,onChange:ee=>ve({...J,date:ee.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 w-full"}),J.category==="Salrio"&&J.type==="income"&&d.jsxs("div",{className:"flex items-center gap-2 p-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg border border-emerald-100 dark:border-emerald-800/30 animate-fade-in mt-2",children:[d.jsx("input",{type:"checkbox",id:"useBusinessDay",checked:q,onChange:ee=>X(ee.target.checked),className:"w-3.5 h-3.5 text-emerald-600 rounded"}),d.jsxs("label",{htmlFor:"useBusinessDay",className:"text-xs font-bold text-emerald-700 dark:text-emerald-400 flex items-center gap-1 cursor-pointer flex-1",children:[d.jsx(V6,{className:"w-3 h-3"})," Considerar dia til?"]}),q&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("input",{type:"number",min:"1",max:"20",value:le,onChange:ee=>W(ee.target.value),className:"w-10 py-0.5 px-1 text-xs border border-emerald-300 rounded text-center outline-none focus:border-emerald-500 font-bold dark:bg-slate-700 dark:text-white"}),d.jsx("span",{className:"text-[10px] text-emerald-600 dark:text-emerald-400 font-bold",children:" dia"})]})]})]}),d.jsxs("select",{value:J.status,onChange:ee=>ve({...J,status:ee.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:[d.jsx("option",{value:"paid",children:"Pago/Recebido"}),d.jsx("option",{value:"pending",children:"Pendente"})]}),J.status==="pending"&&d.jsxs("div",{className:"flex items-center gap-2 p-2 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg border border-indigo-100 dark:border-indigo-800/30 animate-fade-in mt-1 md:col-span-2 md:mt-0",children:[d.jsx("input",{type:"checkbox",id:"autoPay",checked:J.autoPay||!1,onChange:ee=>ve({...J,autoPay:ee.target.checked}),className:"w-4 h-4 text-indigo-600 rounded"}),d.jsxs("label",{htmlFor:"autoPay",className:"text-xs font-bold text-indigo-700 dark:text-indigo-400 flex items-center gap-1 cursor-pointer flex-1",children:[d.jsx(av,{className:"w-3 h-3"})," Lanamento Automtico na Data?"]})]}),d.jsx("select",{value:J.paymentMethod,onChange:ee=>ve({...J,paymentMethod:ee.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:be.map(ee=>d.jsx("option",{value:ee,children:Jv[ee]},ee))}),d.jsx("div",{className:"md:col-span-2",children:d.jsx("textarea",{placeholder:"Observaes (opcional)",value:J.observation,onChange:ee=>ve({...J,observation:ee.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 w-full outline-none resize-none h-20 text-sm"})}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsxs("div",{className:"flex items-center gap-2 p-2 border border-dashed border-slate-300 dark:border-slate-600 rounded-lg",children:[d.jsx("input",{type:"checkbox",id:"recurring",checked:J.isRecurring,onChange:ee=>ve({...J,isRecurring:ee.target.checked}),className:"w-4 h-4 text-indigo-600 rounded"}),d.jsxs("label",{htmlFor:"recurring",className:"text-sm text-slate-700 dark:text-slate-200 font-medium flex items-center gap-1 cursor-pointer",children:[d.jsx(ia,{className:"w-4 h-4 text-indigo-500"})," Assinatura / Recorrente / Parcelado"]})]}),J.isRecurring&&d.jsxs("div",{className:"mt-2 pl-2 md:pl-6 animate-fade-in space-y-3",children:[d.jsxs("div",{className:"flex gap-2 mb-3",children:[d.jsx("button",{type:"button",onClick:()=>z("monthly"),className:`flex-1 py-1.5 px-3 rounded-lg text-xs font-bold border transition-colors ${V==="monthly"?"bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800":"bg-slate-50 text-slate-500 border-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700"}`,children:"Mensal / Parcelado"}),d.jsx("button",{type:"button",onClick:()=>z("days"),className:`flex-1 py-1.5 px-3 rounded-lg text-xs font-bold border transition-colors ${V==="days"?"bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800":"bg-slate-50 text-slate-500 border-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700"}`,children:"Dias Especficos"})]}),V==="monthly"?d.jsx("div",{className:"space-y-3",children:d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase",children:"Repetir por quantas vezes? (Opcional)"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(m1,{className:"w-4 h-4 text-slate-400"}),d.jsx("input",{type:"number",placeholder:"Ex: 12 (Deixe vazio para assinatura infinita)",value:J.installments,onChange:ee=>ve({...J,installments:ee.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 text-sm w-full outline-none focus:ring-2 focus:ring-indigo-500"})]})]})}):d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase flex items-center gap-1",children:[d.jsx(U6,{className:"w-3 h-3"})," Selecione os dias do ms"]}),d.jsx("div",{className:"grid grid-cols-7 gap-2",children:[...Array(31)].map((ee,ae)=>{const Pe=ae+1,je=F.includes(Pe);return d.jsx("button",{type:"button",onClick:()=>bi(Pe),className:`h-8 rounded-md text-xs font-bold transition-all ${je?"bg-indigo-600 text-white shadow-md shadow-indigo-500/30 transform scale-105":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:Pe},Pe)})}),d.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"Uma transao ser criada para cada dia selecionado neste ms."})]})]})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-2 mt-2",children:[d.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:D?"Atualizar":"Salvar"})]})]})}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-1 flex",children:[d.jsxs("button",{onClick:()=>_("all"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${w==="all"?"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-300":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[d.jsx(Qx,{className:"w-4 h-4"})," Todas"]}),d.jsxs("button",{onClick:()=>_("income"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${w==="income"?"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-300":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[d.jsx(ov,{className:"w-4 h-4"})," Entradas"]}),d.jsxs("button",{onClick:()=>_("expense"),className:`flex-1 py-2 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${w==="expense"?"bg-rose-50 text-rose-600 dark:bg-rose-900/30 dark:text-rose-300":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:[d.jsx(wp,{className:"w-4 h-4"})," Sadas"]})]}),d.jsx("div",{className:"space-y-4 pb-20 md:pb-0",children:rt.length===0?d.jsxs("div",{className:"text-center py-16 text-slate-400",children:[d.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(tb,{className:"w-8 h-8 opacity-50"})}),d.jsx("p",{children:"Nenhuma transao encontrada."}),d.jsx("p",{className:"text-xs mt-1",children:"Tente mudar os filtros ou adicione uma nova."})]}):rt.map(ee=>d.jsxs("div",{className:"animate-fade-in",children:[d.jsxs("div",{className:"flex items-center justify-between px-3 py-2 mb-1 sticky top-0 z-10 bg-slate-50/95 dark:bg-slate-900/95 backdrop-blur-sm rounded-lg border-b border-slate-100 dark:border-slate-800",children:[d.jsxs("h3",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[d.jsx(Ki,{className:"w-3 h-3"}),lr(ee.date)]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:`text-xs font-bold ${ee.total>=0?"text-emerald-600 dark:text-emerald-400":"text-rose-500"}`,children:ee.total!==0&&(ee.total>0?"+":"")+it(ee.total)}),d.jsx("div",{className:"h-4 w-px bg-slate-300 dark:bg-slate-700"}),d.jsxs("span",{className:"text-[10px] font-bold text-indigo-500 dark:text-indigo-400 flex items-center gap-1",title:"Saldo acumulado at este dia",children:[d.jsx(EB,{className:"w-3 h-3"}),it(ee.runningBalance)]})]})]}),d.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden divide-y divide-slate-100 dark:divide-slate-700",children:ee.transactions.map(ae=>{var Pe,je;return d.jsxs("div",{className:"group hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[d.jsxs("div",{className:"md:hidden p-4 flex items-center gap-3 relative",children:[d.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 ${ae.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30":"bg-rose-100 text-rose-600 dark:bg-rose-900/30"}`,children:ae.type==="income"?d.jsx(ov,{className:"w-5 h-5"}):d.jsx(wp,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>En(ae),children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("h4",{className:"font-bold text-slate-800 dark:text-white truncate pr-2 text-sm",children:ae.description}),d.jsxs("span",{className:`font-bold text-sm whitespace-nowrap ${ae.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:[ae.type==="expense"&&"- ",it(ae.amount)]})]}),d.jsx("div",{className:"flex justify-between items-center mt-1",children:d.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400",children:[d.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-medium border ${((Pe=eO[ae.category])==null?void 0:Pe.replace("bg-","border-").split(" ")[2])||"border-slate-200"}`,children:ae.category}),ae.isRecurring&&d.jsxs("span",{className:"flex items-center gap-0.5 text-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 px-1.5 py-0.5 rounded",title:"Recorrente Infinito",children:[d.jsx(GA,{className:"w-3 h-3"}),"Fixo"]}),ae.status==="pending"&&ae.autoPay&&d.jsxs("span",{className:"flex items-center gap-0.5 text-amber-600 bg-amber-50 dark:bg-amber-900/30 px-1.5 py-0.5 rounded",title:"Lanamento Automtico",children:[d.jsx(av,{className:"w-3 h-3"})," Auto"]})]})}),ae.observation&&d.jsxs("p",{className:"text-[10px] text-slate-400 mt-1 italic truncate flex items-center gap-1",children:[d.jsx(Rl,{className:"w-3 h-3"})," ",ae.observation]})]}),d.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[d.jsx("button",{onClick:()=>o(ae.id),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${ae.status==="paid"?"bg-emerald-500 border-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-emerald-400"}`,children:d.jsx(Jx,{className:"w-3.5 h-3.5"})}),d.jsx("button",{onClick:()=>En(ae),className:"p-1 text-slate-400",children:d.jsx(hB,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"hidden md:flex items-center gap-4 p-3 text-sm",children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 ${ae.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30":"bg-rose-100 text-rose-600 dark:bg-rose-900/30"}`,children:ae.type==="income"?d.jsx(ov,{className:"w-4 h-4"}):d.jsx(wp,{className:"w-4 h-4"})}),d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-8 text-center font-bold text-slate-400 text-xs",children:parseInt(ae.date.split("-")[2])}),d.jsx("div",{className:"w-24 shrink-0",children:d.jsx("span",{className:`px-2 py-1 rounded text-[10px] font-medium border block text-center truncate ${((je=eO[ae.category])==null?void 0:je.replace("bg-","border-").split(" ")[2])||"border-slate-200"}`,children:ae.category})}),d.jsxs("div",{className:"flex-1 font-medium text-slate-700 dark:text-slate-200 truncate cursor-pointer hover:text-indigo-500 flex flex-col justify-center",onClick:()=>En(ae),title:"Clique para editar",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[ae.description,ae.isRecurring&&d.jsxs("span",{className:"text-[10px] text-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 px-1.5 py-0.5 rounded flex items-center gap-0.5",title:"Recorrncia Infinita",children:[d.jsx(GA,{className:"w-3 h-3"})," Recorrente"]}),ae.status==="pending"&&ae.autoPay&&d.jsxs("span",{className:"text-[10px] text-amber-600 bg-amber-50 dark:bg-amber-900/30 px-1.5 py-0.5 rounded flex items-center gap-0.5",title:"Lanamento Automtico",children:[d.jsx(av,{className:"w-3 h-3"})," Auto"]})]}),ae.observation&&d.jsx("span",{className:"text-[10px] text-slate-400 font-normal truncate max-w-[300px]",children:ae.observation})]}),d.jsxs("div",{className:"w-24 text-xs text-slate-500 flex items-center gap-1",children:[d.jsx(AIe,{method:ae.paymentMethod||"",className:"w-3 h-3"}),d.jsx("span",{className:"truncate",children:Jv[ae.paymentMethod||""]||"-"})]}),d.jsx("div",{className:`w-28 text-right font-bold cursor-pointer hover:text-indigo-500 ${ae.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-slate-700 dark:text-slate-200"}`,onClick:()=>En(ae),children:it(ae.amount)}),d.jsx("div",{className:"w-8 flex justify-center",children:d.jsx("button",{onClick:()=>o(ae.id),className:`transition-all hover:scale-110 ${ae.status==="paid"?"text-emerald-500":"text-slate-300 hover:text-emerald-400"}`,title:ae.status==="paid"?"Marcar como pendente":"Marcar como pago",children:d.jsx(Jx,{className:"w-5 h-5"})})}),d.jsxs("div",{className:"w-16 flex justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>En(ae),className:"p-1.5 text-slate-400 hover:text-indigo-500 rounded hover:bg-slate-100 dark:hover:bg-slate-700",children:d.jsx(pB,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>i(ae.id),className:"p-1.5 text-slate-400 hover:text-rose-500 rounded hover:bg-slate-100 dark:hover:bg-slate-700",children:d.jsx(wa,{className:"w-4 h-4"})})]})]})]})]},ae.id)})})]},ee.date))}),d.jsx("button",{onClick:()=>{_n(),f(!0)},className:"md:hidden fixed bottom-20 right-4 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-lg shadow-indigo-600/30 flex items-center justify-center z-40 hover:scale-105 transition-transform",children:d.jsx(Er,{className:"w-7 h-7"})})]})},iO=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899","#6366f1"],kIe=({investments:t,onAdd:e,onUpdate:n,onDelete:r,onNavigate:i,privacyMode:o,hasApiKey:s,quickActionSignal:a})=>{const[l,u]=U.useState(!1),[c,f]=U.useState(null),[h,y]=U.useState(!1),[v,b]=U.useState(!1),[x,E]=U.useState(!1),[w,_]=U.useState(null),[C,S]=U.useState(""),[k,T]=U.useState(null),[I,P]=U.useState(""),[M,j]=U.useState({name:"",amount:"",investedAmount:"",targetAmount:"",type:"Renda Fixa",date:new Date().toISOString().split("T")[0]});U.useEffect(()=>{a&&Date.now()-a<2e3&&(u(!0),j({name:"",amount:"",investedAmount:"",targetAmount:"",type:"Renda Fixa",date:new Date().toISOString().split("T")[0]}))},[a]);const D=U.useMemo(()=>{const W=new Map;return t.forEach(Z=>{W.set(Z.type,(W.get(Z.type)||0)+Z.amount)}),Array.from(W.entries()).map(([Z,J])=>({name:Z,value:J})).sort((Z,J)=>J.value-Z.value)},[t]),N=W=>{W.preventDefault();const Z=parseFloat(M.amount),J=M.investedAmount?parseFloat(M.investedAmount):Z;e({name:M.name,amount:Z,investedAmount:J,targetAmount:parseFloat(M.targetAmount)||0,type:M.type,date:M.date}),j({name:"",amount:"",investedAmount:"",targetAmount:"",type:"Renda Fixa",date:new Date().toISOString().split("T")[0]}),u(!1)},V=W=>{if(W.preventDefault(),!w)return;const Z=t.find(J=>J.id===w);if(Z){const J=parseFloat(C);if(!isNaN(J)&&J>0){const ve=Z.investedAmount||Z.amount;n(w,{amount:Z.amount+J,investedAmount:ve+J})}}_(null),S("")},z=W=>{const Z=parseFloat(I);!isNaN(Z)&&Z>=0&&n(W,{amount:Z}),T(null)},F=async()=>{if(!s)return;b(!0),y(!0),f(null),E(!1);const W=await aee(t);f(W),y(!1)},H=()=>{if(!c)return{recommendations:"",technical:""};const W=c.text.split("---SECTION-BREAK---");return{recommendations:W[0].trim(),technical:W.length>1?W[1].trim():""}},{recommendations:R,technical:$}=H(),G=t.reduce((W,Z)=>W+Z.amount,0),K=t.reduce((W,Z)=>W+(Z.investedAmount||Z.amount),0),q=G-K,X=K>0?q/K*100:0,le=W=>o?"":`R$ ${W.toLocaleString("pt-BR",{minimumFractionDigits:2})}`;return d.jsxs("div",{className:"space-y-6 relative",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Meus Investimentos"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Acompanhe rentabilidade e metas."})]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs("button",{onClick:()=>i(Me.BUDGETS),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-pink-50 text-pink-600 hover:bg-pink-100 dark:bg-pink-900/20 dark:text-pink-400 dark:hover:bg-pink-900/40 transition-all font-medium text-sm border border-pink-200 dark:border-pink-800",children:[d.jsx(oa,{className:"w-4 h-4"}),"Metas"]}),d.jsxs("button",{onClick:F,disabled:!s,title:s?"Consultor IA":"Configure a Chave API para usar",className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all shadow-sm text-sm font-medium
                   ${s?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white hover:from-purple-700 hover:to-indigo-700":"bg-slate-300 dark:bg-slate-700 text-slate-500 dark:text-slate-400 cursor-not-allowed opacity-60"}`,children:[d.jsx(Ks,{className:"w-4 h-4"}),"Consultor IA ",!s&&d.jsx("span",{className:"text-[10px] ml-1",children:"(Req. Chave)"})]}),d.jsxs("button",{onClick:()=>u(!l),className:"flex items-center gap-2 bg-slate-800 dark:bg-slate-700 text-white px-4 py-2 rounded-lg hover:bg-slate-900 dark:hover:bg-slate-600 transition-colors shadow-sm text-sm font-medium",children:[d.jsx(Er,{className:"w-4 h-4"}),"Novo Ativo"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-indigo-600 text-white p-6 rounded-xl shadow-lg flex flex-col justify-between relative overflow-hidden",children:[d.jsxs("div",{className:"relative z-10",children:[d.jsx("p",{className:"text-indigo-200 text-xs font-bold uppercase tracking-wider mb-1",children:"Patrimnio Total"}),d.jsx("h3",{className:"text-3xl font-bold mb-1",children:le(G)}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsxs("span",{className:`text-xs font-bold px-1.5 py-0.5 rounded bg-white/20 flex items-center gap-1 ${q>=0?"text-emerald-300":"text-rose-300"}`,children:[q>=0?d.jsx(Yi,{className:"w-3 h-3"}):d.jsx(dm,{className:"w-3 h-3"}),X.toFixed(2),"%"]}),d.jsxs("span",{className:"text-[10px] text-indigo-200",children:["(",q>=0?"+":"",le(q),")"]})]})]}),d.jsx(um,{className:"absolute right-4 bottom-4 w-24 h-24 text-indigo-500 opacity-20 pointer-events-none"})]}),D.length>0&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 md:col-span-2 flex items-center",children:[d.jsx("div",{className:"flex-1 h-[140px]",children:d.jsx(Zo,{width:"100%",height:"100%",children:d.jsxs(DF,{children:[d.jsx(xi,{data:D,cx:"50%",cy:"50%",innerRadius:40,outerRadius:60,paddingAngle:5,dataKey:"value",children:D.map((W,Z)=>d.jsx(Ia,{fill:iO[Z%iO.length]},`cell-${Z}`))}),d.jsx(rn,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"8px",border:"none",fontSize:"12px"},formatter:W=>o?"":`R$ ${W.toLocaleString("pt-BR")}`}),d.jsx(ui,{layout:"vertical",verticalAlign:"middle",align:"right",wrapperStyle:{fontSize:"11px"}})]})})}),d.jsx("div",{className:"w-px h-20 bg-slate-100 dark:bg-slate-700 mx-4"}),d.jsxs("div",{className:"pr-4 min-w-[120px]",children:[d.jsxs("p",{className:"text-xs text-slate-500 uppercase font-bold mb-2 flex items-center gap-1",children:[d.jsx(_p,{className:"w-3 h-3"})," Alocao"]}),D.slice(0,3).map((W,Z)=>d.jsxs("div",{className:"flex justify-between items-center text-xs mb-1",children:[d.jsx("span",{className:"text-slate-600 dark:text-slate-300 truncate max-w-[80px]",children:W.name}),d.jsxs("span",{className:"font-bold text-slate-800 dark:text-white",children:[(W.value/G*100).toFixed(0),"%"]})]},Z))]})]})]}),v&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg border border-purple-200 dark:border-purple-900 overflow-hidden animate-fade-in",children:[d.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-slate-800 dark:to-slate-800 p-4 border-b border-purple-100 dark:border-slate-700 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(_D,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),d.jsx("h3",{className:"font-bold text-purple-900 dark:text-purple-300",children:"Smart Advisor"})]}),d.jsx("button",{onClick:()=>b(!1),className:"text-slate-400 hover:text-slate-600",children:d.jsx(qn,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"p-6",children:h?d.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[d.jsx(o0,{className:"w-8 h-8 text-purple-600 animate-spin mb-3"}),d.jsx("p",{className:"text-slate-500 text-sm animate-pulse",children:"Buscando oportunidades em tempo real..."})]}):c?d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"prose prose-sm prose-purple dark:prose-invert max-w-none text-slate-700 dark:text-slate-300",children:d.jsx("div",{dangerouslySetInnerHTML:{__html:R.replace(/\n/g,"<br/>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/- /g," ")}})}),$&&d.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-700 pt-4",children:[d.jsxs("button",{onClick:()=>E(!x),className:"w-full flex items-center justify-center gap-2 py-3 px-4 bg-slate-50 dark:bg-slate-700/50 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg text-slate-700 dark:text-slate-200 text-sm font-semibold transition-colors border border-slate-200 dark:border-slate-600",children:[d.jsx(F6,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),x?"Ocultar Detalhes Tcnicos":"Ver Anlise Tcnica Detalhada",x?d.jsx(G6,{className:"w-4 h-4"}):d.jsx(z6,{className:"w-4 h-4"})]}),x&&d.jsx("div",{className:"mt-4 p-5 bg-slate-50 dark:bg-slate-900/50 rounded-lg border border-slate-200 dark:border-slate-700 animate-fade-in",children:d.jsx("div",{className:"prose prose-sm prose-slate dark:prose-invert max-w-none text-slate-600 dark:text-slate-400",children:d.jsx("div",{dangerouslySetInnerHTML:{__html:$.replace(/\n/g,"<br/>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/- /g," ")}})})})]}),c.sources.length>0&&d.jsxs("div",{className:"border-t border-slate-100 dark:border-slate-700 pt-4",children:[d.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Fontes Consultadas"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:c.sources.map((W,Z)=>d.jsxs("a",{href:W.uri,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-2 py-1 rounded hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors",children:[d.jsx(TD,{className:"w-3 h-3"}),W.title.length>30?W.title.substring(0,30)+"...":W.title]},Z))})]}),d.jsx("div",{className:"mt-4 flex justify-end",children:d.jsx("button",{onClick:F,className:"text-sm text-purple-600 hover:underline",children:"Atualizar Recomendao"})})]}):d.jsx("div",{className:"text-center text-slate-500",children:"Erro ao carregar recomendao."})})]}),l&&d.jsxs("form",{onSubmit:N,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[d.jsx("div",{className:"col-span-1 md:col-span-2",children:d.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Adicionar Novo Ativo"})}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Nome"}),d.jsx("input",{required:!0,type:"text",placeholder:"Ex: CDB Banco X, PETR4",value:M.name,onChange:W=>j({...M,name:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Valor Atual (Mercado)"}),d.jsx("input",{required:!0,type:"number",placeholder:"R$",value:M.amount,onChange:W=>j({...M,amount:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none font-bold"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Valor Investido (Custo)"}),d.jsx("input",{type:"number",placeholder:"Igual ao atual se vazio",value:M.investedAmount,onChange:W=>j({...M,investedAmount:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Objetivo Final (Meta)"}),d.jsx("input",{type:"number",placeholder:"R$",value:M.targetAmount,onChange:W=>j({...M,targetAmount:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 focus:ring-2 focus:ring-indigo-500 outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Tipo"}),d.jsxs("select",{value:M.type,onChange:W=>j({...M,type:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2",children:[d.jsx("option",{value:"Renda Fixa",children:"Renda Fixa"}),d.jsx("option",{value:"Aes",children:"Aes"}),d.jsx("option",{value:"FIIs",children:"FIIs"}),d.jsx("option",{value:"Cripto",children:"Criptomoedas"}),d.jsx("option",{value:"Reserva",children:"Reserva de Emergncia"}),d.jsx("option",{value:"Outros",children:"Outros"})]})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Data da Compra"}),d.jsx("input",{required:!0,type:"date",value:M.date,onChange:W=>j({...M,date:W.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2"})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-2 mt-2",children:[d.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:"Salvar"})]})]}),w&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-xl w-full max-w-sm p-6 animate-fade-in",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Novo Aporte"}),d.jsx("button",{onClick:()=>_(null),className:"text-slate-400 hover:text-slate-600",children:d.jsx(qn,{className:"w-5 h-5"})})]}),d.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Ao aportar, o valor ser somado ao Custo e ao Valor Atual."}),d.jsxs("form",{onSubmit:V,children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-xs font-semibold text-slate-500 dark:text-slate-400 mb-1",children:"VALOR DO APORTE"}),d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:"absolute left-3 top-2 text-slate-400",children:"R$"}),d.jsx("input",{autoFocus:!0,required:!0,type:"number",step:"0.01",className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg py-2 pl-8 pr-3 focus:ring-2 focus:ring-indigo-500 outline-none text-lg font-medium",value:C,onChange:W=>S(W.target.value)})]})]}),d.jsxs("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-3 rounded-lg font-medium hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2",children:[d.jsx(eb,{className:"w-5 h-5"}),"Confirmar Aporte"]})]})]})}),d.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.length===0?d.jsx("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700 text-slate-400",children:"Voc ainda no registrou investimentos."}):t.map(W=>{const Z=W.investedAmount||W.amount,ve=W.amount-Z,se=Z>0?ve/Z*100:0,be=W.targetAmount&&W.targetAmount>0?Math.min(100,W.amount/W.targetAmount*100):0;return d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-shadow relative group",children:[d.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4 mb-2",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 p-3 rounded-full text-indigo-600 dark:text-indigo-400",children:d.jsx(um,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-slate-800 dark:text-white text-lg",children:W.name}),d.jsxs("div",{className:"flex flex-wrap gap-2 text-xs mt-1",children:[d.jsx("span",{className:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-2 py-0.5 rounded",children:W.type}),se!==0&&d.jsxs("span",{className:`px-2 py-0.5 rounded font-bold flex items-center gap-1 ${se>0?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100 text-rose-700 dark:bg-rose-900/30 dark:text-rose-400"}`,children:[se>0?d.jsx(Yi,{className:"w-3 h-3"}):d.jsx(dm,{className:"w-3 h-3"}),se.toFixed(2),"%"]})]})]})]}),d.jsxs("div",{className:"flex items-start justify-between md:justify-end gap-3 md:gap-6 mt-2 md:mt-0",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:"block text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:"Valor Atual"}),k===W.id?d.jsx("div",{className:"flex items-center justify-end gap-1 mt-1",children:d.jsx("input",{autoFocus:!0,type:"number",className:"w-24 p-1 text-sm border rounded bg-white dark:bg-slate-900 dark:text-white dark:border-slate-600 text-right",value:I,onChange:de=>P(de.target.value),onKeyDown:de=>de.key==="Enter"&&z(W.id),onBlur:()=>z(W.id)})}):d.jsxs("div",{className:"group/edit relative inline-block",children:[d.jsx("span",{className:"font-bold text-slate-800 dark:text-white text-xl cursor-pointer hover:text-indigo-500 border-b border-dashed border-transparent hover:border-indigo-400 transition-all",onClick:()=>{T(W.id),P(W.amount.toString())},title:"Clique para atualizar cotao",children:le(W.amount)}),d.jsx(g1,{className:"w-3 h-3 text-slate-300 absolute -right-4 top-1 opacity-0 group-hover/edit:opacity-100 transition-opacity"})]}),d.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["Investido: ",le(Z)]})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("button",{onClick:()=>_(W.id),className:"p-1.5 text-indigo-600 bg-indigo-50 hover:bg-indigo-100 dark:text-indigo-400 dark:bg-indigo-900/30 dark:hover:bg-indigo-900/50 rounded-lg transition-colors",title:"Novo Aporte",children:d.jsx(eb,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>r(W.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors",title:"Excluir",children:d.jsx(wa,{className:"w-4 h-4"})})]})]})]}),W.targetAmount>0?d.jsx("div",{className:"mt-3 bg-slate-50 dark:bg-slate-700/50 p-2 rounded-lg border border-slate-100 dark:border-slate-700 flex items-center gap-3",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex justify-between items-end mb-1",children:[d.jsxs("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase flex items-center gap-1",children:[d.jsx(oa,{className:"w-3 h-3"})," Meta: ",le(W.targetAmount)]}),d.jsxs("span",{className:"text-[10px] font-bold text-indigo-600 dark:text-indigo-400",children:[be.toFixed(0),"%"]})]}),d.jsx("div",{className:"w-full h-1.5 bg-slate-200 dark:bg-slate-600 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-indigo-500 rounded-full transition-all duration-1000",style:{width:`${be}%`}})})]})}):d.jsx("div",{className:"mt-2 flex justify-end opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsxs("button",{onClick:()=>u(!0),className:"text-[10px] text-slate-400 hover:text-indigo-500 flex items-center gap-1 uppercase font-bold tracking-wider",children:[d.jsx(q6,{className:"w-3 h-3"})," Definir Meta"]})})]},W.id)})})]})},CIe=["Casa","Mobilidade","Alimentos","Lazer","Pets","Outros"],PIe=({budgets:t,transactions:e,investments:n,onAdd:r,onUpdate:i,onDelete:o,onNavigate:s,privacyMode:a,quickActionSignal:l})=>{const[u,c]=U.useState(!1),[f,h]=U.useState(!1),[y,v]=U.useState(new Date),[b,x]=U.useState(null),[E,w]=U.useState(""),[_,C]=U.useState({category:"Lazer",limit:"",isRecurring:!0,month:new Date().toISOString().slice(0,7)});U.useEffect(()=>{l&&Date.now()-l<2e3&&(c(!0),C({category:"Lazer",limit:"",isRecurring:!0,month:new Date().toISOString().slice(0,7)}))},[l]);const S=()=>{v(R=>{const $=new Date(R);return $.setMonth(R.getMonth()-1),$})},k=()=>{v(R=>{const $=new Date(R);return $.setMonth(R.getMonth()+1),$})},T=R=>R.toLocaleDateString("pt-BR",{month:"long",year:"numeric"}),I=()=>{const R=y.getFullYear(),$=String(y.getMonth()+1).padStart(2,"0");return`${R}-${$}`},P=R=>{if(R.preventDefault(),_.isRecurring){if(t.some(G=>G.category===_.category&&G.isRecurring)){alert(`J existe um oramento recorrente para ${_.category}. Exclua o anterior para criar um novo.`);return}}else if(t.some(G=>G.category===_.category&&G.month===_.month)){alert(`J existe um oramento de ${_.category} para ${_.month}.`);return}const $={category:_.category,limit:parseFloat(_.limit),isRecurring:_.isRecurring};_.isRecurring||($.month=_.month),r($),C({category:"Outros",limit:"",isRecurring:!0,month:I()}),c(!1)},M=R=>{const $=parseFloat(E);!isNaN($)&&$>0&&i(R,{limit:$}),x(null)},j=R=>{x(R.id),w(R.limit.toString())},D=R=>a?"":`R$ ${R.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,N=R=>{const $=y.getFullYear(),G=y.getMonth();return e.filter(K=>{const q=new Date(K.date);return K.type==="expense"&&K.category===R&&q.getMonth()===G&&q.getFullYear()===$}).reduce((K,q)=>K+q.amount,0)},V=U.useMemo(()=>{const R=I(),$=t.filter(q=>q.month===R),G=new Set($.map(q=>q.category)),K=t.filter(q=>q.isRecurring&&!G.has(q.category));return[...$,...K].sort((q,X)=>q.category.localeCompare(X.category))},[t,y]),z=U.useMemo(()=>n.filter(R=>R.targetAmount>0).sort((R,$)=>{const G=R.amount/R.targetAmount;return $.amount/$.targetAmount-G}),[n]),F=R=>{const $=new Date;if($.getMonth()!==y.getMonth()||$.getFullYear()!==y.getFullYear())return null;const G=$.getDate(),K=new Date($.getFullYear(),$.getMonth()+1,0).getDate();return G===1?R:R/G*K},H=U.useMemo(()=>{const R=new Map,$=new Date;for(let K=0;K<6;K++){const q=new Date($.getFullYear(),$.getMonth()-K,1),X=q.getFullYear(),le=q.getMonth(),W=`${X}-${String(le+1).padStart(2,"0")}`;new Set(e.filter(J=>{const ve=new Date(J.date);return J.type==="expense"&&ve.getFullYear()===X&&ve.getMonth()===le}).map(J=>J.category)).forEach(J=>{let ve=t.find(se=>se.category===J&&se.month===W);if(ve||(ve=t.find(se=>se.category===J&&se.isRecurring)),ve){const se=e.filter(de=>{const ne=new Date(de.date);return de.type==="expense"&&de.category===J&&ne.getFullYear()===X&&ne.getMonth()===le}).reduce((de,ne)=>de+ne.amount,0),be=R.get(J)||{totalSpent:0,totalLimit:0,count:0};R.set(J,{totalSpent:be.totalSpent+se,totalLimit:be.totalLimit+ve.limit,count:be.count+1})}})}return Array.from(R.entries()).map(([K,q])=>{const X=q.totalSpent/q.totalLimit*100;return{name:K,adherence:X,spent:q.totalSpent/q.count,limit:q.totalLimit/q.count}}).sort((K,q)=>q.adherence-K.adherence)},[t,e]);return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Planejamento"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm capitalize",children:"Defina limites e acompanhe suas metas."})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsx("button",{onClick:()=>h(!f),className:`p-2.5 rounded-lg transition-colors border ${f?"bg-indigo-50 border-indigo-200 text-indigo-600 dark:bg-indigo-900/30 dark:border-indigo-800 dark:text-indigo-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300"}`,title:"Ver Anlise de Performance",children:d.jsx(Sd,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-1",children:[d.jsx("button",{onClick:S,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:d.jsx(h1,{className:"w-5 h-5"})}),d.jsxs("div",{className:"px-4 font-semibold text-slate-700 dark:text-slate-200 capitalize min-w-[140px] text-center flex items-center justify-center gap-2",children:[d.jsx(Ki,{className:"w-4 h-4 text-pink-500"}),T(y)]}),d.jsx("button",{onClick:k,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:d.jsx(i0,{className:"w-5 h-5"})})]}),d.jsxs("button",{onClick:()=>{C(R=>({...R,month:I()})),c(!u)},className:"flex items-center gap-2 bg-pink-600 text-white px-4 py-2.5 rounded-lg hover:bg-pink-700 transition-colors shadow-sm text-sm font-medium",children:[d.jsx(Er,{className:"w-4 h-4"}),"Definir Teto"]})]})]}),f&&H.length>0&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 animate-fade-in-down mb-6",children:[d.jsx("div",{className:"mb-6",children:d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Yi,{className:"w-5 h-5 text-indigo-500"}),"Performance Histrica (ltimos 6 Meses)"]})}),d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(Zo,{width:"100%",height:"100%",children:d.jsxs(FS,{data:H,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(lu,{strokeDasharray:"3 3",horizontal:!1,stroke:"#e2e8f0",opacity:.5}),d.jsx(mi,{type:"number",hide:!0}),d.jsx(gi,{dataKey:"name",type:"category",width:100,tick:{fill:"#64748b",fontSize:12,fontWeight:500},axisLine:!1,tickLine:!1}),d.jsx(rn,{cursor:{fill:"transparent"},contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:R=>[`${R.toFixed(0)}%`,"Mdia de Uso"]}),d.jsx(th,{x:100,stroke:"#ef4444",strokeDasharray:"3 3"}),d.jsx(pi,{dataKey:"adherence",radius:[0,4,4,0],barSize:20,children:H.map((R,$)=>d.jsx(Ia,{fill:R.adherence>100?"#ef4444":R.adherence>85?"#f59e0b":"#10b981"},`cell-${$}`))})]})})})]}),u&&d.jsxs("form",{onSubmit:P,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[d.jsx("div",{className:"col-span-1 md:col-span-2",children:d.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Novo Limite de Gastos"})}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:"Categoria"}),d.jsx("select",{value:_.category,onChange:R=>C({..._,category:R.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-pink-500",children:CIe.map(R=>d.jsx("option",{value:R,children:R},R))})]}),d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:"Valor Teto (R$)"}),d.jsx("input",{required:!0,type:"number",placeholder:"Ex: 1000.00",value:_.limit,onChange:R=>C({..._,limit:R.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-pink-500"})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 bg-slate-50 dark:bg-slate-700/50 p-3 rounded-lg border border-slate-100 dark:border-slate-700",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx("input",{type:"checkbox",id:"isRecurringBudget",checked:_.isRecurring,onChange:R=>C({..._,isRecurring:R.target.checked}),className:"w-4 h-4 text-pink-600 rounded"}),d.jsxs("label",{htmlFor:"isRecurringBudget",className:"text-sm font-medium text-slate-700 dark:text-slate-200 flex items-center gap-1 cursor-pointer",children:[d.jsx(ia,{className:"w-4 h-4"})," Oramento Recorrente?"]})]}),_.isRecurring?d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[d.jsx(nB,{className:"w-3 h-3"})," Este limite ser aplicado automaticamente em todos os meses futuros."]}):d.jsxs("div",{className:"animate-fade-in",children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400 block mb-1",children:"Ms de Referncia"}),d.jsx("input",{type:"month",required:!_.isRecurring,value:_.month,onChange:R=>C({..._,month:R.target.value}),className:"border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2 outline-none w-full max-w-[200px]"})]})]}),d.jsxs("div",{className:"col-span-1 md:col-span-2 flex justify-end gap-2 mt-2",children:[d.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 bg-pink-600 text-white rounded-lg hover:bg-pink-700 font-medium",children:"Salvar Teto"})]})]}),d.jsxs("div",{className:"mb-10",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200 mb-4 flex items-center gap-2",children:[d.jsx(Wx,{className:"w-5 h-5 text-rose-500"})," Tetos de Gastos"]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:V.length===0?d.jsxs("div",{className:"col-span-full py-12 text-center bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[d.jsx(oa,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"Nenhum teto definido."})]}):V.map(R=>{const $=N(R.category),G=F($),K=Math.min(100,$/R.limit*100),q=G?Math.min(100,G/R.limit*100):0,X=$>R.limit;let le="bg-emerald-500",W=d.jsx(Jx,{className:"w-5 h-5 text-emerald-600"});return K>100?(le="bg-rose-500",W=d.jsx(Wx,{className:"w-5 h-5 text-rose-600"})):K>85?(le="bg-rose-500",W=d.jsx(sm,{className:"w-5 h-5 text-rose-500"})):K>70&&(le="bg-amber-500",W=d.jsx(sm,{className:"w-5 h-5 text-amber-500"})),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-all relative group",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2.5 rounded-lg bg-slate-100 dark:bg-slate-700",children:W}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-slate-800 dark:text-white",children:R.category}),d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[R.isRecurring?d.jsx(ia,{className:"w-3 h-3"}):d.jsx(Td,{className:"w-3 h-3"}),R.isRecurring?"Mensal":"Especfico"]})]})]}),b===R.id?d.jsxs("div",{className:"flex items-center gap-1 animate-fade-in",children:[d.jsx("input",{autoFocus:!0,type:"number",className:"w-20 p-1 text-sm border rounded bg-white dark:bg-slate-900 dark:text-white dark:border-slate-600",value:E,onChange:Z=>w(Z.target.value),onKeyDown:Z=>Z.key==="Enter"&&M(R.id)}),d.jsx("button",{onClick:()=>M(R.id),className:"p-1 bg-emerald-100 text-emerald-600 rounded hover:bg-emerald-200",children:d.jsx(vB,{className:"w-3 h-3"})}),d.jsx("button",{onClick:()=>x(null),className:"p-1 bg-slate-100 text-slate-600 rounded hover:bg-slate-200",children:d.jsx(qn,{className:"w-3 h-3"})})]}):d.jsxs("div",{className:"text-right group-hover:hidden",children:[d.jsx("p",{className:"text-xs text-slate-500",children:"Limite"}),d.jsx("p",{className:"font-bold text-slate-800 dark:text-white cursor-pointer hover:text-indigo-500",onClick:()=>j(R),children:D(R.limit)})]}),d.jsxs("div",{className:"hidden group-hover:flex gap-1 absolute top-4 right-4 bg-white dark:bg-slate-800 pl-2",children:[d.jsx("button",{onClick:()=>j(R),className:"p-1.5 text-slate-400 hover:text-indigo-500 hover:bg-indigo-50 rounded",children:d.jsx(g1,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>o(R.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded",children:d.jsx(wa,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"space-y-2 relative",children:[d.jsxs("div",{className:"flex justify-between items-end text-sm",children:[d.jsxs("span",{className:"text-slate-600 dark:text-slate-300 font-medium",children:["Gasto: ",d.jsx("span",{className:X?"text-rose-500 font-bold":"",children:D($)})]}),d.jsxs("span",{className:"text-slate-400 text-xs",children:[K.toFixed(0),"%"]})]}),d.jsxs("div",{className:"w-full h-3 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden relative",children:[G&&G>$&&!X&&d.jsx("div",{className:"absolute top-0 left-0 h-full bg-slate-200 dark:bg-slate-600 opacity-50 border-r-2 border-slate-400 dark:border-slate-400 transition-all duration-1000",style:{width:`${q}%`},title:`Previso de fechar o ms em ${D(G)}`}),d.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${le} relative z-10`,style:{width:`${K}%`}})]}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[G&&G>R.limit&&!X&&d.jsxs("p",{className:"text-[10px] text-amber-600 dark:text-amber-400 flex items-center gap-1 font-semibold animate-pulse",children:[d.jsx(Y6,{className:"w-3 h-3"})," Previso de estouro: ",D(G)]}),d.jsx("div",{className:"flex-1"}),d.jsx("p",{className:"text-xs text-right font-medium",children:X?d.jsxs("span",{className:"text-rose-500",children:["Excedido: ",D($-R.limit)]}):d.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400",children:["Restam: ",D(R.limit-$)]})})]})]})]},R.id)})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-200 flex items-center gap-2",children:[d.jsx(qA,{className:"w-5 h-5 text-yellow-500"})," Objetivos de Conquista"]}),d.jsxs("button",{onClick:()=>s(Me.INVESTMENTS),className:"text-xs font-semibold text-indigo-600 hover:text-indigo-700 dark:text-indigo-400 flex items-center gap-1 transition-colors",children:["Gerenciar Carteira ",d.jsx(r0,{className:"w-3 h-3"})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:z.length===0?d.jsxs("div",{className:"col-span-full py-8 text-center bg-yellow-50/50 dark:bg-yellow-900/10 rounded-xl border border-dashed border-yellow-200 dark:border-yellow-800",children:[d.jsx(oa,{className:"w-10 h-10 text-yellow-400 mx-auto mb-2"}),d.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:'Defina uma "Meta Final" nos seus investimentos para v-los aqui.'}),d.jsx("button",{onClick:()=>s(Me.INVESTMENTS),className:"mt-3 text-xs bg-yellow-100 hover:bg-yellow-200 text-yellow-700 px-3 py-1.5 rounded-lg font-bold transition-colors",children:"Ir para Investimentos"})]}):z.map(R=>{const $=Math.min(100,R.amount/R.targetAmount*100);return d.jsxs("div",{onClick:()=>s(Me.INVESTMENTS),className:"bg-gradient-to-br from-white to-yellow-50 dark:from-slate-800 dark:to-slate-800/50 p-6 rounded-xl shadow-sm border border-yellow-200 dark:border-yellow-900/30 relative overflow-hidden cursor-pointer hover:shadow-md hover:scale-[1.02] transition-all group",children:[d.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(CD,{className:"w-4 h-4 text-slate-400"})}),d.jsxs("div",{className:"flex justify-between items-start mb-4 relative z-10",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2.5 rounded-lg bg-yellow-100 text-yellow-600 dark:bg-yellow-900/30 dark:text-yellow-400",children:d.jsx(Yi,{className:"w-5 h-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-bold text-slate-800 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:R.name}),d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Meta: ",D(R.targetAmount)]})]})]}),d.jsx("div",{className:"text-right",children:d.jsxs("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:[$.toFixed(0),"%"]})})]}),d.jsx("div",{className:"w-full h-4 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden relative z-10",children:d.jsx("div",{className:"h-full bg-gradient-to-r from-yellow-400 to-amber-500 rounded-full transition-all duration-1000 shadow-[0_0_10px_rgba(251,191,36,0.5)]",style:{width:`${$}%`},children:d.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-white/30 to-transparent -translate-x-full animate-[shimmer_2s_infinite]"})})}),d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2 text-right relative z-10",children:["Faltam ",D(R.targetAmount-R.amount)]}),d.jsx(qA,{className:"absolute -bottom-4 -right-4 w-32 h-32 text-yellow-500/5 rotate-12 pointer-events-none"})]},R.id)})})]})]})},NIe=({transactions:t,onUpdateTransaction:e,onDeleteTransaction:n,privacyMode:r})=>{const i=U.useMemo(()=>{const h=new Map;return t.filter(v=>v.type==="expense"&&v.isRecurring).forEach(v=>{const b=h.get(v.description);(!b||new Date(v.date)>new Date(b.date))&&h.set(v.description,v)}),Array.from(h.values()).sort((v,b)=>b.amount-v.amount)},[t]),o=i.reduce((h,y)=>h+y.amount,0),s=o*12,a=U.useMemo(()=>i.slice(0,10).map(h=>({name:h.description,amount:h.amount,annual:h.amount*12,color:h.amount>200?"#ef4444":h.amount>50?"#f59e0b":"#3b82f6"})),[i]),l=h=>r?"":`R$ ${h.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,u=h=>{confirm("Deseja parar de considerar este item como recorrente? Ele continuar como uma transao comum.")&&e(h,{isRecurring:!1})},c=h=>{const v=new Date(h).getDate(),b=new Date;let x=new Date(b.getFullYear(),b.getMonth(),v);x.setHours(0,0,0,0)<b.setHours(0,0,0,0)&&x.setMonth(x.getMonth()+1);const E=x.getTime()-b.getTime(),w=Math.ceil(E/(1e3*60*60*24));return w===0?{label:"Hoje",color:"text-rose-500 font-bold bg-rose-100 dark:bg-rose-900/30"}:w===1?{label:"Amanh",color:"text-amber-500 font-bold bg-amber-100 dark:bg-amber-900/30"}:{label:`em ${w} dias`,color:"text-slate-500 bg-slate-100 dark:bg-slate-700"}},f=({active:h,payload:y,label:v})=>{if(h&&y&&y.length){const b=y[0].payload;return d.jsxs("div",{className:"bg-white/95 dark:bg-slate-800/95 p-3 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 backdrop-blur-sm",children:[d.jsx("p",{className:"font-bold text-slate-800 dark:text-white mb-2 border-b border-slate-100 dark:border-slate-700 pb-1",children:b.name}),d.jsxs("div",{className:"space-y-1",children:[d.jsxs("div",{className:"flex justify-between gap-6 text-xs text-slate-500 dark:text-slate-400",children:[d.jsx("span",{children:"Mensalidade:"}),d.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:r?"":`R$ ${b.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})}`})]}),d.jsxs("div",{className:"flex justify-between gap-6 text-xs text-slate-500 dark:text-slate-400",children:[d.jsx("span",{children:"Custo Anual:"}),d.jsx("span",{className:"font-bold text-emerald-600 dark:text-emerald-400",children:r?"":`R$ ${b.annual.toLocaleString("pt-BR",{minimumFractionDigits:2})}`})]})]})]})}return null};return d.jsxs("div",{className:"space-y-6 animate-fade-in",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(ia,{className:"w-7 h-7 text-indigo-600"}),"Gesto de Assinaturas"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Gerencie seus gastos recorrentes e descubra o impacto anual das pequenas mensalidades."})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-indigo-600 text-white p-6 rounded-xl shadow-lg relative overflow-hidden",children:[d.jsxs("div",{className:"relative z-10",children:[d.jsx("p",{className:"text-indigo-200 text-sm font-medium mb-1 uppercase tracking-wider",children:"Custo Mensal Real"}),d.jsx("h3",{className:"text-3xl font-bold",children:l(o)}),d.jsxs("p",{className:"text-indigo-200 text-xs mt-2 opacity-80",children:[i.length," assinaturas ativas"]})]}),d.jsx(Td,{className:"absolute right-4 bottom-4 w-24 h-24 text-indigo-500 opacity-20"})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 p-6 rounded-xl shadow-sm relative overflow-hidden",children:[d.jsxs("div",{className:"relative z-10",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1 uppercase tracking-wider",children:"Impacto Anual"}),d.jsx("h3",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:l(s)}),d.jsxs("p",{className:"text-emerald-500 text-xs mt-2 font-medium flex items-center gap-1",children:[d.jsx(Yi,{className:"w-3 h-3"}),"Projeo de 12 meses"]})]}),d.jsx(um,{className:"absolute right-4 bottom-4 w-24 h-24 text-slate-100 dark:text-slate-700"})]})]}),a.length>0&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2 mb-4",children:[d.jsx(Sd,{className:"w-5 h-5 text-indigo-500"}),"Ranking de Custos (Top 10)"]}),d.jsx("div",{className:"h-[250px] w-full",children:d.jsx(Zo,{width:"100%",height:"100%",children:d.jsxs(FS,{data:a,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(lu,{strokeDasharray:"3 3",horizontal:!1,stroke:"#e2e8f0",opacity:.5}),d.jsx(mi,{type:"number",hide:!0}),d.jsx(gi,{dataKey:"name",type:"category",width:120,tick:{fill:"#64748b",fontSize:11,fontWeight:500},axisLine:!1,tickLine:!1}),d.jsx(rn,{content:d.jsx(f,{}),cursor:{fill:"transparent"}}),d.jsx(pi,{dataKey:"amount",radius:[0,4,4,0],barSize:20,children:a.map((h,y)=>d.jsx(Ia,{fill:h.color},`cell-${y}`))})]})})})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.length===0?d.jsxs("div",{className:"col-span-full py-12 text-center bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[d.jsx(ia,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"Nenhuma assinatura encontrada."}),d.jsx("p",{className:"text-slate-400 text-sm",children:'Marque a opo "Recorrente" ao adicionar uma despesa.'})]}):i.map(h=>{const y=c(h.date);return d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 hover:shadow-md transition-all group relative",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{className:"overflow-hidden mr-2",children:[d.jsx("h4",{className:"font-bold text-slate-800 dark:text-white text-lg truncate mb-1",children:h.description}),d.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400",children:h.category})]}),d.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[d.jsx("button",{onClick:()=>u(h.id),className:"p-1.5 text-slate-400 hover:text-amber-500 hover:bg-amber-50 dark:hover:bg-amber-900/30 rounded-lg transition-colors",title:"Remover recorrncia",children:d.jsx(bD,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>n(h.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors",title:"Excluir assinatura",children:d.jsx(qn,{className:"w-4 h-4"})})]})]}),d.jsx("div",{className:"flex items-center justify-between mt-2 mb-4",children:d.jsxs("div",{className:`flex items-center gap-1.5 text-[10px] uppercase font-bold px-2 py-1 rounded-md ${y.color}`,children:[d.jsx(Ki,{className:"w-3 h-3"}),"Renova ",y.label]})}),d.jsxs("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-xs text-slate-400 block",children:"Mensal"}),d.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:l(h.amount)})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:"text-xs text-slate-400 block",children:"Anual"}),d.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:l(h.amount*12)})]})]})]},h.id)})})]})},oO="NEXO Finanas",RIe=async()=>{const t=new Fr;t.addScope("https://www.googleapis.com/auth/calendar");try{const e=await wj(Di,t),n=Fr.credentialFromResult(e);return(n==null?void 0:n.accessToken)||null}catch(e){return console.error("Error getting access token:",e),null}},y_=async(t,e,n,r)=>{var o;const i=await fetch(t,{method:e,headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:r?JSON.stringify(r):void 0});if(!i.ok){const s=await i.json();throw new Error(((o=s.error)==null?void 0:o.message)||"Google API Error")}return i.status===204?null:i.json()},OIe=async t=>{const n=(await y_("https://www.googleapis.com/calendar/v3/users/me/calendarList","GET",t)).items.find(i=>i.summary===oO);return n?n.id:(await y_("https://www.googleapis.com/calendar/v3/calendars","POST",t,{summary:oO,description:"Calendrio financeiro gerado pelo app NEXO."})).id},MIe=async(t,e,n)=>{const r={summary:` Pagar: ${t.description}`,description:`Valor: R$ ${t.amount.toFixed(2)}
Categoria: ${t.category}
Obs: ${t.observation||"-"}`,start:{date:t.date},end:{date:t.date},colorId:"11",reminders:{useDefault:!1,overrides:[{method:"popup",minutes:1440},{method:"popup",minutes:540}]}};return(await y_(`https://www.googleapis.com/calendar/v3/calendars/${n}/events`,"POST",e,r)).id},DIe=async(t,e)=>{const n=await RIe();if(!n)throw new Error("Acesso ao Google Agenda negado.");const r=await OIe(n),i=t.filter(s=>s.type==="expense"&&s.status==="pending"&&!s.googleEventId&&new Date(s.date)>=new Date);if(i.length===0)return 0;let o=0;for(const s of i)try{const a=await MIe(s,n,r);e(s.id,{googleEventId:a}),o++}catch(a){console.error(`Failed to sync transaction ${s.description}`,a)}return o},jIe=["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],$Ie=["Casa","Mobilidade","Alimentos","Lazer","Sade","Educao","Pets","Salrio","Renda Extra","Investimentos","Outros"],LIe=[{value:"credit_card",label:"Crdito"},{value:"debit_card",label:"Dbito"},{value:"pix",label:"PIX"},{value:"cash",label:"Dinheiro"},{value:"direct_debit",label:"Dbito Auto."}],FIe=t=>{let e=`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//NEXO Finance//PT-BR
`;t.forEach(i=>{const o=i.date.replace(/-/g,"");e+=`BEGIN:VEVENT
`,e+=`DTSTART;VALUE=DATE:${o}
`,e+=`DTEND;VALUE=DATE:${o}
`,e+=`SUMMARY:${i.description} (${i.type==="income"?"+":"-"} R$ ${i.amount})
`,e+=`DESCRIPTION:Categoria: ${i.category} | Status: ${i.status} ${i.observation?"| Obs: "+i.observation:""}
`,e+=`END:VEVENT
`}),e+="END:VCALENDAR";const n=new Blob([e],{type:"text/calendar;charset=utf-8"}),r=document.createElement("a");r.href=window.URL.createObjectURL(n),r.setAttribute("download","nexo_agenda.ics"),document.body.appendChild(r),r.click(),document.body.removeChild(r)},VIe=({transactions:t,budgets:e,onAddTransaction:n,privacyMode:r})=>{const[i,o]=U.useState(new Date),[s,a]=U.useState(new Date().getDate()),[l,u]=U.useState("all"),[c,f]=U.useState(!1),[h,y]=U.useState(!1),[v,b]=U.useState({description:"",amount:"",type:"expense",category:"Outros",paymentMethod:"credit_card",status:"pending",observation:""}),x=i.getFullYear(),E=i.getMonth(),w=(R,$)=>new Date(R,$+1,0).getDate(),_=(R,$)=>new Date(R,$,1).getDay(),C=w(x,E),S=_(x,E),k=U.useMemo(()=>{const R=[],$=new Date,G=$.getMonth(),K=$.getFullYear(),q=$.toISOString().slice(0,7);return e.forEach(X=>{if(!(X.isRecurring&&!e.some(Z=>Z.category===X.category&&Z.month===q&&!Z.isRecurring)||X.month===q))return;t.filter(Z=>Z.type==="expense"&&Z.category===X.category&&new Date(Z.date).getMonth()===G&&new Date(Z.date).getFullYear()===K).reduce((Z,J)=>Z+J.amount,0)>=X.limit&&R.push({title:`Limite Excedido: ${X.category}`,message:"Voc estourou o teto definido para esta categoria.",type:"warning"})}),R},[e,t]),T=U.useMemo(()=>{const R=t.filter(X=>{const[le,W]=X.date.split("-").map(Number);return le===x&&W===E+1}),$=new Map;t.forEach(X=>{if(X.isRecurring){const le=$.get(X.description);(!le||new Date(X.date)>new Date(le.date))&&$.set(X.description,X)}});const G=[],K=new Date;return new Date(x,E,1)>=new Date(K.getFullYear(),K.getMonth(),1)&&$.forEach(X=>{if(!R.some(W=>W.description===X.description&&W.amount===X.amount)){const W=new Date(X.date),Z=W.getDate(),J=Math.min(Z,C);W<new Date(x,E+1,0)&&G.push({...X,id:`ghost-${X.id}-${x}-${E}`,date:`${x}-${String(E+1).padStart(2,"0")}-${String(J).padStart(2,"0")}`,status:"pending",isGhost:!0})}}),[...R,...G].filter(X=>l==="all"?!0:l==="pending"?X.status==="pending":X.type===l)},[t,x,E,C,l]),I=U.useMemo(()=>s===null?[]:T.filter(R=>parseInt(R.date.split("-")[2])===s),[T,s]),P=U.useMemo(()=>{let R=0;for(let $=1;$<=C;$++){const G=T.filter(K=>parseInt(K.date.split("-")[2])===$&&K.type==="expense").reduce((K,q)=>K+q.amount,0);G>R&&(R=G)}return R||1},[T,C]),M=()=>{o(new Date(x,E-1,1)),a(null)},j=()=>{o(new Date(x,E+1,1)),a(null)},D=()=>{s&&(b({description:"",amount:"",type:"expense",category:"Outros",paymentMethod:"credit_card",status:"pending",observation:""}),y(!0))},N=R=>{if(R.preventDefault(),!s)return;const $=`${x}-${String(E+1).padStart(2,"0")}-${String(s).padStart(2,"0")}`;n({description:v.description,amount:parseFloat(v.amount),type:v.type,category:v.category,date:$,status:v.status,paymentMethod:v.paymentMethod,isRecurring:!1,observation:v.observation}),y(!1)},V=async()=>{if(!Di.currentUser){alert("Voc precisa estar logado para sincronizar.");return}f(!0);try{const R=await DIe(t,($,G)=>{Rp(Di.currentUser.uid,$,G)});R>0?alert(`${R} eventos criados na sua Google Agenda!`):alert("Tudo sincronizado! Nenhuma nova conta pendente encontrada.")}catch(R){console.error(R),alert("Erro ao sincronizar: "+R.message)}finally{f(!1)}},z=R=>r?"":R>=1e3?(R/1e3).toFixed(1)+"k":R.toFixed(0),F=R=>r?"":`R$ ${R.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,H=[];for(let R=0;R<S;R++)H.push(d.jsx("div",{className:"h-28 bg-slate-50/30 dark:bg-slate-800/30 border border-slate-100 dark:border-slate-700/50"},`empty-${R}`));for(let R=1;R<=C;R++){const $=T.filter(Z=>parseInt(Z.date.split("-")[2])===R),G=$.filter(Z=>Z.type==="income").reduce((Z,J)=>Z+J.amount,0),K=$.filter(Z=>Z.type==="expense").reduce((Z,J)=>Z+J.amount,0),q=Math.min(1,K/P);let X="bg-white dark:bg-slate-800";K>0&&(q>.7?X="bg-rose-100 dark:bg-rose-900/40":q>.4?X="bg-rose-50 dark:bg-rose-900/20":X="bg-slate-50 dark:bg-slate-800");const le=new Date().getDate()===R&&new Date().getMonth()===E&&new Date().getFullYear()===x,W=s===R;H.push(d.jsxs("div",{onClick:()=>a(R),className:`h-28 p-1.5 border border-slate-100 dark:border-slate-700 relative cursor-pointer transition-all hover:brightness-95
          ${W?"ring-2 ring-inset ring-indigo-500 z-10":""}
          ${X}
        `,children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("span",{className:`text-xs font-bold inline-flex w-6 h-6 items-center justify-center rounded-full ${le?"bg-indigo-600 text-white shadow-lg":"text-slate-500 dark:text-slate-400"}`,children:R}),$.some(Z=>Z.status==="pending")&&d.jsx("div",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full animate-pulse",title:"Pagamentos Pendentes"})]}),d.jsxs("div",{className:"mt-2 flex flex-col gap-0.5",children:[G>0&&d.jsxs("div",{className:"text-[10px] font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-100/50 dark:bg-emerald-900/30 px-1 rounded truncate",children:["+",z(G)]}),K>0&&d.jsxs("div",{className:"text-[10px] font-bold text-rose-600 dark:text-rose-400 px-1 rounded truncate",children:["-",z(K)]}),$.some(Z=>Z.isGhost)&&d.jsx("div",{className:"absolute bottom-1 right-1 opacity-50",children:d.jsx(m1,{className:"w-3 h-3 text-slate-400"})})]})]},R))}return d.jsxs("div",{className:"space-y-6 animate-fade-in pb-20 md:pb-0 relative",children:[k.length>0&&d.jsx("div",{className:"space-y-2 mb-4",children:k.map((R,$)=>d.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-4 rounded-xl flex items-start gap-3 animate-fade-in-down shadow-sm",children:[d.jsx("div",{className:"bg-amber-100 dark:bg-amber-800 p-2 rounded-full flex-shrink-0",children:d.jsx(f1,{className:"w-5 h-5 text-amber-600 dark:text-amber-300"})}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-amber-800 dark:text-amber-300 text-sm",children:R.title}),d.jsx("p",{className:"text-amber-700 dark:text-amber-400 text-xs mt-0.5",children:R.message})]})]},$))}),h&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-scale-in border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-4 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:"Nova Transao"}),d.jsxs("p",{className:"text-xs text-indigo-600 dark:text-indigo-400 font-semibold flex items-center gap-1",children:[d.jsx(Td,{className:"w-3 h-3"}),s," de ",i.toLocaleDateString("pt-BR",{month:"long"})]})]}),d.jsx("button",{onClick:()=>y(!1),className:"text-slate-400 hover:text-slate-600",children:d.jsx(qn,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:N,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"O que ?"}),d.jsxs("div",{className:"relative",children:[d.jsx(M6,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"}),d.jsx("input",{autoFocus:!0,required:!0,type:"text",placeholder:"Ex: Mercado, Conta de Luz...",value:v.description,onChange:R=>b({...v,description:R.target.value}),className:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Valor (R$)"}),d.jsxs("div",{className:"relative",children:[d.jsx(um,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"}),d.jsx("input",{required:!0,type:"number",step:"0.01",placeholder:"0,00",value:v.amount,onChange:R=>b({...v,amount:R.target.value}),className:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Tipo"}),d.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-700 rounded-xl p-1",children:[d.jsx("button",{type:"button",onClick:()=>b({...v,type:"expense"}),className:`flex-1 py-1.5 text-xs font-bold rounded-lg transition-colors ${v.type==="expense"?"bg-white dark:bg-slate-600 text-rose-600 shadow-sm":"text-slate-500"}`,children:"Sada"}),d.jsx("button",{type:"button",onClick:()=>b({...v,type:"income"}),className:`flex-1 py-1.5 text-xs font-bold rounded-lg transition-colors ${v.type==="income"?"bg-white dark:bg-slate-600 text-emerald-600 shadow-sm":"text-slate-500"}`,children:"Entrada"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Categoria"}),d.jsxs("div",{className:"relative",children:[d.jsx(ND,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"}),d.jsx("select",{value:v.category,onChange:R=>b({...v,category:R.target.value}),className:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 appearance-none",children:$Ie.map(R=>d.jsx("option",{value:R,children:R},R))})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Pagamento"}),d.jsxs("div",{className:"relative",children:[d.jsx(lm,{className:"w-4 h-4 text-slate-400 absolute left-3 top-3"}),d.jsx("select",{value:v.paymentMethod,onChange:R=>b({...v,paymentMethod:R.target.value}),className:"w-full pl-9 pr-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 appearance-none",children:LIe.map(R=>d.jsx("option",{value:R.value,children:R.label},R.value))})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-2 block",children:"Status"}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("label",{className:`flex-1 cursor-pointer border rounded-xl p-3 flex items-center justify-center gap-2 transition-all ${v.status==="paid"?"bg-emerald-50 border-emerald-500 text-emerald-700 dark:bg-emerald-900/20":"border-slate-200 dark:border-slate-700"}`,children:[d.jsx("input",{type:"radio",name:"status",className:"hidden",checked:v.status==="paid",onChange:()=>b({...v,status:"paid"})}),d.jsx(Xx,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm font-semibold",children:"Pago / Recebido"})]}),d.jsxs("label",{className:`flex-1 cursor-pointer border rounded-xl p-3 flex items-center justify-center gap-2 transition-all ${v.status==="pending"?"bg-amber-50 border-amber-500 text-amber-700 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700"}`,children:[d.jsx("input",{type:"radio",name:"status",className:"hidden",checked:v.status==="pending",onChange:()=>b({...v,status:"pending"})}),d.jsx(am,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm font-semibold",children:"Pendente"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Observaes (Opcional)"}),d.jsx("input",{type:"text",placeholder:"Detalhes adicionais...",value:v.observation,onChange:R=>b({...v,observation:R.target.value}),className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500"})]}),d.jsxs("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold shadow-lg shadow-indigo-500/20 transition-all flex items-center justify-center gap-2 mt-4",children:[d.jsx(Er,{className:"w-5 h-5"})," Adicionar Transao"]})]})]})}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Ki,{className:"w-7 h-7 text-indigo-600"}),"Agenda Financeira"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Previso de gastos e controle de vencimentos."})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-2 w-full md:w-auto",children:[d.jsxs("button",{onClick:V,disabled:c,className:`flex items-center gap-2 px-3 py-2 rounded-lg text-xs font-bold transition-all shadow-sm border ${c?"bg-slate-100 text-slate-400 border-slate-200 cursor-not-allowed":"bg-white hover:bg-slate-50 text-indigo-600 border-indigo-100 hover:border-indigo-300 dark:bg-slate-800 dark:text-indigo-400 dark:border-slate-700"}`,title:"Sincronizar contas pendentes com Google Agenda",children:[d.jsx(yB,{className:`w-4 h-4 ${c?"animate-spin":""}`}),c?"Sincronizando...":"Sincronizar Agenda"]}),d.jsx("button",{onClick:()=>FIe(T),className:"p-2 text-slate-500 hover:text-indigo-600 border border-slate-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-800",title:"Exportar para Arquivo (.ics)",children:d.jsx(SD,{className:"w-5 h-5"})}),d.jsxs("div",{className:"flex items-center bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-1 flex-1 md:flex-none justify-center",children:[d.jsx("button",{onClick:M,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:d.jsx(h1,{className:"w-5 h-5"})}),d.jsx("div",{className:"px-4 font-semibold text-slate-700 dark:text-slate-200 capitalize min-w-[140px] text-center",children:i.toLocaleDateString("pt-BR",{month:"long",year:"numeric"})}),d.jsx("button",{onClick:j,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-md transition-colors text-slate-600 dark:text-slate-300",children:d.jsx(i0,{className:"w-5 h-5"})})]})]})]}),d.jsx("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl gap-1 overflow-x-auto",children:[{id:"all",label:"Tudo",icon:AD},{id:"expense",label:"Sadas",icon:UA},{id:"income",label:"Entradas",icon:BA},{id:"pending",label:"Pendentes",icon:am}].map(R=>d.jsxs("button",{onClick:()=>u(R.id),className:`flex-1 min-w-[80px] py-2 text-xs font-semibold rounded-lg transition-all flex items-center justify-center gap-2
                    ${l===R.id?"bg-white dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200"}`,children:[d.jsx(R.icon,{className:"w-3 h-3"})," ",R.label]},R.id))}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[d.jsx("div",{className:"grid grid-cols-7 bg-slate-50 dark:bg-slate-700 border-b border-slate-200 dark:border-slate-600",children:jIe.map(R=>d.jsx("div",{className:"py-3 text-center text-xs font-bold uppercase text-slate-500 dark:text-slate-400",children:R},R))}),d.jsx("div",{className:"grid grid-cols-7",children:H})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-0 overflow-hidden flex flex-col h-full min-h-[400px]",children:[d.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-900/50",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:s?`${s} de ${i.toLocaleDateString("pt-BR",{month:"long"})}`:"Resumo do Ms"}),s&&d.jsxs("button",{onClick:D,className:"mt-3 w-full py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-sm font-bold flex items-center justify-center gap-2 transition-colors",children:[d.jsx(Er,{className:"w-4 h-4"})," Adicionar neste dia"]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[s&&I.length===0&&d.jsxs("div",{className:"text-center py-10",children:[d.jsx(Td,{className:"w-12 h-12 text-slate-200 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Nenhuma movimentao."})]}),!s&&d.jsxs("div",{className:"text-center py-10",children:[d.jsx("div",{className:"inline-block p-4 rounded-full bg-slate-100 dark:bg-slate-700 mb-4",children:d.jsx(Ki,{className:"w-8 h-8 text-indigo-500"})}),d.jsx("p",{className:"text-slate-500 font-medium",children:"Selecione um dia"}),d.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Clique no calendrio para ver detalhes ou adicionar contas."})]}),I.map((R,$)=>d.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${R.isGhost?"bg-slate-50 dark:bg-slate-800 border-dashed border-indigo-300 dark:border-indigo-700":"bg-white dark:bg-slate-700/50 border-slate-100 dark:border-slate-700"}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`p-2 rounded-full ${R.type==="income"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-rose-100 text-rose-600 dark:bg-rose-900/30 dark:text-rose-400"}`,children:R.type==="income"?d.jsx(BA,{className:"w-4 h-4"}):d.jsx(UA,{className:"w-4 h-4"})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"font-semibold text-slate-800 dark:text-white text-sm line-clamp-1",children:R.description}),R.isGhost&&d.jsx("span",{className:"text-[9px] bg-indigo-100 text-indigo-600 px-1.5 rounded uppercase font-bold",children:"Previsto"})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:R.category}),R.observation&&d.jsx("p",{className:"text-[10px] text-slate-400 italic mt-0.5",children:R.observation})]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:`font-bold text-sm ${R.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-slate-700 dark:text-slate-300"}`,children:F(R.amount)}),R.type==="expense"&&d.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${R.status==="pending"?"bg-amber-100 text-amber-700":"bg-emerald-100 text-emerald-700"}`,children:R.status==="pending"?"Pendente":"Pago"})]})]},R.id||$))]})]})]})]})},UIe=({data:t,privacyMode:e})=>{const[n,r]=U.useState([]),[i,o]=U.useState(""),[s,a]=U.useState(!1),[l,u]=U.useState(!1),c=U.useRef(null),f=U.useRef(null);U.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const x=window.SpeechRecognition||window.webkitSpeechRecognition;f.current=new x,f.current.continuous=!1,f.current.lang="pt-BR",f.current.interimResults=!1,f.current.onresult=E=>{const w=E.results[0][0].transcript;o(w),u(!1)},f.current.onerror=E=>{console.error("Speech error",E),u(!1)},f.current.onend=()=>{u(!1)}}},[]);const h=()=>{var x;(x=c.current)==null||x.scrollIntoView({behavior:"smooth"})};U.useEffect(()=>{h()},[n,s]);const y=()=>{var x;if(l)(x=f.current)==null||x.stop(),u(!1);else if(f.current)try{f.current.start(),u(!0)}catch(E){console.error(E)}else alert("Seu navegador no suporta reconhecimento de voz.")},v=async x=>{const E=i;if(!E.trim())return;const w={id:crypto.randomUUID(),role:"user",content:E,timestamp:new Date};r(S=>[...S,w]),o(""),a(!0);const _=crypto.randomUUID(),C={id:_,role:"assistant",content:"",timestamp:new Date};r(S=>[...S,C]);try{const S=uee(E,n,t);let k="";for await(const T of S)k+=T,r(I=>I.map(P=>P.id===_?{...P,content:k}:P))}catch{r(k=>k.map(T=>T.id===_?{...T,content:"Desculpe, tive um erro ao processar sua resposta."}:T))}finally{a(!1)}},b=x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),v())};return d.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)] animate-fade-in",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"bg-gradient-to-tr from-indigo-500 to-purple-600 p-3 rounded-xl shadow-lg shadow-indigo-500/20",children:d.jsx(Ks,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Assistente Inteligente"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Pergunte sobre seus gastos, investimentos ou pea conselhos."})]})]}),d.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50 dark:bg-slate-900/50",children:[n.length===0&&d.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 space-y-4 opacity-60",children:[d.jsx(Kx,{className:"w-16 h-16"}),d.jsxs("p",{className:"text-sm",children:["Estou analisando seus dados em tempo real.",d.jsx("br",{}),"Como posso ajudar hoje?"]})]}),n.map(x=>d.jsx("div",{className:`flex w-full ${x.role==="user"?"justify-end":"justify-start"}`,children:d.jsxs("div",{className:`flex max-w-[85%] md:max-w-[75%] gap-3 ${x.role==="user"?"flex-row-reverse":"flex-row"}`,children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${x.role==="user"?"bg-slate-200 dark:bg-slate-700":"bg-indigo-600"}`,children:x.role==="user"?d.jsx(IB,{className:"w-5 h-5 text-slate-600 dark:text-slate-300"}):d.jsx(Kx,{className:"w-5 h-5 text-white"})}),d.jsxs("div",{className:`p-4 rounded-2xl shadow-sm text-sm whitespace-pre-line leading-relaxed
                      ${x.role==="user"?"bg-white dark:bg-slate-700 text-slate-800 dark:text-white rounded-tr-none":"bg-indigo-600 text-white rounded-tl-none prose prose-invert max-w-none"}`,children:[x.content,s&&x.content===""&&d.jsxs("span",{className:"inline-flex gap-1",children:[d.jsx("span",{className:"w-1.5 h-1.5 bg-white/60 rounded-full animate-bounce"}),d.jsx("span",{className:"w-1.5 h-1.5 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"100ms"}}),d.jsx("span",{className:"w-1.5 h-1.5 bg-white/60 rounded-full animate-bounce",style:{animationDelay:"200ms"}})]})]})]})},x.id)),d.jsx("div",{ref:c})]}),d.jsxs("div",{className:"p-4 bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"relative flex items-center gap-2",children:[d.jsx("button",{onClick:y,className:`p-3 rounded-xl transition-all ${l?"bg-rose-500 text-white animate-pulse shadow-lg shadow-rose-500/30":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-300 hover:bg-slate-200 dark:hover:bg-slate-600"}`,title:"Falar comando",children:l?d.jsx(TB,{className:"w-5 h-5"}):d.jsx(uB,{className:"w-5 h-5"})}),d.jsx("input",{type:"text",value:i,onChange:x=>o(x.target.value),onKeyDown:b,placeholder:l?"Ouvindo...":"Digite uma mensagem...",className:"flex-1 bg-slate-100 dark:bg-slate-700 dark:text-white border-0 rounded-xl px-4 py-3 focus:ring-2 focus:ring-indigo-500 outline-none",disabled:s}),d.jsx("button",{onClick:()=>v(),disabled:!i.trim()||s,className:"p-3 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-lg shadow-indigo-500/20",children:d.jsx(bB,{className:"w-5 h-5"})})]}),d.jsx("p",{className:"text-center text-[10px] text-slate-400 mt-2",children:"A IA pode cometer erros. Verifique informaes importantes."})]})]})]})},BIe=["Serasa Limpa Nome","Acordo Certo","Desenrola Brasil","SPC Brasil","Boa Vista (Consumidor Positivo)","Direto com Banco/Credor","QueroQuitar","Pessoal/Famlia","Outros"],zIe=({debts:t,onAdd:e,onUpdate:n,onDelete:r,onAddTransaction:i,privacyMode:o,quickActionSignal:s})=>{const[a,l]=U.useState(!1),[u,c]=U.useState("all"),[f,h]=U.useState({isOpen:!1,debtId:""}),[y,v]=U.useState({date:new Date().toISOString().split("T")[0],amount:"",installments:1}),[b,x]=U.useState({isOpen:!1,debtId:"",currentValue:0}),[E,w]=U.useState("1"),[_,C]=U.useState({creditor:"",originalAmount:"",currentAmount:"",targetAmount:"",dueDate:"",status:"open",platform:"Serasa Limpa Nome",customPlatform:"",notes:""});U.useEffect(()=>{s&&Date.now()-s<2e3&&(l(!0),C({creditor:"",originalAmount:"",currentAmount:"",targetAmount:"",dueDate:"",status:"open",platform:"Serasa Limpa Nome",customPlatform:"",notes:""}))},[s]);const S=F=>{const H=new Date(F);return(new Date().getTime()-H.getTime())/(1e3*60*60*24*365.25)>=5},k=U.useMemo(()=>{let F=[...t];return u==="active"?F=F.filter(H=>!S(H.dueDate)):u==="prescribed"&&(F=F.filter(H=>S(H.dueDate))),F.sort((H,R)=>{const $=q=>q.status==="paid"?500:q.status==="agreement"?1:q.status==="negotiating"?2:S(q.dueDate)?4:3,G=$(H),K=$(R);return G!==K?G-K:R.currentAmount-H.currentAmount})},[t,u]),T=F=>{F.preventDefault();const H=_.targetAmount?parseFloat(_.targetAmount):0,R=_.platform==="Outros"?_.customPlatform:_.platform;e({creditor:_.creditor,originalAmount:parseFloat(_.originalAmount),currentAmount:parseFloat(_.currentAmount),targetAmount:H,dueDate:_.dueDate,status:_.status,platform:R,notes:_.notes}),C({creditor:"",originalAmount:"",currentAmount:"",targetAmount:"",dueDate:"",status:"open",platform:"Serasa Limpa Nome",customPlatform:"",notes:""}),l(!1)},I=(F,H)=>{if(H==="agreement"&&F.status!=="agreement"){h({isOpen:!0,debtId:F.id});const R=F.targetAmount>0?F.targetAmount:F.currentAmount;v({date:new Date().toISOString().split("T")[0],amount:R.toString(),installments:1})}else n(F.id,{status:H})},P=F=>{F.preventDefault();const H=t.find(q=>q.id===f.debtId);if(!H)return;const R=parseFloat(y.amount),$=Math.max(1,Math.floor(y.installments)),G=R/$;n(H.id,{status:"agreement",agreedAmount:R});const K=new Date(y.date);for(let q=0;q<$;q++){const X=new Date(K);X.setMonth(K.getMonth()+q);const le=$>1?`Acordo: ${H.creditor} (${q+1}/${$})`:`Acordo: ${H.creditor}`;i({description:le,amount:parseFloat(G.toFixed(2)),type:"expense",category:"Outros",date:X.toISOString().split("T")[0],status:"pending",paymentMethod:"pix",debtId:H.id})}alert(`Acordo registrado! ${$>1?`${$} parcelas agendadas`:"Pagamento agendado"}. A dvida ser quitada automaticamente quando todas as parcelas forem pagas.`),h({isOpen:!1,debtId:""})},M=F=>{x({isOpen:!0,debtId:F.id,currentValue:F.currentAmount}),w("1")},j=()=>{const F=t.find(H=>H.id===b.debtId);if(F){const H=parseFloat(E),R=F.currentAmount*(1+H/100);n(F.id,{currentAmount:R})}x({isOpen:!1,debtId:"",currentValue:0})},D=F=>o?"":`R$ ${F.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,N=t.filter(F=>F.status!=="paid").reduce((F,H)=>F+H.currentAmount,0),V=t.filter(F=>F.status!=="paid").reduce((F,H)=>F+H.targetAmount,0),z=t.filter(F=>F.status!=="paid"&&F.targetAmount>0).reduce((F,H)=>F+(H.currentAmount-H.targetAmount),0);return d.jsxs("div",{className:"space-y-6 animate-fade-in relative",children:[b.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-sm p-6 animate-scale-in",children:[d.jsx("div",{className:"flex justify-between items-center mb-4",children:d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Yi,{className:"w-5 h-5 text-rose-500"})," Atualizar Juros"]})}),d.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"O efeito bola de neve  real. Atualize o valor para manter o controle."}),d.jsxs("div",{className:"bg-slate-100 dark:bg-slate-700 p-3 rounded-lg mb-4 flex justify-between items-center",children:[d.jsx("span",{className:"text-xs font-bold uppercase text-slate-500",children:"Valor Atual"}),d.jsx("span",{className:"font-mono font-bold text-slate-700 dark:text-white",children:D(b.currentValue)})]}),d.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[d.jsx("button",{onClick:()=>w("1"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-colors ${E==="1"?"bg-rose-100 text-rose-600 border border-rose-200":"bg-slate-50 dark:bg-slate-700 text-slate-500"}`,children:"+1%"}),d.jsx("button",{onClick:()=>w("2"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-colors ${E==="2"?"bg-rose-100 text-rose-600 border border-rose-200":"bg-slate-50 dark:bg-slate-700 text-slate-500"}`,children:"+2%"}),d.jsx("button",{onClick:()=>w("5"),className:`flex-1 py-2 rounded-lg text-xs font-bold transition-colors ${E==="5"?"bg-rose-100 text-rose-600 border border-rose-200":"bg-slate-50 dark:bg-slate-700 text-slate-500"}`,children:"+5%"}),d.jsxs("div",{className:"relative w-20",children:[d.jsx("input",{type:"number",value:E,onChange:F=>w(F.target.value),className:"w-full py-2 pl-2 pr-4 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 text-xs font-bold text-center outline-none focus:border-rose-500"}),d.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs text-slate-400",children:"%"})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>x({isOpen:!1,debtId:"",currentValue:0}),className:"flex-1 py-2.5 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg text-sm font-bold",children:"Cancelar"}),d.jsx("button",{onClick:j,className:"flex-1 py-2.5 bg-rose-600 text-white rounded-lg text-sm font-bold shadow-lg shadow-rose-500/20",children:"Aplicar"})]})]})}),f.isOpen&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 border border-emerald-500/30 animate-scale-in",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4 text-emerald-600 dark:text-emerald-400",children:[d.jsx($h,{className:"w-8 h-8"}),d.jsx("h3",{className:"text-xl font-bold",children:"Oficializar Acordo"})]}),d.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm mb-6",children:"Qual foi o valor final negociado? Vamos atualizar o card e agendar o(s) pagamento(s)."}),d.jsxs("form",{onSubmit:P,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Valor Total Fechado (R$)"}),d.jsx("input",{type:"number",required:!0,step:"0.01",placeholder:"Valor total a pagar",value:y.amount,onChange:F=>v({...y,amount:F.target.value}),className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white font-bold text-lg outline-none focus:ring-2 focus:ring-emerald-500"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"1 Parcela"}),d.jsx("input",{type:"date",required:!0,value:y.date,onChange:F=>v({...y,date:F.target.value}),className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-emerald-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"N Parcelas"}),d.jsxs("div",{className:"relative",children:[d.jsx(m1,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx("input",{type:"number",required:!0,min:"1",max:"60",value:y.installments,onChange:F=>v({...y,installments:parseInt(F.target.value)}),className:"w-full p-3 pl-9 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-emerald-500"})]})]})]}),d.jsxs("div",{className:"flex gap-3 mt-6",children:[d.jsx("button",{type:"button",onClick:()=>h({isOpen:!1,debtId:""}),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-200 rounded-lg font-medium",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"flex-1 py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-bold shadow-lg shadow-emerald-500/30",children:"Gerar Parcelas"})]})]})]})}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Id,{className:"w-7 h-7 text-rose-600"}),"Gesto de Dvidas (Limpa Nome)"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Controle suas pendncias e foque no que realmente importa."})]}),d.jsxs("button",{onClick:()=>l(!a),className:"flex items-center gap-2 bg-rose-600 text-white px-4 py-2 rounded-lg hover:bg-rose-700 transition-colors shadow-sm",children:[d.jsx(Er,{className:"w-4 h-4"}),"Registrar Dvida"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-rose-100 dark:border-rose-900/30 shadow-sm",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-semibold uppercase",children:"Total da Dvida (Banco)"}),d.jsx("h3",{className:"text-2xl font-bold text-rose-600 dark:text-rose-400",children:D(N)}),d.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Valor cheio com juros"})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-emerald-100 dark:border-emerald-900/30 shadow-sm",children:[d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-xs font-semibold uppercase",children:"Valor para Quitao (Alvo)"}),d.jsx("h3",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:D(V)}),d.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Soma das metas definidas"})]}),d.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-purple-600 text-white p-6 rounded-xl shadow-lg",children:[d.jsx("p",{className:"text-indigo-100 text-xs font-semibold uppercase",children:"Economia Potencial"}),d.jsx("h3",{className:"text-2xl font-bold",children:D(z)}),d.jsx("p",{className:"text-indigo-100 text-xs mt-1",children:"Baseado nas suas metas"})]})]}),a&&d.jsxs("form",{onSubmit:T,className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-rose-200 dark:border-slate-700 grid grid-cols-1 md:grid-cols-2 gap-4 animate-fade-in-down",children:[d.jsx("div",{className:"col-span-1 md:col-span-2",children:d.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Registrar Nova Pendncia"})}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Instituio / Credor"}),d.jsx("input",{required:!0,type:"text",placeholder:"Ex: Banco X, Loja Y",value:_.creditor,onChange:F=>C({..._,creditor:F.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-rose-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Valor Original (R$)"}),d.jsx("input",{required:!0,type:"number",value:_.originalAmount,onChange:F=>C({..._,originalAmount:F.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Valor Atual c/ Juros (R$)"}),d.jsx("input",{required:!0,type:"number",value:_.currentAmount,onChange:F=>C({..._,currentAmount:F.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Data Vencimento Original"}),d.jsx("input",{required:!0,type:"date",value:_.dueDate,onChange:F=>C({..._,dueDate:F.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none"}),d.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"Importante para calcular a prescrio."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Meta de Acordo (Opcional)"}),d.jsx("input",{type:"number",placeholder:"Deixe em branco se no houver meta",value:_.targetAmount,onChange:F=>C({..._,targetAmount:F.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-emerald-500"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1 block",children:"Plataforma de Negociao"}),d.jsx("select",{value:_.platform,onChange:F=>C({..._,platform:F.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none mb-2",children:BIe.map(F=>d.jsx("option",{value:F,children:F},F))}),_.platform==="Outros"&&d.jsx("div",{className:"animate-fade-in",children:d.jsx("input",{type:"text",placeholder:"Digite o nome da plataforma ou pessoa...",value:_.customPlatform,onChange:F=>C({..._,customPlatform:F.target.value}),className:"w-full border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-rose-500",autoFocus:!0})})]}),d.jsxs("div",{className:"md:col-span-2 flex justify-end gap-2 mt-2",children:[d.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-6 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 font-medium",children:"Salvar Dvida"})]})]}),d.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-xl gap-1 border border-slate-200 dark:border-slate-700",children:[d.jsxs("button",{onClick:()=>c("all"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2
               ${u==="all"?"bg-white dark:bg-slate-700 text-rose-600 dark:text-rose-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200/50 dark:hover:bg-slate-700/50"}`,children:[d.jsx(Qx,{className:"w-4 h-4"}),"Todas"]}),d.jsxs("button",{onClick:()=>c("active"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2
               ${u==="active"?"bg-white dark:bg-slate-700 text-amber-600 dark:text-amber-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200/50 dark:hover:bg-slate-700/50"}`,children:[d.jsx(bD,{className:"w-4 h-4"}),"Ativas"]}),d.jsxs("button",{onClick:()=>c("prescribed"),className:`flex-1 py-2 text-sm font-semibold rounded-lg transition-all duration-200 flex items-center justify-center gap-2
               ${u==="prescribed"?"bg-white dark:bg-slate-700 text-slate-600 dark:text-slate-300 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 hover:bg-slate-200/50 dark:hover:bg-slate-700/50"}`,children:[d.jsx(D6,{className:"w-4 h-4"}),"Prescritas"]})]}),d.jsx("div",{className:"flex flex-col gap-4",children:t.length===0?d.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[d.jsx(Ls,{className:"w-12 h-12 text-emerald-500 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-800 dark:text-white font-medium",children:"Nome Limpo!"}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Nenhuma dvida registrada."})]}):k.length===0?d.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-300 dark:border-slate-700",children:[d.jsx(Qx,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Nenhuma dvida encontrada neste filtro."})]}):k.map(F=>{const H=S(F.dueDate),R=F.status==="paid",$=F.status==="agreement",G=F.targetAmount&&F.targetAmount>0,K=F.agreedAmount&&F.agreedAmount>0,q=K?F.agreedAmount:F.targetAmount,X=G||K?(F.currentAmount-q)/F.currentAmount*100:0;return d.jsxs("div",{className:`p-6 rounded-xl border transition-all relative overflow-hidden group ${R?"bg-slate-50 border-slate-200 opacity-75 grayscale-[0.8] dark:bg-slate-900 dark:border-slate-700":$?"bg-gradient-to-r from-emerald-50 to-white border-emerald-300 dark:from-emerald-900/10 dark:to-slate-800 dark:border-emerald-800 shadow-md ring-1 ring-emerald-500/20":H?"bg-slate-50 border-slate-200 dark:bg-slate-800 dark:border-slate-700":"bg-white border-rose-100 dark:bg-slate-800 dark:border-slate-700 shadow-sm hover:shadow-md hover:border-rose-300"}`,children:[R&&d.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10 pointer-events-none opacity-80 rotate-[-15deg]",children:d.jsxs("div",{className:"border-4 border-slate-400 text-slate-400 text-6xl font-black px-4 py-1 rounded-lg uppercase tracking-widest flex items-center gap-2",children:[d.jsx(Yx,{className:"w-12 h-12"})," RESOLVIDO"]})}),d.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-start gap-4 relative z-0",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[$?d.jsxs("span",{className:"bg-emerald-100 text-emerald-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[d.jsx($h,{className:"w-3 h-3"})," ACORDO FECHADO"]}):F.status==="negotiating"?d.jsxs("span",{className:"bg-amber-100 text-amber-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[d.jsx($h,{className:"w-3 h-3"})," EM NEGOCIAO"]}):H?d.jsxs("span",{className:"bg-slate-200 text-slate-600 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[d.jsx(zA,{className:"w-3 h-3"})," PRESCRITA"]}):R?d.jsxs("span",{className:"bg-emerald-100 text-emerald-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[d.jsx(Ls,{className:"w-3 h-3"})," QUITADA"]}):d.jsxs("span",{className:"bg-rose-100 text-rose-700 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1",children:[d.jsx(sm,{className:"w-3 h-3"})," ATIVA"]}),F.platform&&d.jsxs("span",{className:"bg-indigo-50 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400 text-[10px] font-bold px-2 py-0.5 rounded flex items-center gap-1 border border-indigo-100 dark:border-indigo-800",children:[d.jsx(X6,{className:"w-3 h-3"})," ",F.platform]}),d.jsxs("span",{className:"text-xs text-slate-400 flex items-center gap-1 ml-auto md:ml-0",children:[d.jsx(Td,{className:"w-3 h-3"}),new Date(F.dueDate).toLocaleDateString("pt-BR")]})]}),d.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:F.creditor}),d.jsxs("div",{className:"mt-3 flex flex-wrap gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-slate-500",children:"Valor Original"}),d.jsx("p",{className:"font-medium text-slate-700 dark:text-slate-300",children:D(F.originalAmount)})]}),d.jsx("div",{className:"flex items-center text-slate-400",children:d.jsx(r0,{className:"w-4 h-4"})}),d.jsxs("div",{className:"group/value cursor-pointer",onClick:()=>!R&&!$&&M(F),title:"Clique para atualizar juros",children:[d.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1",children:["Valor Atual",!R&&!$&&d.jsx(Yi,{className:"w-3 h-3 text-rose-500 opacity-50 group-hover/value:opacity-100"})]}),d.jsx("p",{className:`font-bold transition-colors ${R?"text-slate-500":H?"text-slate-600 dark:text-slate-400":"text-rose-600 group-hover/value:text-rose-700"}`,children:D(F.currentAmount)})]})]})]}),d.jsx("div",{className:`p-3 rounded-lg border min-w-[200px] flex flex-col justify-center ${$?"bg-white border-emerald-200 shadow-sm":"bg-slate-50 dark:bg-slate-700/50 border-slate-100 dark:border-slate-700"}`,children:$&&K?d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-xs text-emerald-500 font-bold mb-1 flex items-center gap-1",children:[d.jsx(Ls,{className:"w-3 h-3"})," Valor Acordado"]}),d.jsx("p",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:D(F.agreedAmount)}),d.jsxs("p",{className:"text-[10px] text-emerald-600/70 mt-1",children:["Economia de ",X.toFixed(0),"%"]})]}):G?d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 font-medium mb-1 flex items-center gap-1",children:[d.jsx(oa,{className:"w-3 h-3 text-slate-400"})," Meta de Acordo"]}),d.jsx("p",{className:"text-xl font-bold text-emerald-600 dark:text-emerald-400",children:D(F.targetAmount)}),d.jsxs("p",{className:"text-[10px] text-emerald-600/70 mt-1",children:["Desconto Alvo: ",X.toFixed(0),"%"]})]}):d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-xs text-slate-400 font-medium mb-1 flex items-center gap-1",children:[d.jsx(tB,{className:"w-3 h-3"})," Meta"]}),d.jsx("p",{className:"text-sm font-semibold text-slate-400 dark:text-slate-500 italic",children:"Sem meta definida"})]})}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsxs("select",{value:F.status,onChange:le=>I(F,le.target.value),className:`text-xs border rounded-lg p-1.5 outline-none font-medium cursor-pointer ${$?"bg-emerald-50 border-emerald-200 text-emerald-700":"bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-200"}`,children:[d.jsx("option",{value:"open",children:"Em Aberto"}),d.jsx("option",{value:"negotiating",children:"Em Negociao"}),d.jsx("option",{value:"agreement",children:"Acordo Fechado"}),d.jsx("option",{value:"paid",children:"Quitado"})]}),d.jsx("button",{onClick:()=>r(F.id),className:"p-1.5 text-slate-400 hover:text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/30 rounded-lg transition-colors self-end",title:"Excluir Registro",children:d.jsx(wa,{className:"w-4 h-4"})})]})]}),d.jsx("div",{className:"mt-4 pt-3 border-t border-slate-100 dark:border-slate-700/50 text-xs flex items-start gap-2",children:R?d.jsxs("p",{className:"text-emerald-600 dark:text-emerald-400 flex items-center gap-1 font-medium",children:[d.jsx(Ls,{className:"w-4 h-4"})," Dvida liquidada com sucesso. Parabns pela organizao!"]}):$?d.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-2 rounded w-full",children:[d.jsxs("p",{className:"text-emerald-700 dark:text-emerald-300 flex items-center gap-1 font-semibold",children:[d.jsx(Ki,{className:"w-4 h-4"})," Acordo Firmado: ",D(F.agreedAmount||0)]}),d.jsxs("p",{className:"text-emerald-600/80 dark:text-emerald-400/80 mt-1 pl-5",children:["No esquea de pagar na data combinada. ",F.agreedAmount&&F.agreedAmount>0?"As parcelas j foram lanadas no seu fluxo.":""]})]}):F.status==="negotiating"?d.jsxs("p",{className:"text-amber-600 dark:text-amber-400 flex items-center gap-1",children:[d.jsx($h,{className:"w-4 h-4"})," Voc iniciou contatos. Mantenha a presso para conseguir o melhor desconto."]}):H?d.jsxs("p",{className:"text-slate-500 flex items-center gap-1",children:[d.jsx(zA,{className:"w-4 h-4"})," Dvida antiga (+5 anos). No afeta score, negocie apenas se tiver sobra de caixa."]}):d.jsxs("p",{className:"text-rose-600 dark:text-rose-400 flex items-center gap-1 font-medium",children:[d.jsx(Id,{className:"w-4 h-4"})," Prioridade Alta! Esta dvida est ativa e impactando seu crdito. Tente negociar."]})})]},F.id)})})]})},lp=["Hortifruti","Carnes","Laticnios","Mercearia","Padaria","Bebidas","Limpeza","Higiene","Outros"],GIe=({items:t,onAdd:e,onUpdate:n,onDelete:r,onClearList:i,onFinishShopping:o,shoppingBudget:s=0,onUpdateBudget:a,hasApiKey:l=!1,privacyMode:u,quickActionSignal:c})=>{const[f,h]=U.useState(""),[y,v]=U.useState("Outros"),[b,x]=U.useState(!1),[E,w]=U.useState(!1),[_,C]=U.useState(""),[S,k]=U.useState(!1),[T,I]=U.useState(!1),[P,M]=U.useState(s.toString()),[j,D]=U.useState("Alimentos"),[N,V]=U.useState("debit_card"),z=U.useMemo(()=>t.reduce((W,Z)=>W+Z.actualPrice*Z.quantity,0),[t]),F=U.useMemo(()=>{const W={};return lp.forEach(Z=>W[Z]=[]),t.forEach(Z=>{const J=Z.category||"Outros";W[J]||(W[J]=[]),W[J].push(Z)}),W},[t]);U.useEffect(()=>{if(c){const W=document.getElementById("new-item-input");W&&W.focus()}},[c]);const H=W=>{W.preventDefault(),f.trim()&&(e({name:f.trim(),quantity:1,actualPrice:0,isChecked:!1,category:y}),h(""),v("Outros"))},R=async W=>{if(W.preventDefault(),!_.trim())return;k(!0),(await oee(_)).forEach(J=>{e({...J,actualPrice:0,isChecked:!1})}),k(!1),w(!1),C("")},$=(W,Z,J)=>{const ve=Math.max(1,Z+J);n(W,{quantity:ve})},G=()=>{if(z===0){alert("O valor total est zerado. Adicione preos aos itens para lanar a despesa.");return}o(z,N,j),x(!1)},K=()=>{const W=parseFloat(P);isNaN(W)||a(W),I(!1)},q=W=>u?"":`R$ ${W.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,X=s>0?z/s*100:0;let le="bg-emerald-500";return X>100?le="bg-rose-500":X>85&&(le="bg-amber-500"),d.jsxs("div",{className:"space-y-6 animate-fade-in relative pb-32 md:pb-0",children:[b&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-sm p-6 border border-emerald-500/30 animate-scale-in",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(lm,{className:"w-6 h-6 text-emerald-500"})," Finalizar Compra"]}),d.jsx("button",{onClick:()=>x(!1),className:"text-slate-400 hover:text-slate-600",children:d.jsx(qn,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-4 rounded-xl mb-6 text-center border border-emerald-100 dark:border-emerald-800",children:[d.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400 uppercase font-bold mb-1",children:"Valor Final a Lanar"}),d.jsx("p",{className:"text-3xl font-bold text-emerald-700 dark:text-emerald-300",children:q(z)})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Categoria da Despesa"}),d.jsxs("select",{value:j,onChange:W=>D(W.target.value),className:"w-full p-2.5 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none",children:[d.jsx("option",{value:"Alimentos",children:"Alimentos"}),d.jsx("option",{value:"Casa",children:"Casa"}),d.jsx("option",{value:"Lazer",children:"Lazer"}),d.jsx("option",{value:"Pets",children:"Pets"}),d.jsx("option",{value:"Outros",children:"Outros"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase block mb-1",children:"Forma de Pagamento"}),d.jsxs("select",{value:N,onChange:W=>V(W.target.value),className:"w-full p-2.5 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none",children:[d.jsx("option",{value:"credit_card",children:"Carto de Crdito"}),d.jsx("option",{value:"debit_card",children:"Carto de Dbito"}),d.jsx("option",{value:"cash",children:"Dinheiro"}),d.jsx("option",{value:"pix",children:"PIX"}),d.jsx("option",{value:"ticket",children:"Vale Alimentao/Refeio"})]})]}),d.jsxs("button",{onClick:G,className:"w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-bold shadow-lg shadow-emerald-500/30 flex items-center justify-center gap-2 mt-4",children:[d.jsx(Xx,{className:"w-5 h-5"})," Confirmar e Lanar"]})]})]})}),E&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 border border-purple-200 dark:border-purple-800 animate-scale-in",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Ks,{className:"w-5 h-5 text-purple-600"})," Assistente de Compras"]}),d.jsx("button",{onClick:()=>w(!1),className:"text-slate-400 hover:text-slate-600",children:d.jsx(qn,{className:"w-5 h-5"})})]}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-4",children:'O que vamos comprar? Digite uma receita (ex: "Strogonoff para 4") ou um evento (ex: "Churrasco fim de semana") e eu gero a lista.'}),d.jsxs("form",{onSubmit:R,children:[d.jsx("input",{autoFocus:!0,type:"text",value:_,onChange:W=>C(W.target.value),placeholder:"Ex: Ingredientes para bolo de cenoura...",className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-purple-500 mb-4"}),d.jsxs("button",{type:"submit",disabled:S||!_,className:"w-full py-2.5 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-bold shadow-md disabled:opacity-50 flex items-center justify-center gap-2",children:[S?d.jsx("span",{className:"animate-spin",children:""}):d.jsx(B6,{className:"w-5 h-5"}),"Gerar Lista"]})]})]})}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(cm,{className:"w-7 h-7 text-indigo-600"}),"Lista de Compras"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Organize sua ida ao mercado."})]}),d.jsxs("button",{onClick:()=>w(!0),disabled:!l,className:`hidden md:flex items-center gap-2 px-4 py-2 rounded-lg font-bold text-xs uppercase tracking-wide transition-all shadow-sm ${l?"bg-purple-100 text-purple-700 hover:bg-purple-200 dark:bg-purple-900/30 dark:text-purple-300":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:[d.jsx(Ks,{className:"w-4 h-4"})," Gerar com IA"]})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[d.jsxs("div",{className:"flex justify-between items-end mb-2",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-[10px] font-bold uppercase text-slate-400 tracking-wider mb-1",children:"Total Calculado"}),d.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:q(z)})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"text-[10px] font-bold uppercase text-slate-400 tracking-wider mb-1 flex items-center justify-end gap-1 cursor-pointer hover:text-indigo-500",onClick:()=>{I(!0),M(s.toString())},children:["Teto de Gastos (Viagem) ",d.jsx(ND,{className:"w-3 h-3"})]}),T?d.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[d.jsx("span",{className:"text-sm font-bold text-slate-500",children:"R$"}),d.jsx("input",{autoFocus:!0,type:"number",className:"w-24 p-1 text-right font-bold border rounded dark:bg-slate-700 dark:border-slate-600 dark:text-white",value:P,onChange:W=>M(W.target.value),onKeyDown:W=>W.key==="Enter"&&K(),onBlur:K})]}):d.jsx("p",{className:"text-xl font-bold text-slate-600 dark:text-slate-400 cursor-pointer hover:text-indigo-500",onClick:()=>{I(!0),M(s.toString())},children:s>0?q(s):"Definir Teto"})]})]}),s>0&&d.jsxs("div",{className:"relative w-full h-4 bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:[d.jsx("div",{className:`h-full transition-all duration-500 ${le}`,style:{width:`${Math.min(100,X)}%`}}),X>100&&d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("span",{className:"text-[9px] font-bold text-white drop-shadow-md animate-pulse flex items-center gap-1",children:[d.jsx(sm,{className:"w-3 h-3"})," ACIMA DO ORAMENTO"]})})]})]})]}),d.jsxs("form",{onSubmit:H,className:"flex gap-2",children:[d.jsxs("div",{className:"relative flex-1 flex gap-2",children:[d.jsx("input",{id:"new-item-input",type:"text",value:f,onChange:W=>h(W.target.value),placeholder:"Adicionar item...",className:"flex-1 p-3 pl-4 rounded-xl border border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm",autoComplete:"off"}),d.jsx("select",{value:y,onChange:W=>v(W.target.value),className:"hidden md:block w-32 p-3 rounded-xl border border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 shadow-sm text-sm",children:lp.map(W=>d.jsx("option",{value:W,children:W},W))})]}),d.jsx("button",{type:"submit",disabled:!f.trim(),className:"px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl shadow-md disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d.jsx(Er,{className:"w-6 h-6"})})]}),d.jsx("div",{className:"md:hidden overflow-x-auto pb-2 -mt-4",children:d.jsx("div",{className:"flex gap-2 px-1",children:lp.map(W=>d.jsx("button",{type:"button",onClick:()=>v(W),className:`px-3 py-1.5 rounded-full text-xs font-bold border whitespace-nowrap ${y===W?"bg-indigo-600 text-white border-indigo-600":"bg-white dark:bg-slate-800 text-slate-500 border-slate-200 dark:border-slate-700"}`,children:W},W))})}),d.jsx("div",{className:"space-y-6",children:t.length===0?d.jsxs("div",{className:"p-12 text-center text-slate-400 flex flex-col items-center bg-white dark:bg-slate-800 rounded-xl border border-dashed border-slate-200 dark:border-slate-700",children:[d.jsx(cm,{className:"w-16 h-16 mb-4 opacity-20"}),d.jsx("p",{children:"Sua lista est vazia."}),l&&d.jsx("p",{className:"text-sm mt-2 text-purple-500 cursor-pointer hover:underline",onClick:()=>w(!0),children:"Experimente usar a IA para criar uma lista!"})]}):lp.map(W=>{const Z=F[W];return!Z||Z.length===0?null:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden",children:[d.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 px-4 py-2 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[d.jsxs("h3",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider flex items-center gap-2",children:[d.jsx(iB,{className:"w-3 h-3"})," ",W]}),d.jsx("span",{className:"text-[10px] font-bold bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-1.5 py-0.5 rounded-full",children:Z.length})]}),d.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:Z.map(J=>d.jsxs("div",{className:`p-4 flex flex-col sm:flex-row sm:items-center gap-4 transition-colors ${J.isChecked?"bg-slate-50/50 dark:bg-slate-700/30":""}`,children:[d.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[d.jsx("button",{onClick:()=>n(J.id,{isChecked:!J.isChecked}),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all flex-shrink-0 ${J.isChecked?"bg-emerald-500 border-emerald-500 text-white":"border-slate-300 dark:border-slate-500 text-transparent hover:border-emerald-400"}`,children:d.jsx(Xx,{className:"w-4 h-4"})}),d.jsx("span",{className:`font-medium text-lg truncate ${J.isChecked?"text-slate-400 line-through":"text-slate-700 dark:text-slate-200"}`,children:J.name})]}),d.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-4 w-full sm:w-auto",children:[d.jsxs("div",{className:"flex items-center bg-slate-100 dark:bg-slate-700 rounded-lg p-1",children:[d.jsx("button",{onClick:()=>$(J.id,J.quantity,-1),className:"p-1.5 text-slate-500 hover:text-indigo-600",children:d.jsx(dB,{className:"w-4 h-4"})}),d.jsx("span",{className:"w-8 text-center font-bold text-slate-700 dark:text-white text-sm",children:J.quantity}),d.jsx("button",{onClick:()=>$(J.id,J.quantity,1),className:"p-1.5 text-slate-500 hover:text-indigo-600",children:d.jsx(Er,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 text-xs font-bold",children:"R$"}),d.jsx("input",{type:"number",step:"0.01",placeholder:"0,00",value:J.actualPrice===0?"":J.actualPrice,onChange:ve=>n(J.id,{actualPrice:parseFloat(ve.target.value)||0}),className:`w-24 pl-8 pr-2 py-2 rounded-lg border outline-none font-bold text-right transition-colors ${J.actualPrice>0?"border-emerald-300 dark:border-emerald-700 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400":"border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-white focus:border-indigo-500"}`})]}),d.jsx("button",{onClick:()=>r(J.id),className:"p-2 text-slate-300 hover:text-rose-500 transition-colors",children:d.jsx(wa,{className:"w-5 h-5"})})]})]},J.id))})]},W)})}),d.jsxs("div",{className:"fixed bottom-20 left-1/2 -translate-x-1/2 md:hidden z-30 flex gap-2 w-[90%] max-w-sm",children:[d.jsx("button",{onClick:()=>w(!0),disabled:!l,className:"bg-white dark:bg-slate-800 text-purple-600 p-4 rounded-full shadow-lg border border-purple-100 dark:border-purple-900 disabled:opacity-50",children:d.jsx(Ks,{className:"w-6 h-6"})}),d.jsxs("button",{onClick:()=>x(!0),disabled:t.length===0,className:"flex-1 bg-slate-900 text-white rounded-full shadow-xl font-bold flex items-center justify-between px-6 hover:scale-105 transition-transform disabled:opacity-70 disabled:scale-100",children:[d.jsxs("div",{className:"flex flex-col items-start leading-tight",children:[d.jsx("span",{className:"text-[10px] text-emerald-400 uppercase font-bold",children:"Total"}),d.jsx("span",{className:"text-lg",children:q(z)})]}),d.jsxs("div",{className:"flex items-center gap-2 text-sm bg-white/10 px-3 py-1.5 rounded-lg",children:["Finalizar ",d.jsx(r0,{className:"w-4 h-4"})]})]})]})]})},qIe={age:30,retirementAge:60,riskProfile:"moderate"},sO={conservative:.03,moderate:.05,aggressive:.07},HIe=({data:t,onSaveProfile:e,privacyMode:n,hasApiKey:r})=>{const[i,o]=U.useState(t.wealthProfile||qIe),[s,a]=U.useState(!t.wealthProfile),[l,u]=U.useState(null),[c,f]=U.useState(!1),h=U.useMemo(()=>t.investments.reduce((S,k)=>S+k.amount,0),[t.investments]),y=U.useMemo(()=>t.debts.filter(S=>S.status!=="paid").reduce((S,k)=>S+k.currentAmount,0),[t.debts]),v=h-y,b=U.useMemo(()=>{const S=t.transactions.filter(I=>I.type==="income").reduce((I,P)=>I+P.amount,0),k=t.transactions.filter(I=>I.type==="expense").reduce((I,P)=>I+P.amount,0);if(S===0&&k===0)return{income:5e3,expense:4e3,savings:1e3};const T=S-k;return{income:S,expense:k>0?k:S*.8,savings:T}},[t.transactions]),x=i.monthlyContributionOverride!==void 0?i.monthlyContributionOverride:Math.max(0,b.savings),E=U.useMemo(()=>{const S=[],k=new Date().getFullYear(),T=i.retirementAge-i.age+10,I=sO[i.riskProfile],P=x*12,M=b.expense*12;let j=v,D=null;for(let N=0;N<=T;N++){const V=k+N,z=i.age+N,F=j*.04;!D&&F>=M&&(D=V),S.push({year:V,age:z,patrimonio:Math.round(j),rendaPassiva:Math.round(F/12),custoVida:Math.round(b.expense)}),z<i.retirementAge?j=j*(1+I)+P:j=j*(1+I)}return{chartData:S,freedomYear:D}},[i,v,x,b.expense]),w=()=>{e(i),a(!1)},_=async()=>{f(!0);const S=await lee(t.investments,i.riskProfile,i.age);u(S),f(!1)},C=S=>n?"":`R$ ${S.toLocaleString("pt-BR",{maximumFractionDigits:0})}`;return d.jsxs("div",{className:"space-y-8 animate-fade-in pb-10",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 border-b border-slate-200 dark:border-slate-700 pb-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-lg shadow-lg shadow-yellow-500/20 text-white",children:d.jsx(K6,{className:"w-6 h-6"})}),"NEXO Private"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Planejamento patrimonial e alocao estratgica de ativos."})]}),!s&&d.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-lg text-sm font-semibold hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Ajustar Perfil"})]}),s&&d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border-l-4 border-yellow-500 animate-scale-in",children:[d.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[d.jsx(Zx,{className:"w-5 h-5 text-yellow-500"})," Parmetros da Simulao"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Idade Atual"}),d.jsx("input",{type:"number",value:i.age,onChange:S=>o({...i,age:Number(S.target.value)}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Idade Aposentadoria"}),d.jsx("input",{type:"number",value:i.retirementAge,onChange:S=>o({...i,retirementAge:Number(S.target.value)}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Perfil de Risco"}),d.jsxs("select",{value:i.riskProfile,onChange:S=>o({...i,riskProfile:S.target.value}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600",children:[d.jsx("option",{value:"conservative",children:"Conservador"}),d.jsx("option",{value:"moderate",children:"Moderado"}),d.jsx("option",{value:"aggressive",children:"Arrojado"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"Aporte Mensal (Simulado)"}),d.jsx("input",{type:"number",placeholder:`Atual: R$ ${b.savings.toFixed(0)}`,value:i.monthlyContributionOverride||"",onChange:S=>o({...i,monthlyContributionOverride:Number(S.target.value)}),className:"w-full mt-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600"})]})]}),d.jsx("div",{className:"mt-6 flex justify-end",children:d.jsx("button",{onClick:w,className:"bg-slate-900 dark:bg-white dark:text-slate-900 text-white px-6 py-2 rounded-lg font-bold hover:opacity-90 transition-opacity",children:"Atualizar Projeo"})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 bg-slate-900 text-white p-6 rounded-xl shadow-2xl relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl pointer-events-none"}),d.jsxs("div",{className:"relative z-10 flex justify-between items-start mb-6",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[d.jsx(Yi,{className:"w-5 h-5 text-emerald-400"}),"Liberdade Financeira"]}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Cruzamento entre Renda Passiva e Custo de Vida."})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-xs text-slate-400 uppercase font-bold",children:"Ano da Liberdade"}),d.jsx("p",{className:"text-3xl font-bold text-yellow-400",children:E.freedomYear||"Em construo..."})]})]}),d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(Zo,{width:"100%",height:"100%",children:d.jsxs(SIe,{data:E.chartData,margin:{top:10,right:10,left:0,bottom:0},children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"colorPassive",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),d.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})}),d.jsx(lu,{strokeDasharray:"3 3",vertical:!1,stroke:"#334155"}),d.jsx(mi,{dataKey:"year",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8"}}),d.jsx(gi,{hide:!0,domain:["auto","auto"]}),d.jsx(rn,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"8px",color:"#fff"},formatter:S=>[C(S),""]}),d.jsx(th,{y:b.expense,stroke:"#f43f5e",strokeDasharray:"3 3",label:{value:"Custo Vida",fill:"#f43f5e",fontSize:10}}),d.jsx(xs,{type:"monotone",dataKey:"rendaPassiva",stroke:"#10b981",fillOpacity:1,fill:"url(#colorPassive)",name:"Renda Passiva"})]})})})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-200 dark:border-slate-700 flex flex-col justify-center",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase",children:"Patrimnio Lquido Atual"}),d.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:C(v)})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Ativos Investidos"}),d.jsx("span",{className:"font-semibold text-emerald-600",children:C(h)})]}),d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Dvidas Totais"}),d.jsx("span",{className:"font-semibold text-rose-600",children:C(y)})]}),d.jsx("div",{className:"w-full h-px bg-slate-200 dark:bg-slate-700 my-2"}),d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Aporte Mensal"}),d.jsx("span",{className:"font-semibold text-indigo-600",children:C(x)})]}),d.jsxs("div",{className:"flex justify-between items-center text-sm",children:[d.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Rentabilidade Real (Proj.)"}),d.jsxs("span",{className:"font-semibold text-slate-800 dark:text-white",children:[(sO[i.riskProfile]*100).toFixed(1),"% a.a."]})]})]}),y>h&&d.jsxs("div",{className:"mt-6 bg-rose-50 dark:bg-rose-900/20 p-3 rounded-lg flex items-start gap-2",children:[d.jsx(_B,{className:"w-5 h-5 text-rose-600 shrink-0"}),d.jsx("p",{className:"text-xs text-rose-800 dark:text-rose-300",children:"Ateno: Seu patrimnio est negativo. A prioridade do planejamento deve ser a quitao de dvidas antes da acumulao."})]})]})]}),d.jsxs("div",{className:"mt-8",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(_D,{className:"w-6 h-6 text-purple-600"}),"Alocao Inteligente (IA)"]}),d.jsxs("button",{onClick:_,disabled:!r||c,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-semibold text-sm shadow-md",children:[c?d.jsx("span",{className:"animate-spin",children:""}):d.jsx(Ks,{className:"w-4 h-4"}),l?"Atualizar Anlise":"Gerar Estratgia Private"]})]}),!r&&d.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800 p-8 rounded-xl text-center border border-dashed border-slate-300 dark:border-slate-600",children:[d.jsx(Zx,{className:"w-10 h-10 text-slate-400 mx-auto mb-3"}),d.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Configure sua Chave API para desbloquear a inteligncia de alocao de ativos."})]}),r&&l&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in",children:[d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700",children:[d.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-3",children:"Diagnstico do Portflio"}),d.jsx("p",{className:"text-slate-600 dark:text-slate-300 text-sm leading-relaxed mb-6",children:l.analysisText}),d.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-3",children:"Plano de Ao Ttico"}),d.jsx("div",{className:"space-y-3",children:l.actionItems.map((S,k)=>d.jsxs("div",{className:"flex gap-3 p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg border border-slate-100 dark:border-slate-700",children:[d.jsx("div",{className:`
                                      w-10 h-10 rounded-full flex items-center justify-center shrink-0 font-bold text-xs
                                      ${S.type==="buy"?"bg-emerald-100 text-emerald-700":S.type==="sell"?"bg-rose-100 text-rose-700":"bg-blue-100 text-blue-700"}
                                  `,children:S.type==="buy"?"COMPRA":S.type==="sell"?"VENDA":"MANTER"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-bold text-slate-800 dark:text-white text-sm",children:S.title}),d.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:S.description})]})]},k))})]}),d.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl shadow-md border border-slate-200 dark:border-slate-700 flex flex-col items-center justify-center",children:[d.jsx("h4",{className:"font-bold text-slate-800 dark:text-white mb-2 self-start",children:"Atual vs. Ideal (Modelo)"}),d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(Zo,{width:"100%",height:"100%",children:d.jsxs(EIe,{cx:"50%",cy:"50%",outerRadius:"80%",data:l.suggestedAllocation.map(S=>{const k=l.currentAllocation.find(T=>T.name===S.name);return{subject:S.name,A:k?k.value:0,B:S.value,fullMark:100}}),children:[d.jsx(P3,{stroke:"#94a3b8"}),d.jsx(qu,{dataKey:"subject",tick:{fill:"#64748b",fontSize:10}}),d.jsx(Gu,{angle:30,domain:[0,100],tick:!1}),d.jsx(eu,{name:"Sua Carteira",dataKey:"A",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.3}),d.jsx(eu,{name:"Ideal (IA)",dataKey:"B",stroke:"#10b981",fill:"#10b981",fillOpacity:.3}),d.jsx(ui,{}),d.jsx(rn,{})]})})}),d.jsx("p",{className:"text-xs text-center text-slate-400 mt-2",children:"Comparativo de % de alocao por classe de ativo."})]})]})]})]})},Zv=[{label:"Azul",value:"blue",bg:"bg-blue-100 dark:bg-blue-900/30",border:"border-blue-200 dark:border-blue-800",text:"text-blue-700 dark:text-blue-300"},{label:"Verde",value:"green",bg:"bg-emerald-100 dark:bg-emerald-900/30",border:"border-emerald-200 dark:border-emerald-800",text:"text-emerald-700 dark:text-emerald-300"},{label:"Roxo",value:"purple",bg:"bg-purple-100 dark:bg-purple-900/30",border:"border-purple-200 dark:border-purple-800",text:"text-purple-700 dark:text-purple-300"},{label:"Rosa",value:"rose",bg:"bg-rose-100 dark:bg-rose-900/30",border:"border-rose-200 dark:border-rose-800",text:"text-rose-700 dark:text-rose-300"},{label:"Amarelo",value:"yellow",bg:"bg-amber-100 dark:bg-amber-900/30",border:"border-amber-200 dark:border-amber-800",text:"text-amber-700 dark:text-amber-300"}],WIe=({columns:t,onSaveColumn:e,onDeleteColumn:n,onAddTransaction:r,privacyMode:i})=>{const[o,s]=U.useState(""),[a,l]=U.useState(null),[u,c]=U.useState(""),[f,h]=U.useState(""),[y,v]=U.useState("blue"),[b,x]=U.useState(null),[E,w]=U.useState(null);U.useEffect(()=>{t.length===0&&[{id:"col-1",title:"Ideias / Sonhos",order:0,cards:[]},{id:"col-2",title:"Pesquisando Preo",order:1,cards:[]},{id:"col-3",title:"Prioridade / Prxima",order:2,cards:[]},{id:"col-4",title:"Concludo / Pago",order:3,isConclusion:!0,cards:[]}].forEach(V=>e(V))},[t.length]);const _=N=>{if(N.preventDefault(),!o.trim())return;const V={id:crypto.randomUUID(),title:o,order:t.length,cards:[]};e(V),s("")},C=N=>{x({id:N.id,title:N.title})},S=()=>{if(!b)return;const N=t.find(V=>V.id===b.id);N&&b.title.trim()&&e({...N,title:b.title}),x(null)},k=N=>{const V=t.find(F=>F.id===N);if(!V)return;const z={id:crypto.randomUUID(),title:u||"Novo Item",amount:parseFloat(f)||0,color:y};e({...V,cards:[...V.cards,z]}),l(null),c(""),h(""),v("blue")},T=(N,V)=>{const z=t.find(F=>F.id===N);z&&e({...z,cards:z.cards.filter(F=>F.id!==V)})},I=(N,V,z)=>{w({cardId:V,sourceColId:z}),N.dataTransfer.effectAllowed="move"},P=N=>{N.preventDefault(),N.dataTransfer.dropEffect="move"},M=(N,V)=>{if(N.preventDefault(),!E)return;const{cardId:z,sourceColId:F}=E;if(F===V){w(null);return}const H=t.find($=>$.id===F),R=t.find($=>$.id===V);if(H&&R){const $=H.cards.find(G=>G.id===z);$&&(e({...H,cards:H.cards.filter(G=>G.id!==z)}),e({...R,cards:[...R.cards,$]}))}w(null)},j=N=>i?"":`R$ ${N.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,D=[...t].sort((N,V)=>N.order-V.order);return d.jsxs("div",{className:"h-[calc(100vh-140px)] flex flex-col animate-fade-in",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4 shrink-0",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(y1,{className:"w-7 h-7 text-indigo-600"}),"NEXO Flow"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Organize seus planos: Sonhe, Pesquise, Priorize e Compre."})]}),d.jsxs("form",{onSubmit:_,className:"flex gap-2",children:[d.jsx("input",{type:"text",placeholder:"Nova Coluna...",value:o,onChange:N=>s(N.target.value),className:"px-3 py-2 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 text-sm"}),d.jsx("button",{type:"submit",className:"bg-slate-800 dark:bg-slate-700 text-white px-3 py-2 rounded-lg hover:bg-slate-900 transition-colors",children:d.jsx(Er,{className:"w-5 h-5"})})]})]}),d.jsx("style",{children:`
        .kanban-scroll::-webkit-scrollbar {
            height: 12px;
        }
        .kanban-scroll::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.05);
            border-radius: 10px;
            margin: 0 10px;
        }
        .kanban-scroll::-webkit-scrollbar-thumb {
            background-color: #94a3b8;
            border-radius: 10px;
            border: 3px solid transparent;
            background-clip: content-box;
        }
        .kanban-scroll::-webkit-scrollbar-thumb:hover {
            background-color: #64748b;
        }
        .dark .kanban-scroll::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.05);
        }
        .dark .kanban-scroll::-webkit-scrollbar-thumb {
            background-color: #475569;
        }
        .dark .kanban-scroll::-webkit-scrollbar-thumb:hover {
            background-color: #94a3b8;
        }
      `}),d.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden pb-4 kanban-scroll",children:d.jsx("div",{className:"flex h-full gap-4 min-w-max px-2",children:D.map(N=>d.jsxs("div",{className:`w-72 flex flex-col rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-800/50 backdrop-blur-sm transition-colors ${E&&E.sourceColId!==N.id?"bg-indigo-50/30 border-indigo-200 border-dashed":""}`,onDragOver:P,onDrop:V=>M(V,N.id),children:[d.jsxs("div",{className:`p-3 border-b border-slate-200 dark:border-slate-700 flex justify-between items-center group/header ${N.isConclusion?"bg-emerald-50 dark:bg-emerald-900/10 rounded-t-xl":""}`,children:[d.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[N.isConclusion&&d.jsx(Ls,{className:"w-4 h-4 text-emerald-600 flex-shrink-0"}),(b==null?void 0:b.id)===N.id?d.jsx("input",{autoFocus:!0,className:"w-full bg-white dark:bg-slate-900 border border-indigo-500 rounded px-1 py-0.5 text-sm font-bold text-slate-800 dark:text-white outline-none",value:b.title,onChange:V=>x({...b,title:V.target.value}),onBlur:S,onKeyDown:V=>V.key==="Enter"&&S()}):d.jsxs("div",{className:"flex items-center gap-2 overflow-hidden w-full",children:[d.jsx("h3",{className:"font-bold text-slate-700 dark:text-slate-200 text-sm uppercase tracking-wide truncate cursor-pointer hover:text-indigo-600 transition-colors",onDoubleClick:()=>C(N),title:"Duplo clique para renomear",children:N.title}),d.jsx("button",{onClick:()=>C(N),className:"opacity-0 group-hover/header:opacity-100 transition-opacity p-1 text-slate-400 hover:text-indigo-500",children:d.jsx(g1,{className:"w-3 h-3"})})]}),(b==null?void 0:b.id)!==N.id&&d.jsx("span",{className:"bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300 px-1.5 py-0.5 rounded text-[10px] font-bold flex-shrink-0",children:N.cards.length})]}),!N.isConclusion&&d.jsx("button",{onClick:()=>{confirm("Excluir coluna?")&&n(N.id)},className:"text-slate-400 hover:text-rose-500 ml-2",title:"Excluir Coluna",children:d.jsx(qn,{className:"w-4 h-4"})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:N.cards.map(V=>{const z=Zv.find(F=>F.value===V.color)||Zv[0];return d.jsxs("div",{draggable:!0,onDragStart:F=>I(F,V.id,N.id),className:`bg-white dark:bg-slate-700 p-3 rounded-lg shadow-sm border border-slate-200 dark:border-slate-600 cursor-grab active:cursor-grabbing hover:shadow-md transition-all group relative border-l-4 ${z.border.replace("border","border-l")}`,style:{borderLeftColor:`var(--${V.color}-500)`},children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("p",{className:"font-semibold text-slate-800 dark:text-white text-sm",children:V.title}),d.jsx("button",{onClick:()=>T(N.id,V.id),className:"text-slate-300 hover:text-rose-500 opacity-0 group-hover:opacity-100 transition-opacity",children:d.jsx(qn,{className:"w-3 h-3"})})]}),d.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[d.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-bold uppercase ${z.bg} ${z.text}`,children:V.amount>0?j(V.amount):"R$ -"}),d.jsx(Q6,{className:"w-3 h-3 text-slate-300"})]})]},V.id)})}),d.jsx("div",{className:"p-2 border-t border-slate-200 dark:border-slate-700 bg-white/50 dark:bg-slate-800/50 rounded-b-xl",children:a===N.id?d.jsxs("div",{className:"space-y-2 p-1 animate-scale-in",children:[d.jsx("input",{autoFocus:!0,className:"w-full p-2 text-sm border rounded dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"Ttulo...",value:u,onChange:V=>c(V.target.value)}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx("input",{type:"number",className:"w-20 p-2 text-sm border rounded dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"R$",value:f,onChange:V=>h(V.target.value)}),d.jsx("div",{className:"flex-1 flex justify-end gap-1",children:Zv.map(V=>d.jsx("button",{onClick:()=>v(V.value),className:`w-6 h-6 rounded-full border-2 ${y===V.value?"border-slate-500 scale-110":"border-transparent"} ${V.bg.split(" ")[0]}`},V.value))})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>l(null),className:"flex-1 py-1 text-xs text-slate-500 bg-slate-200 rounded",children:"Cancelar"}),d.jsx("button",{onClick:()=>k(N.id),className:"flex-1 py-1 text-xs text-white bg-indigo-600 rounded font-bold",children:"Adicionar"})]})]}):d.jsxs("button",{onClick:()=>l(N.id),className:"w-full py-2 flex items-center justify-center gap-1 text-slate-500 hover:text-indigo-600 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors text-sm font-medium",children:[d.jsx(Er,{className:"w-4 h-4"})," Adicionar Card"]})})]},N.id))})})]})},Ac=[{value:"yellow",bg:"bg-amber-100 dark:bg-amber-900/40",border:"border-amber-200 dark:border-amber-800"},{value:"slate",bg:"bg-white dark:bg-slate-800",border:"border-slate-200 dark:border-slate-700"},{value:"green",bg:"bg-emerald-100 dark:bg-emerald-900/40",border:"border-emerald-200 dark:border-emerald-800"},{value:"blue",bg:"bg-blue-100 dark:bg-blue-900/40",border:"border-blue-200 dark:border-blue-800"},{value:"rose",bg:"bg-rose-100 dark:bg-rose-900/40",border:"border-rose-200 dark:border-rose-800"},{value:"purple",bg:"bg-purple-100 dark:bg-purple-900/40",border:"border-purple-200 dark:border-purple-800"}],KIe=({notes:t,onAdd:e,onUpdate:n,onDelete:r,privacyMode:i})=>{var E,w;const[o,s]=U.useState(""),[a,l]=U.useState(!1),[u,c]=U.useState(null),[f,h]=U.useState({title:"",content:"",color:"slate",isPinned:!1}),y=t.filter(_=>_.title.toLowerCase().includes(o.toLowerCase())||_.content.toLowerCase().includes(o.toLowerCase())).sort((_,C)=>_.isPinned!==C.isPinned?_.isPinned?-1:1:new Date(C.date).getTime()-new Date(_.date).getTime()),v=_=>{_?(c(_.id),h({title:_.title,content:_.content,color:_.color,isPinned:_.isPinned})):(c(null),h({title:"",content:"",color:"slate",isPinned:!1})),l(!0)},b=_=>{_.preventDefault(),!(!f.title.trim()&&!f.content.trim())&&(u?n(u,{title:f.title,content:f.content,color:f.color,isPinned:f.isPinned}):e({title:f.title,content:f.content,color:f.color,isPinned:f.isPinned,date:new Date().toISOString()}),l(!1))},x=(_,C)=>{_.stopPropagation(),n(C.id,{isPinned:!C.isPinned})};return d.jsxs("div",{className:"space-y-6 animate-fade-in pb-20",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Rl,{className:"w-7 h-7 text-indigo-600"}),"NEXO Notes"]}),d.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Registre ideias, lembretes e tarefas rapidamente."})]}),d.jsxs("div",{className:"flex w-full md:w-auto gap-3 items-center",children:[d.jsxs("div",{className:"flex-1 relative group md:w-64",children:[d.jsx(tb,{className:"w-4 h-4 text-slate-400 absolute left-3 top-1/2 -translate-y-1/2 group-focus-within:text-indigo-500 transition-colors"}),d.jsx("input",{type:"text",placeholder:"Buscar notas...",value:o,onChange:_=>s(_.target.value),className:"w-full pl-9 pr-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl outline-none focus:ring-2 focus:ring-indigo-500 text-sm transition-all shadow-sm"})]}),d.jsxs("button",{onClick:()=>v(),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2.5 rounded-xl hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-500/20 font-bold text-sm",children:[d.jsx(Er,{className:"w-4 h-4"})," Nova Nota"]})]})]}),d.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-4 space-y-4",children:y.length===0?d.jsxs("div",{className:"col-span-full py-12 text-center text-slate-400 flex flex-col items-center",children:[d.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 p-4 rounded-full mb-3",children:d.jsx(Rl,{className:"w-8 h-8 opacity-50"})}),d.jsx("p",{children:"Nenhuma nota encontrada."})]}):y.map(_=>{const C=Ac.find(S=>S.value===_.color)||Ac[1];return d.jsxs("div",{onClick:()=>v(_),className:`break-inside-avoid rounded-xl p-5 shadow-sm border transition-all hover:shadow-md cursor-pointer group relative ${C.bg} ${C.border}`,children:[d.jsx("button",{onClick:S=>x(S,_),className:`absolute top-3 right-3 p-1.5 rounded-full transition-colors z-10 ${_.isPinned?"bg-slate-900/10 dark:bg-white/10 text-indigo-600 dark:text-indigo-400":"opacity-0 group-hover:opacity-100 hover:bg-black/5 dark:hover:bg-white/10 text-slate-400"}`,children:_.isPinned?d.jsx(sv,{className:"w-3 h-3 fill-current"}):d.jsx(sv,{className:"w-3 h-3"})}),_.title&&d.jsx("h3",{className:"font-bold text-slate-800 dark:text-white mb-2 pr-6",children:_.title}),d.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 whitespace-pre-wrap leading-relaxed",children:_.content}),d.jsxs("div",{className:"mt-4 flex justify-between items-center pt-2 border-t border-black/5 dark:border-white/5 opacity-60 group-hover:opacity-100 transition-opacity",children:[d.jsxs("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[d.jsx(Ki,{className:"w-3 h-3"}),new Date(_.date).toLocaleDateString("pt-BR")]}),d.jsx("button",{onClick:S=>{S.stopPropagation(),r(_.id)},className:"p-1 hover:text-rose-500 transition-colors",children:d.jsx(wa,{className:"w-3.5 h-3.5"})})]})]},_.id)})}),a&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:d.jsx("div",{className:`rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-scale-in border transition-colors ${((E=Ac.find(_=>_.value===f.color))==null?void 0:E.bg)||"bg-white dark:bg-slate-800"} ${((w=Ac.find(_=>_.value===f.color))==null?void 0:w.border)||"border-slate-200"}`,children:d.jsxs("form",{onSubmit:b,className:"flex flex-col h-full max-h-[90vh]",children:[d.jsxs("div",{className:"p-2 flex justify-between items-center",children:[d.jsx("div",{className:"flex gap-1",children:Ac.map(_=>d.jsx("button",{type:"button",onClick:()=>h({...f,color:_.value}),className:`w-6 h-6 rounded-full border-2 transition-transform hover:scale-110 ${_.value===f.color?"border-indigo-500 scale-110":"border-transparent"} ${_.bg.split(" ")[0]==="bg-white"?"bg-slate-200":_.bg.split(" ")[0]}`},_.value))}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{type:"button",onClick:()=>h({...f,isPinned:!f.isPinned}),className:`p-2 rounded-full transition-colors ${f.isPinned?"text-indigo-600 bg-indigo-500/10":"text-slate-400 hover:bg-black/5"}`,title:"Fixar nota",children:f.isPinned?d.jsx(sv,{className:"w-5 h-5 fill-current"}):d.jsx(mB,{className:"w-5 h-5"})}),d.jsx("button",{type:"button",onClick:()=>l(!1),className:"p-2 text-slate-500 hover:bg-black/5 rounded-full",children:d.jsx(qn,{className:"w-5 h-5"})})]})]}),d.jsx("div",{className:"px-6 pb-2",children:d.jsx("input",{type:"text",placeholder:"Ttulo",value:f.title,onChange:_=>h({...f,title:_.target.value}),className:"w-full text-xl font-bold bg-transparent border-none outline-none placeholder:text-slate-400 dark:placeholder:text-slate-500 text-slate-800 dark:text-white"})}),d.jsx("div",{className:"px-6 pb-6 flex-1 overflow-y-auto",children:d.jsx("textarea",{placeholder:"Digite sua nota aqui...",value:f.content,onChange:_=>h({...f,content:_.target.value}),className:"w-full h-64 bg-transparent border-none outline-none resize-none text-slate-700 dark:text-slate-200 placeholder:text-slate-400 dark:placeholder:text-slate-500"})}),d.jsx("div",{className:"p-4 flex justify-end border-t border-black/5 dark:border-white/5",children:d.jsx("button",{type:"submit",className:"px-6 py-2 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-lg font-bold shadow-md hover:opacity-90 transition-opacity",children:"Salvar"})})]})})})]})},YIe=({user:t,isGuest:e,mobileMenuOpen:n,setMobileMenuOpen:r,currentView:i,onNavigate:o,onLogout:s,privacyMode:a,setPrivacyMode:l,darkMode:u,setDarkMode:c,isFullscreen:f,toggleFullscreen:h,hasKey:y,onOpenKeyModal:v,onOpenDonateModal:b,onExportBackup:x,onImportBackup:E,onFactoryReset:w,canInstall:_,onInstall:C})=>{var I,P;const S=U.useRef(null),k=M=>{o(M),r(!1)},T=({view:M,icon:j,label:D,customClass:N=""})=>d.jsxs("button",{onClick:()=>k(M),className:`flex w-full items-center gap-3 px-3 py-2.5 rounded-lg transition-all text-sm font-medium ${N} ${i===M?"bg-indigo-600 text-white shadow-md shadow-indigo-900/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[d.jsx(j,{className:`w-5 h-5 ${i!==M&&N?"text-purple-400 group-hover:text-white":""}`}),d.jsx("div",{className:"flex-1 flex justify-between items-center",children:d.jsx("span",{children:D})})]});return d.jsxs("nav",{className:`
         fixed md:sticky top-0 left-0 h-screen z-50 w-72 md:w-64 bg-slate-900 border-r border-slate-800 
         transform transition-transform duration-300 ease-in-out shadow-2xl flex flex-col
         ${n?"translate-x-0":"-translate-x-full md:translate-x-0"}
       `,children:[d.jsxs("div",{className:"flex items-center justify-between p-4 md:p-4 border-b border-slate-800 shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"bg-indigo-600 p-2 rounded-xl shadow-lg shadow-indigo-900/50",children:d.jsx(p1,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-bold text-white tracking-tight leading-none",children:"NEXO"}),d.jsx("span",{className:"text-[10px] text-slate-400 font-medium uppercase tracking-wider",children:"Financial Hub"})]})]}),d.jsx("button",{onClick:()=>r(!1),className:"md:hidden text-slate-400 hover:text-white",children:d.jsx(qn,{className:"w-6 h-6"})})]}),d.jsx("div",{className:"p-4 shrink-0",children:d.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 bg-slate-800/50 rounded-lg border border-slate-700/50 backdrop-blur-sm",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center border border-slate-600 overflow-hidden text-xs text-white",children:t!=null&&t.photoURL?d.jsx("img",{src:t.photoURL,alt:"User"}):((I=t==null?void 0:t.email)==null?void 0:I.substring(0,2).toUpperCase())||"CV"}),d.jsxs("div",{className:"overflow-hidden flex-1 min-w-0",children:[d.jsx("p",{className:"text-xs font-bold text-white truncate",title:(t==null?void 0:t.email)||"Convidado",children:((P=t==null?void 0:t.email)==null?void 0:P.split("@")[0])||"Convidado"}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${t?"bg-emerald-500":"bg-amber-500"}`}),d.jsx("p",{className:"text-[10px] text-slate-400",children:t?"Online (Cloud)":"Offline (Local)"})]})]}),d.jsx("button",{onClick:s,className:"text-slate-400 hover:text-rose-500",title:"Sair",children:d.jsx(oB,{className:"w-4 h-4"})})]})}),d.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-2 flex flex-col no-scrollbar",children:[d.jsxs("div",{className:"mb-6 space-y-1",children:[d.jsx("p",{className:"px-2 text-xs font-bold text-indigo-400 uppercase tracking-wider mb-2",children:"Viso Geral"}),d.jsx(T,{view:Me.DASHBOARD,icon:rB,label:"Dashboard"}),d.jsx(T,{view:Me.TRANSACTIONS,icon:gB,label:"Transaes"}),d.jsx(T,{view:Me.KANBAN,icon:y1,label:"NEXO Flow"}),d.jsx(T,{view:Me.CALENDAR,icon:Ki,label:"Agenda"}),d.jsx(T,{view:Me.NOTES,icon:Rl,label:"NEXO Notes"})]}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("p",{className:"px-2 text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Gesto Financeira"}),d.jsx(T,{view:Me.BUDGETS,icon:oa,label:"Metas"}),d.jsx(T,{view:Me.SUBSCRIPTIONS,icon:ia,label:"Assinaturas"}),d.jsx(T,{view:Me.INVESTMENTS,icon:CD,label:"Investir"}),d.jsx(T,{view:Me.DEBTS,icon:Id,label:"Limpa Nome"}),d.jsx(T,{view:Me.SHOPPING_LIST,icon:cm,label:"Lista de Compras"}),d.jsx(T,{view:Me.WEALTH_PLANNER,icon:kD,label:"Planejamento",customClass:"text-amber-400"})]}),d.jsx("div",{className:"mt-6 pt-4 border-t border-slate-800",children:d.jsx("button",{onClick:()=>y?k(Me.AI_ASSISTANT):v(),className:`w-full relative group overflow-hidden rounded-xl p-[1px] transition-all duration-300 ${i===Me.AI_ASSISTANT?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 shadow-lg shadow-purple-500/20":"bg-slate-700/50 hover:bg-gradient-to-r hover:from-indigo-500 hover:via-purple-500 hover:to-pink-500"}`,children:d.jsxs("div",{className:"relative flex items-center gap-3 px-3 py-3 rounded-[11px] bg-slate-900 transition-colors h-full",children:[d.jsx("div",{className:`p-1.5 rounded-lg ${i===Me.AI_ASSISTANT?"bg-indigo-500/20":"bg-slate-800 group-hover:bg-slate-800"}`,children:d.jsx(lB,{className:`w-5 h-5 ${i===Me.AI_ASSISTANT?"text-indigo-400":"text-slate-400 group-hover:text-white"}`})}),d.jsxs("div",{className:"flex-1 text-left",children:[d.jsx("p",{className:`text-sm font-bold ${i===Me.AI_ASSISTANT?"text-white":"text-slate-300 group-hover:text-white"}`,children:"NEXO AI"}),d.jsx("p",{className:"text-[10px] text-slate-500 group-hover:text-slate-400",children:"Assistente Virtual"})]}),!y&&d.jsx(Ad,{className:"w-3 h-3 text-rose-500 animate-pulse"})]})})})]}),d.jsxs("div",{className:"mt-auto p-4 border-t border-slate-800 bg-slate-900 shrink-0",children:[_&&d.jsxs("button",{onClick:C,className:"w-full mb-4 flex items-center justify-center gap-2 p-2 rounded-lg bg-emerald-600 text-white text-xs font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-500/20",children:[d.jsx(wD,{className:"w-3 h-3"})," Instalar App (PWA)"]}),d.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2",children:"Configuraes & Dados"}),d.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[d.jsx("button",{onClick:h,className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-white transition-all border border-slate-800 hover:border-slate-700",title:f?"Sair da Tela Cheia":"Tela Cheia",children:f?d.jsx(cB,{className:"w-5 h-5"}):d.jsx(sB,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>l(!a),className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-white transition-all border border-slate-800 hover:border-slate-700",title:a?"Mostrar Valores":"Ocultar Valores",children:a?d.jsx(H6,{className:"w-5 h-5"}):d.jsx(W6,{className:"w-5 h-5"})}),d.jsx("button",{onClick:()=>c(!u),className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-white transition-all border border-slate-800 hover:border-slate-700",title:u?"Modo Claro":"Modo Escuro",children:u?d.jsx(AB,{className:"w-5 h-5"}):d.jsx(fB,{className:"w-5 h-5"})}),d.jsx("button",{onClick:v,className:`flex items-center justify-center p-2 rounded-lg transition-all border border-slate-800 hover:border-slate-700 ${y?"text-emerald-400 hover:bg-slate-800":"text-rose-400 hover:bg-slate-800 animate-pulse"}`,title:"Configurar Chave API",children:d.jsx(Ad,{className:"w-5 h-5"})}),d.jsx("button",{onClick:x,className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-blue-400 transition-all border border-slate-800 hover:border-slate-700",title:"Baixar Backup (Exportar)",children:d.jsx(Z6,{className:"w-5 h-5"})}),d.jsxs("label",{className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-blue-400 transition-all border border-slate-800 hover:border-slate-700 cursor-pointer",title:"Restaurar Backup (Importar)",children:[d.jsx(eB,{className:"w-5 h-5"}),d.jsx("input",{type:"file",ref:S,className:"hidden",accept:".json",onChange:E})]}),d.jsx("button",{onClick:w,className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-rose-500 transition-all border border-slate-800 hover:border-slate-700",title:"Resetar App (Fbrica)",children:d.jsx(wa,{className:"w-5 h-5"})}),d.jsx("button",{onClick:b,className:"flex items-center justify-center p-2 rounded-lg text-slate-400 hover:bg-slate-800 hover:text-pink-500 transition-all border border-slate-800 hover:border-slate-700",title:"Apoiar Projeto",children:d.jsx(ID,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"pt-4 mt-3 border-t border-slate-800 text-center",children:[d.jsx("p",{className:"text-[10px] text-slate-500 font-mono",children:"v2.4.0 Notes"}),d.jsxs("a",{href:"https://www.linkedin.com/in/alemagnobr/",target:"_blank",rel:"noopener noreferrer",className:"text-[10px] text-slate-400 hover:text-indigo-400 transition-colors flex items-center justify-center gap-1.5 mt-1",children:[d.jsx(PD,{className:"w-3 h-3"})," Alexandre Magno S. Linhares"]})]})]})]})},JIe=({showWelcome:t,isDonateModalOpen:e,isKeyModalOpen:n,userKeyInput:r,hasKey:i,PIX_KEY:o,PIX_NAME:s,setShowWelcome:a,setIsDonateModalOpen:l,setIsKeyModalOpen:u,setUserKeyInput:c,handleSaveKey:f,handleRemoveKey:h,handleFinishWelcome:y,copyPix:v})=>d.jsxs(d.Fragment,{children:[t&&d.jsx("div",{className:"fixed inset-0 bg-slate-900/90 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in overflow-y-auto",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-4xl border border-slate-200 dark:border-slate-700 animate-scale-in my-8",children:[d.jsx("div",{className:"bg-slate-900 p-8 text-white relative overflow-hidden rounded-t-2xl",children:d.jsxs("div",{className:"relative z-10",children:[d.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Bem-vindo ao NEXO"}),d.jsx("p",{className:"text-slate-300 text-lg",children:"Seu novo comando central financeiro."})]})}),d.jsxs("div",{className:"p-8",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-3 flex items-center gap-2",children:[d.jsx(Zx,{className:"w-5 h-5 text-indigo-500"})," Privacidade Total"]}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed",children:"Seus dados financeiros no so vendidos. No modo Offline, tudo fica no seu navegador."})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-3 flex items-center gap-2",children:[d.jsx(Kx,{className:"w-5 h-5 text-purple-500"})," Inteligncia Artificial"]}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 leading-relaxed",children:"Conecte sua chave do Gemini para ter um consultor financeiro pessoal."})]})]}),d.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-100 dark:border-indigo-800 p-4 rounded-xl mb-8",children:[d.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-200 mb-2",children:"J possui uma chave de API do Gemini? (Opcional)"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"password",value:r,onChange:b=>c(b.target.value),placeholder:"Cole sua chave AIza...",className:"flex-1 p-2 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 outline-none"}),d.jsxs("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-xs font-medium flex items-center gap-1 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors",children:["Obter Chave ",d.jsx(TD,{className:"w-3 h-3"})]})]})]}),d.jsxs("button",{onClick:y,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-xl font-bold text-lg shadow-xl shadow-indigo-500/30 transition-all flex items-center justify-center gap-2",children:["Comear Agora ",d.jsx(i0,{className:"w-5 h-5"})]})]})]})}),e&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-sm p-6 border border-slate-200 dark:border-slate-700 animate-scale-in text-center relative overflow-hidden",children:[d.jsx("button",{onClick:()=>l(!1),className:"absolute top-2 right-2 p-2 text-slate-400 hover:text-slate-600",children:d.jsx(qn,{className:"w-5 h-5"})}),d.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(J6,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),d.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:"Apoie o Projeto"}),d.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-6",children:"O NEXO  desenvolvido de forma independente. Considere apoiar! "}),d.jsxs("div",{className:"bg-slate-100 dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-700 mb-6 relative group cursor-pointer",onClick:v,children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase mb-1",children:"Chave Pix (CPF)"}),d.jsx("p",{className:"text-sm font-mono font-bold text-slate-700 dark:text-slate-200 break-all select-all",children:o}),d.jsx("div",{className:"absolute inset-0 bg-black/5 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity rounded-xl",children:d.jsxs("span",{className:"bg-white dark:bg-slate-800 text-xs font-bold px-2 py-1 rounded shadow flex items-center gap-1",children:[d.jsx(ED,{className:"w-3 h-3"})," Copiar"]})})]}),d.jsxs("p",{className:"text-xs text-slate-400 mb-6",children:["Nome: ",s]})]})}),n&&d.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",children:d.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 border border-slate-200 dark:border-slate-700 animate-scale-in flex flex-col max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4 flex-shrink-0",children:[d.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center gap-2",children:[d.jsx(Ad,{className:"w-6 h-6 text-indigo-500"})," Configurar Chave API"]}),d.jsx("button",{onClick:()=>u(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:d.jsx(qn,{className:"w-6 h-6"})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-3 rounded-lg text-sm text-indigo-800 dark:text-indigo-300 border border-indigo-100 dark:border-indigo-800",children:[d.jsxs("p",{className:"font-bold flex items-center gap-1 mb-1",children:[d.jsx(Ks,{className:"w-3 h-3"})," Por que preciso disso?"]}),d.jsx("p",{children:"O Google Gemini  o crebro por trs da IA do NEXO. Para us-lo gratuitamente, voc precisa gerar sua prpria chave de acesso."})]}),d.jsxs("ol",{className:"list-decimal list-inside text-sm text-slate-600 dark:text-slate-400 space-y-2 ml-1",children:[d.jsxs("li",{children:["Acesse o ",d.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noreferrer",className:"text-indigo-600 font-bold hover:underline",children:"Google AI Studio"}),"."]}),d.jsx("li",{children:"Faa login com sua conta Google."}),d.jsxs("li",{children:["Clique em ",d.jsx("strong",{children:"Create API Key"}),"."]}),d.jsx("li",{children:'Copie o cdigo gerado (comea com "AIza...") e cole abaixo.'})]}),d.jsx("input",{type:"password",value:r,onChange:b=>c(b.target.value),placeholder:"Cole sua chave aqui (AIza...)",className:"w-full p-3 rounded-lg border border-slate-300 dark:border-slate-600 dark:bg-slate-700 dark:text-white outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:f,disabled:!r,className:"flex-1 px-4 py-2 bg-indigo-600 text-white hover:bg-indigo-700 rounded-lg text-sm font-bold shadow-lg shadow-indigo-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Salvar e Conectar"}),d.jsx("button",{onClick:h,disabled:!i,className:"px-4 py-2 bg-rose-100 text-rose-600 hover:bg-rose-200 dark:bg-rose-900/30 dark:text-rose-400 dark:hover:bg-rose-900/50 rounded-lg text-sm font-bold disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Remover"})]})]})]})})]}),XIe={transactions:[],investments:[],budgets:[],debts:[],shoppingList:[],shoppingBudget:0,kanbanColumns:[],notes:[],unlockedBadges:[],walletBalance:0},QIe=(t,e)=>{const[n,r]=U.useState(XIe);return U.useEffect(()=>{if(t&&!e){const N=SH(t.uid,V=>{r(z=>({...z,...V}))});return()=>N()}},[t,e]),U.useEffect(()=>{t&&!e&&n.transactions.length>0&&n.walletBalance===void 0&&(console.log("Migrando para sistema de Saldo Otimizado..."),AH(t.uid))},[t,e,n.transactions.length,n.walletBalance]),U.useEffect(()=>{if(t||e){const V=setTimeout(async()=>{const z=new Date,F=z.getFullYear(),H=String(z.getMonth()+1).padStart(2,"0"),R=String(z.getDate()).padStart(2,"0"),$=`${F}-${H}-${R}`,G=n.transactions.filter(K=>K.status==="pending"&&K.autoPay&&K.date<=$);if(G.length>0)if(t)for(const K of G)await Rp(t.uid,K.id,{status:"paid"});else r(K=>({...K,transactions:K.transactions.map(q=>q.status==="pending"&&q.autoPay&&q.date<=$?{...q,status:"paid"}:q)}))},2e3);return()=>clearTimeout(V)}},[t,e,n.transactions]),U.useEffect(()=>{(t||e)&&(async()=>{const V=new Date,z=V.getMonth(),F=V.getFullYear(),H=new Map;n.transactions.forEach($=>{if($.isRecurring){const G=H.get($.description);(!G||new Date($.date)>new Date(G.date))&&H.set($.description,$)}});const R=[];if(H.forEach(($,G)=>{const[K,q]=$.date.split("-").map(Number),X=new Date(F,z,1),le=new Date(K,q-1,1);if(X<le)return;if(!n.transactions.some(Z=>{const J=new Date(Z.date);return Z.description===G&&Z.amount===$.amount&&J.getMonth()===z&&J.getFullYear()===F})){const J=new Date($.date+"T00:00:00").getDate(),ve=new Date(F,z+1,0).getDate(),se=Math.min(J,ve),be=String(z+1).padStart(2,"0"),de=String(se).padStart(2,"0"),ne=`${F}-${be}-${de}`;R.push({...$,id:crypto.randomUUID(),date:ne,status:"pending",isRecurring:!0})}}),R.length>0)if(t)for(const $ of R)await dk(t.uid,$);else r($=>({...$,transactions:[...$.transactions,...R]}))})()},[t,e,n.transactions]),{data:n,setData:r,actions:{addTransaction:async N=>{const V={...N,id:crypto.randomUUID()};t?await dk(t.uid,V):r(z=>({...z,transactions:[...z.transactions,V]}))},updateTransaction:async(N,V)=>{t?await Rp(t.uid,N,V):r(z=>({...z,transactions:z.transactions.map(F=>F.id===N?{...F,...V}:F)}))},deleteTransaction:async N=>{t?await TH(t.uid,N):r(V=>({...V,transactions:V.transactions.filter(z=>z.id!==N)}))},toggleTransactionStatus:async N=>{const V=n.transactions.find(F=>F.id===N);if(!V)return;const z=V.status==="paid"?"pending":"paid";if(t){if(await Rp(t.uid,N,{status:z}),V.debtId){const F=n.debts.find(H=>H.id===V.debtId);if(F){const $=n.transactions.filter(G=>G.debtId===V.debtId).every(G=>G.id===N?z==="paid":G.status==="paid")?"paid":"agreement";F.status!==$&&await fk(t.uid,F.id,{status:$})}}}else r(F=>{const H=F.transactions.map($=>$.id===N?{...$,status:z}:$);let R=F.debts;if(V.debtId){const K=H.filter(q=>q.debtId===V.debtId).every(q=>q.status==="paid")?"paid":"agreement";R=F.debts.map(q=>q.id===V.debtId?{...q,status:K}:q)}return{...F,transactions:H,debts:R}})},addInvestment:async N=>{const V={...N,id:crypto.randomUUID()};t?await IH(t.uid,V):r(z=>({...z,investments:[...z.investments,V]}))},updateInvestment:async(N,V)=>{t?await kH(t.uid,N,V):r(z=>({...z,investments:z.investments.map(F=>F.id===N?{...F,...V}:F)}))},deleteInvestment:async N=>{t?await CH(t.uid,N):r(V=>({...V,investments:V.investments.filter(z=>z.id!==N)}))},addBudget:async N=>{const V={...N,id:crypto.randomUUID()};t?await PH(t.uid,V):r(z=>({...z,budgets:[...z.budgets||[],V]}))},updateBudget:async(N,V)=>{t?await NH(t.uid,N,V):r(z=>({...z,budgets:z.budgets.map(F=>F.id===N?{...F,...V}:F)}))},deleteBudget:async N=>{t?await RH(t.uid,N):r(V=>({...V,budgets:V.budgets.filter(z=>z.id!==N)}))},addDebt:async N=>{const V={...N,id:crypto.randomUUID()};t?await OH(t.uid,V):r(z=>({...z,debts:[...z.debts||[],V]}))},updateDebt:async(N,V)=>{t?await fk(t.uid,N,V):r(z=>({...z,debts:z.debts.map(F=>F.id===N?{...F,...V}:F)}))},deleteDebt:async N=>{t?await MH(t.uid,N):r(V=>({...V,debts:V.debts.filter(z=>z.id!==N)}))},addShoppingItem:async N=>{const V={...N,id:crypto.randomUUID()};t?await DH(t.uid,V):r(z=>({...z,shoppingList:[...z.shoppingList||[],V]}))},updateShoppingItem:async(N,V)=>{t?await jH(t.uid,N,V):r(z=>({...z,shoppingList:z.shoppingList.map(F=>F.id===N?{...F,...V}:F)}))},deleteShoppingItem:async N=>{t?await $H(t.uid,N):r(V=>({...V,shoppingList:V.shoppingList.filter(z=>z.id!==N)}))},clearShoppingList:async()=>{t?await LH(t.uid):r(N=>({...N,shoppingList:[]}))},setShoppingBudget:async N=>{t?await FH(t.uid,N):r(V=>({...V,shoppingBudget:N}))},saveKanbanColumn:async N=>{t?await VH(t.uid,N):r(V=>V.kanbanColumns.some(F=>F.id===N.id)?{...V,kanbanColumns:V.kanbanColumns.map(F=>F.id===N.id?N:F)}:{...V,kanbanColumns:[...V.kanbanColumns,N]})},deleteKanbanColumn:async N=>{t?await UH(t.uid,N):r(V=>({...V,kanbanColumns:V.kanbanColumns.filter(z=>z.id!==N)}))},addNote:async N=>{const V={...N,id:crypto.randomUUID()};t?await BH(t.uid,V):r(z=>({...z,notes:[V,...z.notes]}))},updateNote:async(N,V)=>{t?await zH(t.uid,N,V):r(z=>({...z,notes:z.notes.map(F=>F.id===N?{...F,...V}:F)}))},deleteNote:async N=>{t?await GH(t.uid,N):r(V=>({...V,notes:V.notes.filter(z=>z.id!==N)}))},unlockBadge:N=>{n.unlockedBadges.includes(N)||(t?qH(t.uid,N,n.unlockedBadges):r(V=>({...V,unlockedBadges:[...V.unlockedBadges,N]})))},saveWealthProfile:async N=>{t?await HH(t.uid,N):r(V=>({...V,wealthProfile:N}))}}}},aO="028.268.001-24",ZIe="Alexandre Magno dos Santos Linhares",eke=()=>{const[t,e]=U.useState(null),[n,r]=U.useState(!1),[i,o]=U.useState(!0),{data:s,setData:a,actions:l}=QIe(t,n),[u,c]=U.useState(Me.DASHBOARD),[f,h]=U.useState(!1),[y,v]=U.useState(!1),[b,x]=U.useState(!1),[E,w]=U.useState(!1),[_,C]=U.useState(null),[S,k]=U.useState(0),[T,I]=U.useState(!1),[P,M]=U.useState(""),[j,D]=U.useState(!1),[N,V]=U.useState(!1),[z,F]=U.useState(!1);U.useRef(null),U.useEffect(()=>{const de=ne=>{ne.preventDefault(),C(ne)};return window.addEventListener("beforeinstallprompt",de),()=>window.removeEventListener("beforeinstallprompt",de)},[]);const H=async()=>{if(!_)return;_.prompt();const{outcome:de}=await _.userChoice;C(null)};U.useEffect(()=>{const de=c9(Di,async ne=>{if(e(ne),o(!1),ne){r(!1);const De=ck("guest_user");De.transactions.length>0&&confirm("Encontramos dados no modo convidado. Deseja migrar para sua conta na nuvem?")&&(await hk(ne.uid,De),localStorage.removeItem("finansmart_data_v2_guest_user"))}});return()=>de()},[]),U.useEffect(()=>{!i&&n&&EH(s,"guest_user")},[s,n,i]);const R=()=>{r(!0);const de=ck("guest_user");a(de)},$=async()=>{n?(r(!1),a({transactions:[],investments:[],budgets:[],debts:[],shoppingList:[],unlockedBadges:[],kanbanColumns:[],notes:[]})):await d9(Di)};U.useEffect(()=>{D(YC()),YC()&&M(Pu()||""),!localStorage.getItem("nexo_welcome_seen")&&(t||n)&&F(!0)},[t,n]);const G=()=>{P.trim()&&(KC(P.trim()),D(!0),I(!1),alert("Chave API salva no seu navegador com sucesso!"))},K=()=>{iee(),M(""),D(!1),I(!1)},q=()=>{P.trim()&&(KC(P.trim()),D(!0)),localStorage.setItem("nexo_welcome_seen","true"),F(!1)},X=()=>{navigator.clipboard.writeText(aO),alert("Chave Pix copiada!")};U.useEffect(()=>{y?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[y]);const le=()=>{document.fullscreenElement?(document.exitFullscreen&&document.exitFullscreen(),x(!1)):(document.documentElement.requestFullscreen().catch(de=>console.error(de)),x(!0))},W=()=>{confirm(` ATENO: Isso apagar TODOS os dados, configuraes e chave API deste navegador.

Deseja realmente resetar o app para o estado de fbrica?`)&&(localStorage.clear(),window.location.reload())},Z=()=>{const de=JSON.stringify(s),ne="data:application/json;charset=utf-8,"+encodeURIComponent(de),De=document.createElement("a");De.setAttribute("href",ne),De.setAttribute("download","nexo_backup.json"),De.click()},J=de=>{var Ce;const ne=(Ce=de.target.files)==null?void 0:Ce[0];if(!ne)return;const De=new FileReader;De.onload=async nt=>{var rt;try{const it=JSON.parse((rt=nt.target)==null?void 0:rt.result);confirm("Isso substituir seus dados atuais. Tem certeza?")&&(t?await hk(t.uid,it):a(it),alert("Backup restaurado com sucesso!"))}catch{alert("Erro ao ler arquivo de backup.")}},De.readAsText(ne)},ve=de=>{c(de),w(!1),setTimeout(()=>k(Date.now()),50)},se=async(de,ne,De)=>{const Ce={description:`Compra de Mercado (${new Date().toLocaleDateString()})`,amount:de,type:"expense",category:De,date:new Date().toISOString().split("T")[0],status:"paid",paymentMethod:ne,isRecurring:!1};await l.addTransaction(Ce),await l.clearShoppingList(),alert("Compra finalizada! Despesa registrada com sucesso."),c(Me.TRANSACTIONS)},be=()=>{switch(u){case Me.DASHBOARD:return d.jsx(ZR,{data:s,privacyMode:f,onUnlockBadge:l.unlockBadge,onNavigate:de=>c(de)});case Me.TRANSACTIONS:return d.jsx(IIe,{transactions:s.transactions,budgets:s.budgets,onAdd:l.addTransaction,onUpdate:l.updateTransaction,onDelete:l.deleteTransaction,onToggleStatus:l.toggleTransactionStatus,onNavigate:de=>c(de),privacyMode:f,hasApiKey:j,quickActionSignal:S});case Me.INVESTMENTS:return d.jsx(kIe,{investments:s.investments,onAdd:l.addInvestment,onUpdate:l.updateInvestment,onDelete:l.deleteInvestment,onNavigate:de=>c(de),privacyMode:f,hasApiKey:j,quickActionSignal:S});case Me.SHOPPING_LIST:return d.jsx(GIe,{items:s.shoppingList||[],onAdd:l.addShoppingItem,onUpdate:l.updateShoppingItem,onDelete:l.deleteShoppingItem,onClearList:l.clearShoppingList,onFinishShopping:se,shoppingBudget:s.shoppingBudget,onUpdateBudget:l.setShoppingBudget,hasApiKey:j,privacyMode:f,quickActionSignal:S});case Me.BUDGETS:return d.jsx(PIe,{budgets:s.budgets||[],transactions:s.transactions,investments:s.investments||[],onAdd:l.addBudget,onUpdate:l.updateBudget,onDelete:l.deleteBudget,onNavigate:de=>c(de),privacyMode:f,quickActionSignal:S});case Me.SUBSCRIPTIONS:return d.jsx(NIe,{transactions:s.transactions,onUpdateTransaction:l.updateTransaction,onDeleteTransaction:l.deleteTransaction,privacyMode:f});case Me.CALENDAR:return d.jsx(VIe,{transactions:s.transactions,budgets:s.budgets,onAddTransaction:l.addTransaction,privacyMode:f});case Me.DEBTS:return d.jsx(zIe,{debts:s.debts||[],onAdd:l.addDebt,onUpdate:l.updateDebt,onDelete:l.deleteDebt,onAddTransaction:l.addTransaction,privacyMode:f,quickActionSignal:S});case Me.AI_ASSISTANT:return d.jsx(UIe,{data:s,privacyMode:f});case Me.WEALTH_PLANNER:return d.jsx(HIe,{data:s,onSaveProfile:l.saveWealthProfile,privacyMode:f,hasApiKey:j});case Me.KANBAN:return d.jsx(WIe,{columns:s.kanbanColumns||[],onSaveColumn:l.saveKanbanColumn,onDeleteColumn:l.deleteKanbanColumn,onAddTransaction:de=>{l.addTransaction(de),alert("Transao criada a partir do card!"),c(Me.TRANSACTIONS)},privacyMode:f});case Me.NOTES:return d.jsx(KIe,{notes:s.notes||[],onAdd:l.addNote,onUpdate:l.updateNote,onDelete:l.deleteNote,privacyMode:f});default:return d.jsx(ZR,{data:s,privacyMode:f,onUnlockBadge:l.unlockBadge,onNavigate:de=>c(de)})}};return i?d.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:d.jsx(o0,{className:"w-12 h-12 text-indigo-500 animate-spin"})}):!t&&!n?d.jsx(cee,{onGuestLogin:R}):d.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex flex-col md:flex-row font-sans text-slate-900 dark:text-slate-100 transition-colors duration-300",children:[E&&d.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 md:hidden backdrop-blur-sm animate-fade-in",onClick:()=>w(!1)}),d.jsx(YIe,{user:t,isGuest:n,mobileMenuOpen:E,setMobileMenuOpen:w,currentView:u,onNavigate:de=>c(de),onLogout:$,privacyMode:f,setPrivacyMode:h,darkMode:y,setDarkMode:v,isFullscreen:b,toggleFullscreen:le,hasKey:j,onOpenKeyModal:()=>I(!0),onOpenDonateModal:()=>V(!0),onExportBackup:Z,onImportBackup:J,onFactoryReset:W,canInstall:!!_,onInstall:H}),d.jsxs("main",{className:"flex-1 p-4 md:p-8 pt-20 md:pt-8 pb-8 overflow-y-auto h-screen scroll-smooth",children:[d.jsxs("div",{className:"md:hidden fixed top-0 left-0 right-0 bg-slate-900 p-4 border-b border-slate-800 z-30 flex items-center justify-between shadow-md",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>w(!0),className:"text-slate-300 hover:text-white p-1",children:d.jsx(aB,{className:"w-6 h-6"})}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"bg-indigo-600 p-1.5 rounded-lg",children:d.jsx(p1,{className:"w-4 h-4 text-white"})}),d.jsx("span",{className:"font-bold text-white tracking-tight",children:"NEXO"})]})]}),d.jsxs("div",{className:"flex gap-4 items-center",children:[_&&d.jsx("button",{onClick:H,className:"text-emerald-400 hover:text-white animate-pulse",title:"Instalar Aplicativo",children:d.jsx(wD,{className:"w-5 h-5"})}),d.jsxs("button",{onClick:()=>I(!0),className:`${j?"text-emerald-400":"text-rose-500"} hover:text-white relative`,children:[d.jsx(Ad,{className:"w-5 h-5"}),!j&&d.jsxs("span",{className:"absolute -top-1 -right-1 flex h-2.5 w-2.5",children:[d.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-rose-400 opacity-75"}),d.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-rose-500"})]})]})]})]}),d.jsxs("div",{className:"max-w-7xl mx-auto animate-fade-in",children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:[d.jsxs("button",{onClick:()=>ve(Me.TRANSACTIONS),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-blue-100 dark:border-blue-900/30 hover:border-blue-300 transition-all group",children:[d.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/40 p-2.5 rounded-lg group-hover:bg-blue-600 group-hover:text-white transition-colors text-blue-600 dark:text-blue-400",children:d.jsx(eb,{className:"w-5 h-5"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Nova"}),d.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Transao"})]})]}),d.jsxs("button",{onClick:()=>ve(Me.SHOPPING_LIST),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-emerald-100 dark:border-emerald-900/30 hover:border-emerald-300 transition-all group",children:[d.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/40 p-2.5 rounded-lg group-hover:bg-emerald-600 group-hover:text-white transition-colors text-emerald-600 dark:text-emerald-400",children:d.jsx(cm,{className:"w-5 h-5"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Calculadora"}),d.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Mercado"})]})]}),d.jsxs("button",{onClick:()=>ve(Me.DEBTS),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-rose-100 dark:border-rose-900/30 hover:border-rose-300 transition-all group",children:[d.jsx("div",{className:"bg-rose-100 dark:bg-rose-900/40 p-2.5 rounded-lg group-hover:bg-rose-600 group-hover:text-white transition-colors text-rose-600 dark:text-rose-400",children:d.jsx(Id,{className:"w-5 h-5"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Registrar"}),d.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Dvida"})]})]}),d.jsxs("button",{onClick:()=>ve(Me.BUDGETS),className:"flex items-center gap-3 p-4 bg-white dark:bg-slate-800 rounded-xl shadow-sm hover:shadow-md border border-pink-100 dark:border-pink-900/30 hover:border-pink-300 transition-all group",children:[d.jsx("div",{className:"bg-pink-100 dark:bg-pink-900/40 p-2.5 rounded-lg group-hover:bg-pink-600 group-hover:text-white transition-colors text-pink-600 dark:text-pink-400",children:d.jsx(oa,{className:"w-5 h-5"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:"Definir"}),d.jsx("p",{className:"font-bold text-slate-700 dark:text-white",children:"Meta/Limite"})]})]})]}),be()]})]}),d.jsx(JIe,{showWelcome:z,isDonateModalOpen:N,isKeyModalOpen:T,userKeyInput:P,hasKey:j,PIX_KEY:aO,PIX_NAME:ZIe,setShowWelcome:F,setIsDonateModalOpen:V,setIsKeyModalOpen:I,setUserKeyInput:M,handleSaveKey:G,handleRemoveKey:K,handleFinishWelcome:q,copyPix:X})]})};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});const jF=document.getElementById("root");if(!jF)throw new Error("Could not find root element to mount to");const tke=ex.createRoot(jF);tke.render(d.jsx(B.StrictMode,{children:d.jsx(eke,{})}));
